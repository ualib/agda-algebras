---
layout: default
title : "Demos.HSP module"
date : "2022-04-27"
author: "the agda-algebras development team"
---

### <a id="introduction">Introduction</a>

The Agda Universal Algebra Library ([agda-algebras][]) formalizes the foundations of universal 
algebra in intensional Martin-L√∂f type theory ([MLTT][]) using [Agda][] () ¬†[@Norell:2007; @agdaref].
The library includes a collection of definitions and verified theorems originated in classical 
(set-theory based) universal algebra and equational logic, but adapted to [MLTT][].

The first major milestone of the project is a complete formalization of *Birkhoff's variety
theorem* (also known as the *HSP theorem*)¬†[@Birkhoff:1935]. To the best of our knowledge, this
is the first time Birkhoff's celebrated 1935 result has been formalized in [MLTT][].[^1]

Our first attempt to formalize Birkhoff's theorem suffered from two flaws.[^2] First, we 
assumed function extensionality in [MLTT][]; consequently, it was unclear whether the
formalization was fully constructive. Second, an inconsistency could be contrived by taking the
type `X`, representing an arbitrary collection of variable symbols, to be the two element type
(see ¬ß[7](#sec:discuss){reference-type="ref" reference="sec:discuss"} for details). To resolve
these issues, we developed a new formalization of the HSP theorem based on *setoids* and
rewrote much of the [agda-algebras][] library to support this approach. This enabled us to
avoid function extensionality altogether. Moreover, the type `X` of variable symbols was
treated with more care using the *context* and *environment* types that Andreas Abel uses
in¬†[@Abel:2021] to formalize Birkhoff's completeness theorem. These design choices are
discussed further in ¬ß[2.2](#setoids){reference-type="ref"
reference="setoids"}--[2.3](#setoid-functions){reference-type="ref"
reference="setoid-functions"}.

What follows is a self-contained formal proof of the HSP theorem in [Agda][]. This is achieved
by extracting a subset of the library, including only the pieces needed for the proof, into a
single literate file.[^3] For spaces reasons, we elide some inessential parts, but strive to
preserve the essential content and character of the development. Specifically, routine or
overly technical components, as well as anything that does not seem to offer insight into the
central ideas of the proof are omitted. (The file [[src/Demos/HSP.lagda]{.sans-serif}](https://github.com/ualib/agda-algebras/blob/master/src/Demos/HSP.lagda) mentioned above includes the full proof.)

<!-- We include here every line of code of our new proof of Birkhoff's theorem in a single module, -->
<!-- presented as a literate document,[^4]. Apart from a few dozen imports from the , the module is self-contained. -->

In this paper, we highlight some of the more challenging aspects of formalizing universal algebra in type theory. To some extent, this is a sobering glimpse of the significant technical hurdles that must be overcome to do mathematics in dependent type theory. Nonetheless, we hope to demonstrate that [MLTT][] is a relatively natural language for formalizing universal algebra. Indeed, we believe that researchers with sufficient patience and resolve can reap the substantial rewards of deeper insight and greater confidence in their results by using type
theory and a proof assistant like [Agda][]. On the other hand, this paper is probably not the best place to learn about the latter, since we assume the reader is already familiar with [MLTT][] and [Agda][]. In summary, our main contribution is to show that a straightforward but very general representation of algebraic structures in dependent type theory is quite practical, as we demonstrate by formalizing a major seminal result of universal algebra.

### <a id="preliminaries">Preliminaries</a>

#### <a id="logical-foundations">Logical foundations</a>

To best emulate [MLTT][], we use
<pre class="Agda">
<a id="3945" class="Symbol">{-#</a> <a id="3949" class="Keyword">OPTIONS</a> <a id="3957" class="Pragma">--without-K</a> <a id="3969" class="Pragma">--exact-split</a> <a id="3983" class="Pragma">--safe</a> <a id="3990" class="Symbol">#-}</a>
</pre>
 disables [Streicher's K axiom](https://ncatlab.org/nlab/show/axiom+K+%28type+theory%29); 
directs [Agda][] to accept only definitions behaving like *judgmental* equalities;
**safe** ensures that nothing is postulated outright.
(See¬†[@agdaref-axiomk; @agdaref-safeagda; @agdatools-patternmatching].)

Here are brief descriptions of these options, accompanied by links to
related documentation.

*  **without-K** disables [Streicher's K axiom](https://ncatlab.org/nlab/show/axiom+K+%28type+theory%29). See
   the [section on axiom K](https://agda.readthedocs.io/en/v2.6.1/language/without-k.html) in the [Agda Language Reference Manual](https://agda.readthedocs.io/en/v2.6.1.3/language)¬†[@agdaref-axiomk].

*  **exact-split** directs [Agda][] to accept only definitions behaving like *judgmental* equalities. See the [Pattern matching and equality](https://agda.readthedocs.io/en/v2.6.1/tools/command-line-options.html#pattern-matching-and-equality) section of the [Agda Tools](https://agda.readthedocs.io/en/v2.6.1.3/tools/) documentation¬†[@agdatools-patternmatching].

*  **safe** ensures that nothing is postulated outright---every non-axiom has to be an explicit assumption (e.g., an argument to a function or module). See the [cmdoption-safe](https://agda.readthedocs.io/en/v2.6.1/tools/command-line-options.html#cmdoption-safe) section of¬†[@agdaref-safeagda].

We also make use of the following definitions from [Agda][]'s standard library (ver.¬†1.7).

<pre class="Agda">
<a id="5476" class="Comment">-- Import universe levels and Signature type (described below) from the agda-algebras library.</a>
<a id="5571" class="Keyword">open</a> <a id="5576" class="Keyword">import</a> <a id="5583" href="Overture.html" class="Module">Overture</a> <a id="5592" class="Keyword">using</a> <a id="5598" class="Symbol">(</a> <a id="5600" href="Overture.Signatures.html#648" class="Generalizable">ùìû</a> <a id="5602" class="Symbol">;</a> <a id="5604" href="Overture.Signatures.html#650" class="Generalizable">ùì•</a> <a id="5606" class="Symbol">;</a> <a id="5608" href="Overture.Signatures.html#3264" class="Function">Signature</a> <a id="5618" class="Symbol">)</a>
<a id="5620" class="Keyword">module</a> <a id="5627" href="Demos.HSP.html" class="Module">Demos.HSP</a> <a id="5637" class="Symbol">{</a><a id="5638" href="Demos.HSP.html#5638" class="Bound">ùëÜ</a> <a id="5640" class="Symbol">:</a> <a id="5642" href="Overture.Signatures.html#3264" class="Function">Signature</a> <a id="5652" href="Overture.Signatures.html#648" class="Generalizable">ùìû</a> <a id="5654" href="Overture.Signatures.html#650" class="Generalizable">ùì•</a><a id="5655" class="Symbol">}</a> <a id="5657" class="Keyword">where</a>

<a id="5664" class="Comment">-- Import 16 definitions from the Agda Standard Library.</a>
<a id="5721" class="Keyword">open</a> <a id="5726" class="Keyword">import</a> <a id="5733" href="Data.Unit.Polymorphic.html" class="Module">Data.Unit.Polymorphic</a>  <a id="5756" class="Keyword">using</a>  <a id="5763" class="Symbol">(</a> <a id="5765" href="Data.Unit.Polymorphic.Base.html#489" class="Function">‚ä§</a> <a id="5767" class="Symbol">;</a> <a id="5769" href="Data.Unit.Polymorphic.Base.html#533" class="Function">tt</a> <a id="5772" class="Symbol">)</a>
<a id="5774" class="Keyword">open</a> <a id="5779" class="Keyword">import</a> <a id="5786" href="Function.html" class="Module">Function</a>               <a id="5809" class="Keyword">using</a>  <a id="5816" class="Symbol">(</a> <a id="5818" href="Function.Base.html#704" class="Function">id</a> <a id="5821" class="Symbol">;</a> <a id="5823" href="Function.Base.html#1115" class="Function Operator">_‚àò_</a> <a id="5827" class="Symbol">;</a> <a id="5829" href="Function.Base.html#1638" class="Function">flip</a> <a id="5834" class="Symbol">)</a>
<a id="5836" class="Keyword">open</a> <a id="5841" class="Keyword">import</a> <a id="5848" href="Level.html" class="Module">Level</a>                  <a id="5871" class="Keyword">using</a>  <a id="5878" class="Symbol">(</a> <a id="5880" href="Agda.Primitive.html#742" class="Postulate">Level</a> <a id="5886" class="Symbol">;</a>  <a id="5889" href="Agda.Primitive.html#961" class="Primitive Operator">_‚äî_</a> <a id="5893" class="Symbol">;</a> <a id="5895" href="Agda.Primitive.html#931" class="Primitive">suc</a> <a id="5899" class="Symbol">)</a>
<a id="5901" class="Keyword">open</a> <a id="5906" class="Keyword">import</a> <a id="5913" href="Relation.Binary.html" class="Module">Relation.Binary</a>        <a id="5936" class="Keyword">using</a>  <a id="5943" class="Symbol">(</a> <a id="5945" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="5949" class="Symbol">;</a> <a id="5951" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="5958" class="Symbol">;</a> <a id="5960" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a>
                                          <a id="6016" class="Symbol">;</a> <a id="6018" href="Relation.Binary.Definitions.html#1332" class="Function">Reflexive</a> <a id="6028" class="Symbol">;</a> <a id="6030" href="Relation.Binary.Definitions.html#1491" class="Function">Symmetric</a> <a id="6040" class="Symbol">;</a> <a id="6042" href="Relation.Binary.Definitions.html#2007" class="Function">Transitive</a>
                                          <a id="6095" class="Symbol">;</a> <a id="6097" href="Relation.Binary.Definitions.html#1417" class="Function">Sym</a> <a id="6101" class="Symbol">;</a> <a id="6103" href="Relation.Binary.Definitions.html#1578" class="Function">Trans</a> <a id="6109" class="Symbol">)</a>
<a id="6111" class="Keyword">open</a> <a id="6116" class="Keyword">import</a> <a id="6123" href="Relation.Unary.html" class="Module">Relation.Unary</a>         <a id="6146" class="Keyword">using</a>  <a id="6153" class="Symbol">(</a> <a id="6155" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="6160" class="Symbol">;</a> <a id="6162" href="Relation.Unary.html#2046" class="Function Operator">_‚äÜ_</a> <a id="6166" class="Symbol">;</a> <a id="6168" href="Relation.Unary.html#1818" class="Function Operator">_‚àà_</a> <a id="6172" class="Symbol">)</a>

<a id="6175" class="Keyword">open</a> <a id="6180" class="Keyword">import</a> <a id="6187" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="6225" class="Keyword">using</a> <a id="6231" class="Symbol">(</a> <a id="6233" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_‚â°_</a> <a id="6237" class="Symbol">)</a>

<a id="6240" class="Comment">-- Import 23 definitions from the Agda Standard Library and rename 12 of them.</a>
<a id="6319" class="Keyword">open</a> <a id="6324" class="Keyword">import</a> <a id="6331" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>  <a id="6347" class="Keyword">using</a> <a id="6353" class="Symbol">()</a> <a id="6356" class="Keyword">renaming</a> <a id="6365" class="Symbol">(</a> <a id="6367" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="6371" class="Symbol">to</a> <a id="6374" class="Primitive">Type</a> <a id="6379" class="Symbol">)</a>
<a id="6381" class="Keyword">open</a> <a id="6386" class="Keyword">import</a> <a id="6393" href="Data.Product.html" class="Module">Data.Product</a>    <a id="6409" class="Keyword">using</a> <a id="6415" class="Symbol">(</a> <a id="6417" href="Data.Product.Base.html#1618" class="Function Operator">_√ó_</a> <a id="6421" class="Symbol">;</a> <a id="6423" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="6427" class="Symbol">;</a> <a id="6429" href="Agda.Builtin.Sigma.html#165" class="Record">Œ£</a> <a id="6431" class="Symbol">;</a> <a id="6433" href="Data.Product.Base.html#1244" class="Function">Œ£-syntax</a> <a id="6442" class="Symbol">)</a>
                            <a id="6472" class="Keyword">renaming</a> <a id="6481" class="Symbol">(</a> <a id="6483" href="Data.Product.Base.html#636" class="Field">proj‚ÇÅ</a> <a id="6489" class="Symbol">to</a> <a id="6492" class="Field">fst</a> <a id="6496" class="Symbol">;</a> <a id="6498" href="Data.Product.Base.html#650" class="Field">proj‚ÇÇ</a> <a id="6504" class="Symbol">to</a> <a id="6507" class="Field">snd</a> <a id="6511" class="Symbol">)</a>
<a id="6513" class="Keyword">open</a> <a id="6518" class="Keyword">import</a> <a id="6525" href="Function.html" class="Module">Function</a>        <a id="6541" class="Keyword">using</a> <a id="6547" class="Symbol">()</a> <a id="6550" class="Keyword">renaming</a> <a id="6559" class="Symbol">(</a> <a id="6561" href="Function.Bundles.html#2043" class="Record">Func</a> <a id="6566" class="Symbol">to</a> <a id="6569" class="Record">_‚ü∂_</a> <a id="6573" class="Symbol">)</a>

<a id="6576" class="Keyword">open</a>  <a id="6582" href="Demos.HSP.html#6569" class="Module">_‚ü∂_</a>           <a id="6596" class="Keyword">using</a> <a id="6602" class="Symbol">(</a> <a id="6604" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="6609" class="Symbol">)</a> <a id="6611" class="Keyword">renaming</a> <a id="6620" class="Symbol">(</a> <a id="6622" href="Function.Bundles.html#2094" class="Field">to</a> <a id="6625" class="Symbol">to</a> <a id="6628" class="Field">_‚ü®$‚ü©_</a> <a id="6634" class="Symbol">)</a>
<a id="6636" class="Keyword">open</a> <a id="6641" href="Relation.Binary.Structures.html#1550" class="Module">IsEquivalence</a>  <a id="6656" class="Keyword">using</a> <a id="6662" class="Symbol">()</a>
                    <a id="6685" class="Keyword">renaming</a> <a id="6694" class="Symbol">(</a> <a id="6696" href="Relation.Binary.Structures.html#1596" class="Field">refl</a> <a id="6701" class="Symbol">to</a> <a id="6704" class="Field">refl·µâ</a> <a id="6710" class="Symbol">;</a> <a id="6712" href="Relation.Binary.Structures.html#1622" class="Field">sym</a> <a id="6716" class="Symbol">to</a> <a id="6719" class="Field">sym·µâ</a> <a id="6724" class="Symbol">;</a> <a id="6726" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="6732" class="Symbol">to</a> <a id="6735" class="Field">trans·µâ</a> <a id="6742" class="Symbol">)</a>
<a id="6744" class="Keyword">open</a> <a id="6749" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a>         <a id="6764" class="Keyword">using</a> <a id="6770" class="Symbol">(</a> <a id="6772" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="6780" class="Symbol">;</a> <a id="6782" href="Relation.Binary.Bundles.html#1218" class="Field">isEquivalence</a> <a id="6796" class="Symbol">)</a> <a id="6798" class="Keyword">renaming</a> <a id="6807" class="Symbol">(</a> <a id="6809" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="6813" class="Symbol">to</a> <a id="6816" class="Field Operator">_‚âàÀ¢_</a> <a id="6821" class="Symbol">)</a>
                    <a id="6843" class="Keyword">renaming</a> <a id="6852" class="Symbol">(</a> <a id="6854" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="6859" class="Symbol">to</a> <a id="6862" class="Function">reflÀ¢</a> <a id="6868" class="Symbol">;</a> <a id="6870" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="6874" class="Symbol">to</a> <a id="6877" class="Function">symÀ¢</a> <a id="6882" class="Symbol">;</a> <a id="6884" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="6890" class="Symbol">to</a> <a id="6893" class="Function">transÀ¢</a> <a id="6900" class="Symbol">)</a>

<a id="6903" class="Comment">-- Assign handles to 3 modules of the Agda Standard Library.</a>
<a id="6964" class="Keyword">import</a> <a id="6971" href="Function.Definitions.html" class="Module">Function.Definitions</a>                   <a id="7010" class="Symbol">as</a> <a id="7013" class="Module">FD</a>
<a id="7016" class="Keyword">import</a> <a id="7023" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>  <a id="7062" class="Symbol">as</a> <a id="7065" class="Module">‚â°</a>
<a id="7067" class="Keyword">import</a> <a id="7074" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a>       <a id="7113" class="Symbol">as</a> <a id="7116" class="Module">SetoidReasoning</a>

<a id="7133" class="Keyword">private</a> <a id="7141" class="Keyword">variable</a>
 <a id="7151" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="7153" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="7156" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="7158" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a> <a id="7161" href="Demos.HSP.html#7161" class="Generalizable">Œ≥</a> <a id="7163" href="Demos.HSP.html#7163" class="Generalizable">œÅ·∂ú</a> <a id="7166" href="Demos.HSP.html#7166" class="Generalizable">Œ¥</a> <a id="7168" href="Demos.HSP.html#7168" class="Generalizable">œÅ·µà</a> <a id="7171" href="Demos.HSP.html#7171" class="Generalizable">œÅ</a> <a id="7173" href="Demos.HSP.html#7173" class="Generalizable">œá</a> <a id="7175" href="Demos.HSP.html#7175" class="Generalizable">‚Ñì</a> <a id="7177" class="Symbol">:</a> <a id="7179" href="Agda.Primitive.html#742" class="Postulate">Level</a>
 <a id="7186" href="Demos.HSP.html#7186" class="Generalizable">Œì</a> <a id="7188" href="Demos.HSP.html#7188" class="Generalizable">Œî</a> <a id="7190" class="Symbol">:</a> <a id="7192" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="7197" href="Demos.HSP.html#7173" class="Generalizable">œá</a>

</pre>

The above imports include some adjustments to "standard" [Agda][] syntax; in particular, we use `Type` in place of `Set`, the infix long arrow symbol, `_‚ü∂_`, in place of `Func` (the type of "setoid functions," discussed in
¬ß[2.3](#setoid-functions){reference-type="ref"
reference="setoid-functions"} below), and the symbol `_‚ü®$‚ü©_` in place of `f` (application of the map of a setoid function); we use `fst` and `snd`, and sometimes `‚à£_‚à£` and `‚à•_‚à•`, to denote the first and second projections out of the product type `_√ó_`.

<pre class="Agda">
<a id="7749" class="Keyword">module</a> <a id="7756" href="Demos.HSP.html#7756" class="Module">_</a> <a id="7758" class="Symbol">{</a><a id="7759" href="Demos.HSP.html#7759" class="Bound">A</a> <a id="7761" class="Symbol">:</a> <a id="7763" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="7768" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="7770" class="Symbol">}{</a><a id="7772" href="Demos.HSP.html#7772" class="Bound">B</a> <a id="7774" class="Symbol">:</a> <a id="7776" href="Demos.HSP.html#7759" class="Bound">A</a> <a id="7778" class="Symbol">‚Üí</a> <a id="7780" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="7785" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a><a id="7786" class="Symbol">}</a> <a id="7788" class="Keyword">where</a>
 <a id="7795" href="Demos.HSP.html#7795" class="Function Operator">‚à£_‚à£</a> <a id="7799" class="Symbol">:</a> <a id="7801" href="Data.Product.Base.html#1244" class="Function">Œ£[</a> <a id="7804" href="Demos.HSP.html#7804" class="Bound">x</a> <a id="7806" href="Data.Product.Base.html#1244" class="Function">‚àà</a> <a id="7808" href="Demos.HSP.html#7759" class="Bound">A</a> <a id="7810" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="7812" href="Demos.HSP.html#7772" class="Bound">B</a> <a id="7814" href="Demos.HSP.html#7804" class="Bound">x</a> <a id="7816" class="Symbol">‚Üí</a> <a id="7818" href="Demos.HSP.html#7759" class="Bound">A</a>
 <a id="7821" href="Demos.HSP.html#7795" class="Function Operator">‚à£_‚à£</a> <a id="7825" class="Symbol">=</a> <a id="7827" href="Demos.HSP.html#6492" class="Field">fst</a>
 <a id="7832" href="Demos.HSP.html#7832" class="Function Operator">‚à•_‚à•</a> <a id="7836" class="Symbol">:</a> <a id="7838" class="Symbol">(</a><a id="7839" href="Demos.HSP.html#7839" class="Bound">z</a> <a id="7841" class="Symbol">:</a> <a id="7843" href="Data.Product.Base.html#1244" class="Function">Œ£[</a> <a id="7846" href="Demos.HSP.html#7846" class="Bound">a</a> <a id="7848" href="Data.Product.Base.html#1244" class="Function">‚àà</a> <a id="7850" href="Demos.HSP.html#7759" class="Bound">A</a> <a id="7852" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="7854" href="Demos.HSP.html#7772" class="Bound">B</a> <a id="7856" href="Demos.HSP.html#7846" class="Bound">a</a><a id="7857" class="Symbol">)</a> <a id="7859" class="Symbol">‚Üí</a> <a id="7861" href="Demos.HSP.html#7772" class="Bound">B</a> <a id="7863" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="7865" href="Demos.HSP.html#7839" class="Bound">z</a> <a id="7867" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>
 <a id="7870" href="Demos.HSP.html#7832" class="Function Operator">‚à•_‚à•</a> <a id="7874" class="Symbol">=</a> <a id="7876" href="Demos.HSP.html#6507" class="Field">snd</a>
</pre>


#### <a id="setoids">Setoids</a>

A *setoid* is a pair consisting of a type and an equivalence relation on that type. Setoids are useful for representing a set with an explicit, "local" notion of equivalence, instead of relying on an implicit, "global" one as is more common in set theory. In reality, informal mathematical practice relies on equivalence relations quite pervasively, taking great care to define only functions that preserve equivalences, while eliding the details. To be properly formal, such details must be made explicit. While there are many different workable approaches, the one that requires no additional meta-theory is based on setoids, which is why we adopt it here. While in some settings setoids are found by others to be burdensome, we have not found them to be so for universal algebra.

The [agda-algebras][] library was first developed without setoids, relying on propositional equality instead, along with some experimental, domain-specific types for equivalence classes, quotients, etc. This
required postulating function extensionality,[^4] which is known to be independent from [MLTT][]¬†[@MHE; @MHE:2019]; this was unsatisfactory as we aimed to show that the theorems hold directly in [MLTT][] without extra axioms. The present work makes no appeal to functional extensionality or classical axioms like Choice or Excluded Middle.[^5]

##### <a id="setoid-functions">Setoid functions</a>

A *setoid function* is a function from one setoid to another that respects the underlying equivalences. If [ùë®]{.ab} and [ùë©]{.ab} are setoids, we use [ùë®]{.ab}_[‚ü∂]{.aor}_[ùë©]{.ab} to denote the type of setoid functions from [ùë®]{.ab} to [ùë©]{.ab}.

An example of a setoid function is the identity function from a setoid to itself. We define it, along with a binary composition operation for setoid functions, `_‚ü®‚àò‚ü©_`, as follows.

<pre class="Agda">

<a id="ùëñùëë"></a><a id="9757" href="Demos.HSP.html#9757" class="Function">ùëñùëë</a> <a id="9760" class="Symbol">:</a> <a id="9762" class="Symbol">{</a><a id="9763" href="Demos.HSP.html#9763" class="Bound">A</a> <a id="9765" class="Symbol">:</a> <a id="9767" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="9774" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="9776" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="9778" class="Symbol">}</a> <a id="9780" class="Symbol">‚Üí</a> <a id="9782" href="Demos.HSP.html#9763" class="Bound">A</a> <a id="9784" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="9786" href="Demos.HSP.html#9763" class="Bound">A</a>
<a id="9788" href="Demos.HSP.html#9757" class="Function">ùëñùëë</a> <a id="9791" class="Symbol">{</a><a id="9792" href="Demos.HSP.html#9792" class="Bound">A</a><a id="9793" class="Symbol">}</a> <a id="9795" class="Symbol">=</a> <a id="9797" class="Keyword">record</a> <a id="9804" class="Symbol">{</a> <a id="9806" href="Function.Bundles.html#2094" class="Field">to</a> <a id="9809" class="Symbol">=</a> <a id="9811" href="Function.Base.html#704" class="Function">id</a> <a id="9814" class="Symbol">;</a> <a id="9816" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="9821" class="Symbol">=</a> <a id="9823" href="Function.Base.html#704" class="Function">id</a> <a id="9826" class="Symbol">}</a>

<a id="_‚ü®‚àò‚ü©_"></a><a id="9829" href="Demos.HSP.html#9829" class="Function Operator">_‚ü®‚àò‚ü©_</a> <a id="9835" class="Symbol">:</a>  <a id="9838" class="Symbol">{</a><a id="9839" href="Demos.HSP.html#9839" class="Bound">A</a> <a id="9841" class="Symbol">:</a> <a id="9843" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="9850" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="9852" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="9854" class="Symbol">}</a> <a id="9856" class="Symbol">{</a><a id="9857" href="Demos.HSP.html#9857" class="Bound">B</a> <a id="9859" class="Symbol">:</a> <a id="9861" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="9868" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="9870" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="9872" class="Symbol">}</a> <a id="9874" class="Symbol">{</a><a id="9875" href="Demos.HSP.html#9875" class="Bound">C</a> <a id="9877" class="Symbol">:</a> <a id="9879" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="9886" href="Demos.HSP.html#7161" class="Generalizable">Œ≥</a> <a id="9888" href="Demos.HSP.html#7163" class="Generalizable">œÅ·∂ú</a><a id="9890" class="Symbol">}</a>
 <a id="9893" class="Symbol">‚Üí</a>       <a id="9901" href="Demos.HSP.html#9857" class="Bound">B</a> <a id="9903" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="9905" href="Demos.HSP.html#9875" class="Bound">C</a>  <a id="9908" class="Symbol">‚Üí</a>  <a id="9911" href="Demos.HSP.html#9839" class="Bound">A</a> <a id="9913" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="9915" href="Demos.HSP.html#9857" class="Bound">B</a>  <a id="9918" class="Symbol">‚Üí</a>  <a id="9921" href="Demos.HSP.html#9839" class="Bound">A</a> <a id="9923" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="9925" href="Demos.HSP.html#9875" class="Bound">C</a>

<a id="9928" href="Demos.HSP.html#9928" class="Bound">f</a> <a id="9930" href="Demos.HSP.html#9829" class="Function Operator">‚ü®‚àò‚ü©</a> <a id="9934" href="Demos.HSP.html#9934" class="Bound">g</a> <a id="9936" class="Symbol">=</a> <a id="9938" class="Keyword">record</a>  <a id="9946" class="Symbol">{</a> <a id="9948" href="Function.Bundles.html#2094" class="Field">to</a> <a id="9951" class="Symbol">=</a> <a id="9953" class="Symbol">(</a><a id="9954" href="Demos.HSP.html#6628" class="Field Operator">_‚ü®$‚ü©_</a> <a id="9960" href="Demos.HSP.html#9928" class="Bound">f</a><a id="9961" class="Symbol">)</a> <a id="9963" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="9965" class="Symbol">(</a><a id="9966" href="Demos.HSP.html#6628" class="Field Operator">_‚ü®$‚ü©_</a> <a id="9972" href="Demos.HSP.html#9934" class="Bound">g</a><a id="9973" class="Symbol">)</a>
                  <a id="9993" class="Symbol">;</a> <a id="9995" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="10000" class="Symbol">=</a> <a id="10002" class="Symbol">(</a><a id="10003" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="10008" href="Demos.HSP.html#9928" class="Bound">f</a><a id="10009" class="Symbol">)</a> <a id="10011" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="10013" class="Symbol">(</a><a id="10014" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="10019" href="Demos.HSP.html#9934" class="Bound">g</a><a id="10020" class="Symbol">)</a> <a id="10022" class="Symbol">}</a>
</pre>


#### <a id="inverses">Inverses</a>
<!-- {#inverses .unnumbered} -->

We define the *inverse* of a setoid function in terms of the image of the function's domain, as follows.

<pre class="Agda">

<a id="10226" class="Keyword">module</a> <a id="10233" href="Demos.HSP.html#10233" class="Module">_</a> <a id="10235" class="Symbol">{</a><a id="10236" href="Demos.HSP.html#10236" class="Bound">ùë®</a> <a id="10238" class="Symbol">:</a> <a id="10240" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="10247" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="10249" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="10251" class="Symbol">}{</a><a id="10253" href="Demos.HSP.html#10253" class="Bound">ùë©</a> <a id="10255" class="Symbol">:</a> <a id="10257" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="10264" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="10266" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="10268" class="Symbol">}</a> <a id="10270" class="Keyword">where</a>
 <a id="10277" class="Keyword">open</a> <a id="10282" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="10289" href="Demos.HSP.html#10253" class="Bound">ùë©</a> <a id="10291" class="Keyword">using</a> <a id="10297" class="Symbol">(</a> <a id="10299" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="10303" class="Symbol">;</a> <a id="10305" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="10309" class="Symbol">)</a> <a id="10311" class="Keyword">renaming</a> <a id="10320" class="Symbol">(</a> <a id="10322" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="10330" class="Symbol">to</a> <a id="10333" class="Field">B</a> <a id="10335" class="Symbol">)</a>

 <a id="10339" class="Keyword">data</a> <a id="10344" href="Demos.HSP.html#10344" class="Datatype Operator">Image_‚àã_</a> <a id="10353" class="Symbol">(</a><a id="10354" href="Demos.HSP.html#10354" class="Bound">f</a> <a id="10356" class="Symbol">:</a> <a id="10358" href="Demos.HSP.html#10236" class="Bound">ùë®</a> <a id="10360" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="10362" href="Demos.HSP.html#10253" class="Bound">ùë©</a><a id="10363" class="Symbol">)</a> <a id="10365" class="Symbol">:</a> <a id="10367" href="Demos.HSP.html#10333" class="Field">B</a> <a id="10369" class="Symbol">‚Üí</a> <a id="10371" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="10376" class="Symbol">(</a><a id="10377" href="Demos.HSP.html#10247" class="Bound">Œ±</a> <a id="10379" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="10381" href="Demos.HSP.html#10264" class="Bound">Œ≤</a> <a id="10383" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="10385" href="Demos.HSP.html#10266" class="Bound">œÅ·µá</a><a id="10387" class="Symbol">)</a> <a id="10389" class="Keyword">where</a>
  <a id="10397" href="Demos.HSP.html#10397" class="InductiveConstructor">eq</a> <a id="10400" class="Symbol">:</a> <a id="10402" class="Symbol">{</a><a id="10403" href="Demos.HSP.html#10403" class="Bound">b</a> <a id="10405" class="Symbol">:</a> <a id="10407" href="Demos.HSP.html#10333" class="Field">B</a><a id="10408" class="Symbol">}</a> <a id="10410" class="Symbol">‚Üí</a> <a id="10412" class="Symbol">‚àÄ</a> <a id="10414" href="Demos.HSP.html#10414" class="Bound">a</a> <a id="10416" class="Symbol">‚Üí</a> <a id="10418" href="Demos.HSP.html#10403" class="Bound">b</a> <a id="10420" href="Relation.Binary.Bundles.html#1184" class="Field Operator">‚âà</a> <a id="10422" href="Demos.HSP.html#10354" class="Bound">f</a> <a id="10424" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="10428" href="Demos.HSP.html#10414" class="Bound">a</a> <a id="10430" class="Symbol">‚Üí</a> <a id="10432" href="Demos.HSP.html#10344" class="Datatype Operator">Image</a> <a id="10438" href="Demos.HSP.html#10354" class="Bound">f</a> <a id="10440" href="Demos.HSP.html#10344" class="Datatype Operator">‚àã</a> <a id="10442" href="Demos.HSP.html#10403" class="Bound">b</a>

</pre>

An inhabitant of the `Image f ‚àã b` type is a point `a : Carrier ùë®`, along with a proof `p : b ‚âà f a`, that `f` maps `a` to `b`. Since a proof of `Image f ‚àã b` must include a concrete witness `a : Carrier ùë®`, we can actually *compute* a range-restricted right-inverse of `f`. Here is the definition of `Inv` which, for extra
certainty, is accompanied by a proof that it gives such a right-inverse.

<pre class="Agda">

 <a id="10870" href="Demos.HSP.html#10870" class="Function">Inv</a> <a id="10874" class="Symbol">:</a> <a id="10876" class="Symbol">(</a><a id="10877" href="Demos.HSP.html#10877" class="Bound">f</a> <a id="10879" class="Symbol">:</a> <a id="10881" href="Demos.HSP.html#10236" class="Bound">ùë®</a> <a id="10883" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="10885" href="Demos.HSP.html#10253" class="Bound">ùë©</a><a id="10886" class="Symbol">){</a><a id="10888" href="Demos.HSP.html#10888" class="Bound">b</a> <a id="10890" class="Symbol">:</a> <a id="10892" href="Demos.HSP.html#10333" class="Field">B</a><a id="10893" class="Symbol">}</a> <a id="10895" class="Symbol">‚Üí</a> <a id="10897" href="Demos.HSP.html#10344" class="Datatype Operator">Image</a> <a id="10903" href="Demos.HSP.html#10877" class="Bound">f</a> <a id="10905" href="Demos.HSP.html#10344" class="Datatype Operator">‚àã</a> <a id="10907" href="Demos.HSP.html#10888" class="Bound">b</a> <a id="10909" class="Symbol">‚Üí</a> <a id="10911" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="10919" href="Demos.HSP.html#10236" class="Bound">ùë®</a>
 <a id="10922" href="Demos.HSP.html#10870" class="Function">Inv</a> <a id="10926" class="Symbol">_</a> <a id="10928" class="Symbol">(</a><a id="10929" href="Demos.HSP.html#10397" class="InductiveConstructor">eq</a> <a id="10932" href="Demos.HSP.html#10932" class="Bound">a</a> <a id="10934" class="Symbol">_)</a> <a id="10937" class="Symbol">=</a> <a id="10939" href="Demos.HSP.html#10932" class="Bound">a</a>

 <a id="10943" href="Demos.HSP.html#10943" class="Function">InvIsInverse ≥</a> <a id="10957" class="Symbol">:</a> <a id="10959" class="Symbol">{</a><a id="10960" href="Demos.HSP.html#10960" class="Bound">f</a> <a id="10962" class="Symbol">:</a> <a id="10964" href="Demos.HSP.html#10236" class="Bound">ùë®</a> <a id="10966" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="10968" href="Demos.HSP.html#10253" class="Bound">ùë©</a><a id="10969" class="Symbol">}{</a><a id="10971" href="Demos.HSP.html#10971" class="Bound">b</a> <a id="10973" class="Symbol">:</a> <a id="10975" href="Demos.HSP.html#10333" class="Field">B</a><a id="10976" class="Symbol">}(</a><a id="10978" href="Demos.HSP.html#10978" class="Bound">q</a> <a id="10980" class="Symbol">:</a> <a id="10982" href="Demos.HSP.html#10344" class="Datatype Operator">Image</a> <a id="10988" href="Demos.HSP.html#10960" class="Bound">f</a> <a id="10990" href="Demos.HSP.html#10344" class="Datatype Operator">‚àã</a> <a id="10992" href="Demos.HSP.html#10971" class="Bound">b</a><a id="10993" class="Symbol">)</a> <a id="10995" class="Symbol">‚Üí</a> <a id="10997" href="Demos.HSP.html#10960" class="Bound">f</a> <a id="10999" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="11003" class="Symbol">(</a><a id="11004" href="Demos.HSP.html#10870" class="Function">Inv</a> <a id="11008" href="Demos.HSP.html#10960" class="Bound">f</a> <a id="11010" href="Demos.HSP.html#10978" class="Bound">q</a><a id="11011" class="Symbol">)</a> <a id="11013" href="Relation.Binary.Bundles.html#1184" class="Field Operator">‚âà</a> <a id="11015" href="Demos.HSP.html#10971" class="Bound">b</a>
 <a id="11018" href="Demos.HSP.html#10943" class="Function">InvIsInverse ≥</a> <a id="11032" class="Symbol">(</a><a id="11033" href="Demos.HSP.html#10397" class="InductiveConstructor">eq</a> <a id="11036" class="Symbol">_</a> <a id="11038" href="Demos.HSP.html#11038" class="Bound">p</a><a id="11039" class="Symbol">)</a> <a id="11041" class="Symbol">=</a> <a id="11043" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="11047" href="Demos.HSP.html#11038" class="Bound">p</a>
</pre>


#### <a id="injective-and-surjective-setoid-functions">Injective and surjective setoid functions</a>
<!-- {#injective-and-surjective-setoid-functions .unnumbered} -->

If `f : ùë® ‚ü∂ ùë©` then we call `f` *injective* provided `‚àÄ(a‚ÇÄ a‚ÇÅ : A)`, `f ‚ü®$‚ü© a‚ÇÄ ‚âà·¥Æ f ‚ü®$‚ü© a‚ÇÅ` implies `a‚ÇÄ ‚âà·¥¨ a‚ÇÅ`; we call `f` *surjective* provided `‚àÄ(b : B) ‚àÉ(a : A)` such that `f ‚ü®$‚ü© a ‚âà·¥Æ b`.

We represent injective functions on bare types by the type `Injective`, and use this to define the `IsInjective` type representing the property of being an injective setoid function. Similarly, the type `IsSurjective`
represents the property of being a surjective setoid function and `SurjInv` represents the *right-inverse* of a surjective function.

We reproduce the definitions and prove some of their properties inside the next submodule where we first set the stage by declaring two setoids `ùë®` and `ùë©` and naming their equality relations.

<pre class="Agda">

<a id="11983" class="Keyword">module</a> <a id="11990" href="Demos.HSP.html#11990" class="Module">_</a> <a id="11992" class="Symbol">{</a><a id="11993" href="Demos.HSP.html#11993" class="Bound">ùë®</a> <a id="11995" class="Symbol">:</a> <a id="11997" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="12004" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="12006" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="12008" class="Symbol">}{</a><a id="12010" href="Demos.HSP.html#12010" class="Bound">ùë©</a> <a id="12012" class="Symbol">:</a> <a id="12014" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="12021" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="12023" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="12025" class="Symbol">}</a> <a id="12027" class="Keyword">where</a>
 <a id="12034" class="Keyword">open</a> <a id="12039" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="12046" href="Demos.HSP.html#11993" class="Bound">ùë®</a> <a id="12048" class="Keyword">using</a> <a id="12054" class="Symbol">()</a> <a id="12057" class="Keyword">renaming</a> <a id="12066" class="Symbol">(</a> <a id="12068" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="12072" class="Symbol">to</a> <a id="12075" class="Field Operator">_‚âà·¥¨_</a> <a id="12080" class="Symbol">)</a>
 <a id="12083" class="Keyword">open</a> <a id="12088" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="12095" href="Demos.HSP.html#12010" class="Bound">ùë©</a> <a id="12097" class="Keyword">using</a> <a id="12103" class="Symbol">()</a> <a id="12106" class="Keyword">renaming</a> <a id="12115" class="Symbol">(</a> <a id="12117" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="12121" class="Symbol">to</a> <a id="12124" class="Field Operator">_‚âà·¥Æ_</a> <a id="12129" class="Symbol">)</a>
 <a id="12132" class="Keyword">open</a> <a id="12137" href="Function.Definitions.html" class="Module">FD</a>

 <a id="12142" href="Demos.HSP.html#12142" class="Function">IsInjective</a> <a id="12154" class="Symbol">:</a> <a id="12156" class="Symbol">(</a><a id="12157" href="Demos.HSP.html#11993" class="Bound">ùë®</a> <a id="12159" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="12161" href="Demos.HSP.html#12010" class="Bound">ùë©</a><a id="12162" class="Symbol">)</a> <a id="12164" class="Symbol">‚Üí</a>  <a id="12167" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="12172" class="Symbol">(</a><a id="12173" href="Demos.HSP.html#12004" class="Bound">Œ±</a> <a id="12175" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="12177" href="Demos.HSP.html#12006" class="Bound">œÅ·µÉ</a> <a id="12180" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="12182" href="Demos.HSP.html#12023" class="Bound">œÅ·µá</a><a id="12184" class="Symbol">)</a>
 <a id="12187" href="Demos.HSP.html#12142" class="Function">IsInjective</a> <a id="12199" href="Demos.HSP.html#12199" class="Bound">f</a> <a id="12201" class="Symbol">=</a> <a id="12203" href="Function.Definitions.html#842" class="Function">Injective</a> <a id="12213" href="Demos.HSP.html#12075" class="Function Operator">_‚âà·¥¨_</a> <a id="12218" href="Demos.HSP.html#12124" class="Field Operator">_‚âà·¥Æ_</a> <a id="12223" class="Symbol">(</a><a id="12224" href="Demos.HSP.html#6628" class="Field Operator">_‚ü®$‚ü©_</a> <a id="12230" href="Demos.HSP.html#12199" class="Bound">f</a><a id="12231" class="Symbol">)</a>

 <a id="12235" href="Demos.HSP.html#12235" class="Function">IsSurjective</a> <a id="12248" class="Symbol">:</a> <a id="12250" class="Symbol">(</a><a id="12251" href="Demos.HSP.html#11993" class="Bound">ùë®</a> <a id="12253" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="12255" href="Demos.HSP.html#12010" class="Bound">ùë©</a><a id="12256" class="Symbol">)</a> <a id="12258" class="Symbol">‚Üí</a>  <a id="12261" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="12266" class="Symbol">(</a><a id="12267" href="Demos.HSP.html#12004" class="Bound">Œ±</a> <a id="12269" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="12271" href="Demos.HSP.html#12021" class="Bound">Œ≤</a> <a id="12273" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="12275" href="Demos.HSP.html#12023" class="Bound">œÅ·µá</a><a id="12277" class="Symbol">)</a>
 <a id="12280" href="Demos.HSP.html#12235" class="Function">IsSurjective</a> <a id="12293" href="Demos.HSP.html#12293" class="Bound">F</a> <a id="12295" class="Symbol">=</a> <a id="12297" class="Symbol">‚àÄ</a> <a id="12299" class="Symbol">{</a><a id="12300" href="Demos.HSP.html#12300" class="Bound">y</a><a id="12301" class="Symbol">}</a> <a id="12303" class="Symbol">‚Üí</a> <a id="12305" href="Demos.HSP.html#10344" class="Datatype Operator">Image</a> <a id="12311" href="Demos.HSP.html#12293" class="Bound">F</a> <a id="12313" href="Demos.HSP.html#10344" class="Datatype Operator">‚àã</a> <a id="12315" href="Demos.HSP.html#12300" class="Bound">y</a>

 <a id="12319" href="Demos.HSP.html#12319" class="Function">SurjInv</a> <a id="12327" class="Symbol">:</a> <a id="12329" class="Symbol">(</a><a id="12330" href="Demos.HSP.html#12330" class="Bound">f</a> <a id="12332" class="Symbol">:</a> <a id="12334" href="Demos.HSP.html#11993" class="Bound">ùë®</a> <a id="12336" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="12338" href="Demos.HSP.html#12010" class="Bound">ùë©</a><a id="12339" class="Symbol">)</a> <a id="12341" class="Symbol">‚Üí</a> <a id="12343" href="Demos.HSP.html#12235" class="Function">IsSurjective</a> <a id="12356" href="Demos.HSP.html#12330" class="Bound">f</a> <a id="12358" class="Symbol">‚Üí</a> <a id="12360" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="12368" href="Demos.HSP.html#12010" class="Bound">ùë©</a> <a id="12370" class="Symbol">‚Üí</a> <a id="12372" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="12380" href="Demos.HSP.html#11993" class="Bound">ùë®</a>
 <a id="12383" href="Demos.HSP.html#12319" class="Function">SurjInv</a> <a id="12391" href="Demos.HSP.html#12391" class="Bound">f</a> <a id="12393" href="Demos.HSP.html#12393" class="Bound">fonto</a> <a id="12399" href="Demos.HSP.html#12399" class="Bound">b</a> <a id="12401" class="Symbol">=</a> <a id="12403" href="Demos.HSP.html#10870" class="Function">Inv</a> <a id="12407" href="Demos.HSP.html#12391" class="Bound">f</a> <a id="12409" class="Symbol">(</a><a id="12410" href="Demos.HSP.html#12393" class="Bound">fonto</a> <a id="12416" class="Symbol">{</a><a id="12417" href="Demos.HSP.html#12399" class="Bound">b</a><a id="12418" class="Symbol">})</a>

</pre>

Proving that the composition of injective setoid functions is again injective is simply a matter of composing the two assumed witnesses to injectivity. Proving that surjectivity is preserved under composition is only slightly more involved.

<pre class="Agda">

<a id="12690" class="Keyword">module</a> <a id="12697" href="Demos.HSP.html#12697" class="Module">_</a>  <a id="12700" class="Symbol">{</a><a id="12701" href="Demos.HSP.html#12701" class="Bound">ùë®</a> <a id="12703" class="Symbol">:</a> <a id="12705" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="12712" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="12714" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="12716" class="Symbol">}{</a><a id="12718" href="Demos.HSP.html#12718" class="Bound">ùë©</a> <a id="12720" class="Symbol">:</a> <a id="12722" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="12729" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="12731" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="12733" class="Symbol">}{</a><a id="12735" href="Demos.HSP.html#12735" class="Bound">ùë™</a> <a id="12737" class="Symbol">:</a> <a id="12739" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="12746" href="Demos.HSP.html#7161" class="Generalizable">Œ≥</a> <a id="12748" href="Demos.HSP.html#7163" class="Generalizable">œÅ·∂ú</a><a id="12750" class="Symbol">}</a>
          <a id="12762" class="Symbol">(</a><a id="12763" href="Demos.HSP.html#12763" class="Bound">f</a> <a id="12765" class="Symbol">:</a> <a id="12767" href="Demos.HSP.html#12701" class="Bound">ùë®</a> <a id="12769" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="12771" href="Demos.HSP.html#12718" class="Bound">ùë©</a><a id="12772" class="Symbol">)(</a><a id="12774" href="Demos.HSP.html#12774" class="Bound">g</a> <a id="12776" class="Symbol">:</a> <a id="12778" href="Demos.HSP.html#12718" class="Bound">ùë©</a> <a id="12780" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="12782" href="Demos.HSP.html#12735" class="Bound">ùë™</a><a id="12783" class="Symbol">)</a> <a id="12785" class="Keyword">where</a>

 <a id="12793" href="Demos.HSP.html#12793" class="Function">‚àò-IsInjective</a> <a id="12807" class="Symbol">:</a> <a id="12809" href="Demos.HSP.html#12142" class="Function">IsInjective</a> <a id="12821" href="Demos.HSP.html#12763" class="Bound">f</a> <a id="12823" class="Symbol">‚Üí</a> <a id="12825" href="Demos.HSP.html#12142" class="Function">IsInjective</a> <a id="12837" href="Demos.HSP.html#12774" class="Bound">g</a> <a id="12839" class="Symbol">‚Üí</a> <a id="12841" href="Demos.HSP.html#12142" class="Function">IsInjective</a> <a id="12853" class="Symbol">(</a><a id="12854" href="Demos.HSP.html#12774" class="Bound">g</a> <a id="12856" href="Demos.HSP.html#9829" class="Function Operator">‚ü®‚àò‚ü©</a> <a id="12860" href="Demos.HSP.html#12763" class="Bound">f</a><a id="12861" class="Symbol">)</a>
 <a id="12864" href="Demos.HSP.html#12793" class="Function">‚àò-IsInjective</a> <a id="12878" href="Demos.HSP.html#12878" class="Bound">finj</a> <a id="12883" href="Demos.HSP.html#12883" class="Bound">ginj</a> <a id="12888" class="Symbol">=</a> <a id="12890" href="Demos.HSP.html#12878" class="Bound">finj</a> <a id="12895" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="12897" href="Demos.HSP.html#12883" class="Bound">ginj</a>

 <a id="12904" href="Demos.HSP.html#12904" class="Function">‚àò-IsSurjective</a> <a id="12919" class="Symbol">:</a> <a id="12921" href="Demos.HSP.html#12235" class="Function">IsSurjective</a> <a id="12934" href="Demos.HSP.html#12763" class="Bound">f</a> <a id="12936" class="Symbol">‚Üí</a> <a id="12938" href="Demos.HSP.html#12235" class="Function">IsSurjective</a> <a id="12951" href="Demos.HSP.html#12774" class="Bound">g</a> <a id="12953" class="Symbol">‚Üí</a> <a id="12955" href="Demos.HSP.html#12235" class="Function">IsSurjective</a> <a id="12968" class="Symbol">(</a><a id="12969" href="Demos.HSP.html#12774" class="Bound">g</a> <a id="12971" href="Demos.HSP.html#9829" class="Function Operator">‚ü®‚àò‚ü©</a> <a id="12975" href="Demos.HSP.html#12763" class="Bound">f</a><a id="12976" class="Symbol">)</a>
 <a id="12979" href="Demos.HSP.html#12904" class="Function">‚àò-IsSurjective</a> <a id="12994" href="Demos.HSP.html#12994" class="Bound">fonto</a> <a id="13000" href="Demos.HSP.html#13000" class="Bound">gonto</a> <a id="13006" class="Symbol">{</a><a id="13007" href="Demos.HSP.html#13007" class="Bound">y</a><a id="13008" class="Symbol">}</a> <a id="13010" class="Symbol">=</a> <a id="13012" href="Demos.HSP.html#13209" class="Function">Goal</a> <a id="13017" class="Keyword">where</a>
  <a id="13025" href="Demos.HSP.html#13025" class="Function">mp</a> <a id="13028" class="Symbol">:</a> <a id="13030" href="Demos.HSP.html#10344" class="Datatype Operator">Image</a> <a id="13036" href="Demos.HSP.html#12774" class="Bound">g</a> <a id="13038" href="Demos.HSP.html#10344" class="Datatype Operator">‚àã</a> <a id="13040" href="Demos.HSP.html#13007" class="Bound">y</a> <a id="13042" class="Symbol">‚Üí</a> <a id="13044" href="Demos.HSP.html#10344" class="Datatype Operator">Image</a> <a id="13050" href="Demos.HSP.html#12774" class="Bound">g</a> <a id="13052" href="Demos.HSP.html#9829" class="Function Operator">‚ü®‚àò‚ü©</a> <a id="13056" href="Demos.HSP.html#12763" class="Bound">f</a> <a id="13058" href="Demos.HSP.html#10344" class="Datatype Operator">‚àã</a> <a id="13060" href="Demos.HSP.html#13007" class="Bound">y</a>
  <a id="13064" href="Demos.HSP.html#13025" class="Function">mp</a> <a id="13067" class="Symbol">(</a><a id="13068" href="Demos.HSP.html#10397" class="InductiveConstructor">eq</a> <a id="13071" href="Demos.HSP.html#13071" class="Bound">c</a> <a id="13073" href="Demos.HSP.html#13073" class="Bound">p</a><a id="13074" class="Symbol">)</a> <a id="13076" class="Symbol">=</a> <a id="13078" href="Demos.HSP.html#13128" class="Function">Œ∑</a> <a id="13080" href="Demos.HSP.html#12994" class="Bound">fonto</a> <a id="13086" class="Keyword">where</a>
   <a id="13095" class="Keyword">open</a> <a id="13100" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="13107" href="Demos.HSP.html#12735" class="Bound">ùë™</a> <a id="13109" class="Keyword">using</a> <a id="13115" class="Symbol">(</a> <a id="13117" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="13123" class="Symbol">)</a>
   <a id="13128" href="Demos.HSP.html#13128" class="Function">Œ∑</a> <a id="13130" class="Symbol">:</a> <a id="13132" href="Demos.HSP.html#10344" class="Datatype Operator">Image</a> <a id="13138" href="Demos.HSP.html#12763" class="Bound">f</a> <a id="13140" href="Demos.HSP.html#10344" class="Datatype Operator">‚àã</a> <a id="13142" href="Demos.HSP.html#13071" class="Bound">c</a> <a id="13144" class="Symbol">‚Üí</a> <a id="13146" href="Demos.HSP.html#10344" class="Datatype Operator">Image</a> <a id="13152" href="Demos.HSP.html#12774" class="Bound">g</a> <a id="13154" href="Demos.HSP.html#9829" class="Function Operator">‚ü®‚àò‚ü©</a> <a id="13158" href="Demos.HSP.html#12763" class="Bound">f</a> <a id="13160" href="Demos.HSP.html#10344" class="Datatype Operator">‚àã</a> <a id="13162" href="Demos.HSP.html#13007" class="Bound">y</a>
   <a id="13167" href="Demos.HSP.html#13128" class="Function">Œ∑</a> <a id="13169" class="Symbol">(</a><a id="13170" href="Demos.HSP.html#10397" class="InductiveConstructor">eq</a> <a id="13173" href="Demos.HSP.html#13173" class="Bound">a</a> <a id="13175" href="Demos.HSP.html#13175" class="Bound">q</a><a id="13176" class="Symbol">)</a> <a id="13178" class="Symbol">=</a> <a id="13180" href="Demos.HSP.html#10397" class="InductiveConstructor">eq</a> <a id="13183" href="Demos.HSP.html#13173" class="Bound">a</a> <a id="13185" class="Symbol">(</a><a id="13186" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="13192" href="Demos.HSP.html#13073" class="Bound">p</a> <a id="13194" class="Symbol">(</a><a id="13195" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="13200" href="Demos.HSP.html#12774" class="Bound">g</a> <a id="13202" href="Demos.HSP.html#13175" class="Bound">q</a><a id="13203" class="Symbol">))</a>

  <a id="13209" href="Demos.HSP.html#13209" class="Function">Goal</a> <a id="13214" class="Symbol">:</a> <a id="13216" href="Demos.HSP.html#10344" class="Datatype Operator">Image</a> <a id="13222" href="Demos.HSP.html#12774" class="Bound">g</a> <a id="13224" href="Demos.HSP.html#9829" class="Function Operator">‚ü®‚àò‚ü©</a> <a id="13228" href="Demos.HSP.html#12763" class="Bound">f</a> <a id="13230" href="Demos.HSP.html#10344" class="Datatype Operator">‚àã</a> <a id="13232" href="Demos.HSP.html#13007" class="Bound">y</a>
  <a id="13236" href="Demos.HSP.html#13209" class="Function">Goal</a> <a id="13241" class="Symbol">=</a> <a id="13243" href="Demos.HSP.html#13025" class="Function">mp</a> <a id="13246" href="Demos.HSP.html#13000" class="Bound">gonto</a>
</pre>



#### <a id="factorization-of-setoid-functions">Factorization of setoid functions[^6]</a>
<!-- {#factorization-of-setoid-functions .unnumbered} -->

Every (setoid) function `f : A ‚ü∂ B` factors as a surjective map `toIm : A ‚ü∂ Im f` followed
by an injective map `fromIm : Im f ‚ü∂ B`.

<pre class="Agda">

<a id="13561" class="Keyword">module</a> <a id="13568" href="Demos.HSP.html#13568" class="Module">_</a> <a id="13570" class="Symbol">{</a><a id="13571" href="Demos.HSP.html#13571" class="Bound">ùë®</a> <a id="13573" class="Symbol">:</a> <a id="13575" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="13582" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="13584" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="13586" class="Symbol">}{</a><a id="13588" href="Demos.HSP.html#13588" class="Bound">ùë©</a> <a id="13590" class="Symbol">:</a> <a id="13592" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="13599" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="13601" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="13603" class="Symbol">}</a> <a id="13605" class="Keyword">where</a>

 <a id="13613" href="Demos.HSP.html#13613" class="Function">Im</a> <a id="13616" class="Symbol">:</a> <a id="13618" class="Symbol">(</a><a id="13619" href="Demos.HSP.html#13619" class="Bound">f</a> <a id="13621" class="Symbol">:</a> <a id="13623" href="Demos.HSP.html#13571" class="Bound">ùë®</a> <a id="13625" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="13627" href="Demos.HSP.html#13588" class="Bound">ùë©</a><a id="13628" class="Symbol">)</a> <a id="13630" class="Symbol">‚Üí</a> <a id="13632" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="13639" class="Symbol">_</a> <a id="13641" class="Symbol">_</a>
 <a id="13644" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="13652" class="Symbol">(</a><a id="13653" href="Demos.HSP.html#13613" class="Function">Im</a> <a id="13656" href="Demos.HSP.html#13656" class="Bound">f</a><a id="13657" class="Symbol">)</a> <a id="13659" class="Symbol">=</a> <a id="13661" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="13669" href="Demos.HSP.html#13571" class="Bound">ùë®</a>
 <a id="13672" href="Demos.HSP.html#6816" class="Field Operator">_‚âàÀ¢_</a> <a id="13677" class="Symbol">(</a><a id="13678" href="Demos.HSP.html#13613" class="Function">Im</a> <a id="13681" href="Demos.HSP.html#13681" class="Bound">f</a><a id="13682" class="Symbol">)</a> <a id="13684" href="Demos.HSP.html#13684" class="Bound">b1</a> <a id="13687" href="Demos.HSP.html#13687" class="Bound">b2</a> <a id="13690" class="Symbol">=</a> <a id="13692" href="Demos.HSP.html#13681" class="Bound">f</a> <a id="13694" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="13698" href="Demos.HSP.html#13684" class="Bound">b1</a> <a id="13701" href="Relation.Binary.Bundles.html#1184" class="Function Operator">‚âà</a> <a id="13703" href="Demos.HSP.html#13681" class="Bound">f</a> <a id="13705" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="13709" href="Demos.HSP.html#13687" class="Bound">b2</a> <a id="13712" class="Keyword">where</a> <a id="13718" class="Keyword">open</a> <a id="13723" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="13730" href="Demos.HSP.html#13588" class="Bound">ùë©</a>

 <a id="13734" href="Relation.Binary.Bundles.html#1218" class="Field">isEquivalence</a> <a id="13748" class="Symbol">(</a><a id="13749" href="Demos.HSP.html#13613" class="Function">Im</a> <a id="13752" href="Demos.HSP.html#13752" class="Bound">f</a><a id="13753" class="Symbol">)</a> <a id="13755" class="Symbol">=</a> <a id="13757" class="Keyword">record</a> <a id="13764" class="Symbol">{</a> <a id="13766" href="Relation.Binary.Structures.html#1596" class="Field">refl</a> <a id="13771" class="Symbol">=</a> <a id="13773" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="13778" class="Symbol">;</a> <a id="13780" href="Relation.Binary.Structures.html#1622" class="Field">sym</a> <a id="13784" class="Symbol">=</a> <a id="13786" href="Relation.Binary.Structures.html#1200" class="Function">sym</a><a id="13789" class="Symbol">;</a> <a id="13791" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="13797" class="Symbol">=</a> <a id="13799" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="13805" class="Symbol">}</a>
  <a id="13809" class="Keyword">where</a> <a id="13815" class="Keyword">open</a> <a id="13820" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="13827" href="Demos.HSP.html#13588" class="Bound">ùë©</a>

 <a id="13831" href="Demos.HSP.html#13831" class="Function">toIm</a> <a id="13836" class="Symbol">:</a> <a id="13838" class="Symbol">(</a><a id="13839" href="Demos.HSP.html#13839" class="Bound">f</a> <a id="13841" class="Symbol">:</a> <a id="13843" href="Demos.HSP.html#13571" class="Bound">ùë®</a> <a id="13845" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="13847" href="Demos.HSP.html#13588" class="Bound">ùë©</a><a id="13848" class="Symbol">)</a> <a id="13850" class="Symbol">‚Üí</a> <a id="13852" href="Demos.HSP.html#13571" class="Bound">ùë®</a> <a id="13854" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="13856" href="Demos.HSP.html#13613" class="Function">Im</a> <a id="13859" href="Demos.HSP.html#13839" class="Bound">f</a>
 <a id="13862" href="Demos.HSP.html#13831" class="Function">toIm</a> <a id="13867" href="Demos.HSP.html#13867" class="Bound">f</a> <a id="13869" class="Symbol">=</a> <a id="13871" class="Keyword">record</a> <a id="13878" class="Symbol">{</a> <a id="13880" href="Function.Bundles.html#2094" class="Field">to</a> <a id="13883" class="Symbol">=</a> <a id="13885" href="Function.Base.html#704" class="Function">id</a> <a id="13888" class="Symbol">;</a> <a id="13890" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="13895" class="Symbol">=</a> <a id="13897" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="13902" href="Demos.HSP.html#13867" class="Bound">f</a> <a id="13904" class="Symbol">}</a>

 <a id="13908" href="Demos.HSP.html#13908" class="Function">fromIm</a> <a id="13915" class="Symbol">:</a> <a id="13917" class="Symbol">(</a><a id="13918" href="Demos.HSP.html#13918" class="Bound">f</a> <a id="13920" class="Symbol">:</a> <a id="13922" href="Demos.HSP.html#13571" class="Bound">ùë®</a> <a id="13924" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="13926" href="Demos.HSP.html#13588" class="Bound">ùë©</a><a id="13927" class="Symbol">)</a> <a id="13929" class="Symbol">‚Üí</a> <a id="13931" href="Demos.HSP.html#13613" class="Function">Im</a> <a id="13934" href="Demos.HSP.html#13918" class="Bound">f</a> <a id="13936" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="13938" href="Demos.HSP.html#13588" class="Bound">ùë©</a>
 <a id="13941" href="Demos.HSP.html#13908" class="Function">fromIm</a> <a id="13948" href="Demos.HSP.html#13948" class="Bound">f</a> <a id="13950" class="Symbol">=</a> <a id="13952" class="Keyword">record</a> <a id="13959" class="Symbol">{</a> <a id="13961" href="Function.Bundles.html#2094" class="Field">to</a> <a id="13964" class="Symbol">=</a> <a id="13966" class="Symbol">Œª</a> <a id="13968" href="Demos.HSP.html#13968" class="Bound">x</a> <a id="13970" class="Symbol">‚Üí</a> <a id="13972" href="Demos.HSP.html#13948" class="Bound">f</a> <a id="13974" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="13978" href="Demos.HSP.html#13968" class="Bound">x</a> <a id="13980" class="Symbol">;</a> <a id="13982" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="13987" class="Symbol">=</a> <a id="13989" href="Function.Base.html#704" class="Function">id</a> <a id="13992" class="Symbol">}</a>

 <a id="13996" href="Demos.HSP.html#13996" class="Function">fromIm-inj</a> <a id="14007" class="Symbol">:</a> <a id="14009" class="Symbol">(</a><a id="14010" href="Demos.HSP.html#14010" class="Bound">f</a> <a id="14012" class="Symbol">:</a> <a id="14014" href="Demos.HSP.html#13571" class="Bound">ùë®</a> <a id="14016" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="14018" href="Demos.HSP.html#13588" class="Bound">ùë©</a><a id="14019" class="Symbol">)</a> <a id="14021" class="Symbol">‚Üí</a> <a id="14023" href="Demos.HSP.html#12142" class="Function">IsInjective</a> <a id="14035" class="Symbol">(</a><a id="14036" href="Demos.HSP.html#13908" class="Function">fromIm</a> <a id="14043" href="Demos.HSP.html#14010" class="Bound">f</a><a id="14044" class="Symbol">)</a>
 <a id="14047" href="Demos.HSP.html#13996" class="Function">fromIm-inj</a> <a id="14058" class="Symbol">_</a> <a id="14060" class="Symbol">=</a> <a id="14062" href="Function.Base.html#704" class="Function">id</a>

 <a id="14067" href="Demos.HSP.html#14067" class="Function">toIm-surj</a> <a id="14077" class="Symbol">:</a> <a id="14079" class="Symbol">(</a><a id="14080" href="Demos.HSP.html#14080" class="Bound">f</a> <a id="14082" class="Symbol">:</a> <a id="14084" href="Demos.HSP.html#13571" class="Bound">ùë®</a> <a id="14086" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="14088" href="Demos.HSP.html#13588" class="Bound">ùë©</a><a id="14089" class="Symbol">)</a> <a id="14091" class="Symbol">‚Üí</a> <a id="14093" href="Demos.HSP.html#12235" class="Function">IsSurjective</a> <a id="14106" class="Symbol">(</a><a id="14107" href="Demos.HSP.html#13831" class="Function">toIm</a> <a id="14112" href="Demos.HSP.html#14080" class="Bound">f</a><a id="14113" class="Symbol">)</a>
 <a id="14116" href="Demos.HSP.html#14067" class="Function">toIm-surj</a> <a id="14126" class="Symbol">_</a> <a id="14128" class="Symbol">=</a> <a id="14130" href="Demos.HSP.html#10397" class="InductiveConstructor">eq</a> <a id="14133" class="Symbol">_</a> <a id="14135" class="Symbol">(</a><a id="14136" href="Demos.HSP.html#6862" class="Function">reflÀ¢</a> <a id="14142" href="Demos.HSP.html#13588" class="Bound">ùë©</a><a id="14143" class="Symbol">)</a>
</pre>


### <a id="basic-universal-algebra">Basic Universal Algebra</a>

We now develop a working vocabulary in [MLTT][] corresponding to classical, single-sorted, set-based universal algebra. We cover a number of important concepts, but limit ourselves to those required to prove Birkhoff's HSP theorem. In each case, we give a type-theoretic version of the informal definition, followed by its implementation in [Agda][].

This section is organized into the following subsections:
¬ß[3.1](#signatures){reference-type="ref" reference="signatures"} defines
a general type of *signatures* of algebraic structures;
¬ß[3.2](#algebras){reference-type="ref" reference="algebras"} does the
same for structures and their products;
¬ß[3.3](#homomorphisms){reference-type="ref" reference="homomorphisms"}
defines *homomorphisms*, *monomorphisms*, and *epimorphisms*, presents
types that codify these concepts, and formally verifies some of their
basic properties; ¬ß[3.5](#subalgebras){reference-type="ref"
reference="subalgebras"}--[3.6](#terms){reference-type="ref"
reference="terms"} do the same for *subalgebras* and *terms*,
respectively.

#### <a id="signatures">Signatures</a>

An (algebraic) *signature* is a pair `ùëÜ = (F, œÅ)` where `F` is a collection of *operation symbols* and `œÅ : F ‚Üí N` is an *arity function* which maps each operation symbol to its arity. Here, `N` denotes the *arity type*. Heuristically, the arity of an operation symbol may be thought of as the number of arguments that takes as
"input."  We represent signatures as inhabitants of the following dependent pair type.

```agda
Signature : (ùí™ ùí± : Level) ‚Üí Type (lsuc (ùí™ ‚äî ùí±))
Signature ùí™ ùí± = Œ£[ F ‚àà Type ùí™ ] (F ‚Üí Type ùí±)
```

Recalling our syntax for the first and second projections, if `ùëÜ` is a signature, then `‚à£ ùëÜ ‚à£` denotes the set of operation symbols and `‚à• ùëÜ ‚à•` denotes the arity function. Thus, if `f : ‚à£ ùëÜ ‚à£` is an operation symbol in the signature `ùëÜ`, then `‚à• ùëÜ ‚à• f` is the arity of `f`.

We need to augment our `Signature` type so that it supports algebras over setoid domains. To do so, following Abel¬†[@Abel:2021], we define an operator that translates an ordinary signature into a *setoid signature*, that is, a signature over a setoid domain. This raises a minor technical issue: given operations `f` and `g`, with arguments `u : ‚à• ùëÜ ‚à• f ‚Üí A` and `v : ‚à• ùëÜ ‚à• g ‚Üí A`, respectively, and a proof of `f ‚â° g` (*intensional* equality), we ought to be able to check whether `u` and `v` are *pointwise* equal. Technically, `u` and `v` appear to inhabit different types; of course, this is reconciled by the hypothesis `f ‚â° g`, as we see in the next definition (borrowed from¬†[@Abel:2021]).

<pre class="Agda">

<a id="EqArgs"></a><a id="16831" href="Demos.HSP.html#16831" class="Function">EqArgs</a> <a id="16838" class="Symbol">:</a>  <a id="16841" class="Symbol">{</a><a id="16842" href="Demos.HSP.html#16842" class="Bound">ùëÜ</a> <a id="16844" class="Symbol">:</a> <a id="16846" href="Overture.Signatures.html#3264" class="Function">Signature</a> <a id="16856" href="Demos.HSP.html#5652" class="Bound">ùìû</a> <a id="16858" href="Demos.HSP.html#5654" class="Bound">ùì•</a><a id="16859" class="Symbol">}{</a><a id="16861" href="Demos.HSP.html#16861" class="Bound">Œæ</a> <a id="16863" class="Symbol">:</a> <a id="16865" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="16872" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="16874" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="16876" class="Symbol">}</a>
 <a id="16879" class="Symbol">‚Üí</a>        <a id="16888" class="Symbol">‚àÄ</a> <a id="16890" class="Symbol">{</a><a id="16891" href="Demos.HSP.html#16891" class="Bound">f</a> <a id="16893" href="Demos.HSP.html#16893" class="Bound">g</a><a id="16894" class="Symbol">}</a> <a id="16896" class="Symbol">‚Üí</a> <a id="16898" href="Demos.HSP.html#16891" class="Bound">f</a> <a id="16900" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">‚â°</a> <a id="16902" href="Demos.HSP.html#16893" class="Bound">g</a> <a id="16904" class="Symbol">‚Üí</a> <a id="16906" class="Symbol">(</a><a id="16907" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="16909" href="Demos.HSP.html#16842" class="Bound">ùëÜ</a> <a id="16911" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="16913" href="Demos.HSP.html#16891" class="Bound">f</a> <a id="16915" class="Symbol">‚Üí</a> <a id="16917" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="16925" href="Demos.HSP.html#16861" class="Bound">Œæ</a><a id="16926" class="Symbol">)</a> <a id="16928" class="Symbol">‚Üí</a> <a id="16930" class="Symbol">(</a><a id="16931" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="16933" href="Demos.HSP.html#16842" class="Bound">ùëÜ</a> <a id="16935" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="16937" href="Demos.HSP.html#16893" class="Bound">g</a> <a id="16939" class="Symbol">‚Üí</a> <a id="16941" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="16949" href="Demos.HSP.html#16861" class="Bound">Œæ</a><a id="16950" class="Symbol">)</a> <a id="16952" class="Symbol">‚Üí</a> <a id="16954" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="16959" class="Symbol">(</a><a id="16960" href="Demos.HSP.html#5654" class="Bound">ùì•</a> <a id="16962" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="16964" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="16966" class="Symbol">)</a>
<a id="16968" href="Demos.HSP.html#16831" class="Function">EqArgs</a> <a id="16975" class="Symbol">{</a><a id="16976" class="Argument">Œæ</a> <a id="16978" class="Symbol">=</a> <a id="16980" href="Demos.HSP.html#16980" class="Bound">Œæ</a><a id="16981" class="Symbol">}</a> <a id="16983" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="16990" href="Demos.HSP.html#16990" class="Bound">u</a> <a id="16992" href="Demos.HSP.html#16992" class="Bound">v</a> <a id="16994" class="Symbol">=</a> <a id="16996" class="Symbol">‚àÄ</a> <a id="16998" href="Demos.HSP.html#16998" class="Bound">i</a> <a id="17000" class="Symbol">‚Üí</a> <a id="17002" href="Demos.HSP.html#16990" class="Bound">u</a> <a id="17004" href="Demos.HSP.html#16998" class="Bound">i</a> <a id="17006" href="Relation.Binary.Bundles.html#1184" class="Function Operator">‚âà</a> <a id="17008" href="Demos.HSP.html#16992" class="Bound">v</a> <a id="17010" href="Demos.HSP.html#16998" class="Bound">i</a> <a id="17012" class="Keyword">where</a> <a id="17018" class="Keyword">open</a> <a id="17023" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="17030" href="Demos.HSP.html#16980" class="Bound">Œæ</a> <a id="17032" class="Keyword">using</a> <a id="17038" class="Symbol">(</a> <a id="17040" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="17044" class="Symbol">)</a>

</pre>

This makes it possible to define an operator which translates a signature for algebras over bare types into a signature for algebras over setoids. We denote this operator by `‚ü®_‚ü©` and define it as follows.

<pre class="Agda">

<a id="‚ü®_‚ü©"></a><a id="17280" href="Demos.HSP.html#17280" class="Function Operator">‚ü®_‚ü©</a> <a id="17284" class="Symbol">:</a> <a id="17286" href="Overture.Signatures.html#3264" class="Function">Signature</a> <a id="17296" href="Demos.HSP.html#5652" class="Bound">ùìû</a> <a id="17298" href="Demos.HSP.html#5654" class="Bound">ùì•</a> <a id="17300" class="Symbol">‚Üí</a> <a id="17302" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="17309" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="17311" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="17314" class="Symbol">‚Üí</a> <a id="17316" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="17323" class="Symbol">_</a> <a id="17325" class="Symbol">_</a>

<a id="17328" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a>  <a id="17337" class="Symbol">(</a><a id="17338" href="Demos.HSP.html#17280" class="Function Operator">‚ü®</a> <a id="17340" href="Demos.HSP.html#17340" class="Bound">ùëÜ</a> <a id="17342" href="Demos.HSP.html#17280" class="Function Operator">‚ü©</a> <a id="17344" href="Demos.HSP.html#17344" class="Bound">Œæ</a><a id="17345" class="Symbol">)</a>                <a id="17362" class="Symbol">=</a> <a id="17364" href="Data.Product.Base.html#1244" class="Function">Œ£[</a> <a id="17367" href="Demos.HSP.html#17367" class="Bound">f</a> <a id="17369" href="Data.Product.Base.html#1244" class="Function">‚àà</a> <a id="17371" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="17373" href="Demos.HSP.html#17340" class="Bound">ùëÜ</a> <a id="17375" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="17377" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="17379" class="Symbol">(</a><a id="17380" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="17382" href="Demos.HSP.html#17340" class="Bound">ùëÜ</a> <a id="17384" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="17386" href="Demos.HSP.html#17367" class="Bound">f</a> <a id="17388" class="Symbol">‚Üí</a> <a id="17390" href="Demos.HSP.html#17344" class="Bound">Œæ</a> <a id="17392" class="Symbol">.</a><a id="17393" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a><a id="17400" class="Symbol">)</a>
<a id="17402" href="Demos.HSP.html#6816" class="Field Operator">_‚âàÀ¢_</a>     <a id="17411" class="Symbol">(</a><a id="17412" href="Demos.HSP.html#17280" class="Function Operator">‚ü®</a> <a id="17414" href="Demos.HSP.html#17414" class="Bound">ùëÜ</a> <a id="17416" href="Demos.HSP.html#17280" class="Function Operator">‚ü©</a> <a id="17418" href="Demos.HSP.html#17418" class="Bound">Œæ</a><a id="17419" class="Symbol">)(</a><a id="17421" href="Demos.HSP.html#17421" class="Bound">f</a> <a id="17423" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17425" href="Demos.HSP.html#17425" class="Bound">u</a><a id="17426" class="Symbol">)(</a><a id="17428" href="Demos.HSP.html#17428" class="Bound">g</a> <a id="17430" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17432" href="Demos.HSP.html#17432" class="Bound">v</a><a id="17433" class="Symbol">)</a>  <a id="17436" class="Symbol">=</a> <a id="17438" href="Data.Product.Base.html#1244" class="Function">Œ£[</a> <a id="17441" href="Demos.HSP.html#17441" class="Bound">eqv</a> <a id="17445" href="Data.Product.Base.html#1244" class="Function">‚àà</a> <a id="17447" href="Demos.HSP.html#17421" class="Bound">f</a> <a id="17449" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">‚â°</a> <a id="17451" href="Demos.HSP.html#17428" class="Bound">g</a> <a id="17453" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="17455" href="Demos.HSP.html#16831" class="Function">EqArgs</a><a id="17461" class="Symbol">{</a><a id="17462" class="Argument">Œæ</a> <a id="17464" class="Symbol">=</a> <a id="17466" href="Demos.HSP.html#17418" class="Bound">Œæ</a><a id="17467" class="Symbol">}</a> <a id="17469" href="Demos.HSP.html#17441" class="Bound">eqv</a> <a id="17473" href="Demos.HSP.html#17425" class="Bound">u</a> <a id="17475" href="Demos.HSP.html#17432" class="Bound">v</a>

<a id="17478" href="Demos.HSP.html#6704" class="Field">refl·µâ</a>   <a id="17486" class="Symbol">(</a><a id="17487" href="Relation.Binary.Bundles.html#1218" class="Field">isEquivalence</a> <a id="17501" class="Symbol">(</a><a id="17502" href="Demos.HSP.html#17280" class="Function Operator">‚ü®</a> <a id="17504" href="Demos.HSP.html#17504" class="Bound">ùëÜ</a> <a id="17506" href="Demos.HSP.html#17280" class="Function Operator">‚ü©</a> <a id="17508" href="Demos.HSP.html#17508" class="Bound">Œæ</a><a id="17509" class="Symbol">))</a>                           <a id="17538" class="Symbol">=</a> <a id="17540" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="17547" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17549" class="Symbol">Œª</a> <a id="17551" href="Demos.HSP.html#17551" class="Bound">i</a> <a id="17553" class="Symbol">‚Üí</a> <a id="17555" href="Demos.HSP.html#6862" class="Function">reflÀ¢</a>   <a id="17563" href="Demos.HSP.html#17508" class="Bound">Œæ</a>
<a id="17565" href="Demos.HSP.html#6719" class="Field">sym·µâ</a>    <a id="17573" class="Symbol">(</a><a id="17574" href="Relation.Binary.Bundles.html#1218" class="Field">isEquivalence</a> <a id="17588" class="Symbol">(</a><a id="17589" href="Demos.HSP.html#17280" class="Function Operator">‚ü®</a> <a id="17591" href="Demos.HSP.html#17591" class="Bound">ùëÜ</a> <a id="17593" href="Demos.HSP.html#17280" class="Function Operator">‚ü©</a> <a id="17595" href="Demos.HSP.html#17595" class="Bound">Œæ</a><a id="17596" class="Symbol">))</a> <a id="17599" class="Symbol">(</a><a id="17600" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="17607" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17609" href="Demos.HSP.html#17609" class="Bound">g</a><a id="17610" class="Symbol">)</a>              <a id="17625" class="Symbol">=</a> <a id="17627" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="17634" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17636" class="Symbol">Œª</a> <a id="17638" href="Demos.HSP.html#17638" class="Bound">i</a> <a id="17640" class="Symbol">‚Üí</a> <a id="17642" href="Demos.HSP.html#6877" class="Function">symÀ¢</a>    <a id="17650" href="Demos.HSP.html#17595" class="Bound">Œæ</a> <a id="17652" class="Symbol">(</a><a id="17653" href="Demos.HSP.html#17609" class="Bound">g</a> <a id="17655" href="Demos.HSP.html#17638" class="Bound">i</a><a id="17656" class="Symbol">)</a>
<a id="17658" href="Demos.HSP.html#6735" class="Field">trans·µâ</a>  <a id="17666" class="Symbol">(</a><a id="17667" href="Relation.Binary.Bundles.html#1218" class="Field">isEquivalence</a> <a id="17681" class="Symbol">(</a><a id="17682" href="Demos.HSP.html#17280" class="Function Operator">‚ü®</a> <a id="17684" href="Demos.HSP.html#17684" class="Bound">ùëÜ</a> <a id="17686" href="Demos.HSP.html#17280" class="Function Operator">‚ü©</a> <a id="17688" href="Demos.HSP.html#17688" class="Bound">Œæ</a><a id="17689" class="Symbol">))</a> <a id="17692" class="Symbol">(</a><a id="17693" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="17700" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17702" href="Demos.HSP.html#17702" class="Bound">g</a><a id="17703" class="Symbol">)(</a><a id="17705" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="17712" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17714" href="Demos.HSP.html#17714" class="Bound">h</a><a id="17715" class="Symbol">)</a>  <a id="17718" class="Symbol">=</a> <a id="17720" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="17727" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17729" class="Symbol">Œª</a> <a id="17731" href="Demos.HSP.html#17731" class="Bound">i</a> <a id="17733" class="Symbol">‚Üí</a> <a id="17735" href="Demos.HSP.html#6893" class="Function">transÀ¢</a>  <a id="17743" href="Demos.HSP.html#17688" class="Bound">Œæ</a> <a id="17745" class="Symbol">(</a><a id="17746" href="Demos.HSP.html#17702" class="Bound">g</a> <a id="17748" href="Demos.HSP.html#17731" class="Bound">i</a><a id="17749" class="Symbol">)</a> <a id="17751" class="Symbol">(</a><a id="17752" href="Demos.HSP.html#17714" class="Bound">h</a> <a id="17754" href="Demos.HSP.html#17731" class="Bound">i</a><a id="17755" class="Symbol">)</a>
</pre>


#### <a id="algebras">Algebras</a>

An *algebraic structure* `ùë® = (A, F·¥¨)` *in the signature* `ùëÜ = (F, œÅ)`, or `ùëÜ`-*algebra*, consists of
*  a type `A`, called the *domain* of the algebra;
*  a collection `F·¥¨ := {f·¥¨ ‚à£ f ‚àà F, f·¥¨ : (œÅ f ‚Üí A) ‚Üí A}` of *operations* on `A`;
*  a (potentially empty) collection of *identities* satisfied by elements and operations of `ùë®`.
Our [Agda][] implementation represents algebras as inhabitants of a record type with two fields---a `Domain` setoid denoting the domain of the algebra, and an `Interp` function denoting the interpretation in the algebra of each operation symbol in `ùëÜ`. We postpone introducing identities until¬†¬ß[4](#equational-logic){reference-type="ref" reference="equational-logic"}.

<pre class="Agda">

<a id="18522" class="Keyword">record</a> <a id="Algebra"></a><a id="18529" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="18537" href="Demos.HSP.html#18537" class="Bound">Œ±</a> <a id="18539" href="Demos.HSP.html#18539" class="Bound">œÅ</a> <a id="18541" class="Symbol">:</a> <a id="18543" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="18548" class="Symbol">(</a><a id="18549" href="Demos.HSP.html#5652" class="Bound">ùìû</a> <a id="18551" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="18553" href="Demos.HSP.html#5654" class="Bound">ùì•</a> <a id="18555" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="18557" href="Agda.Primitive.html#931" class="Primitive">suc</a> <a id="18561" class="Symbol">(</a><a id="18562" href="Demos.HSP.html#18537" class="Bound">Œ±</a> <a id="18564" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="18566" href="Demos.HSP.html#18539" class="Bound">œÅ</a><a id="18567" class="Symbol">))</a> <a id="18570" class="Keyword">where</a>
 <a id="18577" class="Keyword">field</a>  <a id="Algebra.Domain"></a><a id="18584" href="Demos.HSP.html#18584" class="Field">Domain</a>  <a id="18592" class="Symbol">:</a> <a id="18594" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="18601" href="Demos.HSP.html#18537" class="Bound">Œ±</a> <a id="18603" href="Demos.HSP.html#18539" class="Bound">œÅ</a>
        <a id="Algebra.Interp"></a><a id="18613" href="Demos.HSP.html#18613" class="Field">Interp</a>  <a id="18621" class="Symbol">:</a> <a id="18623" href="Demos.HSP.html#17280" class="Function Operator">‚ü®</a> <a id="18625" href="Demos.HSP.html#5638" class="Bound">ùëÜ</a> <a id="18627" href="Demos.HSP.html#17280" class="Function Operator">‚ü©</a> <a id="18629" href="Demos.HSP.html#18584" class="Field">Domain</a> <a id="18636" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="18638" href="Demos.HSP.html#18584" class="Field">Domain</a>

</pre>

Thus, for each operation symbol in `ùëÜ` we have a setoid function `f` whose domain is a power of `Domain` and whose codomain is `Domain`. Further, we define some syntactic sugar to make our formalizations easier to read and reason about. Specifically, if `ùë®` is an algebra, then
*  `ùîª[ ùë® ]` denotes the `Domain` setoid of `ùë®`,
*  `ùïå[ ùë® ]` is the underlying carrier of (the `Domain` setoid of) `ùë®`, and
*  `f ÃÇ ùë®` denotes the interpretation of the operation symbol `f` in the algebra `ùë®`.

<pre class="Agda">

<a id="19160" class="Keyword">open</a> <a id="19165" href="Demos.HSP.html#18529" class="Module">Algebra</a>
<a id="ùîª[_]"></a><a id="19173" href="Demos.HSP.html#19173" class="Function Operator">ùîª[_]</a> <a id="19178" class="Symbol">:</a> <a id="19180" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="19188" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="19190" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="19193" class="Symbol">‚Üí</a>  <a id="19196" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="19203" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="19205" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a>
<a id="19208" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="19211" href="Demos.HSP.html#19211" class="Bound">ùë®</a> <a id="19213" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="19215" class="Symbol">=</a> <a id="19217" href="Demos.HSP.html#18584" class="Field">Domain</a> <a id="19224" href="Demos.HSP.html#19211" class="Bound">ùë®</a>

<a id="ùïå[_]"></a><a id="19227" href="Demos.HSP.html#19227" class="Function Operator">ùïå[_]</a> <a id="19232" class="Symbol">:</a> <a id="19234" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="19242" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="19244" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="19247" class="Symbol">‚Üí</a>  <a id="19250" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="19255" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a>
<a id="19257" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="19260" href="Demos.HSP.html#19260" class="Bound">ùë®</a> <a id="19262" href="Demos.HSP.html#19227" class="Function Operator">]</a> <a id="19264" class="Symbol">=</a> <a id="19266" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="19274" class="Symbol">(</a><a id="19275" href="Demos.HSP.html#18584" class="Field">Domain</a> <a id="19282" href="Demos.HSP.html#19260" class="Bound">ùë®</a><a id="19283" class="Symbol">)</a>

<a id="_ÃÇ_"></a><a id="19286" href="Demos.HSP.html#19286" class="Function Operator">_ÃÇ_</a> <a id="19290" class="Symbol">:</a> <a id="19292" class="Symbol">(</a><a id="19293" href="Demos.HSP.html#19293" class="Bound">f</a> <a id="19295" class="Symbol">:</a> <a id="19297" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="19299" href="Demos.HSP.html#5638" class="Bound">ùëÜ</a> <a id="19301" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a><a id="19302" class="Symbol">)(</a><a id="19304" href="Demos.HSP.html#19304" class="Bound">ùë®</a> <a id="19306" class="Symbol">:</a> <a id="19308" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="19316" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="19318" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="19320" class="Symbol">)</a> <a id="19322" class="Symbol">‚Üí</a> <a id="19324" class="Symbol">(</a><a id="19325" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="19327" href="Demos.HSP.html#5638" class="Bound">ùëÜ</a> <a id="19329" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="19331" href="Demos.HSP.html#19293" class="Bound">f</a>  <a id="19334" class="Symbol">‚Üí</a>  <a id="19337" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="19340" href="Demos.HSP.html#19304" class="Bound">ùë®</a> <a id="19342" href="Demos.HSP.html#19227" class="Function Operator">]</a><a id="19343" class="Symbol">)</a> <a id="19345" class="Symbol">‚Üí</a> <a id="19347" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="19350" href="Demos.HSP.html#19304" class="Bound">ùë®</a> <a id="19352" href="Demos.HSP.html#19227" class="Function Operator">]</a>
<a id="19354" href="Demos.HSP.html#19354" class="Bound">f</a> <a id="19356" href="Demos.HSP.html#19286" class="Function Operator">ÃÇ</a> <a id="19358" href="Demos.HSP.html#19358" class="Bound">ùë®</a> <a id="19360" class="Symbol">=</a> <a id="19362" class="Symbol">Œª</a> <a id="19364" href="Demos.HSP.html#19364" class="Bound">a</a> <a id="19366" class="Symbol">‚Üí</a> <a id="19368" class="Symbol">(</a><a id="19369" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="19376" href="Demos.HSP.html#19358" class="Bound">ùë®</a><a id="19377" class="Symbol">)</a> <a id="19379" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="19383" class="Symbol">(</a><a id="19384" href="Demos.HSP.html#19354" class="Bound">f</a> <a id="19386" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19388" href="Demos.HSP.html#19364" class="Bound">a</a><a id="19389" class="Symbol">)</a>
</pre>

#### <a id="universe-levels-of-algebra-types">Universe levels of algebra types</a>
<!-- {#universe-levels-of-algebra-types .unnumbered} -->

Types belong to *universes*, which are structured in [Agda][] as follows: 
`Type ‚Ñì : Type (suc ‚Ñì)`, `Type (suc ‚Ñì) : Type (suc (suc ‚Ñì))`.[^7] 
While this means that `Type ‚Ñì` has type `Type (suc ‚Ñì)`, it does *not* imply that `Type ‚Ñì` 
has type `Type (suc (suc ‚Ñì))`. In other words, [Agda][]'s universes are *non-cumulative*. 
This can be advantageous as it becomes possible to treat size issues more generally and precisely. 
However, dealing with explicit universe levels can be daunting, and the standard literature
(in which uniform smallness is typically assumed) offers little guidance. While in some settings, 
such as category theory, formalizing in [Agda][] works smoothly with respect to universe levels 
(see¬†[@agda-categories]), in universal algebra the terrain is bumpier. Thus, it seems worthwhile to 
explain how we make use of universe lifting and lowering functions, available in the 
[Agda Standard Library][], to develop domain-specific tools for dealing with [Agda][]'s non-cumulative 
universe hierarchy.

<!-- Let us be more concrete about what is at issue by considering a typical example. frequently encounters problems during the type-checking process and responds by printing a message like the following. Here informs us that it encountered universe level on line 498 of the HSP module, where it was expecting level ¬†¬†¬†¬†( ). In this case, we tried to use an algebra inhabiting the type whereas expected an inhabitant of the type ( ( )) . The operation of the standard library embeds a type into a higher universe. Specializing to our situation, we define a function ¬†with the following interface. -2mm . -->

The `Lift` operation of the standard library embeds a type into a higher universe. Specializing `Lift` to our situation, we define a function `Lift-Alg`.

<pre class="Agda">

<a id="21346" class="Keyword">module</a> <a id="21353" href="Demos.HSP.html#21353" class="Module">_</a> <a id="21355" class="Symbol">(</a><a id="21356" href="Demos.HSP.html#21356" class="Bound">ùë®</a> <a id="21358" class="Symbol">:</a> <a id="21360" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="21368" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="21370" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="21372" class="Symbol">)</a> <a id="21374" class="Keyword">where</a>
 <a id="21381" class="Keyword">open</a> <a id="21386" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="21393" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="21396" href="Demos.HSP.html#21356" class="Bound">ùë®</a> <a id="21398" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="21400" class="Keyword">using</a> <a id="21406" class="Symbol">(</a> <a id="21408" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="21412" class="Symbol">;</a> <a id="21414" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="21419" class="Symbol">;</a> <a id="21421" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="21425" class="Symbol">;</a> <a id="21427" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="21433" class="Symbol">)</a> <a id="21435" class="Symbol">;</a> <a id="21437" class="Keyword">open</a> <a id="21442" href="Level.html" class="Module">Level</a>
 <a id="21449" href="Demos.HSP.html#21449" class="Function">Lift-AlgÀ°</a> <a id="21459" class="Symbol">:</a> <a id="21461" class="Symbol">(</a><a id="21462" href="Demos.HSP.html#21462" class="Bound">‚Ñì</a> <a id="21464" class="Symbol">:</a> <a id="21466" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="21471" class="Symbol">)</a> <a id="21473" class="Symbol">‚Üí</a> <a id="21475" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="21483" class="Symbol">(</a><a id="21484" href="Demos.HSP.html#21368" class="Bound">Œ±</a> <a id="21486" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="21488" href="Demos.HSP.html#21462" class="Bound">‚Ñì</a><a id="21489" class="Symbol">)</a> <a id="21491" href="Demos.HSP.html#21370" class="Bound">œÅ·µÉ</a>
 <a id="21495" href="Demos.HSP.html#18584" class="Field">Domain</a> <a id="21502" class="Symbol">(</a><a id="21503" href="Demos.HSP.html#21449" class="Function">Lift-AlgÀ°</a> <a id="21513" href="Demos.HSP.html#21513" class="Bound">‚Ñì</a><a id="21514" class="Symbol">)</a> <a id="21516" class="Symbol">=</a>
  <a id="21520" class="Keyword">record</a>  <a id="21528" class="Symbol">{</a> <a id="21530" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a>        <a id="21545" class="Symbol">=</a> <a id="21547" href="Level.html#409" class="Record">Lift</a> <a id="21552" href="Demos.HSP.html#21513" class="Bound">‚Ñì</a> <a id="21554" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="21557" href="Demos.HSP.html#21356" class="Bound">ùë®</a> <a id="21559" href="Demos.HSP.html#19227" class="Function Operator">]</a>
          <a id="21571" class="Symbol">;</a> <a id="21573" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a>            <a id="21588" class="Symbol">=</a> <a id="21590" class="Symbol">Œª</a> <a id="21592" href="Demos.HSP.html#21592" class="Bound">x</a> <a id="21594" href="Demos.HSP.html#21594" class="Bound">y</a> <a id="21596" class="Symbol">‚Üí</a> <a id="21598" href="Level.html#479" class="Field">lower</a> <a id="21604" href="Demos.HSP.html#21592" class="Bound">x</a> <a id="21606" href="Relation.Binary.Bundles.html#1184" class="Function Operator">‚âà</a> <a id="21608" href="Level.html#479" class="Field">lower</a> <a id="21614" href="Demos.HSP.html#21594" class="Bound">y</a>
          <a id="21626" class="Symbol">;</a> <a id="21628" href="Relation.Binary.Bundles.html#1218" class="Field">isEquivalence</a>  <a id="21643" class="Symbol">=</a> <a id="21645" class="Keyword">record</a> <a id="21652" class="Symbol">{</a> <a id="21654" href="Relation.Binary.Structures.html#1596" class="Field">refl</a> <a id="21659" class="Symbol">=</a> <a id="21661" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="21666" class="Symbol">;</a> <a id="21668" href="Relation.Binary.Structures.html#1622" class="Field">sym</a> <a id="21672" class="Symbol">=</a> <a id="21674" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="21678" class="Symbol">;</a> <a id="21680" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="21686" class="Symbol">=</a> <a id="21688" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="21694" class="Symbol">}</a>
          <a id="21706" class="Symbol">}</a>
 <a id="21709" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="21716" class="Symbol">(</a><a id="21717" href="Demos.HSP.html#21449" class="Function">Lift-AlgÀ°</a> <a id="21727" href="Demos.HSP.html#21727" class="Bound">‚Ñì</a><a id="21728" class="Symbol">)</a> <a id="21730" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="21734" class="Symbol">(</a><a id="21735" href="Demos.HSP.html#21735" class="Bound">f</a> <a id="21737" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21739" href="Demos.HSP.html#21739" class="Bound">la</a><a id="21741" class="Symbol">)</a> <a id="21743" class="Symbol">=</a> <a id="21745" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="21750" class="Symbol">((</a><a id="21752" href="Demos.HSP.html#21735" class="Bound">f</a> <a id="21754" href="Demos.HSP.html#19286" class="Function Operator">ÃÇ</a> <a id="21756" href="Demos.HSP.html#21356" class="Bound">ùë®</a><a id="21757" class="Symbol">)</a> <a id="21759" class="Symbol">(</a><a id="21760" href="Level.html#479" class="Field">lower</a> <a id="21766" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="21768" href="Demos.HSP.html#21739" class="Bound">la</a><a id="21770" class="Symbol">))</a>
 <a id="21774" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="21779" class="Symbol">(</a><a id="21780" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="21787" class="Symbol">(</a><a id="21788" href="Demos.HSP.html#21449" class="Function">Lift-AlgÀ°</a> <a id="21798" href="Demos.HSP.html#21798" class="Bound">‚Ñì</a><a id="21799" class="Symbol">))</a> <a id="21802" class="Symbol">(</a><a id="21803" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="21810" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21812" href="Demos.HSP.html#21812" class="Bound">lab</a><a id="21815" class="Symbol">)</a> <a id="21817" class="Symbol">=</a> <a id="21819" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="21824" class="Symbol">(</a><a id="21825" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="21832" href="Demos.HSP.html#21356" class="Bound">ùë®</a><a id="21833" class="Symbol">)</a> <a id="21835" class="Symbol">((</a><a id="21837" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="21844" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21846" href="Demos.HSP.html#21812" class="Bound">lab</a><a id="21849" class="Symbol">))</a>

 <a id="21854" href="Demos.HSP.html#21854" class="Function">Lift-Alg ≥</a> <a id="21864" class="Symbol">:</a> <a id="21866" class="Symbol">(</a><a id="21867" href="Demos.HSP.html#21867" class="Bound">‚Ñì</a> <a id="21869" class="Symbol">:</a> <a id="21871" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="21876" class="Symbol">)</a> <a id="21878" class="Symbol">‚Üí</a> <a id="21880" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="21888" href="Demos.HSP.html#21368" class="Bound">Œ±</a> <a id="21890" class="Symbol">(</a><a id="21891" href="Demos.HSP.html#21370" class="Bound">œÅ·µÉ</a> <a id="21894" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="21896" href="Demos.HSP.html#21867" class="Bound">‚Ñì</a><a id="21897" class="Symbol">)</a>
 <a id="21900" href="Demos.HSP.html#18584" class="Field">Domain</a> <a id="21907" class="Symbol">(</a><a id="21908" href="Demos.HSP.html#21854" class="Function">Lift-Alg ≥</a> <a id="21918" href="Demos.HSP.html#21918" class="Bound">‚Ñì</a><a id="21919" class="Symbol">)</a> <a id="21921" class="Symbol">=</a>
  <a id="21925" class="Keyword">record</a>  <a id="21933" class="Symbol">{</a> <a id="21935" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a>        <a id="21950" class="Symbol">=</a> <a id="21952" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="21955" href="Demos.HSP.html#21356" class="Bound">ùë®</a> <a id="21957" href="Demos.HSP.html#19227" class="Function Operator">]</a>
          <a id="21969" class="Symbol">;</a> <a id="21971" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a>            <a id="21986" class="Symbol">=</a> <a id="21988" class="Symbol">Œª</a> <a id="21990" href="Demos.HSP.html#21990" class="Bound">x</a> <a id="21992" href="Demos.HSP.html#21992" class="Bound">y</a> <a id="21994" class="Symbol">‚Üí</a> <a id="21996" href="Level.html#409" class="Record">Lift</a> <a id="22001" href="Demos.HSP.html#21918" class="Bound">‚Ñì</a> <a id="22003" class="Symbol">(</a><a id="22004" href="Demos.HSP.html#21990" class="Bound">x</a> <a id="22006" href="Relation.Binary.Bundles.html#1184" class="Function Operator">‚âà</a> <a id="22008" href="Demos.HSP.html#21992" class="Bound">y</a><a id="22009" class="Symbol">)</a>
          <a id="22021" class="Symbol">;</a> <a id="22023" href="Relation.Binary.Bundles.html#1218" class="Field">isEquivalence</a>  <a id="22038" class="Symbol">=</a> <a id="22040" class="Keyword">record</a>  <a id="22048" class="Symbol">{</a> <a id="22050" href="Relation.Binary.Structures.html#1596" class="Field">refl</a>  <a id="22056" class="Symbol">=</a> <a id="22058" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="22063" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
                                     <a id="22105" class="Symbol">;</a> <a id="22107" href="Relation.Binary.Structures.html#1622" class="Field">sym</a>   <a id="22113" class="Symbol">=</a> <a id="22115" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="22120" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="22122" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="22126" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="22128" href="Level.html#479" class="Field">lower</a>
                                     <a id="22171" class="Symbol">;</a> <a id="22173" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="22179" class="Symbol">=</a> <a id="22181" class="Symbol">Œª</a> <a id="22183" href="Demos.HSP.html#22183" class="Bound">x</a> <a id="22185" href="Demos.HSP.html#22185" class="Bound">y</a> <a id="22187" class="Symbol">‚Üí</a> <a id="22189" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="22194" class="Symbol">(</a><a id="22195" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="22201" class="Symbol">(</a><a id="22202" href="Level.html#479" class="Field">lower</a> <a id="22208" href="Demos.HSP.html#22183" class="Bound">x</a><a id="22209" class="Symbol">)(</a><a id="22211" href="Level.html#479" class="Field">lower</a> <a id="22217" href="Demos.HSP.html#22185" class="Bound">y</a><a id="22218" class="Symbol">))</a>
                                     <a id="22258" class="Symbol">}</a>
          <a id="22270" class="Symbol">}</a>
 <a id="22273" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="22280" class="Symbol">(</a><a id="22281" href="Demos.HSP.html#21854" class="Function">Lift-Alg ≥</a> <a id="22291" href="Demos.HSP.html#22291" class="Bound">‚Ñì</a> <a id="22293" class="Symbol">)</a> <a id="22295" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="22299" class="Symbol">(</a><a id="22300" href="Demos.HSP.html#22300" class="Bound">f</a> <a id="22302" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22304" href="Demos.HSP.html#22304" class="Bound">la</a><a id="22306" class="Symbol">)</a> <a id="22308" class="Symbol">=</a> <a id="22310" class="Symbol">(</a><a id="22311" href="Demos.HSP.html#22300" class="Bound">f</a> <a id="22313" href="Demos.HSP.html#19286" class="Function Operator">ÃÇ</a> <a id="22315" href="Demos.HSP.html#21356" class="Bound">ùë®</a><a id="22316" class="Symbol">)</a> <a id="22318" href="Demos.HSP.html#22304" class="Bound">la</a>
 <a id="22322" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="22327" class="Symbol">(</a><a id="22328" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="22335" class="Symbol">(</a><a id="22336" href="Demos.HSP.html#21854" class="Function">Lift-Alg ≥</a> <a id="22346" href="Demos.HSP.html#22346" class="Bound">‚Ñì</a><a id="22347" class="Symbol">))(</a><a id="22350" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="22357" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22359" href="Demos.HSP.html#22359" class="Bound">lab</a><a id="22362" class="Symbol">)</a> <a id="22364" class="Symbol">=</a>
  <a id="22368" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="22373" class="Symbol">(</a> <a id="22375" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="22380" class="Symbol">(</a><a id="22381" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="22388" href="Demos.HSP.html#21356" class="Bound">ùë®</a><a id="22389" class="Symbol">)</a> <a id="22391" class="Symbol">(</a> <a id="22393" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="22400" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22402" class="Symbol">Œª</a> <a id="22404" href="Demos.HSP.html#22404" class="Bound">i</a> <a id="22406" class="Symbol">‚Üí</a> <a id="22408" href="Level.html#479" class="Field">lower</a> <a id="22414" class="Symbol">(</a><a id="22415" href="Demos.HSP.html#22359" class="Bound">lab</a> <a id="22419" href="Demos.HSP.html#22404" class="Bound">i</a><a id="22420" class="Symbol">)</a> <a id="22422" class="Symbol">)</a> <a id="22424" class="Symbol">)</a>

<a id="Lift-Alg"></a><a id="22427" href="Demos.HSP.html#22427" class="Function">Lift-Alg</a> <a id="22436" class="Symbol">:</a> <a id="22438" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="22446" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="22448" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="22451" class="Symbol">‚Üí</a> <a id="22453" class="Symbol">(</a><a id="22454" href="Demos.HSP.html#22454" class="Bound">‚Ñì‚ÇÄ</a> <a id="22457" href="Demos.HSP.html#22457" class="Bound">‚Ñì‚ÇÅ</a> <a id="22460" class="Symbol">:</a> <a id="22462" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="22467" class="Symbol">)</a> <a id="22469" class="Symbol">‚Üí</a> <a id="22471" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="22479" class="Symbol">(</a><a id="22480" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="22482" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="22484" href="Demos.HSP.html#22454" class="Bound">‚Ñì‚ÇÄ</a><a id="22486" class="Symbol">)</a> <a id="22488" class="Symbol">(</a><a id="22489" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="22492" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="22494" href="Demos.HSP.html#22457" class="Bound">‚Ñì‚ÇÅ</a><a id="22496" class="Symbol">)</a>
<a id="22498" href="Demos.HSP.html#22427" class="Function">Lift-Alg</a> <a id="22507" href="Demos.HSP.html#22507" class="Bound">ùë®</a> <a id="22509" href="Demos.HSP.html#22509" class="Bound">‚Ñì‚ÇÄ</a> <a id="22512" href="Demos.HSP.html#22512" class="Bound">‚Ñì‚ÇÅ</a> <a id="22515" class="Symbol">=</a> <a id="22517" href="Demos.HSP.html#21854" class="Function">Lift-Alg ≥</a> <a id="22527" class="Symbol">(</a><a id="22528" href="Demos.HSP.html#21449" class="Function">Lift-AlgÀ°</a> <a id="22538" href="Demos.HSP.html#22507" class="Bound">ùë®</a> <a id="22540" href="Demos.HSP.html#22509" class="Bound">‚Ñì‚ÇÄ</a><a id="22542" class="Symbol">)</a> <a id="22544" href="Demos.HSP.html#22512" class="Bound">‚Ñì‚ÇÅ</a>

</pre>

Recall that our `Algebra` type has two universe level parameters corresponding to
those of the domain setoid. Concretely, an algebra of type `Algebra Œ± œÅ·µÉ` has a
`Domain` of type `Setoid Œ± œÅ·µÉ`. This packages a  "carrier set" (`Carrier`),
inhabiting `Type Œ±`, with an equality on `Carrier` of type `Rel Carrier œÅ·µÉ`.
`Lift-Alg` takes an algebra parametrized by levels `Œ±` and `œÅ·µÉ` and constructs a
new algebra whose carrier  inhabits `Type (Œ± ‚äî ‚Ñì‚ÇÄ)` and whose equivalence inhabits
`Rel Carrier (œÅ·µÉ ‚äî ‚Ñì‚ÇÅ)`. To be useful, this lifting operation should result in an
algebra with the same semantic properties as the one we started with. We will see
in ¬ß[3.4](#sec:lift-alg){reference-type="ref" reference="sec:lift-alg"} that this
is indeed the case.


#### <a id="product-algebras">Product Algebras</a>
 <!-- {#product-algebras .unnumbered} -->

We define the *product* of a family of algebras as follows. Let `Œπ` be a universe
and `I : Type Œπ` a type (the "indexing type"). Then `ùíú : I ‚Üí Algebra Œ± œÅ·µÉ`
represents an *indexed family of algebras*. Denote by `‚®Ö ùíú` the *product of
algebras* in `ùíú` (or *product algebra*), by which we mean the algebra whose domain
is the Cartesian product `‚àè[i ‚àà I] ùîª[ ùíú i ]` of the domains of the algebras in
`ùíú`, and whose operations are those arising from the point-wise interpretation of
the operation symbols in the obvious way: if `f` is a `J`-ary operation symbol and
if `a : Œ†[ i ‚àà I ] J ‚Üí ùîª[ ùíú i ]` is, for each `i : I`, a `J`-tuple of elements of
the domain `ùîª[ ùíú i ]`, then we define the interpretation of `f` in `‚®Ö ùíú` by

`(f ÃÇ ‚®Ö ùíú) a := Œª (i : I) ‚Üí (f ÃÇ ùíú i)(a i)`.

Here is the formal definition of the product algebra type in [Agda][].

<pre class="Agda">

<a id="24252" class="Keyword">module</a> <a id="24259" href="Demos.HSP.html#24259" class="Module">_</a> <a id="24261" class="Symbol">{</a><a id="24262" href="Demos.HSP.html#24262" class="Bound">Œπ</a> <a id="24264" class="Symbol">:</a> <a id="24266" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="24271" class="Symbol">}{</a><a id="24273" href="Demos.HSP.html#24273" class="Bound">I</a> <a id="24275" class="Symbol">:</a> <a id="24277" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="24282" href="Demos.HSP.html#24262" class="Bound">Œπ</a> <a id="24284" class="Symbol">}</a> <a id="24286" class="Keyword">where</a>

 <a id="24294" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="24296" class="Symbol">:</a> <a id="24298" class="Symbol">(</a><a id="24299" href="Demos.HSP.html#24299" class="Bound">ùíú</a> <a id="24301" class="Symbol">:</a> <a id="24303" href="Demos.HSP.html#24273" class="Bound">I</a> <a id="24305" class="Symbol">‚Üí</a> <a id="24307" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="24315" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="24317" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="24319" class="Symbol">)</a> <a id="24321" class="Symbol">‚Üí</a> <a id="24323" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="24331" class="Symbol">(</a><a id="24332" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="24334" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="24336" href="Demos.HSP.html#24262" class="Bound">Œπ</a><a id="24337" class="Symbol">)</a> <a id="24339" class="Symbol">(</a><a id="24340" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="24343" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="24345" href="Demos.HSP.html#24262" class="Bound">Œπ</a><a id="24346" class="Symbol">)</a>
 <a id="24349" href="Demos.HSP.html#18584" class="Field">Domain</a> <a id="24356" class="Symbol">(</a><a id="24357" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="24359" href="Demos.HSP.html#24359" class="Bound">ùíú</a><a id="24360" class="Symbol">)</a> <a id="24362" class="Symbol">=</a>
  <a id="24366" class="Keyword">record</a>  <a id="24374" class="Symbol">{</a> <a id="24376" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="24384" class="Symbol">=</a> <a id="24386" class="Symbol">‚àÄ</a> <a id="24388" href="Demos.HSP.html#24388" class="Bound">i</a> <a id="24390" class="Symbol">‚Üí</a> <a id="24392" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="24395" href="Demos.HSP.html#24359" class="Bound">ùíú</a> <a id="24397" href="Demos.HSP.html#24388" class="Bound">i</a> <a id="24399" href="Demos.HSP.html#19227" class="Function Operator">]</a>
          <a id="24411" class="Symbol">;</a> <a id="24413" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="24417" class="Symbol">=</a> <a id="24419" class="Symbol">Œª</a> <a id="24421" href="Demos.HSP.html#24421" class="Bound">a</a> <a id="24423" href="Demos.HSP.html#24423" class="Bound">b</a> <a id="24425" class="Symbol">‚Üí</a> <a id="24427" class="Symbol">‚àÄ</a> <a id="24429" href="Demos.HSP.html#24429" class="Bound">i</a> <a id="24431" class="Symbol">‚Üí</a> <a id="24433" class="Symbol">(</a><a id="24434" href="Demos.HSP.html#6816" class="Field Operator">_‚âàÀ¢_</a> <a id="24439" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="24442" href="Demos.HSP.html#24359" class="Bound">ùíú</a> <a id="24444" href="Demos.HSP.html#24429" class="Bound">i</a> <a id="24446" href="Demos.HSP.html#19173" class="Function Operator">]</a><a id="24447" class="Symbol">)</a> <a id="24449" class="Symbol">(</a><a id="24450" href="Demos.HSP.html#24421" class="Bound">a</a> <a id="24452" href="Demos.HSP.html#24429" class="Bound">i</a><a id="24453" class="Symbol">)(</a><a id="24455" href="Demos.HSP.html#24423" class="Bound">b</a> <a id="24457" href="Demos.HSP.html#24429" class="Bound">i</a><a id="24458" class="Symbol">)</a>
          <a id="24470" class="Symbol">;</a> <a id="24472" href="Relation.Binary.Bundles.html#1218" class="Field">isEquivalence</a> <a id="24486" class="Symbol">=</a>
             <a id="24501" class="Keyword">record</a>  <a id="24509" class="Symbol">{</a> <a id="24511" href="Relation.Binary.Structures.html#1596" class="Field">refl</a> <a id="24516" class="Symbol">=</a> <a id="24518" class="Symbol">Œª</a> <a id="24520" href="Demos.HSP.html#24520" class="Bound">i</a> <a id="24522" class="Symbol">‚Üí</a> <a id="24524" href="Demos.HSP.html#6704" class="Field">refl·µâ</a> <a id="24530" class="Symbol">(</a><a id="24531" href="Relation.Binary.Bundles.html#1218" class="Field">isEquivalence</a> <a id="24545" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="24548" href="Demos.HSP.html#24359" class="Bound">ùíú</a> <a id="24550" href="Demos.HSP.html#24520" class="Bound">i</a> <a id="24552" href="Demos.HSP.html#19173" class="Function Operator">]</a><a id="24553" class="Symbol">)</a>
                     <a id="24576" class="Symbol">;</a> <a id="24578" href="Relation.Binary.Structures.html#1622" class="Field">sym</a> <a id="24582" class="Symbol">=</a> <a id="24584" class="Symbol">Œª</a> <a id="24586" href="Demos.HSP.html#24586" class="Bound">x</a> <a id="24588" href="Demos.HSP.html#24588" class="Bound">i</a> <a id="24590" class="Symbol">‚Üí</a> <a id="24592" href="Demos.HSP.html#6719" class="Field">sym·µâ</a> <a id="24597" class="Symbol">(</a><a id="24598" href="Relation.Binary.Bundles.html#1218" class="Field">isEquivalence</a> <a id="24612" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="24615" href="Demos.HSP.html#24359" class="Bound">ùíú</a> <a id="24617" href="Demos.HSP.html#24588" class="Bound">i</a> <a id="24619" href="Demos.HSP.html#19173" class="Function Operator">]</a><a id="24620" class="Symbol">)(</a><a id="24622" href="Demos.HSP.html#24586" class="Bound">x</a> <a id="24624" href="Demos.HSP.html#24588" class="Bound">i</a><a id="24625" class="Symbol">)</a>
                     <a id="24648" class="Symbol">;</a> <a id="24650" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="24656" class="Symbol">=</a> <a id="24658" class="Symbol">Œª</a> <a id="24660" href="Demos.HSP.html#24660" class="Bound">x</a> <a id="24662" href="Demos.HSP.html#24662" class="Bound">y</a> <a id="24664" href="Demos.HSP.html#24664" class="Bound">i</a> <a id="24666" class="Symbol">‚Üí</a> <a id="24668" href="Demos.HSP.html#6735" class="Field">trans·µâ</a> <a id="24675" class="Symbol">(</a><a id="24676" href="Relation.Binary.Bundles.html#1218" class="Field">isEquivalence</a> <a id="24690" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="24693" href="Demos.HSP.html#24359" class="Bound">ùíú</a> <a id="24695" href="Demos.HSP.html#24664" class="Bound">i</a> <a id="24697" href="Demos.HSP.html#19173" class="Function Operator">]</a><a id="24698" class="Symbol">)(</a><a id="24700" href="Demos.HSP.html#24660" class="Bound">x</a> <a id="24702" href="Demos.HSP.html#24664" class="Bound">i</a><a id="24703" class="Symbol">)(</a><a id="24705" href="Demos.HSP.html#24662" class="Bound">y</a> <a id="24707" href="Demos.HSP.html#24664" class="Bound">i</a><a id="24708" class="Symbol">)</a>
                     <a id="24731" class="Symbol">}</a>
          <a id="24743" class="Symbol">}</a>

 <a id="24747" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="24754" class="Symbol">(</a><a id="24755" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="24757" href="Demos.HSP.html#24757" class="Bound">ùíú</a><a id="24758" class="Symbol">)</a> <a id="24760" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="24764" class="Symbol">(</a><a id="24765" href="Demos.HSP.html#24765" class="Bound">f</a> <a id="24767" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24769" href="Demos.HSP.html#24769" class="Bound">a</a><a id="24770" class="Symbol">)</a> <a id="24772" class="Symbol">=</a> <a id="24774" class="Symbol">Œª</a> <a id="24776" href="Demos.HSP.html#24776" class="Bound">i</a> <a id="24778" class="Symbol">‚Üí</a> <a id="24780" class="Symbol">(</a><a id="24781" href="Demos.HSP.html#24765" class="Bound">f</a> <a id="24783" href="Demos.HSP.html#19286" class="Function Operator">ÃÇ</a> <a id="24785" class="Symbol">(</a><a id="24786" href="Demos.HSP.html#24757" class="Bound">ùíú</a> <a id="24788" href="Demos.HSP.html#24776" class="Bound">i</a><a id="24789" class="Symbol">))</a> <a id="24792" class="Symbol">(</a><a id="24793" href="Function.Base.html#1638" class="Function">flip</a> <a id="24798" href="Demos.HSP.html#24769" class="Bound">a</a> <a id="24800" href="Demos.HSP.html#24776" class="Bound">i</a><a id="24801" class="Symbol">)</a>
 <a id="24804" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="24809" class="Symbol">(</a><a id="24810" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="24817" class="Symbol">(</a><a id="24818" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="24820" href="Demos.HSP.html#24820" class="Bound">ùíú</a><a id="24821" class="Symbol">))</a> <a id="24824" class="Symbol">(</a><a id="24825" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="24832" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24834" href="Demos.HSP.html#24834" class="Bound">f=g</a> <a id="24838" class="Symbol">)</a> <a id="24840" class="Symbol">=</a> <a id="24842" class="Symbol">Œª</a> <a id="24844" href="Demos.HSP.html#24844" class="Bound">i</a> <a id="24846" class="Symbol">‚Üí</a> <a id="24848" href="Function.Bundles.html#2113" class="Field">cong</a>  <a id="24854" class="Symbol">(</a> <a id="24856" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="24863" class="Symbol">(</a><a id="24864" href="Demos.HSP.html#24820" class="Bound">ùíú</a> <a id="24866" href="Demos.HSP.html#24844" class="Bound">i</a><a id="24867" class="Symbol">)</a> <a id="24869" class="Symbol">)</a>
                                                   <a id="24922" class="Symbol">(</a> <a id="24924" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="24931" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24933" href="Function.Base.html#1638" class="Function">flip</a> <a id="24938" href="Demos.HSP.html#24834" class="Bound">f=g</a> <a id="24942" href="Demos.HSP.html#24844" class="Bound">i</a> <a id="24944" class="Symbol">)</a>

</pre>

Evidently, the carrier of the product algebra type is indeed the (dependent)
product of the carriers in the indexed family. The rest of the definitions are the
point-wise versions of the underlying ones.

#### <a id="structure-preserving-maps-and-isomorphism">Structure preserving maps and isomorphism</a>

Throughout the rest of the paper, unless stated otherwise, `ùë®` and `ùë©` will denote
`ùëÜ`-algebras inhabiting the types `Algebra Œ± œÅ·µÉ` and `Algebra Œ≤ œÅ·µá`, respectively.

A *homomorphism* (or "hom") from `ùë®` to `ùë©` is a setoid function
`h : ùîª[ ùë® ] ‚ü∂ ùîª[ ùë© ]` that is *compatible* with all basic operations; that is, for
every operation symbol `f : ‚à£ ùëÜ ‚à£` and all tuples `a : ‚à• ùëÜ ‚à• f ‚Üí ùïå[ ùë® ]`, we have
`h ‚ü®$‚ü© (f ÃÇ ùë®) a ‚âà (f ÃÇ ùë©) Œª x ‚Üí h ‚ü®$‚ü© (a x)`.

It is convenient to first formalize "compatible" (`compatible-map-op`),
representing the assertion that a given setoid function `h : ùîª[ ùë® ] ‚ü∂ ùîª[ ùë© ]`
commutes with a given operation symbol `f`, and then generalize over operation
symbols to yield the type (`compatible-map`) of compatible maps from (the domain
of) `ùë®` to (the domain of) `ùë©`.

<pre class="Agda">

<a id="26068" class="Keyword">module</a> <a id="26075" href="Demos.HSP.html#26075" class="Module">_</a> <a id="26077" class="Symbol">(</a><a id="26078" href="Demos.HSP.html#26078" class="Bound">ùë®</a> <a id="26080" class="Symbol">:</a> <a id="26082" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="26090" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="26092" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="26094" class="Symbol">)(</a><a id="26096" href="Demos.HSP.html#26096" class="Bound">ùë©</a> <a id="26098" class="Symbol">:</a> <a id="26100" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="26108" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="26110" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="26112" class="Symbol">)</a> <a id="26114" class="Keyword">where</a>

 <a id="26122" href="Demos.HSP.html#26122" class="Function">compatible-map-op</a> <a id="26140" class="Symbol">:</a> <a id="26142" class="Symbol">(</a><a id="26143" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="26146" href="Demos.HSP.html#26078" class="Bound">ùë®</a> <a id="26148" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="26150" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="26152" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="26155" href="Demos.HSP.html#26096" class="Bound">ùë©</a> <a id="26157" href="Demos.HSP.html#19173" class="Function Operator">]</a><a id="26158" class="Symbol">)</a> <a id="26160" class="Symbol">‚Üí</a> <a id="26162" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="26164" href="Demos.HSP.html#5638" class="Bound">ùëÜ</a> <a id="26166" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="26168" class="Symbol">‚Üí</a> <a id="26170" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="26175" class="Symbol">_</a>
 <a id="26178" href="Demos.HSP.html#26122" class="Function">compatible-map-op</a> <a id="26196" href="Demos.HSP.html#26196" class="Bound">h</a> <a id="26198" href="Demos.HSP.html#26198" class="Bound">f</a> <a id="26200" class="Symbol">=</a> <a id="26202" class="Symbol">‚àÄ</a> <a id="26204" class="Symbol">{</a><a id="26205" href="Demos.HSP.html#26205" class="Bound">a</a><a id="26206" class="Symbol">}</a> <a id="26208" class="Symbol">‚Üí</a> <a id="26210" href="Demos.HSP.html#26196" class="Bound">h</a> <a id="26212" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="26216" class="Symbol">(</a><a id="26217" href="Demos.HSP.html#26198" class="Bound">f</a> <a id="26219" href="Demos.HSP.html#19286" class="Function Operator">ÃÇ</a> <a id="26221" href="Demos.HSP.html#26078" class="Bound">ùë®</a><a id="26222" class="Symbol">)</a> <a id="26224" href="Demos.HSP.html#26205" class="Bound">a</a> <a id="26226" href="Relation.Binary.Bundles.html#1184" class="Function Operator">‚âà</a> <a id="26228" class="Symbol">(</a><a id="26229" href="Demos.HSP.html#26198" class="Bound">f</a> <a id="26231" href="Demos.HSP.html#19286" class="Function Operator">ÃÇ</a> <a id="26233" href="Demos.HSP.html#26096" class="Bound">ùë©</a><a id="26234" class="Symbol">)</a> <a id="26236" class="Symbol">Œª</a> <a id="26238" href="Demos.HSP.html#26238" class="Bound">x</a> <a id="26240" class="Symbol">‚Üí</a> <a id="26242" href="Demos.HSP.html#26196" class="Bound">h</a> <a id="26244" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="26248" class="Symbol">(</a><a id="26249" href="Demos.HSP.html#26205" class="Bound">a</a> <a id="26251" href="Demos.HSP.html#26238" class="Bound">x</a><a id="26252" class="Symbol">)</a>
  <a id="26256" class="Keyword">where</a> <a id="26262" class="Keyword">open</a> <a id="26267" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="26274" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="26277" href="Demos.HSP.html#26096" class="Bound">ùë©</a> <a id="26279" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="26281" class="Keyword">using</a> <a id="26287" class="Symbol">(</a> <a id="26289" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="26293" class="Symbol">)</a>

 <a id="26297" href="Demos.HSP.html#26297" class="Function">compatible-map</a> <a id="26312" class="Symbol">:</a> <a id="26314" class="Symbol">(</a><a id="26315" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="26318" href="Demos.HSP.html#26078" class="Bound">ùë®</a> <a id="26320" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="26322" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="26324" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="26327" href="Demos.HSP.html#26096" class="Bound">ùë©</a> <a id="26329" href="Demos.HSP.html#19173" class="Function Operator">]</a><a id="26330" class="Symbol">)</a> <a id="26332" class="Symbol">‚Üí</a> <a id="26334" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="26339" class="Symbol">_</a>
 <a id="26342" href="Demos.HSP.html#26297" class="Function">compatible-map</a> <a id="26357" href="Demos.HSP.html#26357" class="Bound">h</a> <a id="26359" class="Symbol">=</a> <a id="26361" class="Symbol">‚àÄ</a> <a id="26363" class="Symbol">{</a><a id="26364" href="Demos.HSP.html#26364" class="Bound">f</a><a id="26365" class="Symbol">}</a> <a id="26367" class="Symbol">‚Üí</a> <a id="26369" href="Demos.HSP.html#26122" class="Function">compatible-map-op</a> <a id="26387" href="Demos.HSP.html#26357" class="Bound">h</a> <a id="26389" href="Demos.HSP.html#26364" class="Bound">f</a>

</pre>

Using these we define the property (`IsHom`) of being a homomorphism, and
finally the type (`hom`) of homomorphisms from `ùë®` to `ùë©`.

<pre class="Agda">

 <a id="26553" class="Keyword">record</a> <a id="26560" href="Demos.HSP.html#26560" class="Record">IsHom</a> <a id="26566" class="Symbol">(</a><a id="26567" href="Demos.HSP.html#26567" class="Bound">h</a> <a id="26569" class="Symbol">:</a> <a id="26571" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="26574" href="Demos.HSP.html#26078" class="Bound">ùë®</a> <a id="26576" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="26578" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="26580" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="26583" href="Demos.HSP.html#26096" class="Bound">ùë©</a> <a id="26585" href="Demos.HSP.html#19173" class="Function Operator">]</a><a id="26586" class="Symbol">)</a> <a id="26588" class="Symbol">:</a> <a id="26590" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="26595" class="Symbol">(</a><a id="26596" href="Demos.HSP.html#5652" class="Bound">ùìû</a> <a id="26598" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="26600" href="Demos.HSP.html#5654" class="Bound">ùì•</a> <a id="26602" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="26604" href="Demos.HSP.html#26090" class="Bound">Œ±</a> <a id="26606" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="26608" href="Demos.HSP.html#26110" class="Bound">œÅ·µá</a><a id="26610" class="Symbol">)</a> <a id="26612" class="Keyword">where</a>
  <a id="26620" class="Keyword">constructor</a>  <a id="26633" href="Demos.HSP.html#26633" class="InductiveConstructor">mkhom</a>
  <a id="26641" class="Keyword">field</a>        <a id="26654" href="Demos.HSP.html#26654" class="Field">compatible</a> <a id="26665" class="Symbol">:</a> <a id="26667" href="Demos.HSP.html#26297" class="Function">compatible-map</a> <a id="26682" href="Demos.HSP.html#26567" class="Bound">h</a>

 <a id="26686" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="26690" class="Symbol">:</a> <a id="26692" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="26697" class="Symbol">_</a>
 <a id="26700" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="26704" class="Symbol">=</a> <a id="26706" href="Agda.Builtin.Sigma.html#165" class="Record">Œ£</a> <a id="26708" class="Symbol">(</a><a id="26709" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a>¬†<a id="26712" href="Demos.HSP.html#26078" class="Bound">ùë®</a> <a id="26714" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="26716" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="26718" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="26721" href="Demos.HSP.html#26096" class="Bound">ùë©</a> <a id="26723" href="Demos.HSP.html#19173" class="Function Operator">]</a><a id="26724" class="Symbol">)</a> <a id="26726" href="Demos.HSP.html#26560" class="Record">IsHom</a>

</pre>

Thus, an inhabitant of `hom ùë® ùë©` is a pair `(h , p)` consisting of a setoid
function `h`, from the domain of `ùë®` to that of `ùë©`, along with a proof `p` that
`h` is a homomorphism.

A *monomorphism* (resp. *epimorphism*) is an injective (resp. surjective)
homomorphism. The [agda-algebras][] library defines predicates and for these, as
well as and for the corresponding types.

<pre class="Agda">

 <a id="27138" class="Keyword">record</a> <a id="27145" href="Demos.HSP.html#27145" class="Record">IsMon</a> <a id="27151" class="Symbol">(</a><a id="27152" href="Demos.HSP.html#27152" class="Bound">h</a> <a id="27154" class="Symbol">:</a> <a id="27156" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="27159" href="Demos.HSP.html#26078" class="Bound">ùë®</a> <a id="27161" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="27163" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="27165" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="27168" href="Demos.HSP.html#26096" class="Bound">ùë©</a> <a id="27170" href="Demos.HSP.html#19173" class="Function Operator">]</a><a id="27171" class="Symbol">)</a> <a id="27173" class="Symbol">:</a> <a id="27175" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="27180" class="Symbol">(</a><a id="27181" href="Demos.HSP.html#5652" class="Bound">ùìû</a> <a id="27183" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="27185" href="Demos.HSP.html#5654" class="Bound">ùì•</a> <a id="27187" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="27189" href="Demos.HSP.html#26090" class="Bound">Œ±</a> <a id="27191" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="27193" href="Demos.HSP.html#26092" class="Bound">œÅ·µÉ</a> <a id="27196" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="27198" href="Demos.HSP.html#26110" class="Bound">œÅ·µá</a><a id="27200" class="Symbol">)</a> <a id="27202" class="Keyword">where</a>
  <a id="27210" class="Keyword">field</a>  <a id="27217" href="Demos.HSP.html#27217" class="Field">isHom</a> <a id="27223" class="Symbol">:</a> <a id="27225" href="Demos.HSP.html#26560" class="Record">IsHom</a> <a id="27231" href="Demos.HSP.html#27152" class="Bound">h</a>
         <a id="27242" href="Demos.HSP.html#27242" class="Field">isInjective</a> <a id="27254" class="Symbol">:</a> <a id="27256" href="Demos.HSP.html#12142" class="Function">IsInjective</a> <a id="27268" href="Demos.HSP.html#27152" class="Bound">h</a>
  <a id="27272" href="Demos.HSP.html#27272" class="Function">HomReduct</a> <a id="27282" class="Symbol">:</a> <a id="27284" href="Demos.HSP.html#26686" class="Function">hom</a>
  <a id="27290" href="Demos.HSP.html#27272" class="Function">HomReduct</a> <a id="27300" class="Symbol">=</a> <a id="27302" href="Demos.HSP.html#27152" class="Bound">h</a> <a id="27304" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27306" href="Demos.HSP.html#27217" class="Field">isHom</a>

 <a id="27314" href="Demos.HSP.html#27314" class="Function">mon</a> <a id="27318" class="Symbol">:</a> <a id="27320" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="27325" class="Symbol">_</a>
 <a id="27328" href="Demos.HSP.html#27314" class="Function">mon</a> <a id="27332" class="Symbol">=</a> <a id="27334" href="Agda.Builtin.Sigma.html#165" class="Record">Œ£</a> <a id="27336" class="Symbol">(</a><a id="27337" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="27340" href="Demos.HSP.html#26078" class="Bound">ùë®</a> <a id="27342" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="27344" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="27346" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="27349" href="Demos.HSP.html#26096" class="Bound">ùë©</a> <a id="27351" href="Demos.HSP.html#19173" class="Function Operator">]</a><a id="27352" class="Symbol">)</a> <a id="27354" href="Demos.HSP.html#27145" class="Record">IsMon</a>

</pre>

As with `hom`, the type `mon` is a dependent product type; each inhabitant is a
pair consisting of a setoid function, say, `h`, along with a proof that `h` is a
monomorphism.

<pre class="Agda">

 <a id="27564" class="Keyword">record</a> <a id="27571" href="Demos.HSP.html#27571" class="Record">IsEpi</a> <a id="27577" class="Symbol">(</a><a id="27578" href="Demos.HSP.html#27578" class="Bound">h</a> <a id="27580" class="Symbol">:</a> <a id="27582" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="27585" href="Demos.HSP.html#26078" class="Bound">ùë®</a> <a id="27587" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="27589" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="27591" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="27594" href="Demos.HSP.html#26096" class="Bound">ùë©</a> <a id="27596" href="Demos.HSP.html#19173" class="Function Operator">]</a><a id="27597" class="Symbol">)</a> <a id="27599" class="Symbol">:</a> <a id="27601" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="27606" class="Symbol">(</a><a id="27607" href="Demos.HSP.html#5652" class="Bound">ùìû</a> <a id="27609" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="27611" href="Demos.HSP.html#5654" class="Bound">ùì•</a> <a id="27613" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="27615" href="Demos.HSP.html#26090" class="Bound">Œ±</a> <a id="27617" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="27619" href="Demos.HSP.html#26108" class="Bound">Œ≤</a> <a id="27621" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="27623" href="Demos.HSP.html#26110" class="Bound">œÅ·µá</a><a id="27625" class="Symbol">)</a> <a id="27627" class="Keyword">where</a>
  <a id="27635" class="Keyword">field</a>  <a id="27642" href="Demos.HSP.html#27642" class="Field">isHom</a> <a id="27648" class="Symbol">:</a> <a id="27650" href="Demos.HSP.html#26560" class="Record">IsHom</a> <a id="27656" href="Demos.HSP.html#27578" class="Bound">h</a>
         <a id="27667" href="Demos.HSP.html#27667" class="Field">isSurjective</a> <a id="27680" class="Symbol">:</a> <a id="27682" href="Demos.HSP.html#12235" class="Function">IsSurjective</a> <a id="27695" href="Demos.HSP.html#27578" class="Bound">h</a>
  <a id="27699" href="Demos.HSP.html#27699" class="Function">HomReduct</a> <a id="27709" class="Symbol">:</a> <a id="27711" href="Demos.HSP.html#26686" class="Function">hom</a>
  <a id="27717" href="Demos.HSP.html#27699" class="Function">HomReduct</a> <a id="27727" class="Symbol">=</a> <a id="27729" href="Demos.HSP.html#27578" class="Bound">h</a> <a id="27731" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27733" href="Demos.HSP.html#27642" class="Field">isHom</a>

 <a id="27741" href="Demos.HSP.html#27741" class="Function">epi</a> <a id="27745" class="Symbol">:</a> <a id="27747" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="27752" class="Symbol">_</a>
 <a id="27755" href="Demos.HSP.html#27741" class="Function">epi</a> <a id="27759" class="Symbol">=</a> <a id="27761" href="Agda.Builtin.Sigma.html#165" class="Record">Œ£</a> <a id="27763" class="Symbol">(</a><a id="27764" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="27767" href="Demos.HSP.html#26078" class="Bound">ùë®</a> <a id="27769" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="27771" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="27773" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="27776" href="Demos.HSP.html#26096" class="Bound">ùë©</a> <a id="27778" href="Demos.HSP.html#19173" class="Function Operator">]</a><a id="27779" class="Symbol">)</a> <a id="27781" href="Demos.HSP.html#27571" class="Record">IsEpi</a>

</pre>

Here are two utilities that are useful for translating between types.

<pre class="Agda">

<a id="27885" class="Keyword">open</a> <a id="27890" href="Demos.HSP.html#26560" class="Module">IsHom</a> <a id="27896" class="Symbol">;</a> <a id="27898" class="Keyword">open</a> <a id="27903" href="Demos.HSP.html#27145" class="Module">IsMon</a> <a id="27909" class="Symbol">;</a> <a id="27911" class="Keyword">open</a> <a id="27916" href="Demos.HSP.html#27571" class="Module">IsEpi</a>
<a id="27922" class="Keyword">module</a> <a id="27929" href="Demos.HSP.html#27929" class="Module">_</a> <a id="27931" class="Symbol">(</a><a id="27932" href="Demos.HSP.html#27932" class="Bound">ùë®</a> <a id="27934" class="Symbol">:</a> <a id="27936" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="27944" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="27946" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="27948" class="Symbol">)(</a><a id="27950" href="Demos.HSP.html#27950" class="Bound">ùë©</a> <a id="27952" class="Symbol">:</a> <a id="27954" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="27962" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="27964" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="27966" class="Symbol">)</a> <a id="27968" class="Keyword">where</a>
 <a id="27975" href="Demos.HSP.html#27975" class="Function">mon‚Üíintohom</a> <a id="27987" class="Symbol">:</a> <a id="27989" href="Demos.HSP.html#27314" class="Function">mon</a> <a id="27993" href="Demos.HSP.html#27932" class="Bound">ùë®</a> <a id="27995" href="Demos.HSP.html#27950" class="Bound">ùë©</a> <a id="27997" class="Symbol">‚Üí</a> <a id="27999" href="Data.Product.Base.html#1244" class="Function">Œ£[</a> <a id="28002" href="Demos.HSP.html#28002" class="Bound">h</a> <a id="28004" href="Data.Product.Base.html#1244" class="Function">‚àà</a> <a id="28006" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="28010" href="Demos.HSP.html#27932" class="Bound">ùë®</a> <a id="28012" href="Demos.HSP.html#27950" class="Bound">ùë©</a> <a id="28014" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="28016" href="Demos.HSP.html#12142" class="Function">IsInjective</a> <a id="28028" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="28030" href="Demos.HSP.html#28002" class="Bound">h</a> <a id="28032" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>
 <a id="28035" href="Demos.HSP.html#27975" class="Function">mon‚Üíintohom</a> <a id="28047" class="Symbol">(</a><a id="28048" href="Demos.HSP.html#28048" class="Bound">hh</a> <a id="28051" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28053" href="Demos.HSP.html#28053" class="Bound">hhM</a><a id="28056" class="Symbol">)</a> <a id="28058" class="Symbol">=</a> <a id="28060" class="Symbol">(</a><a id="28061" href="Demos.HSP.html#28048" class="Bound">hh</a> <a id="28064" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28066" href="Demos.HSP.html#27217" class="Field">isHom</a> <a id="28072" href="Demos.HSP.html#28053" class="Bound">hhM</a><a id="28075" class="Symbol">)</a> <a id="28077" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28079" href="Demos.HSP.html#27242" class="Field">isInjective</a> <a id="28091" href="Demos.HSP.html#28053" class="Bound">hhM</a>

 <a id="28097" href="Demos.HSP.html#28097" class="Function">epi‚Üíontohom</a> <a id="28109" class="Symbol">:</a> <a id="28111" href="Demos.HSP.html#27741" class="Function">epi</a> <a id="28115" href="Demos.HSP.html#27932" class="Bound">ùë®</a> <a id="28117" href="Demos.HSP.html#27950" class="Bound">ùë©</a> <a id="28119" class="Symbol">‚Üí</a> <a id="28121" href="Data.Product.Base.html#1244" class="Function">Œ£[</a> <a id="28124" href="Demos.HSP.html#28124" class="Bound">h</a> <a id="28126" href="Data.Product.Base.html#1244" class="Function">‚àà</a> <a id="28128" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="28132" href="Demos.HSP.html#27932" class="Bound">ùë®</a> <a id="28134" href="Demos.HSP.html#27950" class="Bound">ùë©</a> <a id="28136" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="28138" href="Demos.HSP.html#12235" class="Function">IsSurjective</a> <a id="28151" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="28153" href="Demos.HSP.html#28124" class="Bound">h</a> <a id="28155" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>
 <a id="28158" href="Demos.HSP.html#28097" class="Function">epi‚Üíontohom</a> <a id="28170" class="Symbol">(</a><a id="28171" href="Demos.HSP.html#28171" class="Bound">hh</a> <a id="28174" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28176" href="Demos.HSP.html#28176" class="Bound">hhE</a><a id="28179" class="Symbol">)</a> <a id="28181" class="Symbol">=</a> <a id="28183" class="Symbol">(</a><a id="28184" href="Demos.HSP.html#28171" class="Bound">hh</a> <a id="28187" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28189" href="Demos.HSP.html#27642" class="Field">isHom</a> <a id="28195" href="Demos.HSP.html#28176" class="Bound">hhE</a><a id="28198" class="Symbol">)</a> <a id="28200" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28202" href="Demos.HSP.html#27667" class="Field">isSurjective</a> <a id="28215" href="Demos.HSP.html#28176" class="Bound">hhE</a>
</pre>

##### <a id="composition-of-homomorphisms">Composition of homomorphisms</a>
 <!-- {#composition-of-homomorphisms .unnumbered} -->

The composition of homomorphisms is again a homomorphism, and similarly
for epimorphisms and monomorphisms. The proofs of these facts are
straightforward.

<pre class="Agda">

<a id="28532" class="Keyword">module</a> <a id="28539" href="Demos.HSP.html#28539" class="Module">_</a>  <a id="28542" class="Symbol">{</a><a id="28543" href="Demos.HSP.html#28543" class="Bound">ùë®</a> <a id="28545" class="Symbol">:</a> <a id="28547" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="28555" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="28557" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="28559" class="Symbol">}</a> <a id="28561" class="Symbol">{</a><a id="28562" href="Demos.HSP.html#28562" class="Bound">ùë©</a> <a id="28564" class="Symbol">:</a> <a id="28566" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="28574" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="28576" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="28578" class="Symbol">}</a> <a id="28580" class="Symbol">{</a><a id="28581" href="Demos.HSP.html#28581" class="Bound">ùë™</a> <a id="28583" class="Symbol">:</a> <a id="28585" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="28593" href="Demos.HSP.html#7161" class="Generalizable">Œ≥</a> <a id="28595" href="Demos.HSP.html#7163" class="Generalizable">œÅ·∂ú</a><a id="28597" class="Symbol">}</a>
          <a id="28609" class="Symbol">{</a><a id="28610" href="Demos.HSP.html#28610" class="Bound">g</a> <a id="28612" class="Symbol">:</a> <a id="28614" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="28617" href="Demos.HSP.html#28543" class="Bound">ùë®</a> <a id="28619" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="28621" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="28623" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="28626" href="Demos.HSP.html#28562" class="Bound">ùë©</a> <a id="28628" href="Demos.HSP.html#19173" class="Function Operator">]</a><a id="28629" class="Symbol">}{</a><a id="28631" href="Demos.HSP.html#28631" class="Bound">h</a> <a id="28633" class="Symbol">:</a> <a id="28635" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="28638" href="Demos.HSP.html#28562" class="Bound">ùë©</a> <a id="28640" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="28642" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="28644" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="28647" href="Demos.HSP.html#28581" class="Bound">ùë™</a> <a id="28649" href="Demos.HSP.html#19173" class="Function Operator">]</a><a id="28650" class="Symbol">}</a> <a id="28652" class="Keyword">where</a>
  <a id="28660" class="Keyword">open</a> <a id="28665" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="28672" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="28675" href="Demos.HSP.html#28581" class="Bound">ùë™</a> <a id="28677" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="28679" class="Keyword">using</a> <a id="28685" class="Symbol">(</a> <a id="28687" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="28693" class="Symbol">)</a>
  <a id="28697" href="Demos.HSP.html#28697" class="Function">‚àò-is-hom</a> <a id="28706" class="Symbol">:</a> <a id="28708" href="Demos.HSP.html#26560" class="Record">IsHom</a> <a id="28714" href="Demos.HSP.html#28543" class="Bound">ùë®</a> <a id="28716" href="Demos.HSP.html#28562" class="Bound">ùë©</a> <a id="28718" href="Demos.HSP.html#28610" class="Bound">g</a> <a id="28720" class="Symbol">‚Üí</a> <a id="28722" href="Demos.HSP.html#26560" class="Record">IsHom</a> <a id="28728" href="Demos.HSP.html#28562" class="Bound">ùë©</a> <a id="28730" href="Demos.HSP.html#28581" class="Bound">ùë™</a> <a id="28732" href="Demos.HSP.html#28631" class="Bound">h</a> <a id="28734" class="Symbol">‚Üí</a> <a id="28736" href="Demos.HSP.html#26560" class="Record">IsHom</a> <a id="28742" href="Demos.HSP.html#28543" class="Bound">ùë®</a> <a id="28744" href="Demos.HSP.html#28581" class="Bound">ùë™</a> <a id="28746" class="Symbol">(</a><a id="28747" href="Demos.HSP.html#28631" class="Bound">h</a> <a id="28749" href="Demos.HSP.html#9829" class="Function Operator">‚ü®‚àò‚ü©</a> <a id="28753" href="Demos.HSP.html#28610" class="Bound">g</a><a id="28754" class="Symbol">)</a>
  <a id="28758" href="Demos.HSP.html#28697" class="Function">‚àò-is-hom</a> <a id="28767" href="Demos.HSP.html#28767" class="Bound">ghom</a> <a id="28772" href="Demos.HSP.html#28772" class="Bound">hhom</a> <a id="28777" class="Symbol">=</a> <a id="28779" href="Demos.HSP.html#26633" class="InductiveConstructor">mkhom</a> <a id="28785" href="Demos.HSP.html#28796" class="Function">c</a> <a id="28787" class="Keyword">where</a>
   <a id="28796" href="Demos.HSP.html#28796" class="Function">c</a> <a id="28798" class="Symbol">:</a> <a id="28800" href="Demos.HSP.html#26297" class="Function">compatible-map</a> <a id="28815" href="Demos.HSP.html#28543" class="Bound">ùë®</a> <a id="28817" href="Demos.HSP.html#28581" class="Bound">ùë™</a> <a id="28819" class="Symbol">(</a><a id="28820" href="Demos.HSP.html#28631" class="Bound">h</a> <a id="28822" href="Demos.HSP.html#9829" class="Function Operator">‚ü®‚àò‚ü©</a> <a id="28826" href="Demos.HSP.html#28610" class="Bound">g</a><a id="28827" class="Symbol">)</a>
   <a id="28832" href="Demos.HSP.html#28796" class="Function">c</a> <a id="28834" class="Symbol">=</a> <a id="28836" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="28842" class="Symbol">(</a><a id="28843" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="28848" href="Demos.HSP.html#28631" class="Bound">h</a> <a id="28850" class="Symbol">(</a><a id="28851" href="Demos.HSP.html#26654" class="Field">compatible</a> <a id="28862" href="Demos.HSP.html#28767" class="Bound">ghom</a><a id="28866" class="Symbol">))</a> <a id="28869" class="Symbol">(</a><a id="28870" href="Demos.HSP.html#26654" class="Field">compatible</a> <a id="28881" href="Demos.HSP.html#28772" class="Bound">hhom</a><a id="28885" class="Symbol">)</a>

  <a id="28890" href="Demos.HSP.html#28890" class="Function">‚àò-is-epi</a> <a id="28899" class="Symbol">:</a> <a id="28901" href="Demos.HSP.html#27571" class="Record">IsEpi</a> <a id="28907" href="Demos.HSP.html#28543" class="Bound">ùë®</a> <a id="28909" href="Demos.HSP.html#28562" class="Bound">ùë©</a> <a id="28911" href="Demos.HSP.html#28610" class="Bound">g</a> <a id="28913" class="Symbol">‚Üí</a> <a id="28915" href="Demos.HSP.html#27571" class="Record">IsEpi</a> <a id="28921" href="Demos.HSP.html#28562" class="Bound">ùë©</a> <a id="28923" href="Demos.HSP.html#28581" class="Bound">ùë™</a> <a id="28925" href="Demos.HSP.html#28631" class="Bound">h</a> <a id="28927" class="Symbol">‚Üí</a> <a id="28929" href="Demos.HSP.html#27571" class="Record">IsEpi</a> <a id="28935" href="Demos.HSP.html#28543" class="Bound">ùë®</a> <a id="28937" href="Demos.HSP.html#28581" class="Bound">ùë™</a> <a id="28939" class="Symbol">(</a><a id="28940" href="Demos.HSP.html#28631" class="Bound">h</a> <a id="28942" href="Demos.HSP.html#9829" class="Function Operator">‚ü®‚àò‚ü©</a> <a id="28946" href="Demos.HSP.html#28610" class="Bound">g</a><a id="28947" class="Symbol">)</a>
  <a id="28951" href="Demos.HSP.html#28890" class="Function">‚àò-is-epi</a> <a id="28960" href="Demos.HSP.html#28960" class="Bound">gE</a> <a id="28963" href="Demos.HSP.html#28963" class="Bound">hE</a> <a id="28966" class="Symbol">=</a>
    <a id="28972" class="Keyword">record</a>  <a id="28980" class="Symbol">{</a> <a id="28982" href="Demos.HSP.html#27642" class="Field">isHom</a> <a id="28988" class="Symbol">=</a> <a id="28990" href="Demos.HSP.html#28697" class="Function">‚àò-is-hom</a> <a id="28999" class="Symbol">(</a><a id="29000" href="Demos.HSP.html#27642" class="Field">isHom</a> <a id="29006" href="Demos.HSP.html#28960" class="Bound">gE</a><a id="29008" class="Symbol">)</a> <a id="29010" class="Symbol">(</a><a id="29011" href="Demos.HSP.html#27642" class="Field">isHom</a> <a id="29017" href="Demos.HSP.html#28963" class="Bound">hE</a><a id="29019" class="Symbol">)</a>
            <a id="29033" class="Symbol">;</a> <a id="29035" href="Demos.HSP.html#27667" class="Field">isSurjective</a> <a id="29048" class="Symbol">=</a> <a id="29050" href="Demos.HSP.html#12904" class="Function">‚àò-IsSurjective</a> <a id="29065" href="Demos.HSP.html#28610" class="Bound">g</a> <a id="29067" href="Demos.HSP.html#28631" class="Bound">h</a> <a id="29069" class="Symbol">(</a><a id="29070" href="Demos.HSP.html#27667" class="Field">isSurjective</a> <a id="29083" href="Demos.HSP.html#28960" class="Bound">gE</a><a id="29085" class="Symbol">)</a> <a id="29087" class="Symbol">(</a><a id="29088" href="Demos.HSP.html#27667" class="Field">isSurjective</a> <a id="29101" href="Demos.HSP.html#28963" class="Bound">hE</a><a id="29103" class="Symbol">)</a>
            <a id="29117" class="Symbol">}</a>

<a id="29120" class="Keyword">module</a> <a id="29127" href="Demos.HSP.html#29127" class="Module">_</a> <a id="29129" class="Symbol">{</a><a id="29130" href="Demos.HSP.html#29130" class="Bound">ùë®</a> <a id="29132" class="Symbol">:</a> <a id="29134" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="29142" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="29144" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="29146" class="Symbol">}</a> <a id="29148" class="Symbol">{</a><a id="29149" href="Demos.HSP.html#29149" class="Bound">ùë©</a> <a id="29151" class="Symbol">:</a> <a id="29153" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="29161" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="29163" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="29165" class="Symbol">}</a> <a id="29167" class="Symbol">{</a><a id="29168" href="Demos.HSP.html#29168" class="Bound">ùë™</a> <a id="29170" class="Symbol">:</a> <a id="29172" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="29180" href="Demos.HSP.html#7161" class="Generalizable">Œ≥</a> <a id="29182" href="Demos.HSP.html#7163" class="Generalizable">œÅ·∂ú</a><a id="29184" class="Symbol">}</a> <a id="29186" class="Keyword">where</a>
  <a id="29194" href="Demos.HSP.html#29194" class="Function">‚àò-hom</a> <a id="29200" class="Symbol">:</a> <a id="29202" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="29206" href="Demos.HSP.html#29130" class="Bound">ùë®</a> <a id="29208" href="Demos.HSP.html#29149" class="Bound">ùë©</a> <a id="29210" class="Symbol">‚Üí</a> <a id="29212" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="29216" href="Demos.HSP.html#29149" class="Bound">ùë©</a> <a id="29218" href="Demos.HSP.html#29168" class="Bound">ùë™</a>  <a id="29221" class="Symbol">‚Üí</a> <a id="29223" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="29227" href="Demos.HSP.html#29130" class="Bound">ùë®</a> <a id="29229" href="Demos.HSP.html#29168" class="Bound">ùë™</a>
  <a id="29233" href="Demos.HSP.html#29194" class="Function">‚àò-hom</a> <a id="29239" class="Symbol">(</a><a id="29240" href="Demos.HSP.html#29240" class="Bound">h</a> <a id="29242" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29244" href="Demos.HSP.html#29244" class="Bound">hhom</a><a id="29248" class="Symbol">)</a> <a id="29250" class="Symbol">(</a><a id="29251" href="Demos.HSP.html#29251" class="Bound">g</a> <a id="29253" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29255" href="Demos.HSP.html#29255" class="Bound">ghom</a><a id="29259" class="Symbol">)</a> <a id="29261" class="Symbol">=</a> <a id="29263" class="Symbol">(</a><a id="29264" href="Demos.HSP.html#29251" class="Bound">g</a> <a id="29266" href="Demos.HSP.html#9829" class="Function Operator">‚ü®‚àò‚ü©</a> <a id="29270" href="Demos.HSP.html#29240" class="Bound">h</a><a id="29271" class="Symbol">)</a> <a id="29273" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29275" href="Demos.HSP.html#28697" class="Function">‚àò-is-hom</a> <a id="29284" href="Demos.HSP.html#29244" class="Bound">hhom</a> <a id="29289" href="Demos.HSP.html#29255" class="Bound">ghom</a>

  <a id="29297" href="Demos.HSP.html#29297" class="Function">‚àò-epi</a> <a id="29303" class="Symbol">:</a> <a id="29305" href="Demos.HSP.html#27741" class="Function">epi</a> <a id="29309" href="Demos.HSP.html#29130" class="Bound">ùë®</a> <a id="29311" href="Demos.HSP.html#29149" class="Bound">ùë©</a> <a id="29313" class="Symbol">‚Üí</a> <a id="29315" href="Demos.HSP.html#27741" class="Function">epi</a> <a id="29319" href="Demos.HSP.html#29149" class="Bound">ùë©</a> <a id="29321" href="Demos.HSP.html#29168" class="Bound">ùë™</a>  <a id="29324" class="Symbol">‚Üí</a> <a id="29326" href="Demos.HSP.html#27741" class="Function">epi</a> <a id="29330" href="Demos.HSP.html#29130" class="Bound">ùë®</a> <a id="29332" href="Demos.HSP.html#29168" class="Bound">ùë™</a>
  <a id="29336" href="Demos.HSP.html#29297" class="Function">‚àò-epi</a> <a id="29342" class="Symbol">(</a><a id="29343" href="Demos.HSP.html#29343" class="Bound">h</a> <a id="29345" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29347" href="Demos.HSP.html#29347" class="Bound">hepi</a><a id="29351" class="Symbol">)</a> <a id="29353" class="Symbol">(</a><a id="29354" href="Demos.HSP.html#29354" class="Bound">g</a> <a id="29356" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29358" href="Demos.HSP.html#29358" class="Bound">gepi</a><a id="29362" class="Symbol">)</a> <a id="29364" class="Symbol">=</a> <a id="29366" class="Symbol">(</a><a id="29367" href="Demos.HSP.html#29354" class="Bound">g</a> <a id="29369" href="Demos.HSP.html#9829" class="Function Operator">‚ü®‚àò‚ü©</a> <a id="29373" href="Demos.HSP.html#29343" class="Bound">h</a><a id="29374" class="Symbol">)</a> <a id="29376" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29378" href="Demos.HSP.html#28890" class="Function">‚àò-is-epi</a> <a id="29387" href="Demos.HSP.html#29347" class="Bound">hepi</a> <a id="29392" href="Demos.HSP.html#29358" class="Bound">gepi</a>
</pre>

##### <a id="universe-lifting-of-homomorphisms">Universe lifting of homomorphisms</a>
 <!-- {#universe-lifting-of-homomorphisms .unnumbered} -->

Here we define the identity homomorphism for setoid algebras. Then we prove that
the operations of lifting and lowering of a setoid algebra are homomorphisms.

<pre class="Agda">

<a id="ùíæùíπ"></a><a id="29729" href="Demos.HSP.html#29729" class="Function">ùíæùíπ</a> <a id="29732" class="Symbol">:</a> <a id="29734" class="Symbol">{</a><a id="29735" href="Demos.HSP.html#29735" class="Bound">ùë®</a> <a id="29737" class="Symbol">:</a> <a id="29739" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="29747" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="29749" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="29751" class="Symbol">}</a> <a id="29753" class="Symbol">‚Üí</a> <a id="29755" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="29759" href="Demos.HSP.html#29735" class="Bound">ùë®</a> <a id="29761" href="Demos.HSP.html#29735" class="Bound">ùë®</a>
<a id="29763" href="Demos.HSP.html#29729" class="Function">ùíæùíπ</a> <a id="29766" class="Symbol">{</a><a id="29767" class="Argument">ùë®</a> <a id="29769" class="Symbol">=</a> <a id="29771" href="Demos.HSP.html#29771" class="Bound">ùë®</a><a id="29772" class="Symbol">}</a> <a id="29774" class="Symbol">=</a>  <a id="29777" href="Demos.HSP.html#9757" class="Function">ùëñùëë</a> <a id="29780" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29782" href="Demos.HSP.html#26633" class="InductiveConstructor">mkhom</a> <a id="29788" class="Symbol">(</a><a id="29789" href="Relation.Binary.Structures.html#1674" class="Function">reflexive</a> <a id="29799" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a><a id="29805" class="Symbol">)</a>
              <a id="29821" class="Keyword">where</a> <a id="29827" class="Keyword">open</a> <a id="29832" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="29839" class="Symbol">(</a> <a id="29841" href="Demos.HSP.html#18584" class="Field">Domain</a> <a id="29848" href="Demos.HSP.html#29771" class="Bound">ùë®</a> <a id="29850" class="Symbol">)</a> <a id="29852" class="Keyword">using</a> <a id="29858" class="Symbol">(</a> <a id="29860" href="Relation.Binary.Structures.html#1674" class="Function">reflexive</a> <a id="29870" class="Symbol">)</a>

<a id="29873" class="Keyword">module</a> <a id="29880" href="Demos.HSP.html#29880" class="Module">_</a> <a id="29882" class="Symbol">{</a><a id="29883" href="Demos.HSP.html#29883" class="Bound">ùë®</a> <a id="29885" class="Symbol">:</a> <a id="29887" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="29895" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="29897" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="29899" class="Symbol">}{</a><a id="29901" href="Demos.HSP.html#29901" class="Bound">‚Ñì</a> <a id="29903" class="Symbol">:</a> <a id="29905" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="29910" class="Symbol">}</a> <a id="29912" class="Keyword">where</a>
 <a id="29919" class="Keyword">open</a> <a id="29924" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="29931" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="29934" href="Demos.HSP.html#29883" class="Bound">ùë®</a> <a id="29936" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="29938" class="Keyword">using</a> <a id="29944" class="Symbol">(</a> <a id="29946" href="Relation.Binary.Structures.html#1674" class="Function">reflexive</a> <a id="29956" class="Symbol">)</a> <a id="29958" class="Keyword">renaming</a> <a id="29967" class="Symbol">(</a> <a id="29969" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="29973" class="Symbol">to</a> <a id="29976" class="Field Operator">_‚âà‚ÇÅ_</a> <a id="29981" class="Symbol">;</a> <a id="29983" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="29988" class="Symbol">to</a> <a id="29991" class="Function">refl‚ÇÅ</a> <a id="29997" class="Symbol">)</a>
 <a id="30000" class="Keyword">open</a> <a id="30005" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="30012" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="30015" href="Demos.HSP.html#21449" class="Function">Lift-AlgÀ°</a> <a id="30025" href="Demos.HSP.html#29883" class="Bound">ùë®</a> <a id="30027" href="Demos.HSP.html#29901" class="Bound">‚Ñì</a> <a id="30029" href="Demos.HSP.html#19173" class="Function Operator">]</a>  <a id="30032" class="Keyword">using</a> <a id="30038" class="Symbol">()</a> <a id="30041" class="Keyword">renaming</a> <a id="30050" class="Symbol">(</a> <a id="30052" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="30056" class="Symbol">to</a> <a id="30059" class="Field Operator">_‚âàÀ°_</a> <a id="30064" class="Symbol">;</a> <a id="30066" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="30071" class="Symbol">to</a> <a id="30074" class="Function">reflÀ°</a><a id="30079" class="Symbol">)</a>
 <a id="30082" class="Keyword">open</a> <a id="30087" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="30094" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="30097" href="Demos.HSP.html#21854" class="Function">Lift-Alg ≥</a> <a id="30107" href="Demos.HSP.html#29883" class="Bound">ùë®</a> <a id="30109" href="Demos.HSP.html#29901" class="Bound">‚Ñì</a> <a id="30111" href="Demos.HSP.html#19173" class="Function Operator">]</a>  <a id="30114" class="Keyword">using</a> <a id="30120" class="Symbol">()</a> <a id="30123" class="Keyword">renaming</a> <a id="30132" class="Symbol">(</a> <a id="30134" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="30138" class="Symbol">to</a> <a id="30141" class="Field Operator">_‚âà ≥_</a> <a id="30146" class="Symbol">;</a> <a id="30148" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="30153" class="Symbol">to</a> <a id="30156" class="Function">refl ≥</a><a id="30161" class="Symbol">)</a>
 <a id="30164" class="Keyword">open</a> <a id="30169" href="Level.html" class="Module">Level</a>

 <a id="30177" href="Demos.HSP.html#30177" class="Function">ToLiftÀ°</a> <a id="30185" class="Symbol">:</a> <a id="30187" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="30191" href="Demos.HSP.html#29883" class="Bound">ùë®</a> <a id="30193" class="Symbol">(</a><a id="30194" href="Demos.HSP.html#21449" class="Function">Lift-AlgÀ°</a> <a id="30204" href="Demos.HSP.html#29883" class="Bound">ùë®</a> <a id="30206" href="Demos.HSP.html#29901" class="Bound">‚Ñì</a><a id="30207" class="Symbol">)</a>
 <a id="30210" href="Demos.HSP.html#30177" class="Function">ToLiftÀ°</a> <a id="30218" class="Symbol">=</a> <a id="30220" class="Keyword">record</a> <a id="30227" class="Symbol">{</a> <a id="30229" href="Function.Bundles.html#2094" class="Field">to</a> <a id="30232" class="Symbol">=</a> <a id="30234" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="30239" class="Symbol">;</a> <a id="30241" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="30246" class="Symbol">=</a> <a id="30248" href="Function.Base.html#704" class="Function">id</a> <a id="30251" class="Symbol">}</a> <a id="30253" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30255" href="Demos.HSP.html#26633" class="InductiveConstructor">mkhom</a> <a id="30261" class="Symbol">(</a><a id="30262" href="Relation.Binary.Structures.html#1674" class="Function">reflexive</a> <a id="30272" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a><a id="30278" class="Symbol">)</a>

 <a id="30282" href="Demos.HSP.html#30282" class="Function">FromLiftÀ°</a> <a id="30292" class="Symbol">:</a> <a id="30294" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="30298" class="Symbol">(</a><a id="30299" href="Demos.HSP.html#21449" class="Function">Lift-AlgÀ°</a> <a id="30309" href="Demos.HSP.html#29883" class="Bound">ùë®</a> <a id="30311" href="Demos.HSP.html#29901" class="Bound">‚Ñì</a><a id="30312" class="Symbol">)</a> <a id="30314" href="Demos.HSP.html#29883" class="Bound">ùë®</a>
 <a id="30317" href="Demos.HSP.html#30282" class="Function">FromLiftÀ°</a> <a id="30327" class="Symbol">=</a> <a id="30329" class="Keyword">record</a> <a id="30336" class="Symbol">{</a> <a id="30338" href="Function.Bundles.html#2094" class="Field">to</a> <a id="30341" class="Symbol">=</a> <a id="30343" href="Level.html#479" class="Field">lower</a> <a id="30349" class="Symbol">;</a> <a id="30351" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="30356" class="Symbol">=</a> <a id="30358" href="Function.Base.html#704" class="Function">id</a> <a id="30361" class="Symbol">}</a> <a id="30363" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30365" href="Demos.HSP.html#26633" class="InductiveConstructor">mkhom</a> <a id="30371" href="Demos.HSP.html#30074" class="Function">reflÀ°</a>

 <a id="30379" href="Demos.HSP.html#30379" class="Function">ToFromLiftÀ°</a> <a id="30391" class="Symbol">:</a> <a id="30393" class="Symbol">‚àÄ</a> <a id="30395" href="Demos.HSP.html#30395" class="Bound">b</a> <a id="30397" class="Symbol">‚Üí</a>  <a id="30400" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="30402" href="Demos.HSP.html#30177" class="Function">ToLiftÀ°</a> <a id="30410" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="30412" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="30416" class="Symbol">(</a><a id="30417" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="30419" href="Demos.HSP.html#30282" class="Function">FromLiftÀ°</a> <a id="30429" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="30431" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="30435" href="Demos.HSP.html#30395" class="Bound">b</a><a id="30436" class="Symbol">)</a> <a id="30438" href="Demos.HSP.html#30059" class="Function Operator">‚âàÀ°</a> <a id="30441" href="Demos.HSP.html#30395" class="Bound">b</a>
 <a id="30444" href="Demos.HSP.html#30379" class="Function">ToFromLiftÀ°</a> <a id="30456" href="Demos.HSP.html#30456" class="Bound">b</a> <a id="30458" class="Symbol">=</a> <a id="30460" href="Demos.HSP.html#29991" class="Function">refl‚ÇÅ</a>

 <a id="30468" href="Demos.HSP.html#30468" class="Function">FromToLiftÀ°</a> <a id="30480" class="Symbol">:</a> <a id="30482" class="Symbol">‚àÄ</a> <a id="30484" href="Demos.HSP.html#30484" class="Bound">a</a> <a id="30486" class="Symbol">‚Üí</a> <a id="30488" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="30490" href="Demos.HSP.html#30282" class="Function">FromLiftÀ°</a> <a id="30500" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="30502" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="30506" class="Symbol">(</a><a id="30507" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="30509" href="Demos.HSP.html#30177" class="Function">ToLiftÀ°</a> <a id="30517" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="30519" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="30523" href="Demos.HSP.html#30484" class="Bound">a</a><a id="30524" class="Symbol">)</a> <a id="30526" href="Demos.HSP.html#29976" class="Function Operator">‚âà‚ÇÅ</a> <a id="30529" href="Demos.HSP.html#30484" class="Bound">a</a>
 <a id="30532" href="Demos.HSP.html#30468" class="Function">FromToLiftÀ°</a> <a id="30544" href="Demos.HSP.html#30544" class="Bound">a</a> <a id="30546" class="Symbol">=</a> <a id="30548" href="Demos.HSP.html#29991" class="Function">refl‚ÇÅ</a>

 <a id="30556" href="Demos.HSP.html#30556" class="Function">ToLift ≥</a> <a id="30564" class="Symbol">:</a> <a id="30566" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="30570" href="Demos.HSP.html#29883" class="Bound">ùë®</a> <a id="30572" class="Symbol">(</a><a id="30573" href="Demos.HSP.html#21854" class="Function">Lift-Alg ≥</a> <a id="30583" href="Demos.HSP.html#29883" class="Bound">ùë®</a> <a id="30585" href="Demos.HSP.html#29901" class="Bound">‚Ñì</a><a id="30586" class="Symbol">)</a>
 <a id="30589" href="Demos.HSP.html#30556" class="Function">ToLift ≥</a> <a id="30597" class="Symbol">=</a> <a id="30599" class="Keyword">record</a> <a id="30606" class="Symbol">{</a> <a id="30608" href="Function.Bundles.html#2094" class="Field">to</a> <a id="30611" class="Symbol">=</a> <a id="30613" href="Function.Base.html#704" class="Function">id</a> <a id="30616" class="Symbol">;</a> <a id="30618" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="30623" class="Symbol">=</a> <a id="30625" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="30630" class="Symbol">}</a> <a id="30632" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30634" href="Demos.HSP.html#26633" class="InductiveConstructor">mkhom</a> <a id="30640" class="Symbol">(</a><a id="30641" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="30646" class="Symbol">(</a><a id="30647" href="Relation.Binary.Structures.html#1674" class="Function">reflexive</a> <a id="30657" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a><a id="30663" class="Symbol">))</a>

 <a id="30668" href="Demos.HSP.html#30668" class="Function">FromLift ≥</a> <a id="30678" class="Symbol">:</a> <a id="30680" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="30684" class="Symbol">(</a><a id="30685" href="Demos.HSP.html#21854" class="Function">Lift-Alg ≥</a> <a id="30695" href="Demos.HSP.html#29883" class="Bound">ùë®</a> <a id="30697" href="Demos.HSP.html#29901" class="Bound">‚Ñì</a><a id="30698" class="Symbol">)</a> <a id="30700" href="Demos.HSP.html#29883" class="Bound">ùë®</a>
 <a id="30703" href="Demos.HSP.html#30668" class="Function">FromLift ≥</a> <a id="30713" class="Symbol">=</a> <a id="30715" class="Keyword">record</a> <a id="30722" class="Symbol">{</a> <a id="30724" href="Function.Bundles.html#2094" class="Field">to</a> <a id="30727" class="Symbol">=</a> <a id="30729" href="Function.Base.html#704" class="Function">id</a> <a id="30732" class="Symbol">;</a> <a id="30734" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="30739" class="Symbol">=</a> <a id="30741" href="Level.html#479" class="Field">lower</a> <a id="30747" class="Symbol">}</a> <a id="30749" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30751" href="Demos.HSP.html#26633" class="InductiveConstructor">mkhom</a> <a id="30757" href="Demos.HSP.html#30074" class="Function">reflÀ°</a>

 <a id="30765" href="Demos.HSP.html#30765" class="Function">ToFromLift ≥</a> <a id="30777" class="Symbol">:</a> <a id="30779" class="Symbol">‚àÄ</a> <a id="30781" href="Demos.HSP.html#30781" class="Bound">b</a> <a id="30783" class="Symbol">‚Üí</a> <a id="30785" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="30787" href="Demos.HSP.html#30556" class="Function">ToLift ≥</a> <a id="30795" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="30797" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="30801" class="Symbol">(</a><a id="30802" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="30804" href="Demos.HSP.html#30668" class="Function">FromLift ≥</a> <a id="30814" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="30816" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="30820" href="Demos.HSP.html#30781" class="Bound">b</a><a id="30821" class="Symbol">)</a> <a id="30823" href="Demos.HSP.html#30141" class="Function Operator">‚âà ≥</a> <a id="30826" href="Demos.HSP.html#30781" class="Bound">b</a>
 <a id="30829" href="Demos.HSP.html#30765" class="Function">ToFromLift ≥</a> <a id="30841" href="Demos.HSP.html#30841" class="Bound">b</a> <a id="30843" class="Symbol">=</a> <a id="30845" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="30850" href="Demos.HSP.html#29991" class="Function">refl‚ÇÅ</a>

 <a id="30858" href="Demos.HSP.html#30858" class="Function">FromToLift ≥</a> <a id="30870" class="Symbol">:</a> <a id="30872" class="Symbol">‚àÄ</a> <a id="30874" href="Demos.HSP.html#30874" class="Bound">a</a> <a id="30876" class="Symbol">‚Üí</a> <a id="30878" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="30880" href="Demos.HSP.html#30668" class="Function">FromLift ≥</a> <a id="30890" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="30892" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="30896" class="Symbol">(</a><a id="30897" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="30899" href="Demos.HSP.html#30556" class="Function">ToLift ≥</a> <a id="30907" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="30909" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="30913" href="Demos.HSP.html#30874" class="Bound">a</a><a id="30914" class="Symbol">)</a> <a id="30916" href="Demos.HSP.html#29976" class="Function Operator">‚âà‚ÇÅ</a> <a id="30919" href="Demos.HSP.html#30874" class="Bound">a</a>
 <a id="30922" href="Demos.HSP.html#30858" class="Function">FromToLift ≥</a> <a id="30934" href="Demos.HSP.html#30934" class="Bound">a</a> <a id="30936" class="Symbol">=</a> <a id="30938" href="Demos.HSP.html#29991" class="Function">refl‚ÇÅ</a>


<a id="30946" class="Keyword">module</a> <a id="30953" href="Demos.HSP.html#30953" class="Module">_</a> <a id="30955" class="Symbol">{</a><a id="30956" href="Demos.HSP.html#30956" class="Bound">ùë®</a> <a id="30958" class="Symbol">:</a> <a id="30960" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="30968" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="30970" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="30972" class="Symbol">}{</a><a id="30974" href="Demos.HSP.html#30974" class="Bound">‚Ñì</a> <a id="30976" href="Demos.HSP.html#30976" class="Bound">r</a> <a id="30978" class="Symbol">:</a> <a id="30980" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="30985" class="Symbol">}</a> <a id="30987" class="Keyword">where</a>
 <a id="30994" class="Keyword">open</a>  <a id="31000" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="31007" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="31010" href="Demos.HSP.html#30956" class="Bound">ùë®</a> <a id="31012" href="Demos.HSP.html#19173" class="Function Operator">]</a>               <a id="31028" class="Keyword">using</a> <a id="31034" class="Symbol">(</a> <a id="31036" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="31041" class="Symbol">)</a>
 <a id="31044" class="Keyword">open</a>  <a id="31050" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="31057" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="31060" href="Demos.HSP.html#22427" class="Function">Lift-Alg</a> <a id="31069" href="Demos.HSP.html#30956" class="Bound">ùë®</a> <a id="31071" href="Demos.HSP.html#30974" class="Bound">‚Ñì</a> <a id="31073" href="Demos.HSP.html#30976" class="Bound">r</a> <a id="31075" href="Demos.HSP.html#19173" class="Function Operator">]</a>  <a id="31078" class="Keyword">using</a> <a id="31084" class="Symbol">(</a> <a id="31086" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="31090" class="Symbol">)</a>
 <a id="31093" class="Keyword">open</a>  <a id="31099" href="Level.html" class="Module">Level</a>
 <a id="31106" href="Demos.HSP.html#31106" class="Function">ToLift</a> <a id="31113" class="Symbol">:</a> <a id="31115" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="31119" href="Demos.HSP.html#30956" class="Bound">ùë®</a> <a id="31121" class="Symbol">(</a><a id="31122" href="Demos.HSP.html#22427" class="Function">Lift-Alg</a> <a id="31131" href="Demos.HSP.html#30956" class="Bound">ùë®</a> <a id="31133" href="Demos.HSP.html#30974" class="Bound">‚Ñì</a> <a id="31135" href="Demos.HSP.html#30976" class="Bound">r</a><a id="31136" class="Symbol">)</a>
 <a id="31139" href="Demos.HSP.html#31106" class="Function">ToLift</a> <a id="31146" class="Symbol">=</a> <a id="31148" href="Demos.HSP.html#29194" class="Function">‚àò-hom</a> <a id="31154" href="Demos.HSP.html#30177" class="Function">ToLiftÀ°</a> <a id="31162" href="Demos.HSP.html#30556" class="Function">ToLift ≥</a>

 <a id="31172" href="Demos.HSP.html#31172" class="Function">FromLift</a> <a id="31181" class="Symbol">:</a> <a id="31183" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="31187" class="Symbol">(</a><a id="31188" href="Demos.HSP.html#22427" class="Function">Lift-Alg</a> <a id="31197" href="Demos.HSP.html#30956" class="Bound">ùë®</a> <a id="31199" href="Demos.HSP.html#30974" class="Bound">‚Ñì</a> <a id="31201" href="Demos.HSP.html#30976" class="Bound">r</a><a id="31202" class="Symbol">)</a> <a id="31204" href="Demos.HSP.html#30956" class="Bound">ùë®</a>
 <a id="31207" href="Demos.HSP.html#31172" class="Function">FromLift</a> <a id="31216" class="Symbol">=</a> <a id="31218" href="Demos.HSP.html#29194" class="Function">‚àò-hom</a> <a id="31224" href="Demos.HSP.html#30668" class="Function">FromLift ≥</a> <a id="31234" href="Demos.HSP.html#30282" class="Function">FromLiftÀ°</a>

 <a id="31246" href="Demos.HSP.html#31246" class="Function">ToFromLift</a> <a id="31257" class="Symbol">:</a> <a id="31259" class="Symbol">‚àÄ</a> <a id="31261" href="Demos.HSP.html#31261" class="Bound">b</a> <a id="31263" class="Symbol">‚Üí</a> <a id="31265" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="31267" href="Demos.HSP.html#31106" class="Function">ToLift</a> <a id="31274" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="31276" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="31280" class="Symbol">(</a><a id="31281" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="31283" href="Demos.HSP.html#31172" class="Function">FromLift</a> <a id="31292" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="31294" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="31298" href="Demos.HSP.html#31261" class="Bound">b</a><a id="31299" class="Symbol">)</a> <a id="31301" href="Relation.Binary.Bundles.html#1184" class="Function Operator">‚âà</a> <a id="31303" href="Demos.HSP.html#31261" class="Bound">b</a>
 <a id="31306" href="Demos.HSP.html#31246" class="Function">ToFromLift</a> <a id="31317" href="Demos.HSP.html#31317" class="Bound">b</a> <a id="31319" class="Symbol">=</a> <a id="31321" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="31326" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>

 <a id="31333" href="Demos.HSP.html#31333" class="Function">ToLift-epi</a> <a id="31344" class="Symbol">:</a> <a id="31346" href="Demos.HSP.html#27741" class="Function">epi</a> <a id="31350" href="Demos.HSP.html#30956" class="Bound">ùë®</a> <a id="31352" class="Symbol">(</a><a id="31353" href="Demos.HSP.html#22427" class="Function">Lift-Alg</a> <a id="31362" href="Demos.HSP.html#30956" class="Bound">ùë®</a> <a id="31364" href="Demos.HSP.html#30974" class="Bound">‚Ñì</a> <a id="31366" href="Demos.HSP.html#30976" class="Bound">r</a><a id="31367" class="Symbol">)</a>
 <a id="31370" href="Demos.HSP.html#31333" class="Function">ToLift-epi</a> <a id="31381" class="Symbol">=</a>
  <a id="31385" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="31387" href="Demos.HSP.html#31106" class="Function">ToLift</a> <a id="31394" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="31396" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31398" class="Keyword">record</a>  <a id="31406" class="Symbol">{</a> <a id="31408" href="Demos.HSP.html#27642" class="Field">isHom</a> <a id="31414" class="Symbol">=</a> <a id="31416" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="31418" href="Demos.HSP.html#31106" class="Function">ToLift</a> <a id="31425" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a>
                       <a id="31450" class="Symbol">;</a> <a id="31452" href="Demos.HSP.html#27667" class="Field">isSurjective</a> <a id="31465" class="Symbol">=</a> <a id="31467" class="Symbol">Œª{</a><a id="31469" href="Demos.HSP.html#31469" class="Bound">y</a><a id="31470" class="Symbol">}</a> <a id="31472" class="Symbol">‚Üí</a> <a id="31474" href="Demos.HSP.html#10397" class="InductiveConstructor">eq</a><a id="31476" class="Symbol">(</a><a id="31477" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="31479" href="Demos.HSP.html#31172" class="Function">FromLift</a> <a id="31488" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="31490" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="31494" href="Demos.HSP.html#31469" class="Bound">y</a><a id="31495" class="Symbol">)(</a><a id="31497" href="Demos.HSP.html#31246" class="Function">ToFromLift</a> <a id="31508" href="Demos.HSP.html#31469" class="Bound">y</a><a id="31509" class="Symbol">)</a>
                       <a id="31534" class="Symbol">}</a>
</pre>


##### <a id="homomorphisms-of-product-algebras">Homomorphisms of product algebras</a>
 <!-- {#homomorphisms-of-product-algebras .unnumbered} -->

Suppose we have an algebra `ùë®`, a type `I : Type ùìò`, and a family
`‚Ñ¨ : I ‚Üí Algebra Œ≤ œÅ·µá` of algebras. We sometimes refer to the inhabitants of `I`
as *indices*, and call `‚Ñ¨` an *indexed family of algebras*. If in addition we have
a family `ùíΩ : (i : I) ‚Üí hom ùë® (‚Ñ¨ i)` of homomorphisms, then we can construct a
homomorphism from `ùë®` to the product `‚®Ö ‚Ñ¨` in the natural way.  We codify the
latter in dependent type theory as follows.

<pre class="Agda">

<a id="32141" class="Keyword">module</a> <a id="32148" href="Demos.HSP.html#32148" class="Module">_</a> <a id="32150" class="Symbol">{</a><a id="32151" href="Demos.HSP.html#32151" class="Bound">Œπ</a> <a id="32153" class="Symbol">:</a> <a id="32155" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="32160" class="Symbol">}{</a><a id="32162" href="Demos.HSP.html#32162" class="Bound">I</a> <a id="32164" class="Symbol">:</a> <a id="32166" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="32171" href="Demos.HSP.html#32151" class="Bound">Œπ</a><a id="32172" class="Symbol">}{</a><a id="32174" href="Demos.HSP.html#32174" class="Bound">ùë®</a> <a id="32176" class="Symbol">:</a> <a id="32178" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="32186" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="32188" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="32190" class="Symbol">}(</a><a id="32192" href="Demos.HSP.html#32192" class="Bound">‚Ñ¨</a> <a id="32194" class="Symbol">:</a> <a id="32196" href="Demos.HSP.html#32162" class="Bound">I</a> <a id="32198" class="Symbol">‚Üí</a> <a id="32200" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="32208" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="32210" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="32212" class="Symbol">)</a> <a id="32214" class="Keyword">where</a>
 <a id="32221" href="Demos.HSP.html#32221" class="Function">‚®Ö-hom-co</a> <a id="32230" class="Symbol">:</a> <a id="32232" class="Symbol">(‚àÄ(</a><a id="32235" href="Demos.HSP.html#32235" class="Bound">i</a> <a id="32237" class="Symbol">:</a> <a id="32239" href="Demos.HSP.html#32162" class="Bound">I</a><a id="32240" class="Symbol">)</a> <a id="32242" class="Symbol">‚Üí</a> <a id="32244" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="32248" href="Demos.HSP.html#32174" class="Bound">ùë®</a> <a id="32250" class="Symbol">(</a><a id="32251" href="Demos.HSP.html#32192" class="Bound">‚Ñ¨</a> <a id="32253" href="Demos.HSP.html#32235" class="Bound">i</a><a id="32254" class="Symbol">))</a> <a id="32257" class="Symbol">‚Üí</a> <a id="32259" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="32263" href="Demos.HSP.html#32174" class="Bound">ùë®</a> <a id="32265" class="Symbol">(</a><a id="32266" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="32268" href="Demos.HSP.html#32192" class="Bound">‚Ñ¨</a><a id="32269" class="Symbol">)</a>
 <a id="32272" href="Demos.HSP.html#32221" class="Function">‚®Ö-hom-co</a> <a id="32281" href="Demos.HSP.html#32281" class="Bound">ùíΩ</a> <a id="32283" class="Symbol">=</a> <a id="32285" href="Demos.HSP.html#32301" class="Function">h</a> <a id="32287" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32289" href="Demos.HSP.html#32473" class="Function">hhom</a> <a id="32294" class="Keyword">where</a>  <a id="32301" href="Demos.HSP.html#32301" class="Function">h</a> <a id="32303" class="Symbol">:</a> <a id="32305" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="32308" href="Demos.HSP.html#32174" class="Bound">ùë®</a> <a id="32310" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="32312" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="32314" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="32317" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="32319" href="Demos.HSP.html#32192" class="Bound">‚Ñ¨</a> <a id="32321" href="Demos.HSP.html#19173" class="Function Operator">]</a>
                              <a id="32353" href="Demos.HSP.html#32301" class="Function">h</a> <a id="32355" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="32359" href="Demos.HSP.html#32359" class="Bound">a</a> <a id="32361" class="Symbol">=</a> <a id="32363" class="Symbol">Œª</a> <a id="32365" href="Demos.HSP.html#32365" class="Bound">i</a> <a id="32367" class="Symbol">‚Üí</a> <a id="32369" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="32371" href="Demos.HSP.html#32281" class="Bound">ùíΩ</a> <a id="32373" href="Demos.HSP.html#32365" class="Bound">i</a> <a id="32375" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="32377" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="32381" href="Demos.HSP.html#32359" class="Bound">a</a>
                              <a id="32413" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="32418" href="Demos.HSP.html#32301" class="Function">h</a> <a id="32420" href="Demos.HSP.html#32420" class="Bound">xy</a> <a id="32423" href="Demos.HSP.html#32423" class="Bound">i</a> <a id="32425" class="Symbol">=</a> <a id="32427" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="32432" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="32434" href="Demos.HSP.html#32281" class="Bound">ùíΩ</a> <a id="32436" href="Demos.HSP.html#32423" class="Bound">i</a> <a id="32438" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="32440" href="Demos.HSP.html#32420" class="Bound">xy</a>
                              <a id="32473" href="Demos.HSP.html#32473" class="Function">hhom</a> <a id="32478" class="Symbol">:</a> <a id="32480" href="Demos.HSP.html#26560" class="Record">IsHom</a> <a id="32486" href="Demos.HSP.html#32174" class="Bound">ùë®</a> <a id="32488" class="Symbol">(</a><a id="32489" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="32491" href="Demos.HSP.html#32192" class="Bound">‚Ñ¨</a><a id="32492" class="Symbol">)</a> <a id="32494" href="Demos.HSP.html#32301" class="Function">h</a>
                              <a id="32526" href="Demos.HSP.html#26654" class="Field">compatible</a> <a id="32537" href="Demos.HSP.html#32473" class="Function">hhom</a> <a id="32542" class="Symbol">=</a> <a id="32544" class="Symbol">Œª</a> <a id="32546" href="Demos.HSP.html#32546" class="Bound">i</a> <a id="32548" class="Symbol">‚Üí</a> <a id="32550" href="Demos.HSP.html#26654" class="Field">compatible</a> <a id="32561" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="32563" href="Demos.HSP.html#32281" class="Bound">ùíΩ</a> <a id="32565" href="Demos.HSP.html#32546" class="Bound">i</a> <a id="32567" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a>
</pre>

Two structures are *isomorphic* provided there are homomorphisms from each to the
other that compose to the identity. We define the following record type to
represent this concept. Note that the definition, shown below, includes a proof of
the fact that the maps `to` and `from` are bijective, which makes this fact more
accessible.

<pre class="Agda">

<a id="32929" class="Keyword">module</a> <a id="32936" href="Demos.HSP.html#32936" class="Module">_</a> <a id="32938" class="Symbol">(</a><a id="32939" href="Demos.HSP.html#32939" class="Bound">ùë®</a> <a id="32941" class="Symbol">:</a> <a id="32943" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="32951" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="32953" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="32955" class="Symbol">)</a> <a id="32957" class="Symbol">(</a><a id="32958" href="Demos.HSP.html#32958" class="Bound">ùë©</a> <a id="32960" class="Symbol">:</a> <a id="32962" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="32970" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="32972" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="32974" class="Symbol">)</a> <a id="32976" class="Keyword">where</a>
 <a id="32983" class="Keyword">open</a> <a id="32988" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="32995" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="32998" href="Demos.HSP.html#32939" class="Bound">ùë®</a> <a id="33000" href="Demos.HSP.html#19173" class="Function Operator">]</a>  <a id="33003" class="Keyword">using</a> <a id="33009" class="Symbol">()</a>  <a id="33013" class="Keyword">renaming</a> <a id="33022" class="Symbol">(</a> <a id="33024" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="33028" class="Symbol">to</a> <a id="33031" class="Field Operator">_‚âà·¥¨_</a> <a id="33036" class="Symbol">)</a>
 <a id="33039" class="Keyword">open</a> <a id="33044" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="33051" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="33054" href="Demos.HSP.html#32958" class="Bound">ùë©</a> <a id="33056" href="Demos.HSP.html#19173" class="Function Operator">]</a>  <a id="33059" class="Keyword">using</a> <a id="33065" class="Symbol">()</a>  <a id="33069" class="Keyword">renaming</a> <a id="33078" class="Symbol">(</a> <a id="33080" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="33084" class="Symbol">to</a> <a id="33087" class="Field Operator">_‚âà·¥Æ_</a> <a id="33092" class="Symbol">)</a>

 <a id="33096" class="Keyword">record</a> <a id="33103" href="Demos.HSP.html#33103" class="Record Operator">_‚âÖ_</a> <a id="33107" class="Symbol">:</a> <a id="33109" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="33114" class="Symbol">(</a><a id="33115" href="Demos.HSP.html#5652" class="Bound">ùìû</a> <a id="33117" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="33119" href="Demos.HSP.html#5654" class="Bound">ùì•</a> <a id="33121" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="33123" href="Demos.HSP.html#32951" class="Bound">Œ±</a> <a id="33125" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="33127" href="Demos.HSP.html#32953" class="Bound">œÅ·µÉ</a> <a id="33130" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="33132" href="Demos.HSP.html#32970" class="Bound">Œ≤</a> <a id="33134" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="33136" href="Demos.HSP.html#32972" class="Bound">œÅ·µá</a> <a id="33139" class="Symbol">)</a> <a id="33141" class="Keyword">where</a>
  <a id="33149" class="Keyword">constructor</a>  <a id="33162" href="Demos.HSP.html#33162" class="InductiveConstructor">mkiso</a>
  <a id="33170" class="Keyword">field</a>        <a id="33183" href="Demos.HSP.html#33183" class="Field">to</a>    <a id="33189" class="Symbol">:</a> <a id="33191" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="33195" href="Demos.HSP.html#32939" class="Bound">ùë®</a> <a id="33197" href="Demos.HSP.html#32958" class="Bound">ùë©</a>
               <a id="33214" href="Demos.HSP.html#33214" class="Field">from</a>  <a id="33220" class="Symbol">:</a> <a id="33222" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="33226" href="Demos.HSP.html#32958" class="Bound">ùë©</a> <a id="33228" href="Demos.HSP.html#32939" class="Bound">ùë®</a>
               <a id="33245" href="Demos.HSP.html#33245" class="Field">to‚àºfrom</a> <a id="33253" class="Symbol">:</a> <a id="33255" class="Symbol">‚àÄ</a> <a id="33257" href="Demos.HSP.html#33257" class="Bound">b</a> <a id="33259" class="Symbol">‚Üí</a> <a id="33261" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33263" href="Demos.HSP.html#33183" class="Field">to</a> <a id="33266" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>    <a id="33271" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="33275" class="Symbol">(</a><a id="33276" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33278" href="Demos.HSP.html#33214" class="Field">from</a> <a id="33283" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>  <a id="33286" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="33290" href="Demos.HSP.html#33257" class="Bound">b</a><a id="33291" class="Symbol">)</a>  <a id="33294" href="Demos.HSP.html#33087" class="Function Operator">‚âà·¥Æ</a> <a id="33297" href="Demos.HSP.html#33257" class="Bound">b</a>
               <a id="33314" href="Demos.HSP.html#33314" class="Field">from‚àºto</a> <a id="33322" class="Symbol">:</a> <a id="33324" class="Symbol">‚àÄ</a> <a id="33326" href="Demos.HSP.html#33326" class="Bound">a</a> <a id="33328" class="Symbol">‚Üí</a> <a id="33330" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33332" href="Demos.HSP.html#33214" class="Field">from</a> <a id="33337" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>  <a id="33340" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="33344" class="Symbol">(</a><a id="33345" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33347" href="Demos.HSP.html#33183" class="Field">to</a> <a id="33350" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>    <a id="33355" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="33359" href="Demos.HSP.html#33326" class="Bound">a</a><a id="33360" class="Symbol">)</a>  <a id="33363" href="Demos.HSP.html#33031" class="Function Operator">‚âà·¥¨</a> <a id="33366" href="Demos.HSP.html#33326" class="Bound">a</a>

  <a id="33371" href="Demos.HSP.html#33371" class="Function">toIsInjective</a> <a id="33385" class="Symbol">:</a> <a id="33387" href="Demos.HSP.html#12142" class="Function">IsInjective</a> <a id="33399" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33401" href="Demos.HSP.html#33183" class="Field">to</a> <a id="33404" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>
  <a id="33408" href="Demos.HSP.html#33371" class="Function">toIsInjective</a> <a id="33422" class="Symbol">{</a><a id="33423" href="Demos.HSP.html#33423" class="Bound">x</a><a id="33424" class="Symbol">}{</a><a id="33426" href="Demos.HSP.html#33426" class="Bound">y</a><a id="33427" class="Symbol">}</a> <a id="33429" href="Demos.HSP.html#33429" class="Bound">xy</a> <a id="33432" class="Symbol">=</a> <a id="33434" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="33440" class="Symbol">(</a><a id="33441" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="33445" class="Symbol">(</a><a id="33446" href="Demos.HSP.html#33314" class="Field">from‚àºto</a> <a id="33454" href="Demos.HSP.html#33423" class="Bound">x</a><a id="33455" class="Symbol">))</a> <a id="33458" class="Symbol">(</a><a id="33459" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="33465" href="Demos.HSP.html#33541" class="Function">Œæ</a> <a id="33467" class="Symbol">(</a><a id="33468" href="Demos.HSP.html#33314" class="Field">from‚àºto</a> <a id="33476" href="Demos.HSP.html#33426" class="Bound">y</a><a id="33477" class="Symbol">))</a>
   <a id="33483" class="Keyword">where</a>  <a id="33490" class="Keyword">open</a> <a id="33495" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="33502" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="33505" href="Demos.HSP.html#32939" class="Bound">ùë®</a> <a id="33507" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="33509" class="Keyword">using</a> <a id="33515" class="Symbol">(</a> <a id="33517" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="33521" class="Symbol">;</a> <a id="33523" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="33529" class="Symbol">)</a>
          <a id="33541" href="Demos.HSP.html#33541" class="Function">Œæ</a> <a id="33543" class="Symbol">:</a> <a id="33545" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33547" href="Demos.HSP.html#33214" class="Field">from</a> <a id="33552" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33554" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="33558" class="Symbol">(</a><a id="33559" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33561" href="Demos.HSP.html#33183" class="Field">to</a> <a id="33564" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33566" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="33570" href="Demos.HSP.html#33423" class="Bound">x</a><a id="33571" class="Symbol">)</a> <a id="33573" href="Demos.HSP.html#33031" class="Function Operator">‚âà·¥¨</a> <a id="33576" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33578" href="Demos.HSP.html#33214" class="Field">from</a> <a id="33583" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33585" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="33589" class="Symbol">(</a><a id="33590" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33592" href="Demos.HSP.html#33183" class="Field">to</a> <a id="33595" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33597" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="33601" href="Demos.HSP.html#33426" class="Bound">y</a><a id="33602" class="Symbol">)</a>
          <a id="33614" href="Demos.HSP.html#33541" class="Function">Œæ</a> <a id="33616" class="Symbol">=</a> <a id="33618" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="33623" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33625" href="Demos.HSP.html#33214" class="Field">from</a> <a id="33630" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33632" href="Demos.HSP.html#33429" class="Bound">xy</a>

  <a id="33638" href="Demos.HSP.html#33638" class="Function">fromIsSurjective</a> <a id="33655" class="Symbol">:</a> <a id="33657" href="Demos.HSP.html#12235" class="Function">IsSurjective</a> <a id="33670" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33672" href="Demos.HSP.html#33214" class="Field">from</a> <a id="33677" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>
  <a id="33681" href="Demos.HSP.html#33638" class="Function">fromIsSurjective</a> <a id="33698" class="Symbol">{</a><a id="33699" href="Demos.HSP.html#33699" class="Bound">x</a><a id="33700" class="Symbol">}</a> <a id="33702" class="Symbol">=</a> <a id="33704" href="Demos.HSP.html#10397" class="InductiveConstructor">eq</a> <a id="33707" class="Symbol">(</a><a id="33708" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33710" href="Demos.HSP.html#33183" class="Field">to</a> <a id="33713" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="33715" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="33719" href="Demos.HSP.html#33699" class="Bound">x</a><a id="33720" class="Symbol">)</a> <a id="33722" class="Symbol">(</a><a id="33723" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="33727" class="Symbol">(</a><a id="33728" href="Demos.HSP.html#33314" class="Field">from‚àºto</a> <a id="33736" href="Demos.HSP.html#33699" class="Bound">x</a><a id="33737" class="Symbol">))</a>
   <a id="33743" class="Keyword">where</a> <a id="33749" class="Keyword">open</a> <a id="33754" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="33761" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="33764" href="Demos.HSP.html#32939" class="Bound">ùë®</a> <a id="33766" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="33768" class="Keyword">using</a> <a id="33774" class="Symbol">(</a> <a id="33776" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="33780" class="Symbol">)</a>

<a id="33783" class="Keyword">open</a> <a id="33788" href="Demos.HSP.html#33103" class="Module Operator">_‚âÖ_</a>

</pre>

It is easy to prove that \ar{\au{}‚âÖ\au{}} is an equivalence relation, as follows.

<pre class="Agda">

<a id="‚âÖ-refl"></a><a id="33902" href="Demos.HSP.html#33902" class="Function">‚âÖ-refl</a> <a id="33909" class="Symbol">:</a> <a id="33911" href="Relation.Binary.Definitions.html#1332" class="Function">Reflexive</a> <a id="33921" class="Symbol">(</a><a id="33922" href="Demos.HSP.html#33103" class="Record Operator">_‚âÖ_</a> <a id="33926" class="Symbol">{</a><a id="33927" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a><a id="33928" class="Symbol">}{</a><a id="33930" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="33932" class="Symbol">})</a>
<a id="33935" href="Demos.HSP.html#33902" class="Function">‚âÖ-refl</a> <a id="33942" class="Symbol">{</a><a id="33943" href="Demos.HSP.html#33943" class="Bound">Œ±</a><a id="33944" class="Symbol">}{</a><a id="33946" href="Demos.HSP.html#33946" class="Bound">œÅ·µÉ</a><a id="33948" class="Symbol">}{</a><a id="33950" href="Demos.HSP.html#33950" class="Bound">ùë®</a><a id="33951" class="Symbol">}</a> <a id="33953" class="Symbol">=</a>
 <a id="33956" href="Demos.HSP.html#33162" class="InductiveConstructor">mkiso</a> <a id="33962" href="Demos.HSP.html#29729" class="Function">ùíæùíπ</a> <a id="33965" href="Demos.HSP.html#29729" class="Function">ùíæùíπ</a> <a id="33968" class="Symbol">(Œª</a> <a id="33971" href="Demos.HSP.html#33971" class="Bound">b</a> <a id="33973" class="Symbol">‚Üí</a> <a id="33975" href="Relation.Binary.Structures.html#1596" class="Function">refl</a><a id="33979" class="Symbol">)</a> <a id="33981" class="Symbol">Œª</a> <a id="33983" href="Demos.HSP.html#33983" class="Bound">a</a> <a id="33985" class="Symbol">‚Üí</a> <a id="33987" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="33992" class="Keyword">where</a> <a id="33998" class="Keyword">open</a> <a id="34003" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="34010" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="34013" href="Demos.HSP.html#33950" class="Bound">ùë®</a> <a id="34015" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="34017" class="Keyword">using</a> <a id="34023" class="Symbol">(</a> <a id="34025" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="34030" class="Symbol">)</a>

<a id="‚âÖ-sym"></a><a id="34033" href="Demos.HSP.html#34033" class="Function">‚âÖ-sym</a> <a id="34039" class="Symbol">:</a> <a id="34041" href="Relation.Binary.Definitions.html#1417" class="Function">Sym</a> <a id="34045" class="Symbol">(</a><a id="34046" href="Demos.HSP.html#33103" class="Record Operator">_‚âÖ_</a><a id="34049" class="Symbol">{</a><a id="34050" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a><a id="34051" class="Symbol">}{</a><a id="34053" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="34055" class="Symbol">})</a> <a id="34058" class="Symbol">(</a><a id="34059" href="Demos.HSP.html#33103" class="Record Operator">_‚âÖ_</a><a id="34062" class="Symbol">{</a><a id="34063" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a><a id="34064" class="Symbol">}{</a><a id="34066" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="34068" class="Symbol">})</a>
<a id="34071" href="Demos.HSP.html#34033" class="Function">‚âÖ-sym</a> <a id="34077" href="Demos.HSP.html#34077" class="Bound">œÜ</a> <a id="34079" class="Symbol">=</a> <a id="34081" href="Demos.HSP.html#33162" class="InductiveConstructor">mkiso</a> <a id="34087" class="Symbol">(</a><a id="34088" href="Demos.HSP.html#33214" class="Field">from</a> <a id="34093" href="Demos.HSP.html#34077" class="Bound">œÜ</a><a id="34094" class="Symbol">)</a> <a id="34096" class="Symbol">(</a><a id="34097" href="Demos.HSP.html#33183" class="Field">to</a> <a id="34100" href="Demos.HSP.html#34077" class="Bound">œÜ</a><a id="34101" class="Symbol">)</a> <a id="34103" class="Symbol">(</a><a id="34104" href="Demos.HSP.html#33314" class="Field">from‚àºto</a> <a id="34112" href="Demos.HSP.html#34077" class="Bound">œÜ</a><a id="34113" class="Symbol">)</a> <a id="34115" class="Symbol">(</a><a id="34116" href="Demos.HSP.html#33245" class="Field">to‚àºfrom</a> <a id="34124" href="Demos.HSP.html#34077" class="Bound">œÜ</a><a id="34125" class="Symbol">)</a>

<a id="‚âÖ-trans"></a><a id="34128" href="Demos.HSP.html#34128" class="Function">‚âÖ-trans</a> <a id="34136" class="Symbol">:</a> <a id="34138" href="Relation.Binary.Definitions.html#1578" class="Function">Trans</a> <a id="34144" class="Symbol">(</a><a id="34145" href="Demos.HSP.html#33103" class="Record Operator">_‚âÖ_</a> <a id="34149" class="Symbol">{</a><a id="34150" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a><a id="34151" class="Symbol">}{</a><a id="34153" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="34155" class="Symbol">})</a> <a id="34158" class="Symbol">(</a><a id="34159" href="Demos.HSP.html#33103" class="Record Operator">_‚âÖ_</a><a id="34162" class="Symbol">{</a><a id="34163" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a><a id="34164" class="Symbol">}{</a><a id="34166" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="34168" class="Symbol">})</a> <a id="34171" class="Symbol">(</a><a id="34172" href="Demos.HSP.html#33103" class="Record Operator">_‚âÖ_</a><a id="34175" class="Symbol">{</a><a id="34176" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a><a id="34177" class="Symbol">}{</a><a id="34179" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="34181" class="Symbol">}{</a><a id="34183" href="Demos.HSP.html#7161" class="Generalizable">Œ≥</a><a id="34184" class="Symbol">}{</a><a id="34186" href="Demos.HSP.html#7163" class="Generalizable">œÅ·∂ú</a><a id="34188" class="Symbol">})</a>
<a id="34191" href="Demos.HSP.html#34128" class="Function">‚âÖ-trans</a> <a id="34199" class="Symbol">{</a><a id="34200" class="Argument">œÅ·∂ú</a> <a id="34203" class="Symbol">=</a> <a id="34205" href="Demos.HSP.html#34205" class="Bound">œÅ·∂ú</a><a id="34207" class="Symbol">}{</a><a id="34209" href="Demos.HSP.html#34209" class="Bound">ùë®</a><a id="34210" class="Symbol">}{</a><a id="34212" href="Demos.HSP.html#34212" class="Bound">ùë©</a><a id="34213" class="Symbol">}{</a><a id="34215" href="Demos.HSP.html#34215" class="Bound">ùë™</a><a id="34216" class="Symbol">}</a> <a id="34218" href="Demos.HSP.html#34218" class="Bound">ab</a> <a id="34221" href="Demos.HSP.html#34221" class="Bound">bc</a> <a id="34224" class="Symbol">=</a> <a id="34226" href="Demos.HSP.html#33162" class="InductiveConstructor">mkiso</a> <a id="34232" href="Demos.HSP.html#34248" class="Function">f</a> <a id="34234" href="Demos.HSP.html#34278" class="Function">g</a> <a id="34236" href="Demos.HSP.html#34471" class="Function">œÑ</a> <a id="34238" href="Demos.HSP.html#34593" class="Function">ŒΩ</a> <a id="34240" class="Keyword">where</a>
  <a id="34248" href="Demos.HSP.html#34248" class="Function">f</a> <a id="34250" class="Symbol">:</a> <a id="34252" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="34256" href="Demos.HSP.html#34209" class="Bound">ùë®</a> <a id="34258" href="Demos.HSP.html#34215" class="Bound">ùë™</a>                <a id="34275" class="Symbol">;</a>  <a id="34278" href="Demos.HSP.html#34278" class="Function">g</a> <a id="34280" class="Symbol">:</a> <a id="34282" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="34286" href="Demos.HSP.html#34215" class="Bound">ùë™</a> <a id="34288" href="Demos.HSP.html#34209" class="Bound">ùë®</a>
  <a id="34292" href="Demos.HSP.html#34248" class="Function">f</a> <a id="34294" class="Symbol">=</a> <a id="34296" href="Demos.HSP.html#29194" class="Function">‚àò-hom</a> <a id="34302" class="Symbol">(</a><a id="34303" href="Demos.HSP.html#33183" class="Field">to</a> <a id="34306" href="Demos.HSP.html#34218" class="Bound">ab</a><a id="34308" class="Symbol">)</a> <a id="34310" class="Symbol">(</a><a id="34311" href="Demos.HSP.html#33183" class="Field">to</a> <a id="34314" href="Demos.HSP.html#34221" class="Bound">bc</a><a id="34316" class="Symbol">)</a>  <a id="34319" class="Symbol">;</a>  <a id="34322" href="Demos.HSP.html#34278" class="Function">g</a> <a id="34324" class="Symbol">=</a> <a id="34326" href="Demos.HSP.html#29194" class="Function">‚àò-hom</a> <a id="34332" class="Symbol">(</a><a id="34333" href="Demos.HSP.html#33214" class="Field">from</a> <a id="34338" href="Demos.HSP.html#34221" class="Bound">bc</a><a id="34340" class="Symbol">)</a> <a id="34342" class="Symbol">(</a><a id="34343" href="Demos.HSP.html#33214" class="Field">from</a> <a id="34348" href="Demos.HSP.html#34218" class="Bound">ab</a><a id="34350" class="Symbol">)</a>

  <a id="34355" class="Keyword">open</a> <a id="34360" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="34367" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="34370" href="Demos.HSP.html#34209" class="Bound">ùë®</a> <a id="34372" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="34374" class="Keyword">using</a> <a id="34380" class="Symbol">(</a> <a id="34382" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="34386" class="Symbol">;</a> <a id="34388" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="34394" class="Symbol">)</a>
  <a id="34398" class="Keyword">open</a> <a id="34403" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="34410" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="34413" href="Demos.HSP.html#34215" class="Bound">ùë™</a> <a id="34415" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="34417" class="Keyword">using</a> <a id="34423" class="Symbol">()</a> <a id="34426" class="Keyword">renaming</a> <a id="34435" class="Symbol">(</a> <a id="34437" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="34441" class="Symbol">to</a> <a id="34444" class="Field Operator">_‚âà·∂ú_</a> <a id="34449" class="Symbol">;</a> <a id="34451" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="34457" class="Symbol">to</a> <a id="34460" class="Function">trans·∂ú</a> <a id="34467" class="Symbol">)</a>
  <a id="34471" href="Demos.HSP.html#34471" class="Function">œÑ</a> <a id="34473" class="Symbol">:</a> <a id="34475" class="Symbol">‚àÄ</a> <a id="34477" href="Demos.HSP.html#34477" class="Bound">b</a> <a id="34479" class="Symbol">‚Üí</a> <a id="34481" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="34483" href="Demos.HSP.html#34248" class="Function">f</a> <a id="34485" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="34487" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="34491" class="Symbol">(</a><a id="34492" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="34494" href="Demos.HSP.html#34278" class="Function">g</a> <a id="34496" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="34498" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="34502" href="Demos.HSP.html#34477" class="Bound">b</a><a id="34503" class="Symbol">)</a> <a id="34505" href="Demos.HSP.html#34444" class="Function Operator">‚âà·∂ú</a> <a id="34508" href="Demos.HSP.html#34477" class="Bound">b</a>
  <a id="34512" href="Demos.HSP.html#34471" class="Function">œÑ</a> <a id="34514" href="Demos.HSP.html#34514" class="Bound">b</a> <a id="34516" class="Symbol">=</a> <a id="34518" href="Demos.HSP.html#34460" class="Function">trans·∂ú</a> <a id="34525" class="Symbol">(</a><a id="34526" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="34531" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="34533" href="Demos.HSP.html#33183" class="Field">to</a> <a id="34536" href="Demos.HSP.html#34221" class="Bound">bc</a> <a id="34539" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="34541" class="Symbol">(</a><a id="34542" href="Demos.HSP.html#33245" class="Field">to‚àºfrom</a> <a id="34550" href="Demos.HSP.html#34218" class="Bound">ab</a> <a id="34553" class="Symbol">(</a><a id="34554" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="34556" href="Demos.HSP.html#33214" class="Field">from</a> <a id="34561" href="Demos.HSP.html#34221" class="Bound">bc</a> <a id="34564" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="34566" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="34570" href="Demos.HSP.html#34514" class="Bound">b</a><a id="34571" class="Symbol">)))</a> <a id="34575" class="Symbol">(</a><a id="34576" href="Demos.HSP.html#33245" class="Field">to‚àºfrom</a> <a id="34584" href="Demos.HSP.html#34221" class="Bound">bc</a> <a id="34587" href="Demos.HSP.html#34514" class="Bound">b</a><a id="34588" class="Symbol">)</a>

  <a id="34593" href="Demos.HSP.html#34593" class="Function">ŒΩ</a> <a id="34595" class="Symbol">:</a> <a id="34597" class="Symbol">‚àÄ</a> <a id="34599" href="Demos.HSP.html#34599" class="Bound">a</a> <a id="34601" class="Symbol">‚Üí</a> <a id="34603" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="34605" href="Demos.HSP.html#34278" class="Function">g</a> <a id="34607" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="34609" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="34613" class="Symbol">(</a><a id="34614" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="34616" href="Demos.HSP.html#34248" class="Function">f</a> <a id="34618" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="34620" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="34624" href="Demos.HSP.html#34599" class="Bound">a</a><a id="34625" class="Symbol">)</a> <a id="34627" href="Relation.Binary.Bundles.html#1184" class="Function Operator">‚âà</a> <a id="34629" href="Demos.HSP.html#34599" class="Bound">a</a>
  <a id="34633" href="Demos.HSP.html#34593" class="Function">ŒΩ</a> <a id="34635" href="Demos.HSP.html#34635" class="Bound">a</a> <a id="34637" class="Symbol">=</a> <a id="34639" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="34645" class="Symbol">(</a><a id="34646" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="34651" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="34653" href="Demos.HSP.html#33214" class="Field">from</a> <a id="34658" href="Demos.HSP.html#34218" class="Bound">ab</a> <a id="34661" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="34663" class="Symbol">(</a><a id="34664" href="Demos.HSP.html#33314" class="Field">from‚àºto</a> <a id="34672" href="Demos.HSP.html#34221" class="Bound">bc</a> <a id="34675" class="Symbol">(</a><a id="34676" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="34678" href="Demos.HSP.html#33183" class="Field">to</a> <a id="34681" href="Demos.HSP.html#34218" class="Bound">ab</a> <a id="34684" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="34686" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="34690" href="Demos.HSP.html#34635" class="Bound">a</a><a id="34691" class="Symbol">)))</a> <a id="34695" class="Symbol">(</a><a id="34696" href="Demos.HSP.html#33314" class="Field">from‚àºto</a> <a id="34704" href="Demos.HSP.html#34218" class="Bound">ab</a> <a id="34707" href="Demos.HSP.html#34635" class="Bound">a</a><a id="34708" class="Symbol">)</a>
</pre>

##### <a id="homomorphic-images">Homomorphic images</a>
 <!-- {#homomorphic-images .unnumbered} -->

We have found that a useful way to encode the concept of *homomorphic image* is to
produce a witness, that is, a surjective hom. Thus we define the type of
surjective homs and also record the fact that an algebra is its own homomorphic
image via the identity hom.

<pre class="Agda">

<a id="ov"></a><a id="35102" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="35105" class="Symbol">:</a> <a id="35107" href="Agda.Primitive.html#742" class="Postulate">Level</a> <a id="35113" class="Symbol">‚Üí</a> <a id="35115" href="Agda.Primitive.html#742" class="Postulate">Level</a>         <a id="35129" class="Comment">-- shorthand for a common level transformation</a>
<a id="35176" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="35179" href="Demos.HSP.html#35179" class="Bound">Œ±</a> <a id="35181" class="Symbol">=</a> <a id="35183" href="Demos.HSP.html#5652" class="Bound">ùìû</a> <a id="35185" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="35187" href="Demos.HSP.html#5654" class="Bound">ùì•</a> <a id="35189" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="35191" href="Agda.Primitive.html#931" class="Primitive">suc</a> <a id="35195" href="Demos.HSP.html#35179" class="Bound">Œ±</a>

<a id="_IsHomImageOf_"></a><a id="35198" href="Demos.HSP.html#35198" class="Function Operator">_IsHomImageOf_</a> <a id="35213" class="Symbol">:</a> <a id="35215" class="Symbol">(</a><a id="35216" href="Demos.HSP.html#35216" class="Bound">ùë©</a> <a id="35218" class="Symbol">:</a> <a id="35220" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="35228" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="35230" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="35232" class="Symbol">)(</a><a id="35234" href="Demos.HSP.html#35234" class="Bound">ùë®</a> <a id="35236" class="Symbol">:</a> <a id="35238" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="35246" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="35248" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="35250" class="Symbol">)</a> <a id="35252" class="Symbol">‚Üí</a> <a id="35254" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="35259" class="Symbol">_</a>
<a id="35261" href="Demos.HSP.html#35261" class="Bound">ùë©</a> <a id="35263" href="Demos.HSP.html#35198" class="Function Operator">IsHomImageOf</a> <a id="35276" href="Demos.HSP.html#35276" class="Bound">ùë®</a> <a id="35278" class="Symbol">=</a> <a id="35280" href="Data.Product.Base.html#1244" class="Function">Œ£[</a> <a id="35283" href="Demos.HSP.html#35283" class="Bound">œÜ</a> <a id="35285" href="Data.Product.Base.html#1244" class="Function">‚àà</a> <a id="35287" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="35291" href="Demos.HSP.html#35276" class="Bound">ùë®</a> <a id="35293" href="Demos.HSP.html#35261" class="Bound">ùë©</a> <a id="35295" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="35297" href="Demos.HSP.html#12235" class="Function">IsSurjective</a> <a id="35310" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="35312" href="Demos.HSP.html#35283" class="Bound">œÜ</a> <a id="35314" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>

<a id="IdHomImage"></a><a id="35317" href="Demos.HSP.html#35317" class="Function">IdHomImage</a> <a id="35328" class="Symbol">:</a> <a id="35330" class="Symbol">{</a><a id="35331" href="Demos.HSP.html#35331" class="Bound">ùë®</a> <a id="35333" class="Symbol">:</a> <a id="35335" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="35343" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="35345" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="35347" class="Symbol">}</a> <a id="35349" class="Symbol">‚Üí</a> <a id="35351" href="Demos.HSP.html#35331" class="Bound">ùë®</a> <a id="35353" href="Demos.HSP.html#35198" class="Function Operator">IsHomImageOf</a> <a id="35366" href="Demos.HSP.html#35331" class="Bound">ùë®</a>
<a id="35368" href="Demos.HSP.html#35317" class="Function">IdHomImage</a> <a id="35379" class="Symbol">{</a><a id="35380" class="Argument">Œ±</a> <a id="35382" class="Symbol">=</a> <a id="35384" href="Demos.HSP.html#35384" class="Bound">Œ±</a><a id="35385" class="Symbol">}{</a><a id="35387" class="Argument">ùë®</a> <a id="35389" class="Symbol">=</a> <a id="35391" href="Demos.HSP.html#35391" class="Bound">ùë®</a><a id="35392" class="Symbol">}</a> <a id="35394" class="Symbol">=</a> <a id="35396" href="Demos.HSP.html#29729" class="Function">ùíæùíπ</a> <a id="35399" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="35401" class="Symbol">Œª</a> <a id="35403" class="Symbol">{</a><a id="35404" href="Demos.HSP.html#35404" class="Bound">y</a><a id="35405" class="Symbol">}</a> <a id="35407" class="Symbol">‚Üí</a> <a id="35409" href="Demos.HSP.html#10397" class="InductiveConstructor">Image_‚àã_.eq</a> <a id="35421" href="Demos.HSP.html#35404" class="Bound">y</a> <a id="35423" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
 <a id="35429" class="Keyword">where</a> <a id="35435" class="Keyword">open</a> <a id="35440" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="35447" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="35450" href="Demos.HSP.html#35391" class="Bound">ùë®</a> <a id="35452" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="35454" class="Keyword">using</a> <a id="35460" class="Symbol">(</a> <a id="35462" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="35467" class="Symbol">)</a>
</pre>


##### <a id="factorization-of-homomorphisms">Factorization of homomorphisms</a>
 <!-- {#factorization-of-homomorphisms .unnumbered} -->

Another theorem in the [agda-algebras][] library, called `HomFactor`, formalizes
the following factorization result: if `g : hom ùë® ùë©`, `h : hom ùë® ùë™`, `h` is
surjective, and `ker h ‚äÜ ker g`, then there exists `œÜ : hom ùë™ ùë©` such that `g = œÜ
‚àò h`. A special case of this result that we use below is the fact that the setoid
function factorization we saw above lifts to factorization of homomorphisms.
Moreover, we associate a homomorphism `h` with its image---which is (the domain
of) a subalgebra of the codomain of `h`---using the function `HomIm` defined
below.[^8]

<pre class="Agda">

<a id="36200" class="Keyword">module</a> <a id="36207" href="Demos.HSP.html#36207" class="Module">_</a> <a id="36209" class="Symbol">{</a><a id="36210" href="Demos.HSP.html#36210" class="Bound">ùë®</a> <a id="36212" class="Symbol">:</a> <a id="36214" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="36222" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="36224" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="36226" class="Symbol">}{</a><a id="36228" href="Demos.HSP.html#36228" class="Bound">ùë©</a> <a id="36230" class="Symbol">:</a> <a id="36232" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="36240" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="36242" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="36244" class="Symbol">}</a> <a id="36246" class="Keyword">where</a>

 <a id="36254" href="Demos.HSP.html#36254" class="Function">HomIm</a> <a id="36260" class="Symbol">:</a> <a id="36262" class="Symbol">(</a><a id="36263" href="Demos.HSP.html#36263" class="Bound">h</a> <a id="36265" class="Symbol">:</a> <a id="36267" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="36271" href="Demos.HSP.html#36210" class="Bound">ùë®</a> <a id="36273" href="Demos.HSP.html#36228" class="Bound">ùë©</a><a id="36274" class="Symbol">)</a> <a id="36276" class="Symbol">‚Üí</a> <a id="36278" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="36286" class="Symbol">_</a> <a id="36288" class="Symbol">_</a>
 <a id="36291" href="Demos.HSP.html#18584" class="Field">Domain</a> <a id="36298" class="Symbol">(</a><a id="36299" href="Demos.HSP.html#36254" class="Function">HomIm</a> <a id="36305" href="Demos.HSP.html#36305" class="Bound">h</a><a id="36306" class="Symbol">)</a> <a id="36308" class="Symbol">=</a> <a id="36310" href="Demos.HSP.html#13613" class="Function">Im</a> <a id="36313" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="36315" href="Demos.HSP.html#36305" class="Bound">h</a> <a id="36317" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>
 <a id="36320" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="36327" class="Symbol">(</a><a id="36328" href="Demos.HSP.html#36254" class="Function">HomIm</a> <a id="36334" href="Demos.HSP.html#36334" class="Bound">h</a><a id="36335" class="Symbol">)</a> <a id="36337" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="36341" class="Symbol">(</a><a id="36342" href="Demos.HSP.html#36342" class="Bound">f</a> <a id="36344" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="36346" href="Demos.HSP.html#36346" class="Bound">la</a><a id="36348" class="Symbol">)</a> <a id="36350" class="Symbol">=</a> <a id="36352" class="Symbol">(</a><a id="36353" href="Demos.HSP.html#36342" class="Bound">f</a> <a id="36355" href="Demos.HSP.html#19286" class="Function Operator">ÃÇ</a> <a id="36357" href="Demos.HSP.html#36210" class="Bound">ùë®</a><a id="36358" class="Symbol">)</a> <a id="36360" href="Demos.HSP.html#36346" class="Bound">la</a>
 <a id="36364" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="36369" class="Symbol">(</a><a id="36370" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="36377" class="Symbol">(</a><a id="36378" href="Demos.HSP.html#36254" class="Function">HomIm</a> <a id="36384" href="Demos.HSP.html#36384" class="Bound">h</a><a id="36385" class="Symbol">))</a> <a id="36388" class="Symbol">{</a><a id="36389" href="Demos.HSP.html#36389" class="Bound">x1</a> <a id="36392" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="36394" href="Demos.HSP.html#36394" class="Bound">x2</a><a id="36396" class="Symbol">}</a> <a id="36398" class="Symbol">{</a><a id="36399" class="DottedPattern Symbol">.</a><a id="36400" href="Demos.HSP.html#36389" class="DottedPattern Bound">x1</a> <a id="36403" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="36405" href="Demos.HSP.html#36405" class="Bound">y2</a><a id="36407" class="Symbol">}</a> <a id="36409" class="Symbol">(</a><a id="36410" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="36417" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="36419" href="Demos.HSP.html#36419" class="Bound">e</a><a id="36420" class="Symbol">)</a> <a id="36422" class="Symbol">=</a>
  <a id="36426" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="36438" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="36440" href="Demos.HSP.html#36384" class="Bound">h</a> <a id="36442" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>  <a id="36445" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a>         <a id="36457" class="Symbol">(</a><a id="36458" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="36465" href="Demos.HSP.html#36210" class="Bound">ùë®</a>  <a id="36468" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="36472" class="Symbol">(</a><a id="36473" href="Demos.HSP.html#36389" class="Bound">x1</a> <a id="36476" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="36478" href="Demos.HSP.html#36394" class="Bound">x2</a><a id="36480" class="Symbol">))</a>  <a id="36484" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a> <a id="36487" href="Demos.HSP.html#36857" class="Function">h-compatible</a>                  <a id="36517" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
   <a id="36522" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="36529" href="Demos.HSP.html#36228" class="Bound">ùë©</a>  <a id="36532" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="36536" class="Symbol">(</a><a id="36537" href="Demos.HSP.html#36389" class="Bound">x1</a> <a id="36540" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="36542" class="Symbol">Œª</a> <a id="36544" href="Demos.HSP.html#36544" class="Bound">x</a> <a id="36546" class="Symbol">‚Üí</a> <a id="36548" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="36550" href="Demos.HSP.html#36384" class="Bound">h</a> <a id="36552" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>  <a id="36555" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="36559" href="Demos.HSP.html#36394" class="Bound">x2</a> <a id="36562" href="Demos.HSP.html#36544" class="Bound">x</a><a id="36563" class="Symbol">)</a>       <a id="36571" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a> <a id="36574" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="36579" class="Symbol">(</a><a id="36580" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="36587" href="Demos.HSP.html#36228" class="Bound">ùë©</a><a id="36588" class="Symbol">)</a> <a id="36590" class="Symbol">(</a><a id="36591" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="36598" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="36600" href="Demos.HSP.html#36419" class="Bound">e</a><a id="36601" class="Symbol">)</a>  <a id="36604" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
   <a id="36609" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="36616" href="Demos.HSP.html#36228" class="Bound">ùë©</a>  <a id="36619" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="36623" class="Symbol">(</a><a id="36624" href="Demos.HSP.html#36389" class="Bound">x1</a> <a id="36627" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="36629" class="Symbol">Œª</a> <a id="36631" href="Demos.HSP.html#36631" class="Bound">x</a> <a id="36633" class="Symbol">‚Üí</a> <a id="36635" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="36637" href="Demos.HSP.html#36384" class="Bound">h</a> <a id="36639" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>  <a id="36642" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="36646" href="Demos.HSP.html#36405" class="Bound">y2</a> <a id="36649" href="Demos.HSP.html#36631" class="Bound">x</a><a id="36650" class="Symbol">)</a>       <a id="36658" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚âàÀò‚ü®</a> <a id="36662" href="Demos.HSP.html#36857" class="Function">h-compatible</a>                 <a id="36691" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚ü©</a>
      <a id="36699" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="36701" href="Demos.HSP.html#36384" class="Bound">h</a> <a id="36703" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>  <a id="36706" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a>         <a id="36718" class="Symbol">(</a><a id="36719" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="36726" href="Demos.HSP.html#36210" class="Bound">ùë®</a>  <a id="36729" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="36733" class="Symbol">(</a><a id="36734" href="Demos.HSP.html#36389" class="Bound">x1</a> <a id="36737" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="36739" href="Demos.HSP.html#36405" class="Bound">y2</a><a id="36741" class="Symbol">))</a>  <a id="36745" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">‚àé</a>
   <a id="36750" class="Keyword">where</a>  <a id="36757" class="Keyword">open</a> <a id="36762" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="36769" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="36772" href="Demos.HSP.html#36228" class="Bound">ùë©</a> <a id="36774" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="36776" class="Symbol">;</a> <a id="36778" class="Keyword">open</a> <a id="36783" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="36799" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="36802" href="Demos.HSP.html#36228" class="Bound">ùë©</a> <a id="36804" href="Demos.HSP.html#19173" class="Function Operator">]</a>
          <a id="36816" class="Keyword">open</a> <a id="36821" href="Demos.HSP.html#26560" class="Module">IsHom</a> <a id="36827" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="36829" href="Demos.HSP.html#36384" class="Bound">h</a> <a id="36831" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="36833" class="Keyword">renaming</a> <a id="36842" class="Symbol">(</a><a id="36843" href="Demos.HSP.html#26654" class="Field">compatible</a> <a id="36854" class="Symbol">to</a> <a id="36857" class="Field">h-compatible</a><a id="36869" class="Symbol">)</a>

 <a id="36873" href="Demos.HSP.html#36873" class="Function">toHomIm</a> <a id="36881" class="Symbol">:</a> <a id="36883" class="Symbol">(</a><a id="36884" href="Demos.HSP.html#36884" class="Bound">h</a> <a id="36886" class="Symbol">:</a> <a id="36888" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="36892" href="Demos.HSP.html#36210" class="Bound">ùë®</a> <a id="36894" href="Demos.HSP.html#36228" class="Bound">ùë©</a><a id="36895" class="Symbol">)</a> <a id="36897" class="Symbol">‚Üí</a> <a id="36899" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="36903" href="Demos.HSP.html#36210" class="Bound">ùë®</a> <a id="36905" class="Symbol">(</a><a id="36906" href="Demos.HSP.html#36254" class="Function">HomIm</a> <a id="36912" href="Demos.HSP.html#36884" class="Bound">h</a><a id="36913" class="Symbol">)</a>
 <a id="36916" href="Demos.HSP.html#36873" class="Function">toHomIm</a> <a id="36924" href="Demos.HSP.html#36924" class="Bound">h</a> <a id="36926" class="Symbol">=</a> <a id="36928" href="Demos.HSP.html#13831" class="Function">toIm</a> <a id="36933" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="36935" href="Demos.HSP.html#36924" class="Bound">h</a> <a id="36937" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="36939" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="36941" href="Demos.HSP.html#26633" class="InductiveConstructor">mkhom</a> <a id="36947" class="Symbol">(</a><a id="36948" href="Demos.HSP.html#6862" class="Function">reflÀ¢</a> <a id="36954" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="36957" href="Demos.HSP.html#36228" class="Bound">ùë©</a> <a id="36959" href="Demos.HSP.html#19173" class="Function Operator">]</a><a id="36960" class="Symbol">)</a>

 <a id="36964" href="Demos.HSP.html#36964" class="Function">fromHomIm</a> <a id="36974" class="Symbol">:</a> <a id="36976" class="Symbol">(</a><a id="36977" href="Demos.HSP.html#36977" class="Bound">h</a> <a id="36979" class="Symbol">:</a> <a id="36981" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="36985" href="Demos.HSP.html#36210" class="Bound">ùë®</a> <a id="36987" href="Demos.HSP.html#36228" class="Bound">ùë©</a><a id="36988" class="Symbol">)</a> <a id="36990" class="Symbol">‚Üí</a> <a id="36992" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="36996" class="Symbol">(</a><a id="36997" href="Demos.HSP.html#36254" class="Function">HomIm</a> <a id="37003" href="Demos.HSP.html#36977" class="Bound">h</a><a id="37004" class="Symbol">)</a> <a id="37006" href="Demos.HSP.html#36228" class="Bound">ùë©</a>
 <a id="37009" href="Demos.HSP.html#36964" class="Function">fromHomIm</a> <a id="37019" href="Demos.HSP.html#37019" class="Bound">h</a> <a id="37021" class="Symbol">=</a> <a id="37023" href="Demos.HSP.html#13908" class="Function">fromIm</a> <a id="37030" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="37032" href="Demos.HSP.html#37019" class="Bound">h</a> <a id="37034" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="37036" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="37038" href="Demos.HSP.html#26633" class="InductiveConstructor">mkhom</a> <a id="37044" class="Symbol">(</a><a id="37045" href="Demos.HSP.html#26654" class="Field">IsHom.compatible</a> <a id="37062" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="37064" href="Demos.HSP.html#37019" class="Bound">h</a> <a id="37066" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a><a id="37067" class="Symbol">)</a>
</pre>


##### <a id="sec:lift-al">Lift-Alg is an algebraic invariant</a>
 <!-- {#sec:lift-alg} -->

The `Lift-Alg` operation neatly resolves the technical problem of universe
non-cumulativity because isomorphism classes of algebras are closed under
`Lift-Alg`. 

<pre class="Agda">

<a id="37351" class="Keyword">module</a> <a id="37358" href="Demos.HSP.html#37358" class="Module">_</a> <a id="37360" class="Symbol">{</a><a id="37361" href="Demos.HSP.html#37361" class="Bound">ùë®</a> <a id="37363" class="Symbol">:</a> <a id="37365" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="37373" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="37375" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="37377" class="Symbol">}{</a><a id="37379" href="Demos.HSP.html#37379" class="Bound">‚Ñì</a> <a id="37381" class="Symbol">:</a> <a id="37383" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="37388" class="Symbol">}</a> <a id="37390" class="Keyword">where</a>
 <a id="37397" href="Demos.HSP.html#37397" class="Function">Lift-‚âÖÀ°</a> <a id="37405" class="Symbol">:</a> <a id="37407" href="Demos.HSP.html#37361" class="Bound">ùë®</a> <a id="37409" href="Demos.HSP.html#33103" class="Record Operator">‚âÖ</a> <a id="37411" class="Symbol">(</a><a id="37412" href="Demos.HSP.html#21449" class="Function">Lift-AlgÀ°</a> <a id="37422" href="Demos.HSP.html#37361" class="Bound">ùë®</a> <a id="37424" href="Demos.HSP.html#37379" class="Bound">‚Ñì</a><a id="37425" class="Symbol">)</a>
 <a id="37428" href="Demos.HSP.html#37397" class="Function">Lift-‚âÖÀ°</a> <a id="37436" class="Symbol">=</a> <a id="37438" href="Demos.HSP.html#33162" class="InductiveConstructor">mkiso</a> <a id="37444" href="Demos.HSP.html#30177" class="Function">ToLiftÀ°</a> <a id="37452" href="Demos.HSP.html#30282" class="Function">FromLiftÀ°</a> <a id="37462" class="Symbol">(</a><a id="37463" href="Demos.HSP.html#30379" class="Function">ToFromLiftÀ°</a><a id="37474" class="Symbol">{</a><a id="37475" class="Argument">ùë®</a> <a id="37477" class="Symbol">=</a> <a id="37479" href="Demos.HSP.html#37361" class="Bound">ùë®</a><a id="37480" class="Symbol">})</a> <a id="37483" class="Symbol">(</a><a id="37484" href="Demos.HSP.html#30468" class="Function">FromToLiftÀ°</a><a id="37495" class="Symbol">{</a><a id="37496" class="Argument">ùë®</a> <a id="37498" class="Symbol">=</a> <a id="37500" href="Demos.HSP.html#37361" class="Bound">ùë®</a><a id="37501" class="Symbol">}{</a><a id="37503" href="Demos.HSP.html#37379" class="Bound">‚Ñì</a><a id="37504" class="Symbol">})</a>
 <a id="37508" href="Demos.HSP.html#37508" class="Function">Lift-‚âÖ ≥</a> <a id="37516" class="Symbol">:</a> <a id="37518" href="Demos.HSP.html#37361" class="Bound">ùë®</a> <a id="37520" href="Demos.HSP.html#33103" class="Record Operator">‚âÖ</a> <a id="37522" class="Symbol">(</a><a id="37523" href="Demos.HSP.html#21854" class="Function">Lift-Alg ≥</a> <a id="37533" href="Demos.HSP.html#37361" class="Bound">ùë®</a> <a id="37535" href="Demos.HSP.html#37379" class="Bound">‚Ñì</a><a id="37536" class="Symbol">)</a>
 <a id="37539" href="Demos.HSP.html#37508" class="Function">Lift-‚âÖ ≥</a> <a id="37547" class="Symbol">=</a> <a id="37549" href="Demos.HSP.html#33162" class="InductiveConstructor">mkiso</a> <a id="37555" href="Demos.HSP.html#30556" class="Function">ToLift ≥</a> <a id="37563" href="Demos.HSP.html#30668" class="Function">FromLift ≥</a> <a id="37573" class="Symbol">(</a><a id="37574" href="Demos.HSP.html#30765" class="Function">ToFromLift ≥</a><a id="37585" class="Symbol">{</a><a id="37586" class="Argument">ùë®</a> <a id="37588" class="Symbol">=</a> <a id="37590" href="Demos.HSP.html#37361" class="Bound">ùë®</a><a id="37591" class="Symbol">})</a> <a id="37594" class="Symbol">(</a><a id="37595" href="Demos.HSP.html#30858" class="Function">FromToLift ≥</a><a id="37606" class="Symbol">{</a><a id="37607" class="Argument">ùë®</a> <a id="37609" class="Symbol">=</a> <a id="37611" href="Demos.HSP.html#37361" class="Bound">ùë®</a><a id="37612" class="Symbol">}{</a><a id="37614" href="Demos.HSP.html#37379" class="Bound">‚Ñì</a><a id="37615" class="Symbol">})</a>

<a id="Lift-‚âÖ"></a><a id="37619" href="Demos.HSP.html#37619" class="Function">Lift-‚âÖ</a> <a id="37626" class="Symbol">:</a> <a id="37628" class="Symbol">{</a><a id="37629" href="Demos.HSP.html#37629" class="Bound">ùë®</a> <a id="37631" class="Symbol">:</a> <a id="37633" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="37641" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="37643" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="37645" class="Symbol">}{</a><a id="37647" href="Demos.HSP.html#37647" class="Bound">‚Ñì</a> <a id="37649" href="Demos.HSP.html#37649" class="Bound">œÅ</a> <a id="37651" class="Symbol">:</a> <a id="37653" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="37658" class="Symbol">}</a> <a id="37660" class="Symbol">‚Üí</a> <a id="37662" href="Demos.HSP.html#37629" class="Bound">ùë®</a> <a id="37664" href="Demos.HSP.html#33103" class="Record Operator">‚âÖ</a> <a id="37666" class="Symbol">(</a><a id="37667" href="Demos.HSP.html#22427" class="Function">Lift-Alg</a> <a id="37676" href="Demos.HSP.html#37629" class="Bound">ùë®</a> <a id="37678" href="Demos.HSP.html#37647" class="Bound">‚Ñì</a> <a id="37680" href="Demos.HSP.html#37649" class="Bound">œÅ</a><a id="37681" class="Symbol">)</a>
<a id="37683" href="Demos.HSP.html#37619" class="Function">Lift-‚âÖ</a> <a id="37690" class="Symbol">=</a> <a id="37692" href="Demos.HSP.html#34128" class="Function">‚âÖ-trans</a> <a id="37700" href="Demos.HSP.html#37397" class="Function">Lift-‚âÖÀ°</a> <a id="37708" href="Demos.HSP.html#37508" class="Function">Lift-‚âÖ ≥</a>
</pre>

#### <a id="subalgebras">Subalgebras</a>

We say that `ùë®` is a *subalgebra* of `ùë©` and write `ùë® ‚â§ ùë©` just in case `ùë®` can be *homomorphically
embedded* in `ùë©`; in other terms, `ùë® ‚â§ ùë©` iff there exists an injective hom from `ùë®` to `ùë©`.

<pre class="Agda">

<a id="_‚â§_"></a><a id="37978" href="Demos.HSP.html#37978" class="Function Operator">_‚â§_</a> <a id="37982" class="Symbol">:</a> <a id="37984" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="37992" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="37994" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="37997" class="Symbol">‚Üí</a> <a id="37999" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="38007" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="38009" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a> <a id="38012" class="Symbol">‚Üí</a> <a id="38014" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="38019" class="Symbol">_</a>
<a id="38021" href="Demos.HSP.html#38021" class="Bound">ùë®</a> <a id="38023" href="Demos.HSP.html#37978" class="Function Operator">‚â§</a> <a id="38025" href="Demos.HSP.html#38025" class="Bound">ùë©</a> <a id="38027" class="Symbol">=</a> <a id="38029" href="Data.Product.Base.html#1244" class="Function">Œ£[</a> <a id="38032" href="Demos.HSP.html#38032" class="Bound">h</a> <a id="38034" href="Data.Product.Base.html#1244" class="Function">‚àà</a> <a id="38036" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="38040" href="Demos.HSP.html#38021" class="Bound">ùë®</a> <a id="38042" href="Demos.HSP.html#38025" class="Bound">ùë©</a> <a id="38044" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="38046" href="Demos.HSP.html#12142" class="Function">IsInjective</a> <a id="38058" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="38060" href="Demos.HSP.html#38032" class="Bound">h</a> <a id="38062" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>

</pre>
The subalgebra relation is reflexive, by the identity monomorphism (and transitive by composition of monomorphisms, hence, a *preorder*, though we won't need this fact here).

<pre class="Agda">

<a id="‚â§-reflexive"></a><a id="38266" href="Demos.HSP.html#38266" class="Function">‚â§-reflexive</a>   <a id="38280" class="Symbol">:</a>  <a id="38283" class="Symbol">{</a><a id="38284" href="Demos.HSP.html#38284" class="Bound">ùë®</a> <a id="38286" class="Symbol">:</a> <a id="38288" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="38296" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="38298" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="38300" class="Symbol">}</a> <a id="38302" class="Symbol">‚Üí</a> <a id="38304" href="Demos.HSP.html#38284" class="Bound">ùë®</a> <a id="38306" href="Demos.HSP.html#37978" class="Function Operator">‚â§</a> <a id="38308" href="Demos.HSP.html#38284" class="Bound">ùë®</a>
<a id="38310" href="Demos.HSP.html#38266" class="Function">‚â§-reflexive</a> <a id="38322" class="Symbol">=</a> <a id="38324" href="Demos.HSP.html#29729" class="Function">ùíæùíπ</a> <a id="38327" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="38329" href="Function.Base.html#704" class="Function">id</a>

</pre>

<!-- If `ùíú : I ‚Üí Algebra Œ± œÅ·µÉ`, `‚Ñ¨ : I ‚Üí Algebra Œ≤ œÅ·µá` (families of -algebras) and if `‚Ñ¨ i ‚â§ ùíú i` for all `i : I`, then `‚®Ö ‚Ñ¨` is a subalgebra of `‚®Ö ùíú`. Below we will use to denote this fact. -->

We conclude this section with a definition that will be useful later; it simply converts a monomorphism into a proof of a subalgebra relationship.

<pre class="Agda">

<a id="mon‚Üí‚â§"></a><a id="38703" href="Demos.HSP.html#38703" class="Function">mon‚Üí‚â§</a> <a id="38709" class="Symbol">:</a> <a id="38711" class="Symbol">{</a><a id="38712" href="Demos.HSP.html#38712" class="Bound">ùë®</a> <a id="38714" class="Symbol">:</a> <a id="38716" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="38724" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="38726" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="38728" class="Symbol">}{</a><a id="38730" href="Demos.HSP.html#38730" class="Bound">ùë©</a> <a id="38732" class="Symbol">:</a> <a id="38734" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="38742" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="38744" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="38746" class="Symbol">}</a> <a id="38748" class="Symbol">‚Üí</a> <a id="38750" href="Demos.HSP.html#27314" class="Function">mon</a> <a id="38754" href="Demos.HSP.html#38712" class="Bound">ùë®</a> <a id="38756" href="Demos.HSP.html#38730" class="Bound">ùë©</a> <a id="38758" class="Symbol">‚Üí</a> <a id="38760" href="Demos.HSP.html#38712" class="Bound">ùë®</a> <a id="38762" href="Demos.HSP.html#37978" class="Function Operator">‚â§</a> <a id="38764" href="Demos.HSP.html#38730" class="Bound">ùë©</a>
<a id="38766" href="Demos.HSP.html#38703" class="Function">mon‚Üí‚â§</a> <a id="38772" class="Symbol">{</a><a id="38773" class="Argument">ùë®</a> <a id="38775" class="Symbol">=</a> <a id="38777" href="Demos.HSP.html#38777" class="Bound">ùë®</a><a id="38778" class="Symbol">}{</a><a id="38780" href="Demos.HSP.html#38780" class="Bound">ùë©</a><a id="38781" class="Symbol">}</a> <a id="38783" href="Demos.HSP.html#38783" class="Bound">x</a> <a id="38785" class="Symbol">=</a> <a id="38787" href="Demos.HSP.html#27975" class="Function">mon‚Üíintohom</a> <a id="38799" href="Demos.HSP.html#38777" class="Bound">ùë®</a> <a id="38801" href="Demos.HSP.html#38780" class="Bound">ùë©</a> <a id="38803" href="Demos.HSP.html#38783" class="Bound">x</a>
</pre>

#### <a id="terms">Terms</a>

Fix a signature `ùëÜ` and let `X` denote an arbitrary nonempty collection of variable symbols. Such a collection is called a *context*. Assume the symbols in `X` are distinct from the operation symbols of `ùëÜ`, that is `X ‚à© ‚à£ ùëÜ ‚à£ = ‚àÖ`. A *word* in the language of `ùëÜ` is a finite sequence of members of `X ‚à™ ‚à£ ùëÜ ‚à£`. We denote the
concatenation of such sequences by simple juxtaposition. Let `S‚ÇÄ` denote the set of nullary operation symbols of `ùëÜ`. We define by induction on `n` the sets `T‚Çô` of *words* over `X ‚à™ ‚à£ ùëÜ ‚à£` as follows: `T‚ÇÄ := X ‚à™ S‚ÇÄ` and 
`T‚Çô‚Çä‚ÇÅ := T‚Çô ‚à™ ùíØ‚Çô`, where `ùíØ‚Çô` is the collection of all `f t` such that `f : ‚à£ ùëÜ ‚à£` and `t : ‚à• ùëÜ ‚à• f ‚Üí ùëá‚Çô`.
(Recall, `‚à• ùëÜ ‚à• f` is the arity of the operation symbol `f`.)
An `ùëÜ`-*term* is a term in the language of `ùëÜ` and the collection of all `ùëÜ`-terms in the context `X` is `Term X := ‚ãÉ‚Çô T‚Çô`.

In type theory, this translates to two cases: variable injection and applying an operation symbol to a tuple of terms. This represents each term as a tree with an operation symbol at each `node` and a variable symbol at
each leaf `‚Ñä`; hence the constructor names (`‚Ñä` for "generator" and `node` for "node") in the following inductively defined type.

<pre class="Agda">

<a id="40055" class="Keyword">data</a> <a id="Term"></a><a id="40060" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="40065" class="Symbol">(</a><a id="40066" href="Demos.HSP.html#40066" class="Bound">X</a> <a id="40068" class="Symbol">:</a> <a id="40070" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="40075" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="40076" class="Symbol">)</a> <a id="40078" class="Symbol">:</a> <a id="40080" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="40085" class="Symbol">(</a><a id="40086" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="40089" href="Demos.HSP.html#40075" class="Bound">œá</a><a id="40090" class="Symbol">)</a>  <a id="40093" class="Keyword">where</a>
 <a id="Term.‚Ñä"></a><a id="40100" href="Demos.HSP.html#40100" class="InductiveConstructor">‚Ñä</a> <a id="40102" class="Symbol">:</a> <a id="40104" href="Demos.HSP.html#40066" class="Bound">X</a> <a id="40106" class="Symbol">‚Üí</a> <a id="40108" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="40113" href="Demos.HSP.html#40066" class="Bound">X</a>
 <a id="Term.node"></a><a id="40116" href="Demos.HSP.html#40116" class="InductiveConstructor">node</a> <a id="40121" class="Symbol">:</a> <a id="40123" class="Symbol">(</a><a id="40124" href="Demos.HSP.html#40124" class="Bound">f</a> <a id="40126" class="Symbol">:</a> <a id="40128" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="40130" href="Demos.HSP.html#5638" class="Bound">ùëÜ</a> <a id="40132" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a><a id="40133" class="Symbol">)(</a><a id="40135" href="Demos.HSP.html#40135" class="Bound">t</a> <a id="40137" class="Symbol">:</a> <a id="40139" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="40141" href="Demos.HSP.html#5638" class="Bound">ùëÜ</a> <a id="40143" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="40145" href="Demos.HSP.html#40124" class="Bound">f</a> <a id="40147" class="Symbol">‚Üí</a> <a id="40149" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="40154" href="Demos.HSP.html#40066" class="Bound">X</a><a id="40155" class="Symbol">)</a> <a id="40157" class="Symbol">‚Üí</a> <a id="40159" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="40164" href="Demos.HSP.html#40066" class="Bound">X</a>
</pre>

##### <a id="the-term-algebra">The term algebra</a>
 <!-- {#the-term-algebra .unnumbered} -->

We enrich the `Term` type to a setoid of `ùëÜ`-terms, which will ultimately be the domain of an algebra, called the *term algebra in the signature* `ùëÜ`. For this we need an equivalence relation on terms.

<pre class="Agda">

<a id="40490" class="Keyword">module</a> <a id="40497" href="Demos.HSP.html#40497" class="Module">_</a> <a id="40499" class="Symbol">{</a><a id="40500" href="Demos.HSP.html#40500" class="Bound">X</a> <a id="40502" class="Symbol">:</a> <a id="40504" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="40509" href="Demos.HSP.html#7173" class="Generalizable">œá</a> <a id="40511" class="Symbol">}</a> <a id="40513" class="Keyword">where</a>

 <a id="40521" class="Keyword">data</a> <a id="40526" href="Demos.HSP.html#40526" class="Datatype Operator">_‚âÉ_</a> <a id="40530" class="Symbol">:</a> <a id="40532" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="40537" href="Demos.HSP.html#40500" class="Bound">X</a> <a id="40539" class="Symbol">‚Üí</a> <a id="40541" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="40546" href="Demos.HSP.html#40500" class="Bound">X</a> <a id="40548" class="Symbol">‚Üí</a> <a id="40550" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="40555" class="Symbol">(</a><a id="40556" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="40559" href="Demos.HSP.html#40509" class="Bound">œá</a><a id="40560" class="Symbol">)</a> <a id="40562" class="Keyword">where</a>
  <a id="40570" href="Demos.HSP.html#40570" class="InductiveConstructor">rfl</a> <a id="40574" class="Symbol">:</a> <a id="40576" class="Symbol">{</a><a id="40577" href="Demos.HSP.html#40577" class="Bound">x</a> <a id="40579" href="Demos.HSP.html#40579" class="Bound">y</a> <a id="40581" class="Symbol">:</a> <a id="40583" href="Demos.HSP.html#40500" class="Bound">X</a><a id="40584" class="Symbol">}</a> <a id="40586" class="Symbol">‚Üí</a> <a id="40588" href="Demos.HSP.html#40577" class="Bound">x</a> <a id="40590" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">‚â°</a> <a id="40592" href="Demos.HSP.html#40579" class="Bound">y</a> <a id="40594" class="Symbol">‚Üí</a> <a id="40596" class="Symbol">(</a><a id="40597" href="Demos.HSP.html#40100" class="InductiveConstructor">‚Ñä</a> <a id="40599" href="Demos.HSP.html#40577" class="Bound">x</a><a id="40600" class="Symbol">)</a> <a id="40602" href="Demos.HSP.html#40526" class="Datatype Operator">‚âÉ</a> <a id="40604" class="Symbol">(</a><a id="40605" href="Demos.HSP.html#40100" class="InductiveConstructor">‚Ñä</a> <a id="40607" href="Demos.HSP.html#40579" class="Bound">y</a><a id="40608" class="Symbol">)</a>
  <a id="40612" href="Demos.HSP.html#40612" class="InductiveConstructor">gnl</a> <a id="40616" class="Symbol">:</a> <a id="40618" class="Symbol">‚àÄ</a> <a id="40620" class="Symbol">{</a><a id="40621" href="Demos.HSP.html#40621" class="Bound">f</a><a id="40622" class="Symbol">}{</a><a id="40624" href="Demos.HSP.html#40624" class="Bound">s</a> <a id="40626" href="Demos.HSP.html#40626" class="Bound">t</a> <a id="40628" class="Symbol">:</a> <a id="40630" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="40632" href="Demos.HSP.html#5638" class="Bound">ùëÜ</a> <a id="40634" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="40636" href="Demos.HSP.html#40621" class="Bound">f</a> <a id="40638" class="Symbol">‚Üí</a> <a id="40640" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="40645" href="Demos.HSP.html#40500" class="Bound">X</a><a id="40646" class="Symbol">}</a> <a id="40648" class="Symbol">‚Üí</a> <a id="40650" class="Symbol">(‚àÄ</a> <a id="40653" href="Demos.HSP.html#40653" class="Bound">i</a> <a id="40655" class="Symbol">‚Üí</a> <a id="40657" class="Symbol">(</a><a id="40658" href="Demos.HSP.html#40624" class="Bound">s</a> <a id="40660" href="Demos.HSP.html#40653" class="Bound">i</a><a id="40661" class="Symbol">)</a> <a id="40663" href="Demos.HSP.html#40526" class="Datatype Operator">‚âÉ</a> <a id="40665" class="Symbol">(</a><a id="40666" href="Demos.HSP.html#40626" class="Bound">t</a> <a id="40668" href="Demos.HSP.html#40653" class="Bound">i</a><a id="40669" class="Symbol">))</a> <a id="40672" class="Symbol">‚Üí</a> <a id="40674" class="Symbol">(</a><a id="40675" href="Demos.HSP.html#40116" class="InductiveConstructor">node</a> <a id="40680" href="Demos.HSP.html#40621" class="Bound">f</a> <a id="40682" href="Demos.HSP.html#40624" class="Bound">s</a><a id="40683" class="Symbol">)</a> <a id="40685" href="Demos.HSP.html#40526" class="Datatype Operator">‚âÉ</a> <a id="40687" class="Symbol">(</a><a id="40688" href="Demos.HSP.html#40116" class="InductiveConstructor">node</a> <a id="40693" href="Demos.HSP.html#40621" class="Bound">f</a> <a id="40695" href="Demos.HSP.html#40626" class="Bound">t</a><a id="40696" class="Symbol">)</a>

</pre>

It is easy to show that `_‚âÉ_` is an equivalence relation as follows.

<pre class="Agda">

 <a id="40796" href="Demos.HSP.html#40796" class="Function">‚âÉ-isRefl</a>   <a id="40807" class="Symbol">:</a> <a id="40809" href="Relation.Binary.Definitions.html#1332" class="Function">Reflexive</a>      <a id="40824" href="Demos.HSP.html#40526" class="Datatype Operator">_‚âÉ_</a>
 <a id="40829" href="Demos.HSP.html#40796" class="Function">‚âÉ-isRefl</a> <a id="40838" class="Symbol">{</a><a id="40839" href="Demos.HSP.html#40100" class="InductiveConstructor">‚Ñä</a> <a id="40841" class="Symbol">_}</a> <a id="40844" class="Symbol">=</a> <a id="40846" href="Demos.HSP.html#40570" class="InductiveConstructor">rfl</a> <a id="40850" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a>
 <a id="40858" href="Demos.HSP.html#40796" class="Function">‚âÉ-isRefl</a> <a id="40867" class="Symbol">{</a><a id="40868" href="Demos.HSP.html#40116" class="InductiveConstructor">node</a> <a id="40873" class="Symbol">_</a> <a id="40875" class="Symbol">_}</a> <a id="40878" class="Symbol">=</a> <a id="40880" href="Demos.HSP.html#40612" class="InductiveConstructor">gnl</a> <a id="40884" class="Symbol">Œª</a> <a id="40886" href="Demos.HSP.html#40886" class="Bound">_</a> <a id="40888" class="Symbol">‚Üí</a> <a id="40890" href="Demos.HSP.html#40796" class="Function">‚âÉ-isRefl</a>

 <a id="40901" href="Demos.HSP.html#40901" class="Function">‚âÉ-isSym</a>    <a id="40912" class="Symbol">:</a> <a id="40914" href="Relation.Binary.Definitions.html#1491" class="Function">Symmetric</a>      <a id="40929" href="Demos.HSP.html#40526" class="Datatype Operator">_‚âÉ_</a>
 <a id="40934" href="Demos.HSP.html#40901" class="Function">‚âÉ-isSym</a> <a id="40942" class="Symbol">(</a><a id="40943" href="Demos.HSP.html#40570" class="InductiveConstructor">rfl</a> <a id="40947" href="Demos.HSP.html#40947" class="Bound">x</a><a id="40948" class="Symbol">)</a> <a id="40950" class="Symbol">=</a> <a id="40952" href="Demos.HSP.html#40570" class="InductiveConstructor">rfl</a> <a id="40956" class="Symbol">(</a><a id="40957" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">‚â°.sym</a> <a id="40963" href="Demos.HSP.html#40947" class="Bound">x</a><a id="40964" class="Symbol">)</a>
 <a id="40967" href="Demos.HSP.html#40901" class="Function">‚âÉ-isSym</a> <a id="40975" class="Symbol">(</a><a id="40976" href="Demos.HSP.html#40612" class="InductiveConstructor">gnl</a> <a id="40980" href="Demos.HSP.html#40980" class="Bound">x</a><a id="40981" class="Symbol">)</a> <a id="40983" class="Symbol">=</a> <a id="40985" href="Demos.HSP.html#40612" class="InductiveConstructor">gnl</a> <a id="40989" class="Symbol">Œª</a> <a id="40991" href="Demos.HSP.html#40991" class="Bound">i</a> <a id="40993" class="Symbol">‚Üí</a> <a id="40995" href="Demos.HSP.html#40901" class="Function">‚âÉ-isSym</a> <a id="41003" class="Symbol">(</a><a id="41004" href="Demos.HSP.html#40980" class="Bound">x</a> <a id="41006" href="Demos.HSP.html#40991" class="Bound">i</a><a id="41007" class="Symbol">)</a>

 <a id="41011" href="Demos.HSP.html#41011" class="Function">‚âÉ-isTrans</a>  <a id="41022" class="Symbol">:</a> <a id="41024" href="Relation.Binary.Definitions.html#2007" class="Function">Transitive</a>     <a id="41039" href="Demos.HSP.html#40526" class="Datatype Operator">_‚âÉ_</a>
 <a id="41044" href="Demos.HSP.html#41011" class="Function">‚âÉ-isTrans</a> <a id="41054" class="Symbol">(</a><a id="41055" href="Demos.HSP.html#40570" class="InductiveConstructor">rfl</a> <a id="41059" href="Demos.HSP.html#41059" class="Bound">x</a><a id="41060" class="Symbol">)</a> <a id="41062" class="Symbol">(</a><a id="41063" href="Demos.HSP.html#40570" class="InductiveConstructor">rfl</a> <a id="41067" href="Demos.HSP.html#41067" class="Bound">y</a><a id="41068" class="Symbol">)</a> <a id="41070" class="Symbol">=</a> <a id="41072" href="Demos.HSP.html#40570" class="InductiveConstructor">rfl</a> <a id="41076" class="Symbol">(</a><a id="41077" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">‚â°.trans</a> <a id="41085" href="Demos.HSP.html#41059" class="Bound">x</a> <a id="41087" href="Demos.HSP.html#41067" class="Bound">y</a><a id="41088" class="Symbol">)</a>
 <a id="41091" href="Demos.HSP.html#41011" class="Function">‚âÉ-isTrans</a> <a id="41101" class="Symbol">(</a><a id="41102" href="Demos.HSP.html#40612" class="InductiveConstructor">gnl</a> <a id="41106" href="Demos.HSP.html#41106" class="Bound">x</a><a id="41107" class="Symbol">)</a> <a id="41109" class="Symbol">(</a><a id="41110" href="Demos.HSP.html#40612" class="InductiveConstructor">gnl</a> <a id="41114" href="Demos.HSP.html#41114" class="Bound">y</a><a id="41115" class="Symbol">)</a> <a id="41117" class="Symbol">=</a> <a id="41119" href="Demos.HSP.html#40612" class="InductiveConstructor">gnl</a> <a id="41123" class="Symbol">Œª</a> <a id="41125" href="Demos.HSP.html#41125" class="Bound">i</a> <a id="41127" class="Symbol">‚Üí</a> <a id="41129" href="Demos.HSP.html#41011" class="Function">‚âÉ-isTrans</a> <a id="41139" class="Symbol">(</a><a id="41140" href="Demos.HSP.html#41106" class="Bound">x</a> <a id="41142" href="Demos.HSP.html#41125" class="Bound">i</a><a id="41143" class="Symbol">)</a> <a id="41145" class="Symbol">(</a><a id="41146" href="Demos.HSP.html#41114" class="Bound">y</a> <a id="41148" href="Demos.HSP.html#41125" class="Bound">i</a><a id="41149" class="Symbol">)</a>

 <a id="41153" href="Demos.HSP.html#41153" class="Function">‚âÉ-isEquiv</a>  <a id="41164" class="Symbol">:</a> <a id="41166" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a>  <a id="41181" href="Demos.HSP.html#40526" class="Datatype Operator">_‚âÉ_</a>
 <a id="41186" href="Demos.HSP.html#41153" class="Function">‚âÉ-isEquiv</a> <a id="41196" class="Symbol">=</a> <a id="41198" class="Keyword">record</a> <a id="41205" class="Symbol">{</a> <a id="41207" href="Relation.Binary.Structures.html#1596" class="Field">refl</a> <a id="41212" class="Symbol">=</a> <a id="41214" href="Demos.HSP.html#40796" class="Function">‚âÉ-isRefl</a> <a id="41223" class="Symbol">;</a> <a id="41225" href="Relation.Binary.Structures.html#1622" class="Field">sym</a> <a id="41229" class="Symbol">=</a> <a id="41231" href="Demos.HSP.html#40901" class="Function">‚âÉ-isSym</a> <a id="41239" class="Symbol">;</a> <a id="41241" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="41247" class="Symbol">=</a> <a id="41249" href="Demos.HSP.html#41011" class="Function">‚âÉ-isTrans</a> <a id="41259" class="Symbol">}</a>
</pre>

For a given signature `ùëÜ` and context `X`, we define the algebra `ùëª X`, known as the *term algebra in* 
`ùëÜ` *over* `X`. The domain of `ùëª X` is `Term X` and, for each operation symbol `f : ‚à£ ùëÜ ‚à£`, we define 
`f ÃÇ ùëª X` to be the operation which maps each tuple `t : ‚à• ùëÜ ‚à• f ‚Üí Term X` of terms to the formal
term `f t`.

<pre class="Agda">

<a id="TermSetoid"></a><a id="41605" href="Demos.HSP.html#41605" class="Function">TermSetoid</a> <a id="41616" class="Symbol">:</a> <a id="41618" class="Symbol">(</a><a id="41619" href="Demos.HSP.html#41619" class="Bound">X</a> <a id="41621" class="Symbol">:</a> <a id="41623" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="41628" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="41629" class="Symbol">)</a> <a id="41631" class="Symbol">‚Üí</a> <a id="41633" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="41640" class="Symbol">_</a> <a id="41642" class="Symbol">_</a>
<a id="41644" href="Demos.HSP.html#41605" class="Function">TermSetoid</a> <a id="41655" href="Demos.HSP.html#41655" class="Bound">X</a> <a id="41657" class="Symbol">=</a> <a id="41659" class="Keyword">record</a> <a id="41666" class="Symbol">{</a> <a id="41668" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="41676" class="Symbol">=</a> <a id="41678" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="41683" href="Demos.HSP.html#41655" class="Bound">X</a> <a id="41685" class="Symbol">;</a> <a id="41687" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="41691" class="Symbol">=</a> <a id="41693" href="Demos.HSP.html#40526" class="Datatype Operator">_‚âÉ_</a> <a id="41697" class="Symbol">;</a> <a id="41699" href="Relation.Binary.Bundles.html#1218" class="Field">isEquivalence</a> <a id="41713" class="Symbol">=</a> <a id="41715" href="Demos.HSP.html#41153" class="Function">‚âÉ-isEquiv</a> <a id="41725" class="Symbol">}</a>

<a id="ùëª"></a><a id="41728" href="Demos.HSP.html#41728" class="Function">ùëª</a> <a id="41730" class="Symbol">:</a> <a id="41732" class="Symbol">(</a><a id="41733" href="Demos.HSP.html#41733" class="Bound">X</a> <a id="41735" class="Symbol">:</a> <a id="41737" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="41742" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="41743" class="Symbol">)</a> <a id="41745" class="Symbol">‚Üí</a> <a id="41747" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="41755" class="Symbol">(</a><a id="41756" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="41759" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="41760" class="Symbol">)</a> <a id="41762" class="Symbol">(</a><a id="41763" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="41766" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="41767" class="Symbol">)</a>
<a id="41769" href="Demos.HSP.html#18584" class="Field">Algebra.Domain</a> <a id="41784" class="Symbol">(</a><a id="41785" href="Demos.HSP.html#41728" class="Function">ùëª</a> <a id="41787" href="Demos.HSP.html#41787" class="Bound">X</a><a id="41788" class="Symbol">)</a> <a id="41790" class="Symbol">=</a> <a id="41792" href="Demos.HSP.html#41605" class="Function">TermSetoid</a> <a id="41803" href="Demos.HSP.html#41787" class="Bound">X</a>
<a id="41805" href="Demos.HSP.html#18613" class="Field">Algebra.Interp</a> <a id="41820" class="Symbol">(</a><a id="41821" href="Demos.HSP.html#41728" class="Function">ùëª</a> <a id="41823" href="Demos.HSP.html#41823" class="Bound">X</a><a id="41824" class="Symbol">)</a> <a id="41826" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="41830" class="Symbol">(</a><a id="41831" href="Demos.HSP.html#41831" class="Bound">f</a> <a id="41833" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="41835" href="Demos.HSP.html#41835" class="Bound">ts</a><a id="41837" class="Symbol">)</a> <a id="41839" class="Symbol">=</a> <a id="41841" href="Demos.HSP.html#40116" class="InductiveConstructor">node</a> <a id="41846" href="Demos.HSP.html#41831" class="Bound">f</a> <a id="41848" href="Demos.HSP.html#41835" class="Bound">ts</a>
<a id="41851" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="41856" class="Symbol">(</a><a id="41857" href="Demos.HSP.html#18613" class="Field">Algebra.Interp</a> <a id="41872" class="Symbol">(</a><a id="41873" href="Demos.HSP.html#41728" class="Function">ùëª</a> <a id="41875" href="Demos.HSP.html#41875" class="Bound">X</a><a id="41876" class="Symbol">))</a> <a id="41879" class="Symbol">(</a><a id="41880" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="41887" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="41889" href="Demos.HSP.html#41889" class="Bound">ss‚âÉts</a><a id="41894" class="Symbol">)</a> <a id="41896" class="Symbol">=</a> <a id="41898" href="Demos.HSP.html#40612" class="InductiveConstructor">gnl</a> <a id="41902" href="Demos.HSP.html#41889" class="Bound">ss‚âÉts</a>
</pre>

##### <a id="environments-and-interpretation-of-terms">Environments and interpretation of terms</a>
 <!-- {#environments-and-interpretation-of-terms .unnumbered} -->

Fix a signature `ùëÜ` and a context `X`. An *environment* for `ùë®` and `X` is a setoid whose carrier
is a mapping from the variable symbols `X` to the domain `ùïå[ ùê¥ ]` and whose equivalence relation is 
point-wise equality. Our formalization of this concept is the same as that of¬†[@Abel:2021], which 
Abel uses to formalize Birkhoff's completeness theorem.

<pre class="Agda">

<a id="42456" class="Keyword">module</a> <a id="Environment"></a><a id="42463" href="Demos.HSP.html#42463" class="Module">Environment</a> <a id="42475" class="Symbol">(</a><a id="42476" href="Demos.HSP.html#42476" class="Bound">ùë®</a> <a id="42478" class="Symbol">:</a> <a id="42480" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="42488" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="42490" href="Demos.HSP.html#7175" class="Generalizable">‚Ñì</a><a id="42491" class="Symbol">)</a> <a id="42493" class="Keyword">where</a>
 <a id="42500" class="Keyword">open</a> <a id="42505" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="42512" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="42515" href="Demos.HSP.html#42476" class="Bound">ùë®</a> <a id="42517" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="42519" class="Keyword">using</a> <a id="42525" class="Symbol">(</a> <a id="42527" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="42531" class="Symbol">;</a> <a id="42533" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="42538" class="Symbol">;</a> <a id="42540" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="42544" class="Symbol">;</a> <a id="42546" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="42552" class="Symbol">)</a>

 <a id="Environment.Env"></a><a id="42556" href="Demos.HSP.html#42556" class="Function">Env</a> <a id="42560" class="Symbol">:</a> <a id="42562" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="42567" href="Demos.HSP.html#7173" class="Generalizable">œá</a> <a id="42569" class="Symbol">‚Üí</a> <a id="42571" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="42578" class="Symbol">_</a> <a id="42580" class="Symbol">_</a>
 <a id="42583" href="Demos.HSP.html#42556" class="Function">Env</a> <a id="42587" href="Demos.HSP.html#42587" class="Bound">X</a> <a id="42589" class="Symbol">=</a> <a id="42591" class="Keyword">record</a>  <a id="42599" class="Symbol">{</a> <a id="42601" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="42609" class="Symbol">=</a> <a id="42611" href="Demos.HSP.html#42587" class="Bound">X</a> <a id="42613" class="Symbol">‚Üí</a> <a id="42615" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="42618" href="Demos.HSP.html#42476" class="Bound">ùë®</a> <a id="42620" href="Demos.HSP.html#19227" class="Function Operator">]</a>
                 <a id="42639" class="Symbol">;</a> <a id="42641" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="42645" class="Symbol">=</a> <a id="42647" class="Symbol">Œª</a> <a id="42649" href="Demos.HSP.html#42649" class="Bound">œÅ</a> <a id="42651" href="Demos.HSP.html#42651" class="Bound">œÑ</a> <a id="42653" class="Symbol">‚Üí</a> <a id="42655" class="Symbol">(</a><a id="42656" href="Demos.HSP.html#42656" class="Bound">x</a> <a id="42658" class="Symbol">:</a> <a id="42660" href="Demos.HSP.html#42587" class="Bound">X</a><a id="42661" class="Symbol">)</a> <a id="42663" class="Symbol">‚Üí</a> <a id="42665" href="Demos.HSP.html#42649" class="Bound">œÅ</a> <a id="42667" href="Demos.HSP.html#42656" class="Bound">x</a> <a id="42669" href="Relation.Binary.Bundles.html#1184" class="Function Operator">‚âà</a> <a id="42671" href="Demos.HSP.html#42651" class="Bound">œÑ</a> <a id="42673" href="Demos.HSP.html#42656" class="Bound">x</a>
                 <a id="42692" class="Symbol">;</a> <a id="42694" href="Relation.Binary.Bundles.html#1218" class="Field">isEquivalence</a> <a id="42708" class="Symbol">=</a> <a id="42710" class="Keyword">record</a>  <a id="42718" class="Symbol">{</a> <a id="42720" href="Relation.Binary.Structures.html#1596" class="Field">refl</a>   <a id="42727" class="Symbol">=</a> <a id="42729" class="Symbol">Œª</a> <a id="42731" href="Demos.HSP.html#42731" class="Bound">_</a>      <a id="42738" class="Symbol">‚Üí</a> <a id="42740" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
                                           <a id="42788" class="Symbol">;</a> <a id="42790" href="Relation.Binary.Structures.html#1622" class="Field">sym</a>    <a id="42797" class="Symbol">=</a> <a id="42799" class="Symbol">Œª</a> <a id="42801" href="Demos.HSP.html#42801" class="Bound">h</a> <a id="42803" href="Demos.HSP.html#42803" class="Bound">x</a>    <a id="42808" class="Symbol">‚Üí</a> <a id="42810" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="42814" class="Symbol">(</a><a id="42815" href="Demos.HSP.html#42801" class="Bound">h</a> <a id="42817" href="Demos.HSP.html#42803" class="Bound">x</a><a id="42818" class="Symbol">)</a>
                                           <a id="42863" class="Symbol">;</a> <a id="42865" href="Relation.Binary.Structures.html#1648" class="Field">trans</a>  <a id="42872" class="Symbol">=</a> <a id="42874" class="Symbol">Œª</a> <a id="42876" href="Demos.HSP.html#42876" class="Bound">g</a> <a id="42878" href="Demos.HSP.html#42878" class="Bound">h</a> <a id="42880" href="Demos.HSP.html#42880" class="Bound">x</a>  <a id="42883" class="Symbol">‚Üí</a> <a id="42885" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="42891" class="Symbol">(</a><a id="42892" href="Demos.HSP.html#42876" class="Bound">g</a> <a id="42894" href="Demos.HSP.html#42880" class="Bound">x</a><a id="42895" class="Symbol">)(</a><a id="42897" href="Demos.HSP.html#42878" class="Bound">h</a> <a id="42899" href="Demos.HSP.html#42880" class="Bound">x</a><a id="42900" class="Symbol">)</a> <a id="42902" class="Symbol">}}</a>

</pre>
The *interpretation* of a term *evaluated* in a particular environment is defined as follows.

<pre class="Agda">

 <a id="Environment.‚ü¶_‚üß"></a><a id="43027" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶_‚üß</a> <a id="43031" class="Symbol">:</a> <a id="43033" class="Symbol">{</a><a id="43034" href="Demos.HSP.html#43034" class="Bound">X</a> <a id="43036" class="Symbol">:</a> <a id="43038" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="43043" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="43044" class="Symbol">}(</a><a id="43046" href="Demos.HSP.html#43046" class="Bound">t</a> <a id="43048" class="Symbol">:</a> <a id="43050" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="43055" href="Demos.HSP.html#43034" class="Bound">X</a><a id="43056" class="Symbol">)</a> <a id="43058" class="Symbol">‚Üí</a> <a id="43060" class="Symbol">(</a><a id="43061" href="Demos.HSP.html#42556" class="Function">Env</a> <a id="43065" href="Demos.HSP.html#43034" class="Bound">X</a><a id="43066" class="Symbol">)</a> <a id="43068" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="43070" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="43073" href="Demos.HSP.html#42476" class="Bound">ùë®</a> <a id="43075" href="Demos.HSP.html#19173" class="Function Operator">]</a>
 <a id="43078" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="43080" href="Demos.HSP.html#40100" class="InductiveConstructor">‚Ñä</a> <a id="43082" href="Demos.HSP.html#43082" class="Bound">x</a> <a id="43084" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a>          <a id="43095" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="43099" href="Demos.HSP.html#43099" class="Bound">œÅ</a>    <a id="43104" class="Symbol">=</a> <a id="43106" href="Demos.HSP.html#43099" class="Bound">œÅ</a> <a id="43108" href="Demos.HSP.html#43082" class="Bound">x</a>
 <a id="43111" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="43113" href="Demos.HSP.html#40116" class="InductiveConstructor">node</a> <a id="43118" href="Demos.HSP.html#43118" class="Bound">f</a> <a id="43120" href="Demos.HSP.html#43120" class="Bound">args</a> <a id="43125" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a>  <a id="43128" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="43132" href="Demos.HSP.html#43132" class="Bound">œÅ</a>    <a id="43137" class="Symbol">=</a> <a id="43139" class="Symbol">(</a><a id="43140" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="43147" href="Demos.HSP.html#42476" class="Bound">ùë®</a><a id="43148" class="Symbol">)</a> <a id="43150" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="43154" class="Symbol">(</a><a id="43155" href="Demos.HSP.html#43118" class="Bound">f</a> <a id="43157" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="43159" class="Symbol">Œª</a> <a id="43161" href="Demos.HSP.html#43161" class="Bound">i</a> <a id="43163" class="Symbol">‚Üí</a> <a id="43165" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="43167" href="Demos.HSP.html#43120" class="Bound">args</a> <a id="43172" href="Demos.HSP.html#43161" class="Bound">i</a> <a id="43174" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="43176" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="43180" href="Demos.HSP.html#43132" class="Bound">œÅ</a><a id="43181" class="Symbol">)</a>
 <a id="43184" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="43189" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="43191" href="Demos.HSP.html#40100" class="InductiveConstructor">‚Ñä</a> <a id="43193" href="Demos.HSP.html#43193" class="Bound">x</a> <a id="43195" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="43197" href="Demos.HSP.html#43197" class="Bound">u‚âàv</a>          <a id="43210" class="Symbol">=</a> <a id="43212" href="Demos.HSP.html#43197" class="Bound">u‚âàv</a> <a id="43216" href="Demos.HSP.html#43193" class="Bound">x</a>
 <a id="43219" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="43224" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="43226" href="Demos.HSP.html#40116" class="InductiveConstructor">node</a> <a id="43231" href="Demos.HSP.html#43231" class="Bound">f</a> <a id="43233" href="Demos.HSP.html#43233" class="Bound">args</a> <a id="43238" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="43240" href="Demos.HSP.html#43240" class="Bound">x‚âày</a>  <a id="43245" class="Symbol">=</a> <a id="43247" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="43252" class="Symbol">(</a><a id="43253" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="43260" href="Demos.HSP.html#42476" class="Bound">ùë®</a><a id="43261" class="Symbol">)(</a><a id="43263" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="43270" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="43272" class="Symbol">Œª</a> <a id="43274" href="Demos.HSP.html#43274" class="Bound">i</a> <a id="43276" class="Symbol">‚Üí</a> <a id="43278" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="43283" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="43285" href="Demos.HSP.html#43233" class="Bound">args</a> <a id="43290" href="Demos.HSP.html#43274" class="Bound">i</a> <a id="43292" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="43294" href="Demos.HSP.html#43240" class="Bound">x‚âày</a> <a id="43298" class="Symbol">)</a>

</pre>
Two terms are proclaimed *equal* if they are equal for all environments.

<pre class="Agda">

 <a id="Environment.Equal"></a><a id="43401" href="Demos.HSP.html#43401" class="Function">Equal</a> <a id="43407" class="Symbol">:</a> <a id="43409" class="Symbol">{</a><a id="43410" href="Demos.HSP.html#43410" class="Bound">X</a> <a id="43412" class="Symbol">:</a> <a id="43414" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="43419" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="43420" class="Symbol">}(</a><a id="43422" href="Demos.HSP.html#43422" class="Bound">s</a> <a id="43424" href="Demos.HSP.html#43424" class="Bound">t</a> <a id="43426" class="Symbol">:</a> <a id="43428" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="43433" href="Demos.HSP.html#43410" class="Bound">X</a><a id="43434" class="Symbol">)</a> <a id="43436" class="Symbol">‚Üí</a> <a id="43438" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="43443" class="Symbol">_</a>
 <a id="43446" href="Demos.HSP.html#43401" class="Function">Equal</a> <a id="43452" class="Symbol">{</a><a id="43453" class="Argument">X</a> <a id="43455" class="Symbol">=</a> <a id="43457" href="Demos.HSP.html#43457" class="Bound">X</a><a id="43458" class="Symbol">}</a> <a id="43460" href="Demos.HSP.html#43460" class="Bound">s</a> <a id="43462" href="Demos.HSP.html#43462" class="Bound">t</a> <a id="43464" class="Symbol">=</a> <a id="43466" class="Symbol">‚àÄ</a> <a id="43468" class="Symbol">(</a><a id="43469" href="Demos.HSP.html#43469" class="Bound">œÅ</a> <a id="43471" class="Symbol">:</a> <a id="43473" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="43481" class="Symbol">(</a><a id="43482" href="Demos.HSP.html#42556" class="Function">Env</a> <a id="43486" href="Demos.HSP.html#43457" class="Bound">X</a><a id="43487" class="Symbol">))</a> <a id="43490" class="Symbol">‚Üí</a> <a id="43492" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="43494" href="Demos.HSP.html#43460" class="Bound">s</a> <a id="43496" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="43498" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="43502" href="Demos.HSP.html#43469" class="Bound">œÅ</a> <a id="43504" href="Relation.Binary.Bundles.html#1184" class="Function Operator">‚âà</a> <a id="43506" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="43508" href="Demos.HSP.html#43462" class="Bound">t</a> <a id="43510" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="43512" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="43516" href="Demos.HSP.html#43469" class="Bound">œÅ</a>

</pre>
Proof that `Equal` is an equivalence relation, and that the implication `s ‚âÉ t ‚Üí Equal s t` holds for all terms `s` and `t`, are also found in¬†[@Abel:2021]. We reproduce them here to keep the presentation self-contained.

<pre class="Agda">

 <a id="Environment.‚âÉ‚ÜíEqual"></a><a id="43767" href="Demos.HSP.html#43767" class="Function">‚âÉ‚ÜíEqual</a> <a id="43775" class="Symbol">:</a> <a id="43777" class="Symbol">{</a><a id="43778" href="Demos.HSP.html#43778" class="Bound">X</a> <a id="43780" class="Symbol">:</a> <a id="43782" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="43787" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="43788" class="Symbol">}(</a><a id="43790" href="Demos.HSP.html#43790" class="Bound">s</a> <a id="43792" href="Demos.HSP.html#43792" class="Bound">t</a> <a id="43794" class="Symbol">:</a> <a id="43796" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="43801" href="Demos.HSP.html#43778" class="Bound">X</a><a id="43802" class="Symbol">)</a> <a id="43804" class="Symbol">‚Üí</a> <a id="43806" href="Demos.HSP.html#43790" class="Bound">s</a> <a id="43808" href="Demos.HSP.html#40526" class="Datatype Operator">‚âÉ</a> <a id="43810" href="Demos.HSP.html#43792" class="Bound">t</a> <a id="43812" class="Symbol">‚Üí</a> <a id="43814" href="Demos.HSP.html#43401" class="Function">Equal</a> <a id="43820" href="Demos.HSP.html#43790" class="Bound">s</a> <a id="43822" href="Demos.HSP.html#43792" class="Bound">t</a>
 <a id="43825" href="Demos.HSP.html#43767" class="Function">‚âÉ‚ÜíEqual</a> <a id="43833" class="DottedPattern Symbol">.(</a><a id="43835" href="Demos.HSP.html#40100" class="DottedPattern InductiveConstructor">‚Ñä</a> <a id="43837" class="DottedPattern Symbol">_)</a> <a id="43840" class="DottedPattern Symbol">.(</a><a id="43842" href="Demos.HSP.html#40100" class="DottedPattern InductiveConstructor">‚Ñä</a> <a id="43844" class="DottedPattern Symbol">_)</a> <a id="43847" class="Symbol">(</a><a id="43848" href="Demos.HSP.html#40570" class="InductiveConstructor">rfl</a> <a id="43852" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a><a id="43858" class="Symbol">)</a> <a id="43860" class="Symbol">=</a> <a id="43862" class="Symbol">Œª</a> <a id="43864" href="Demos.HSP.html#43864" class="Bound">_</a> <a id="43866" class="Symbol">‚Üí</a> <a id="43868" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
 <a id="43874" href="Demos.HSP.html#43767" class="Function">‚âÉ‚ÜíEqual</a> <a id="43882" class="Symbol">(</a><a id="43883" href="Demos.HSP.html#40116" class="InductiveConstructor">node</a> <a id="43888" class="Symbol">_</a> <a id="43890" href="Demos.HSP.html#43890" class="Bound">s</a><a id="43891" class="Symbol">)(</a><a id="43893" href="Demos.HSP.html#40116" class="InductiveConstructor">node</a> <a id="43898" class="Symbol">_</a> <a id="43900" href="Demos.HSP.html#43900" class="Bound">t</a><a id="43901" class="Symbol">)(</a><a id="43903" href="Demos.HSP.html#40612" class="InductiveConstructor">gnl</a> <a id="43907" href="Demos.HSP.html#43907" class="Bound">x</a><a id="43908" class="Symbol">)</a> <a id="43910" class="Symbol">=</a>
  <a id="43914" class="Symbol">Œª</a> <a id="43916" href="Demos.HSP.html#43916" class="Bound">œÅ</a> <a id="43918" class="Symbol">‚Üí</a> <a id="43920" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="43925" class="Symbol">(</a><a id="43926" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="43933" href="Demos.HSP.html#42476" class="Bound">ùë®</a><a id="43934" class="Symbol">)(</a><a id="43936" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="43943" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="43945" class="Symbol">Œª</a> <a id="43947" href="Demos.HSP.html#43947" class="Bound">i</a> <a id="43949" class="Symbol">‚Üí</a> <a id="43951" href="Demos.HSP.html#43767" class="Function">‚âÉ‚ÜíEqual</a><a id="43958" class="Symbol">(</a><a id="43959" href="Demos.HSP.html#43890" class="Bound">s</a> <a id="43961" href="Demos.HSP.html#43947" class="Bound">i</a><a id="43962" class="Symbol">)(</a><a id="43964" href="Demos.HSP.html#43900" class="Bound">t</a> <a id="43966" href="Demos.HSP.html#43947" class="Bound">i</a><a id="43967" class="Symbol">)(</a><a id="43969" href="Demos.HSP.html#43907" class="Bound">x</a> <a id="43971" href="Demos.HSP.html#43947" class="Bound">i</a><a id="43972" class="Symbol">)</a><a id="43973" href="Demos.HSP.html#43916" class="Bound">œÅ</a> <a id="43975" class="Symbol">)</a>

 <a id="Environment.EqualIsEquiv"></a><a id="43979" href="Demos.HSP.html#43979" class="Function">EqualIsEquiv</a> <a id="43992" class="Symbol">:</a> <a id="43994" class="Symbol">{</a><a id="43995" href="Demos.HSP.html#43995" class="Bound">Œì</a> <a id="43997" class="Symbol">:</a> <a id="43999" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="44004" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="44005" class="Symbol">}</a> <a id="44007" class="Symbol">‚Üí</a> <a id="44009" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a> <a id="44023" class="Symbol">(</a><a id="44024" href="Demos.HSP.html#43401" class="Function">Equal</a> <a id="44030" class="Symbol">{</a><a id="44031" class="Argument">X</a> <a id="44033" class="Symbol">=</a> <a id="44035" href="Demos.HSP.html#43995" class="Bound">Œì</a><a id="44036" class="Symbol">})</a>
 <a id="44040" href="Demos.HSP.html#6704" class="Field">refl·µâ</a>   <a id="44048" href="Demos.HSP.html#43979" class="Function">EqualIsEquiv</a> <a id="44061" class="Symbol">=</a> <a id="44063" class="Symbol">Œª</a> <a id="44065" href="Demos.HSP.html#44065" class="Bound">_</a>        <a id="44074" class="Symbol">‚Üí</a> <a id="44076" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
 <a id="44082" href="Demos.HSP.html#6719" class="Field">sym·µâ</a>    <a id="44090" href="Demos.HSP.html#43979" class="Function">EqualIsEquiv</a> <a id="44103" class="Symbol">=</a> <a id="44105" class="Symbol">Œª</a> <a id="44107" href="Demos.HSP.html#44107" class="Bound">x=y</a> <a id="44111" href="Demos.HSP.html#44111" class="Bound">œÅ</a>    <a id="44116" class="Symbol">‚Üí</a> <a id="44118" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="44122" class="Symbol">(</a><a id="44123" href="Demos.HSP.html#44107" class="Bound">x=y</a> <a id="44127" href="Demos.HSP.html#44111" class="Bound">œÅ</a><a id="44128" class="Symbol">)</a>
 <a id="44131" href="Demos.HSP.html#6735" class="Field">trans·µâ</a>  <a id="44139" href="Demos.HSP.html#43979" class="Function">EqualIsEquiv</a> <a id="44152" class="Symbol">=</a> <a id="44154" class="Symbol">Œª</a> <a id="44156" href="Demos.HSP.html#44156" class="Bound">ij</a> <a id="44159" href="Demos.HSP.html#44159" class="Bound">jk</a> <a id="44162" href="Demos.HSP.html#44162" class="Bound">œÅ</a>  <a id="44165" class="Symbol">‚Üí</a> <a id="44167" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="44173" class="Symbol">(</a><a id="44174" href="Demos.HSP.html#44156" class="Bound">ij</a> <a id="44177" href="Demos.HSP.html#44162" class="Bound">œÅ</a><a id="44178" class="Symbol">)</a> <a id="44180" class="Symbol">(</a><a id="44181" href="Demos.HSP.html#44159" class="Bound">jk</a> <a id="44184" href="Demos.HSP.html#44162" class="Bound">œÅ</a><a id="44185" class="Symbol">)</a>
</pre>



##### <a id="compatibility-of-terms">Compatibility of terms</a>
 <!-- {#compatibility-of-terms .unnumbered} -->

We need to formalize two more concepts involving terms.
The first (`comm-hom-term`) is the assertion that every term commutes with every homomorphism, and
the second (`interp-prod`) is the interpretation of a term in a product algebra.

<pre class="Agda">

<a id="44565" class="Keyword">module</a> <a id="44572" href="Demos.HSP.html#44572" class="Module">_</a> <a id="44574" class="Symbol">{</a><a id="44575" href="Demos.HSP.html#44575" class="Bound">X</a> <a id="44577" class="Symbol">:</a> <a id="44579" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="44584" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="44585" class="Symbol">}{</a><a id="44587" href="Demos.HSP.html#44587" class="Bound">ùë®</a> <a id="44589" class="Symbol">:</a> <a id="44591" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="44599" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="44601" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="44603" class="Symbol">}{</a><a id="44605" href="Demos.HSP.html#44605" class="Bound">ùë©</a> <a id="44607" class="Symbol">:</a> <a id="44609" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="44617" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="44619" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="44621" class="Symbol">}(</a><a id="44623" href="Demos.HSP.html#44623" class="Bound">hh</a> <a id="44626" class="Symbol">:</a> <a id="44628" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="44632" href="Demos.HSP.html#44587" class="Bound">ùë®</a> <a id="44634" href="Demos.HSP.html#44605" class="Bound">ùë©</a><a id="44635" class="Symbol">)</a> <a id="44637" class="Keyword">where</a>
 <a id="44644" class="Keyword">open</a> <a id="44649" href="Demos.HSP.html#42463" class="Module">Environment</a> <a id="44661" href="Demos.HSP.html#44587" class="Bound">ùë®</a>  <a id="44664" class="Keyword">using</a> <a id="44670" class="Symbol">(</a> <a id="44672" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶_‚üß</a> <a id="44676" class="Symbol">)</a>
 <a id="44679" class="Keyword">open</a> <a id="44684" href="Demos.HSP.html#42463" class="Module">Environment</a> <a id="44696" href="Demos.HSP.html#44605" class="Bound">ùë©</a>  <a id="44699" class="Keyword">using</a> <a id="44705" class="Symbol">()</a> <a id="44708" class="Keyword">renaming</a> <a id="44717" class="Symbol">(</a> <a id="44719" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶_‚üß</a> <a id="44723" class="Symbol">to</a> <a id="44726" class="Function Operator">‚ü¶_‚üß·¥Æ</a> <a id="44731" class="Symbol">)</a>
 <a id="44734" class="Keyword">open</a> <a id="44739" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="44746" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="44749" href="Demos.HSP.html#44605" class="Bound">ùë©</a> <a id="44751" href="Demos.HSP.html#19173" class="Function Operator">]</a>  <a id="44754" class="Keyword">using</a> <a id="44760" class="Symbol">(</a> <a id="44762" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="44766" class="Symbol">;</a> <a id="44768" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>  <a id="44774" class="Symbol">)</a>
 <a id="44777" class="Keyword">private</a> <a id="44785" href="Demos.HSP.html#44785" class="Function">hfunc</a> <a id="44791" class="Symbol">=</a> <a id="44793" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="44795" href="Demos.HSP.html#44623" class="Bound">hh</a> <a id="44798" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="44800" class="Symbol">;</a> <a id="44802" href="Demos.HSP.html#44802" class="Function">h</a> <a id="44804" class="Symbol">=</a> <a id="44806" href="Demos.HSP.html#6628" class="Field Operator">_‚ü®$‚ü©_</a> <a id="44812" href="Demos.HSP.html#44785" class="Function">hfunc</a>

 <a id="44820" href="Demos.HSP.html#44820" class="Function">comm-hom-term</a> <a id="44834" class="Symbol">:</a> <a id="44836" class="Symbol">(</a><a id="44837" href="Demos.HSP.html#44837" class="Bound">t</a> <a id="44839" class="Symbol">:</a> <a id="44841" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="44846" href="Demos.HSP.html#44575" class="Bound">X</a><a id="44847" class="Symbol">)</a> <a id="44849" class="Symbol">(</a><a id="44850" href="Demos.HSP.html#44850" class="Bound">a</a> <a id="44852" class="Symbol">:</a> <a id="44854" href="Demos.HSP.html#44575" class="Bound">X</a> <a id="44856" class="Symbol">‚Üí</a> <a id="44858" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="44861" href="Demos.HSP.html#44587" class="Bound">ùë®</a> <a id="44863" href="Demos.HSP.html#19227" class="Function Operator">]</a><a id="44864" class="Symbol">)</a> <a id="44866" class="Symbol">‚Üí</a> <a id="44868" href="Demos.HSP.html#44802" class="Function">h</a> <a id="44870" class="Symbol">(</a><a id="44871" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="44873" href="Demos.HSP.html#44837" class="Bound">t</a> <a id="44875" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="44877" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="44881" href="Demos.HSP.html#44850" class="Bound">a</a><a id="44882" class="Symbol">)</a> <a id="44884" href="Relation.Binary.Bundles.html#1184" class="Function Operator">‚âà</a> <a id="44886" href="Demos.HSP.html#44726" class="Function Operator">‚ü¶</a> <a id="44888" href="Demos.HSP.html#44837" class="Bound">t</a> <a id="44890" href="Demos.HSP.html#44726" class="Function Operator">‚üß·¥Æ</a> <a id="44893" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="44897" class="Symbol">(</a><a id="44898" href="Demos.HSP.html#44802" class="Function">h</a> <a id="44900" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="44902" href="Demos.HSP.html#44850" class="Bound">a</a><a id="44903" class="Symbol">)</a>
 <a id="44906" href="Demos.HSP.html#44820" class="Function">comm-hom-term</a> <a id="44920" class="Symbol">(</a><a id="44921" href="Demos.HSP.html#40100" class="InductiveConstructor">‚Ñä</a> <a id="44923" href="Demos.HSP.html#44923" class="Bound">x</a><a id="44924" class="Symbol">)</a> <a id="44926" href="Demos.HSP.html#44926" class="Bound">a</a> <a id="44928" class="Symbol">=</a> <a id="44930" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
 <a id="44936" href="Demos.HSP.html#44820" class="Function">comm-hom-term</a> <a id="44950" class="Symbol">(</a><a id="44951" href="Demos.HSP.html#40116" class="InductiveConstructor">node</a> <a id="44956" href="Demos.HSP.html#44956" class="Bound">f</a> <a id="44958" href="Demos.HSP.html#44958" class="Bound">t</a><a id="44959" class="Symbol">)</a> <a id="44961" href="Demos.HSP.html#44961" class="Bound">a</a> <a id="44963" class="Symbol">=</a>  <a id="44966" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
   <a id="44975" href="Demos.HSP.html#44802" class="Function">h</a><a id="44976" class="Symbol">(</a><a id="44977" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="44979" href="Demos.HSP.html#40116" class="InductiveConstructor">node</a> <a id="44984" href="Demos.HSP.html#44956" class="Bound">f</a> <a id="44986" href="Demos.HSP.html#44958" class="Bound">t</a> <a id="44988" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="44990" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="44994" href="Demos.HSP.html#44961" class="Bound">a</a><a id="44995" class="Symbol">)</a>            <a id="45008" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a> <a id="45011" href="Demos.HSP.html#26654" class="Field">compatible</a> <a id="45022" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="45024" href="Demos.HSP.html#44623" class="Bound">hh</a> <a id="45027" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="45029" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
   <a id="45034" class="Symbol">(</a><a id="45035" href="Demos.HSP.html#44956" class="Bound">f</a> <a id="45037" href="Demos.HSP.html#19286" class="Function Operator">ÃÇ</a> <a id="45039" href="Demos.HSP.html#44605" class="Bound">ùë©</a><a id="45040" class="Symbol">)(Œª</a> <a id="45044" href="Demos.HSP.html#45044" class="Bound">i</a> <a id="45046" class="Symbol">‚Üí</a> <a id="45048" href="Demos.HSP.html#44802" class="Function">h</a><a id="45049" class="Symbol">(</a><a id="45050" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="45052" href="Demos.HSP.html#44958" class="Bound">t</a> <a id="45054" href="Demos.HSP.html#45044" class="Bound">i</a> <a id="45056" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="45058" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="45062" href="Demos.HSP.html#44961" class="Bound">a</a><a id="45063" class="Symbol">))</a>  <a id="45067" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a> <a id="45070" href="Function.Bundles.html#2113" class="Field">cong</a><a id="45074" class="Symbol">(</a><a id="45075" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="45082" href="Demos.HSP.html#44605" class="Bound">ùë©</a><a id="45083" class="Symbol">)(</a><a id="45085" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="45092" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="45094" class="Symbol">Œª</a> <a id="45096" href="Demos.HSP.html#45096" class="Bound">i</a> <a id="45098" class="Symbol">‚Üí</a> <a id="45100" href="Demos.HSP.html#44820" class="Function">comm-hom-term</a><a id="45113" class="Symbol">(</a><a id="45114" href="Demos.HSP.html#44958" class="Bound">t</a> <a id="45116" href="Demos.HSP.html#45096" class="Bound">i</a><a id="45117" class="Symbol">)</a> <a id="45119" href="Demos.HSP.html#44961" class="Bound">a</a><a id="45120" class="Symbol">)</a> <a id="45122" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
   <a id="45127" href="Demos.HSP.html#44726" class="Function Operator">‚ü¶</a> <a id="45129" href="Demos.HSP.html#40116" class="InductiveConstructor">node</a> <a id="45134" href="Demos.HSP.html#44956" class="Bound">f</a> <a id="45136" href="Demos.HSP.html#44958" class="Bound">t</a> <a id="45138" href="Demos.HSP.html#44726" class="Function Operator">‚üß·¥Æ</a> <a id="45141" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="45145" class="Symbol">(</a><a id="45146" href="Demos.HSP.html#44802" class="Function">h</a> <a id="45148" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="45150" href="Demos.HSP.html#44961" class="Bound">a</a><a id="45151" class="Symbol">)</a>   <a id="45155" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">‚àé</a> <a id="45157" class="Keyword">where</a> <a id="45163" class="Keyword">open</a> <a id="45168" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="45184" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="45187" href="Demos.HSP.html#44605" class="Bound">ùë©</a> <a id="45189" href="Demos.HSP.html#19173" class="Function Operator">]</a>

<a id="45192" class="Keyword">module</a> <a id="45199" href="Demos.HSP.html#45199" class="Module">_</a> <a id="45201" class="Symbol">{</a><a id="45202" href="Demos.HSP.html#45202" class="Bound">X</a> <a id="45204" class="Symbol">:</a> <a id="45206" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="45211" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="45212" class="Symbol">}{</a><a id="45214" href="Demos.HSP.html#45214" class="Bound">Œπ</a> <a id="45216" class="Symbol">:</a> <a id="45218" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="45223" class="Symbol">}</a> <a id="45225" class="Symbol">{</a><a id="45226" href="Demos.HSP.html#45226" class="Bound">I</a> <a id="45228" class="Symbol">:</a> <a id="45230" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="45235" href="Demos.HSP.html#45214" class="Bound">Œπ</a><a id="45236" class="Symbol">}</a> <a id="45238" class="Symbol">(</a><a id="45239" href="Demos.HSP.html#45239" class="Bound">ùíú</a> <a id="45241" class="Symbol">:</a> <a id="45243" href="Demos.HSP.html#45226" class="Bound">I</a> <a id="45245" class="Symbol">‚Üí</a> <a id="45247" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="45255" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="45257" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="45259" class="Symbol">)</a> <a id="45261" class="Keyword">where</a>
 <a id="45268" class="Keyword">open</a> <a id="45273" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="45280" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="45283" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="45285" href="Demos.HSP.html#45239" class="Bound">ùíú</a> <a id="45287" href="Demos.HSP.html#19173" class="Function Operator">]</a>  <a id="45290" class="Keyword">using</a> <a id="45296" class="Symbol">(</a> <a id="45298" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="45302" class="Symbol">)</a>
 <a id="45305" class="Keyword">open</a> <a id="45310" href="Demos.HSP.html#42463" class="Module">Environment</a>      <a id="45327" class="Keyword">using</a> <a id="45333" class="Symbol">(</a> <a id="45335" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶_‚üß</a> <a id="45339" class="Symbol">;</a> <a id="45341" href="Demos.HSP.html#43767" class="Function">‚âÉ‚ÜíEqual</a> <a id="45349" class="Symbol">)</a>

 <a id="45353" href="Demos.HSP.html#45353" class="Function">interp-prod</a> <a id="45365" class="Symbol">:</a> <a id="45367" class="Symbol">(</a><a id="45368" href="Demos.HSP.html#45368" class="Bound">p</a> <a id="45370" class="Symbol">:</a> <a id="45372" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="45377" href="Demos.HSP.html#45202" class="Bound">X</a><a id="45378" class="Symbol">)</a> <a id="45380" class="Symbol">‚Üí</a> <a id="45382" class="Symbol">‚àÄ</a> <a id="45384" href="Demos.HSP.html#45384" class="Bound">œÅ</a> <a id="45386" class="Symbol">‚Üí</a>  <a id="45389" class="Symbol">(</a><a id="45390" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="45392" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="45394" href="Demos.HSP.html#45239" class="Bound">ùíú</a> <a id="45396" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="45398" href="Demos.HSP.html#45368" class="Bound">p</a><a id="45399" class="Symbol">)</a> <a id="45401" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="45405" href="Demos.HSP.html#45384" class="Bound">œÅ</a>   <a id="45409" href="Relation.Binary.Bundles.html#1184" class="Function Operator">‚âà</a>   <a id="45413" class="Symbol">Œª</a> <a id="45415" href="Demos.HSP.html#45415" class="Bound">i</a> <a id="45417" class="Symbol">‚Üí</a> <a id="45419" class="Symbol">(</a><a id="45420" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="45422" href="Demos.HSP.html#45239" class="Bound">ùíú</a> <a id="45424" href="Demos.HSP.html#45415" class="Bound">i</a> <a id="45426" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="45428" href="Demos.HSP.html#45368" class="Bound">p</a><a id="45429" class="Symbol">)</a> <a id="45431" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="45435" class="Symbol">Œª</a> <a id="45437" href="Demos.HSP.html#45437" class="Bound">x</a> <a id="45439" class="Symbol">‚Üí</a> <a id="45441" class="Symbol">(</a><a id="45442" href="Demos.HSP.html#45384" class="Bound">œÅ</a> <a id="45444" href="Demos.HSP.html#45437" class="Bound">x</a><a id="45445" class="Symbol">)</a> <a id="45447" href="Demos.HSP.html#45415" class="Bound">i</a>
 <a id="45450" href="Demos.HSP.html#45353" class="Function">interp-prod</a> <a id="45462" class="Symbol">(</a><a id="45463" href="Demos.HSP.html#40100" class="InductiveConstructor">‚Ñä</a> <a id="45465" href="Demos.HSP.html#45465" class="Bound">x</a><a id="45466" class="Symbol">)</a>       <a id="45474" class="Symbol">=</a> <a id="45476" class="Symbol">Œª</a> <a id="45478" href="Demos.HSP.html#45478" class="Bound">œÅ</a> <a id="45480" href="Demos.HSP.html#45480" class="Bound">i</a>  <a id="45483" class="Symbol">‚Üí</a> <a id="45485" href="Demos.HSP.html#43767" class="Function">‚âÉ‚ÜíEqual</a> <a id="45493" class="Symbol">(</a><a id="45494" href="Demos.HSP.html#45239" class="Bound">ùíú</a> <a id="45496" href="Demos.HSP.html#45480" class="Bound">i</a><a id="45497" class="Symbol">)</a> <a id="45499" class="Symbol">(</a><a id="45500" href="Demos.HSP.html#40100" class="InductiveConstructor">‚Ñä</a> <a id="45502" href="Demos.HSP.html#45465" class="Bound">x</a><a id="45503" class="Symbol">)</a> <a id="45505" class="Symbol">(</a><a id="45506" href="Demos.HSP.html#40100" class="InductiveConstructor">‚Ñä</a> <a id="45508" href="Demos.HSP.html#45465" class="Bound">x</a><a id="45509" class="Symbol">)</a> <a id="45511" href="Demos.HSP.html#40796" class="Function">‚âÉ-isRefl</a> <a id="45520" class="Symbol">Œª</a> <a id="45522" href="Demos.HSP.html#45522" class="Bound">_</a> <a id="45524" class="Symbol">‚Üí</a> <a id="45526" class="Symbol">(</a><a id="45527" href="Demos.HSP.html#45478" class="Bound">œÅ</a> <a id="45529" href="Demos.HSP.html#45465" class="Bound">x</a><a id="45530" class="Symbol">)</a> <a id="45532" href="Demos.HSP.html#45480" class="Bound">i</a>
 <a id="45535" href="Demos.HSP.html#45353" class="Function">interp-prod</a> <a id="45547" class="Symbol">(</a><a id="45548" href="Demos.HSP.html#40116" class="InductiveConstructor">node</a> <a id="45553" href="Demos.HSP.html#45553" class="Bound">f</a> <a id="45555" href="Demos.HSP.html#45555" class="Bound">t</a><a id="45556" class="Symbol">)</a>  <a id="45559" class="Symbol">=</a> <a id="45561" class="Symbol">Œª</a> <a id="45563" href="Demos.HSP.html#45563" class="Bound">œÅ</a>    <a id="45568" class="Symbol">‚Üí</a> <a id="45570" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="45575" class="Symbol">(</a><a id="45576" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="45583" class="Symbol">(</a><a id="45584" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="45586" href="Demos.HSP.html#45239" class="Bound">ùíú</a><a id="45587" class="Symbol">))</a> <a id="45590" class="Symbol">(</a> <a id="45592" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="45599" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="45601" class="Symbol">Œª</a> <a id="45603" href="Demos.HSP.html#45603" class="Bound">j</a> <a id="45605" href="Demos.HSP.html#45605" class="Bound">k</a> <a id="45607" class="Symbol">‚Üí</a> <a id="45609" href="Demos.HSP.html#45353" class="Function">interp-prod</a> <a id="45621" class="Symbol">(</a><a id="45622" href="Demos.HSP.html#45555" class="Bound">t</a> <a id="45624" href="Demos.HSP.html#45603" class="Bound">j</a><a id="45625" class="Symbol">)</a> <a id="45627" href="Demos.HSP.html#45563" class="Bound">œÅ</a> <a id="45629" href="Demos.HSP.html#45605" class="Bound">k</a> <a id="45631" class="Symbol">)</a>
</pre>

### <a id="equational-logic">Equational Logic</a>

#### <a id="term-identities-equational-theories-and-the-relation">Term identities, equational theories, and the ‚äß relation</a>
 <!-- {#term-identities-equational-theories-and-the-relation .unnumbered} -->

An `ùëÜ`-*term equation* (or `ùëÜ`-*term identity*) is an ordered pair `(p , q)` of `ùëÜ`-terms, also denoted by `p ‚âà q`. They are often simply called *equations* or *identities*, especially when the signature `ùëÜ` is evident.
We define an *equational theory* (or *algebraic theory*) to be a pair `T = (ùëÜ , ‚Ñ∞)` consisting of a signature `ùëÜ` and a collection `‚Ñ∞` of `ùëÜ`-term equations.[^9]

We say that the algebra `ùë®` *models* the identity `p ‚âà q` and we write `ùë® ‚äß p ‚âà q`
if for all `œÅ : X ‚Üí ùîª[ ùë® ]` we have `‚ü¶ p ‚üß ‚ü®$‚ü© œÅ ‚âà ‚ü¶ q ‚üß ‚ü®$‚ü© œÅ`.
In other words, when interpreted in the algebra `ùë®`, the terms `p` and `q` are equal no matter what values are assigned to variable symbols occurring in `p` and `q`.

If `ùí¶` is a class of algebras of a given signature, then we write `ùí¶ ‚ä´ p ‚âà q` and say that `ùí¶` *models* the identity `p ‚âà q` provided `ùë® ‚äß p ‚âà q` for every `ùë® ‚àà ùí¶`.

<pre class="Agda">

<a id="46780" class="Keyword">module</a> <a id="46787" href="Demos.HSP.html#46787" class="Module">_</a> <a id="46789" class="Symbol">{</a><a id="46790" href="Demos.HSP.html#46790" class="Bound">X</a> <a id="46792" class="Symbol">:</a> <a id="46794" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="46799" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="46800" class="Symbol">}</a> <a id="46802" class="Keyword">where</a>
 <a id="46809" href="Demos.HSP.html#46809" class="Function Operator">_‚äß_‚âà_</a> <a id="46815" class="Symbol">:</a> <a id="46817" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="46825" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="46827" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="46830" class="Symbol">‚Üí</a> <a id="46832" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="46837" href="Demos.HSP.html#46790" class="Bound">X</a> <a id="46839" class="Symbol">‚Üí</a> <a id="46841" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="46846" href="Demos.HSP.html#46790" class="Bound">X</a> <a id="46848" class="Symbol">‚Üí</a> <a id="46850" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="46855" class="Symbol">_</a>
 <a id="46858" href="Demos.HSP.html#46858" class="Bound">ùë®</a> <a id="46860" href="Demos.HSP.html#46809" class="Function Operator">‚äß</a> <a id="46862" href="Demos.HSP.html#46862" class="Bound">p</a> <a id="46864" href="Demos.HSP.html#46809" class="Function Operator">‚âà</a> <a id="46866" href="Demos.HSP.html#46866" class="Bound">q</a> <a id="46868" class="Symbol">=</a> <a id="46870" href="Demos.HSP.html#43401" class="Function">Equal</a> <a id="46876" href="Demos.HSP.html#46862" class="Bound">p</a> <a id="46878" href="Demos.HSP.html#46866" class="Bound">q</a> <a id="46880" class="Keyword">where</a> <a id="46886" class="Keyword">open</a> <a id="46891" href="Demos.HSP.html#42463" class="Module">Environment</a> <a id="46903" href="Demos.HSP.html#46858" class="Bound">ùë®</a>

 <a id="46907" href="Demos.HSP.html#46907" class="Function Operator">_‚ä´_‚âà_</a> <a id="46913" class="Symbol">:</a> <a id="46915" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="46920" class="Symbol">(</a><a id="46921" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="46929" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="46931" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="46933" class="Symbol">)</a> <a id="46935" href="Demos.HSP.html#7175" class="Generalizable">‚Ñì</a> <a id="46937" class="Symbol">‚Üí</a> <a id="46939" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="46944" href="Demos.HSP.html#46790" class="Bound">X</a> <a id="46946" class="Symbol">‚Üí</a> <a id="46948" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="46953" href="Demos.HSP.html#46790" class="Bound">X</a> <a id="46955" class="Symbol">‚Üí</a> <a id="46957" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="46962" class="Symbol">_</a>
 <a id="46965" href="Demos.HSP.html#46965" class="Bound">ùí¶</a> <a id="46967" href="Demos.HSP.html#46907" class="Function Operator">‚ä´</a> <a id="46969" href="Demos.HSP.html#46969" class="Bound">p</a> <a id="46971" href="Demos.HSP.html#46907" class="Function Operator">‚âà</a> <a id="46973" href="Demos.HSP.html#46973" class="Bound">q</a> <a id="46975" class="Symbol">=</a> <a id="46977" class="Symbol">‚àÄ</a> <a id="46979" href="Demos.HSP.html#46979" class="Bound">ùë®</a> <a id="46981" class="Symbol">‚Üí</a> <a id="46983" href="Demos.HSP.html#46965" class="Bound">ùí¶</a> <a id="46985" href="Demos.HSP.html#46979" class="Bound">ùë®</a> <a id="46987" class="Symbol">‚Üí</a> <a id="46989" href="Demos.HSP.html#46979" class="Bound">ùë®</a> <a id="46991" href="Demos.HSP.html#46809" class="Function Operator">‚äß</a> <a id="46993" href="Demos.HSP.html#46969" class="Bound">p</a> <a id="46995" href="Demos.HSP.html#46809" class="Function Operator">‚âà</a> <a id="46997" href="Demos.HSP.html#46973" class="Bound">q</a>

</pre>
We represent a set of term identities as a predicate over pairs of terms, say, `‚Ñ∞ :  Pred(Term X √ó Term X)`, and we denote by `ùë® ‚ä® ‚Ñ∞` the assertion that `ùë®` models `p ‚âà q` for all `(p, q) ‚àà ‚Ñ∞`.

<pre class="Agda">

 <a id="47221" href="Demos.HSP.html#47221" class="Function Operator">_‚ä®_</a> <a id="47225" class="Symbol">:</a> <a id="47227" class="Symbol">(</a><a id="47228" href="Demos.HSP.html#47228" class="Bound">ùë®</a> <a id="47230" class="Symbol">:</a> <a id="47232" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="47240" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="47242" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="47244" class="Symbol">)</a> <a id="47246" class="Symbol">‚Üí</a> <a id="47248" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="47252" class="Symbol">(</a><a id="47253" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="47258" href="Demos.HSP.html#46790" class="Bound">X</a> <a id="47260" href="Data.Product.Base.html#1618" class="Function Operator">√ó</a> <a id="47262" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="47267" href="Demos.HSP.html#46790" class="Bound">X</a><a id="47268" class="Symbol">)(</a><a id="47270" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="47273" href="Demos.HSP.html#46799" class="Bound">œá</a><a id="47274" class="Symbol">)</a> <a id="47276" class="Symbol">‚Üí</a> <a id="47278" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="47283" class="Symbol">_</a>
 <a id="47286" href="Demos.HSP.html#47286" class="Bound">ùë®</a> <a id="47288" href="Demos.HSP.html#47221" class="Function Operator">‚ä®</a> <a id="47290" href="Demos.HSP.html#47290" class="Bound">‚Ñ∞</a> <a id="47292" class="Symbol">=</a> <a id="47294" class="Symbol">‚àÄ</a> <a id="47296" class="Symbol">{</a><a id="47297" href="Demos.HSP.html#47297" class="Bound">p</a> <a id="47299" href="Demos.HSP.html#47299" class="Bound">q</a><a id="47300" class="Symbol">}</a> <a id="47302" class="Symbol">‚Üí</a> <a id="47304" class="Symbol">(</a><a id="47305" href="Demos.HSP.html#47297" class="Bound">p</a> <a id="47307" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="47309" href="Demos.HSP.html#47299" class="Bound">q</a><a id="47310" class="Symbol">)</a> <a id="47312" href="Relation.Unary.html#1818" class="Function Operator">‚àà</a> <a id="47314" href="Demos.HSP.html#47290" class="Bound">‚Ñ∞</a> <a id="47316" class="Symbol">‚Üí</a> <a id="47318" href="Demos.HSP.html#43401" class="Function">Equal</a> <a id="47324" href="Demos.HSP.html#47297" class="Bound">p</a> <a id="47326" href="Demos.HSP.html#47299" class="Bound">q</a> <a id="47328" class="Keyword">where</a> <a id="47334" class="Keyword">open</a> <a id="47339" href="Demos.HSP.html#42463" class="Module">Environment</a> <a id="47351" href="Demos.HSP.html#47286" class="Bound">ùë®</a>

</pre>
(The symbol `‚ä®` is a stretched version of the models symbol `‚äß`,
so [Agda][] can distinguish between the two and parse expressions involving the types
`_‚ä®_` and `_‚äß_‚âà_`. In Emacs `agda2-mode`, the symbol `‚ä®` is produced by typing
`\|=`, while `‚äß` is produced with `\models`.)

An important property of the binary relation `‚äß` is *algebraic invariance* (i.e.,
invariance under isomorphism).  We formalize this property as follows.

<pre class="Agda">

<a id="47810" class="Keyword">module</a> <a id="47817" href="Demos.HSP.html#47817" class="Module">_</a> <a id="47819" class="Symbol">{</a><a id="47820" href="Demos.HSP.html#47820" class="Bound">X</a> <a id="47822" class="Symbol">:</a> <a id="47824" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="47829" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="47830" class="Symbol">}{</a><a id="47832" href="Demos.HSP.html#47832" class="Bound">ùë®</a> <a id="47834" class="Symbol">:</a> <a id="47836" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="47844" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="47846" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="47848" class="Symbol">}(</a><a id="47850" href="Demos.HSP.html#47850" class="Bound">ùë©</a> <a id="47852" class="Symbol">:</a> <a id="47854" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="47862" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="47864" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="47866" class="Symbol">)(</a><a id="47868" href="Demos.HSP.html#47868" class="Bound">p</a> <a id="47870" href="Demos.HSP.html#47870" class="Bound">q</a> <a id="47872" class="Symbol">:</a> <a id="47874" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="47879" href="Demos.HSP.html#47820" class="Bound">X</a><a id="47880" class="Symbol">)</a> <a id="47882" class="Keyword">where</a>
 <a id="47889" href="Demos.HSP.html#47889" class="Function">‚äß-I-invar</a> <a id="47899" class="Symbol">:</a> <a id="47901" href="Demos.HSP.html#47832" class="Bound">ùë®</a> <a id="47903" href="Demos.HSP.html#46809" class="Function Operator">‚äß</a> <a id="47905" href="Demos.HSP.html#47868" class="Bound">p</a> <a id="47907" href="Demos.HSP.html#46809" class="Function Operator">‚âà</a> <a id="47909" href="Demos.HSP.html#47870" class="Bound">q</a>  <a id="47912" class="Symbol">‚Üí</a>  <a id="47915" href="Demos.HSP.html#47832" class="Bound">ùë®</a> <a id="47917" href="Demos.HSP.html#33103" class="Record Operator">‚âÖ</a> <a id="47919" href="Demos.HSP.html#47850" class="Bound">ùë©</a>  <a id="47922" class="Symbol">‚Üí</a>  <a id="47925" href="Demos.HSP.html#47850" class="Bound">ùë©</a> <a id="47927" href="Demos.HSP.html#46809" class="Function Operator">‚äß</a> <a id="47929" href="Demos.HSP.html#47868" class="Bound">p</a> <a id="47931" href="Demos.HSP.html#46809" class="Function Operator">‚âà</a> <a id="47933" href="Demos.HSP.html#47870" class="Bound">q</a>
 <a id="47936" href="Demos.HSP.html#47889" class="Function">‚äß-I-invar</a> <a id="47946" href="Demos.HSP.html#47946" class="Bound">Apq</a> <a id="47950" class="Symbol">(</a><a id="47951" href="Demos.HSP.html#33162" class="InductiveConstructor">mkiso</a> <a id="47957" href="Demos.HSP.html#47957" class="Bound">fh</a> <a id="47960" href="Demos.HSP.html#47960" class="Bound">gh</a> <a id="47963" href="Demos.HSP.html#47963" class="Bound">f‚àºg</a> <a id="47967" href="Demos.HSP.html#47967" class="Bound">g‚àºf</a><a id="47970" class="Symbol">)</a> <a id="47972" href="Demos.HSP.html#47972" class="Bound">œÅ</a> <a id="47974" class="Symbol">=</a> <a id="47976" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="47984" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="47986" href="Demos.HSP.html#47868" class="Bound">p</a> <a id="47988" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a>     <a id="47994" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a>             <a id="48010" href="Demos.HSP.html#47972" class="Bound">œÅ</a>    <a id="48015" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚âàÀò‚ü®</a>  <a id="48020" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="48025" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="48027" href="Demos.HSP.html#47868" class="Bound">p</a> <a id="48029" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="48031" class="Symbol">(</a><a id="48032" href="Demos.HSP.html#47963" class="Bound">f‚àºg</a> <a id="48036" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="48038" href="Demos.HSP.html#47972" class="Bound">œÅ</a><a id="48039" class="Symbol">)</a>        <a id="48048" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚ü©</a>
  <a id="48052" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="48054" href="Demos.HSP.html#47868" class="Bound">p</a> <a id="48056" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a>     <a id="48062" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="48066" class="Symbol">(</a><a id="48067" href="Demos.HSP.html#48374" class="Function">f</a> <a id="48069" href="Function.Base.html#1115" class="Function Operator">‚àò</a>  <a id="48072" class="Symbol">(</a><a id="48073" href="Demos.HSP.html#48393" class="Function">g</a> <a id="48075" href="Function.Base.html#1115" class="Function Operator">‚àò</a>  <a id="48078" href="Demos.HSP.html#47972" class="Bound">œÅ</a><a id="48079" class="Symbol">))</a>  <a id="48083" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚âàÀò‚ü®</a>  <a id="48088" href="Demos.HSP.html#44820" class="Function">comm-hom-term</a> <a id="48102" href="Demos.HSP.html#47957" class="Bound">fh</a> <a id="48105" href="Demos.HSP.html#47868" class="Bound">p</a> <a id="48107" class="Symbol">(</a><a id="48108" href="Demos.HSP.html#48393" class="Function">g</a> <a id="48110" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="48112" href="Demos.HSP.html#47972" class="Bound">œÅ</a><a id="48113" class="Symbol">)</a>  <a id="48116" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚ü©</a>
  <a id="48120" href="Demos.HSP.html#48374" class="Function">f</a><a id="48121" class="Symbol">(</a><a id="48122" href="Demos.HSP.html#48466" class="Function Operator">‚ü¶</a> <a id="48124" href="Demos.HSP.html#47868" class="Bound">p</a> <a id="48126" href="Demos.HSP.html#48466" class="Function Operator">‚üß·¥¨</a>  <a id="48130" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a>       <a id="48140" class="Symbol">(</a><a id="48141" href="Demos.HSP.html#48393" class="Function">g</a> <a id="48143" href="Function.Base.html#1115" class="Function Operator">‚àò</a>  <a id="48146" href="Demos.HSP.html#47972" class="Bound">œÅ</a><a id="48147" class="Symbol">))</a>  <a id="48151" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a>   <a id="48156" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="48161" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="48163" href="Demos.HSP.html#47957" class="Bound">fh</a> <a id="48166" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="48168" class="Symbol">(</a><a id="48169" href="Demos.HSP.html#47946" class="Bound">Apq</a> <a id="48173" class="Symbol">(</a><a id="48174" href="Demos.HSP.html#48393" class="Function">g</a> <a id="48176" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="48178" href="Demos.HSP.html#47972" class="Bound">œÅ</a><a id="48179" class="Symbol">))</a>   <a id="48184" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
  <a id="48188" href="Demos.HSP.html#48374" class="Function">f</a><a id="48189" class="Symbol">(</a><a id="48190" href="Demos.HSP.html#48466" class="Function Operator">‚ü¶</a> <a id="48192" href="Demos.HSP.html#47870" class="Bound">q</a> <a id="48194" href="Demos.HSP.html#48466" class="Function Operator">‚üß·¥¨</a>  <a id="48198" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a>       <a id="48208" class="Symbol">(</a><a id="48209" href="Demos.HSP.html#48393" class="Function">g</a> <a id="48211" href="Function.Base.html#1115" class="Function Operator">‚àò</a>  <a id="48214" href="Demos.HSP.html#47972" class="Bound">œÅ</a><a id="48215" class="Symbol">))</a>  <a id="48219" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a>   <a id="48224" href="Demos.HSP.html#44820" class="Function">comm-hom-term</a> <a id="48238" href="Demos.HSP.html#47957" class="Bound">fh</a> <a id="48241" href="Demos.HSP.html#47870" class="Bound">q</a> <a id="48243" class="Symbol">(</a><a id="48244" href="Demos.HSP.html#48393" class="Function">g</a> <a id="48246" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="48248" href="Demos.HSP.html#47972" class="Bound">œÅ</a><a id="48249" class="Symbol">)</a>  <a id="48252" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
  <a id="48256" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="48258" href="Demos.HSP.html#47870" class="Bound">q</a> <a id="48260" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a>     <a id="48266" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="48270" class="Symbol">(</a><a id="48271" href="Demos.HSP.html#48374" class="Function">f</a> <a id="48273" href="Function.Base.html#1115" class="Function Operator">‚àò</a>  <a id="48276" class="Symbol">(</a><a id="48277" href="Demos.HSP.html#48393" class="Function">g</a> <a id="48279" href="Function.Base.html#1115" class="Function Operator">‚àò</a>  <a id="48282" href="Demos.HSP.html#47972" class="Bound">œÅ</a><a id="48283" class="Symbol">))</a>  <a id="48287" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a>   <a id="48292" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="48297" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="48299" href="Demos.HSP.html#47870" class="Bound">q</a> <a id="48301" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="48303" class="Symbol">(</a><a id="48304" href="Demos.HSP.html#47963" class="Bound">f‚àºg</a> <a id="48308" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="48310" href="Demos.HSP.html#47972" class="Bound">œÅ</a><a id="48311" class="Symbol">)</a>        <a id="48320" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
  <a id="48324" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="48326" href="Demos.HSP.html#47870" class="Bound">q</a> <a id="48328" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a>     <a id="48334" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a>             <a id="48350" href="Demos.HSP.html#47972" class="Bound">œÅ</a>    <a id="48355" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">‚àé</a>
  <a id="48359" class="Keyword">where</a>  <a id="48366" class="Keyword">private</a> <a id="48374" href="Demos.HSP.html#48374" class="Function">f</a> <a id="48376" class="Symbol">=</a> <a id="48378" href="Demos.HSP.html#6628" class="Field Operator">_‚ü®$‚ü©_</a> <a id="48384" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="48386" href="Demos.HSP.html#47957" class="Bound">fh</a> <a id="48389" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="48391" class="Symbol">;</a> <a id="48393" href="Demos.HSP.html#48393" class="Function">g</a> <a id="48395" class="Symbol">=</a> <a id="48397" href="Demos.HSP.html#6628" class="Field Operator">_‚ü®$‚ü©_</a> <a id="48403" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="48405" href="Demos.HSP.html#47960" class="Bound">gh</a> <a id="48408" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>
         <a id="48419" class="Keyword">open</a> <a id="48424" href="Demos.HSP.html#42463" class="Module">Environment</a> <a id="48436" href="Demos.HSP.html#47832" class="Bound">ùë®</a>  <a id="48439" class="Keyword">using</a> <a id="48445" class="Symbol">()</a> <a id="48448" class="Keyword">renaming</a> <a id="48457" class="Symbol">(</a> <a id="48459" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶_‚üß</a> <a id="48463" class="Symbol">to</a> <a id="48466" class="Function Operator">‚ü¶_‚üß·¥¨</a> <a id="48471" class="Symbol">)</a>
         <a id="48482" class="Keyword">open</a> <a id="48487" href="Demos.HSP.html#42463" class="Module">Environment</a> <a id="48499" href="Demos.HSP.html#47850" class="Bound">ùë©</a>  <a id="48502" class="Keyword">using</a> <a id="48508" class="Symbol">(</a> <a id="48510" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶_‚üß</a> <a id="48514" class="Symbol">)</a> <a id="48516" class="Symbol">;</a> <a id="48518" class="Keyword">open</a> <a id="48523" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="48539" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="48542" href="Demos.HSP.html#47850" class="Bound">ùë©</a> <a id="48544" href="Demos.HSP.html#19173" class="Function Operator">]</a>

</pre>
If `ùí¶` is a class of `ùëÜ`-algebras, the set of identities modeled by `ùí¶`, denoted `Th ùí¶`, is called the *equational theory* of `ùí¶`. If `‚Ñ∞` is a set of `ùëÜ`-term identities,
the class of algebras modeling `‚Ñ∞`, denoted `Mod ‚Ñ∞`, is called the *equational class axiomatized* by `‚Ñ∞`. We codify these notions in the next two definitions.

<pre class="Agda">

<a id="Th"></a><a id="48903" href="Demos.HSP.html#48903" class="Function">Th</a> <a id="48906" class="Symbol">:</a> <a id="48908" class="Symbol">{</a><a id="48909" href="Demos.HSP.html#48909" class="Bound">X</a> <a id="48911" class="Symbol">:</a> <a id="48913" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="48918" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="48919" class="Symbol">}</a> <a id="48921" class="Symbol">‚Üí</a> <a id="48923" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="48928" class="Symbol">(</a><a id="48929" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="48937" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="48939" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="48941" class="Symbol">)</a> <a id="48943" href="Demos.HSP.html#7175" class="Generalizable">‚Ñì</a> <a id="48945" class="Symbol">‚Üí</a> <a id="48947" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="48951" class="Symbol">(</a><a id="48952" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="48957" href="Demos.HSP.html#48909" class="Bound">X</a> <a id="48959" href="Data.Product.Base.html#1618" class="Function Operator">√ó</a> <a id="48961" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="48966" href="Demos.HSP.html#48909" class="Bound">X</a><a id="48967" class="Symbol">)</a> <a id="48969" class="Symbol">_</a>
<a id="48971" href="Demos.HSP.html#48903" class="Function">Th</a> <a id="48974" href="Demos.HSP.html#48974" class="Bound">ùí¶</a> <a id="48976" class="Symbol">=</a> <a id="48978" class="Symbol">Œª</a> <a id="48980" class="Symbol">(</a><a id="48981" href="Demos.HSP.html#48981" class="Bound">p</a> <a id="48983" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="48985" href="Demos.HSP.html#48985" class="Bound">q</a><a id="48986" class="Symbol">)</a> <a id="48988" class="Symbol">‚Üí</a> <a id="48990" href="Demos.HSP.html#48974" class="Bound">ùí¶</a> <a id="48992" href="Demos.HSP.html#46907" class="Function Operator">‚ä´</a> <a id="48994" href="Demos.HSP.html#48981" class="Bound">p</a> <a id="48996" href="Demos.HSP.html#46907" class="Function Operator">‚âà</a> <a id="48998" href="Demos.HSP.html#48985" class="Bound">q</a>

<a id="Mod"></a><a id="49001" href="Demos.HSP.html#49001" class="Function">Mod</a> <a id="49005" class="Symbol">:</a> <a id="49007" class="Symbol">{</a><a id="49008" href="Demos.HSP.html#49008" class="Bound">X</a> <a id="49010" class="Symbol">:</a> <a id="49012" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="49017" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="49018" class="Symbol">}</a> <a id="49020" class="Symbol">‚Üí</a> <a id="49022" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="49026" class="Symbol">(</a><a id="49027" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="49032" href="Demos.HSP.html#49008" class="Bound">X</a> <a id="49034" href="Data.Product.Base.html#1618" class="Function Operator">√ó</a> <a id="49036" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="49041" href="Demos.HSP.html#49008" class="Bound">X</a><a id="49042" class="Symbol">)</a> <a id="49044" href="Demos.HSP.html#7175" class="Generalizable">‚Ñì</a> <a id="49046" class="Symbol">‚Üí</a> <a id="49048" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="49053" class="Symbol">(</a><a id="49054" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="49062" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="49064" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="49066" class="Symbol">)</a> <a id="49068" class="Symbol">_</a>
<a id="49070" href="Demos.HSP.html#49001" class="Function">Mod</a> <a id="49074" href="Demos.HSP.html#49074" class="Bound">‚Ñ∞</a> <a id="49076" href="Demos.HSP.html#49076" class="Bound">ùë®</a> <a id="49078" class="Symbol">=</a> <a id="49080" class="Symbol">‚àÄ</a> <a id="49082" class="Symbol">{</a><a id="49083" href="Demos.HSP.html#49083" class="Bound">p</a> <a id="49085" href="Demos.HSP.html#49085" class="Bound">q</a><a id="49086" class="Symbol">}</a> <a id="49088" class="Symbol">‚Üí</a> <a id="49090" class="Symbol">(</a><a id="49091" href="Demos.HSP.html#49083" class="Bound">p</a> <a id="49093" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="49095" href="Demos.HSP.html#49085" class="Bound">q</a><a id="49096" class="Symbol">)</a> <a id="49098" href="Relation.Unary.html#1818" class="Function Operator">‚àà</a> <a id="49100" href="Demos.HSP.html#49074" class="Bound">‚Ñ∞</a> <a id="49102" class="Symbol">‚Üí</a> <a id="49104" href="Demos.HSP.html#43401" class="Function">Equal</a> <a id="49110" href="Demos.HSP.html#49083" class="Bound">p</a> <a id="49112" href="Demos.HSP.html#49085" class="Bound">q</a> <a id="49114" class="Keyword">where</a> <a id="49120" class="Keyword">open</a> <a id="49125" href="Demos.HSP.html#42463" class="Module">Environment</a> <a id="49137" href="Demos.HSP.html#49076" class="Bound">ùë®</a>
</pre>

#### <a id="the-closure-operators-h-s-p-and-v">The Closure Operators H, S, P and V</a>
 <!-- {#the-closure-operators-h-s-p-and-v .unnumbered} -->

Fix a signature `ùëÜ`, let `ùí¶` be a class of `ùëÜ`-algebras, and define
* `H ùí¶` := the class of all homomorphic images of members of `ùí¶`;
* `S ùí¶` := the class of all subalgebras of members of `ùí¶`;
* `P ùí¶` := the class of all products of members of `ùí¶`.

`H`, `S`, and `P` are *closure operators* (expansive, monotone, and idempotent).  
A class `ùí¶` of `ùëÜ`-algebras is said to be *closed under the taking of homomorphic images* 
provided `H ùí¶ ‚äÜ ùí¶`. Similarly, `ùí¶` is *closed under the taking of subalgebras* (resp., *arbitrary products*) provided `S ùí¶ ‚äÜ ùí¶` (resp., `P ùí¶ ‚äÜ ùí¶`). The operators `H`, `S`, and `P` can be composed with one another repeatedly, forming yet more closure operators. We represent these three closure operators in type theory as follows.

<pre class="Agda">

<a id="50068" class="Keyword">module</a> <a id="50075" href="Demos.HSP.html#50075" class="Module">_</a> <a id="50077" class="Symbol">{</a><a id="50078" href="Demos.HSP.html#50078" class="Bound">Œ±</a> <a id="50080" href="Demos.HSP.html#50080" class="Bound">œÅ·µÉ</a> <a id="50083" href="Demos.HSP.html#50083" class="Bound">Œ≤</a> <a id="50085" href="Demos.HSP.html#50085" class="Bound">œÅ·µá</a> <a id="50088" class="Symbol">:</a> <a id="50090" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="50095" class="Symbol">}</a> <a id="50097" class="Keyword">where</a>
 <a id="50104" class="Keyword">private</a> <a id="50112" href="Demos.HSP.html#50112" class="Function">a</a> <a id="50114" class="Symbol">=</a> <a id="50116" href="Demos.HSP.html#50078" class="Bound">Œ±</a> <a id="50118" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="50120" href="Demos.HSP.html#50080" class="Bound">œÅ·µÉ</a>
 <a id="50124" href="Demos.HSP.html#50124" class="Function">H</a> <a id="50126" class="Symbol">:</a> <a id="50128" class="Symbol">‚àÄ</a> <a id="50130" href="Demos.HSP.html#50130" class="Bound">‚Ñì</a> <a id="50132" class="Symbol">‚Üí</a> <a id="50134" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="50138" class="Symbol">(</a><a id="50139" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="50147" href="Demos.HSP.html#50078" class="Bound">Œ±</a> <a id="50149" href="Demos.HSP.html#50080" class="Bound">œÅ·µÉ</a><a id="50151" class="Symbol">)</a> <a id="50153" class="Symbol">(</a><a id="50154" href="Demos.HSP.html#50112" class="Function">a</a> <a id="50156" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="50158" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="50161" href="Demos.HSP.html#50130" class="Bound">‚Ñì</a><a id="50162" class="Symbol">)</a> <a id="50164" class="Symbol">‚Üí</a> <a id="50166" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="50170" class="Symbol">(</a><a id="50171" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="50179" href="Demos.HSP.html#50083" class="Bound">Œ≤</a> <a id="50181" href="Demos.HSP.html#50085" class="Bound">œÅ·µá</a><a id="50183" class="Symbol">)</a> <a id="50185" class="Symbol">_</a>
 <a id="50188" href="Demos.HSP.html#50124" class="Function">H</a> <a id="50190" class="Symbol">_</a> <a id="50192" href="Demos.HSP.html#50192" class="Bound">ùí¶</a> <a id="50194" href="Demos.HSP.html#50194" class="Bound">ùë©</a> <a id="50196" class="Symbol">=</a> <a id="50198" href="Data.Product.Base.html#1244" class="Function">Œ£[</a> <a id="50201" href="Demos.HSP.html#50201" class="Bound">ùë®</a> <a id="50203" href="Data.Product.Base.html#1244" class="Function">‚àà</a> <a id="50205" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="50213" href="Demos.HSP.html#50078" class="Bound">Œ±</a> <a id="50215" href="Demos.HSP.html#50080" class="Bound">œÅ·µÉ</a> <a id="50218" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="50220" href="Demos.HSP.html#50201" class="Bound">ùë®</a> <a id="50222" href="Relation.Unary.html#1818" class="Function Operator">‚àà</a> <a id="50224" href="Demos.HSP.html#50192" class="Bound">ùí¶</a> <a id="50226" href="Data.Product.Base.html#1618" class="Function Operator">√ó</a> <a id="50228" href="Demos.HSP.html#50194" class="Bound">ùë©</a> <a id="50230" href="Demos.HSP.html#35198" class="Function Operator">IsHomImageOf</a> <a id="50243" href="Demos.HSP.html#50201" class="Bound">ùë®</a>

 <a id="50247" href="Demos.HSP.html#50247" class="Function">S</a> <a id="50249" class="Symbol">:</a> <a id="50251" class="Symbol">‚àÄ</a> <a id="50253" href="Demos.HSP.html#50253" class="Bound">‚Ñì</a> <a id="50255" class="Symbol">‚Üí</a> <a id="50257" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="50261" class="Symbol">(</a><a id="50262" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="50270" href="Demos.HSP.html#50078" class="Bound">Œ±</a> <a id="50272" href="Demos.HSP.html#50080" class="Bound">œÅ·µÉ</a><a id="50274" class="Symbol">)</a> <a id="50276" class="Symbol">(</a><a id="50277" href="Demos.HSP.html#50112" class="Function">a</a> <a id="50279" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="50281" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="50284" href="Demos.HSP.html#50253" class="Bound">‚Ñì</a><a id="50285" class="Symbol">)</a> <a id="50287" class="Symbol">‚Üí</a> <a id="50289" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="50293" class="Symbol">(</a><a id="50294" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="50302" href="Demos.HSP.html#50083" class="Bound">Œ≤</a> <a id="50304" href="Demos.HSP.html#50085" class="Bound">œÅ·µá</a><a id="50306" class="Symbol">)</a> <a id="50308" class="Symbol">_</a>
 <a id="50311" href="Demos.HSP.html#50247" class="Function">S</a> <a id="50313" class="Symbol">_</a> <a id="50315" href="Demos.HSP.html#50315" class="Bound">ùí¶</a> <a id="50317" href="Demos.HSP.html#50317" class="Bound">ùë©</a> <a id="50319" class="Symbol">=</a> <a id="50321" href="Data.Product.Base.html#1244" class="Function">Œ£[</a> <a id="50324" href="Demos.HSP.html#50324" class="Bound">ùë®</a> <a id="50326" href="Data.Product.Base.html#1244" class="Function">‚àà</a> <a id="50328" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="50336" href="Demos.HSP.html#50078" class="Bound">Œ±</a> <a id="50338" href="Demos.HSP.html#50080" class="Bound">œÅ·µÉ</a> <a id="50341" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="50343" href="Demos.HSP.html#50324" class="Bound">ùë®</a> <a id="50345" href="Relation.Unary.html#1818" class="Function Operator">‚àà</a> <a id="50347" href="Demos.HSP.html#50315" class="Bound">ùí¶</a> <a id="50349" href="Data.Product.Base.html#1618" class="Function Operator">√ó</a> <a id="50351" href="Demos.HSP.html#50317" class="Bound">ùë©</a> <a id="50353" href="Demos.HSP.html#37978" class="Function Operator">‚â§</a> <a id="50355" href="Demos.HSP.html#50324" class="Bound">ùë®</a>

 <a id="50359" href="Demos.HSP.html#50359" class="Function">P</a> <a id="50361" class="Symbol">:</a> <a id="50363" class="Symbol">‚àÄ</a> <a id="50365" href="Demos.HSP.html#50365" class="Bound">‚Ñì</a> <a id="50367" href="Demos.HSP.html#50367" class="Bound">Œπ</a> <a id="50369" class="Symbol">‚Üí</a> <a id="50371" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="50375" class="Symbol">(</a><a id="50376" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="50384" href="Demos.HSP.html#50078" class="Bound">Œ±</a> <a id="50386" href="Demos.HSP.html#50080" class="Bound">œÅ·µÉ</a><a id="50388" class="Symbol">)</a> <a id="50390" class="Symbol">(</a><a id="50391" href="Demos.HSP.html#50112" class="Function">a</a> <a id="50393" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="50395" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="50398" href="Demos.HSP.html#50365" class="Bound">‚Ñì</a><a id="50399" class="Symbol">)</a> <a id="50401" class="Symbol">‚Üí</a> <a id="50403" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="50407" class="Symbol">(</a><a id="50408" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="50416" href="Demos.HSP.html#50083" class="Bound">Œ≤</a> <a id="50418" href="Demos.HSP.html#50085" class="Bound">œÅ·µá</a><a id="50420" class="Symbol">)</a> <a id="50422" class="Symbol">_</a>
 <a id="50425" href="Demos.HSP.html#50359" class="Function">P</a> <a id="50427" class="Symbol">_</a> <a id="50429" href="Demos.HSP.html#50429" class="Bound">Œπ</a> <a id="50431" href="Demos.HSP.html#50431" class="Bound">ùí¶</a> <a id="50433" href="Demos.HSP.html#50433" class="Bound">ùë©</a> <a id="50435" class="Symbol">=</a> <a id="50437" href="Data.Product.Base.html#1244" class="Function">Œ£[</a> <a id="50440" href="Demos.HSP.html#50440" class="Bound">I</a> <a id="50442" href="Data.Product.Base.html#1244" class="Function">‚àà</a> <a id="50444" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="50449" href="Demos.HSP.html#50429" class="Bound">Œπ</a> <a id="50451" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="50453" class="Symbol">(</a><a id="50454" href="Data.Product.Base.html#1244" class="Function">Œ£[</a> <a id="50457" href="Demos.HSP.html#50457" class="Bound">ùíú</a> <a id="50459" href="Data.Product.Base.html#1244" class="Function">‚àà</a> <a id="50461" class="Symbol">(</a><a id="50462" href="Demos.HSP.html#50440" class="Bound">I</a> <a id="50464" class="Symbol">‚Üí</a> <a id="50466" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="50474" href="Demos.HSP.html#50078" class="Bound">Œ±</a> <a id="50476" href="Demos.HSP.html#50080" class="Bound">œÅ·µÉ</a><a id="50478" class="Symbol">)</a> <a id="50480" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="50482" class="Symbol">(‚àÄ</a> <a id="50485" href="Demos.HSP.html#50485" class="Bound">i</a> <a id="50487" class="Symbol">‚Üí</a> <a id="50489" href="Demos.HSP.html#50457" class="Bound">ùíú</a> <a id="50491" href="Demos.HSP.html#50485" class="Bound">i</a> <a id="50493" href="Relation.Unary.html#1818" class="Function Operator">‚àà</a> <a id="50495" href="Demos.HSP.html#50431" class="Bound">ùí¶</a><a id="50496" class="Symbol">)</a> <a id="50498" href="Data.Product.Base.html#1618" class="Function Operator">√ó</a> <a id="50500" class="Symbol">(</a><a id="50501" href="Demos.HSP.html#50433" class="Bound">ùë©</a> <a id="50503" href="Demos.HSP.html#33103" class="Record Operator">‚âÖ</a> <a id="50505" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="50507" href="Demos.HSP.html#50457" class="Bound">ùíú</a><a id="50508" class="Symbol">))</a>

</pre>
Identities modeled by an algebra `ùë®` are also modeled by every homomorphic image of
`ùë®` and by every subalgebra of `ùë®`. These facts are formalized in [Agda][] as follows.

<pre class="Agda">

<a id="50709" class="Keyword">module</a> <a id="50716" href="Demos.HSP.html#50716" class="Module">_</a> <a id="50718" class="Symbol">{</a><a id="50719" href="Demos.HSP.html#50719" class="Bound">X</a> <a id="50721" class="Symbol">:</a> <a id="50723" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="50728" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="50729" class="Symbol">}{</a><a id="50731" href="Demos.HSP.html#50731" class="Bound">ùë®</a> <a id="50733" class="Symbol">:</a> <a id="50735" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="50743" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="50745" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="50747" class="Symbol">}{</a><a id="50749" href="Demos.HSP.html#50749" class="Bound">ùë©</a> <a id="50751" class="Symbol">:</a> <a id="50753" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="50761" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a> <a id="50763" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="50765" class="Symbol">}{</a><a id="50767" href="Demos.HSP.html#50767" class="Bound">p</a> <a id="50769" href="Demos.HSP.html#50769" class="Bound">q</a> <a id="50771" class="Symbol">:</a> <a id="50773" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="50778" href="Demos.HSP.html#50719" class="Bound">X</a><a id="50779" class="Symbol">}</a> <a id="50781" class="Keyword">where</a>
 <a id="50788" href="Demos.HSP.html#50788" class="Function">‚äß-H-invar</a> <a id="50798" class="Symbol">:</a> <a id="50800" href="Demos.HSP.html#50731" class="Bound">ùë®</a> <a id="50802" href="Demos.HSP.html#46809" class="Function Operator">‚äß</a> <a id="50804" href="Demos.HSP.html#50767" class="Bound">p</a> <a id="50806" href="Demos.HSP.html#46809" class="Function Operator">‚âà</a> <a id="50808" href="Demos.HSP.html#50769" class="Bound">q</a> <a id="50810" class="Symbol">‚Üí</a> <a id="50812" href="Demos.HSP.html#50749" class="Bound">ùë©</a> <a id="50814" href="Demos.HSP.html#35198" class="Function Operator">IsHomImageOf</a> <a id="50827" href="Demos.HSP.html#50731" class="Bound">ùë®</a> <a id="50829" class="Symbol">‚Üí</a> <a id="50831" href="Demos.HSP.html#50749" class="Bound">ùë©</a> <a id="50833" href="Demos.HSP.html#46809" class="Function Operator">‚äß</a> <a id="50835" href="Demos.HSP.html#50767" class="Bound">p</a> <a id="50837" href="Demos.HSP.html#46809" class="Function Operator">‚âà</a> <a id="50839" href="Demos.HSP.html#50769" class="Bound">q</a>
 <a id="50842" href="Demos.HSP.html#50788" class="Function">‚äß-H-invar</a> <a id="50852" href="Demos.HSP.html#50852" class="Bound">Apq</a> <a id="50856" class="Symbol">(</a><a id="50857" href="Demos.HSP.html#50857" class="Bound">œÜh</a> <a id="50860" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="50862" href="Demos.HSP.html#50862" class="Bound">œÜE</a><a id="50864" class="Symbol">)</a> <a id="50866" href="Demos.HSP.html#50866" class="Bound">œÅ</a> <a id="50868" class="Symbol">=</a> <a id="50870" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
       <a id="50883" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="50885" href="Demos.HSP.html#50767" class="Bound">p</a> <a id="50887" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a>   <a id="50891" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a>               <a id="50909" href="Demos.HSP.html#50866" class="Bound">œÅ</a>    <a id="50914" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚âàÀò‚ü®</a>  <a id="50919" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="50924" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="50926" href="Demos.HSP.html#50767" class="Bound">p</a> <a id="50928" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a><a id="50929" class="Symbol">(Œª</a> <a id="50932" href="Demos.HSP.html#50932" class="Bound">_</a> <a id="50934" class="Symbol">‚Üí</a> <a id="50936" href="Demos.HSP.html#10943" class="Function">InvIsInverse ≥</a> <a id="50950" href="Demos.HSP.html#50862" class="Bound">œÜE</a><a id="50952" class="Symbol">)</a>  <a id="50955" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚ü©</a>
       <a id="50964" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="50966" href="Demos.HSP.html#50767" class="Bound">p</a> <a id="50968" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a>   <a id="50972" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="50976" class="Symbol">(</a><a id="50977" href="Demos.HSP.html#51390" class="Function">œÜ</a> <a id="50979" href="Function.Base.html#1115" class="Function Operator">‚àò</a>  <a id="50982" href="Demos.HSP.html#51330" class="Function">œÜ‚Åª¬π</a>  <a id="50987" href="Function.Base.html#1115" class="Function Operator">‚àò</a>  <a id="50990" href="Demos.HSP.html#50866" class="Bound">œÅ</a><a id="50991" class="Symbol">)</a>   <a id="50995" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚âàÀò‚ü®</a>  <a id="51000" href="Demos.HSP.html#44820" class="Function">comm-hom-term</a> <a id="51014" href="Demos.HSP.html#50857" class="Bound">œÜh</a> <a id="51017" href="Demos.HSP.html#50767" class="Bound">p</a> <a id="51019" class="Symbol">(</a><a id="51020" href="Demos.HSP.html#51330" class="Function">œÜ‚Åª¬π</a> <a id="51024" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="51026" href="Demos.HSP.html#50866" class="Bound">œÅ</a><a id="51027" class="Symbol">)</a>        <a id="51036" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚ü©</a>
   <a id="51041" href="Demos.HSP.html#51390" class="Function">œÜ</a><a id="51042" class="Symbol">(</a>  <a id="51045" href="Demos.HSP.html#51459" class="Function Operator">‚ü¶</a> <a id="51047" href="Demos.HSP.html#50767" class="Bound">p</a> <a id="51049" href="Demos.HSP.html#51459" class="Function Operator">‚üß·¥¨</a>  <a id="51053" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="51057" class="Symbol">(</a>     <a id="51063" href="Demos.HSP.html#51330" class="Function">œÜ‚Åª¬π</a>  <a id="51068" href="Function.Base.html#1115" class="Function Operator">‚àò</a>  <a id="51071" href="Demos.HSP.html#50866" class="Bound">œÅ</a><a id="51072" class="Symbol">))</a>  <a id="51076" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a>   <a id="51081" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="51086" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="51088" href="Demos.HSP.html#50857" class="Bound">œÜh</a> <a id="51091" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="51093" class="Symbol">(</a><a id="51094" href="Demos.HSP.html#50852" class="Bound">Apq</a> <a id="51098" class="Symbol">(</a><a id="51099" href="Demos.HSP.html#51330" class="Function">œÜ‚Åª¬π</a> <a id="51103" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="51105" href="Demos.HSP.html#50866" class="Bound">œÅ</a><a id="51106" class="Symbol">))</a>         <a id="51117" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
   <a id="51122" href="Demos.HSP.html#51390" class="Function">œÜ</a><a id="51123" class="Symbol">(</a>  <a id="51126" href="Demos.HSP.html#51459" class="Function Operator">‚ü¶</a> <a id="51128" href="Demos.HSP.html#50769" class="Bound">q</a> <a id="51130" href="Demos.HSP.html#51459" class="Function Operator">‚üß·¥¨</a>  <a id="51134" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="51138" class="Symbol">(</a>     <a id="51144" href="Demos.HSP.html#51330" class="Function">œÜ‚Åª¬π</a>  <a id="51149" href="Function.Base.html#1115" class="Function Operator">‚àò</a>  <a id="51152" href="Demos.HSP.html#50866" class="Bound">œÅ</a><a id="51153" class="Symbol">))</a>  <a id="51157" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a>   <a id="51162" href="Demos.HSP.html#44820" class="Function">comm-hom-term</a> <a id="51176" href="Demos.HSP.html#50857" class="Bound">œÜh</a> <a id="51179" href="Demos.HSP.html#50769" class="Bound">q</a> <a id="51181" class="Symbol">(</a><a id="51182" href="Demos.HSP.html#51330" class="Function">œÜ‚Åª¬π</a> <a id="51186" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="51188" href="Demos.HSP.html#50866" class="Bound">œÅ</a><a id="51189" class="Symbol">)</a>        <a id="51198" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
       <a id="51207" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="51209" href="Demos.HSP.html#50769" class="Bound">q</a> <a id="51211" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a>   <a id="51215" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="51219" class="Symbol">(</a><a id="51220" href="Demos.HSP.html#51390" class="Function">œÜ</a> <a id="51222" href="Function.Base.html#1115" class="Function Operator">‚àò</a>  <a id="51225" href="Demos.HSP.html#51330" class="Function">œÜ‚Åª¬π</a>  <a id="51230" href="Function.Base.html#1115" class="Function Operator">‚àò</a>  <a id="51233" href="Demos.HSP.html#50866" class="Bound">œÅ</a><a id="51234" class="Symbol">)</a>   <a id="51238" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a>   <a id="51243" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="51248" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="51250" href="Demos.HSP.html#50769" class="Bound">q</a> <a id="51252" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a><a id="51253" class="Symbol">(Œª</a> <a id="51256" href="Demos.HSP.html#51256" class="Bound">_</a> <a id="51258" class="Symbol">‚Üí</a> <a id="51260" href="Demos.HSP.html#10943" class="Function">InvIsInverse ≥</a> <a id="51274" href="Demos.HSP.html#50862" class="Bound">œÜE</a><a id="51276" class="Symbol">)</a>  <a id="51279" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
       <a id="51288" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="51290" href="Demos.HSP.html#50769" class="Bound">q</a> <a id="51292" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a>   <a id="51296" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a>               <a id="51314" href="Demos.HSP.html#50866" class="Bound">œÅ</a>    <a id="51319" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">‚àé</a> <a id="51321" class="Keyword">where</a>
   <a id="51330" href="Demos.HSP.html#51330" class="Function">œÜ‚Åª¬π</a> <a id="51334" class="Symbol">:</a> <a id="51336" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="51339" href="Demos.HSP.html#50749" class="Bound">ùë©</a> <a id="51341" href="Demos.HSP.html#19227" class="Function Operator">]</a> <a id="51343" class="Symbol">‚Üí</a> <a id="51345" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="51348" href="Demos.HSP.html#50731" class="Bound">ùë®</a> <a id="51350" href="Demos.HSP.html#19227" class="Function Operator">]</a>
   <a id="51355" href="Demos.HSP.html#51330" class="Function">œÜ‚Åª¬π</a> <a id="51359" class="Symbol">=</a> <a id="51361" href="Demos.HSP.html#12319" class="Function">SurjInv</a> <a id="51369" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="51371" href="Demos.HSP.html#50857" class="Bound">œÜh</a> <a id="51374" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="51376" href="Demos.HSP.html#50862" class="Bound">œÜE</a>
   <a id="51382" class="Keyword">private</a> <a id="51390" href="Demos.HSP.html#51390" class="Function">œÜ</a> <a id="51392" class="Symbol">=</a> <a id="51394" class="Symbol">(</a><a id="51395" href="Demos.HSP.html#6628" class="Field Operator">_‚ü®$‚ü©_</a> <a id="51401" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="51403" href="Demos.HSP.html#50857" class="Bound">œÜh</a> <a id="51406" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a><a id="51407" class="Symbol">)</a>
   <a id="51412" class="Keyword">open</a> <a id="51417" href="Demos.HSP.html#42463" class="Module">Environment</a> <a id="51429" href="Demos.HSP.html#50731" class="Bound">ùë®</a>  <a id="51432" class="Keyword">using</a> <a id="51438" class="Symbol">()</a> <a id="51441" class="Keyword">renaming</a> <a id="51450" class="Symbol">(</a> <a id="51452" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶_‚üß</a> <a id="51456" class="Symbol">to</a> <a id="51459" class="Function Operator">‚ü¶_‚üß·¥¨</a><a id="51463" class="Symbol">)</a>
   <a id="51468" class="Keyword">open</a> <a id="51473" href="Demos.HSP.html#42463" class="Module">Environment</a> <a id="51485" href="Demos.HSP.html#50749" class="Bound">ùë©</a>  <a id="51488" class="Keyword">using</a> <a id="51494" class="Symbol">(</a> <a id="51496" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶_‚üß</a> <a id="51500" class="Symbol">)</a> <a id="51502" class="Symbol">;</a> <a id="51504" class="Keyword">open</a> <a id="51509" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="51525" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="51528" href="Demos.HSP.html#50749" class="Bound">ùë©</a> <a id="51530" href="Demos.HSP.html#19173" class="Function Operator">]</a>

 <a id="51534" href="Demos.HSP.html#51534" class="Function">‚äß-S-invar</a> <a id="51544" class="Symbol">:</a> <a id="51546" href="Demos.HSP.html#50731" class="Bound">ùë®</a> <a id="51548" href="Demos.HSP.html#46809" class="Function Operator">‚äß</a> <a id="51550" href="Demos.HSP.html#50767" class="Bound">p</a> <a id="51552" href="Demos.HSP.html#46809" class="Function Operator">‚âà</a> <a id="51554" href="Demos.HSP.html#50769" class="Bound">q</a> <a id="51556" class="Symbol">‚Üí</a> <a id="51558" href="Demos.HSP.html#50749" class="Bound">ùë©</a> <a id="51560" href="Demos.HSP.html#37978" class="Function Operator">‚â§</a> <a id="51562" href="Demos.HSP.html#50731" class="Bound">ùë®</a> <a id="51564" class="Symbol">‚Üí</a> <a id="51566" href="Demos.HSP.html#50749" class="Bound">ùë©</a> <a id="51568" href="Demos.HSP.html#46809" class="Function Operator">‚äß</a> <a id="51570" href="Demos.HSP.html#50767" class="Bound">p</a> <a id="51572" href="Demos.HSP.html#46809" class="Function Operator">‚âà</a> <a id="51574" href="Demos.HSP.html#50769" class="Bound">q</a>
 <a id="51577" href="Demos.HSP.html#51534" class="Function">‚äß-S-invar</a> <a id="51587" href="Demos.HSP.html#51587" class="Bound">Apq</a> <a id="51591" href="Demos.HSP.html#51591" class="Bound">B‚â§A</a> <a id="51595" href="Demos.HSP.html#51595" class="Bound">b</a> <a id="51597" class="Symbol">=</a> <a id="51599" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="51601" href="Demos.HSP.html#51591" class="Bound">B‚â§A</a> <a id="51605" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a>
  <a id="51609" class="Symbol">(</a> <a id="51611" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="51621" href="Demos.HSP.html#52023" class="Function">h</a> <a id="51623" class="Symbol">(</a>  <a id="51626" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="51628" href="Demos.HSP.html#50767" class="Bound">p</a> <a id="51630" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a>   <a id="51634" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a>       <a id="51644" href="Demos.HSP.html#51595" class="Bound">b</a><a id="51645" class="Symbol">)</a>  <a id="51648" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a>   <a id="51653" href="Demos.HSP.html#44820" class="Function">comm-hom-term</a> <a id="51667" href="Demos.HSP.html#52008" class="Function">hh</a> <a id="51670" href="Demos.HSP.html#50767" class="Bound">p</a> <a id="51672" href="Demos.HSP.html#51595" class="Bound">b</a>  <a id="51675" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
         <a id="51686" href="Demos.HSP.html#51955" class="Function Operator">‚ü¶</a> <a id="51688" href="Demos.HSP.html#50767" class="Bound">p</a> <a id="51690" href="Demos.HSP.html#51955" class="Function Operator">‚üß·¥¨</a>  <a id="51694" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="51698" class="Symbol">(</a><a id="51699" href="Demos.HSP.html#52023" class="Function">h</a> <a id="51701" href="Function.Base.html#1115" class="Function Operator">‚àò</a>  <a id="51704" href="Demos.HSP.html#51595" class="Bound">b</a><a id="51705" class="Symbol">)</a>  <a id="51708" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a>   <a id="51713" href="Demos.HSP.html#51587" class="Bound">Apq</a> <a id="51717" class="Symbol">(</a><a id="51718" href="Demos.HSP.html#52023" class="Function">h</a> <a id="51720" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="51722" href="Demos.HSP.html#51595" class="Bound">b</a><a id="51723" class="Symbol">)</a>           <a id="51735" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
         <a id="51746" href="Demos.HSP.html#51955" class="Function Operator">‚ü¶</a> <a id="51748" href="Demos.HSP.html#50769" class="Bound">q</a> <a id="51750" href="Demos.HSP.html#51955" class="Function Operator">‚üß·¥¨</a>  <a id="51754" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="51758" class="Symbol">(</a><a id="51759" href="Demos.HSP.html#52023" class="Function">h</a> <a id="51761" href="Function.Base.html#1115" class="Function Operator">‚àò</a>  <a id="51764" href="Demos.HSP.html#51595" class="Bound">b</a><a id="51765" class="Symbol">)</a>  <a id="51768" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚âàÀò‚ü®</a>  <a id="51773" href="Demos.HSP.html#44820" class="Function">comm-hom-term</a> <a id="51787" href="Demos.HSP.html#52008" class="Function">hh</a> <a id="51790" href="Demos.HSP.html#50769" class="Bound">q</a> <a id="51792" href="Demos.HSP.html#51595" class="Bound">b</a>  <a id="51795" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚ü©</a>
    <a id="51801" href="Demos.HSP.html#52023" class="Function">h</a> <a id="51803" class="Symbol">(</a>  <a id="51806" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="51808" href="Demos.HSP.html#50769" class="Bound">q</a> <a id="51810" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a>   <a id="51814" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a>       <a id="51824" href="Demos.HSP.html#51595" class="Bound">b</a><a id="51825" class="Symbol">)</a>  <a id="51828" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">‚àé</a> <a id="51830" class="Symbol">)</a>
  <a id="51834" class="Keyword">where</a>
  <a id="51842" class="Keyword">open</a> <a id="51847" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="51863" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="51866" href="Demos.HSP.html#50731" class="Bound">ùë®</a> <a id="51868" href="Demos.HSP.html#19173" class="Function Operator">]</a>
  <a id="51872" class="Keyword">open</a> <a id="51877" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="51884" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="51887" href="Demos.HSP.html#50731" class="Bound">ùë®</a> <a id="51889" href="Demos.HSP.html#19173" class="Function Operator">]</a>  <a id="51892" class="Keyword">using</a> <a id="51898" class="Symbol">(</a> <a id="51900" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="51904" class="Symbol">)</a>
  <a id="51908" class="Keyword">open</a> <a id="51913" href="Demos.HSP.html#42463" class="Module">Environment</a> <a id="51925" href="Demos.HSP.html#50731" class="Bound">ùë®</a>  <a id="51928" class="Keyword">using</a> <a id="51934" class="Symbol">()</a> <a id="51937" class="Keyword">renaming</a> <a id="51946" class="Symbol">(</a> <a id="51948" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶_‚üß</a> <a id="51952" class="Symbol">to</a> <a id="51955" class="Function Operator">‚ü¶_‚üß·¥¨</a> <a id="51960" class="Symbol">)</a>
  <a id="51964" class="Keyword">open</a> <a id="51969" href="Demos.HSP.html#42463" class="Module">Environment</a> <a id="51981" href="Demos.HSP.html#50749" class="Bound">ùë©</a>  <a id="51984" class="Keyword">using</a> <a id="51990" class="Symbol">(</a> <a id="51992" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶_‚üß</a> <a id="51996" class="Symbol">)</a>
  <a id="52000" class="Keyword">private</a> <a id="52008" href="Demos.HSP.html#52008" class="Function">hh</a> <a id="52011" class="Symbol">=</a> <a id="52013" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="52015" href="Demos.HSP.html#51591" class="Bound">B‚â§A</a> <a id="52019" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="52021" class="Symbol">;</a> <a id="52023" href="Demos.HSP.html#52023" class="Function">h</a> <a id="52025" class="Symbol">=</a> <a id="52027" href="Demos.HSP.html#6628" class="Field Operator">_‚ü®$‚ü©_</a> <a id="52033" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="52035" href="Demos.HSP.html#52008" class="Function">hh</a> <a id="52038" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a>

</pre>
An identity satisfied by all algebras in an indexed collection is also satisfied by the product of algebras in the collection.

<pre class="Agda">

<a id="52194" class="Keyword">module</a> <a id="52201" href="Demos.HSP.html#52201" class="Module">_</a> <a id="52203" class="Symbol">{</a><a id="52204" href="Demos.HSP.html#52204" class="Bound">X</a> <a id="52206" class="Symbol">:</a> <a id="52208" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="52213" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="52214" class="Symbol">}{</a><a id="52216" href="Demos.HSP.html#52216" class="Bound">I</a> <a id="52218" class="Symbol">:</a> <a id="52220" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="52225" href="Demos.HSP.html#7175" class="Generalizable">‚Ñì</a><a id="52226" class="Symbol">}(</a><a id="52228" href="Demos.HSP.html#52228" class="Bound">ùíú</a> <a id="52230" class="Symbol">:</a> <a id="52232" href="Demos.HSP.html#52216" class="Bound">I</a> <a id="52234" class="Symbol">‚Üí</a> <a id="52236" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="52244" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="52246" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="52248" class="Symbol">){</a><a id="52250" href="Demos.HSP.html#52250" class="Bound">p</a> <a id="52252" href="Demos.HSP.html#52252" class="Bound">q</a> <a id="52254" class="Symbol">:</a> <a id="52256" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="52261" href="Demos.HSP.html#52204" class="Bound">X</a><a id="52262" class="Symbol">}</a> <a id="52264" class="Keyword">where</a>
 <a id="52271" href="Demos.HSP.html#52271" class="Function">‚äß-P-invar</a> <a id="52281" class="Symbol">:</a> <a id="52283" class="Symbol">(‚àÄ</a> <a id="52286" href="Demos.HSP.html#52286" class="Bound">i</a> <a id="52288" class="Symbol">‚Üí</a> <a id="52290" href="Demos.HSP.html#52228" class="Bound">ùíú</a> <a id="52292" href="Demos.HSP.html#52286" class="Bound">i</a> <a id="52294" href="Demos.HSP.html#46809" class="Function Operator">‚äß</a> <a id="52296" href="Demos.HSP.html#52250" class="Bound">p</a> <a id="52298" href="Demos.HSP.html#46809" class="Function Operator">‚âà</a> <a id="52300" href="Demos.HSP.html#52252" class="Bound">q</a><a id="52301" class="Symbol">)</a> <a id="52303" class="Symbol">‚Üí</a> <a id="52305" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="52307" href="Demos.HSP.html#52228" class="Bound">ùíú</a> <a id="52309" href="Demos.HSP.html#46809" class="Function Operator">‚äß</a> <a id="52311" href="Demos.HSP.html#52250" class="Bound">p</a> <a id="52313" href="Demos.HSP.html#46809" class="Function Operator">‚âà</a> <a id="52315" href="Demos.HSP.html#52252" class="Bound">q</a>
 <a id="52318" href="Demos.HSP.html#52271" class="Function">‚äß-P-invar</a> <a id="52328" href="Demos.HSP.html#52328" class="Bound">ùíúpq</a> <a id="52332" href="Demos.HSP.html#52332" class="Bound">a</a> <a id="52334" class="Symbol">=</a> <a id="52336" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
   <a id="52345" href="Demos.HSP.html#52695" class="Function Operator">‚ü¶</a> <a id="52347" href="Demos.HSP.html#52250" class="Bound">p</a> <a id="52349" href="Demos.HSP.html#52695" class="Function Operator">‚üß‚ÇÅ</a>               <a id="52366" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a>  <a id="52371" href="Demos.HSP.html#52332" class="Bound">a</a>                <a id="52388" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a>   <a id="52393" href="Demos.HSP.html#45353" class="Function">interp-prod</a> <a id="52405" href="Demos.HSP.html#52228" class="Bound">ùíú</a> <a id="52407" href="Demos.HSP.html#52250" class="Bound">p</a> <a id="52409" href="Demos.HSP.html#52332" class="Bound">a</a>            <a id="52422" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
   <a id="52427" class="Symbol">(</a> <a id="52429" class="Symbol">Œª</a> <a id="52431" href="Demos.HSP.html#52431" class="Bound">i</a> <a id="52433" class="Symbol">‚Üí</a> <a id="52435" class="Symbol">(</a><a id="52436" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="52438" href="Demos.HSP.html#52228" class="Bound">ùíú</a> <a id="52440" href="Demos.HSP.html#52431" class="Bound">i</a> <a id="52442" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="52444" href="Demos.HSP.html#52250" class="Bound">p</a><a id="52445" class="Symbol">)</a>  <a id="52448" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a>  <a id="52453" class="Symbol">Œª</a> <a id="52455" href="Demos.HSP.html#52455" class="Bound">x</a> <a id="52457" class="Symbol">‚Üí</a> <a id="52459" class="Symbol">(</a><a id="52460" href="Demos.HSP.html#52332" class="Bound">a</a> <a id="52462" href="Demos.HSP.html#52455" class="Bound">x</a><a id="52463" class="Symbol">)</a> <a id="52465" href="Demos.HSP.html#52431" class="Bound">i</a> <a id="52467" class="Symbol">)</a>  <a id="52470" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a> <a id="52473" class="Symbol">(Œª</a> <a id="52476" href="Demos.HSP.html#52476" class="Bound">i</a> <a id="52478" class="Symbol">‚Üí</a> <a id="52480" href="Demos.HSP.html#52328" class="Bound">ùíúpq</a> <a id="52484" href="Demos.HSP.html#52476" class="Bound">i</a> <a id="52486" class="Symbol">(Œª</a> <a id="52489" href="Demos.HSP.html#52489" class="Bound">x</a> <a id="52491" class="Symbol">‚Üí</a> <a id="52493" class="Symbol">(</a><a id="52494" href="Demos.HSP.html#52332" class="Bound">a</a> <a id="52496" href="Demos.HSP.html#52489" class="Bound">x</a><a id="52497" class="Symbol">)</a> <a id="52499" href="Demos.HSP.html#52476" class="Bound">i</a><a id="52500" class="Symbol">))</a>  <a id="52504" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
   <a id="52509" class="Symbol">(</a> <a id="52511" class="Symbol">Œª</a> <a id="52513" href="Demos.HSP.html#52513" class="Bound">i</a> <a id="52515" class="Symbol">‚Üí</a> <a id="52517" class="Symbol">(</a><a id="52518" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="52520" href="Demos.HSP.html#52228" class="Bound">ùíú</a> <a id="52522" href="Demos.HSP.html#52513" class="Bound">i</a> <a id="52524" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="52526" href="Demos.HSP.html#52252" class="Bound">q</a><a id="52527" class="Symbol">)</a>  <a id="52530" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a>  <a id="52535" class="Symbol">Œª</a> <a id="52537" href="Demos.HSP.html#52537" class="Bound">x</a> <a id="52539" class="Symbol">‚Üí</a> <a id="52541" class="Symbol">(</a><a id="52542" href="Demos.HSP.html#52332" class="Bound">a</a> <a id="52544" href="Demos.HSP.html#52537" class="Bound">x</a><a id="52545" class="Symbol">)</a> <a id="52547" href="Demos.HSP.html#52513" class="Bound">i</a> <a id="52549" class="Symbol">)</a>  <a id="52552" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚âàÀò‚ü®</a>  <a id="52557" href="Demos.HSP.html#45353" class="Function">interp-prod</a> <a id="52569" href="Demos.HSP.html#52228" class="Bound">ùíú</a> <a id="52571" href="Demos.HSP.html#52252" class="Bound">q</a> <a id="52573" href="Demos.HSP.html#52332" class="Bound">a</a>            <a id="52586" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚ü©</a>
   <a id="52591" href="Demos.HSP.html#52695" class="Function Operator">‚ü¶</a> <a id="52593" href="Demos.HSP.html#52252" class="Bound">q</a> <a id="52595" href="Demos.HSP.html#52695" class="Function Operator">‚üß‚ÇÅ</a>               <a id="52612" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a>  <a id="52617" href="Demos.HSP.html#52332" class="Bound">a</a>                <a id="52634" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">‚àé</a> <a id="52636" class="Keyword">where</a>
  <a id="52644" class="Keyword">open</a> <a id="52649" href="Demos.HSP.html#42463" class="Module">Environment</a> <a id="52661" class="Symbol">(</a><a id="52662" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="52664" href="Demos.HSP.html#52228" class="Bound">ùíú</a><a id="52665" class="Symbol">)</a>  <a id="52668" class="Keyword">using</a> <a id="52674" class="Symbol">()</a> <a id="52677" class="Keyword">renaming</a> <a id="52686" class="Symbol">(</a> <a id="52688" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶_‚üß</a> <a id="52692" class="Symbol">to</a> <a id="52695" class="Function Operator">‚ü¶_‚üß‚ÇÅ</a> <a id="52700" class="Symbol">)</a>
  <a id="52704" class="Keyword">open</a> <a id="52709" href="Demos.HSP.html#42463" class="Module">Environment</a>        <a id="52728" class="Keyword">using</a> <a id="52734" class="Symbol">(</a> <a id="52736" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶_‚üß</a> <a id="52740" class="Symbol">)</a>
  <a id="52744" class="Keyword">open</a> <a id="52749" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="52756" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="52759" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="52761" href="Demos.HSP.html#52228" class="Bound">ùíú</a> <a id="52763" href="Demos.HSP.html#19173" class="Function Operator">]</a>    <a id="52768" class="Keyword">using</a> <a id="52774" class="Symbol">(</a> <a id="52776" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="52780" class="Symbol">)</a>
  <a id="52784" class="Keyword">open</a> <a id="52789" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="52805" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="52808" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="52810" href="Demos.HSP.html#52228" class="Bound">ùíú</a> <a id="52812" href="Demos.HSP.html#19173" class="Function Operator">]</a>

</pre>

A *variety* is a class of `ùëÜ`-algebras that is closed under the taking of homomorphic images, subalgebras, and arbitrary products. If we define `V ùí¶ := H (S (P ùí¶))`, then `ùí¶` is a variety iff `V ùí¶  ‚äÜ ùí¶`.
(The converse inclusion holds by virtue of the fact that `V` is a composition of closure operators.)
The class `V ùí¶` is called the *varietal closure* of `ùí¶`. Here is how we define `V` in type theory.
(The explicit universe level declarations that appear in the definition are needed for disambiguation.)

<pre class="Agda">

<a id="53350" class="Keyword">module</a> <a id="53357" href="Demos.HSP.html#53357" class="Module">_</a>  <a id="53360" class="Symbol">{</a><a id="53361" href="Demos.HSP.html#53361" class="Bound">Œ±</a> <a id="53363" href="Demos.HSP.html#53363" class="Bound">œÅ·µÉ</a> <a id="53366" href="Demos.HSP.html#53366" class="Bound">Œ≤</a> <a id="53368" href="Demos.HSP.html#53368" class="Bound">œÅ·µá</a> <a id="53371" href="Demos.HSP.html#53371" class="Bound">Œ≥</a> <a id="53373" href="Demos.HSP.html#53373" class="Bound">œÅ·∂ú</a> <a id="53376" href="Demos.HSP.html#53376" class="Bound">Œ¥</a> <a id="53378" href="Demos.HSP.html#53378" class="Bound">œÅ·µà</a> <a id="53381" class="Symbol">:</a> <a id="53383" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="53388" class="Symbol">}</a> <a id="53390" class="Keyword">where</a>
 <a id="53397" class="Keyword">private</a> <a id="53405" href="Demos.HSP.html#53405" class="Function">a</a> <a id="53407" class="Symbol">=</a> <a id="53409" href="Demos.HSP.html#53361" class="Bound">Œ±</a> <a id="53411" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="53413" href="Demos.HSP.html#53363" class="Bound">œÅ·µÉ</a> <a id="53416" class="Symbol">;</a> <a id="53418" href="Demos.HSP.html#53418" class="Function">b</a> <a id="53420" class="Symbol">=</a> <a id="53422" href="Demos.HSP.html#53366" class="Bound">Œ≤</a> <a id="53424" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="53426" href="Demos.HSP.html#53368" class="Bound">œÅ·µá</a>
 <a id="53430" href="Demos.HSP.html#53430" class="Function">V</a> <a id="53432" class="Symbol">:</a> <a id="53434" class="Symbol">‚àÄ</a> <a id="53436" href="Demos.HSP.html#53436" class="Bound">‚Ñì</a> <a id="53438" href="Demos.HSP.html#53438" class="Bound">Œπ</a> <a id="53440" class="Symbol">‚Üí</a> <a id="53442" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="53446" class="Symbol">(</a><a id="53447" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="53455" href="Demos.HSP.html#53361" class="Bound">Œ±</a> <a id="53457" href="Demos.HSP.html#53363" class="Bound">œÅ·µÉ</a><a id="53459" class="Symbol">)</a> <a id="53461" class="Symbol">(</a><a id="53462" href="Demos.HSP.html#53405" class="Function">a</a> <a id="53464" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="53466" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="53469" href="Demos.HSP.html#53436" class="Bound">‚Ñì</a><a id="53470" class="Symbol">)</a> <a id="53472" class="Symbol">‚Üí</a>  <a id="53475" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="53479" class="Symbol">(</a><a id="53480" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="53488" href="Demos.HSP.html#53376" class="Bound">Œ¥</a> <a id="53490" href="Demos.HSP.html#53378" class="Bound">œÅ·µà</a><a id="53492" class="Symbol">)</a> <a id="53494" class="Symbol">_</a>
 <a id="53497" href="Demos.HSP.html#53430" class="Function">V</a> <a id="53499" href="Demos.HSP.html#53499" class="Bound">‚Ñì</a> <a id="53501" href="Demos.HSP.html#53501" class="Bound">Œπ</a> <a id="53503" href="Demos.HSP.html#53503" class="Bound">ùí¶</a> <a id="53505" class="Symbol">=</a> <a id="53507" href="Demos.HSP.html#50124" class="Function">H</a><a id="53508" class="Symbol">{</a><a id="53509" href="Demos.HSP.html#53371" class="Bound">Œ≥</a><a id="53510" class="Symbol">}{</a><a id="53512" href="Demos.HSP.html#53373" class="Bound">œÅ·∂ú</a><a id="53514" class="Symbol">}{</a><a id="53516" href="Demos.HSP.html#53376" class="Bound">Œ¥</a><a id="53517" class="Symbol">}{</a><a id="53519" href="Demos.HSP.html#53378" class="Bound">œÅ·µà</a><a id="53521" class="Symbol">}</a> <a id="53523" class="Symbol">(</a><a id="53524" href="Demos.HSP.html#53405" class="Function">a</a> <a id="53526" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="53528" href="Demos.HSP.html#53418" class="Function">b</a> <a id="53530" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="53532" href="Demos.HSP.html#53499" class="Bound">‚Ñì</a> <a id="53534" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="53536" href="Demos.HSP.html#53501" class="Bound">Œπ</a><a id="53537" class="Symbol">)</a> <a id="53539" class="Symbol">(</a><a id="53540" href="Demos.HSP.html#50247" class="Function">S</a><a id="53541" class="Symbol">{</a><a id="53542" href="Demos.HSP.html#53366" class="Bound">Œ≤</a><a id="53543" class="Symbol">}{</a><a id="53545" href="Demos.HSP.html#53368" class="Bound">œÅ·µá</a><a id="53547" class="Symbol">}</a> <a id="53549" class="Symbol">(</a><a id="53550" href="Demos.HSP.html#53405" class="Function">a</a> <a id="53552" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="53554" href="Demos.HSP.html#53499" class="Bound">‚Ñì</a> <a id="53556" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="53558" href="Demos.HSP.html#53501" class="Bound">Œπ</a><a id="53559" class="Symbol">)</a> <a id="53561" class="Symbol">(</a><a id="53562" href="Demos.HSP.html#50359" class="Function">P</a> <a id="53564" href="Demos.HSP.html#53499" class="Bound">‚Ñì</a> <a id="53566" href="Demos.HSP.html#53501" class="Bound">Œπ</a> <a id="53568" href="Demos.HSP.html#53503" class="Bound">ùí¶</a><a id="53569" class="Symbol">))</a>

</pre>

The classes `H ùí¶`, `S ùí¶`, `P ùí¶`, and `V ùí¶` all satisfy the
same term identities.  We will only use a subset of the inclusions needed to prove this
assertion. (The others are included in the `Setoid.Varieties.Preservation` module of the [agda-algebras][] library.) First, the closure operator `H` preserves the identities modeled by the given class; this follows almost immediately from the invariance lemma `‚äß-H-invar`.

<pre class="Agda">

<a id="54020" class="Keyword">module</a> <a id="54027" href="Demos.HSP.html#54027" class="Module">_</a>  <a id="54030" class="Symbol">{</a><a id="54031" href="Demos.HSP.html#54031" class="Bound">X</a> <a id="54033" class="Symbol">:</a> <a id="54035" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="54040" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="54041" class="Symbol">}{</a><a id="54043" href="Demos.HSP.html#54043" class="Bound">ùí¶</a> <a id="54045" class="Symbol">:</a> <a id="54047" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="54051" class="Symbol">(</a><a id="54052" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="54060" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="54062" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="54064" class="Symbol">)</a> <a id="54066" class="Symbol">(</a><a id="54067" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="54069" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="54071" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="54074" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="54076" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="54079" href="Demos.HSP.html#7175" class="Generalizable">‚Ñì</a><a id="54080" class="Symbol">)}{</a><a id="54083" href="Demos.HSP.html#54083" class="Bound">p</a> <a id="54085" href="Demos.HSP.html#54085" class="Bound">q</a> <a id="54087" class="Symbol">:</a> <a id="54089" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="54094" href="Demos.HSP.html#54031" class="Bound">X</a><a id="54095" class="Symbol">}</a> <a id="54097" class="Keyword">where</a>
 <a id="54104" href="Demos.HSP.html#54104" class="Function">H-id1</a> <a id="54110" class="Symbol">:</a> <a id="54112" href="Demos.HSP.html#54043" class="Bound">ùí¶</a> <a id="54114" href="Demos.HSP.html#46907" class="Function Operator">‚ä´</a> <a id="54116" href="Demos.HSP.html#54083" class="Bound">p</a> <a id="54118" href="Demos.HSP.html#46907" class="Function Operator">‚âà</a> <a id="54120" href="Demos.HSP.html#54085" class="Bound">q</a> <a id="54122" class="Symbol">‚Üí</a> <a id="54124" href="Demos.HSP.html#50124" class="Function">H</a><a id="54125" class="Symbol">{</a><a id="54126" class="Argument">Œ≤</a> <a id="54128" class="Symbol">=</a> <a id="54130" href="Demos.HSP.html#54060" class="Bound">Œ±</a><a id="54131" class="Symbol">}{</a><a id="54133" href="Demos.HSP.html#54062" class="Bound">œÅ·µÉ</a><a id="54135" class="Symbol">}</a><a id="54136" href="Demos.HSP.html#54079" class="Bound">‚Ñì</a> <a id="54138" href="Demos.HSP.html#54043" class="Bound">ùí¶</a> <a id="54140" href="Demos.HSP.html#46907" class="Function Operator">‚ä´</a> <a id="54142" href="Demos.HSP.html#54083" class="Bound">p</a> <a id="54144" href="Demos.HSP.html#46907" class="Function Operator">‚âà</a> <a id="54146" href="Demos.HSP.html#54085" class="Bound">q</a>
 <a id="54149" href="Demos.HSP.html#54104" class="Function">H-id1</a> <a id="54155" href="Demos.HSP.html#54155" class="Bound">œÉ</a> <a id="54157" href="Demos.HSP.html#54157" class="Bound">ùë©</a> <a id="54159" class="Symbol">(</a><a id="54160" href="Demos.HSP.html#54160" class="Bound">ùë®</a> <a id="54162" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="54164" href="Demos.HSP.html#54164" class="Bound">kA</a> <a id="54167" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="54169" href="Demos.HSP.html#54169" class="Bound">BimgA</a><a id="54174" class="Symbol">)</a> <a id="54176" class="Symbol">=</a> <a id="54178" href="Demos.HSP.html#50788" class="Function">‚äß-H-invar</a><a id="54187" class="Symbol">{</a><a id="54188" class="Argument">p</a> <a id="54190" class="Symbol">=</a> <a id="54192" href="Demos.HSP.html#54083" class="Bound">p</a><a id="54193" class="Symbol">}{</a><a id="54195" href="Demos.HSP.html#54085" class="Bound">q</a><a id="54196" class="Symbol">}</a> <a id="54198" class="Symbol">(</a><a id="54199" href="Demos.HSP.html#54155" class="Bound">œÉ</a> <a id="54201" href="Demos.HSP.html#54160" class="Bound">ùë®</a> <a id="54203" href="Demos.HSP.html#54164" class="Bound">kA</a><a id="54205" class="Symbol">)</a> <a id="54207" href="Demos.HSP.html#54169" class="Bound">BimgA</a>

</pre>
The analogous preservation result for `S` is a consequence of the invariance lemma `‚äß-S-invar`; the converse, which we call `S-id2`, has an equally straightforward proof.

<pre class="Agda">

 <a id="54412" href="Demos.HSP.html#54412" class="Function">S-id1</a> <a id="54418" class="Symbol">:</a> <a id="54420" href="Demos.HSP.html#54043" class="Bound">ùí¶</a> <a id="54422" href="Demos.HSP.html#46907" class="Function Operator">‚ä´</a> <a id="54424" href="Demos.HSP.html#54083" class="Bound">p</a> <a id="54426" href="Demos.HSP.html#46907" class="Function Operator">‚âà</a> <a id="54428" href="Demos.HSP.html#54085" class="Bound">q</a> <a id="54430" class="Symbol">‚Üí</a> <a id="54432" href="Demos.HSP.html#50247" class="Function">S</a><a id="54433" class="Symbol">{</a><a id="54434" class="Argument">Œ≤</a> <a id="54436" class="Symbol">=</a> <a id="54438" href="Demos.HSP.html#54060" class="Bound">Œ±</a><a id="54439" class="Symbol">}{</a><a id="54441" href="Demos.HSP.html#54062" class="Bound">œÅ·µÉ</a><a id="54443" class="Symbol">}</a><a id="54444" href="Demos.HSP.html#54079" class="Bound">‚Ñì</a> <a id="54446" href="Demos.HSP.html#54043" class="Bound">ùí¶</a> <a id="54448" href="Demos.HSP.html#46907" class="Function Operator">‚ä´</a> <a id="54450" href="Demos.HSP.html#54083" class="Bound">p</a> <a id="54452" href="Demos.HSP.html#46907" class="Function Operator">‚âà</a> <a id="54454" href="Demos.HSP.html#54085" class="Bound">q</a>
 <a id="54457" href="Demos.HSP.html#54412" class="Function">S-id1</a> <a id="54463" href="Demos.HSP.html#54463" class="Bound">œÉ</a> <a id="54465" href="Demos.HSP.html#54465" class="Bound">ùë©</a> <a id="54467" class="Symbol">(</a><a id="54468" href="Demos.HSP.html#54468" class="Bound">ùë®</a> <a id="54470" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="54472" href="Demos.HSP.html#54472" class="Bound">kA</a> <a id="54475" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="54477" href="Demos.HSP.html#54477" class="Bound">B‚â§A</a><a id="54480" class="Symbol">)</a> <a id="54482" class="Symbol">=</a> <a id="54484" href="Demos.HSP.html#51534" class="Function">‚äß-S-invar</a><a id="54493" class="Symbol">{</a><a id="54494" class="Argument">p</a> <a id="54496" class="Symbol">=</a> <a id="54498" href="Demos.HSP.html#54083" class="Bound">p</a><a id="54499" class="Symbol">}{</a><a id="54501" href="Demos.HSP.html#54085" class="Bound">q</a><a id="54502" class="Symbol">}</a> <a id="54504" class="Symbol">(</a><a id="54505" href="Demos.HSP.html#54463" class="Bound">œÉ</a> <a id="54507" href="Demos.HSP.html#54468" class="Bound">ùë®</a> <a id="54509" href="Demos.HSP.html#54472" class="Bound">kA</a><a id="54511" class="Symbol">)</a> <a id="54513" href="Demos.HSP.html#54477" class="Bound">B‚â§A</a>

 <a id="54519" href="Demos.HSP.html#54519" class="Function">S-id2</a> <a id="54525" class="Symbol">:</a> <a id="54527" href="Demos.HSP.html#50247" class="Function">S</a> <a id="54529" href="Demos.HSP.html#54079" class="Bound">‚Ñì</a> <a id="54531" href="Demos.HSP.html#54043" class="Bound">ùí¶</a> <a id="54533" href="Demos.HSP.html#46907" class="Function Operator">‚ä´</a> <a id="54535" href="Demos.HSP.html#54083" class="Bound">p</a> <a id="54537" href="Demos.HSP.html#46907" class="Function Operator">‚âà</a> <a id="54539" href="Demos.HSP.html#54085" class="Bound">q</a> <a id="54541" class="Symbol">‚Üí</a> <a id="54543" href="Demos.HSP.html#54043" class="Bound">ùí¶</a> <a id="54545" href="Demos.HSP.html#46907" class="Function Operator">‚ä´</a> <a id="54547" href="Demos.HSP.html#54083" class="Bound">p</a> <a id="54549" href="Demos.HSP.html#46907" class="Function Operator">‚âà</a> <a id="54551" href="Demos.HSP.html#54085" class="Bound">q</a>
 <a id="54554" href="Demos.HSP.html#54519" class="Function">S-id2</a> <a id="54560" href="Demos.HSP.html#54560" class="Bound">Spq</a> <a id="54564" href="Demos.HSP.html#54564" class="Bound">ùë®</a> <a id="54566" href="Demos.HSP.html#54566" class="Bound">kA</a> <a id="54569" class="Symbol">=</a> <a id="54571" href="Demos.HSP.html#54560" class="Bound">Spq</a> <a id="54575" href="Demos.HSP.html#54564" class="Bound">ùë®</a> <a id="54577" class="Symbol">(</a><a id="54578" href="Demos.HSP.html#54564" class="Bound">ùë®</a> <a id="54580" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="54582" class="Symbol">(</a><a id="54583" href="Demos.HSP.html#54566" class="Bound">kA</a> <a id="54586" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="54588" href="Demos.HSP.html#38266" class="Function">‚â§-reflexive</a><a id="54599" class="Symbol">))</a>

</pre>
The [agda-algebras][] library includes analogous pairs of implications for `P`, `H`, and `V`, called `P-id1`, `P-id2`, `H-id1`, etc. Here we only need the first implication in each case, so we omit the others.

<pre class="Agda">

 <a id="54840" href="Demos.HSP.html#54840" class="Function">P-id1</a> <a id="54846" class="Symbol">:</a> <a id="54848" class="Symbol">‚àÄ{</a><a id="54850" href="Demos.HSP.html#54850" class="Bound">Œπ</a><a id="54851" class="Symbol">}</a> <a id="54853" class="Symbol">‚Üí</a> <a id="54855" href="Demos.HSP.html#54043" class="Bound">ùí¶</a> <a id="54857" href="Demos.HSP.html#46907" class="Function Operator">‚ä´</a> <a id="54859" href="Demos.HSP.html#54083" class="Bound">p</a> <a id="54861" href="Demos.HSP.html#46907" class="Function Operator">‚âà</a> <a id="54863" href="Demos.HSP.html#54085" class="Bound">q</a> <a id="54865" class="Symbol">‚Üí</a> <a id="54867" href="Demos.HSP.html#50359" class="Function">P</a><a id="54868" class="Symbol">{</a><a id="54869" class="Argument">Œ≤</a> <a id="54871" class="Symbol">=</a> <a id="54873" href="Demos.HSP.html#54060" class="Bound">Œ±</a><a id="54874" class="Symbol">}{</a><a id="54876" href="Demos.HSP.html#54062" class="Bound">œÅ·µÉ</a><a id="54878" class="Symbol">}</a><a id="54879" href="Demos.HSP.html#54079" class="Bound">‚Ñì</a> <a id="54881" href="Demos.HSP.html#54850" class="Bound">Œπ</a> <a id="54883" href="Demos.HSP.html#54043" class="Bound">ùí¶</a> <a id="54885" href="Demos.HSP.html#46907" class="Function Operator">‚ä´</a> <a id="54887" href="Demos.HSP.html#54083" class="Bound">p</a> <a id="54889" href="Demos.HSP.html#46907" class="Function Operator">‚âà</a> <a id="54891" href="Demos.HSP.html#54085" class="Bound">q</a>
 <a id="54894" href="Demos.HSP.html#54840" class="Function">P-id1</a> <a id="54900" href="Demos.HSP.html#54900" class="Bound">œÉ</a> <a id="54902" href="Demos.HSP.html#54902" class="Bound">ùë®</a> <a id="54904" class="Symbol">(</a><a id="54905" href="Demos.HSP.html#54905" class="Bound">I</a> <a id="54907" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="54909" href="Demos.HSP.html#54909" class="Bound">ùíú</a> <a id="54911" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="54913" href="Demos.HSP.html#54913" class="Bound">kA</a> <a id="54916" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="54918" href="Demos.HSP.html#54918" class="Bound">A‚âÖ‚®ÖA</a><a id="54922" class="Symbol">)</a> <a id="54924" class="Symbol">=</a> <a id="54926" href="Demos.HSP.html#47889" class="Function">‚äß-I-invar</a> <a id="54936" href="Demos.HSP.html#54902" class="Bound">ùë®</a> <a id="54938" href="Demos.HSP.html#54083" class="Bound">p</a> <a id="54940" href="Demos.HSP.html#54085" class="Bound">q</a> <a id="54942" href="Demos.HSP.html#54966" class="Function">IH</a> <a id="54945" class="Symbol">(</a><a id="54946" href="Demos.HSP.html#34033" class="Function">‚âÖ-sym</a> <a id="54952" href="Demos.HSP.html#54918" class="Bound">A‚âÖ‚®ÖA</a><a id="54956" class="Symbol">)</a> <a id="54958" class="Keyword">where</a>
  <a id="54966" href="Demos.HSP.html#54966" class="Function">IH</a> <a id="54969" class="Symbol">:</a> <a id="54971" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="54973" href="Demos.HSP.html#54909" class="Bound">ùíú</a> <a id="54975" href="Demos.HSP.html#46809" class="Function Operator">‚äß</a> <a id="54977" href="Demos.HSP.html#54083" class="Bound">p</a> <a id="54979" href="Demos.HSP.html#46809" class="Function Operator">‚âà</a> <a id="54981" href="Demos.HSP.html#54085" class="Bound">q</a>
  <a id="54985" href="Demos.HSP.html#54966" class="Function">IH</a> <a id="54988" class="Symbol">=</a> <a id="54990" href="Demos.HSP.html#52271" class="Function">‚äß-P-invar</a> <a id="55000" href="Demos.HSP.html#54909" class="Bound">ùíú</a> <a id="55002" class="Symbol">{</a><a id="55003" href="Demos.HSP.html#54083" class="Bound">p</a><a id="55004" class="Symbol">}{</a><a id="55006" href="Demos.HSP.html#54085" class="Bound">q</a><a id="55007" class="Symbol">}</a> <a id="55009" class="Symbol">Œª</a> <a id="55011" href="Demos.HSP.html#55011" class="Bound">i</a> <a id="55013" class="Symbol">‚Üí</a> <a id="55015" href="Demos.HSP.html#54900" class="Bound">œÉ</a> <a id="55017" class="Symbol">(</a><a id="55018" href="Demos.HSP.html#54909" class="Bound">ùíú</a> <a id="55020" href="Demos.HSP.html#55011" class="Bound">i</a><a id="55021" class="Symbol">)</a> <a id="55023" class="Symbol">(</a><a id="55024" href="Demos.HSP.html#54913" class="Bound">kA</a> <a id="55027" href="Demos.HSP.html#55011" class="Bound">i</a><a id="55028" class="Symbol">)</a>

<a id="55031" class="Keyword">module</a> <a id="55038" href="Demos.HSP.html#55038" class="Module">_</a> <a id="55040" class="Symbol">{</a><a id="55041" href="Demos.HSP.html#55041" class="Bound">X</a> <a id="55043" class="Symbol">:</a> <a id="55045" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="55050" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="55051" class="Symbol">}{</a><a id="55053" href="Demos.HSP.html#55053" class="Bound">Œπ</a> <a id="55055" class="Symbol">:</a> <a id="55057" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="55062" class="Symbol">}(</a><a id="55064" href="Demos.HSP.html#55064" class="Bound">‚Ñì</a> <a id="55066" class="Symbol">:</a> <a id="55068" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="55073" class="Symbol">){</a><a id="55075" href="Demos.HSP.html#55075" class="Bound">ùí¶</a> <a id="55077" class="Symbol">:</a> <a id="55079" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="55083" class="Symbol">(</a><a id="55084" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="55092" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="55094" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="55096" class="Symbol">)(</a><a id="55098" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="55100" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="55102" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="55105" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="55107" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="55110" href="Demos.HSP.html#55064" class="Bound">‚Ñì</a><a id="55111" class="Symbol">)}{</a><a id="55114" href="Demos.HSP.html#55114" class="Bound">p</a> <a id="55116" href="Demos.HSP.html#55116" class="Bound">q</a> <a id="55118" class="Symbol">:</a> <a id="55120" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="55125" href="Demos.HSP.html#55041" class="Bound">X</a><a id="55126" class="Symbol">}</a> <a id="55128" class="Keyword">where</a>
 <a id="55135" class="Keyword">private</a> <a id="55143" href="Demos.HSP.html#55143" class="Function">a‚ÑìŒπ</a> <a id="55147" class="Symbol">=</a> <a id="55149" href="Demos.HSP.html#55092" class="Bound">Œ±</a> <a id="55151" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="55153" href="Demos.HSP.html#55094" class="Bound">œÅ·µÉ</a> <a id="55156" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="55158" href="Demos.HSP.html#55064" class="Bound">‚Ñì</a> <a id="55160" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="55162" href="Demos.HSP.html#55053" class="Bound">Œπ</a>
 <a id="55165" href="Demos.HSP.html#55165" class="Function">V-id1</a> <a id="55171" class="Symbol">:</a> <a id="55173" href="Demos.HSP.html#55075" class="Bound">ùí¶</a> <a id="55175" href="Demos.HSP.html#46907" class="Function Operator">‚ä´</a> <a id="55177" href="Demos.HSP.html#55114" class="Bound">p</a> <a id="55179" href="Demos.HSP.html#46907" class="Function Operator">‚âà</a> <a id="55181" href="Demos.HSP.html#55116" class="Bound">q</a> <a id="55183" class="Symbol">‚Üí</a> <a id="55185" href="Demos.HSP.html#53430" class="Function">V</a> <a id="55187" href="Demos.HSP.html#55064" class="Bound">‚Ñì</a> <a id="55189" href="Demos.HSP.html#55053" class="Bound">Œπ</a> <a id="55191" href="Demos.HSP.html#55075" class="Bound">ùí¶</a> <a id="55193" href="Demos.HSP.html#46907" class="Function Operator">‚ä´</a> <a id="55195" href="Demos.HSP.html#55114" class="Bound">p</a> <a id="55197" href="Demos.HSP.html#46907" class="Function Operator">‚âà</a> <a id="55199" href="Demos.HSP.html#55116" class="Bound">q</a>
 <a id="55202" href="Demos.HSP.html#55165" class="Function">V-id1</a> <a id="55208" href="Demos.HSP.html#55208" class="Bound">œÉ</a> <a id="55210" href="Demos.HSP.html#55210" class="Bound">ùë©</a> <a id="55212" class="Symbol">(</a><a id="55213" href="Demos.HSP.html#55213" class="Bound">ùë®</a> <a id="55215" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="55217" class="Symbol">(</a><a id="55218" href="Demos.HSP.html#55218" class="Bound">‚®ÖA</a> <a id="55221" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="55223" href="Demos.HSP.html#55223" class="Bound">p‚®ÖA</a> <a id="55227" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="55229" href="Demos.HSP.html#55229" class="Bound">A‚â§‚®ÖA</a><a id="55233" class="Symbol">)</a> <a id="55235" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="55237" href="Demos.HSP.html#55237" class="Bound">BimgA</a><a id="55242" class="Symbol">)</a> <a id="55244" class="Symbol">=</a>
  <a id="55248" href="Demos.HSP.html#54104" class="Function">H-id1</a><a id="55253" class="Symbol">{</a><a id="55254" class="Argument">‚Ñì</a> <a id="55256" class="Symbol">=</a> <a id="55258" href="Demos.HSP.html#55143" class="Function">a‚ÑìŒπ</a><a id="55261" class="Symbol">}{</a><a id="55263" class="Argument">ùí¶</a> <a id="55265" class="Symbol">=</a> <a id="55267" href="Demos.HSP.html#50247" class="Function">S</a> <a id="55269" href="Demos.HSP.html#55143" class="Function">a‚ÑìŒπ</a> <a id="55273" class="Symbol">(</a><a id="55274" href="Demos.HSP.html#50359" class="Function">P</a> <a id="55276" class="Symbol">{</a><a id="55277" class="Argument">Œ≤</a> <a id="55279" class="Symbol">=</a> <a id="55281" href="Demos.HSP.html#55092" class="Bound">Œ±</a><a id="55282" class="Symbol">}{</a><a id="55284" href="Demos.HSP.html#55094" class="Bound">œÅ·µÉ</a><a id="55286" class="Symbol">}</a><a id="55287" href="Demos.HSP.html#55064" class="Bound">‚Ñì</a> <a id="55289" href="Demos.HSP.html#55053" class="Bound">Œπ</a> <a id="55291" href="Demos.HSP.html#55075" class="Bound">ùí¶</a><a id="55292" class="Symbol">)}{</a><a id="55295" class="Argument">p</a> <a id="55297" class="Symbol">=</a> <a id="55299" href="Demos.HSP.html#55114" class="Bound">p</a><a id="55300" class="Symbol">}{</a><a id="55302" href="Demos.HSP.html#55116" class="Bound">q</a><a id="55303" class="Symbol">}</a> <a id="55305" href="Demos.HSP.html#55410" class="Function">spK‚äßpq</a> <a id="55312" href="Demos.HSP.html#55210" class="Bound">ùë©</a> <a id="55314" class="Symbol">(</a><a id="55315" href="Demos.HSP.html#55213" class="Bound">ùë®</a> <a id="55317" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="55319" class="Symbol">(</a><a id="55320" href="Demos.HSP.html#55343" class="Function">spA</a> <a id="55324" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="55326" href="Demos.HSP.html#55237" class="Bound">BimgA</a><a id="55331" class="Symbol">))</a> <a id="55334" class="Keyword">where</a>
   <a id="55343" href="Demos.HSP.html#55343" class="Function">spA</a> <a id="55347" class="Symbol">:</a> <a id="55349" href="Demos.HSP.html#55213" class="Bound">ùë®</a> <a id="55351" href="Relation.Unary.html#1818" class="Function Operator">‚àà</a> <a id="55353" href="Demos.HSP.html#50247" class="Function">S</a> <a id="55355" href="Demos.HSP.html#55143" class="Function">a‚ÑìŒπ</a> <a id="55359" class="Symbol">(</a><a id="55360" href="Demos.HSP.html#50359" class="Function">P</a> <a id="55362" class="Symbol">{</a><a id="55363" class="Argument">Œ≤</a> <a id="55365" class="Symbol">=</a> <a id="55367" href="Demos.HSP.html#55092" class="Bound">Œ±</a><a id="55368" class="Symbol">}{</a><a id="55370" href="Demos.HSP.html#55094" class="Bound">œÅ·µÉ</a><a id="55372" class="Symbol">}</a><a id="55373" href="Demos.HSP.html#55064" class="Bound">‚Ñì</a> <a id="55375" href="Demos.HSP.html#55053" class="Bound">Œπ</a> <a id="55377" href="Demos.HSP.html#55075" class="Bound">ùí¶</a><a id="55378" class="Symbol">)</a>
   <a id="55383" href="Demos.HSP.html#55343" class="Function">spA</a> <a id="55387" class="Symbol">=</a> <a id="55389" href="Demos.HSP.html#55218" class="Bound">‚®ÖA</a> <a id="55392" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="55394" class="Symbol">(</a><a id="55395" href="Demos.HSP.html#55223" class="Bound">p‚®ÖA</a> <a id="55399" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="55401" href="Demos.HSP.html#55229" class="Bound">A‚â§‚®ÖA</a><a id="55405" class="Symbol">)</a>
   <a id="55410" href="Demos.HSP.html#55410" class="Function">spK‚äßpq</a> <a id="55417" class="Symbol">:</a> <a id="55419" href="Demos.HSP.html#50247" class="Function">S</a> <a id="55421" href="Demos.HSP.html#55143" class="Function">a‚ÑìŒπ</a> <a id="55425" class="Symbol">(</a><a id="55426" href="Demos.HSP.html#50359" class="Function">P</a> <a id="55428" href="Demos.HSP.html#55064" class="Bound">‚Ñì</a> <a id="55430" href="Demos.HSP.html#55053" class="Bound">Œπ</a> <a id="55432" href="Demos.HSP.html#55075" class="Bound">ùí¶</a><a id="55433" class="Symbol">)</a> <a id="55435" href="Demos.HSP.html#46907" class="Function Operator">‚ä´</a> <a id="55437" href="Demos.HSP.html#55114" class="Bound">p</a> <a id="55439" href="Demos.HSP.html#46907" class="Function Operator">‚âà</a> <a id="55441" href="Demos.HSP.html#55116" class="Bound">q</a>
   <a id="55446" href="Demos.HSP.html#55410" class="Function">spK‚äßpq</a> <a id="55453" class="Symbol">=</a> <a id="55455" href="Demos.HSP.html#54412" class="Function">S-id1</a><a id="55460" class="Symbol">{</a><a id="55461" class="Argument">‚Ñì</a> <a id="55463" class="Symbol">=</a> <a id="55465" href="Demos.HSP.html#55143" class="Function">a‚ÑìŒπ</a><a id="55468" class="Symbol">}{</a><a id="55470" class="Argument">p</a> <a id="55472" class="Symbol">=</a> <a id="55474" href="Demos.HSP.html#55114" class="Bound">p</a><a id="55475" class="Symbol">}{</a><a id="55477" href="Demos.HSP.html#55116" class="Bound">q</a><a id="55478" class="Symbol">}</a> <a id="55480" class="Symbol">(</a><a id="55481" href="Demos.HSP.html#54840" class="Function">P-id1</a><a id="55486" class="Symbol">{</a><a id="55487" class="Argument">‚Ñì</a> <a id="55489" class="Symbol">=</a> <a id="55491" href="Demos.HSP.html#55064" class="Bound">‚Ñì</a><a id="55492" class="Symbol">}</a> <a id="55494" class="Symbol">{</a><a id="55495" class="Argument">ùí¶</a> <a id="55497" class="Symbol">=</a> <a id="55499" href="Demos.HSP.html#55075" class="Bound">ùí¶</a><a id="55500" class="Symbol">}{</a><a id="55502" class="Argument">p</a> <a id="55504" class="Symbol">=</a> <a id="55506" href="Demos.HSP.html#55114" class="Bound">p</a><a id="55507" class="Symbol">}{</a><a id="55509" href="Demos.HSP.html#55116" class="Bound">q</a><a id="55510" class="Symbol">}</a> <a id="55512" href="Demos.HSP.html#55208" class="Bound">œÉ</a><a id="55513" class="Symbol">)</a>
</pre>


### <a id="free-algebras">Free Algebras</a>

#### <a id="the-absolutely-free-algebra">The absolutely free algebra</a>
 <!-- {#the-absolutely-free-algebra .unnumbered} -->

The term algebra `ùëª X` is the *absolutely free* `ùëÜ`-algebra over `X`.
That is, for every `ùëÜ`-algebra `ùë®`, the following hold.
* Every function from `X` to `ùïå[ ùë® ]` lifts to a homomorphism from `ùëª X` to `ùë®`.
* That homomorphism is unique.
Here we formalize the first of these properties by defining the lifting function `free-lift`
and its setoid analog `free-lift-func`, and then proving the latter is a homomorphism.
(For the proof of uniqueness, see the `Setoid.Terms.Properties` module of the [agda-algebras][] library.)

<pre class="Agda">

<a id="56239" class="Keyword">module</a> <a id="56246" href="Demos.HSP.html#56246" class="Module">_</a> <a id="56248" class="Symbol">{</a><a id="56249" href="Demos.HSP.html#56249" class="Bound">X</a> <a id="56251" class="Symbol">:</a> <a id="56253" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="56258" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="56259" class="Symbol">}{</a><a id="56261" href="Demos.HSP.html#56261" class="Bound">ùë®</a> <a id="56263" class="Symbol">:</a> <a id="56265" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="56273" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="56275" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="56277" class="Symbol">}(</a><a id="56279" href="Demos.HSP.html#56279" class="Bound">h</a> <a id="56281" class="Symbol">:</a> <a id="56283" href="Demos.HSP.html#56249" class="Bound">X</a> <a id="56285" class="Symbol">‚Üí</a> <a id="56287" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="56290" href="Demos.HSP.html#56261" class="Bound">ùë®</a> <a id="56292" href="Demos.HSP.html#19227" class="Function Operator">]</a><a id="56293" class="Symbol">)</a> <a id="56295" class="Keyword">where</a>
 <a id="56302" href="Demos.HSP.html#56302" class="Function">free-lift</a> <a id="56312" class="Symbol">:</a> <a id="56314" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="56317" href="Demos.HSP.html#41728" class="Function">ùëª</a> <a id="56319" href="Demos.HSP.html#56249" class="Bound">X</a> <a id="56321" href="Demos.HSP.html#19227" class="Function Operator">]</a> <a id="56323" class="Symbol">‚Üí</a> <a id="56325" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="56328" href="Demos.HSP.html#56261" class="Bound">ùë®</a> <a id="56330" href="Demos.HSP.html#19227" class="Function Operator">]</a>
 <a id="56333" href="Demos.HSP.html#56302" class="Function">free-lift</a> <a id="56343" class="Symbol">(</a><a id="56344" href="Demos.HSP.html#40100" class="InductiveConstructor">‚Ñä</a> <a id="56346" href="Demos.HSP.html#56346" class="Bound">x</a><a id="56347" class="Symbol">)</a>       <a id="56355" class="Symbol">=</a> <a id="56357" href="Demos.HSP.html#56279" class="Bound">h</a> <a id="56359" href="Demos.HSP.html#56346" class="Bound">x</a>
 <a id="56362" href="Demos.HSP.html#56302" class="Function">free-lift</a> <a id="56372" class="Symbol">(</a><a id="56373" href="Demos.HSP.html#40116" class="InductiveConstructor">node</a> <a id="56378" href="Demos.HSP.html#56378" class="Bound">f</a> <a id="56380" href="Demos.HSP.html#56380" class="Bound">t</a><a id="56381" class="Symbol">)</a>  <a id="56384" class="Symbol">=</a> <a id="56386" class="Symbol">(</a><a id="56387" href="Demos.HSP.html#56378" class="Bound">f</a> <a id="56389" href="Demos.HSP.html#19286" class="Function Operator">ÃÇ</a> <a id="56391" href="Demos.HSP.html#56261" class="Bound">ùë®</a><a id="56392" class="Symbol">)</a> <a id="56394" class="Symbol">Œª</a> <a id="56396" href="Demos.HSP.html#56396" class="Bound">i</a> <a id="56398" class="Symbol">‚Üí</a> <a id="56400" href="Demos.HSP.html#56302" class="Function">free-lift</a> <a id="56410" class="Symbol">(</a><a id="56411" href="Demos.HSP.html#56380" class="Bound">t</a> <a id="56413" href="Demos.HSP.html#56396" class="Bound">i</a><a id="56414" class="Symbol">)</a>

 <a id="56418" href="Demos.HSP.html#56418" class="Function">free-lift-func</a> <a id="56433" class="Symbol">:</a> <a id="56435" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="56438" href="Demos.HSP.html#41728" class="Function">ùëª</a> <a id="56440" href="Demos.HSP.html#56249" class="Bound">X</a> <a id="56442" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="56444" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="56446" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="56449" href="Demos.HSP.html#56261" class="Bound">ùë®</a> <a id="56451" href="Demos.HSP.html#19173" class="Function Operator">]</a>
 <a id="56454" href="Demos.HSP.html#56418" class="Function">free-lift-func</a> <a id="56469" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="56473" href="Demos.HSP.html#56473" class="Bound">x</a> <a id="56475" class="Symbol">=</a> <a id="56477" href="Demos.HSP.html#56302" class="Function">free-lift</a> <a id="56487" href="Demos.HSP.html#56473" class="Bound">x</a>
 <a id="56490" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="56495" href="Demos.HSP.html#56418" class="Function">free-lift-func</a> <a id="56510" class="Symbol">=</a> <a id="56512" href="Demos.HSP.html#56599" class="Function">flcong</a> <a id="56519" class="Keyword">where</a>
  <a id="56527" class="Keyword">open</a> <a id="56532" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="56539" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="56542" href="Demos.HSP.html#56261" class="Bound">ùë®</a> <a id="56544" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="56546" class="Keyword">using</a> <a id="56552" class="Symbol">(</a> <a id="56554" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="56558" class="Symbol">)</a> <a id="56560" class="Keyword">renaming</a> <a id="56569" class="Symbol">(</a> <a id="56571" href="Relation.Binary.Structures.html#1674" class="Function">reflexive</a> <a id="56581" class="Symbol">to</a> <a id="56584" class="Function">reflexive·¥¨</a> <a id="56595" class="Symbol">)</a>
  <a id="56599" href="Demos.HSP.html#56599" class="Function">flcong</a> <a id="56606" class="Symbol">:</a> <a id="56608" class="Symbol">‚àÄ</a> <a id="56610" class="Symbol">{</a><a id="56611" href="Demos.HSP.html#56611" class="Bound">s</a> <a id="56613" href="Demos.HSP.html#56613" class="Bound">t</a><a id="56614" class="Symbol">}</a> <a id="56616" class="Symbol">‚Üí</a> <a id="56618" href="Demos.HSP.html#56611" class="Bound">s</a> <a id="56620" href="Demos.HSP.html#40526" class="Datatype Operator">‚âÉ</a> <a id="56622" href="Demos.HSP.html#56613" class="Bound">t</a> <a id="56624" class="Symbol">‚Üí</a> <a id="56626" href="Demos.HSP.html#56302" class="Function">free-lift</a> <a id="56636" href="Demos.HSP.html#56611" class="Bound">s</a> <a id="56638" href="Relation.Binary.Bundles.html#1184" class="Function Operator">‚âà</a> <a id="56640" href="Demos.HSP.html#56302" class="Function">free-lift</a> <a id="56650" href="Demos.HSP.html#56613" class="Bound">t</a>
  <a id="56654" href="Demos.HSP.html#56599" class="Function">flcong</a> <a id="56661" class="Symbol">(</a><a id="56662" href="Demos.HSP.html#40570" class="InductiveConstructor">_‚âÉ_.rfl</a> <a id="56670" href="Demos.HSP.html#56670" class="Bound">x</a><a id="56671" class="Symbol">)</a> <a id="56673" class="Symbol">=</a> <a id="56675" href="Demos.HSP.html#56584" class="Function">reflexive·¥¨</a> <a id="56686" class="Symbol">(</a><a id="56687" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">‚â°.cong</a> <a id="56694" href="Demos.HSP.html#56279" class="Bound">h</a> <a id="56696" href="Demos.HSP.html#56670" class="Bound">x</a><a id="56697" class="Symbol">)</a>
  <a id="56701" href="Demos.HSP.html#56599" class="Function">flcong</a> <a id="56708" class="Symbol">(</a><a id="56709" href="Demos.HSP.html#40612" class="InductiveConstructor">_‚âÉ_.gnl</a> <a id="56717" href="Demos.HSP.html#56717" class="Bound">x</a><a id="56718" class="Symbol">)</a> <a id="56720" class="Symbol">=</a> <a id="56722" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="56727" class="Symbol">(</a><a id="56728" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="56735" href="Demos.HSP.html#56261" class="Bound">ùë®</a><a id="56736" class="Symbol">)</a> <a id="56738" class="Symbol">(</a><a id="56739" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="56746" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="56748" class="Symbol">Œª</a> <a id="56750" href="Demos.HSP.html#56750" class="Bound">i</a> <a id="56752" class="Symbol">‚Üí</a> <a id="56754" href="Demos.HSP.html#56599" class="Function">flcong</a> <a id="56761" class="Symbol">(</a><a id="56762" href="Demos.HSP.html#56717" class="Bound">x</a> <a id="56764" href="Demos.HSP.html#56750" class="Bound">i</a><a id="56765" class="Symbol">))</a>

 <a id="56770" href="Demos.HSP.html#56770" class="Function">lift-hom</a> <a id="56779" class="Symbol">:</a> <a id="56781" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="56785" class="Symbol">(</a><a id="56786" href="Demos.HSP.html#41728" class="Function">ùëª</a> <a id="56788" href="Demos.HSP.html#56249" class="Bound">X</a><a id="56789" class="Symbol">)</a> <a id="56791" href="Demos.HSP.html#56261" class="Bound">ùë®</a>
 <a id="56794" href="Demos.HSP.html#56770" class="Function">lift-hom</a> <a id="56803" class="Symbol">=</a> <a id="56805" href="Demos.HSP.html#56418" class="Function">free-lift-func</a> <a id="56820" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
   <a id="56825" href="Demos.HSP.html#26633" class="InductiveConstructor">mkhom</a> <a id="56831" class="Symbol">Œª{</a><a id="56833" href="Demos.HSP.html#56833" class="Bound">_</a><a id="56834" class="Symbol">}{</a><a id="56836" href="Demos.HSP.html#56836" class="Bound">a</a><a id="56837" class="Symbol">}</a> <a id="56839" class="Symbol">‚Üí</a> <a id="56841" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="56846" class="Symbol">(</a><a id="56847" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="56854" href="Demos.HSP.html#56261" class="Bound">ùë®</a><a id="56855" class="Symbol">)</a> <a id="56857" class="Symbol">(</a><a id="56858" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="56865" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="56867" class="Symbol">Œª</a> <a id="56869" href="Demos.HSP.html#56869" class="Bound">i</a> <a id="56871" class="Symbol">‚Üí</a> <a id="56873" class="Symbol">(</a><a id="56874" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="56879" href="Demos.HSP.html#56418" class="Function">free-lift-func</a><a id="56893" class="Symbol">){</a><a id="56895" href="Demos.HSP.html#56836" class="Bound">a</a> <a id="56897" href="Demos.HSP.html#56869" class="Bound">i</a><a id="56898" class="Symbol">}</a> <a id="56900" href="Demos.HSP.html#40796" class="Function">‚âÉ-isRefl</a><a id="56908" class="Symbol">)</a>

</pre>

It turns out that the interpretation of a term `p` in an environment `Œ∑` is the same
as the free lift of `Œ∑` evaluated at `p`. We apply this fact a number of times in the sequel.

<pre class="Agda">

<a id="57117" class="Keyword">module</a> <a id="57124" href="Demos.HSP.html#57124" class="Module">_</a>  <a id="57127" class="Symbol">{</a><a id="57128" href="Demos.HSP.html#57128" class="Bound">X</a> <a id="57130" class="Symbol">:</a> <a id="57132" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="57137" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="57138" class="Symbol">}</a> <a id="57140" class="Symbol">{</a><a id="57141" href="Demos.HSP.html#57141" class="Bound">ùë®</a> <a id="57143" class="Symbol">:</a> <a id="57145" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="57153" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="57155" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="57157" class="Symbol">}</a>   <a id="57161" class="Keyword">where</a>
 <a id="57168" class="Keyword">open</a> <a id="57173" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="57180" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="57183" href="Demos.HSP.html#57141" class="Bound">ùë®</a> <a id="57185" href="Demos.HSP.html#19173" class="Function Operator">]</a>  <a id="57188" class="Keyword">using</a> <a id="57194" class="Symbol">(</a> <a id="57196" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="57200" class="Symbol">;</a> <a id="57202" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="57207" class="Symbol">)</a>
 <a id="57210" class="Keyword">open</a> <a id="57215" href="Demos.HSP.html#42463" class="Module">Environment</a> <a id="57227" href="Demos.HSP.html#57141" class="Bound">ùë®</a>  <a id="57230" class="Keyword">using</a> <a id="57236" class="Symbol">(</a> <a id="57238" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶_‚üß</a> <a id="57242" class="Symbol">)</a>

 <a id="57246" href="Demos.HSP.html#57246" class="Function">free-lift-interp</a> <a id="57263" class="Symbol">:</a> <a id="57265" class="Symbol">(</a><a id="57266" href="Demos.HSP.html#57266" class="Bound">Œ∑</a> <a id="57268" class="Symbol">:</a> <a id="57270" href="Demos.HSP.html#57128" class="Bound">X</a> <a id="57272" class="Symbol">‚Üí</a> <a id="57274" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="57277" href="Demos.HSP.html#57141" class="Bound">ùë®</a> <a id="57279" href="Demos.HSP.html#19227" class="Function Operator">]</a><a id="57280" class="Symbol">)(</a><a id="57282" href="Demos.HSP.html#57282" class="Bound">p</a> <a id="57284" class="Symbol">:</a> <a id="57286" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="57291" href="Demos.HSP.html#57128" class="Bound">X</a><a id="57292" class="Symbol">)</a> <a id="57294" class="Symbol">‚Üí</a> <a id="57296" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="57298" href="Demos.HSP.html#57282" class="Bound">p</a> <a id="57300" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="57302" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="57306" href="Demos.HSP.html#57266" class="Bound">Œ∑</a> <a id="57308" href="Relation.Binary.Bundles.html#1184" class="Function Operator">‚âà</a> <a id="57310" class="Symbol">(</a><a id="57311" href="Demos.HSP.html#56302" class="Function">free-lift</a><a id="57320" class="Symbol">{</a><a id="57321" class="Argument">ùë®</a> <a id="57323" class="Symbol">=</a> <a id="57325" href="Demos.HSP.html#57141" class="Bound">ùë®</a><a id="57326" class="Symbol">}</a> <a id="57328" href="Demos.HSP.html#57266" class="Bound">Œ∑</a><a id="57329" class="Symbol">)</a> <a id="57331" href="Demos.HSP.html#57282" class="Bound">p</a>
 <a id="57334" href="Demos.HSP.html#57246" class="Function">free-lift-interp</a> <a id="57351" href="Demos.HSP.html#57351" class="Bound">Œ∑</a> <a id="57353" class="Symbol">(</a><a id="57354" href="Demos.HSP.html#40100" class="InductiveConstructor">‚Ñä</a> <a id="57356" href="Demos.HSP.html#57356" class="Bound">x</a><a id="57357" class="Symbol">)</a>       <a id="57365" class="Symbol">=</a> <a id="57367" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
 <a id="57373" href="Demos.HSP.html#57246" class="Function">free-lift-interp</a> <a id="57390" href="Demos.HSP.html#57390" class="Bound">Œ∑</a> <a id="57392" class="Symbol">(</a><a id="57393" href="Demos.HSP.html#40116" class="InductiveConstructor">node</a> <a id="57398" href="Demos.HSP.html#57398" class="Bound">f</a> <a id="57400" href="Demos.HSP.html#57400" class="Bound">t</a><a id="57401" class="Symbol">)</a>  <a id="57404" class="Symbol">=</a> <a id="57406" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="57411" class="Symbol">(</a><a id="57412" href="Demos.HSP.html#18613" class="Field">Interp</a> <a id="57419" href="Demos.HSP.html#57141" class="Bound">ùë®</a><a id="57420" class="Symbol">)</a> <a id="57422" class="Symbol">(</a><a id="57423" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">‚â°.refl</a> <a id="57430" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="57432" class="Symbol">(</a><a id="57433" href="Demos.HSP.html#57246" class="Function">free-lift-interp</a> <a id="57450" href="Demos.HSP.html#57390" class="Bound">Œ∑</a><a id="57451" class="Symbol">)</a> <a id="57453" href="Function.Base.html#1115" class="Function Operator">‚àò</a> <a id="57455" href="Demos.HSP.html#57400" class="Bound">t</a><a id="57456" class="Symbol">)</a>
</pre>

#### <a id="the-relatively-free-algebra">The relatively free algebra</a>
 <!-- {#the-relatively-free-algebra .unnumbered} -->

Given an arbitrary class `ùí¶` of `ùëÜ`-algebras, we cannot expect that `ùëª X` belongs to `ùí¶`.
Indeed, there may be no free algebra in `ùí¶`.
Nonetheless, it is always possible to construct an algebra that is free for `ùí¶` and belongs to the class `S (P ùí¶`).
Such an algebra is called a *relatively free algebra over* `X` (relative to `ùí¶`).
There are several informal approaches to defining this algebra.
We now describe the approach on which our formal construction is based and then we present the formalization.

Let `ùîΩ[ X ]` denote the relatively free algebra over `X`.  We represent `ùîΩ[ X ]` as the quotient `ùëª X / ‚âà` where `x ‚âà y` if and only if `h x = h y` for every homomorphism `h` from `ùëª X` into a member of `ùí¶`.
More precisely, if `ùë® ‚àà ùí¶` and `h : hom (ùëª X) ùë®`, then `h` factors as `ùëª X ‚Üí HomIm h  ‚Üí ùë®` and `ùëª X / ker h ‚âÖ HomIm h ‚â§ ùë®`; that is, `ùëª X / ker h` is (isomorphic to) an algebra in `S ùí¶`. Letting

`‚âà := ‚ãÇ \{Œ∏ ‚àà Con(ùëª X) ‚à£ ùëª X / Œ∏ ‚àà S ùí¶\}`,

observe that `ùîΩ[ X ] := ùëª X / ‚âà` is a subdirect product of the algebras `ùëª X / ker h`
as `h` ranges over all homomorphisms from `ùëª X` to algebras in `ùí¶`.  Thus, `ùîΩ[ X ] ‚àà P (S ùí¶) ‚äÜ S (P ùí¶)`.
As we have seen, every map `œÅ : X ‚Üí ùïå[ ùë® ]` extends uniquely to a homomorphism `h : hom (ùëª X) ùë®` and `h`
factors through the natural projection `ùëª X ‚Üí ùîΩ[ X ]` (since `‚âà ‚äÜ ker h`) yielding a unique homomorphism from `ùîΩ[ X ]` to `ùë®` extending `œÅ`.

In [Agda][] we construct `ùîΩ[ X ]` as a homomorphic image of `ùëª X` in the following way.
First, given `X` we define `ùë™` as the product of pairs `(ùë®, œÅ)` of
algebras `ùë® ‚àà ùí¶` along with environments `œÅ : X ‚Üí ùïå[ ùë® ]`.
To do so, we contrive an index type for the product; each index is a triple `(ùë®, p, œÅ)` where `ùë®` is an algebra, `p` is proof of `ùë® ‚àà ùí¶`, and `œÅ : X ‚Üí ùïå[ ùë® ]` is an arbitrary environment.

<pre class="Agda">

<a id="59408" class="Keyword">module</a> <a id="FreeAlgebra"></a><a id="59415" href="Demos.HSP.html#59415" class="Module">FreeAlgebra</a> <a id="59427" class="Symbol">(</a><a id="59428" href="Demos.HSP.html#59428" class="Bound">ùí¶</a> <a id="59430" class="Symbol">:</a> <a id="59432" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="59437" class="Symbol">(</a><a id="59438" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="59446" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="59448" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="59450" class="Symbol">)</a> <a id="59452" href="Demos.HSP.html#7175" class="Generalizable">‚Ñì</a><a id="59453" class="Symbol">)</a> <a id="59455" class="Keyword">where</a>
 <a id="59462" class="Keyword">private</a> <a id="FreeAlgebra.c"></a><a id="59470" href="Demos.HSP.html#59470" class="Function">c</a> <a id="59472" class="Symbol">=</a> <a id="59474" href="Demos.HSP.html#59446" class="Bound">Œ±</a> <a id="59476" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="59478" href="Demos.HSP.html#59448" class="Bound">œÅ·µÉ</a> <a id="59481" class="Symbol">;</a> <a id="FreeAlgebra.Œπ"></a><a id="59483" href="Demos.HSP.html#59483" class="Function">Œπ</a> <a id="59485" class="Symbol">=</a> <a id="59487" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="59490" href="Demos.HSP.html#59470" class="Function">c</a> <a id="59492" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="59494" href="Demos.HSP.html#59452" class="Bound">‚Ñì</a>
 <a id="FreeAlgebra.‚Ñë"></a><a id="59497" href="Demos.HSP.html#59497" class="Function">‚Ñë</a> <a id="59499" class="Symbol">:</a> <a id="59501" class="Symbol">{</a><a id="59502" href="Demos.HSP.html#59502" class="Bound">œá</a> <a id="59504" class="Symbol">:</a> <a id="59506" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="59511" class="Symbol">}</a> <a id="59513" class="Symbol">‚Üí</a> <a id="59515" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="59520" href="Demos.HSP.html#59502" class="Bound">œá</a> <a id="59522" class="Symbol">‚Üí</a> <a id="59524" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="59529" class="Symbol">(</a><a id="59530" href="Demos.HSP.html#59483" class="Function">Œπ</a> <a id="59532" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="59534" href="Demos.HSP.html#59502" class="Bound">œá</a><a id="59535" class="Symbol">)</a>
 <a id="59538" href="Demos.HSP.html#59497" class="Function">‚Ñë</a> <a id="59540" href="Demos.HSP.html#59540" class="Bound">X</a> <a id="59542" class="Symbol">=</a> <a id="59544" href="Data.Product.Base.html#1244" class="Function">Œ£[</a> <a id="59547" href="Demos.HSP.html#59547" class="Bound">ùë®</a> <a id="59549" href="Data.Product.Base.html#1244" class="Function">‚àà</a> <a id="59551" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="59559" href="Demos.HSP.html#59446" class="Bound">Œ±</a> <a id="59561" href="Demos.HSP.html#59448" class="Bound">œÅ·µÉ</a> <a id="59564" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="59566" href="Demos.HSP.html#59547" class="Bound">ùë®</a> <a id="59568" href="Relation.Unary.html#1818" class="Function Operator">‚àà</a> <a id="59570" href="Demos.HSP.html#59428" class="Bound">ùí¶</a> <a id="59572" href="Data.Product.Base.html#1618" class="Function Operator">√ó</a> <a id="59574" class="Symbol">(</a><a id="59575" href="Demos.HSP.html#59540" class="Bound">X</a> <a id="59577" class="Symbol">‚Üí</a> <a id="59579" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="59582" href="Demos.HSP.html#59547" class="Bound">ùë®</a> <a id="59584" href="Demos.HSP.html#19227" class="Function Operator">]</a><a id="59585" class="Symbol">)</a>

 <a id="FreeAlgebra.ùë™"></a><a id="59589" href="Demos.HSP.html#59589" class="Function">ùë™</a> <a id="59591" class="Symbol">:</a> <a id="59593" class="Symbol">{</a><a id="59594" href="Demos.HSP.html#59594" class="Bound">œá</a> <a id="59596" class="Symbol">:</a> <a id="59598" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="59603" class="Symbol">}</a> <a id="59605" class="Symbol">‚Üí</a> <a id="59607" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="59612" href="Demos.HSP.html#59594" class="Bound">œá</a> <a id="59614" class="Symbol">‚Üí</a> <a id="59616" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="59624" class="Symbol">(</a><a id="59625" href="Demos.HSP.html#59483" class="Function">Œπ</a> <a id="59627" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="59629" href="Demos.HSP.html#59594" class="Bound">œá</a><a id="59630" class="Symbol">)(</a><a id="59632" href="Demos.HSP.html#59483" class="Function">Œπ</a> <a id="59634" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="59636" href="Demos.HSP.html#59594" class="Bound">œá</a><a id="59637" class="Symbol">)</a>
 <a id="59640" href="Demos.HSP.html#59589" class="Function">ùë™</a> <a id="59642" href="Demos.HSP.html#59642" class="Bound">X</a> <a id="59644" class="Symbol">=</a> <a id="59646" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="59648" class="Symbol">{</a><a id="59649" class="Argument">I</a> <a id="59651" class="Symbol">=</a> <a id="59653" href="Demos.HSP.html#59497" class="Function">‚Ñë</a> <a id="59655" href="Demos.HSP.html#59642" class="Bound">X</a><a id="59656" class="Symbol">}</a> <a id="59658" href="Demos.HSP.html#7795" class="Function Operator">‚à£_‚à£</a>

</pre>
We then define `ùîΩ[ X ]` to be the image of a homomorphism from `ùëª X` to `ùë™` as follows.

<pre class="Agda">

 <a id="FreeAlgebra.homC"></a><a id="59778" href="Demos.HSP.html#59778" class="Function">homC</a> <a id="59783" class="Symbol">:</a> <a id="59785" class="Symbol">(</a><a id="59786" href="Demos.HSP.html#59786" class="Bound">X</a> <a id="59788" class="Symbol">:</a> <a id="59790" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="59795" href="Demos.HSP.html#7173" class="Generalizable">œá</a><a id="59796" class="Symbol">)</a> <a id="59798" class="Symbol">‚Üí</a> <a id="59800" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="59804" class="Symbol">(</a><a id="59805" href="Demos.HSP.html#41728" class="Function">ùëª</a> <a id="59807" href="Demos.HSP.html#59786" class="Bound">X</a><a id="59808" class="Symbol">)</a> <a id="59810" class="Symbol">(</a><a id="59811" href="Demos.HSP.html#59589" class="Function">ùë™</a> <a id="59813" href="Demos.HSP.html#59786" class="Bound">X</a><a id="59814" class="Symbol">)</a>
 <a id="59817" href="Demos.HSP.html#59778" class="Function">homC</a> <a id="59822" href="Demos.HSP.html#59822" class="Bound">X</a> <a id="59824" class="Symbol">=</a> <a id="59826" href="Demos.HSP.html#32221" class="Function">‚®Ö-hom-co</a> <a id="59835" class="Symbol">_</a> <a id="59837" class="Symbol">(Œª</a> <a id="59840" href="Demos.HSP.html#59840" class="Bound">i</a> <a id="59842" class="Symbol">‚Üí</a> <a id="59844" href="Demos.HSP.html#56770" class="Function">lift-hom</a> <a id="59853" class="Symbol">(</a><a id="59854" href="Demos.HSP.html#6507" class="Field">snd</a> <a id="59858" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="59860" href="Demos.HSP.html#59840" class="Bound">i</a> <a id="59862" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a><a id="59863" class="Symbol">))</a>

 <a id="FreeAlgebra.ùîΩ[_]"></a><a id="59868" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[_]</a> <a id="59873" class="Symbol">:</a> <a id="59875" class="Symbol">{</a><a id="59876" href="Demos.HSP.html#59876" class="Bound">œá</a> <a id="59878" class="Symbol">:</a> <a id="59880" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="59885" class="Symbol">}</a> <a id="59887" class="Symbol">‚Üí</a> <a id="59889" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="59894" href="Demos.HSP.html#59876" class="Bound">œá</a> <a id="59896" class="Symbol">‚Üí</a> <a id="59898" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="59906" class="Symbol">(</a><a id="59907" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="59910" href="Demos.HSP.html#59876" class="Bound">œá</a><a id="59911" class="Symbol">)</a> <a id="59913" class="Symbol">(</a><a id="59914" href="Demos.HSP.html#59483" class="Function">Œπ</a> <a id="59916" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="59918" href="Demos.HSP.html#59876" class="Bound">œá</a><a id="59919" class="Symbol">)</a>
 <a id="59922" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="59925" href="Demos.HSP.html#59925" class="Bound">X</a> <a id="59927" href="Demos.HSP.html#59868" class="Function Operator">]</a> <a id="59929" class="Symbol">=</a> <a id="59931" href="Demos.HSP.html#36254" class="Function">HomIm</a> <a id="59937" class="Symbol">(</a><a id="59938" href="Demos.HSP.html#59778" class="Function">homC</a> <a id="59943" href="Demos.HSP.html#59925" class="Bound">X</a><a id="59944" class="Symbol">)</a>

</pre>
Observe that if the identity `p ‚âà q` holds in all `ùë® ‚àà ùí¶` (for all environments), then `p ‚âà q` holds in `ùîΩ[ X ]`; equivalently, the pair `(p , q)` belongs to the kernel of the natural homomorphism from `ùëª X` onto `ùîΩ[ X ]`. This natural epimorphism from `ùëª X` onto `ùîΩ[ X ]`
is defined as follows.

<pre class="Agda">

<a id="60269" class="Keyword">module</a> <a id="FreeHom"></a><a id="60276" href="Demos.HSP.html#60276" class="Module">FreeHom</a> <a id="60284" class="Symbol">{</a><a id="60285" href="Demos.HSP.html#60285" class="Bound">ùí¶</a> <a id="60287" class="Symbol">:</a> <a id="60289" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="60293" class="Symbol">(</a><a id="60294" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="60302" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="60304" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="60306" class="Symbol">)</a> <a id="60308" class="Symbol">(</a><a id="60309" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="60311" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="60313" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="60316" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="60318" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="60321" href="Demos.HSP.html#7175" class="Generalizable">‚Ñì</a><a id="60322" class="Symbol">)}</a> <a id="60325" class="Keyword">where</a>
 <a id="60332" class="Keyword">private</a> <a id="FreeHom.c"></a><a id="60340" href="Demos.HSP.html#60340" class="Function">c</a> <a id="60342" class="Symbol">=</a> <a id="60344" href="Demos.HSP.html#60302" class="Bound">Œ±</a> <a id="60346" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="60348" href="Demos.HSP.html#60304" class="Bound">œÅ·µÉ</a> <a id="60351" class="Symbol">;</a> <a id="FreeHom.Œπ"></a><a id="60353" href="Demos.HSP.html#60353" class="Function">Œπ</a> <a id="60355" class="Symbol">=</a> <a id="60357" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="60360" href="Demos.HSP.html#60340" class="Function">c</a> <a id="60362" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="60364" href="Demos.HSP.html#60321" class="Bound">‚Ñì</a>
 <a id="60367" class="Keyword">open</a> <a id="60372" href="Demos.HSP.html#59415" class="Module">FreeAlgebra</a> <a id="60384" href="Demos.HSP.html#60285" class="Bound">ùí¶</a> <a id="60386" class="Keyword">using</a> <a id="60392" class="Symbol">(</a> <a id="60394" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[_]</a> <a id="60399" class="Symbol">;</a> <a id="60401" href="Demos.HSP.html#59778" class="Function">homC</a> <a id="60406" class="Symbol">)</a>

 <a id="FreeHom.epiF[_]"></a><a id="60410" href="Demos.HSP.html#60410" class="Function Operator">epiF[_]</a> <a id="60418" class="Symbol">:</a> <a id="60420" class="Symbol">(</a><a id="60421" href="Demos.HSP.html#60421" class="Bound">X</a> <a id="60423" class="Symbol">:</a> <a id="60425" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="60430" href="Demos.HSP.html#60340" class="Function">c</a><a id="60431" class="Symbol">)</a> <a id="60433" class="Symbol">‚Üí</a> <a id="60435" href="Demos.HSP.html#27741" class="Function">epi</a> <a id="60439" class="Symbol">(</a><a id="60440" href="Demos.HSP.html#41728" class="Function">ùëª</a> <a id="60442" href="Demos.HSP.html#60421" class="Bound">X</a><a id="60443" class="Symbol">)</a> <a id="60445" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="60448" href="Demos.HSP.html#60421" class="Bound">X</a> <a id="60450" href="Demos.HSP.html#59868" class="Function Operator">]</a>
 <a id="60453" href="Demos.HSP.html#60410" class="Function Operator">epiF[</a> <a id="60459" href="Demos.HSP.html#60459" class="Bound">X</a> <a id="60461" href="Demos.HSP.html#60410" class="Function Operator">]</a> <a id="60463" class="Symbol">=</a> <a id="60465" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="60467" href="Demos.HSP.html#36873" class="Function">toHomIm</a> <a id="60475" class="Symbol">(</a><a id="60476" href="Demos.HSP.html#59778" class="Function">homC</a> <a id="60481" href="Demos.HSP.html#60459" class="Bound">X</a><a id="60482" class="Symbol">)</a> <a id="60484" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="60486" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="60488" class="Keyword">record</a>  <a id="60496" class="Symbol">{</a> <a id="60498" href="Demos.HSP.html#27642" class="Field">isHom</a> <a id="60504" class="Symbol">=</a> <a id="60506" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="60508" href="Demos.HSP.html#36873" class="Function">toHomIm</a> <a id="60516" class="Symbol">(</a><a id="60517" href="Demos.HSP.html#59778" class="Function">homC</a> <a id="60522" href="Demos.HSP.html#60459" class="Bound">X</a><a id="60523" class="Symbol">)</a> <a id="60525" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a>
                                            <a id="60571" class="Symbol">;</a> <a id="60573" href="Demos.HSP.html#27667" class="Field">isSurjective</a> <a id="60586" class="Symbol">=</a> <a id="60588" href="Demos.HSP.html#14067" class="Function">toIm-surj</a> <a id="60598" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="60600" href="Demos.HSP.html#59778" class="Function">homC</a> <a id="60605" href="Demos.HSP.html#60459" class="Bound">X</a> <a id="60607" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="60609" class="Symbol">}</a>

 <a id="FreeHom.homF[_]"></a><a id="60613" href="Demos.HSP.html#60613" class="Function Operator">homF[_]</a> <a id="60621" class="Symbol">:</a> <a id="60623" class="Symbol">(</a><a id="60624" href="Demos.HSP.html#60624" class="Bound">X</a> <a id="60626" class="Symbol">:</a> <a id="60628" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="60633" href="Demos.HSP.html#60340" class="Function">c</a><a id="60634" class="Symbol">)</a> <a id="60636" class="Symbol">‚Üí</a> <a id="60638" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="60642" class="Symbol">(</a><a id="60643" href="Demos.HSP.html#41728" class="Function">ùëª</a> <a id="60645" href="Demos.HSP.html#60624" class="Bound">X</a><a id="60646" class="Symbol">)</a> <a id="60648" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="60651" href="Demos.HSP.html#60624" class="Bound">X</a> <a id="60653" href="Demos.HSP.html#59868" class="Function Operator">]</a>
 <a id="60656" href="Demos.HSP.html#60613" class="Function Operator">homF[</a> <a id="60662" href="Demos.HSP.html#60662" class="Bound">X</a> <a id="60664" href="Demos.HSP.html#60613" class="Function Operator">]</a> <a id="60666" class="Symbol">=</a> <a id="60668" href="Demos.HSP.html#27699" class="Function">IsEpi.HomReduct</a> <a id="60684" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="60686" href="Demos.HSP.html#60410" class="Function Operator">epiF[</a> <a id="60692" href="Demos.HSP.html#60662" class="Bound">X</a> <a id="60694" href="Demos.HSP.html#60410" class="Function Operator">]</a> <a id="60696" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a>

</pre>

Before formalizing the HSP theorem in the next section, we need to prove the following important property of the relatively free algebra: For every algebra `ùë®`, if `ùë® ‚ä® Th (V ùí¶)`,
then there exists an epimorphism from `ùîΩ[ A ]` onto `ùë®`, where `A` denotes the carrier of `ùë®`.

<pre class="Agda">

<a id="61001" class="Keyword">module</a> <a id="61008" href="Demos.HSP.html#61008" class="Module">_</a> <a id="61010" class="Symbol">{</a><a id="61011" href="Demos.HSP.html#61011" class="Bound">ùë®</a> <a id="61013" class="Symbol">:</a> <a id="61015" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="61023" class="Symbol">(</a><a id="61024" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="61026" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="61028" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="61031" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="61033" href="Demos.HSP.html#7175" class="Generalizable">‚Ñì</a><a id="61034" class="Symbol">)(</a><a id="61036" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="61038" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="61040" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="61043" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="61045" href="Demos.HSP.html#7175" class="Generalizable">‚Ñì</a><a id="61046" class="Symbol">)}{</a><a id="61049" href="Demos.HSP.html#61049" class="Bound">ùí¶</a> <a id="61051" class="Symbol">:</a> <a id="61053" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="61057" class="Symbol">(</a><a id="61058" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="61066" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="61068" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="61070" class="Symbol">)(</a><a id="61072" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="61074" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="61076" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="61079" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="61081" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="61084" href="Demos.HSP.html#7175" class="Generalizable">‚Ñì</a><a id="61085" class="Symbol">)}</a> <a id="61088" class="Keyword">where</a>
 <a id="61095" class="Keyword">private</a> <a id="61103" href="Demos.HSP.html#61103" class="Function">c</a> <a id="61105" class="Symbol">=</a> <a id="61107" href="Demos.HSP.html#61024" class="Bound">Œ±</a> <a id="61109" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="61111" href="Demos.HSP.html#61028" class="Bound">œÅ·µÉ</a> <a id="61114" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="61116" href="Demos.HSP.html#61033" class="Bound">‚Ñì</a> <a id="61118" class="Symbol">;</a> <a id="61120" href="Demos.HSP.html#61120" class="Function">Œπ</a> <a id="61122" class="Symbol">=</a> <a id="61124" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="61127" href="Demos.HSP.html#61103" class="Function">c</a>
 <a id="61130" class="Keyword">open</a> <a id="61135" href="Demos.HSP.html#59415" class="Module">FreeAlgebra</a> <a id="61147" href="Demos.HSP.html#61049" class="Bound">ùí¶</a> <a id="61149" class="Keyword">using</a> <a id="61155" class="Symbol">(</a> <a id="61157" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[_]</a> <a id="61162" class="Symbol">;</a> <a id="61164" href="Demos.HSP.html#59589" class="Function">ùë™</a> <a id="61166" class="Symbol">)</a>
 <a id="61169" class="Keyword">open</a> <a id="61174" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="61181" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="61184" href="Demos.HSP.html#61011" class="Bound">ùë®</a> <a id="61186" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="61188" class="Keyword">using</a> <a id="61194" class="Symbol">(</a> <a id="61196" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="61201" class="Symbol">;</a> <a id="61203" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="61207" class="Symbol">;</a> <a id="61209" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="61215" class="Symbol">)</a> <a id="61217" class="Keyword">renaming</a> <a id="61226" class="Symbol">(</a> <a id="61228" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="61236" class="Symbol">to</a> <a id="61239" class="Field">A</a> <a id="61241" class="Symbol">;</a> <a id="61243" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_‚âà_</a> <a id="61247" class="Symbol">to</a> <a id="61250" class="Field Operator">_‚âà·¥¨_</a> <a id="61255" class="Symbol">)</a>

 <a id="61259" href="Demos.HSP.html#61259" class="Function">F-ModTh-epi</a> <a id="61271" class="Symbol">:</a> <a id="61273" href="Demos.HSP.html#61011" class="Bound">ùë®</a> <a id="61275" href="Relation.Unary.html#1818" class="Function Operator">‚àà</a> <a id="61277" href="Demos.HSP.html#49001" class="Function">Mod</a> <a id="61281" class="Symbol">(</a><a id="61282" href="Demos.HSP.html#48903" class="Function">Th</a> <a id="61285" href="Demos.HSP.html#61049" class="Bound">ùí¶</a><a id="61286" class="Symbol">)</a> <a id="61288" class="Symbol">‚Üí</a> <a id="61290" href="Demos.HSP.html#27741" class="Function">epi</a> <a id="61294" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="61297" href="Demos.HSP.html#61239" class="Function">A</a> <a id="61299" href="Demos.HSP.html#59868" class="Function Operator">]</a>  <a id="61302" href="Demos.HSP.html#61011" class="Bound">ùë®</a>
 <a id="61305" href="Demos.HSP.html#61259" class="Function">F-ModTh-epi</a> <a id="61317" href="Demos.HSP.html#61317" class="Bound">A‚ààModThK</a> <a id="61326" class="Symbol">=</a> <a id="61328" href="Demos.HSP.html#61347" class="Function">œÜ</a> <a id="61330" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="61332" href="Demos.HSP.html#62095" class="Function">isEpi</a> <a id="61338" class="Keyword">where</a>

  <a id="61347" href="Demos.HSP.html#61347" class="Function">œÜ</a> <a id="61349" class="Symbol">:</a> <a id="61351" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="61354" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="61357" href="Demos.HSP.html#61239" class="Function">A</a> <a id="61359" href="Demos.HSP.html#59868" class="Function Operator">]</a> <a id="61361" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="61363" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="61365" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="61368" href="Demos.HSP.html#61011" class="Bound">ùë®</a> <a id="61370" href="Demos.HSP.html#19173" class="Function Operator">]</a>
  <a id="61374" href="Demos.HSP.html#6628" class="Field Operator">_‚ü®$‚ü©_</a> <a id="61380" href="Demos.HSP.html#61347" class="Function">œÜ</a>            <a id="61393" class="Symbol">=</a> <a id="61395" href="Demos.HSP.html#56302" class="Function">free-lift</a><a id="61404" class="Symbol">{</a><a id="61405" class="Argument">ùë®</a> <a id="61407" class="Symbol">=</a> <a id="61409" href="Demos.HSP.html#61011" class="Bound">ùë®</a><a id="61410" class="Symbol">}</a> <a id="61412" href="Function.Base.html#704" class="Function">id</a>
  <a id="61417" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="61422" href="Demos.HSP.html#61347" class="Function">œÜ</a> <a id="61424" class="Symbol">{</a><a id="61425" href="Demos.HSP.html#61425" class="Bound">p</a><a id="61426" class="Symbol">}</a> <a id="61428" class="Symbol">{</a><a id="61429" href="Demos.HSP.html#61429" class="Bound">q</a><a id="61430" class="Symbol">}</a> <a id="61432" href="Demos.HSP.html#61432" class="Bound">pq</a>  <a id="61436" class="Symbol">=</a> <a id="61438" href="Demos.HSP.html#61766" class="Function">Goal</a>
   <a id="61446" class="Keyword">where</a>
   <a id="61455" href="Demos.HSP.html#61455" class="Function">lift-pq</a> <a id="61463" class="Symbol">:</a> <a id="61465" class="Symbol">(</a><a id="61466" href="Demos.HSP.html#61425" class="Bound">p</a> <a id="61468" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="61470" href="Demos.HSP.html#61429" class="Bound">q</a><a id="61471" class="Symbol">)</a> <a id="61473" href="Relation.Unary.html#1818" class="Function Operator">‚àà</a> <a id="61475" href="Demos.HSP.html#48903" class="Function">Th</a> <a id="61478" href="Demos.HSP.html#61049" class="Bound">ùí¶</a>
   <a id="61483" href="Demos.HSP.html#61455" class="Function">lift-pq</a> <a id="61491" href="Demos.HSP.html#61491" class="Bound">ùë©</a> <a id="61493" href="Demos.HSP.html#61493" class="Bound">x</a> <a id="61495" href="Demos.HSP.html#61495" class="Bound">œÅ</a> <a id="61497" class="Symbol">=</a> <a id="61499" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="61509" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="61511" href="Demos.HSP.html#61425" class="Bound">p</a> <a id="61513" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="61515" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="61519" href="Demos.HSP.html#61495" class="Bound">œÅ</a>    <a id="61524" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a> <a id="61527" href="Demos.HSP.html#57246" class="Function">free-lift-interp</a> <a id="61544" class="Symbol">{</a><a id="61545" class="Argument">ùë®</a> <a id="61547" class="Symbol">=</a> <a id="61549" href="Demos.HSP.html#61491" class="Bound">ùë©</a><a id="61550" class="Symbol">}</a> <a id="61552" href="Demos.HSP.html#61495" class="Bound">œÅ</a> <a id="61554" href="Demos.HSP.html#61425" class="Bound">p</a>  <a id="61557" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
    <a id="61563" href="Demos.HSP.html#56302" class="Function">free-lift</a> <a id="61573" href="Demos.HSP.html#61495" class="Bound">œÅ</a> <a id="61575" href="Demos.HSP.html#61425" class="Bound">p</a>  <a id="61578" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a> <a id="61581" href="Demos.HSP.html#61432" class="Bound">pq</a> <a id="61584" class="Symbol">(</a><a id="61585" href="Demos.HSP.html#61491" class="Bound">ùë©</a> <a id="61587" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="61589" href="Demos.HSP.html#61493" class="Bound">x</a> <a id="61591" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="61593" href="Demos.HSP.html#61495" class="Bound">œÅ</a><a id="61594" class="Symbol">)</a>                <a id="61611" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
    <a id="61617" href="Demos.HSP.html#56302" class="Function">free-lift</a> <a id="61627" href="Demos.HSP.html#61495" class="Bound">œÅ</a> <a id="61629" href="Demos.HSP.html#61429" class="Bound">q</a>  <a id="61632" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚âàÀò‚ü®</a> <a id="61636" href="Demos.HSP.html#57246" class="Function">free-lift-interp</a><a id="61652" class="Symbol">{</a><a id="61653" class="Argument">ùë®</a> <a id="61655" class="Symbol">=</a> <a id="61657" href="Demos.HSP.html#61491" class="Bound">ùë©</a><a id="61658" class="Symbol">}</a> <a id="61660" href="Demos.HSP.html#61495" class="Bound">œÅ</a> <a id="61662" href="Demos.HSP.html#61429" class="Bound">q</a>  <a id="61665" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚ü©</a>
    <a id="61671" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="61673" href="Demos.HSP.html#61429" class="Bound">q</a> <a id="61675" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="61677" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="61681" href="Demos.HSP.html#61495" class="Bound">œÅ</a>    <a id="61686" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">‚àé</a>
     <a id="61693" class="Keyword">where</a> <a id="61699" class="Keyword">open</a> <a id="61704" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="61720" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="61723" href="Demos.HSP.html#61491" class="Bound">ùë©</a> <a id="61725" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="61727" class="Symbol">;</a> <a id="61729" class="Keyword">open</a> <a id="61734" href="Demos.HSP.html#42463" class="Module">Environment</a> <a id="61746" href="Demos.HSP.html#61491" class="Bound">ùë©</a> <a id="61748" class="Keyword">using</a> <a id="61754" class="Symbol">(</a> <a id="61756" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶_‚üß</a> <a id="61760" class="Symbol">)</a>

   <a id="61766" href="Demos.HSP.html#61766" class="Function">Goal</a> <a id="61771" class="Symbol">:</a> <a id="61773" href="Demos.HSP.html#56302" class="Function">free-lift</a> <a id="61783" href="Function.Base.html#704" class="Function">id</a> <a id="61786" href="Demos.HSP.html#61425" class="Bound">p</a> <a id="61788" href="Demos.HSP.html#61250" class="Function Operator">‚âà·¥¨</a> <a id="61791" href="Demos.HSP.html#56302" class="Function">free-lift</a> <a id="61801" href="Function.Base.html#704" class="Function">id</a> <a id="61804" href="Demos.HSP.html#61429" class="Bound">q</a>
   <a id="61809" href="Demos.HSP.html#61766" class="Function">Goal</a> <a id="61814" class="Symbol">=</a> <a id="61816" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="61826" href="Demos.HSP.html#56302" class="Function">free-lift</a> <a id="61836" href="Function.Base.html#704" class="Function">id</a> <a id="61839" href="Demos.HSP.html#61425" class="Bound">p</a>  <a id="61842" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚âàÀò‚ü®</a> <a id="61846" href="Demos.HSP.html#57246" class="Function">free-lift-interp</a> <a id="61863" class="Symbol">{</a><a id="61864" class="Argument">ùë®</a> <a id="61866" class="Symbol">=</a> <a id="61868" href="Demos.HSP.html#61011" class="Bound">ùë®</a><a id="61869" class="Symbol">}</a> <a id="61871" href="Function.Base.html#704" class="Function">id</a> <a id="61874" href="Demos.HSP.html#61425" class="Bound">p</a>   <a id="61878" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">‚ü©</a>
    <a id="61884" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="61886" href="Demos.HSP.html#61425" class="Bound">p</a> <a id="61888" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="61890" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="61894" href="Function.Base.html#704" class="Function">id</a>    <a id="61900" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a> <a id="61903" href="Demos.HSP.html#61317" class="Bound">A‚ààModThK</a> <a id="61912" class="Symbol">{</a><a id="61913" class="Argument">p</a> <a id="61915" class="Symbol">=</a> <a id="61917" href="Demos.HSP.html#61425" class="Bound">p</a><a id="61918" class="Symbol">}</a> <a id="61920" class="Symbol">{</a><a id="61921" href="Demos.HSP.html#61429" class="Bound">q</a><a id="61922" class="Symbol">}</a> <a id="61924" href="Demos.HSP.html#61455" class="Function">lift-pq</a> <a id="61932" href="Function.Base.html#704" class="Function">id</a>  <a id="61936" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
    <a id="61942" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶</a> <a id="61944" href="Demos.HSP.html#61429" class="Bound">q</a> <a id="61946" href="Demos.HSP.html#43027" class="Function Operator">‚üß</a> <a id="61948" href="Demos.HSP.html#6628" class="Field Operator">‚ü®$‚ü©</a> <a id="61952" href="Function.Base.html#704" class="Function">id</a>    <a id="61958" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚âà‚ü®</a> <a id="61961" href="Demos.HSP.html#57246" class="Function">free-lift-interp</a> <a id="61978" class="Symbol">{</a><a id="61979" class="Argument">ùë®</a> <a id="61981" class="Symbol">=</a> <a id="61983" href="Demos.HSP.html#61011" class="Bound">ùë®</a><a id="61984" class="Symbol">}</a> <a id="61986" href="Function.Base.html#704" class="Function">id</a> <a id="61989" href="Demos.HSP.html#61429" class="Bound">q</a>    <a id="61994" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">‚ü©</a>
    <a id="62000" href="Demos.HSP.html#56302" class="Function">free-lift</a> <a id="62010" href="Function.Base.html#704" class="Function">id</a> <a id="62013" href="Demos.HSP.html#61429" class="Bound">q</a>  <a id="62016" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">‚àé</a>
     <a id="62023" class="Keyword">where</a> <a id="62029" class="Keyword">open</a> <a id="62034" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="62050" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="62053" href="Demos.HSP.html#61011" class="Bound">ùë®</a> <a id="62055" href="Demos.HSP.html#19173" class="Function Operator">]</a> <a id="62057" class="Symbol">;</a> <a id="62059" class="Keyword">open</a> <a id="62064" href="Demos.HSP.html#42463" class="Module">Environment</a> <a id="62076" href="Demos.HSP.html#61011" class="Bound">ùë®</a> <a id="62078" class="Keyword">using</a> <a id="62084" class="Symbol">(</a> <a id="62086" href="Demos.HSP.html#43027" class="Function Operator">‚ü¶_‚üß</a> <a id="62090" class="Symbol">)</a>

  <a id="62095" href="Demos.HSP.html#62095" class="Function">isEpi</a> <a id="62101" class="Symbol">:</a> <a id="62103" href="Demos.HSP.html#27571" class="Record">IsEpi</a> <a id="62109" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="62112" href="Demos.HSP.html#61239" class="Function">A</a> <a id="62114" href="Demos.HSP.html#59868" class="Function Operator">]</a> <a id="62116" href="Demos.HSP.html#61011" class="Bound">ùë®</a> <a id="62118" href="Demos.HSP.html#61347" class="Function">œÜ</a>
  <a id="62122" href="Demos.HSP.html#62095" class="Function">isEpi</a> <a id="62128" class="Symbol">=</a> <a id="62130" class="Keyword">record</a> <a id="62137" class="Symbol">{</a> <a id="62139" href="Demos.HSP.html#27642" class="Field">isHom</a> <a id="62145" class="Symbol">=</a> <a id="62147" href="Demos.HSP.html#26633" class="InductiveConstructor">mkhom</a> <a id="62153" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="62158" class="Symbol">;</a> <a id="62160" href="Demos.HSP.html#27667" class="Field">isSurjective</a> <a id="62173" class="Symbol">=</a> <a id="62175" href="Demos.HSP.html#10397" class="InductiveConstructor">eq</a> <a id="62178" class="Symbol">(</a><a id="62179" href="Demos.HSP.html#40100" class="InductiveConstructor">‚Ñä</a> <a id="62181" class="Symbol">_)</a> <a id="62184" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="62189" class="Symbol">}</a>

 <a id="62193" href="Demos.HSP.html#62193" class="Function">F-ModThV-epi</a> <a id="62206" class="Symbol">:</a> <a id="62208" href="Demos.HSP.html#61011" class="Bound">ùë®</a> <a id="62210" href="Relation.Unary.html#1818" class="Function Operator">‚àà</a> <a id="62212" href="Demos.HSP.html#49001" class="Function">Mod</a> <a id="62216" class="Symbol">(</a><a id="62217" href="Demos.HSP.html#48903" class="Function">Th</a> <a id="62220" class="Symbol">(</a><a id="62221" href="Demos.HSP.html#53430" class="Function">V</a> <a id="62223" href="Demos.HSP.html#61033" class="Bound">‚Ñì</a> <a id="62225" href="Demos.HSP.html#61120" class="Function">Œπ</a> <a id="62227" href="Demos.HSP.html#61049" class="Bound">ùí¶</a><a id="62228" class="Symbol">))</a> <a id="62231" class="Symbol">‚Üí</a> <a id="62233" href="Demos.HSP.html#27741" class="Function">epi</a> <a id="62237" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="62240" href="Demos.HSP.html#61239" class="Function">A</a> <a id="62242" href="Demos.HSP.html#59868" class="Function Operator">]</a>  <a id="62245" href="Demos.HSP.html#61011" class="Bound">ùë®</a>
 <a id="62248" href="Demos.HSP.html#62193" class="Function">F-ModThV-epi</a> <a id="62261" href="Demos.HSP.html#62261" class="Bound">A‚ààModThVK</a> <a id="62271" class="Symbol">=</a> <a id="62273" href="Demos.HSP.html#61259" class="Function">F-ModTh-epi</a> <a id="62285" class="Symbol">Œª</a> <a id="62287" class="Symbol">{</a><a id="62288" href="Demos.HSP.html#62288" class="Bound">p</a><a id="62289" class="Symbol">}{</a><a id="62291" href="Demos.HSP.html#62291" class="Bound">q</a><a id="62292" class="Symbol">}</a> <a id="62294" class="Symbol">‚Üí</a> <a id="62296" href="Demos.HSP.html#62318" class="Function">Goal</a> <a id="62301" class="Symbol">{</a><a id="62302" href="Demos.HSP.html#62288" class="Bound">p</a><a id="62303" class="Symbol">}{</a><a id="62305" href="Demos.HSP.html#62291" class="Bound">q</a><a id="62306" class="Symbol">}</a>
  <a id="62310" class="Keyword">where</a>
  <a id="62318" href="Demos.HSP.html#62318" class="Function">Goal</a> <a id="62323" class="Symbol">:</a> <a id="62325" href="Demos.HSP.html#61011" class="Bound">ùë®</a> <a id="62327" href="Relation.Unary.html#1818" class="Function Operator">‚àà</a> <a id="62329" href="Demos.HSP.html#49001" class="Function">Mod</a> <a id="62333" class="Symbol">(</a><a id="62334" href="Demos.HSP.html#48903" class="Function">Th</a> <a id="62337" href="Demos.HSP.html#61049" class="Bound">ùí¶</a><a id="62338" class="Symbol">)</a>
  <a id="62342" href="Demos.HSP.html#62318" class="Function">Goal</a> <a id="62347" class="Symbol">{</a><a id="62348" href="Demos.HSP.html#62348" class="Bound">p</a><a id="62349" class="Symbol">}{</a><a id="62351" href="Demos.HSP.html#62351" class="Bound">q</a><a id="62352" class="Symbol">}</a> <a id="62354" href="Demos.HSP.html#62354" class="Bound">x</a> <a id="62356" href="Demos.HSP.html#62356" class="Bound">œÅ</a> <a id="62358" class="Symbol">=</a> <a id="62360" href="Demos.HSP.html#62261" class="Bound">A‚ààModThVK</a><a id="62369" class="Symbol">{</a><a id="62370" href="Demos.HSP.html#62348" class="Bound">p</a><a id="62371" class="Symbol">}{</a><a id="62373" href="Demos.HSP.html#62351" class="Bound">q</a><a id="62374" class="Symbol">}</a> <a id="62376" class="Symbol">(</a><a id="62377" href="Demos.HSP.html#55165" class="Function">V-id1</a> <a id="62383" href="Demos.HSP.html#61033" class="Bound">‚Ñì</a> <a id="62385" class="Symbol">{</a><a id="62386" class="Argument">p</a> <a id="62388" class="Symbol">=</a> <a id="62390" href="Demos.HSP.html#62348" class="Bound">p</a><a id="62391" class="Symbol">}{</a><a id="62393" href="Demos.HSP.html#62351" class="Bound">q</a><a id="62394" class="Symbol">}</a> <a id="62396" href="Demos.HSP.html#62354" class="Bound">x</a><a id="62397" class="Symbol">)</a> <a id="62399" href="Demos.HSP.html#62356" class="Bound">œÅ</a>

</pre>
Actually, we will need the following lifted version of this result.

<pre class="Agda">

 <a id="62497" href="Demos.HSP.html#62497" class="Function">F-ModTh-epi-lift</a> <a id="62514" class="Symbol">:</a> <a id="62516" href="Demos.HSP.html#61011" class="Bound">ùë®</a> <a id="62518" href="Relation.Unary.html#1818" class="Function Operator">‚àà</a> <a id="62520" href="Demos.HSP.html#49001" class="Function">Mod</a> <a id="62524" class="Symbol">(</a><a id="62525" href="Demos.HSP.html#48903" class="Function">Th</a> <a id="62528" class="Symbol">(</a><a id="62529" href="Demos.HSP.html#53430" class="Function">V</a> <a id="62531" href="Demos.HSP.html#61033" class="Bound">‚Ñì</a> <a id="62533" href="Demos.HSP.html#61120" class="Function">Œπ</a> <a id="62535" href="Demos.HSP.html#61049" class="Bound">ùí¶</a><a id="62536" class="Symbol">))</a> <a id="62539" class="Symbol">‚Üí</a> <a id="62541" href="Demos.HSP.html#27741" class="Function">epi</a> <a id="62545" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="62548" href="Demos.HSP.html#61239" class="Function">A</a> <a id="62550" href="Demos.HSP.html#59868" class="Function Operator">]</a> <a id="62552" class="Symbol">(</a><a id="62553" href="Demos.HSP.html#22427" class="Function">Lift-Alg</a> <a id="62562" href="Demos.HSP.html#61011" class="Bound">ùë®</a> <a id="62564" href="Demos.HSP.html#61120" class="Function">Œπ</a> <a id="62566" href="Demos.HSP.html#61120" class="Function">Œπ</a><a id="62567" class="Symbol">)</a>
 <a id="62570" href="Demos.HSP.html#62497" class="Function">F-ModTh-epi-lift</a> <a id="62587" href="Demos.HSP.html#62587" class="Bound">A‚ààModThK</a> <a id="62596" class="Symbol">=</a> <a id="62598" href="Demos.HSP.html#29297" class="Function">‚àò-epi</a> <a id="62604" class="Symbol">(</a><a id="62605" href="Demos.HSP.html#62193" class="Function">F-ModThV-epi</a> <a id="62618" class="Symbol">Œª</a> <a id="62620" class="Symbol">{</a><a id="62621" href="Demos.HSP.html#62621" class="Bound">p</a> <a id="62623" href="Demos.HSP.html#62623" class="Bound">q</a><a id="62624" class="Symbol">}</a> <a id="62626" class="Symbol">‚Üí</a> <a id="62628" href="Demos.HSP.html#62587" class="Bound">A‚ààModThK</a><a id="62636" class="Symbol">{</a><a id="62637" class="Argument">p</a> <a id="62639" class="Symbol">=</a> <a id="62641" href="Demos.HSP.html#62621" class="Bound">p</a><a id="62642" class="Symbol">}{</a><a id="62644" href="Demos.HSP.html#62623" class="Bound">q</a><a id="62645" class="Symbol">}</a> <a id="62647" class="Symbol">)</a> <a id="62649" href="Demos.HSP.html#31333" class="Function">ToLift-epi</a>
</pre>


### <a id="birkhoffs-variety-theorem">Birkhoff's Variety Theorem</a>

Let `ùí¶` be a class of algebras and recall that `ùí¶` is a *variety* provided
it is closed under homomorphisms, subalgebras and products; equivalently,
`V ùí¶ ‚äÜ ùí¶`.
(Observe that `ùí¶ ‚äÜ V ùí¶` holds for all `ùí¶` since `V` is a closure operator.)
We call `ùí¶` an *equational class* if it is the class of all models of some set of identities.

Birkhoff's variety theorem, also known as the HSP theorem, asserts that `ùí¶` is an equational class if and only if it is a variety.  In this section, we present the statement and proof of this theorem---first in a style similar to what one finds in textbooks (e.g.,¬†[@Bergman:2012 Theorem 4.41]), and then formally in the language of [MLTT][].


#### <a id="informal-proof">Informal proof</a>
 <!-- {#informal-proof .unnumbered} -->

(‚áí) *Every equational class is a variety*. Indeed, suppose `ùí¶` is an equational class axiomatized by term identities `‚Ñ∞`; that is, `ùë® ‚àà ùí¶` iff `ùë® ‚ä® ‚Ñ∞`. Since the classes `H ùí¶`, `S ùí¶`, `P ùí¶` and `ùí¶` all satisfy the same set of equations, we have `V ùí¶ ‚ä´ p ‚âà q` for all `(p , q) ‚àà ‚Ñ∞`, so `V ùí¶ ‚äÜ ùí¶`.

(‚áê) *Every variety is an equational class*.[^10] Let `ùí¶` be an arbitrary variety.  We will describe a set of equations that axiomatizes `ùí¶`.  A natural choice is to take `Th ùí¶` and try to prove that `ùí¶ = Mod (Th ùí¶)`. Clearly, `ùí¶ ‚äÜ Mod (Th ùí¶)`.  To prove the converse inclusion, let `ùë® ‚àà Mod (Th ùí¶)`. It suffices to find an algebra `ùë≠ ‚àà S (P ùí¶)` such that `ùë®` is a homomorphic image of `ùë≠`, as this will show that `ùë® ‚àà H (S (P ùí¶)) = ùí¶`.

Let `X` be such that there exists a surjective environment `œÅ : X ‚Üí ùïå[ ùë® ]`.[^11]
By the `lift-hom` lemma, there is an epimorphism `h : ùëª X ‚Üí ùïå[ ùë® ]` that extends `œÅ`. Put  `ùîΩ[ X ] := ùëª X / ‚âà` and let `g : ùëª X  ‚Üí ùîΩ[ X ]` be the natural epimorphism with kernel `‚âà`. We claim `ker g ‚äÜ ker h`. 
If the claim is true, then there is a map `f : ùîΩ[ X ] ‚Üí ùë®` such that `f ‚àò g = h`, and since `h`
is surjective so is `f`. Therefore, `ùë® ‚àà ùñß (ùîΩ[ X ]) ‚äÜ Mod (Th ùí¶)` completing the proof.

It remains to prove the claim `ker g ‚äÜ ker h`. Let `u`, `v` be terms and assume `g u = g v`. Since `ùëª X` is generated by `X`, there are terms `p`, `q` such that `u = ‚ü¶ ùëª X ‚üß p` and `v = ‚ü¶ ùëª X ‚üß q`.[^12]
Therefore, `‚ü¶ ùîΩ[ X ] ‚üß p = g (‚ü¶ ùëª X ‚üß p) = g u = g v = g (‚ü¶ ùëª X ‚üß q) = ‚ü¶ ùîΩ[ X ]‚üß q`,
so `ùí¶ ‚ä´ p ‚âà q`; thus, `(p , q) ‚àà Th ùí¶`. Since `ùë® ‚àà Mod (Th ùí¶)`, we obtain `ùë® ‚äß p ‚âà q`, which implies
that `h u = (‚ü¶ ùë® ‚üß p) ‚ü®$‚ü© œÅ = (‚ü¶ ùë® ‚üß q) ‚ü®$‚ü© œÅ = h v`, as desired.

#### <a id="formal-proof">Formal proof</a>
 <!-- {#formal-proof .unnumbered} -->

(‚áí) *Every equational class is a variety*.
We need an arbitrary equational class, which we obtain by starting with an arbitrary collection `‚Ñ∞` of equations and then defining `ùí¶ = Mod ‚Ñ∞`, the class axiomatized by `‚Ñ∞`. We prove that `ùí¶` is a variety by showing that `ùí¶ = V ùí¶`. The inclusion `ùí¶ ‚äÜ V ùí¶`, which holds for all classes `ùí¶`, is called the *expansive* property of `V`.

<pre class="Agda">

<a id="65647" class="Keyword">module</a> <a id="65654" href="Demos.HSP.html#65654" class="Module">_</a> <a id="65656" class="Symbol">(</a><a id="65657" href="Demos.HSP.html#65657" class="Bound">ùí¶</a> <a id="65659" class="Symbol">:</a> <a id="65661" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="65665" class="Symbol">(</a><a id="65666" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="65674" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="65676" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="65678" class="Symbol">)</a> <a id="65680" class="Symbol">(</a><a id="65681" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="65683" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="65685" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="65688" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="65690" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="65693" href="Demos.HSP.html#7175" class="Generalizable">‚Ñì</a><a id="65694" class="Symbol">))</a> <a id="65697" class="Keyword">where</a>
 <a id="65704" href="Demos.HSP.html#65704" class="Function">V-expa</a> <a id="65711" class="Symbol">:</a> <a id="65713" href="Demos.HSP.html#65657" class="Bound">ùí¶</a> <a id="65715" href="Relation.Unary.html#2046" class="Function Operator">‚äÜ</a> <a id="65717" href="Demos.HSP.html#53430" class="Function">V</a> <a id="65719" href="Demos.HSP.html#65693" class="Bound">‚Ñì</a> <a id="65721" class="Symbol">(</a><a id="65722" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="65725" class="Symbol">(</a><a id="65726" href="Demos.HSP.html#65674" class="Bound">Œ±</a> <a id="65728" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="65730" href="Demos.HSP.html#65676" class="Bound">œÅ·µÉ</a> <a id="65733" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="65735" href="Demos.HSP.html#65693" class="Bound">‚Ñì</a><a id="65736" class="Symbol">))</a> <a id="65739" href="Demos.HSP.html#65657" class="Bound">ùí¶</a>
 <a id="65742" href="Demos.HSP.html#65704" class="Function">V-expa</a> <a id="65749" class="Symbol">{</a><a id="65750" class="Argument">x</a> <a id="65752" class="Symbol">=</a> <a id="65754" href="Demos.HSP.html#65754" class="Bound">ùë®</a><a id="65755" class="Symbol">}</a><a id="65756" href="Demos.HSP.html#65756" class="Bound">kA</a> <a id="65759" class="Symbol">=</a> <a id="65761" href="Demos.HSP.html#65754" class="Bound">ùë®</a> <a id="65763" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="65765" class="Symbol">(</a><a id="65766" href="Demos.HSP.html#65754" class="Bound">ùë®</a> <a id="65768" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="65770" class="Symbol">(</a><a id="65771" href="Data.Unit.Polymorphic.Base.html#489" class="Function">‚ä§</a> <a id="65773" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="65775" class="Symbol">(Œª</a> <a id="65778" href="Demos.HSP.html#65778" class="Bound">_</a> <a id="65780" class="Symbol">‚Üí</a> <a id="65782" href="Demos.HSP.html#65754" class="Bound">ùë®</a><a id="65783" class="Symbol">)</a><a id="65784" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="65786" class="Symbol">(Œª</a> <a id="65789" href="Demos.HSP.html#65789" class="Bound">_</a> <a id="65791" class="Symbol">‚Üí</a> <a id="65793" href="Demos.HSP.html#65756" class="Bound">kA</a><a id="65795" class="Symbol">)</a><a id="65796" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="65798" href="Demos.HSP.html#66162" class="Function">Goal</a><a id="65802" class="Symbol">)</a><a id="65803" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="65805" href="Demos.HSP.html#38266" class="Function">‚â§-reflexive</a><a id="65816" class="Symbol">)</a><a id="65817" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="65819" href="Demos.HSP.html#35317" class="Function">IdHomImage</a>
  <a id="65832" class="Keyword">where</a>
  <a id="65840" class="Keyword">open</a> <a id="65845" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="65852" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="65855" href="Demos.HSP.html#65754" class="Bound">ùë®</a> <a id="65857" href="Demos.HSP.html#19173" class="Function Operator">]</a>            <a id="65870" class="Keyword">using</a> <a id="65876" class="Symbol">(</a> <a id="65878" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="65883" class="Symbol">)</a>
  <a id="65887" class="Keyword">open</a> <a id="65892" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="65899" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="65902" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="65904" class="Symbol">(Œª</a> <a id="65907" href="Demos.HSP.html#65907" class="Bound">_</a> <a id="65909" class="Symbol">‚Üí</a> <a id="65911" href="Demos.HSP.html#65754" class="Bound">ùë®</a><a id="65912" class="Symbol">)</a> <a id="65914" href="Demos.HSP.html#19173" class="Function Operator">]</a>  <a id="65917" class="Keyword">using</a> <a id="65923" class="Symbol">()</a> <a id="65926" class="Keyword">renaming</a> <a id="65935" class="Symbol">(</a> <a id="65937" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="65942" class="Symbol">to</a> <a id="65945" class="Function">refl‚®Ö</a> <a id="65951" class="Symbol">)</a>
  <a id="65955" href="Demos.HSP.html#65955" class="Function">to‚®Ö</a>    <a id="65962" class="Symbol">:</a> <a id="65964" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="65967" href="Demos.HSP.html#65754" class="Bound">ùë®</a> <a id="65969" href="Demos.HSP.html#19173" class="Function Operator">]</a>            <a id="65982" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="65984" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="65987" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="65989" class="Symbol">(Œª</a> <a id="65992" href="Demos.HSP.html#65992" class="Bound">_</a> <a id="65994" class="Symbol">‚Üí</a> <a id="65996" href="Demos.HSP.html#65754" class="Bound">ùë®</a><a id="65997" class="Symbol">)</a> <a id="65999" href="Demos.HSP.html#19173" class="Function Operator">]</a>
  <a id="66003" href="Demos.HSP.html#65955" class="Function">to‚®Ö</a>    <a id="66010" class="Symbol">=</a> <a id="66012" class="Keyword">record</a> <a id="66019" class="Symbol">{</a> <a id="66021" href="Function.Bundles.html#2094" class="Field">to</a> <a id="66024" class="Symbol">=</a> <a id="66026" class="Symbol">Œª</a> <a id="66028" href="Demos.HSP.html#66028" class="Bound">x</a> <a id="66030" href="Demos.HSP.html#66030" class="Bound">_</a> <a id="66032" class="Symbol">‚Üí</a> <a id="66034" href="Demos.HSP.html#66028" class="Bound">x</a>   <a id="66038" class="Symbol">;</a> <a id="66040" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="66045" class="Symbol">=</a> <a id="66047" class="Symbol">Œª</a> <a id="66049" href="Demos.HSP.html#66049" class="Bound">xy</a> <a id="66052" href="Demos.HSP.html#66052" class="Bound">_</a> <a id="66054" class="Symbol">‚Üí</a> <a id="66056" href="Demos.HSP.html#66049" class="Bound">xy</a> <a id="66059" class="Symbol">}</a>
  <a id="66063" href="Demos.HSP.html#66063" class="Function">from‚®Ö</a>  <a id="66070" class="Symbol">:</a> <a id="66072" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="66075" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="66077" class="Symbol">(Œª</a> <a id="66080" href="Demos.HSP.html#66080" class="Bound">_</a> <a id="66082" class="Symbol">‚Üí</a> <a id="66084" href="Demos.HSP.html#65754" class="Bound">ùë®</a><a id="66085" class="Symbol">)</a> <a id="66087" href="Demos.HSP.html#19173" class="Function Operator">]</a>  <a id="66090" href="Demos.HSP.html#6569" class="Record Operator">‚ü∂</a> <a id="66092" href="Demos.HSP.html#19173" class="Function Operator">ùîª[</a> <a id="66095" href="Demos.HSP.html#65754" class="Bound">ùë®</a> <a id="66097" href="Demos.HSP.html#19173" class="Function Operator">]</a>
  <a id="66101" href="Demos.HSP.html#66063" class="Function">from‚®Ö</a>  <a id="66108" class="Symbol">=</a> <a id="66110" class="Keyword">record</a> <a id="66117" class="Symbol">{</a> <a id="66119" href="Function.Bundles.html#2094" class="Field">to</a> <a id="66122" class="Symbol">=</a> <a id="66124" class="Symbol">Œª</a> <a id="66126" href="Demos.HSP.html#66126" class="Bound">x</a> <a id="66128" class="Symbol">‚Üí</a> <a id="66130" href="Demos.HSP.html#66126" class="Bound">x</a> <a id="66132" href="Data.Unit.Polymorphic.Base.html#533" class="Function">tt</a>  <a id="66136" class="Symbol">;</a> <a id="66138" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="66143" class="Symbol">=</a> <a id="66145" class="Symbol">Œª</a> <a id="66147" href="Demos.HSP.html#66147" class="Bound">xy</a> <a id="66150" class="Symbol">‚Üí</a> <a id="66152" href="Demos.HSP.html#66147" class="Bound">xy</a> <a id="66155" href="Data.Unit.Polymorphic.Base.html#533" class="Function">tt</a> <a id="66158" class="Symbol">}</a>
  <a id="66162" href="Demos.HSP.html#66162" class="Function">Goal</a>   <a id="66169" class="Symbol">:</a> <a id="66171" href="Demos.HSP.html#65754" class="Bound">ùë®</a> <a id="66173" href="Demos.HSP.html#33103" class="Record Operator">‚âÖ</a> <a id="66175" href="Demos.HSP.html#24294" class="Function">‚®Ö</a> <a id="66177" class="Symbol">(Œª</a> <a id="66180" href="Demos.HSP.html#66180" class="Bound">x</a> <a id="66182" class="Symbol">‚Üí</a> <a id="66184" href="Demos.HSP.html#65754" class="Bound">ùë®</a><a id="66185" class="Symbol">)</a>
  <a id="66189" href="Demos.HSP.html#66162" class="Function">Goal</a>   <a id="66196" class="Symbol">=</a> <a id="66198" href="Demos.HSP.html#33162" class="InductiveConstructor">mkiso</a> <a id="66204" class="Symbol">(</a><a id="66205" href="Demos.HSP.html#65955" class="Function">to‚®Ö</a> <a id="66209" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="66211" href="Demos.HSP.html#26633" class="InductiveConstructor">mkhom</a> <a id="66217" href="Demos.HSP.html#65945" class="Function">refl‚®Ö</a><a id="66222" class="Symbol">)</a> <a id="66224" class="Symbol">(</a><a id="66225" href="Demos.HSP.html#66063" class="Function">from‚®Ö</a> <a id="66231" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="66233" href="Demos.HSP.html#26633" class="InductiveConstructor">mkhom</a> <a id="66239" href="Relation.Binary.Structures.html#1596" class="Function">refl</a><a id="66243" class="Symbol">)</a> <a id="66245" class="Symbol">(Œª</a> <a id="66248" href="Demos.HSP.html#66248" class="Bound">_</a> <a id="66250" href="Demos.HSP.html#66250" class="Bound">_</a> <a id="66252" class="Symbol">‚Üí</a> <a id="66254" href="Relation.Binary.Structures.html#1596" class="Function">refl</a><a id="66258" class="Symbol">)</a> <a id="66260" class="Symbol">(Œª</a> <a id="66263" href="Demos.HSP.html#66263" class="Bound">_</a> <a id="66265" class="Symbol">‚Üí</a> <a id="66267" href="Relation.Binary.Structures.html#1596" class="Function">refl</a><a id="66271" class="Symbol">)</a>

</pre>
Observe how `ùë®` is expressed as (isomorphic to) a product with just one factor (itself), that is, the product
`‚®Ö (Œª x ‚Üí ùë®)` indexed over the one-element type `‚ä§`.

For the inclusion `V ùí¶ ‚äÜ ùí¶`, recall lemma `V-id1` which asserts that `ùí¶ ‚ä´ p ‚âà q` implies
`V ‚Ñì Œπ ùí¶ ‚ä´ p ‚âà q`; whence, if `ùí¶` is an equational class, then `V ùí¶ ‚äÜ ùí¶`, as we now confirm.

<pre class="Agda">

<a id="66646" class="Keyword">module</a> <a id="66653" href="Demos.HSP.html#66653" class="Module">_</a> <a id="66655" class="Symbol">{</a><a id="66656" href="Demos.HSP.html#66656" class="Bound">‚Ñì</a> <a id="66658" class="Symbol">:</a> <a id="66660" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="66665" class="Symbol">}{</a><a id="66667" href="Demos.HSP.html#66667" class="Bound">X</a> <a id="66669" class="Symbol">:</a> <a id="66671" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="66676" href="Demos.HSP.html#66656" class="Bound">‚Ñì</a><a id="66677" class="Symbol">}{</a><a id="66679" href="Demos.HSP.html#66679" class="Bound">‚Ñ∞</a> <a id="66681" class="Symbol">:</a> <a id="66683" class="Symbol">{</a><a id="66684" href="Demos.HSP.html#66684" class="Bound">Y</a> <a id="66686" class="Symbol">:</a> <a id="66688" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="66693" href="Demos.HSP.html#66656" class="Bound">‚Ñì</a><a id="66694" class="Symbol">}</a> <a id="66696" class="Symbol">‚Üí</a> <a id="66698" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="66703" class="Symbol">(</a><a id="66704" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="66709" href="Demos.HSP.html#66684" class="Bound">Y</a> <a id="66711" href="Data.Product.Base.html#1618" class="Function Operator">√ó</a> <a id="66713" href="Demos.HSP.html#40060" class="Datatype">Term</a> <a id="66718" href="Demos.HSP.html#66684" class="Bound">Y</a><a id="66719" class="Symbol">)</a> <a id="66721" class="Symbol">(</a><a id="66722" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="66725" href="Demos.HSP.html#66656" class="Bound">‚Ñì</a><a id="66726" class="Symbol">)}</a> <a id="66729" class="Keyword">where</a>
 <a id="66736" class="Keyword">private</a> <a id="66744" href="Demos.HSP.html#66744" class="Function">ùí¶</a> <a id="66746" class="Symbol">=</a> <a id="66748" href="Demos.HSP.html#49001" class="Function">Mod</a><a id="66751" class="Symbol">{</a><a id="66752" class="Argument">Œ±</a> <a id="66754" class="Symbol">=</a> <a id="66756" href="Demos.HSP.html#66656" class="Bound">‚Ñì</a><a id="66757" class="Symbol">}{</a><a id="66759" href="Demos.HSP.html#66656" class="Bound">‚Ñì</a><a id="66760" class="Symbol">}{</a><a id="66762" href="Demos.HSP.html#66667" class="Bound">X</a><a id="66763" class="Symbol">}</a> <a id="66765" href="Demos.HSP.html#66679" class="Bound">‚Ñ∞</a>     <a id="66771" class="Comment">-- an arbitrary equational class</a>

 <a id="66806" href="Demos.HSP.html#66806" class="Function">EqCl‚áíVar</a> <a id="66815" class="Symbol">:</a> <a id="66817" href="Demos.HSP.html#53430" class="Function">V</a> <a id="66819" href="Demos.HSP.html#66656" class="Bound">‚Ñì</a> <a id="66821" class="Symbol">(</a><a id="66822" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="66825" href="Demos.HSP.html#66656" class="Bound">‚Ñì</a><a id="66826" class="Symbol">)</a> <a id="66828" href="Demos.HSP.html#66744" class="Function">ùí¶</a> <a id="66830" href="Relation.Unary.html#2046" class="Function Operator">‚äÜ</a> <a id="66832" href="Demos.HSP.html#66744" class="Function">ùí¶</a>
 <a id="66835" href="Demos.HSP.html#66806" class="Function">EqCl‚áíVar</a> <a id="66844" class="Symbol">{</a><a id="66845" href="Demos.HSP.html#66845" class="Bound">ùë®</a><a id="66846" class="Symbol">}</a> <a id="66848" href="Demos.HSP.html#66848" class="Bound">vA</a> <a id="66851" class="Symbol">{</a><a id="66852" href="Demos.HSP.html#66852" class="Bound">p</a><a id="66853" class="Symbol">}</a> <a id="66855" class="Symbol">{</a><a id="66856" href="Demos.HSP.html#66856" class="Bound">q</a><a id="66857" class="Symbol">}</a> <a id="66859" href="Demos.HSP.html#66859" class="Bound">p‚Ñ∞q</a> <a id="66863" href="Demos.HSP.html#66863" class="Bound">œÅ</a> <a id="66865" class="Symbol">=</a> <a id="66867" href="Demos.HSP.html#55165" class="Function">V-id1</a> <a id="66873" href="Demos.HSP.html#66656" class="Bound">‚Ñì</a> <a id="66875" class="Symbol">{</a><a id="66876" href="Demos.HSP.html#66744" class="Function">ùí¶</a><a id="66877" class="Symbol">}</a> <a id="66879" class="Symbol">{</a><a id="66880" href="Demos.HSP.html#66852" class="Bound">p</a><a id="66881" class="Symbol">}</a> <a id="66883" class="Symbol">{</a><a id="66884" href="Demos.HSP.html#66856" class="Bound">q</a><a id="66885" class="Symbol">}</a> <a id="66887" class="Symbol">(Œª</a> <a id="66890" href="Demos.HSP.html#66890" class="Bound">_</a> <a id="66892" href="Demos.HSP.html#66892" class="Bound">x</a> <a id="66894" href="Demos.HSP.html#66894" class="Bound">œÑ</a> <a id="66896" class="Symbol">‚Üí</a> <a id="66898" href="Demos.HSP.html#66892" class="Bound">x</a> <a id="66900" href="Demos.HSP.html#66859" class="Bound">p‚Ñ∞q</a> <a id="66904" href="Demos.HSP.html#66894" class="Bound">œÑ</a><a id="66905" class="Symbol">)</a> <a id="66907" href="Demos.HSP.html#66845" class="Bound">ùë®</a> <a id="66909" href="Demos.HSP.html#66848" class="Bound">vA</a> <a id="66912" href="Demos.HSP.html#66863" class="Bound">œÅ</a>

</pre>
By `V-expa` and `Eqcl‚áíVar`, every equational class is a variety.

(‚áê) *Every variety is an equational class*.
To fix an arbitrary variety, start with an arbitrary class `ùí¶` of `ùëÜ`-algebras and take the *varietal closure*, `V ùí¶`. We prove that `V ùí¶` is precisely the collection of algebras that model `Th (V ùí¶)`; that is, `V ùí¶ = Mod (Th (V ùí¶))`.  The inclusion `V ùí¶ ‚äÜ Mod (Th (V ùí¶))` is a consequence of the fact that `Mod Th` is a closure operator.

<pre class="Agda">

<a id="67390" class="Keyword">module</a> <a id="67397" href="Demos.HSP.html#67397" class="Module">_</a> <a id="67399" class="Symbol">(</a><a id="67400" href="Demos.HSP.html#67400" class="Bound">ùí¶</a> <a id="67402" class="Symbol">:</a> <a id="67404" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="67408" class="Symbol">(</a><a id="67409" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="67417" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="67419" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="67421" class="Symbol">)</a> <a id="67423" class="Symbol">(</a><a id="67424" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="67426" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="67428" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="67431" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="67433" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="67436" href="Demos.HSP.html#7175" class="Generalizable">‚Ñì</a><a id="67437" class="Symbol">)){</a><a id="67440" href="Demos.HSP.html#67440" class="Bound">X</a> <a id="67442" class="Symbol">:</a> <a id="67444" href="Demos.HSP.html#6374" class="Primitive">Type</a> <a id="67449" class="Symbol">(</a><a id="67450" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="67452" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="67454" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="67457" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="67459" href="Demos.HSP.html#7175" class="Generalizable">‚Ñì</a><a id="67460" class="Symbol">)}</a> <a id="67463" class="Keyword">where</a>
 <a id="67470" class="Keyword">private</a> <a id="67478" href="Demos.HSP.html#67478" class="Function">c</a> <a id="67480" class="Symbol">=</a> <a id="67482" href="Demos.HSP.html#67417" class="Bound">Œ±</a> <a id="67484" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="67486" href="Demos.HSP.html#67419" class="Bound">œÅ·µÉ</a> <a id="67489" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="67491" href="Demos.HSP.html#67436" class="Bound">‚Ñì</a> <a id="67493" class="Symbol">;</a> <a id="67495" href="Demos.HSP.html#67495" class="Function">Œπ</a> <a id="67497" class="Symbol">=</a> <a id="67499" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="67502" href="Demos.HSP.html#67478" class="Function">c</a>

 <a id="67506" href="Demos.HSP.html#67506" class="Function">ModTh-closure</a> <a id="67520" class="Symbol">:</a> <a id="67522" href="Demos.HSP.html#53430" class="Function">V</a><a id="67523" class="Symbol">{</a><a id="67524" class="Argument">Œ≤</a> <a id="67526" class="Symbol">=</a> <a id="67528" href="Demos.HSP.html#7156" class="Generalizable">Œ≤</a><a id="67529" class="Symbol">}{</a><a id="67531" href="Demos.HSP.html#7158" class="Generalizable">œÅ·µá</a><a id="67533" class="Symbol">}{</a><a id="67535" href="Demos.HSP.html#7161" class="Generalizable">Œ≥</a><a id="67536" class="Symbol">}{</a><a id="67538" href="Demos.HSP.html#7163" class="Generalizable">œÅ·∂ú</a><a id="67540" class="Symbol">}{</a><a id="67542" href="Demos.HSP.html#7166" class="Generalizable">Œ¥</a><a id="67543" class="Symbol">}{</a><a id="67545" href="Demos.HSP.html#7168" class="Generalizable">œÅ·µà</a><a id="67547" class="Symbol">}</a> <a id="67549" href="Demos.HSP.html#67436" class="Bound">‚Ñì</a> <a id="67551" href="Demos.HSP.html#67495" class="Function">Œπ</a> <a id="67553" href="Demos.HSP.html#67400" class="Bound">ùí¶</a> <a id="67555" href="Relation.Unary.html#2046" class="Function Operator">‚äÜ</a> <a id="67557" href="Demos.HSP.html#49001" class="Function">Mod</a><a id="67560" class="Symbol">{</a><a id="67561" class="Argument">X</a> <a id="67563" class="Symbol">=</a> <a id="67565" href="Demos.HSP.html#67440" class="Bound">X</a><a id="67566" class="Symbol">}</a> <a id="67568" class="Symbol">(</a><a id="67569" href="Demos.HSP.html#48903" class="Function">Th</a> <a id="67572" class="Symbol">(</a><a id="67573" href="Demos.HSP.html#53430" class="Function">V</a> <a id="67575" href="Demos.HSP.html#67436" class="Bound">‚Ñì</a> <a id="67577" href="Demos.HSP.html#67495" class="Function">Œπ</a> <a id="67579" href="Demos.HSP.html#67400" class="Bound">ùí¶</a><a id="67580" class="Symbol">))</a>
 <a id="67584" href="Demos.HSP.html#67506" class="Function">ModTh-closure</a> <a id="67598" class="Symbol">{</a><a id="67599" class="Argument">x</a> <a id="67601" class="Symbol">=</a> <a id="67603" href="Demos.HSP.html#67603" class="Bound">ùë®</a><a id="67604" class="Symbol">}</a> <a id="67606" href="Demos.HSP.html#67606" class="Bound">vA</a> <a id="67609" class="Symbol">{</a><a id="67610" href="Demos.HSP.html#67610" class="Bound">p</a><a id="67611" class="Symbol">}</a> <a id="67613" class="Symbol">{</a><a id="67614" href="Demos.HSP.html#67614" class="Bound">q</a><a id="67615" class="Symbol">}</a> <a id="67617" href="Demos.HSP.html#67617" class="Bound">x</a> <a id="67619" href="Demos.HSP.html#67619" class="Bound">œÅ</a> <a id="67621" class="Symbol">=</a> <a id="67623" href="Demos.HSP.html#67617" class="Bound">x</a> <a id="67625" href="Demos.HSP.html#67603" class="Bound">ùë®</a> <a id="67627" href="Demos.HSP.html#67606" class="Bound">vA</a> <a id="67630" href="Demos.HSP.html#67619" class="Bound">œÅ</a>

</pre>

Our proof of the inclusion `Mod( Th( V ùí¶)) ‚äÜ V ùí¶` is carried out in two steps.

* Prove  `ùîΩ[ X ] ‚â§ ùë™ X`.
* Prove that every algebra in `Mod (Th (V ùí¶))` is a homomorphic image of `ùîΩ[ X ]`.

From the first item we have `ùîΩ[ X ] ‚àà S( P ùí¶))`, since `ùë™ X` is a product of algebras in `ùí¶`. From this and the second item will follow `Mod (Th (V ùí¶)) ‚äÜ H (S (P ùí¶))` (= `V ùí¶`), as desired.

To prove `ùîΩ[ X ] ‚â§ ùë™ X`, we construct a homomorphism from `ùîΩ[ X ]` to `ùë™ X` and then show it is injective,
so `ùîΩ[ X ]` is (isomorphic to) a subalgebra of `ùë™ X`.

<pre class="Agda">

 <a id="68202" class="Keyword">open</a> <a id="68207" href="Demos.HSP.html#60276" class="Module">FreeHom</a> <a id="68215" class="Symbol">{</a><a id="68216" class="Argument">‚Ñì</a> <a id="68218" class="Symbol">=</a> <a id="68220" href="Demos.HSP.html#67436" class="Bound">‚Ñì</a><a id="68221" class="Symbol">}{</a><a id="68223" href="Demos.HSP.html#67400" class="Bound">ùí¶</a><a id="68224" class="Symbol">}</a>
 <a id="68227" class="Keyword">open</a> <a id="68232" href="Demos.HSP.html#59415" class="Module">FreeAlgebra</a> <a id="68244" href="Demos.HSP.html#67400" class="Bound">ùí¶</a> <a id="68246" class="Keyword">using</a> <a id="68252" class="Symbol">(</a><a id="68253" href="Demos.HSP.html#59778" class="Function">homC</a> <a id="68258" class="Symbol">;</a>  <a id="68261" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[_]</a> <a id="68266" class="Symbol">;</a> <a id="68268" href="Demos.HSP.html#59589" class="Function">ùë™</a> <a id="68270" class="Symbol">)</a>
 <a id="68273" href="Demos.HSP.html#68273" class="Function">homFC</a> <a id="68279" class="Symbol">:</a> <a id="68281" href="Demos.HSP.html#26686" class="Function">hom</a> <a id="68285" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="68288" href="Demos.HSP.html#67440" class="Bound">X</a> <a id="68290" href="Demos.HSP.html#59868" class="Function Operator">]</a> <a id="68292" class="Symbol">(</a><a id="68293" href="Demos.HSP.html#59589" class="Function">ùë™</a> <a id="68295" href="Demos.HSP.html#67440" class="Bound">X</a><a id="68296" class="Symbol">)</a>
 <a id="68299" href="Demos.HSP.html#68273" class="Function">homFC</a> <a id="68305" class="Symbol">=</a> <a id="68307" href="Demos.HSP.html#36964" class="Function">fromHomIm</a> <a id="68317" class="Symbol">(</a><a id="68318" href="Demos.HSP.html#59778" class="Function">homC</a> <a id="68323" href="Demos.HSP.html#67440" class="Bound">X</a><a id="68324" class="Symbol">)</a>

 <a id="68328" href="Demos.HSP.html#68328" class="Function">monFC</a> <a id="68334" class="Symbol">:</a> <a id="68336" href="Demos.HSP.html#27314" class="Function">mon</a> <a id="68340" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="68343" href="Demos.HSP.html#67440" class="Bound">X</a> <a id="68345" href="Demos.HSP.html#59868" class="Function Operator">]</a> <a id="68347" class="Symbol">(</a><a id="68348" href="Demos.HSP.html#59589" class="Function">ùë™</a> <a id="68350" href="Demos.HSP.html#67440" class="Bound">X</a><a id="68351" class="Symbol">)</a>
 <a id="68354" href="Demos.HSP.html#68328" class="Function">monFC</a> <a id="68360" class="Symbol">=</a> <a id="68362" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="68364" href="Demos.HSP.html#68273" class="Function">homFC</a> <a id="68370" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="68372" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="68374" class="Keyword">record</a> <a id="68381" class="Symbol">{</a> <a id="68383" href="Demos.HSP.html#27217" class="Field">isHom</a> <a id="68389" class="Symbol">=</a> <a id="68391" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="68393" href="Demos.HSP.html#68273" class="Function">homFC</a> <a id="68399" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a>
                            <a id="68429" class="Symbol">;</a> <a id="68431" href="Demos.HSP.html#27242" class="Field">isInjective</a> <a id="68443" class="Symbol">=</a>  <a id="68446" class="Symbol">Œª</a> <a id="68448" class="Symbol">{</a><a id="68449" href="Demos.HSP.html#68449" class="Bound">x</a><a id="68450" class="Symbol">}{</a><a id="68452" href="Demos.HSP.html#68452" class="Bound">y</a><a id="68453" class="Symbol">}‚Üí</a> <a id="68456" href="Demos.HSP.html#13996" class="Function">fromIm-inj</a> <a id="68467" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="68469" href="Demos.HSP.html#59778" class="Function">homC</a> <a id="68474" href="Demos.HSP.html#67440" class="Bound">X</a> <a id="68476" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="68478" class="Symbol">{</a><a id="68479" href="Demos.HSP.html#68449" class="Bound">x</a><a id="68480" class="Symbol">}{</a><a id="68482" href="Demos.HSP.html#68452" class="Bound">y</a><a id="68483" class="Symbol">}</a>   <a id="68487" class="Symbol">}</a>
 <a id="68490" href="Demos.HSP.html#68490" class="Function">F‚â§C</a> <a id="68494" class="Symbol">:</a> <a id="68496" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="68499" href="Demos.HSP.html#67440" class="Bound">X</a> <a id="68501" href="Demos.HSP.html#59868" class="Function Operator">]</a> <a id="68503" href="Demos.HSP.html#37978" class="Function Operator">‚â§</a> <a id="68505" href="Demos.HSP.html#59589" class="Function">ùë™</a> <a id="68507" href="Demos.HSP.html#67440" class="Bound">X</a>
 <a id="68510" href="Demos.HSP.html#68490" class="Function">F‚â§C</a> <a id="68514" class="Symbol">=</a> <a id="68516" href="Demos.HSP.html#38703" class="Function">mon‚Üí‚â§</a> <a id="68522" href="Demos.HSP.html#68328" class="Function">monFC</a>

 <a id="68530" class="Keyword">open</a> <a id="68535" href="Demos.HSP.html#59415" class="Module">FreeAlgebra</a> <a id="68547" href="Demos.HSP.html#67400" class="Bound">ùí¶</a> <a id="68549" class="Keyword">using</a> <a id="68555" class="Symbol">(</a> <a id="68557" href="Demos.HSP.html#59497" class="Function">‚Ñë</a> <a id="68559" class="Symbol">)</a>

 <a id="68563" href="Demos.HSP.html#68563" class="Function">SPF</a> <a id="68567" class="Symbol">:</a> <a id="68569" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="68572" href="Demos.HSP.html#67440" class="Bound">X</a> <a id="68574" href="Demos.HSP.html#59868" class="Function Operator">]</a> <a id="68576" href="Relation.Unary.html#1818" class="Function Operator">‚àà</a> <a id="68578" href="Demos.HSP.html#50247" class="Function">S</a> <a id="68580" href="Demos.HSP.html#67495" class="Function">Œπ</a> <a id="68582" class="Symbol">(</a><a id="68583" href="Demos.HSP.html#50359" class="Function">P</a> <a id="68585" href="Demos.HSP.html#67436" class="Bound">‚Ñì</a> <a id="68587" href="Demos.HSP.html#67495" class="Function">Œπ</a> <a id="68589" href="Demos.HSP.html#67400" class="Bound">ùí¶</a><a id="68590" class="Symbol">)</a>
 <a id="68593" href="Demos.HSP.html#68563" class="Function">SPF</a> <a id="68597" class="Symbol">=</a> <a id="68599" href="Demos.HSP.html#59589" class="Function">ùë™</a> <a id="68601" href="Demos.HSP.html#67440" class="Bound">X</a> <a id="68603" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="68605" class="Symbol">((</a><a id="68607" href="Demos.HSP.html#59497" class="Function">‚Ñë</a> <a id="68609" href="Demos.HSP.html#67440" class="Bound">X</a><a id="68610" class="Symbol">)</a> <a id="68612" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="68614" class="Symbol">(</a><a id="68615" href="Demos.HSP.html#7795" class="Function Operator">‚à£_‚à£</a> <a id="68619" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="68621" class="Symbol">((Œª</a> <a id="68625" href="Demos.HSP.html#68625" class="Bound">i</a> <a id="68627" class="Symbol">‚Üí</a> <a id="68629" href="Demos.HSP.html#6492" class="Field">fst</a> <a id="68633" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="68635" href="Demos.HSP.html#68625" class="Bound">i</a> <a id="68637" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a><a id="68638" class="Symbol">)</a> <a id="68640" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="68642" href="Demos.HSP.html#33902" class="Function">‚âÖ-refl</a><a id="68648" class="Symbol">)))</a> <a id="68652" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>  <a id="68655" href="Demos.HSP.html#68490" class="Function">F‚â§C</a>
</pre>

Next we prove that every algebra in `Mod (Th (V ùí¶))` is a homomorphic image of `ùîΩ[ X ]`. Indeed,

<pre class="Agda">

<a id="68783" class="Keyword">module</a> <a id="68790" href="Demos.HSP.html#68790" class="Module">_</a> <a id="68792" class="Symbol">{</a><a id="68793" href="Demos.HSP.html#68793" class="Bound">ùí¶</a> <a id="68795" class="Symbol">:</a> <a id="68797" href="Relation.Unary.html#1178" class="Function">Pred</a><a id="68801" class="Symbol">(</a><a id="68802" href="Demos.HSP.html#18529" class="Record">Algebra</a> <a id="68810" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="68812" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a><a id="68814" class="Symbol">)</a> <a id="68816" class="Symbol">(</a><a id="68817" href="Demos.HSP.html#7151" class="Generalizable">Œ±</a> <a id="68819" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="68821" href="Demos.HSP.html#7153" class="Generalizable">œÅ·µÉ</a> <a id="68824" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="68826" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="68829" href="Demos.HSP.html#7175" class="Generalizable">‚Ñì</a><a id="68830" class="Symbol">)}</a> <a id="68833" class="Keyword">where</a>
 <a id="68840" class="Keyword">private</a> <a id="68848" href="Demos.HSP.html#68848" class="Function">c</a> <a id="68850" class="Symbol">=</a> <a id="68852" href="Demos.HSP.html#68810" class="Bound">Œ±</a> <a id="68854" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="68856" href="Demos.HSP.html#68812" class="Bound">œÅ·µÉ</a> <a id="68859" href="Agda.Primitive.html#961" class="Primitive Operator">‚äî</a> <a id="68861" href="Demos.HSP.html#68829" class="Bound">‚Ñì</a> <a id="68863" class="Symbol">;</a> <a id="68865" href="Demos.HSP.html#68865" class="Function">Œπ</a> <a id="68867" class="Symbol">=</a> <a id="68869" href="Demos.HSP.html#35102" class="Function">ov</a> <a id="68872" href="Demos.HSP.html#68848" class="Function">c</a>

 <a id="68876" href="Demos.HSP.html#68876" class="Function">Var‚áíEqCl</a> <a id="68885" class="Symbol">:</a> <a id="68887" class="Symbol">‚àÄ</a> <a id="68889" href="Demos.HSP.html#68889" class="Bound">ùë®</a> <a id="68891" class="Symbol">‚Üí</a> <a id="68893" href="Demos.HSP.html#68889" class="Bound">ùë®</a> <a id="68895" href="Relation.Unary.html#1818" class="Function Operator">‚àà</a> <a id="68897" href="Demos.HSP.html#49001" class="Function">Mod</a> <a id="68901" class="Symbol">(</a><a id="68902" href="Demos.HSP.html#48903" class="Function">Th</a> <a id="68905" class="Symbol">(</a><a id="68906" href="Demos.HSP.html#53430" class="Function">V</a> <a id="68908" href="Demos.HSP.html#68829" class="Bound">‚Ñì</a> <a id="68910" href="Demos.HSP.html#68865" class="Function">Œπ</a> <a id="68912" href="Demos.HSP.html#68793" class="Bound">ùí¶</a><a id="68913" class="Symbol">))</a> <a id="68916" class="Symbol">‚Üí</a> <a id="68918" href="Demos.HSP.html#68889" class="Bound">ùë®</a> <a id="68920" href="Relation.Unary.html#1818" class="Function Operator">‚àà</a> <a id="68922" href="Demos.HSP.html#53430" class="Function">V</a> <a id="68924" href="Demos.HSP.html#68829" class="Bound">‚Ñì</a> <a id="68926" href="Demos.HSP.html#68865" class="Function">Œπ</a> <a id="68928" href="Demos.HSP.html#68793" class="Bound">ùí¶</a>
 <a id="68931" href="Demos.HSP.html#68876" class="Function">Var‚áíEqCl</a> <a id="68940" href="Demos.HSP.html#68940" class="Bound">ùë®</a> <a id="68942" href="Demos.HSP.html#68942" class="Bound">ModThA</a> <a id="68949" class="Symbol">=</a> <a id="68951" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="68954" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="68957" href="Demos.HSP.html#68940" class="Bound">ùë®</a> <a id="68959" href="Demos.HSP.html#19227" class="Function Operator">]</a> <a id="68961" href="Demos.HSP.html#59868" class="Function Operator">]</a> <a id="68963" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="68965" class="Symbol">(</a><a id="68966" href="Demos.HSP.html#68563" class="Function">SPF</a><a id="68969" class="Symbol">{</a><a id="68970" class="Argument">‚Ñì</a> <a id="68972" class="Symbol">=</a> <a id="68974" href="Demos.HSP.html#68829" class="Bound">‚Ñì</a><a id="68975" class="Symbol">}</a> <a id="68977" href="Demos.HSP.html#68793" class="Bound">ùí¶</a> <a id="68979" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="68981" href="Demos.HSP.html#69240" class="Function">Aim</a><a id="68984" class="Symbol">)</a>
  <a id="68988" class="Keyword">where</a>
  <a id="68996" class="Keyword">open</a> <a id="69001" href="Demos.HSP.html#59415" class="Module">FreeAlgebra</a> <a id="69013" href="Demos.HSP.html#68793" class="Bound">ùí¶</a> <a id="69015" class="Keyword">using</a> <a id="69021" class="Symbol">(</a> <a id="69023" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[_]</a> <a id="69028" class="Symbol">)</a>
  <a id="69032" href="Demos.HSP.html#69032" class="Function">epiFlA</a> <a id="69039" class="Symbol">:</a> <a id="69041" href="Demos.HSP.html#27741" class="Function">epi</a> <a id="69045" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="69048" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="69051" href="Demos.HSP.html#68940" class="Bound">ùë®</a> <a id="69053" href="Demos.HSP.html#19227" class="Function Operator">]</a> <a id="69055" href="Demos.HSP.html#59868" class="Function Operator">]</a> <a id="69057" class="Symbol">(</a><a id="69058" href="Demos.HSP.html#22427" class="Function">Lift-Alg</a> <a id="69067" href="Demos.HSP.html#68940" class="Bound">ùë®</a> <a id="69069" href="Demos.HSP.html#68865" class="Function">Œπ</a> <a id="69071" href="Demos.HSP.html#68865" class="Function">Œπ</a><a id="69072" class="Symbol">)</a>
  <a id="69076" href="Demos.HSP.html#69032" class="Function">epiFlA</a> <a id="69083" class="Symbol">=</a> <a id="69085" href="Demos.HSP.html#62497" class="Function">F-ModTh-epi-lift</a><a id="69101" class="Symbol">{</a><a id="69102" class="Argument">‚Ñì</a> <a id="69104" class="Symbol">=</a> <a id="69106" href="Demos.HSP.html#68829" class="Bound">‚Ñì</a><a id="69107" class="Symbol">}</a> <a id="69109" class="Symbol">Œª</a> <a id="69111" class="Symbol">{</a><a id="69112" href="Demos.HSP.html#69112" class="Bound">p</a> <a id="69114" href="Demos.HSP.html#69114" class="Bound">q</a><a id="69115" class="Symbol">}</a> <a id="69117" class="Symbol">‚Üí</a> <a id="69119" href="Demos.HSP.html#68942" class="Bound">ModThA</a><a id="69125" class="Symbol">{</a><a id="69126" class="Argument">p</a> <a id="69128" class="Symbol">=</a> <a id="69130" href="Demos.HSP.html#69112" class="Bound">p</a><a id="69131" class="Symbol">}{</a><a id="69133" href="Demos.HSP.html#69114" class="Bound">q</a><a id="69134" class="Symbol">}</a>

  <a id="69139" href="Demos.HSP.html#69139" class="Function">œÜ</a> <a id="69141" class="Symbol">:</a> <a id="69143" href="Demos.HSP.html#22427" class="Function">Lift-Alg</a> <a id="69152" href="Demos.HSP.html#68940" class="Bound">ùë®</a> <a id="69154" href="Demos.HSP.html#68865" class="Function">Œπ</a> <a id="69156" href="Demos.HSP.html#68865" class="Function">Œπ</a> <a id="69158" href="Demos.HSP.html#35198" class="Function Operator">IsHomImageOf</a> <a id="69171" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="69174" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="69177" href="Demos.HSP.html#68940" class="Bound">ùë®</a> <a id="69179" href="Demos.HSP.html#19227" class="Function Operator">]</a> <a id="69181" href="Demos.HSP.html#59868" class="Function Operator">]</a>
  <a id="69185" href="Demos.HSP.html#69139" class="Function">œÜ</a> <a id="69187" class="Symbol">=</a> <a id="69189" href="Demos.HSP.html#28097" class="Function">epi‚Üíontohom</a> <a id="69201" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="69204" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="69207" href="Demos.HSP.html#68940" class="Bound">ùë®</a> <a id="69209" href="Demos.HSP.html#19227" class="Function Operator">]</a> <a id="69211" href="Demos.HSP.html#59868" class="Function Operator">]</a> <a id="69213" class="Symbol">(</a><a id="69214" href="Demos.HSP.html#22427" class="Function">Lift-Alg</a> <a id="69223" href="Demos.HSP.html#68940" class="Bound">ùë®</a> <a id="69225" href="Demos.HSP.html#68865" class="Function">Œπ</a> <a id="69227" href="Demos.HSP.html#68865" class="Function">Œπ</a><a id="69228" class="Symbol">)</a> <a id="69230" href="Demos.HSP.html#69032" class="Function">epiFlA</a>

  <a id="69240" href="Demos.HSP.html#69240" class="Function">Aim</a> <a id="69244" class="Symbol">:</a> <a id="69246" href="Demos.HSP.html#68940" class="Bound">ùë®</a> <a id="69248" href="Demos.HSP.html#35198" class="Function Operator">IsHomImageOf</a> <a id="69261" href="Demos.HSP.html#59868" class="Function Operator">ùîΩ[</a> <a id="69264" href="Demos.HSP.html#19227" class="Function Operator">ùïå[</a> <a id="69267" href="Demos.HSP.html#68940" class="Bound">ùë®</a> <a id="69269" href="Demos.HSP.html#19227" class="Function Operator">]</a> <a id="69271" href="Demos.HSP.html#59868" class="Function Operator">]</a>
  <a id="69275" href="Demos.HSP.html#69240" class="Function">Aim</a> <a id="69279" class="Symbol">=</a> <a id="69281" href="Demos.HSP.html#29194" class="Function">‚àò-hom</a> <a id="69287" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a> <a id="69289" href="Demos.HSP.html#69139" class="Function">œÜ</a> <a id="69291" href="Demos.HSP.html#7795" class="Function Operator">‚à£</a><a id="69292" class="Symbol">(</a><a id="69293" href="Demos.HSP.html#33214" class="Field">from</a> <a id="69298" href="Demos.HSP.html#37619" class="Function">Lift-‚âÖ</a><a id="69304" class="Symbol">)</a><a id="69305" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="69307" href="Demos.HSP.html#12904" class="Function">‚àò-IsSurjective</a> <a id="69322" class="Symbol">_</a> <a id="69324" class="Symbol">_</a> <a id="69326" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a> <a id="69328" href="Demos.HSP.html#69139" class="Function">œÜ</a> <a id="69330" href="Demos.HSP.html#7832" class="Function Operator">‚à•</a><a id="69331" class="Symbol">(</a><a id="69332" href="Demos.HSP.html#33638" class="Function">fromIsSurjective</a><a id="69348" class="Symbol">(</a><a id="69349" href="Demos.HSP.html#37619" class="Function">Lift-‚âÖ</a><a id="69355" class="Symbol">{</a><a id="69356" class="Argument">ùë®</a> <a id="69358" class="Symbol">=</a> <a id="69360" href="Demos.HSP.html#68940" class="Bound">ùë®</a><a id="69361" class="Symbol">}))</a>

</pre>
By `ModTh-closure` and `Var‚áíEqCl`, we have `V ùí¶ = Mod (Th (V ùí¶))` for every class `ùí¶` of `ùëÜ`-algebras.
Thus, every variety is an equational class.

This completes the formal proof of Birkhoff's variety theorem. ‚àé

### <a id="discussion">Discussion</a>
 <!-- {#sec:discussion} -->


How do we differ from the classical, set-theoretic approach? Most noticeable is our avoidance of all *size* issues. By using universe levels and level polymorphism, we always make sure we are in a *large enough* universe. So we can easily talk about "all algebras such that..." because these are always taken from a bounded (but arbitrary) universe.

Our use of setoids introduces nothing new: all the equivalence relations we use were already present in the classical proofs. The only "new" material is that we have to prove that functions respect those equivalences.

Our first attempt to formalize Birkhoff's theorem was not sufficiently careful in its handling of variable symbols `X`. Specifically, this type was unconstrained; it is meant to represent the informal notion of a "sufficiently large" collection of variable symbols. Consequently, we postulated surjections from `X` onto the domains of all algebras in the class under consideration. But then, given a signature `ùë∫` and a one-element `ùëÜ`-algebra `ùë®`, by choosing `X` to be the empty type `‚ä•`, our surjectivity postulate gives a map from `‚ä•` onto the singleton domain of `ùë®`. (For details, see the [Demos.ContraX](https://github.com/ualib/agda-algebras/blob/master/src/Demos/ContraX.lagda) module which constructs the counterexample in [Agda][].)

### <a id="related-work">Related work</a>

There have been a number of efforts to formalize parts of universal algebra in type theory besides ours. The Coq proof assistant, based on the Calculus of Inductive Constructions, was used by Capretta, in¬†[@Capretta:1999], and Spitters and Van der Weegen, in¬†[@Spitters:2011], to formalized the basics of universal algebra and some classical algebraic structures. In¬†[@Gunther:2018] Gunther et al developed what seemed (prior to the library) the most extensive libraryof formalized universal algebra to date. Like ,¬†[@Gunther:2018] is based on dependent type theory, is programmed in , and goes beyond the basic isomorphism theorems to include some equational logic. Although their coverage is less extensive than that of , Gunther et al do treat *multi-sorted* algebras, whereas is currently limited to single-sorted structures.

As noted by Abel¬†[@Abel:2021], Amato et al, in [@Amato:2021], have formalized multi-sorted algebras with finitary operators in UniMath. The restriction to finitary operations was due to limitations of the UniMath type theory, which does not have W-types nor user-defined inductive types. Abel also notes that Lynge and Spitters, in¬†[@Lynge:2019], formalize multi-sorted algebras with finitary operators in *Homotopy type theory* ([@HoTT]) using Coq. HoTT's higher inductive types enable them to define quotients as types, without the need for setoids. Lynge and Spitters prove three isomorphism theorems concerning subalgebras and quotient algebras, but do not formalize universal algebras nor varieties. Finally, in¬†[@Abel:2021], Abel gives a new formal proof of the soundness and completeness theorem for multi-sorted algebraic structures.

-----------------------------------

### <a id="footnotes">Footnotes</a>

[^1]: An alternative formalization based on classical set-theory was achieved in¬†[@birkhoff-in-mizar:1999].

[^2]: See the [[Birkhoff.lagda]{.sans-serif}](https://github.com/ualib/ualib.github.io/blob/71f173858701398d56224dd79d152c380c0c2b5e/src/lagda/UALib/Birkhoff.lagda) file in the [[ualib/ualib.gitlab.io]{.sans-serif}](https://github.com/ualib/ualib.github.io) repository ([15 Jan 2021 commit 71f1738](https://github.com/ualib/ualib.github.io/commit/71f173858701398d56224dd79d152c380c0c2b5e))¬†[@ualib_v1.0.0].

[^3]: [[src/Demos/HSP.lagda]{.sans-serif}](https://github.com/ualib/agda-algebras/blob/master/src/Demos/HSP.lagda) in the [agda-algebras][] repository: [[github.com/ualib/agda-algebras]{.sans-serif}](https://github.com/ualib/agda-algebras).

[^4]: the axiom asserting that two point-wise equal functions are equal

[^5]: All submodules of the module in the library are also fully constructive in this sense.

[^6]: The code in this paragraph was suggested by an anonymous referee.

[^7]: `suc ‚Ñì` denotes the successor of `‚Ñì` in the universe hierarchy.

[^8]: The definition of was provided by an anonymous referee; it is indeed simpler than trying to apply the general `HomFactor` theorem found in the [agda-algebras][] library.

[^9]: Some authors reserve the term for a *deductively closed* set of equations, that is, a set of equations that is closed under entailment.

[^10]: The proof we present here is based on¬†[@Bergman:2012 Theorem 4.41].

[^11]: Informally, this is done by assuming `X` has cardinality at least `max(| ùïå[ ùë® ] |, œâ)`. Later we will see how to construct an `X` with the required property in type theory.

[^12]: `‚ü¶ ùë® ‚üß t` denotes the interpretation of the term `t` in the algebra `ùë®`.


{% include UALib.Links.md %}

