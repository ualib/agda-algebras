---
layout: default
title : Varieties.Preservation (The Agda Universal Algebra Library)
date : 2021-01-14
author: [agda-algebras development team][]
---

## <a id="Equation preservation">Equation preservation</a>

This is the [Varieties.Preservation][] module of the [Agda Universal Algebra Library][]. In this module we show that identities are preserved by closure operators H, S, and P.  This will establish the easy direction of Birkhoff's HSP Theorem.

<pre class="Agda">

<a id="473" class="Symbol">{-#</a> <a id="477" class="Keyword">OPTIONS</a> <a id="485" class="Pragma">--without-K</a> <a id="497" class="Pragma">--exact-split</a> <a id="511" class="Pragma">--safe</a> <a id="518" class="Symbol">#-}</a>

<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="Algebras.Basic.html" class="Module">Algebras.Basic</a> <a id="550" class="Keyword">using</a> <a id="556" class="Symbol">(</a> <a id="558" href="Algebras.Basic.html#1139" class="Generalizable">ğ“</a> <a id="560" class="Symbol">;</a> <a id="562" href="Algebras.Basic.html#1141" class="Generalizable">ğ“¥</a> <a id="564" class="Symbol">;</a> <a id="566" href="Algebras.Basic.html#3865" class="Function">Signature</a> <a id="576" class="Symbol">)</a>

<a id="579" class="Keyword">module</a> <a id="586" href="Varieties.Preservation.html" class="Module">Varieties.Preservation</a> <a id="609" class="Symbol">{</a><a id="610" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a> <a id="612" class="Symbol">:</a> <a id="614" href="Algebras.Basic.html#3865" class="Function">Signature</a> <a id="624" href="Algebras.Basic.html#1139" class="Generalizable">ğ“</a> <a id="626" href="Algebras.Basic.html#1141" class="Generalizable">ğ“¥</a><a id="627" class="Symbol">}</a> <a id="629" class="Keyword">where</a>

<a id="636" class="Comment">-- Imports from Agda and the Agda Standard Library -----------------------------------------------</a>
<a id="735" class="Keyword">open</a> <a id="740" class="Keyword">import</a> <a id="747" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>  <a id="763" class="Keyword">using</a> <a id="769" class="Symbol">(</a> <a id="771" href="Agda.Primitive.html#810" class="Primitive Operator">_âŠ”_</a> <a id="775" class="Symbol">;</a> <a id="777" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="782" class="Symbol">;</a> <a id="784" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="790" class="Symbol">)</a> <a id="792" class="Keyword">renaming</a> <a id="801" class="Symbol">(</a> <a id="803" href="Agda.Primitive.html#326" class="Primitive">Set</a>   <a id="809" class="Symbol">to</a> <a id="812" class="Primitive">Type</a> <a id="817" class="Symbol">)</a>
<a id="819" class="Keyword">open</a> <a id="824" class="Keyword">import</a> <a id="831" href="Axiom.Extensionality.Propositional.html" class="Module">Axiom.Extensionality.Propositional</a>
                            <a id="894" class="Keyword">using</a> <a id="900" class="Symbol">()</a> <a id="903" class="Keyword">renaming</a> <a id="912" class="Symbol">(</a><a id="913" href="Axiom.Extensionality.Propositional.html#741" class="Function">Extensionality</a> <a id="928" class="Symbol">to</a> <a id="931" class="Function">funext</a><a id="937" class="Symbol">)</a>
<a id="939" class="Keyword">open</a> <a id="944" class="Keyword">import</a> <a id="951" href="Data.Product.html" class="Module">Data.Product</a>    <a id="967" class="Keyword">using</a> <a id="973" class="Symbol">(</a> <a id="975" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="979" class="Symbol">;</a> <a id="981" href="Data.Product.html#916" class="Function">Î£-syntax</a> <a id="990" class="Symbol">;</a> <a id="992" href="Data.Product.html#1167" class="Function Operator">_Ã—_</a> <a id="996" class="Symbol">)</a> <a id="998" class="Keyword">renaming</a> <a id="1007" class="Symbol">(</a> <a id="1009" href="Agda.Builtin.Sigma.html#252" class="Field">projâ‚</a> <a id="1015" class="Symbol">to</a> <a id="1018" class="Field">fst</a> <a id="1022" class="Symbol">;</a> <a id="1024" href="Agda.Builtin.Sigma.html#264" class="Field">projâ‚‚</a> <a id="1030" class="Symbol">to</a> <a id="1033" class="Field">snd</a> <a id="1037" class="Symbol">)</a>
<a id="1039" class="Keyword">open</a> <a id="1044" class="Keyword">import</a> <a id="1051" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a>   <a id="1067" class="Keyword">using</a> <a id="1073" class="Symbol">(</a> <a id="1075" href="Data.Sum.Base.html#734" class="Datatype Operator">_âŠ_</a> <a id="1079" class="Symbol">)</a> <a id="1081" class="Keyword">renaming</a> <a id="1090" class="Symbol">(</a> <a id="1092" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ‚</a>  <a id="1098" class="Symbol">to</a> <a id="1101" class="InductiveConstructor">inl</a> <a id="1105" class="Symbol">;</a> <a id="1107" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ‚‚</a>  <a id="1113" class="Symbol">to</a> <a id="1116" class="InductiveConstructor">inr</a> <a id="1120" class="Symbol">)</a>
<a id="1122" class="Keyword">open</a> <a id="1127" class="Keyword">import</a> <a id="1134" href="Function.Base.html" class="Module">Function.Base</a>   <a id="1150" class="Keyword">using</a> <a id="1156" class="Symbol">(</a> <a id="1158" href="Function.Base.html#1031" class="Function Operator">_âˆ˜_</a> <a id="1162" class="Symbol">)</a>
<a id="1164" class="Keyword">open</a> <a id="1169" class="Keyword">import</a> <a id="1176" href="Relation.Unary.html" class="Module">Relation.Unary</a>  <a id="1192" class="Keyword">using</a> <a id="1198" class="Symbol">(</a> <a id="1200" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="1205" class="Symbol">;</a> <a id="1207" href="Relation.Unary.html#1742" class="Function Operator">_âŠ†_</a> <a id="1211" class="Symbol">;</a> <a id="1213" href="Relation.Unary.html#1523" class="Function Operator">_âˆˆ_</a> <a id="1217" class="Symbol">;</a> <a id="1219" href="Relation.Unary.html#1335" class="Function Operator">ï½›_ï½</a> <a id="1223" class="Symbol">;</a> <a id="1225" href="Relation.Unary.html#4417" class="Function Operator">_âˆª_</a> <a id="1229" class="Symbol">)</a>
<a id="1231" class="Keyword">open</a> <a id="1236" class="Keyword">import</a> <a id="1243" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
                            <a id="1309" class="Keyword">using</a> <a id="1315" class="Symbol">(</a> <a id="1317" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_â‰¡_</a> <a id="1321" class="Symbol">;</a> <a id="1323" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1328" class="Symbol">;</a> <a id="1330" class="Keyword">module</a> <a id="1337" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">â‰¡-Reasoning</a> <a id="1349" class="Symbol">;</a> <a id="1351" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="1360" class="Symbol">;</a> <a id="1362" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1367" class="Symbol">)</a>

<a id="1370" class="Comment">-- Imports from the Agda Universal Algebra Library ---------------------------------------------</a>
<a id="1467" class="Keyword">open</a> <a id="1472" class="Keyword">import</a> <a id="1479" href="Overture.Preliminaries.html" class="Module">Overture.Preliminaries</a>             <a id="1514" class="Keyword">using</a> <a id="1520" class="Symbol">(</a> <a id="1522" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£_âˆ£</a> <a id="1526" class="Symbol">;</a> <a id="1528" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥_âˆ¥</a> <a id="1532" class="Symbol">;</a> <a id="1534" href="Overture.Preliminaries.html#5228" class="Function Operator">_â»Â¹</a> <a id="1538" class="Symbol">)</a>
<a id="1540" class="Keyword">open</a> <a id="1545" class="Keyword">import</a> <a id="1552" href="Overture.Inverses.html" class="Module">Overture.Inverses</a>                  <a id="1587" class="Keyword">using</a> <a id="1593" class="Symbol">(</a> <a id="1595" href="Overture.Inverses.html#1860" class="Function">Inv</a> <a id="1599" class="Symbol">;</a> <a id="1601" href="Overture.Inverses.html#2440" class="Function">IsInjective</a> <a id="1613" class="Symbol">;</a> <a id="1615" href="Overture.Inverses.html#2023" class="Function">InvIsInv</a> <a id="1624" class="Symbol">)</a>
<a id="1626" class="Keyword">open</a> <a id="1631" class="Keyword">import</a> <a id="1638" href="Foundations.Truncation.html" class="Module">Foundations.Truncation</a>             <a id="1673" class="Keyword">using</a> <a id="1679" class="Symbol">(</a> <a id="1681" href="Foundations.Truncation.html#3965" class="Function">hfunext</a> <a id="1689" class="Symbol">)</a>
<a id="1691" class="Keyword">open</a> <a id="1696" class="Keyword">import</a> <a id="1703" href="Foundations.Welldefined.html" class="Module">Foundations.Welldefined</a>            <a id="1738" class="Keyword">using</a> <a id="1744" class="Symbol">(</a> <a id="1746" href="Foundations.Welldefined.html#2946" class="Function">SwellDef</a> <a id="1755" class="Symbol">)</a>
<a id="1757" class="Keyword">open</a> <a id="1762" class="Keyword">import</a> <a id="1769" href="Foundations.Extensionality.html" class="Module">Foundations.Extensionality</a>         <a id="1804" class="Keyword">using</a> <a id="1810" class="Symbol">(</a> <a id="1812" href="Foundations.Extensionality.html#2463" class="Function">DFunExt</a> <a id="1820" class="Symbol">)</a>
<a id="1822" class="Keyword">open</a> <a id="1827" class="Keyword">import</a> <a id="1834" href="Algebras.Basic.html" class="Module">Algebras.Basic</a>                     <a id="1869" class="Keyword">using</a> <a id="1875" class="Symbol">(</a> <a id="1877" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="1885" class="Symbol">;</a> <a id="1887" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="1896" class="Symbol">)</a>
<a id="1898" class="Keyword">open</a> <a id="1903" class="Keyword">import</a> <a id="1910" href="Algebras.Products.html" class="Module">Algebras.Products</a>          <a id="1937" class="Symbol">{</a><a id="1938" class="Argument">ğ‘†</a> <a id="1940" class="Symbol">=</a> <a id="1942" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="1943" class="Symbol">}</a> <a id="1945" class="Keyword">using</a> <a id="1951" class="Symbol">(</a> <a id="1953" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="1956" class="Symbol">;</a> <a id="1958" href="Algebras.Products.html#1785" class="Function">â¨…</a> <a id="1960" class="Symbol">;</a> <a id="1962" href="Algebras.Products.html#5149" class="Function">ğ”„</a> <a id="1964" class="Symbol">;</a> <a id="1966" href="Algebras.Products.html#5296" class="Function">class-product</a><a id="1979" class="Symbol">)</a>
<a id="1981" class="Keyword">open</a> <a id="1986" class="Keyword">import</a> <a id="1993" href="Homomorphisms.Basic.html" class="Module">Homomorphisms.Basic</a>        <a id="2020" class="Symbol">{</a><a id="2021" class="Argument">ğ‘†</a> <a id="2023" class="Symbol">=</a> <a id="2025" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2026" class="Symbol">}</a> <a id="2028" class="Keyword">using</a> <a id="2034" class="Symbol">(</a> <a id="2036" href="Homomorphisms.Basic.html#3061" class="Function">is-homomorphism</a> <a id="2052" class="Symbol">)</a>
<a id="2054" class="Keyword">open</a> <a id="2059" class="Keyword">import</a> <a id="2066" href="Homomorphisms.Isomorphisms.html" class="Module">Homomorphisms.Isomorphisms</a> <a id="2093" class="Symbol">{</a><a id="2094" class="Argument">ğ‘†</a> <a id="2096" class="Symbol">=</a> <a id="2098" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2099" class="Symbol">}</a> <a id="2101" class="Keyword">using</a> <a id="2107" class="Symbol">(</a> <a id="2109" href="Homomorphisms.Isomorphisms.html#2276" class="Record Operator">_â‰…_</a> <a id="2113" class="Symbol">;</a> <a id="2115" href="Homomorphisms.Isomorphisms.html#2906" class="Function">â‰…-sym</a> <a id="2121" class="Symbol">;</a> <a id="2123" href="Homomorphisms.Isomorphisms.html#4349" class="Function">Lift-â‰…</a> <a id="2130" class="Symbol">;</a> <a id="2132" href="Homomorphisms.Isomorphisms.html#2995" class="Function">â‰…-trans</a> <a id="2140" class="Symbol">;</a> <a id="2142" href="Homomorphisms.Isomorphisms.html#5669" class="Function">â¨…â‰…</a> <a id="2145" class="Symbol">;</a> <a id="2147" href="Homomorphisms.Isomorphisms.html#2816" class="Function">â‰…-refl</a>
                                                     <a id="2207" class="Symbol">;</a> <a id="2209" href="Homomorphisms.Isomorphisms.html#4668" class="Function">Lift-Alg-iso</a> <a id="2222" class="Symbol">;</a> <a id="2224" href="Homomorphisms.Isomorphisms.html#5089" class="Function">Lift-Alg-assoc</a> <a id="2239" class="Symbol">)</a>
<a id="2241" class="Keyword">open</a> <a id="2246" class="Keyword">import</a> <a id="2253" href="Terms.Basic.html" class="Module">Terms.Basic</a>                <a id="2280" class="Symbol">{</a><a id="2281" class="Argument">ğ‘†</a> <a id="2283" class="Symbol">=</a> <a id="2285" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2286" class="Symbol">}</a> <a id="2288" class="Keyword">using</a> <a id="2294" class="Symbol">(</a> <a id="2296" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="2301" class="Symbol">;</a> <a id="2303" href="Terms.Basic.html#3258" class="Function">ğ‘»</a> <a id="2305" class="Symbol">)</a>
<a id="2307" class="Keyword">open</a> <a id="2312" class="Keyword">import</a> <a id="2319" href="Terms.Operations.html" class="Module">Terms.Operations</a>           <a id="2346" class="Symbol">{</a><a id="2347" class="Argument">ğ‘†</a> <a id="2349" class="Symbol">=</a> <a id="2351" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2352" class="Symbol">}</a> <a id="2354" class="Keyword">using</a> <a id="2360" class="Symbol">(</a> <a id="2362" href="Terms.Operations.html#2527" class="Function Operator">_âŸ¦_âŸ§</a><a id="2366" class="Symbol">;</a> <a id="2368" href="Terms.Operations.html#6532" class="Function">comm-hom-term</a><a id="2381" class="Symbol">)</a>
<a id="2383" class="Keyword">open</a> <a id="2388" class="Keyword">import</a> <a id="2395" href="Subalgebras.Subalgebras.html" class="Module">Subalgebras.Subalgebras</a>    <a id="2422" class="Symbol">{</a><a id="2423" class="Argument">ğ‘†</a> <a id="2425" class="Symbol">=</a> <a id="2427" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2428" class="Symbol">}</a> <a id="2430" class="Keyword">using</a> <a id="2436" class="Symbol">(</a> <a id="2438" href="Subalgebras.Subalgebras.html#2553" class="Function Operator">_â‰¤_</a> <a id="2442" class="Symbol">;</a> <a id="2444" href="Subalgebras.Subalgebras.html#2595" class="Function Operator">_IsSubalgebraOf_</a> <a id="2461" class="Symbol">;</a> <a id="2463" href="Subalgebras.Subalgebras.html#6080" class="Function Operator">_IsSubalgebraOfClass_</a>
                                                     <a id="2538" class="Symbol">;</a> <a id="2540" href="Subalgebras.Subalgebras.html#6431" class="Function">SubalgebraOfClass</a> <a id="2558" class="Symbol">)</a>
<a id="2560" class="Keyword">open</a> <a id="2565" class="Keyword">import</a> <a id="2572" href="Subalgebras.Properties.html" class="Module">Subalgebras.Properties</a>     <a id="2599" class="Symbol">{</a><a id="2600" class="Argument">ğ‘†</a> <a id="2602" class="Symbol">=</a> <a id="2604" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2605" class="Symbol">}</a> <a id="2607" class="Keyword">using</a> <a id="2613" class="Symbol">(</a> <a id="2615" href="Subalgebras.Properties.html#5802" class="Function">â‰¤-Lift</a> <a id="2622" class="Symbol">;</a> <a id="2624" href="Subalgebras.Properties.html#6052" class="Function">Lift-â‰¤-Lift</a> <a id="2636" class="Symbol">)</a>
<a id="2638" class="Keyword">open</a> <a id="2643" class="Keyword">import</a> <a id="2650" href="Varieties.EquationalLogic.html" class="Module">Varieties.EquationalLogic</a>  <a id="2677" class="Symbol">{</a><a id="2678" class="Argument">ğ‘†</a> <a id="2680" class="Symbol">=</a> <a id="2682" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2683" class="Symbol">}</a> <a id="2685" class="Keyword">using</a> <a id="2691" class="Symbol">(</a> <a id="2693" href="Varieties.EquationalLogic.html#2683" class="Function Operator">_âŠ«_â‰ˆ_</a> <a id="2699" class="Symbol">;</a> <a id="2701" href="Varieties.EquationalLogic.html#2605" class="Function Operator">_âŠ§_â‰ˆ_</a> <a id="2707" class="Symbol">;</a> <a id="2709" href="Varieties.EquationalLogic.html#3408" class="Function">Th</a><a id="2711" class="Symbol">)</a>
<a id="2713" class="Keyword">open</a> <a id="2718" class="Keyword">import</a> <a id="2725" href="Varieties.Properties.html" class="Module">Varieties.Properties</a>       <a id="2752" class="Symbol">{</a><a id="2753" class="Argument">ğ‘†</a> <a id="2755" class="Symbol">=</a> <a id="2757" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2758" class="Symbol">}</a> <a id="2760" class="Keyword">using</a> <a id="2766" class="Symbol">(</a> <a id="2768" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="2781" class="Symbol">;</a> <a id="2783" href="Varieties.Properties.html#4301" class="Function">âŠ§-lower-invar</a> <a id="2797" class="Symbol">;</a> <a id="2799" href="Varieties.Properties.html#5453" class="Function">âŠ§-S-class-invar</a>
                                                     <a id="2868" class="Symbol">;</a> <a id="2870" href="Varieties.Properties.html#3225" class="Function">âŠ§-I-invar</a> <a id="2880" class="Symbol">;</a> <a id="2882" href="Varieties.Properties.html#7236" class="Function">âŠ§-P-lift-invar</a> <a id="2897" class="Symbol">;</a> <a id="2899" href="Varieties.Properties.html#6148" class="Function">âŠ§-P-invar</a> <a id="2909" class="Symbol">;</a> <a id="2911" href="Varieties.Properties.html#4726" class="Function">âŠ§-S-invar</a><a id="2920" class="Symbol">)</a>
<a id="2922" class="Keyword">open</a> <a id="2927" class="Keyword">import</a> <a id="2934" href="Varieties.Closure.html" class="Module">Varieties.Closure</a>          <a id="2961" class="Symbol">{</a><a id="2962" class="Argument">ğ‘†</a> <a id="2964" class="Symbol">=</a> <a id="2966" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2967" class="Symbol">}</a> <a id="2969" class="Keyword">using</a> <a id="2975" class="Symbol">(</a> <a id="2977" href="Varieties.Closure.html#3319" class="Datatype">H</a> <a id="2979" class="Symbol">;</a> <a id="2981" href="Varieties.Closure.html#3769" class="Datatype">S</a> <a id="2983" class="Symbol">;</a> <a id="2985" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="2987" class="Symbol">;</a> <a id="2989" href="Varieties.Closure.html#5309" class="Datatype">V</a> <a id="2991" class="Symbol">;</a> <a id="2993" href="Varieties.Closure.html#9494" class="Function">P-expa</a> <a id="3000" class="Symbol">;</a> <a id="3002" href="Varieties.Closure.html#7840" class="Function">Sâ†’subalgebra</a>
                                                     <a id="3068" class="Symbol">;</a> <a id="3070" href="Varieties.Closure.html#10801" class="Function">Lift-Alg-subP&#39;</a> <a id="3085" class="Symbol">;</a> <a id="3087" href="Varieties.Closure.html#7468" class="Function">subalgebraâ†’S</a> <a id="3100" class="Symbol">;</a> <a id="3102" href="Varieties.Closure.html#6889" class="Function">S-mono</a>
                                                     <a id="3162" class="Symbol">;</a> <a id="3164" href="Varieties.Closure.html#9657" class="Function">P-idemp</a> <a id="3172" class="Symbol">;</a> <a id="3174" class="Keyword">module</a> <a id="3181" href="Varieties.Closure.html#11710" class="Module">Vlift</a><a id="3186" class="Symbol">)</a>
<a id="3188" class="Keyword">open</a> <a id="3193" href="Varieties.Closure.html#3319" class="Module">H</a>
<a id="3195" class="Keyword">open</a> <a id="3200" href="Varieties.Closure.html#3769" class="Module">S</a>
<a id="3202" class="Keyword">open</a> <a id="3207" href="Varieties.Closure.html#4352" class="Module">P</a>
<a id="3209" class="Keyword">open</a> <a id="3214" href="Varieties.Closure.html#5309" class="Module">V</a>

<a id="3217" class="Keyword">private</a> <a id="3225" class="Keyword">variable</a> <a id="3234" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="3236" href="Varieties.Preservation.html#3236" class="Generalizable">Î²</a> <a id="3238" class="Symbol">:</a> <a id="3240" href="Agda.Primitive.html#597" class="Postulate">Level</a>

</pre>



### <a id="closure-properties">Closure properties</a>

The types defined above represent operators with useful closure properties. We now prove a handful of such properties that we need later.

The next lemma would be too obvious to care about were it not for the fact that we'll need it later, so it too must be formalized.

<pre class="Agda">

<a id="SâŠ†SP"></a><a id="3601" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a> <a id="3606" class="Symbol">:</a> <a id="3608" class="Symbol">(</a><a id="3609" href="Varieties.Preservation.html#3609" class="Bound">ğ’¦</a> <a id="3611" class="Symbol">:</a> <a id="3613" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3618" class="Symbol">(</a><a id="3619" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="3627" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="3629" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="3630" class="Symbol">)(</a><a id="3632" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="3635" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="3636" class="Symbol">))</a>
 <a id="3640" class="Symbol">â†’</a>     <a id="3646" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="3647" class="Symbol">{</a><a id="3648" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="3649" class="Symbol">}{</a><a id="3651" href="Varieties.Preservation.html#3236" class="Generalizable">Î²</a><a id="3652" class="Symbol">}</a> <a id="3654" href="Varieties.Preservation.html#3609" class="Bound">ğ’¦</a> <a id="3656" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="3658" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="3659" class="Symbol">{</a><a id="3660" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="3662" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3664" href="Varieties.Preservation.html#3236" class="Generalizable">Î²</a><a id="3665" class="Symbol">}{</a><a id="3667" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="3669" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3671" href="Varieties.Preservation.html#3236" class="Generalizable">Î²</a><a id="3672" class="Symbol">}</a> <a id="3674" class="Symbol">(</a><a id="3675" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="3676" class="Symbol">{</a><a id="3677" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="3678" class="Symbol">}{</a><a id="3680" href="Varieties.Preservation.html#3236" class="Generalizable">Î²</a><a id="3681" class="Symbol">}</a> <a id="3683" href="Varieties.Preservation.html#3609" class="Bound">ğ’¦</a><a id="3684" class="Symbol">)</a>

<a id="3687" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a> <a id="3692" class="Symbol">{</a><a id="3693" href="Varieties.Preservation.html#3693" class="Bound">Î±</a><a id="3694" class="Symbol">}</a> <a id="3696" class="Symbol">{</a><a id="3697" href="Varieties.Preservation.html#3697" class="Bound">Î²</a><a id="3698" class="Symbol">}</a> <a id="3700" href="Varieties.Preservation.html#3700" class="Bound">ğ’¦</a> <a id="3702" class="Symbol">{</a><a id="3703" class="DottedPattern Symbol">.(</a><a id="3705" href="Algebras.Basic.html#10869" class="DottedPattern Function">Lift-Alg</a> <a id="3714" href="Varieties.Preservation.html#3726" class="DottedPattern Bound">ğ‘¨</a> <a id="3716" href="Varieties.Preservation.html#3697" class="DottedPattern Bound">Î²</a><a id="3717" class="DottedPattern Symbol">)</a><a id="3718" class="Symbol">}(</a><a id="3720" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a><a id="3725" class="Symbol">{</a><a id="3726" href="Varieties.Preservation.html#3726" class="Bound">ğ‘¨</a><a id="3727" class="Symbol">}</a> <a id="3729" href="Varieties.Preservation.html#3729" class="Bound">x</a><a id="3730" class="Symbol">)</a> <a id="3732" class="Symbol">=</a> <a id="3734" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a> <a id="3739" href="Varieties.Preservation.html#3832" class="Function">spllA</a><a id="3744" class="Symbol">(</a><a id="3745" href="Homomorphisms.Isomorphisms.html#2906" class="Function">â‰…-sym</a> <a id="3751" href="Homomorphisms.Isomorphisms.html#4349" class="Function">Lift-â‰…</a><a id="3757" class="Symbol">)</a>
 <a id="3760" class="Keyword">where</a>
 <a id="3767" href="Varieties.Preservation.html#3767" class="Function">llA</a> <a id="3771" class="Symbol">:</a> <a id="3773" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="3781" class="Symbol">(</a><a id="3782" href="Varieties.Preservation.html#3693" class="Bound">Î±</a> <a id="3784" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3786" href="Varieties.Preservation.html#3697" class="Bound">Î²</a><a id="3787" class="Symbol">)</a> <a id="3789" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a>
 <a id="3792" href="Varieties.Preservation.html#3767" class="Function">llA</a> <a id="3796" class="Symbol">=</a> <a id="3798" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="3807" class="Symbol">(</a><a id="3808" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="3817" href="Varieties.Preservation.html#3726" class="Bound">ğ‘¨</a> <a id="3819" href="Varieties.Preservation.html#3697" class="Bound">Î²</a><a id="3820" class="Symbol">)</a> <a id="3822" class="Symbol">(</a><a id="3823" href="Varieties.Preservation.html#3693" class="Bound">Î±</a> <a id="3825" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3827" href="Varieties.Preservation.html#3697" class="Bound">Î²</a><a id="3828" class="Symbol">)</a>

 <a id="3832" href="Varieties.Preservation.html#3832" class="Function">spllA</a> <a id="3838" class="Symbol">:</a> <a id="3840" href="Varieties.Preservation.html#3767" class="Function">llA</a> <a id="3844" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="3846" href="Varieties.Closure.html#3769" class="Datatype">S</a> <a id="3848" class="Symbol">(</a><a id="3849" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="3851" href="Varieties.Preservation.html#3700" class="Bound">ğ’¦</a><a id="3852" class="Symbol">)</a>
 <a id="3855" href="Varieties.Preservation.html#3832" class="Function">spllA</a> <a id="3861" class="Symbol">=</a> <a id="3863" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a><a id="3868" class="Symbol">{</a><a id="3869" href="Varieties.Preservation.html#3693" class="Bound">Î±</a> <a id="3871" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3873" href="Varieties.Preservation.html#3697" class="Bound">Î²</a><a id="3874" class="Symbol">}{</a><a id="3876" href="Varieties.Preservation.html#3693" class="Bound">Î±</a> <a id="3878" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3880" href="Varieties.Preservation.html#3697" class="Bound">Î²</a><a id="3881" class="Symbol">}</a> <a id="3883" class="Symbol">(</a><a id="3884" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="3890" href="Varieties.Preservation.html#3729" class="Bound">x</a><a id="3891" class="Symbol">)</a>

<a id="3894" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a> <a id="3899" class="Symbol">{</a><a id="3900" href="Varieties.Preservation.html#3900" class="Bound">Î±</a><a id="3901" class="Symbol">}</a> <a id="3903" class="Symbol">{</a><a id="3904" href="Varieties.Preservation.html#3904" class="Bound">Î²</a><a id="3905" class="Symbol">}</a> <a id="3907" href="Varieties.Preservation.html#3907" class="Bound">ğ’¦</a> <a id="3909" class="Symbol">{</a><a id="3910" class="DottedPattern Symbol">.(</a><a id="3912" href="Algebras.Basic.html#10869" class="DottedPattern Function">Lift-Alg</a> <a id="3921" href="Varieties.Preservation.html#3933" class="DottedPattern Bound">ğ‘¨</a> <a id="3923" href="Varieties.Preservation.html#3904" class="DottedPattern Bound">Î²</a><a id="3924" class="DottedPattern Symbol">)</a><a id="3925" class="Symbol">}(</a><a id="3927" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a><a id="3932" class="Symbol">{</a><a id="3933" href="Varieties.Preservation.html#3933" class="Bound">ğ‘¨</a><a id="3934" class="Symbol">}</a> <a id="3936" href="Varieties.Preservation.html#3936" class="Bound">x</a><a id="3937" class="Symbol">)</a> <a id="3939" class="Symbol">=</a> <a id="3941" href="Varieties.Closure.html#7468" class="Function">subalgebraâ†’S</a> <a id="3954" href="Varieties.Preservation.html#4091" class="Function">lAsc</a>
 <a id="3960" class="Keyword">where</a>
 <a id="3967" href="Varieties.Preservation.html#3967" class="Function">splAu</a> <a id="3973" class="Symbol">:</a> <a id="3975" href="Varieties.Preservation.html#3933" class="Bound">ğ‘¨</a> <a id="3977" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="3979" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="3980" class="Symbol">(</a><a id="3981" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="3983" href="Varieties.Preservation.html#3907" class="Bound">ğ’¦</a><a id="3984" class="Symbol">)</a>
 <a id="3987" href="Varieties.Preservation.html#3967" class="Function">splAu</a> <a id="3993" class="Symbol">=</a> <a id="3995" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a><a id="3999" class="Symbol">{</a><a id="4000" href="Varieties.Preservation.html#3900" class="Bound">Î±</a><a id="4001" class="Symbol">}{</a><a id="4003" href="Varieties.Preservation.html#3900" class="Bound">Î±</a><a id="4004" class="Symbol">}</a> <a id="4006" href="Varieties.Preservation.html#3907" class="Bound">ğ’¦</a> <a id="4008" href="Varieties.Preservation.html#3936" class="Bound">x</a>

 <a id="4012" href="Varieties.Preservation.html#4012" class="Function">Asc</a> <a id="4016" class="Symbol">:</a> <a id="4018" href="Varieties.Preservation.html#3933" class="Bound">ğ‘¨</a> <a id="4020" href="Subalgebras.Subalgebras.html#6080" class="Function Operator">IsSubalgebraOfClass</a> <a id="4040" class="Symbol">(</a><a id="4041" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="4043" href="Varieties.Preservation.html#3907" class="Bound">ğ’¦</a><a id="4044" class="Symbol">)</a>
 <a id="4047" href="Varieties.Preservation.html#4012" class="Function">Asc</a> <a id="4051" class="Symbol">=</a> <a id="4053" href="Varieties.Closure.html#7840" class="Function">Sâ†’subalgebra</a><a id="4065" class="Symbol">{</a><a id="4066" href="Varieties.Preservation.html#3900" class="Bound">Î±</a><a id="4067" class="Symbol">}{</a><a id="4069" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="4070" class="Symbol">{</a><a id="4071" href="Varieties.Preservation.html#3900" class="Bound">Î±</a><a id="4072" class="Symbol">}{</a><a id="4074" href="Varieties.Preservation.html#3900" class="Bound">Î±</a><a id="4075" class="Symbol">}</a> <a id="4077" href="Varieties.Preservation.html#3907" class="Bound">ğ’¦</a><a id="4078" class="Symbol">}{</a><a id="4080" href="Varieties.Preservation.html#3933" class="Bound">ğ‘¨</a><a id="4081" class="Symbol">}</a> <a id="4083" href="Varieties.Preservation.html#3967" class="Function">splAu</a>

 <a id="4091" href="Varieties.Preservation.html#4091" class="Function">lAsc</a> <a id="4096" class="Symbol">:</a> <a id="4098" class="Symbol">(</a><a id="4099" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="4108" href="Varieties.Preservation.html#3933" class="Bound">ğ‘¨</a> <a id="4110" href="Varieties.Preservation.html#3904" class="Bound">Î²</a><a id="4111" class="Symbol">)</a> <a id="4113" href="Subalgebras.Subalgebras.html#6080" class="Function Operator">IsSubalgebraOfClass</a> <a id="4133" class="Symbol">(</a><a id="4134" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="4136" href="Varieties.Preservation.html#3907" class="Bound">ğ’¦</a><a id="4137" class="Symbol">)</a>
 <a id="4140" href="Varieties.Preservation.html#4091" class="Function">lAsc</a> <a id="4145" class="Symbol">=</a> <a id="4147" href="Varieties.Closure.html#10801" class="Function">Lift-Alg-subP&#39;</a> <a id="4162" href="Varieties.Preservation.html#4012" class="Function">Asc</a>
<a id="4166" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a> <a id="4171" class="Symbol">{</a><a id="4172" href="Varieties.Preservation.html#4172" class="Bound">Î±</a><a id="4173" class="Symbol">}</a> <a id="4175" class="Symbol">{</a><a id="4176" href="Varieties.Preservation.html#4176" class="Bound">Î²</a><a id="4177" class="Symbol">}</a> <a id="4179" href="Varieties.Preservation.html#4179" class="Bound">ğ’¦</a> <a id="4181" class="Symbol">{</a><a id="4182" href="Varieties.Preservation.html#4182" class="Bound">ğ‘©</a><a id="4183" class="Symbol">}(</a><a id="4185" href="Varieties.Closure.html#3977" class="InductiveConstructor">ssub</a><a id="4189" class="Symbol">{</a><a id="4190" href="Varieties.Preservation.html#4190" class="Bound">ğ‘¨</a><a id="4191" class="Symbol">}</a> <a id="4193" href="Varieties.Preservation.html#4193" class="Bound">sA</a> <a id="4196" href="Varieties.Preservation.html#4196" class="Bound">Bâ‰¤A</a><a id="4199" class="Symbol">)</a> <a id="4201" class="Symbol">=</a> <a id="4203" href="Varieties.Closure.html#3977" class="InductiveConstructor">ssub</a> <a id="4208" class="Symbol">(</a><a id="4209" href="Varieties.Closure.html#7468" class="Function">subalgebraâ†’S</a> <a id="4222" href="Varieties.Preservation.html#4429" class="Function">lAsc</a><a id="4226" class="Symbol">)</a> <a id="4228" class="Symbol">(</a><a id="4229" href="Subalgebras.Properties.html#5802" class="Function">â‰¤-Lift</a> <a id="4236" href="Varieties.Preservation.html#4190" class="Bound">ğ‘¨</a> <a id="4238" href="Varieties.Preservation.html#4196" class="Bound">Bâ‰¤A</a> <a id="4242" class="Symbol">)</a>
 <a id="4245" class="Keyword">where</a>
  <a id="4253" href="Varieties.Preservation.html#4253" class="Function">lA</a> <a id="4256" class="Symbol">:</a> <a id="4258" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="4266" class="Symbol">(</a><a id="4267" href="Varieties.Preservation.html#4172" class="Bound">Î±</a> <a id="4269" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4271" href="Varieties.Preservation.html#4176" class="Bound">Î²</a><a id="4272" class="Symbol">)</a> <a id="4274" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a>
  <a id="4278" href="Varieties.Preservation.html#4253" class="Function">lA</a> <a id="4281" class="Symbol">=</a> <a id="4283" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="4292" href="Varieties.Preservation.html#4190" class="Bound">ğ‘¨</a> <a id="4294" href="Varieties.Preservation.html#4176" class="Bound">Î²</a>

  <a id="4299" href="Varieties.Preservation.html#4299" class="Function">splAu</a> <a id="4305" class="Symbol">:</a> <a id="4307" href="Varieties.Preservation.html#4190" class="Bound">ğ‘¨</a> <a id="4309" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="4311" href="Varieties.Closure.html#3769" class="Datatype">S</a> <a id="4313" class="Symbol">(</a><a id="4314" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="4316" href="Varieties.Preservation.html#4179" class="Bound">ğ’¦</a><a id="4317" class="Symbol">)</a>
  <a id="4321" href="Varieties.Preservation.html#4299" class="Function">splAu</a> <a id="4327" class="Symbol">=</a> <a id="4329" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a><a id="4333" class="Symbol">{</a><a id="4334" href="Varieties.Preservation.html#4172" class="Bound">Î±</a><a id="4335" class="Symbol">}{</a><a id="4337" href="Varieties.Preservation.html#4172" class="Bound">Î±</a><a id="4338" class="Symbol">}</a> <a id="4340" href="Varieties.Preservation.html#4179" class="Bound">ğ’¦</a> <a id="4342" href="Varieties.Preservation.html#4193" class="Bound">sA</a>

  <a id="4348" href="Varieties.Preservation.html#4348" class="Function">Asc</a> <a id="4352" class="Symbol">:</a> <a id="4354" href="Varieties.Preservation.html#4190" class="Bound">ğ‘¨</a> <a id="4356" href="Subalgebras.Subalgebras.html#6080" class="Function Operator">IsSubalgebraOfClass</a> <a id="4376" class="Symbol">(</a><a id="4377" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="4379" href="Varieties.Preservation.html#4179" class="Bound">ğ’¦</a><a id="4380" class="Symbol">)</a>
  <a id="4384" href="Varieties.Preservation.html#4348" class="Function">Asc</a> <a id="4388" class="Symbol">=</a> <a id="4390" href="Varieties.Closure.html#7840" class="Function">Sâ†’subalgebra</a><a id="4402" class="Symbol">{</a><a id="4403" href="Varieties.Preservation.html#4172" class="Bound">Î±</a><a id="4404" class="Symbol">}{</a><a id="4406" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="4407" class="Symbol">{</a><a id="4408" href="Varieties.Preservation.html#4172" class="Bound">Î±</a><a id="4409" class="Symbol">}{</a><a id="4411" href="Varieties.Preservation.html#4172" class="Bound">Î±</a><a id="4412" class="Symbol">}</a> <a id="4414" href="Varieties.Preservation.html#4179" class="Bound">ğ’¦</a><a id="4415" class="Symbol">}{</a><a id="4417" href="Varieties.Preservation.html#4190" class="Bound">ğ‘¨</a><a id="4418" class="Symbol">}</a> <a id="4420" href="Varieties.Preservation.html#4299" class="Function">splAu</a>

  <a id="4429" href="Varieties.Preservation.html#4429" class="Function">lAsc</a> <a id="4434" class="Symbol">:</a> <a id="4436" href="Varieties.Preservation.html#4253" class="Function">lA</a> <a id="4439" href="Subalgebras.Subalgebras.html#6080" class="Function Operator">IsSubalgebraOfClass</a> <a id="4459" class="Symbol">(</a><a id="4460" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="4462" href="Varieties.Preservation.html#4179" class="Bound">ğ’¦</a><a id="4463" class="Symbol">)</a>
  <a id="4467" href="Varieties.Preservation.html#4429" class="Function">lAsc</a> <a id="4472" class="Symbol">=</a> <a id="4474" href="Varieties.Closure.html#10801" class="Function">Lift-Alg-subP&#39;</a> <a id="4489" href="Varieties.Preservation.html#4348" class="Function">Asc</a>

<a id="4494" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a> <a id="4499" class="Symbol">{</a><a id="4500" class="Argument">Î±</a> <a id="4502" class="Symbol">=</a> <a id="4504" href="Varieties.Preservation.html#4504" class="Bound">Î±</a><a id="4505" class="Symbol">}{</a><a id="4507" href="Varieties.Preservation.html#4507" class="Bound">Î²</a><a id="4508" class="Symbol">}</a> <a id="4510" href="Varieties.Preservation.html#4510" class="Bound">ğ’¦</a> <a id="4512" class="Symbol">{</a><a id="4513" href="Varieties.Preservation.html#4513" class="Bound">ğ‘©</a><a id="4514" class="Symbol">}(</a><a id="4516" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a><a id="4520" class="Symbol">{</a><a id="4521" href="Varieties.Preservation.html#4521" class="Bound">ğ‘¨</a><a id="4522" class="Symbol">}</a> <a id="4524" href="Varieties.Preservation.html#4524" class="Bound">sA</a> <a id="4527" href="Varieties.Preservation.html#4527" class="Bound">Aâ‰…B</a><a id="4530" class="Symbol">)</a> <a id="4532" class="Symbol">=</a> <a id="4534" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a><a id="4538" class="Symbol">{</a><a id="4539" href="Varieties.Preservation.html#4504" class="Bound">Î±</a> <a id="4541" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4543" href="Varieties.Preservation.html#4507" class="Bound">Î²</a><a id="4544" class="Symbol">}{</a><a id="4546" href="Varieties.Preservation.html#4504" class="Bound">Î±</a> <a id="4548" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4550" href="Varieties.Preservation.html#4507" class="Bound">Î²</a><a id="4551" class="Symbol">}</a> <a id="4553" href="Varieties.Preservation.html#4720" class="Function">lAsp</a> <a id="4558" href="Varieties.Preservation.html#4796" class="Function">lAâ‰…B</a>
 <a id="4564" class="Keyword">where</a>
 <a id="4571" href="Varieties.Preservation.html#4571" class="Function">lA</a> <a id="4574" class="Symbol">:</a> <a id="4576" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="4584" class="Symbol">(</a><a id="4585" href="Varieties.Preservation.html#4504" class="Bound">Î±</a> <a id="4587" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4589" href="Varieties.Preservation.html#4507" class="Bound">Î²</a><a id="4590" class="Symbol">)</a> <a id="4592" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a>
 <a id="4595" href="Varieties.Preservation.html#4571" class="Function">lA</a> <a id="4598" class="Symbol">=</a> <a id="4600" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="4609" href="Varieties.Preservation.html#4521" class="Bound">ğ‘¨</a> <a id="4611" href="Varieties.Preservation.html#4507" class="Bound">Î²</a>

 <a id="4615" href="Varieties.Preservation.html#4615" class="Function">lAsc</a> <a id="4620" class="Symbol">:</a> <a id="4622" href="Varieties.Preservation.html#4571" class="Function">lA</a> <a id="4625" href="Subalgebras.Subalgebras.html#6080" class="Function Operator">IsSubalgebraOfClass</a> <a id="4645" class="Symbol">(</a><a id="4646" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="4648" href="Varieties.Preservation.html#4510" class="Bound">ğ’¦</a><a id="4649" class="Symbol">)</a>
 <a id="4652" href="Varieties.Preservation.html#4615" class="Function">lAsc</a> <a id="4657" class="Symbol">=</a> <a id="4659" href="Varieties.Closure.html#10801" class="Function">Lift-Alg-subP&#39;</a> <a id="4674" class="Symbol">(</a><a id="4675" href="Varieties.Closure.html#7840" class="Function">Sâ†’subalgebra</a><a id="4687" class="Symbol">{</a><a id="4688" href="Varieties.Preservation.html#4504" class="Bound">Î±</a><a id="4689" class="Symbol">}{</a><a id="4691" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="4692" class="Symbol">{</a><a id="4693" href="Varieties.Preservation.html#4504" class="Bound">Î±</a><a id="4694" class="Symbol">}{</a><a id="4696" href="Varieties.Preservation.html#4504" class="Bound">Î±</a><a id="4697" class="Symbol">}</a> <a id="4699" href="Varieties.Preservation.html#4510" class="Bound">ğ’¦</a><a id="4700" class="Symbol">}{</a><a id="4702" href="Varieties.Preservation.html#4521" class="Bound">ğ‘¨</a><a id="4703" class="Symbol">}</a> <a id="4705" class="Symbol">(</a><a id="4706" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a> <a id="4711" href="Varieties.Preservation.html#4510" class="Bound">ğ’¦</a> <a id="4713" href="Varieties.Preservation.html#4524" class="Bound">sA</a><a id="4715" class="Symbol">))</a>

 <a id="4720" href="Varieties.Preservation.html#4720" class="Function">lAsp</a> <a id="4725" class="Symbol">:</a> <a id="4727" href="Varieties.Preservation.html#4571" class="Function">lA</a> <a id="4730" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="4732" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="4733" class="Symbol">(</a><a id="4734" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="4736" href="Varieties.Preservation.html#4510" class="Bound">ğ’¦</a><a id="4737" class="Symbol">)</a>
 <a id="4740" href="Varieties.Preservation.html#4720" class="Function">lAsp</a> <a id="4745" class="Symbol">=</a> <a id="4747" href="Varieties.Closure.html#7468" class="Function">subalgebraâ†’S</a><a id="4759" class="Symbol">{</a><a id="4760" href="Varieties.Preservation.html#4504" class="Bound">Î±</a> <a id="4762" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4764" href="Varieties.Preservation.html#4507" class="Bound">Î²</a><a id="4765" class="Symbol">}{</a><a id="4767" href="Varieties.Preservation.html#4504" class="Bound">Î±</a> <a id="4769" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4771" href="Varieties.Preservation.html#4507" class="Bound">Î²</a><a id="4772" class="Symbol">}{</a><a id="4774" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="4775" class="Symbol">{</a><a id="4776" href="Varieties.Preservation.html#4504" class="Bound">Î±</a><a id="4777" class="Symbol">}{</a><a id="4779" href="Varieties.Preservation.html#4507" class="Bound">Î²</a><a id="4780" class="Symbol">}</a> <a id="4782" href="Varieties.Preservation.html#4510" class="Bound">ğ’¦</a><a id="4783" class="Symbol">}{</a><a id="4785" href="Varieties.Preservation.html#4571" class="Function">lA</a><a id="4787" class="Symbol">}</a> <a id="4789" href="Varieties.Preservation.html#4615" class="Function">lAsc</a>

 <a id="4796" href="Varieties.Preservation.html#4796" class="Function">lAâ‰…B</a> <a id="4801" class="Symbol">:</a> <a id="4803" href="Varieties.Preservation.html#4571" class="Function">lA</a> <a id="4806" href="Homomorphisms.Isomorphisms.html#2276" class="Record Operator">â‰…</a> <a id="4808" href="Varieties.Preservation.html#4513" class="Bound">ğ‘©</a>
 <a id="4811" href="Varieties.Preservation.html#4796" class="Function">lAâ‰…B</a> <a id="4816" class="Symbol">=</a> <a id="4818" href="Homomorphisms.Isomorphisms.html#2995" class="Function">â‰…-trans</a> <a id="4826" class="Symbol">(</a><a id="4827" href="Homomorphisms.Isomorphisms.html#2906" class="Function">â‰…-sym</a> <a id="4833" href="Homomorphisms.Isomorphisms.html#4349" class="Function">Lift-â‰…</a><a id="4839" class="Symbol">)</a> <a id="4841" href="Varieties.Preservation.html#4527" class="Bound">Aâ‰…B</a>

</pre>


We need to formalize one more lemma before arriving the main objective of this section, which is the proof of the inclusion PSâŠ†SP.

<pre class="Agda">

<a id="5005" class="Keyword">module</a> <a id="5012" href="Varieties.Preservation.html#5012" class="Module">_</a> <a id="5014" class="Symbol">{</a><a id="5015" href="Varieties.Preservation.html#5015" class="Bound">Î±</a> <a id="5017" href="Varieties.Preservation.html#5017" class="Bound">Î²</a> <a id="5019" class="Symbol">:</a> <a id="5021" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="5026" class="Symbol">}</a> <a id="5028" class="Symbol">{</a><a id="5029" href="Varieties.Preservation.html#5029" class="Bound">ğ’¦</a> <a id="5031" class="Symbol">:</a> <a id="5033" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="5037" class="Symbol">(</a><a id="5038" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="5046" href="Varieties.Preservation.html#5015" class="Bound">Î±</a> <a id="5048" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="5049" class="Symbol">)(</a><a id="5051" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="5054" href="Varieties.Preservation.html#5015" class="Bound">Î±</a><a id="5055" class="Symbol">)}</a> <a id="5058" class="Keyword">where</a>

 <a id="5066" href="Varieties.Preservation.html#5066" class="Function">lemPSâŠ†SP</a> <a id="5075" class="Symbol">:</a> <a id="5077" href="Foundations.Truncation.html#3965" class="Function">hfunext</a> <a id="5085" href="Varieties.Preservation.html#5017" class="Bound">Î²</a> <a id="5087" href="Varieties.Preservation.html#5015" class="Bound">Î±</a> <a id="5089" class="Symbol">â†’</a> <a id="5091" href="Varieties.Preservation.html#931" class="Function">funext</a> <a id="5098" href="Varieties.Preservation.html#5017" class="Bound">Î²</a> <a id="5100" href="Varieties.Preservation.html#5015" class="Bound">Î±</a> <a id="5102" class="Symbol">â†’</a> <a id="5104" class="Symbol">{</a><a id="5105" href="Varieties.Preservation.html#5105" class="Bound">I</a> <a id="5107" class="Symbol">:</a> <a id="5109" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="5114" href="Varieties.Preservation.html#5017" class="Bound">Î²</a><a id="5115" class="Symbol">}{</a><a id="5117" href="Varieties.Preservation.html#5117" class="Bound">â„¬</a> <a id="5119" class="Symbol">:</a> <a id="5121" href="Varieties.Preservation.html#5105" class="Bound">I</a> <a id="5123" class="Symbol">â†’</a> <a id="5125" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="5133" href="Varieties.Preservation.html#5015" class="Bound">Î±</a> <a id="5135" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="5136" class="Symbol">}</a>
  <a id="5140" class="Symbol">â†’</a>         <a id="5150" class="Symbol">(âˆ€</a> <a id="5153" href="Varieties.Preservation.html#5153" class="Bound">i</a> <a id="5155" class="Symbol">â†’</a> <a id="5157" class="Symbol">(</a><a id="5158" href="Varieties.Preservation.html#5117" class="Bound">â„¬</a> <a id="5160" href="Varieties.Preservation.html#5153" class="Bound">i</a><a id="5161" class="Symbol">)</a> <a id="5163" href="Subalgebras.Subalgebras.html#6080" class="Function Operator">IsSubalgebraOfClass</a> <a id="5183" href="Varieties.Preservation.html#5029" class="Bound">ğ’¦</a><a id="5184" class="Symbol">)</a>
  <a id="5188" class="Symbol">â†’</a>         <a id="5198" href="Algebras.Products.html#1785" class="Function">â¨…</a> <a id="5200" href="Varieties.Preservation.html#5117" class="Bound">â„¬</a> <a id="5202" href="Subalgebras.Subalgebras.html#6080" class="Function Operator">IsSubalgebraOfClass</a> <a id="5222" class="Symbol">(</a><a id="5223" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="5224" class="Symbol">{</a><a id="5225" href="Varieties.Preservation.html#5015" class="Bound">Î±</a><a id="5226" class="Symbol">}{</a><a id="5228" href="Varieties.Preservation.html#5017" class="Bound">Î²</a><a id="5229" class="Symbol">}</a> <a id="5231" href="Varieties.Preservation.html#5029" class="Bound">ğ’¦</a><a id="5232" class="Symbol">)</a>

 <a id="5236" href="Varieties.Preservation.html#5066" class="Function">lemPSâŠ†SP</a> <a id="5245" href="Varieties.Preservation.html#5245" class="Bound">hwu</a> <a id="5249" href="Varieties.Preservation.html#5249" class="Bound">fwu</a> <a id="5253" class="Symbol">{</a><a id="5254" href="Varieties.Preservation.html#5254" class="Bound">I</a><a id="5255" class="Symbol">}{</a><a id="5257" href="Varieties.Preservation.html#5257" class="Bound">â„¬</a><a id="5258" class="Symbol">}</a> <a id="5260" href="Varieties.Preservation.html#5260" class="Bound">Bâ‰¤K</a> <a id="5264" class="Symbol">=</a> <a id="5266" href="Algebras.Products.html#1785" class="Function">â¨…</a> <a id="5268" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a> <a id="5270" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5272" class="Symbol">(</a><a id="5273" href="Algebras.Products.html#1785" class="Function">â¨…</a> <a id="5275" href="Varieties.Preservation.html#5382" class="Function">SA</a> <a id="5278" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5280" href="Varieties.Preservation.html#5926" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a><a id="5286" class="Symbol">)</a> <a id="5288" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5290" href="Varieties.Preservation.html#5975" class="Function">Î¾</a> <a id="5292" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5294" class="Symbol">(</a><a id="5295" href="Homomorphisms.Isomorphisms.html#5669" class="Function">â¨…â‰…</a> <a id="5298" class="Symbol">{</a><a id="5299" class="Argument">fiu</a> <a id="5303" class="Symbol">=</a> <a id="5305" href="Varieties.Preservation.html#5249" class="Bound">fwu</a><a id="5308" class="Symbol">}{</a><a id="5310" class="Argument">fiw</a> <a id="5314" class="Symbol">=</a> <a id="5316" href="Varieties.Preservation.html#5249" class="Bound">fwu</a><a id="5319" class="Symbol">}</a> <a id="5321" href="Varieties.Preservation.html#5437" class="Function">Bâ‰…SA</a><a id="5325" class="Symbol">)</a>
  <a id="5329" class="Keyword">where</a>
  <a id="5337" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a> <a id="5339" class="Symbol">:</a> <a id="5341" href="Varieties.Preservation.html#5254" class="Bound">I</a> <a id="5343" class="Symbol">â†’</a> <a id="5345" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="5353" href="Varieties.Preservation.html#5015" class="Bound">Î±</a> <a id="5355" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a>
  <a id="5359" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a> <a id="5361" class="Symbol">=</a> <a id="5363" class="Symbol">Î»</a> <a id="5365" href="Varieties.Preservation.html#5365" class="Bound">i</a> <a id="5367" class="Symbol">â†’</a> <a id="5369" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5371" href="Varieties.Preservation.html#5260" class="Bound">Bâ‰¤K</a> <a id="5375" href="Varieties.Preservation.html#5365" class="Bound">i</a> <a id="5377" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>

  <a id="5382" href="Varieties.Preservation.html#5382" class="Function">SA</a> <a id="5385" class="Symbol">:</a> <a id="5387" href="Varieties.Preservation.html#5254" class="Bound">I</a> <a id="5389" class="Symbol">â†’</a> <a id="5391" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="5399" href="Varieties.Preservation.html#5015" class="Bound">Î±</a> <a id="5401" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a>
  <a id="5405" href="Varieties.Preservation.html#5382" class="Function">SA</a> <a id="5408" class="Symbol">=</a> <a id="5410" class="Symbol">Î»</a> <a id="5412" href="Varieties.Preservation.html#5412" class="Bound">i</a> <a id="5414" class="Symbol">â†’</a> <a id="5416" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5418" href="Varieties.Preservation.html#1018" class="Field">fst</a> <a id="5422" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5424" href="Varieties.Preservation.html#5260" class="Bound">Bâ‰¤K</a> <a id="5428" href="Varieties.Preservation.html#5412" class="Bound">i</a> <a id="5430" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5432" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>

  <a id="5437" href="Varieties.Preservation.html#5437" class="Function">Bâ‰…SA</a> <a id="5442" class="Symbol">:</a> <a id="5444" class="Symbol">âˆ€</a> <a id="5446" href="Varieties.Preservation.html#5446" class="Bound">i</a> <a id="5448" class="Symbol">â†’</a> <a id="5450" href="Varieties.Preservation.html#5257" class="Bound">â„¬</a> <a id="5452" href="Varieties.Preservation.html#5446" class="Bound">i</a> <a id="5454" href="Homomorphisms.Isomorphisms.html#2276" class="Record Operator">â‰…</a> <a id="5456" href="Varieties.Preservation.html#5382" class="Function">SA</a> <a id="5459" href="Varieties.Preservation.html#5446" class="Bound">i</a>
  <a id="5463" href="Varieties.Preservation.html#5437" class="Function">Bâ‰…SA</a> <a id="5468" class="Symbol">=</a> <a id="5470" class="Symbol">Î»</a> <a id="5472" href="Varieties.Preservation.html#5472" class="Bound">i</a> <a id="5474" class="Symbol">â†’</a> <a id="5476" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5478" href="Varieties.Preservation.html#1033" class="Field">snd</a> <a id="5482" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5484" href="Varieties.Preservation.html#5260" class="Bound">Bâ‰¤K</a> <a id="5488" href="Varieties.Preservation.html#5472" class="Bound">i</a> <a id="5490" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5492" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a>

  <a id="5497" href="Varieties.Preservation.html#5497" class="Function">SAâ‰¤ğ’œ</a> <a id="5502" class="Symbol">:</a> <a id="5504" class="Symbol">âˆ€</a> <a id="5506" href="Varieties.Preservation.html#5506" class="Bound">i</a> <a id="5508" class="Symbol">â†’</a> <a id="5510" class="Symbol">(</a><a id="5511" href="Varieties.Preservation.html#5382" class="Function">SA</a> <a id="5514" href="Varieties.Preservation.html#5506" class="Bound">i</a><a id="5515" class="Symbol">)</a> <a id="5517" href="Subalgebras.Subalgebras.html#2595" class="Function Operator">IsSubalgebraOf</a> <a id="5532" class="Symbol">(</a><a id="5533" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a> <a id="5535" href="Varieties.Preservation.html#5506" class="Bound">i</a><a id="5536" class="Symbol">)</a>
  <a id="5540" href="Varieties.Preservation.html#5497" class="Function">SAâ‰¤ğ’œ</a> <a id="5545" class="Symbol">=</a> <a id="5547" class="Symbol">Î»</a> <a id="5549" href="Varieties.Preservation.html#5549" class="Bound">i</a> <a id="5551" class="Symbol">â†’</a> <a id="5553" href="Varieties.Preservation.html#1033" class="Field">snd</a> <a id="5557" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5559" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5561" href="Varieties.Preservation.html#5260" class="Bound">Bâ‰¤K</a> <a id="5565" href="Varieties.Preservation.html#5549" class="Bound">i</a> <a id="5567" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5569" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>

  <a id="5574" href="Varieties.Preservation.html#5574" class="Function">h</a> <a id="5576" class="Symbol">:</a> <a id="5578" class="Symbol">âˆ€</a> <a id="5580" href="Varieties.Preservation.html#5580" class="Bound">i</a> <a id="5582" class="Symbol">â†’</a> <a id="5584" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5586" href="Varieties.Preservation.html#5382" class="Function">SA</a> <a id="5589" href="Varieties.Preservation.html#5580" class="Bound">i</a> <a id="5591" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5593" class="Symbol">â†’</a> <a id="5595" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5597" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a> <a id="5599" href="Varieties.Preservation.html#5580" class="Bound">i</a> <a id="5601" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>
  <a id="5605" href="Varieties.Preservation.html#5574" class="Function">h</a> <a id="5607" class="Symbol">=</a> <a id="5609" class="Symbol">Î»</a> <a id="5611" href="Varieties.Preservation.html#5611" class="Bound">i</a> <a id="5613" class="Symbol">â†’</a> <a id="5615" href="Varieties.Preservation.html#1018" class="Field">fst</a> <a id="5619" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5621" href="Varieties.Preservation.html#5497" class="Function">SAâ‰¤ğ’œ</a> <a id="5626" href="Varieties.Preservation.html#5611" class="Bound">i</a> <a id="5628" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>

  <a id="5633" href="Varieties.Preservation.html#5633" class="Function">hinj</a> <a id="5638" class="Symbol">:</a> <a id="5640" class="Symbol">âˆ€</a> <a id="5642" href="Varieties.Preservation.html#5642" class="Bound">i</a> <a id="5644" class="Symbol">â†’</a> <a id="5646" href="Overture.Inverses.html#2440" class="Function">IsInjective</a> <a id="5658" class="Symbol">(</a><a id="5659" href="Varieties.Preservation.html#5574" class="Function">h</a> <a id="5661" href="Varieties.Preservation.html#5642" class="Bound">i</a><a id="5662" class="Symbol">)</a>
  <a id="5666" href="Varieties.Preservation.html#5633" class="Function">hinj</a> <a id="5671" class="Symbol">=</a> <a id="5673" class="Symbol">Î»</a> <a id="5675" href="Varieties.Preservation.html#5675" class="Bound">i</a> <a id="5677" class="Symbol">â†’</a> <a id="5679" href="Varieties.Preservation.html#1033" class="Field">snd</a> <a id="5683" class="Symbol">(</a><a id="5684" href="Varieties.Preservation.html#1033" class="Field">snd</a> <a id="5688" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5690" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5692" href="Varieties.Preservation.html#5260" class="Bound">Bâ‰¤K</a> <a id="5696" href="Varieties.Preservation.html#5675" class="Bound">i</a> <a id="5698" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5700" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a><a id="5701" class="Symbol">)</a>

  <a id="5706" href="Varieties.Preservation.html#5706" class="Function">Ïƒ</a> <a id="5708" class="Symbol">:</a> <a id="5710" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5712" href="Algebras.Products.html#1785" class="Function">â¨…</a> <a id="5714" href="Varieties.Preservation.html#5382" class="Function">SA</a> <a id="5717" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5719" class="Symbol">â†’</a> <a id="5721" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5723" href="Algebras.Products.html#1785" class="Function">â¨…</a> <a id="5725" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a> <a id="5727" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>
  <a id="5731" href="Varieties.Preservation.html#5706" class="Function">Ïƒ</a> <a id="5733" class="Symbol">=</a> <a id="5735" class="Symbol">Î»</a> <a id="5737" href="Varieties.Preservation.html#5737" class="Bound">x</a> <a id="5739" href="Varieties.Preservation.html#5739" class="Bound">i</a> <a id="5741" class="Symbol">â†’</a> <a id="5743" class="Symbol">(</a><a id="5744" href="Varieties.Preservation.html#5574" class="Function">h</a> <a id="5746" href="Varieties.Preservation.html#5739" class="Bound">i</a><a id="5747" class="Symbol">)</a> <a id="5749" class="Symbol">(</a><a id="5750" href="Varieties.Preservation.html#5737" class="Bound">x</a> <a id="5752" href="Varieties.Preservation.html#5739" class="Bound">i</a><a id="5753" class="Symbol">)</a>
  <a id="5757" href="Varieties.Preservation.html#5757" class="Function">Î½</a> <a id="5759" class="Symbol">:</a> <a id="5761" href="Homomorphisms.Basic.html#3061" class="Function">is-homomorphism</a> <a id="5777" class="Symbol">(</a><a id="5778" href="Algebras.Products.html#1785" class="Function">â¨…</a> <a id="5780" href="Varieties.Preservation.html#5382" class="Function">SA</a><a id="5782" class="Symbol">)</a> <a id="5784" class="Symbol">(</a><a id="5785" href="Algebras.Products.html#1785" class="Function">â¨…</a> <a id="5787" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a><a id="5788" class="Symbol">)</a> <a id="5790" href="Varieties.Preservation.html#5706" class="Function">Ïƒ</a>
  <a id="5794" href="Varieties.Preservation.html#5757" class="Function">Î½</a> <a id="5796" class="Symbol">=</a> <a id="5798" class="Symbol">Î»</a> <a id="5800" href="Varieties.Preservation.html#5800" class="Bound">ğ‘“</a> <a id="5802" href="Varieties.Preservation.html#5802" class="Bound">ğ’‚</a> <a id="5804" class="Symbol">â†’</a> <a id="5806" href="Varieties.Preservation.html#5249" class="Bound">fwu</a> <a id="5810" class="Symbol">Î»</a> <a id="5812" href="Varieties.Preservation.html#5812" class="Bound">i</a> <a id="5814" class="Symbol">â†’</a> <a id="5816" class="Symbol">(</a><a id="5817" href="Varieties.Preservation.html#1033" class="Field">snd</a> <a id="5821" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5823" href="Varieties.Preservation.html#5497" class="Function">SAâ‰¤ğ’œ</a> <a id="5828" href="Varieties.Preservation.html#5812" class="Bound">i</a> <a id="5830" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a><a id="5831" class="Symbol">)</a> <a id="5833" href="Varieties.Preservation.html#5800" class="Bound">ğ‘“</a> <a id="5835" class="Symbol">(Î»</a> <a id="5838" href="Varieties.Preservation.html#5838" class="Bound">x</a> <a id="5840" class="Symbol">â†’</a> <a id="5842" href="Varieties.Preservation.html#5802" class="Bound">ğ’‚</a> <a id="5844" href="Varieties.Preservation.html#5838" class="Bound">x</a> <a id="5846" href="Varieties.Preservation.html#5812" class="Bound">i</a><a id="5847" class="Symbol">)</a>

  <a id="5852" href="Varieties.Preservation.html#5852" class="Function">Ïƒinj</a> <a id="5857" class="Symbol">:</a> <a id="5859" href="Overture.Inverses.html#2440" class="Function">IsInjective</a> <a id="5871" href="Varieties.Preservation.html#5706" class="Function">Ïƒ</a>
  <a id="5875" href="Varieties.Preservation.html#5852" class="Function">Ïƒinj</a> <a id="5880" href="Varieties.Preservation.html#5880" class="Bound">ÏƒxÏƒy</a> <a id="5885" class="Symbol">=</a> <a id="5887" href="Varieties.Preservation.html#5249" class="Bound">fwu</a> <a id="5891" class="Symbol">Î»</a> <a id="5893" href="Varieties.Preservation.html#5893" class="Bound">i</a> <a id="5895" class="Symbol">â†’</a> <a id="5897" class="Symbol">(</a><a id="5898" href="Varieties.Preservation.html#5633" class="Function">hinj</a> <a id="5903" href="Varieties.Preservation.html#5893" class="Bound">i</a><a id="5904" class="Symbol">)(</a><a id="5906" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="5915" href="Varieties.Preservation.html#5880" class="Bound">ÏƒxÏƒy</a> <a id="5920" href="Varieties.Preservation.html#5893" class="Bound">i</a><a id="5921" class="Symbol">)</a>

  <a id="5926" href="Varieties.Preservation.html#5926" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a> <a id="5933" class="Symbol">:</a> <a id="5935" href="Algebras.Products.html#1785" class="Function">â¨…</a> <a id="5937" href="Varieties.Preservation.html#5382" class="Function">SA</a> <a id="5940" href="Subalgebras.Subalgebras.html#2553" class="Function Operator">â‰¤</a> <a id="5942" href="Algebras.Products.html#1785" class="Function">â¨…</a> <a id="5944" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a>
  <a id="5948" href="Varieties.Preservation.html#5926" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a> <a id="5955" class="Symbol">=</a> <a id="5957" class="Symbol">(</a><a id="5958" href="Varieties.Preservation.html#5706" class="Function">Ïƒ</a> <a id="5960" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5962" href="Varieties.Preservation.html#5757" class="Function">Î½</a><a id="5963" class="Symbol">)</a> <a id="5965" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5967" href="Varieties.Preservation.html#5852" class="Function">Ïƒinj</a>

  <a id="5975" href="Varieties.Preservation.html#5975" class="Function">Î¾</a> <a id="5977" class="Symbol">:</a> <a id="5979" href="Algebras.Products.html#1785" class="Function">â¨…</a> <a id="5981" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a> <a id="5983" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="5985" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="5987" href="Varieties.Preservation.html#5029" class="Bound">ğ’¦</a>
  <a id="5991" href="Varieties.Preservation.html#5975" class="Function">Î¾</a> <a id="5993" class="Symbol">=</a> <a id="5995" href="Varieties.Closure.html#4639" class="InductiveConstructor">produ</a> <a id="6001" class="Symbol">(Î»</a> <a id="6004" href="Varieties.Preservation.html#6004" class="Bound">i</a> <a id="6006" class="Symbol">â†’</a> <a id="6008" href="Varieties.Closure.html#9494" class="Function">P-expa</a> <a id="6015" class="Symbol">(</a><a id="6016" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="6018" href="Varieties.Preservation.html#1033" class="Field">snd</a> <a id="6022" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="6024" href="Varieties.Preservation.html#5260" class="Bound">Bâ‰¤K</a> <a id="6028" href="Varieties.Preservation.html#6004" class="Bound">i</a> <a id="6030" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="6032" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a><a id="6033" class="Symbol">))</a>


</pre>



### <a id="PS-in-SP">PS(ğ’¦) âŠ† SP(ğ’¦)</a>

Finally, we are in a position to prove that a product of subalgebras of algebras in a class ğ’¦ is a subalgebra of a product of algebras in ğ’¦.

<pre class="Agda">

<a id="6248" class="Keyword">module</a> <a id="6255" href="Varieties.Preservation.html#6255" class="Module">_</a> <a id="6257" class="Symbol">{</a><a id="6258" href="Varieties.Preservation.html#6258" class="Bound">Î±</a> <a id="6260" class="Symbol">:</a> <a id="6262" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="6267" class="Symbol">}</a> <a id="6269" class="Symbol">{</a><a id="6270" href="Varieties.Preservation.html#6270" class="Bound">fovu</a> <a id="6275" class="Symbol">:</a> <a id="6277" href="Varieties.Preservation.html#931" class="Function">funext</a> <a id="6284" class="Symbol">(</a><a id="6285" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="6288" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6289" class="Symbol">)</a> <a id="6291" class="Symbol">(</a><a id="6292" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="6295" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6296" class="Symbol">)}{</a><a id="6299" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a> <a id="6301" class="Symbol">:</a> <a id="6303" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="6308" class="Symbol">(</a><a id="6309" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="6317" href="Varieties.Preservation.html#6258" class="Bound">Î±</a> <a id="6319" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="6320" class="Symbol">)(</a><a id="6322" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="6325" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6326" class="Symbol">)}</a> <a id="6329" class="Keyword">where</a>

 <a id="6337" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6343" class="Symbol">:</a> <a id="6345" class="Comment">-- extensionality assumptions:</a>
            <a id="6388" href="Foundations.Truncation.html#3965" class="Function">hfunext</a> <a id="6396" class="Symbol">(</a><a id="6397" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="6400" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6401" class="Symbol">)(</a><a id="6403" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="6406" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6407" class="Symbol">)</a>

  <a id="6412" class="Symbol">â†’</a>      <a id="6419" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="6420" class="Symbol">{</a><a id="6421" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="6424" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6425" class="Symbol">}{</a><a id="6427" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="6430" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6431" class="Symbol">}</a> <a id="6433" class="Symbol">(</a><a id="6434" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="6435" class="Symbol">{</a><a id="6436" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6437" class="Symbol">}{</a><a id="6439" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="6442" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6443" class="Symbol">}</a> <a id="6445" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a><a id="6446" class="Symbol">)</a> <a id="6448" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="6450" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="6451" class="Symbol">{</a><a id="6452" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="6455" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6456" class="Symbol">}{</a><a id="6458" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="6461" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6462" class="Symbol">}</a> <a id="6464" class="Symbol">(</a><a id="6465" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="6466" class="Symbol">{</a><a id="6467" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6468" class="Symbol">}{</a><a id="6470" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="6473" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6474" class="Symbol">}</a> <a id="6476" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a><a id="6477" class="Symbol">)</a>

 <a id="6481" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6487" class="Symbol">_</a> <a id="6489" class="Symbol">(</a><a id="6490" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="6496" class="Symbol">(</a><a id="6497" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a> <a id="6503" href="Varieties.Preservation.html#6503" class="Bound">x</a><a id="6504" class="Symbol">))</a> <a id="6507" class="Symbol">=</a> <a id="6509" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a> <a id="6515" class="Symbol">(</a><a id="6516" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="6522" href="Varieties.Preservation.html#6503" class="Bound">x</a><a id="6523" class="Symbol">)</a>
 <a id="6526" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6532" class="Symbol">_</a> <a id="6534" class="Symbol">(</a><a id="6535" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="6541" class="Symbol">(</a><a id="6542" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a><a id="6547" class="Symbol">{</a><a id="6548" href="Varieties.Preservation.html#6548" class="Bound">ğ‘¨</a><a id="6549" class="Symbol">}</a> <a id="6551" href="Varieties.Preservation.html#6551" class="Bound">x</a><a id="6552" class="Symbol">))</a> <a id="6555" class="Symbol">=</a> <a id="6557" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a> <a id="6563" class="Symbol">(</a><a id="6564" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a><a id="6568" class="Symbol">{</a><a id="6569" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6570" class="Symbol">}{</a><a id="6572" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="6575" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6576" class="Symbol">}</a> <a id="6578" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a> <a id="6580" class="Symbol">(</a><a id="6581" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a> <a id="6587" href="Varieties.Preservation.html#6551" class="Bound">x</a><a id="6588" class="Symbol">))</a>
 <a id="6592" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6598" class="Symbol">_</a> <a id="6600" class="Symbol">(</a><a id="6601" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a><a id="6606" class="Symbol">{</a><a id="6607" href="Varieties.Preservation.html#6607" class="Bound">ğ‘©</a><a id="6608" class="Symbol">}(</a><a id="6610" href="Varieties.Closure.html#3977" class="InductiveConstructor">ssub</a><a id="6614" class="Symbol">{</a><a id="6615" href="Varieties.Preservation.html#6615" class="Bound">ğ‘¨</a><a id="6616" class="Symbol">}</a> <a id="6618" href="Varieties.Preservation.html#6618" class="Bound">sA</a> <a id="6621" href="Varieties.Preservation.html#6621" class="Bound">Bâ‰¤A</a><a id="6624" class="Symbol">))</a> <a id="6627" class="Symbol">=</a> <a id="6629" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a><a id="6633" class="Symbol">(</a><a id="6634" href="Varieties.Closure.html#3977" class="InductiveConstructor">ssub</a><a id="6638" class="Symbol">(</a><a id="6639" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a> <a id="6644" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a> <a id="6646" class="Symbol">(</a><a id="6647" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a> <a id="6653" href="Varieties.Preservation.html#6618" class="Bound">sA</a><a id="6655" class="Symbol">))(</a><a id="6658" href="Subalgebras.Properties.html#6052" class="Function">Lift-â‰¤-Lift</a> <a id="6670" class="Symbol">(</a><a id="6671" href="Algebras.Products.html#2981" class="Function">ov</a><a id="6673" class="Symbol">(</a><a id="6674" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6675" class="Symbol">)){</a><a id="6678" href="Varieties.Preservation.html#6615" class="Bound">ğ‘¨</a><a id="6679" class="Symbol">}(</a><a id="6681" href="Algebras.Products.html#2981" class="Function">ov</a><a id="6683" class="Symbol">(</a><a id="6684" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6685" class="Symbol">))</a><a id="6687" href="Varieties.Preservation.html#6621" class="Bound">Bâ‰¤A</a><a id="6690" class="Symbol">))</a> <a id="6693" href="Homomorphisms.Isomorphisms.html#2816" class="Function">â‰…-refl</a>
 <a id="6701" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6707" class="Symbol">_</a> <a id="6709" class="Symbol">(</a><a id="6710" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="6716" class="Symbol">(</a><a id="6717" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a><a id="6721" class="Symbol">{</a><a id="6722" href="Varieties.Preservation.html#6722" class="Bound">ğ‘¨</a><a id="6723" class="Symbol">}{</a><a id="6725" href="Varieties.Preservation.html#6725" class="Bound">ğ‘©</a><a id="6726" class="Symbol">}</a> <a id="6728" href="Varieties.Preservation.html#6728" class="Bound">x</a> <a id="6730" href="Varieties.Preservation.html#6730" class="Bound">Aâ‰…B</a><a id="6733" class="Symbol">))</a> <a id="6736" class="Symbol">=</a> <a id="6738" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a> <a id="6743" class="Symbol">(</a><a id="6744" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a> <a id="6749" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a> <a id="6751" class="Symbol">(</a><a id="6752" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a> <a id="6758" href="Varieties.Preservation.html#6728" class="Bound">x</a><a id="6759" class="Symbol">))</a> <a id="6762" class="Symbol">(</a> <a id="6764" href="Homomorphisms.Isomorphisms.html#4668" class="Function">Lift-Alg-iso</a> <a id="6777" href="Varieties.Preservation.html#6730" class="Bound">Aâ‰…B</a> <a id="6781" class="Symbol">)</a>
 <a id="6784" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6790" href="Varieties.Preservation.html#6790" class="Bound">hfe</a> <a id="6794" class="Symbol">(</a><a id="6795" href="Varieties.Closure.html#4497" class="InductiveConstructor">pliftu</a> <a id="6802" href="Varieties.Preservation.html#6802" class="Bound">x</a><a id="6803" class="Symbol">)</a> <a id="6805" class="Symbol">=</a> <a id="6807" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a> <a id="6813" class="Symbol">(</a><a id="6814" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6820" href="Varieties.Preservation.html#6790" class="Bound">hfe</a> <a id="6824" href="Varieties.Preservation.html#6802" class="Bound">x</a><a id="6825" class="Symbol">)</a>
 <a id="6828" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6834" href="Varieties.Preservation.html#6834" class="Bound">hfe</a> <a id="6838" class="Symbol">(</a><a id="6839" href="Varieties.Closure.html#4562" class="InductiveConstructor">pliftw</a> <a id="6846" href="Varieties.Preservation.html#6846" class="Bound">x</a><a id="6847" class="Symbol">)</a> <a id="6849" class="Symbol">=</a> <a id="6851" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a> <a id="6857" class="Symbol">(</a><a id="6858" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6864" href="Varieties.Preservation.html#6834" class="Bound">hfe</a> <a id="6868" href="Varieties.Preservation.html#6846" class="Bound">x</a><a id="6869" class="Symbol">)</a>

 <a id="6873" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6879" href="Varieties.Preservation.html#6879" class="Bound">hfe</a> <a id="6883" class="Symbol">(</a><a id="6884" href="Varieties.Closure.html#4639" class="InductiveConstructor">produ</a><a id="6889" class="Symbol">{</a><a id="6890" href="Varieties.Preservation.html#6890" class="Bound">I</a><a id="6891" class="Symbol">}{</a><a id="6893" href="Varieties.Preservation.html#6893" class="Bound">ğ’œ</a><a id="6894" class="Symbol">}</a> <a id="6896" href="Varieties.Preservation.html#6896" class="Bound">x</a><a id="6897" class="Symbol">)</a> <a id="6899" class="Symbol">=</a> <a id="6901" class="Symbol">(</a><a id="6902" href="Varieties.Closure.html#6889" class="Function">S-mono</a> <a id="6909" class="Symbol">(</a><a id="6910" href="Varieties.Closure.html#9657" class="Function">P-idemp</a><a id="6917" class="Symbol">))</a> <a id="6920" class="Symbol">(</a><a id="6921" href="Varieties.Closure.html#7468" class="Function">subalgebraâ†’S</a> <a id="6934" href="Varieties.Preservation.html#7047" class="Function">Î·</a><a id="6935" class="Symbol">)</a>
  <a id="6939" class="Keyword">where</a>
   <a id="6948" href="Varieties.Preservation.html#6948" class="Function">Î¾</a> <a id="6950" class="Symbol">:</a> <a id="6952" class="Symbol">(</a><a id="6953" href="Varieties.Preservation.html#6953" class="Bound">i</a> <a id="6955" class="Symbol">:</a> <a id="6957" href="Varieties.Preservation.html#6890" class="Bound">I</a><a id="6958" class="Symbol">)</a> <a id="6960" class="Symbol">â†’</a> <a id="6962" class="Symbol">(</a><a id="6963" href="Varieties.Preservation.html#6893" class="Bound">ğ’œ</a> <a id="6965" href="Varieties.Preservation.html#6953" class="Bound">i</a><a id="6966" class="Symbol">)</a> <a id="6968" href="Subalgebras.Subalgebras.html#6080" class="Function Operator">IsSubalgebraOfClass</a> <a id="6988" class="Symbol">(</a><a id="6989" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="6990" class="Symbol">{</a><a id="6991" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6992" class="Symbol">}{</a><a id="6994" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="6997" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6998" class="Symbol">}</a> <a id="7000" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a><a id="7001" class="Symbol">)</a>
   <a id="7006" href="Varieties.Preservation.html#6948" class="Function">Î¾</a> <a id="7008" href="Varieties.Preservation.html#7008" class="Bound">i</a> <a id="7010" class="Symbol">=</a> <a id="7012" href="Varieties.Closure.html#7840" class="Function">Sâ†’subalgebra</a> <a id="7025" class="Symbol">(</a><a id="7026" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="7032" href="Varieties.Preservation.html#6879" class="Bound">hfe</a> <a id="7036" class="Symbol">(</a><a id="7037" href="Varieties.Preservation.html#6896" class="Bound">x</a> <a id="7039" href="Varieties.Preservation.html#7008" class="Bound">i</a><a id="7040" class="Symbol">))</a>

   <a id="7047" href="Varieties.Preservation.html#7047" class="Function">Î·</a> <a id="7049" class="Symbol">:</a> <a id="7051" href="Algebras.Products.html#1785" class="Function">â¨…</a> <a id="7053" href="Varieties.Preservation.html#6893" class="Bound">ğ’œ</a> <a id="7055" href="Subalgebras.Subalgebras.html#6080" class="Function Operator">IsSubalgebraOfClass</a> <a id="7075" class="Symbol">(</a><a id="7076" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="7077" class="Symbol">{</a><a id="7078" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="7081" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7082" class="Symbol">}{</a><a id="7084" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="7087" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7088" class="Symbol">}</a> <a id="7090" class="Symbol">(</a><a id="7091" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="7092" class="Symbol">{</a><a id="7093" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7094" class="Symbol">}{</a><a id="7096" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="7099" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7100" class="Symbol">}</a> <a id="7102" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a><a id="7103" class="Symbol">))</a>
   <a id="7109" href="Varieties.Preservation.html#7047" class="Function">Î·</a> <a id="7111" class="Symbol">=</a> <a id="7113" href="Varieties.Preservation.html#5066" class="Function">lemPSâŠ†SP</a> <a id="7122" href="Varieties.Preservation.html#6879" class="Bound">hfe</a> <a id="7126" href="Varieties.Preservation.html#6270" class="Bound">fovu</a> <a id="7131" class="Symbol">{</a><a id="7132" href="Varieties.Preservation.html#6890" class="Bound">I</a><a id="7133" class="Symbol">}</a> <a id="7135" class="Symbol">{</a><a id="7136" href="Varieties.Preservation.html#6893" class="Bound">ğ’œ</a><a id="7137" class="Symbol">}</a> <a id="7139" href="Varieties.Preservation.html#6948" class="Function">Î¾</a>

 <a id="7143" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="7149" href="Varieties.Preservation.html#7149" class="Bound">hfe</a> <a id="7153" class="Symbol">(</a><a id="7154" href="Varieties.Closure.html#4724" class="InductiveConstructor">prodw</a><a id="7159" class="Symbol">{</a><a id="7160" href="Varieties.Preservation.html#7160" class="Bound">I</a><a id="7161" class="Symbol">}{</a><a id="7163" href="Varieties.Preservation.html#7163" class="Bound">ğ’œ</a><a id="7164" class="Symbol">}</a> <a id="7166" href="Varieties.Preservation.html#7166" class="Bound">x</a><a id="7167" class="Symbol">)</a> <a id="7169" class="Symbol">=</a> <a id="7171" class="Symbol">(</a><a id="7172" href="Varieties.Closure.html#6889" class="Function">S-mono</a> <a id="7179" class="Symbol">(</a><a id="7180" href="Varieties.Closure.html#9657" class="Function">P-idemp</a><a id="7187" class="Symbol">))</a> <a id="7190" class="Symbol">(</a><a id="7191" href="Varieties.Closure.html#7468" class="Function">subalgebraâ†’S</a> <a id="7204" href="Varieties.Preservation.html#7317" class="Function">Î·</a><a id="7205" class="Symbol">)</a>
  <a id="7209" class="Keyword">where</a>
   <a id="7218" href="Varieties.Preservation.html#7218" class="Function">Î¾</a> <a id="7220" class="Symbol">:</a> <a id="7222" class="Symbol">(</a><a id="7223" href="Varieties.Preservation.html#7223" class="Bound">i</a> <a id="7225" class="Symbol">:</a> <a id="7227" href="Varieties.Preservation.html#7160" class="Bound">I</a><a id="7228" class="Symbol">)</a> <a id="7230" class="Symbol">â†’</a> <a id="7232" class="Symbol">(</a><a id="7233" href="Varieties.Preservation.html#7163" class="Bound">ğ’œ</a> <a id="7235" href="Varieties.Preservation.html#7223" class="Bound">i</a><a id="7236" class="Symbol">)</a> <a id="7238" href="Subalgebras.Subalgebras.html#6080" class="Function Operator">IsSubalgebraOfClass</a> <a id="7258" class="Symbol">(</a><a id="7259" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="7260" class="Symbol">{</a><a id="7261" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7262" class="Symbol">}{</a><a id="7264" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="7267" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7268" class="Symbol">}</a> <a id="7270" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a><a id="7271" class="Symbol">)</a>
   <a id="7276" href="Varieties.Preservation.html#7218" class="Function">Î¾</a> <a id="7278" href="Varieties.Preservation.html#7278" class="Bound">i</a> <a id="7280" class="Symbol">=</a> <a id="7282" href="Varieties.Closure.html#7840" class="Function">Sâ†’subalgebra</a> <a id="7295" class="Symbol">(</a><a id="7296" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="7302" href="Varieties.Preservation.html#7149" class="Bound">hfe</a> <a id="7306" class="Symbol">(</a><a id="7307" href="Varieties.Preservation.html#7166" class="Bound">x</a> <a id="7309" href="Varieties.Preservation.html#7278" class="Bound">i</a><a id="7310" class="Symbol">))</a>

   <a id="7317" href="Varieties.Preservation.html#7317" class="Function">Î·</a> <a id="7319" class="Symbol">:</a> <a id="7321" href="Algebras.Products.html#1785" class="Function">â¨…</a> <a id="7323" href="Varieties.Preservation.html#7163" class="Bound">ğ’œ</a> <a id="7325" href="Subalgebras.Subalgebras.html#6080" class="Function Operator">IsSubalgebraOfClass</a> <a id="7345" class="Symbol">(</a><a id="7346" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="7347" class="Symbol">{</a><a id="7348" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="7351" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7352" class="Symbol">}{</a><a id="7354" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="7357" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7358" class="Symbol">}</a> <a id="7360" class="Symbol">(</a><a id="7361" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="7362" class="Symbol">{</a><a id="7363" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7364" class="Symbol">}{</a><a id="7366" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="7369" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7370" class="Symbol">}</a> <a id="7372" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a><a id="7373" class="Symbol">))</a>
   <a id="7379" href="Varieties.Preservation.html#7317" class="Function">Î·</a> <a id="7381" class="Symbol">=</a> <a id="7383" href="Varieties.Preservation.html#5066" class="Function">lemPSâŠ†SP</a> <a id="7392" href="Varieties.Preservation.html#7149" class="Bound">hfe</a> <a id="7396" href="Varieties.Preservation.html#6270" class="Bound">fovu</a>  <a id="7402" class="Symbol">{</a><a id="7403" href="Varieties.Preservation.html#7160" class="Bound">I</a><a id="7404" class="Symbol">}</a> <a id="7406" class="Symbol">{</a><a id="7407" href="Varieties.Preservation.html#7163" class="Bound">ğ’œ</a><a id="7408" class="Symbol">}</a> <a id="7410" href="Varieties.Preservation.html#7218" class="Function">Î¾</a>

 <a id="7414" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="7420" href="Varieties.Preservation.html#7420" class="Bound">hfe</a> <a id="7424" class="Symbol">(</a><a id="7425" href="Varieties.Closure.html#4809" class="InductiveConstructor">pisow</a><a id="7430" class="Symbol">{</a><a id="7431" href="Varieties.Preservation.html#7431" class="Bound">ğ‘¨</a><a id="7432" class="Symbol">}{</a><a id="7434" href="Varieties.Preservation.html#7434" class="Bound">ğ‘©</a><a id="7435" class="Symbol">}</a> <a id="7437" href="Varieties.Preservation.html#7437" class="Bound">pA</a> <a id="7440" href="Varieties.Preservation.html#7440" class="Bound">Aâ‰…B</a><a id="7443" class="Symbol">)</a> <a id="7445" class="Symbol">=</a> <a id="7447" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a> <a id="7452" class="Symbol">(</a><a id="7453" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="7459" href="Varieties.Preservation.html#7420" class="Bound">hfe</a> <a id="7463" href="Varieties.Preservation.html#7437" class="Bound">pA</a><a id="7465" class="Symbol">)</a> <a id="7467" href="Varieties.Preservation.html#7440" class="Bound">Aâ‰…B</a>

</pre>



### <a id="more-class-inclusions">More class inclusions</a>

We conclude this subsection with three more inclusion relations that will have bit parts to play later (e.g., in the formal proof of Birkhoff's Theorem).

<pre class="Agda">

<a id="PâŠ†V"></a><a id="7716" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="7720" class="Symbol">:</a> <a id="7722" class="Symbol">{</a><a id="7723" href="Varieties.Preservation.html#7723" class="Bound">Î±</a> <a id="7725" href="Varieties.Preservation.html#7725" class="Bound">Î²</a> <a id="7727" class="Symbol">:</a> <a id="7729" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="7734" class="Symbol">}{</a><a id="7736" href="Varieties.Preservation.html#7736" class="Bound">ğ’¦</a> <a id="7738" class="Symbol">:</a> <a id="7740" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="7745" class="Symbol">(</a><a id="7746" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="7754" href="Varieties.Preservation.html#7723" class="Bound">Î±</a> <a id="7756" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="7757" class="Symbol">)(</a><a id="7759" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="7762" href="Varieties.Preservation.html#7723" class="Bound">Î±</a><a id="7763" class="Symbol">)}</a> <a id="7766" class="Symbol">â†’</a> <a id="7768" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="7769" class="Symbol">{</a><a id="7770" href="Varieties.Preservation.html#7723" class="Bound">Î±</a><a id="7771" class="Symbol">}{</a><a id="7773" href="Varieties.Preservation.html#7725" class="Bound">Î²</a><a id="7774" class="Symbol">}</a> <a id="7776" href="Varieties.Preservation.html#7736" class="Bound">ğ’¦</a> <a id="7778" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="7780" href="Varieties.Closure.html#5309" class="Datatype">V</a><a id="7781" class="Symbol">{</a><a id="7782" href="Varieties.Preservation.html#7723" class="Bound">Î±</a><a id="7783" class="Symbol">}{</a><a id="7785" href="Varieties.Preservation.html#7725" class="Bound">Î²</a><a id="7786" class="Symbol">}</a> <a id="7788" href="Varieties.Preservation.html#7736" class="Bound">ğ’¦</a>

<a id="7791" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="7795" class="Symbol">(</a><a id="7796" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="7802" href="Varieties.Preservation.html#7802" class="Bound">x</a><a id="7803" class="Symbol">)</a> <a id="7805" class="Symbol">=</a> <a id="7807" href="Varieties.Closure.html#5397" class="InductiveConstructor">vbase</a> <a id="7813" href="Varieties.Preservation.html#7802" class="Bound">x</a>
<a id="7815" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a><a id="7818" class="Symbol">{</a><a id="7819" href="Varieties.Preservation.html#7819" class="Bound">Î±</a><a id="7820" class="Symbol">}</a> <a id="7822" class="Symbol">(</a><a id="7823" href="Varieties.Closure.html#4497" class="InductiveConstructor">pliftu</a> <a id="7830" href="Varieties.Preservation.html#7830" class="Bound">x</a><a id="7831" class="Symbol">)</a> <a id="7833" class="Symbol">=</a> <a id="7835" href="Varieties.Closure.html#5454" class="InductiveConstructor">vlift</a> <a id="7841" class="Symbol">(</a><a id="7842" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a><a id="7845" class="Symbol">{</a><a id="7846" href="Varieties.Preservation.html#7819" class="Bound">Î±</a><a id="7847" class="Symbol">}{</a><a id="7849" href="Varieties.Preservation.html#7819" class="Bound">Î±</a><a id="7850" class="Symbol">}</a> <a id="7852" href="Varieties.Preservation.html#7830" class="Bound">x</a><a id="7853" class="Symbol">)</a>
<a id="7855" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a><a id="7858" class="Symbol">{</a><a id="7859" href="Varieties.Preservation.html#7859" class="Bound">Î±</a><a id="7860" class="Symbol">}{</a><a id="7862" href="Varieties.Preservation.html#7862" class="Bound">Î²</a><a id="7863" class="Symbol">}</a> <a id="7865" class="Symbol">(</a><a id="7866" href="Varieties.Closure.html#4562" class="InductiveConstructor">pliftw</a> <a id="7873" href="Varieties.Preservation.html#7873" class="Bound">x</a><a id="7874" class="Symbol">)</a> <a id="7876" class="Symbol">=</a> <a id="7878" href="Varieties.Closure.html#5519" class="InductiveConstructor">vliftw</a> <a id="7885" class="Symbol">(</a><a id="7886" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a><a id="7889" class="Symbol">{</a><a id="7890" href="Varieties.Preservation.html#7859" class="Bound">Î±</a><a id="7891" class="Symbol">}{</a><a id="7893" href="Varieties.Preservation.html#7862" class="Bound">Î²</a><a id="7894" class="Symbol">}</a> <a id="7896" href="Varieties.Preservation.html#7873" class="Bound">x</a><a id="7897" class="Symbol">)</a>
<a id="7899" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="7903" class="Symbol">(</a><a id="7904" href="Varieties.Closure.html#4639" class="InductiveConstructor">produ</a> <a id="7910" href="Varieties.Preservation.html#7910" class="Bound">x</a><a id="7911" class="Symbol">)</a> <a id="7913" class="Symbol">=</a> <a id="7915" href="Varieties.Closure.html#5736" class="InductiveConstructor">vprodu</a> <a id="7922" class="Symbol">(Î»</a> <a id="7925" href="Varieties.Preservation.html#7925" class="Bound">i</a> <a id="7927" class="Symbol">â†’</a> <a id="7929" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="7933" class="Symbol">(</a><a id="7934" href="Varieties.Preservation.html#7910" class="Bound">x</a> <a id="7936" href="Varieties.Preservation.html#7925" class="Bound">i</a><a id="7937" class="Symbol">))</a>
<a id="7940" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="7944" class="Symbol">(</a><a id="7945" href="Varieties.Closure.html#4724" class="InductiveConstructor">prodw</a> <a id="7951" href="Varieties.Preservation.html#7951" class="Bound">x</a><a id="7952" class="Symbol">)</a> <a id="7954" class="Symbol">=</a> <a id="7956" href="Varieties.Closure.html#5820" class="InductiveConstructor">vprodw</a> <a id="7963" class="Symbol">(Î»</a> <a id="7966" href="Varieties.Preservation.html#7966" class="Bound">i</a> <a id="7968" class="Symbol">â†’</a> <a id="7970" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="7974" class="Symbol">(</a><a id="7975" href="Varieties.Preservation.html#7951" class="Bound">x</a> <a id="7977" href="Varieties.Preservation.html#7966" class="Bound">i</a><a id="7978" class="Symbol">))</a>
<a id="7981" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="7985" class="Symbol">(</a><a id="7986" href="Varieties.Closure.html#4809" class="InductiveConstructor">pisow</a> <a id="7992" href="Varieties.Preservation.html#7992" class="Bound">x</a> <a id="7994" href="Varieties.Preservation.html#7994" class="Bound">xâ‚</a><a id="7996" class="Symbol">)</a> <a id="7998" class="Symbol">=</a> <a id="8000" href="Varieties.Closure.html#5983" class="InductiveConstructor">visow</a> <a id="8006" class="Symbol">(</a><a id="8007" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="8011" href="Varieties.Preservation.html#7992" class="Bound">x</a><a id="8012" class="Symbol">)</a> <a id="8014" href="Varieties.Preservation.html#7994" class="Bound">xâ‚</a>


<a id="SPâŠ†V"></a><a id="8019" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="8024" class="Symbol">:</a> <a id="8026" class="Symbol">{</a><a id="8027" href="Varieties.Preservation.html#8027" class="Bound">Î±</a> <a id="8029" href="Varieties.Preservation.html#8029" class="Bound">Î²</a> <a id="8031" class="Symbol">:</a> <a id="8033" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="8038" class="Symbol">}{</a><a id="8040" href="Varieties.Preservation.html#8040" class="Bound">ğ’¦</a> <a id="8042" class="Symbol">:</a> <a id="8044" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="8049" class="Symbol">(</a><a id="8050" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="8058" href="Varieties.Preservation.html#8027" class="Bound">Î±</a> <a id="8060" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="8061" class="Symbol">)(</a><a id="8063" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="8066" href="Varieties.Preservation.html#8027" class="Bound">Î±</a><a id="8067" class="Symbol">)}</a>
 <a id="8071" class="Symbol">â†’</a>     <a id="8077" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="8078" class="Symbol">{</a><a id="8079" href="Varieties.Preservation.html#8027" class="Bound">Î±</a> <a id="8081" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="8083" href="Varieties.Preservation.html#8029" class="Bound">Î²</a><a id="8084" class="Symbol">}{</a><a id="8086" href="Varieties.Preservation.html#8027" class="Bound">Î±</a> <a id="8088" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="8090" href="Varieties.Preservation.html#8029" class="Bound">Î²</a><a id="8091" class="Symbol">}</a> <a id="8093" class="Symbol">(</a><a id="8094" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="8095" class="Symbol">{</a><a id="8096" href="Varieties.Preservation.html#8027" class="Bound">Î±</a><a id="8097" class="Symbol">}{</a><a id="8099" href="Varieties.Preservation.html#8029" class="Bound">Î²</a><a id="8100" class="Symbol">}</a> <a id="8102" href="Varieties.Preservation.html#8040" class="Bound">ğ’¦</a><a id="8103" class="Symbol">)</a> <a id="8105" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="8107" href="Varieties.Closure.html#5309" class="Datatype">V</a> <a id="8109" href="Varieties.Preservation.html#8040" class="Bound">ğ’¦</a>

<a id="8112" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="8117" class="Symbol">(</a><a id="8118" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a><a id="8123" class="Symbol">{</a><a id="8124" href="Varieties.Preservation.html#8124" class="Bound">ğ‘¨</a><a id="8125" class="Symbol">}</a> <a id="8127" href="Varieties.Preservation.html#8127" class="Bound">PCloA</a><a id="8132" class="Symbol">)</a> <a id="8134" class="Symbol">=</a> <a id="8136" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="8140" class="Symbol">(</a><a id="8141" href="Varieties.Closure.html#4809" class="InductiveConstructor">pisow</a> <a id="8147" href="Varieties.Preservation.html#8127" class="Bound">PCloA</a> <a id="8153" href="Homomorphisms.Isomorphisms.html#4349" class="Function">Lift-â‰…</a><a id="8159" class="Symbol">)</a>
<a id="8161" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="8166" class="Symbol">(</a><a id="8167" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a><a id="8172" class="Symbol">{</a><a id="8173" href="Varieties.Preservation.html#8173" class="Bound">ğ‘¨</a><a id="8174" class="Symbol">}</a> <a id="8176" href="Varieties.Preservation.html#8176" class="Bound">x</a><a id="8177" class="Symbol">)</a> <a id="8179" class="Symbol">=</a> <a id="8181" href="Varieties.Closure.html#5519" class="InductiveConstructor">vliftw</a> <a id="8188" class="Symbol">(</a><a id="8189" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="8194" href="Varieties.Preservation.html#8176" class="Bound">x</a><a id="8195" class="Symbol">)</a>
<a id="8197" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="8202" class="Symbol">(</a><a id="8203" href="Varieties.Closure.html#3977" class="InductiveConstructor">ssub</a><a id="8207" class="Symbol">{</a><a id="8208" href="Varieties.Preservation.html#8208" class="Bound">ğ‘¨</a><a id="8209" class="Symbol">}{</a><a id="8211" href="Varieties.Preservation.html#8211" class="Bound">ğ‘©</a><a id="8212" class="Symbol">}</a> <a id="8214" href="Varieties.Preservation.html#8214" class="Bound">spA</a> <a id="8218" href="Varieties.Preservation.html#8218" class="Bound">Bâ‰¤A</a><a id="8221" class="Symbol">)</a> <a id="8223" class="Symbol">=</a> <a id="8225" href="Varieties.Closure.html#5672" class="InductiveConstructor">vssubw</a> <a id="8232" class="Symbol">(</a><a id="8233" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="8238" href="Varieties.Preservation.html#8214" class="Bound">spA</a><a id="8241" class="Symbol">)</a> <a id="8243" href="Varieties.Preservation.html#8218" class="Bound">Bâ‰¤A</a>
<a id="8247" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="8252" class="Symbol">(</a><a id="8253" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a> <a id="8258" href="Varieties.Preservation.html#8258" class="Bound">x</a> <a id="8260" href="Varieties.Preservation.html#8260" class="Bound">xâ‚</a><a id="8262" class="Symbol">)</a> <a id="8264" class="Symbol">=</a> <a id="8266" href="Varieties.Closure.html#5983" class="InductiveConstructor">visow</a> <a id="8272" class="Symbol">(</a><a id="8273" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="8278" href="Varieties.Preservation.html#8258" class="Bound">x</a><a id="8279" class="Symbol">)</a> <a id="8281" href="Varieties.Preservation.html#8260" class="Bound">xâ‚</a>

</pre>


### <a id="V-is-closed-under-lift">V is closed under lift</a>

As mentioned earlier, a technical hurdle that must be overcome when formalizing proofs in Agda is the proper handling of universe levels. In particular, in the proof of the Birkhoff's theorem, for example, we will need to know that if an algebra ğ‘¨ belongs to the variety V ğ’¦, then so does the lift of ğ‘¨.  Let us get the tedious proof of this technical lemma out of the way.

Above we proved that `SP(ğ’¦) âŠ† V(ğ’¦)`, and we did so under fairly general assumptions about the universe level parameters.  Unfortunately, this is sometimes not quite general enough, so we now prove the inclusion again for the specific universe parameters that align with subsequent applications of this result.


<pre class="Agda">

<a id="9062" class="Keyword">module</a> <a id="9069" href="Varieties.Preservation.html#9069" class="Module">_</a> <a id="9071" class="Symbol">{</a><a id="9072" href="Varieties.Preservation.html#9072" class="Bound">Î±</a> <a id="9074" class="Symbol">:</a> <a id="9076" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="9081" class="Symbol">}</a>  <a id="9084" class="Symbol">{</a><a id="9085" href="Varieties.Preservation.html#9085" class="Bound">feâ‚€</a> <a id="9089" class="Symbol">:</a> <a id="9091" href="Varieties.Preservation.html#931" class="Function">funext</a> <a id="9098" class="Symbol">(</a><a id="9099" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="9102" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9103" class="Symbol">)</a> <a id="9105" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9106" class="Symbol">}</a>
         <a id="9117" class="Symbol">{</a><a id="9118" href="Varieties.Preservation.html#9118" class="Bound">feâ‚</a> <a id="9122" class="Symbol">:</a> <a id="9124" href="Varieties.Preservation.html#931" class="Function">funext</a> <a id="9131" class="Symbol">((</a><a id="9133" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="9136" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9137" class="Symbol">)</a> <a id="9139" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="9141" class="Symbol">(</a><a id="9142" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9147" class="Symbol">(</a><a id="9148" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="9151" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9152" class="Symbol">)))</a> <a id="9156" class="Symbol">(</a><a id="9157" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9162" class="Symbol">(</a><a id="9163" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="9166" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9167" class="Symbol">))}</a>
         <a id="9180" class="Symbol">{</a><a id="9181" href="Varieties.Preservation.html#9181" class="Bound">feâ‚‚</a> <a id="9185" class="Symbol">:</a> <a id="9187" href="Varieties.Preservation.html#931" class="Function">funext</a> <a id="9194" class="Symbol">(</a><a id="9195" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="9198" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9199" class="Symbol">)</a> <a id="9201" class="Symbol">(</a><a id="9202" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="9205" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9206" class="Symbol">)}</a>
         <a id="9218" class="Symbol">{</a><a id="9219" href="Varieties.Preservation.html#9219" class="Bound">ğ’¦</a> <a id="9221" class="Symbol">:</a> <a id="9223" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="9228" class="Symbol">(</a><a id="9229" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="9237" href="Varieties.Preservation.html#9072" class="Bound">Î±</a> <a id="9239" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="9240" class="Symbol">)(</a><a id="9242" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="9245" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9246" class="Symbol">)}</a> <a id="9249" class="Keyword">where</a>

 <a id="9257" class="Keyword">open</a> <a id="9262" href="Varieties.Closure.html#11710" class="Module">Vlift</a> <a id="9268" class="Symbol">{</a><a id="9269" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9270" class="Symbol">}{</a><a id="9272" href="Varieties.Preservation.html#9085" class="Bound">feâ‚€</a><a id="9275" class="Symbol">}{</a><a id="9277" href="Varieties.Preservation.html#9118" class="Bound">feâ‚</a><a id="9280" class="Symbol">}{</a><a id="9282" href="Varieties.Preservation.html#9181" class="Bound">feâ‚‚</a><a id="9285" class="Symbol">}{</a><a id="9287" href="Varieties.Preservation.html#9219" class="Bound">ğ’¦</a><a id="9288" class="Symbol">}</a>

 <a id="9292" href="Varieties.Preservation.html#9292" class="Function">SPâŠ†V&#39;</a> <a id="9298" class="Symbol">:</a> <a id="9300" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="9301" class="Symbol">{</a><a id="9302" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="9305" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9306" class="Symbol">}{</a><a id="9308" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9313" class="Symbol">(</a><a id="9314" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="9317" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9318" class="Symbol">)}</a> <a id="9321" class="Symbol">(</a><a id="9322" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="9323" class="Symbol">{</a><a id="9324" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9325" class="Symbol">}{</a><a id="9327" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="9330" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9331" class="Symbol">}</a> <a id="9333" href="Varieties.Preservation.html#9219" class="Bound">ğ’¦</a><a id="9334" class="Symbol">)</a> <a id="9336" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="9338" href="Varieties.Closure.html#5309" class="Datatype">V</a> <a id="9340" href="Varieties.Preservation.html#9219" class="Bound">ğ’¦</a>

 <a id="9344" href="Varieties.Preservation.html#9292" class="Function">SPâŠ†V&#39;</a> <a id="9350" class="Symbol">(</a><a id="9351" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a><a id="9356" class="Symbol">{</a><a id="9357" href="Varieties.Preservation.html#9357" class="Bound">ğ‘¨</a><a id="9358" class="Symbol">}</a> <a id="9360" href="Varieties.Preservation.html#9360" class="Bound">x</a><a id="9361" class="Symbol">)</a> <a id="9363" class="Symbol">=</a> <a id="9365" href="Varieties.Closure.html#5983" class="InductiveConstructor">visow</a> <a id="9371" class="Symbol">(</a><a id="9372" href="Varieties.Closure.html#11913" class="Function">VlA</a> <a id="9376" class="Symbol">(</a><a id="9377" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="9382" class="Symbol">(</a><a id="9383" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a> <a id="9389" href="Varieties.Preservation.html#9360" class="Bound">x</a><a id="9390" class="Symbol">)))</a> <a id="9394" class="Symbol">(</a><a id="9395" href="Homomorphisms.Isomorphisms.html#2906" class="Function">â‰…-sym</a> <a id="9401" class="Symbol">(</a><a id="9402" href="Homomorphisms.Isomorphisms.html#5089" class="Function">Lift-Alg-assoc</a> <a id="9417" class="Symbol">_</a> <a id="9419" class="Symbol">_{</a><a id="9421" href="Varieties.Preservation.html#9357" class="Bound">ğ‘¨</a><a id="9422" class="Symbol">}))</a>
 <a id="9427" href="Varieties.Preservation.html#9292" class="Function">SPâŠ†V&#39;</a> <a id="9433" class="Symbol">(</a><a id="9434" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a> <a id="9440" href="Varieties.Preservation.html#9440" class="Bound">x</a><a id="9441" class="Symbol">)</a> <a id="9443" class="Symbol">=</a> <a id="9445" href="Varieties.Closure.html#11913" class="Function">VlA</a> <a id="9449" class="Symbol">(</a><a id="9450" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="9455" href="Varieties.Preservation.html#9440" class="Bound">x</a><a id="9456" class="Symbol">)</a>

 <a id="9460" href="Varieties.Preservation.html#9292" class="Function">SPâŠ†V&#39;</a> <a id="9466" class="Symbol">(</a><a id="9467" href="Varieties.Closure.html#3977" class="InductiveConstructor">ssub</a><a id="9471" class="Symbol">{</a><a id="9472" href="Varieties.Preservation.html#9472" class="Bound">ğ‘¨</a><a id="9473" class="Symbol">}{</a><a id="9475" href="Varieties.Preservation.html#9475" class="Bound">ğ‘©</a><a id="9476" class="Symbol">}</a> <a id="9478" href="Varieties.Preservation.html#9478" class="Bound">spA</a> <a id="9482" href="Varieties.Preservation.html#9482" class="Bound">Bâ‰¤A</a><a id="9485" class="Symbol">)</a> <a id="9487" class="Symbol">=</a> <a id="9489" href="Varieties.Closure.html#5672" class="InductiveConstructor">vssubw</a> <a id="9496" class="Symbol">(</a><a id="9497" href="Varieties.Closure.html#11913" class="Function">VlA</a> <a id="9501" class="Symbol">(</a><a id="9502" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="9507" href="Varieties.Preservation.html#9478" class="Bound">spA</a><a id="9510" class="Symbol">))</a> <a id="9513" href="Varieties.Preservation.html#9529" class="Function">Bâ‰¤lA</a>
  <a id="9520" class="Keyword">where</a>
   <a id="9529" href="Varieties.Preservation.html#9529" class="Function">Bâ‰¤lA</a> <a id="9534" class="Symbol">:</a> <a id="9536" href="Varieties.Preservation.html#9475" class="Bound">ğ‘©</a> <a id="9538" href="Subalgebras.Subalgebras.html#2553" class="Function Operator">â‰¤</a> <a id="9540" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="9549" href="Varieties.Preservation.html#9472" class="Bound">ğ‘¨</a> <a id="9551" class="Symbol">(</a><a id="9552" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9557" class="Symbol">(</a><a id="9558" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="9561" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9562" class="Symbol">))</a>
   <a id="9568" href="Varieties.Preservation.html#9529" class="Function">Bâ‰¤lA</a> <a id="9573" class="Symbol">=</a> <a id="9575" href="Subalgebras.Properties.html#5802" class="Function">â‰¤-Lift</a> <a id="9582" href="Varieties.Preservation.html#9472" class="Bound">ğ‘¨</a> <a id="9584" href="Varieties.Preservation.html#9482" class="Bound">Bâ‰¤A</a>

 <a id="9590" href="Varieties.Preservation.html#9292" class="Function">SPâŠ†V&#39;</a> <a id="9596" class="Symbol">(</a><a id="9597" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a><a id="9601" class="Symbol">{</a><a id="9602" href="Varieties.Preservation.html#9602" class="Bound">ğ‘¨</a><a id="9603" class="Symbol">}{</a><a id="9605" href="Varieties.Preservation.html#9605" class="Bound">ğ‘©</a><a id="9606" class="Symbol">}</a> <a id="9608" href="Varieties.Preservation.html#9608" class="Bound">x</a> <a id="9610" href="Varieties.Preservation.html#9610" class="Bound">Aâ‰…B</a><a id="9613" class="Symbol">)</a> <a id="9615" class="Symbol">=</a> <a id="9617" href="Varieties.Closure.html#5983" class="InductiveConstructor">visow</a> <a id="9623" class="Symbol">(</a><a id="9624" href="Varieties.Closure.html#11913" class="Function">VlA</a> <a id="9628" class="Symbol">(</a><a id="9629" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="9634" href="Varieties.Preservation.html#9608" class="Bound">x</a><a id="9635" class="Symbol">))</a> <a id="9638" href="Varieties.Preservation.html#9654" class="Function">Goal</a>
  <a id="9645" class="Keyword">where</a>
   <a id="9654" href="Varieties.Preservation.html#9654" class="Function">Goal</a> <a id="9659" class="Symbol">:</a> <a id="9661" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="9670" href="Varieties.Preservation.html#9602" class="Bound">ğ‘¨</a> <a id="9672" class="Symbol">(</a><a id="9673" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9678" class="Symbol">(</a><a id="9679" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="9682" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9683" class="Symbol">))</a> <a id="9686" href="Homomorphisms.Isomorphisms.html#2276" class="Record Operator">â‰…</a> <a id="9688" href="Varieties.Preservation.html#9605" class="Bound">ğ‘©</a>
   <a id="9693" href="Varieties.Preservation.html#9654" class="Function">Goal</a> <a id="9698" class="Symbol">=</a> <a id="9700" href="Homomorphisms.Isomorphisms.html#2995" class="Function">â‰…-trans</a> <a id="9708" class="Symbol">(</a><a id="9709" href="Homomorphisms.Isomorphisms.html#2906" class="Function">â‰…-sym</a> <a id="9715" href="Homomorphisms.Isomorphisms.html#4349" class="Function">Lift-â‰…</a><a id="9721" class="Symbol">)</a> <a id="9723" href="Varieties.Preservation.html#9610" class="Bound">Aâ‰…B</a>

</pre>


### <a id="S-in-SP">â¨… S(ğ’¦) âˆˆ SP(ğ’¦)</a>

Finally, we prove a result that plays an important role, e.g., in the formal proof of Birkhoff's Theorem. As we saw in [Algebras.Products][], the (informal) product `â¨… S(ğ’¦)` of all subalgebras of algebras in ğ’¦ is implemented (formally) in the [UniversalAlgebra][] library as `â¨… ğ”„ S(ğ’¦)`. Our goal is to prove that this product belongs to `SP(ğ’¦)`. We do so by first proving that the product belongs to `PS(ğ’¦)` and then applying the `PSâŠ†SP` lemma.

Before doing so, we need to redefine the class product so that each factor comes with a map from the type `X` of variable symbols into that factor.  We will explain the reason for this below.

<pre class="Agda">

<a id="10434" class="Keyword">module</a> <a id="class-products-with-maps"></a><a id="10441" href="Varieties.Preservation.html#10441" class="Module">class-products-with-maps</a> <a id="10466" class="Symbol">{</a><a id="10467" href="Varieties.Preservation.html#10467" class="Bound">Î±</a> <a id="10469" class="Symbol">:</a> <a id="10471" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="10476" class="Symbol">}</a>
 <a id="10479" class="Symbol">{</a><a id="10480" href="Varieties.Preservation.html#10480" class="Bound">X</a> <a id="10482" class="Symbol">:</a> <a id="10484" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="10489" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="10490" class="Symbol">}</a>
 <a id="10493" class="Symbol">{</a><a id="10494" href="Varieties.Preservation.html#10494" class="Bound">feğ“•Î±</a> <a id="10499" class="Symbol">:</a> <a id="10501" href="Varieties.Preservation.html#931" class="Function">funext</a> <a id="10508" class="Symbol">(</a><a id="10509" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="10512" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="10513" class="Symbol">)</a> <a id="10515" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="10516" class="Symbol">}</a>
 <a id="10519" class="Symbol">{</a><a id="10520" href="Varieties.Preservation.html#10520" class="Bound">feâ‚</a> <a id="10524" class="Symbol">:</a> <a id="10526" href="Varieties.Preservation.html#931" class="Function">funext</a> <a id="10533" class="Symbol">((</a><a id="10535" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="10538" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="10539" class="Symbol">)</a> <a id="10541" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="10543" class="Symbol">(</a><a id="10544" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="10549" class="Symbol">(</a><a id="10550" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="10553" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="10554" class="Symbol">)))</a> <a id="10558" class="Symbol">(</a><a id="10559" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="10564" class="Symbol">(</a><a id="10565" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="10568" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="10569" class="Symbol">))}</a>
 <a id="10574" class="Symbol">{</a><a id="10575" href="Varieties.Preservation.html#10575" class="Bound">feâ‚‚</a> <a id="10579" class="Symbol">:</a> <a id="10581" href="Varieties.Preservation.html#931" class="Function">funext</a> <a id="10588" class="Symbol">(</a><a id="10589" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="10592" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="10593" class="Symbol">)</a> <a id="10595" class="Symbol">(</a><a id="10596" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="10599" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="10600" class="Symbol">)}</a>
 <a id="10604" class="Symbol">(</a><a id="10605" href="Varieties.Preservation.html#10605" class="Bound">ğ’¦</a> <a id="10607" class="Symbol">:</a> <a id="10609" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="10614" class="Symbol">(</a><a id="10615" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="10623" href="Varieties.Preservation.html#10467" class="Bound">Î±</a> <a id="10625" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="10626" class="Symbol">)(</a><a id="10628" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="10631" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="10632" class="Symbol">))</a>
 <a id="10636" class="Keyword">where</a>

 <a id="class-products-with-maps.â„‘&#39;"></a><a id="10644" href="Varieties.Preservation.html#10644" class="Function">â„‘&#39;</a> <a id="10647" class="Symbol">:</a> <a id="10649" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="10654" class="Symbol">(</a><a id="10655" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="10658" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="10659" class="Symbol">)</a>
 <a id="10662" href="Varieties.Preservation.html#10644" class="Function">â„‘&#39;</a> <a id="10665" class="Symbol">=</a> <a id="10667" href="Data.Product.html#916" class="Function">Î£[</a> <a id="10670" href="Varieties.Preservation.html#10670" class="Bound">ğ‘¨</a> <a id="10672" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="10674" class="Symbol">(</a><a id="10675" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="10683" href="Varieties.Preservation.html#10467" class="Bound">Î±</a> <a id="10685" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="10686" class="Symbol">)</a> <a id="10688" href="Data.Product.html#916" class="Function">]</a> <a id="10690" class="Symbol">((</a><a id="10692" href="Varieties.Preservation.html#10670" class="Bound">ğ‘¨</a> <a id="10694" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="10696" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="10697" class="Symbol">{</a><a id="10698" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="10699" class="Symbol">}{</a><a id="10701" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="10702" class="Symbol">}</a> <a id="10704" href="Varieties.Preservation.html#10605" class="Bound">ğ’¦</a><a id="10705" class="Symbol">)</a> <a id="10707" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="10709" class="Symbol">(</a><a id="10710" href="Varieties.Preservation.html#10480" class="Bound">X</a> <a id="10712" class="Symbol">â†’</a> <a id="10714" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="10716" href="Varieties.Preservation.html#10670" class="Bound">ğ‘¨</a> <a id="10718" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a><a id="10719" class="Symbol">))</a>

</pre>

Notice that the second component of this dependent pair type is  `(ğ‘¨ âˆˆ ğ’¦) Ã— (X â†’ âˆ£ ğ‘¨ âˆ£)`. In previous versions of the [UALib][] this second component was simply `ğ‘¨ âˆˆ ğ’¦`, until we realized that adding the type `X â†’ âˆ£ ğ‘¨ âˆ£` is quite useful. Later we will see exactly why, but for now suffice it to say that a map of type `X â†’ âˆ£ ğ‘¨ âˆ£` may be viewed abstractly as an *ambient context*, or more concretely, as an assignment of *values* in `âˆ£ ğ‘¨ âˆ£` to *variable symbols* in `X`.  When computing with or reasoning about products, while we don't want to rigidly impose a context in advance, want do want to lay our hands on whatever context is ultimately assumed.  Including the "context map" inside the index type `â„‘` of the product turns out to be a convenient way to achieve this flexibility.


Taking the product over the index type `â„‘` requires a function that maps an index `i : â„‘` to the corresponding algebra.  Each `i : â„‘` is a triple, say, `(ğ‘¨ , p , h)`, where `ğ‘¨ : Algebra Î± ğ‘†`, `p : ğ‘¨ âˆˆ ğ’¦`, and `h : X â†’ âˆ£ ğ‘¨ âˆ£`, so the function mapping an index to the corresponding algebra is simply the first projection.

<pre class="Agda">

 <a id="class-products-with-maps.ğ”„&#39;"></a><a id="11858" href="Varieties.Preservation.html#11858" class="Function">ğ”„&#39;</a> <a id="11861" class="Symbol">:</a> <a id="11863" href="Varieties.Preservation.html#10644" class="Function">â„‘&#39;</a> <a id="11866" class="Symbol">â†’</a> <a id="11868" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="11876" href="Varieties.Preservation.html#10467" class="Bound">Î±</a> <a id="11878" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a>
 <a id="11881" href="Varieties.Preservation.html#11858" class="Function">ğ”„&#39;</a> <a id="11884" class="Symbol">=</a> <a id="11886" class="Symbol">Î»</a> <a id="11888" class="Symbol">(</a><a id="11889" href="Varieties.Preservation.html#11889" class="Bound">i</a> <a id="11891" class="Symbol">:</a> <a id="11893" href="Varieties.Preservation.html#10644" class="Function">â„‘&#39;</a><a id="11895" class="Symbol">)</a> <a id="11897" class="Symbol">â†’</a> <a id="11899" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="11901" href="Varieties.Preservation.html#11889" class="Bound">i</a> <a id="11903" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>

</pre>

Finally, we define `class-product` which represents the product of all members of ğ’¦.

<pre class="Agda">

 <a id="class-products-with-maps.class-product&#39;"></a><a id="12019" href="Varieties.Preservation.html#12019" class="Function">class-product&#39;</a> <a id="12034" class="Symbol">:</a> <a id="12036" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="12044" class="Symbol">(</a><a id="12045" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="12048" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="12049" class="Symbol">)</a> <a id="12051" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a>
 <a id="12054" href="Varieties.Preservation.html#12019" class="Function">class-product&#39;</a> <a id="12069" class="Symbol">=</a> <a id="12071" href="Algebras.Products.html#1785" class="Function">â¨…</a> <a id="12073" href="Varieties.Preservation.html#11858" class="Function">ğ”„&#39;</a>

</pre>

If `p : ğ‘¨ âˆˆ ğ’¦` and `h : X â†’ âˆ£ ğ‘¨ âˆ£`, we view the triple `(ğ‘¨ , p , h) âˆˆ â„‘` as an index over the class, and so we can think of `ğ”„ (ğ‘¨ , p , h)` (which is simply `ğ‘¨`) as the projection of the product `â¨… ğ”„` onto the `(ğ‘¨ , p, h)`-th component.

<pre class="Agda">

 <a id="class-products-with-maps.class-prod-s-âˆˆ-ps"></a><a id="12342" href="Varieties.Preservation.html#12342" class="Function">class-prod-s-âˆˆ-ps</a> <a id="12360" class="Symbol">:</a> <a id="12362" href="Varieties.Preservation.html#12019" class="Function">class-product&#39;</a> <a id="12377" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12379" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="12380" class="Symbol">{</a><a id="12381" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="12384" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="12385" class="Symbol">}{</a><a id="12387" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="12390" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="12391" class="Symbol">}(</a><a id="12393" href="Varieties.Closure.html#3769" class="Datatype">S</a> <a id="12395" href="Varieties.Preservation.html#10605" class="Bound">ğ’¦</a><a id="12396" class="Symbol">)</a>
 <a id="12399" href="Varieties.Preservation.html#12342" class="Function">class-prod-s-âˆˆ-ps</a> <a id="12417" class="Symbol">=</a> <a id="12419" href="Varieties.Closure.html#4809" class="InductiveConstructor">pisow</a> <a id="12425" href="Varieties.Preservation.html#12700" class="Function">psPllA</a> <a id="12432" class="Symbol">(</a><a id="12433" href="Homomorphisms.Isomorphisms.html#5669" class="Function">â¨…â‰…</a> <a id="12436" class="Symbol">{</a><a id="12437" class="Argument">fiu</a> <a id="12441" class="Symbol">=</a> <a id="12443" href="Varieties.Preservation.html#10575" class="Bound">feâ‚‚</a><a id="12446" class="Symbol">}{</a><a id="12448" class="Argument">fiw</a> <a id="12452" class="Symbol">=</a> <a id="12454" href="Varieties.Preservation.html#10494" class="Bound">feğ“•Î±</a><a id="12458" class="Symbol">}</a> <a id="12460" href="Varieties.Preservation.html#12751" class="Function">llAâ‰…A</a><a id="12465" class="Symbol">)</a>

  <a id="12470" class="Keyword">where</a>
  <a id="12478" href="Varieties.Preservation.html#12478" class="Function">lA</a> <a id="12481" href="Varieties.Preservation.html#12481" class="Function">llA</a> <a id="12485" class="Symbol">:</a> <a id="12487" href="Varieties.Preservation.html#10644" class="Function">â„‘&#39;</a> <a id="12490" class="Symbol">â†’</a> <a id="12492" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="12500" class="Symbol">(</a><a id="12501" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="12504" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="12505" class="Symbol">)</a> <a id="12507" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a>
  <a id="12511" href="Varieties.Preservation.html#12478" class="Function">lA</a> <a id="12514" href="Varieties.Preservation.html#12514" class="Bound">i</a> <a id="12516" class="Symbol">=</a>  <a id="12519" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="12528" class="Symbol">(</a><a id="12529" href="Algebras.Products.html#5149" class="Function">ğ”„</a> <a id="12531" href="Varieties.Preservation.html#12514" class="Bound">i</a><a id="12532" class="Symbol">)</a> <a id="12534" class="Symbol">(</a><a id="12535" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="12538" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="12539" class="Symbol">)</a>
  <a id="12543" href="Varieties.Preservation.html#12481" class="Function">llA</a> <a id="12547" href="Varieties.Preservation.html#12547" class="Bound">i</a> <a id="12549" class="Symbol">=</a> <a id="12551" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="12560" class="Symbol">(</a><a id="12561" href="Varieties.Preservation.html#12478" class="Function">lA</a> <a id="12564" href="Varieties.Preservation.html#12547" class="Bound">i</a><a id="12565" class="Symbol">)</a> <a id="12567" class="Symbol">(</a><a id="12568" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="12571" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="12572" class="Symbol">)</a>

  <a id="12577" href="Varieties.Preservation.html#12577" class="Function">slA</a> <a id="12581" class="Symbol">:</a> <a id="12583" class="Symbol">âˆ€</a> <a id="12585" href="Varieties.Preservation.html#12585" class="Bound">i</a> <a id="12587" class="Symbol">â†’</a> <a id="12589" class="Symbol">(</a><a id="12590" href="Varieties.Preservation.html#12478" class="Function">lA</a> <a id="12593" href="Varieties.Preservation.html#12585" class="Bound">i</a><a id="12594" class="Symbol">)</a> <a id="12596" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12598" href="Varieties.Closure.html#3769" class="Datatype">S</a> <a id="12600" href="Varieties.Preservation.html#10605" class="Bound">ğ’¦</a>
  <a id="12604" href="Varieties.Preservation.html#12577" class="Function">slA</a> <a id="12608" href="Varieties.Preservation.html#12608" class="Bound">i</a> <a id="12610" class="Symbol">=</a> <a id="12612" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a> <a id="12617" class="Symbol">(</a><a id="12618" href="Varieties.Preservation.html#1018" class="Field">fst</a> <a id="12622" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="12624" href="Varieties.Preservation.html#12608" class="Bound">i</a> <a id="12626" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a><a id="12627" class="Symbol">)</a> <a id="12629" href="Homomorphisms.Isomorphisms.html#4349" class="Function">Lift-â‰…</a>

  <a id="12639" href="Varieties.Preservation.html#12639" class="Function">psllA</a> <a id="12645" class="Symbol">:</a> <a id="12647" class="Symbol">âˆ€</a> <a id="12649" href="Varieties.Preservation.html#12649" class="Bound">i</a> <a id="12651" class="Symbol">â†’</a> <a id="12653" class="Symbol">(</a><a id="12654" href="Varieties.Preservation.html#12481" class="Function">llA</a> <a id="12658" href="Varieties.Preservation.html#12649" class="Bound">i</a><a id="12659" class="Symbol">)</a> <a id="12661" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12663" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="12665" class="Symbol">(</a><a id="12666" href="Varieties.Closure.html#3769" class="Datatype">S</a> <a id="12668" href="Varieties.Preservation.html#10605" class="Bound">ğ’¦</a><a id="12669" class="Symbol">)</a>
  <a id="12673" href="Varieties.Preservation.html#12639" class="Function">psllA</a> <a id="12679" href="Varieties.Preservation.html#12679" class="Bound">i</a> <a id="12681" class="Symbol">=</a> <a id="12683" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="12689" class="Symbol">(</a><a id="12690" href="Varieties.Preservation.html#12577" class="Function">slA</a> <a id="12694" href="Varieties.Preservation.html#12679" class="Bound">i</a><a id="12695" class="Symbol">)</a>

  <a id="12700" href="Varieties.Preservation.html#12700" class="Function">psPllA</a> <a id="12707" class="Symbol">:</a> <a id="12709" href="Algebras.Products.html#1785" class="Function">â¨…</a> <a id="12711" href="Varieties.Preservation.html#12481" class="Function">llA</a> <a id="12715" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12717" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="12719" class="Symbol">(</a><a id="12720" href="Varieties.Closure.html#3769" class="Datatype">S</a> <a id="12722" href="Varieties.Preservation.html#10605" class="Bound">ğ’¦</a><a id="12723" class="Symbol">)</a>
  <a id="12727" href="Varieties.Preservation.html#12700" class="Function">psPllA</a> <a id="12734" class="Symbol">=</a> <a id="12736" href="Varieties.Closure.html#4639" class="InductiveConstructor">produ</a> <a id="12742" href="Varieties.Preservation.html#12639" class="Function">psllA</a>

  <a id="12751" href="Varieties.Preservation.html#12751" class="Function">llAâ‰…A</a> <a id="12757" class="Symbol">:</a> <a id="12759" class="Symbol">âˆ€</a> <a id="12761" href="Varieties.Preservation.html#12761" class="Bound">i</a> <a id="12763" class="Symbol">â†’</a> <a id="12765" class="Symbol">(</a><a id="12766" href="Varieties.Preservation.html#12481" class="Function">llA</a> <a id="12770" href="Varieties.Preservation.html#12761" class="Bound">i</a><a id="12771" class="Symbol">)</a> <a id="12773" href="Homomorphisms.Isomorphisms.html#2276" class="Record Operator">â‰…</a> <a id="12775" class="Symbol">(</a><a id="12776" href="Varieties.Preservation.html#11858" class="Function">ğ”„&#39;</a> <a id="12779" href="Varieties.Preservation.html#12761" class="Bound">i</a><a id="12780" class="Symbol">)</a>
  <a id="12784" href="Varieties.Preservation.html#12751" class="Function">llAâ‰…A</a> <a id="12790" href="Varieties.Preservation.html#12790" class="Bound">i</a> <a id="12792" class="Symbol">=</a> <a id="12794" href="Homomorphisms.Isomorphisms.html#2995" class="Function">â‰…-trans</a> <a id="12802" class="Symbol">(</a><a id="12803" href="Homomorphisms.Isomorphisms.html#2906" class="Function">â‰…-sym</a> <a id="12809" href="Homomorphisms.Isomorphisms.html#4349" class="Function">Lift-â‰…</a><a id="12815" class="Symbol">)(</a><a id="12817" href="Homomorphisms.Isomorphisms.html#2906" class="Function">â‰…-sym</a> <a id="12823" href="Homomorphisms.Isomorphisms.html#4349" class="Function">Lift-â‰…</a><a id="12829" class="Symbol">)</a>

</pre>


So, since `PSâŠ†SP`, we see that that the product of all subalgebras of a class `ğ’¦` belongs to `SP(ğ’¦)`.

<pre class="Agda">

 <a id="class-products-with-maps.class-prod-s-âˆˆ-sp"></a><a id="12963" href="Varieties.Preservation.html#12963" class="Function">class-prod-s-âˆˆ-sp</a> <a id="12981" class="Symbol">:</a> <a id="12983" href="Foundations.Truncation.html#3965" class="Function">hfunext</a> <a id="12991" class="Symbol">(</a><a id="12992" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="12995" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="12996" class="Symbol">)</a> <a id="12998" class="Symbol">(</a><a id="12999" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="13002" href="Varieties.Preservation.html#10467" class="Bound">Î±</a><a id="13003" class="Symbol">)</a> <a id="13005" class="Symbol">â†’</a> <a id="13007" href="Algebras.Products.html#5296" class="Function">class-product</a> <a id="13021" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="13023" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="13024" class="Symbol">(</a><a id="13025" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="13027" href="Varieties.Preservation.html#10605" class="Bound">ğ’¦</a><a id="13028" class="Symbol">)</a>
 <a id="13031" href="Varieties.Preservation.html#12963" class="Function">class-prod-s-âˆˆ-sp</a> <a id="13049" href="Varieties.Preservation.html#13049" class="Bound">hfe</a> <a id="13053" class="Symbol">=</a> <a id="13055" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="13061" class="Symbol">{</a><a id="13062" class="Argument">fovu</a> <a id="13067" class="Symbol">=</a> <a id="13069" href="Varieties.Preservation.html#10575" class="Bound">feâ‚‚</a><a id="13072" class="Symbol">}</a> <a id="13074" href="Varieties.Preservation.html#13049" class="Bound">hfe</a> <a id="13078" href="Varieties.Preservation.html#12342" class="Function">class-prod-s-âˆˆ-ps</a>

</pre>


### <a id="h-preserves-identities">H preserves identities</a>

First we prove that the closure operator H is compatible with identities that hold in the given class.

<pre class="Agda">

<a id="13291" class="Keyword">open</a> <a id="13296" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">â‰¡-Reasoning</a>

<a id="13309" class="Keyword">private</a> <a id="13317" class="Keyword">variable</a> <a id="13326" href="Varieties.Preservation.html#13326" class="Generalizable">ğ“§</a> <a id="13328" class="Symbol">:</a> <a id="13330" href="Agda.Primitive.html#597" class="Postulate">Level</a>
<a id="13336" class="Keyword">open</a> <a id="13341" href="Terms.Basic.html#1987" class="Module">Term</a>

<a id="13347" class="Keyword">module</a> <a id="13354" href="Varieties.Preservation.html#13354" class="Module">_</a> <a id="13356" class="Symbol">(</a><a id="13357" href="Varieties.Preservation.html#13357" class="Bound">wd</a> <a id="13360" class="Symbol">:</a> <a id="13362" href="Foundations.Welldefined.html#2946" class="Function">SwellDef</a><a id="13370" class="Symbol">){</a><a id="13372" href="Varieties.Preservation.html#13372" class="Bound">X</a> <a id="13374" class="Symbol">:</a> <a id="13376" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="13381" href="Varieties.Preservation.html#13326" class="Generalizable">ğ“§</a><a id="13382" class="Symbol">}</a> <a id="13384" class="Symbol">{</a><a id="13385" href="Varieties.Preservation.html#13385" class="Bound">ğ’¦</a> <a id="13387" class="Symbol">:</a> <a id="13389" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="13394" class="Symbol">(</a><a id="13395" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="13403" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="13405" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="13406" class="Symbol">)(</a><a id="13408" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="13411" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="13412" class="Symbol">)}</a> <a id="13415" class="Keyword">where</a>

 <a id="13423" href="Varieties.Preservation.html#13423" class="Function">H-id1</a> <a id="13429" class="Symbol">:</a> <a id="13431" class="Symbol">(</a><a id="13432" href="Varieties.Preservation.html#13432" class="Bound">p</a> <a id="13434" href="Varieties.Preservation.html#13434" class="Bound">q</a> <a id="13436" class="Symbol">:</a> <a id="13438" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="13443" href="Varieties.Preservation.html#13372" class="Bound">X</a><a id="13444" class="Symbol">)</a> <a id="13446" class="Symbol">â†’</a> <a id="13448" href="Varieties.Preservation.html#13385" class="Bound">ğ’¦</a> <a id="13450" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="13452" href="Varieties.Preservation.html#13432" class="Bound">p</a> <a id="13454" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="13456" href="Varieties.Preservation.html#13434" class="Bound">q</a> <a id="13458" class="Symbol">â†’</a> <a id="13460" href="Varieties.Closure.html#3319" class="Datatype">H</a><a id="13461" class="Symbol">{</a><a id="13462" class="Argument">Î²</a> <a id="13464" class="Symbol">=</a> <a id="13466" href="Varieties.Preservation.html#13403" class="Bound">Î±</a><a id="13467" class="Symbol">}</a> <a id="13469" href="Varieties.Preservation.html#13385" class="Bound">ğ’¦</a> <a id="13471" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="13473" href="Varieties.Preservation.html#13432" class="Bound">p</a> <a id="13475" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="13477" href="Varieties.Preservation.html#13434" class="Bound">q</a>
 <a id="13480" href="Varieties.Preservation.html#13423" class="Function">H-id1</a> <a id="13486" href="Varieties.Preservation.html#13486" class="Bound">p</a> <a id="13488" href="Varieties.Preservation.html#13488" class="Bound">q</a> <a id="13490" href="Varieties.Preservation.html#13490" class="Bound">Ïƒ</a> <a id="13492" class="Symbol">(</a><a id="13493" href="Varieties.Closure.html#3414" class="InductiveConstructor">hbase</a> <a id="13499" href="Varieties.Preservation.html#13499" class="Bound">x</a><a id="13500" class="Symbol">)</a> <a id="13502" class="Symbol">=</a> <a id="13504" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="13517" href="Varieties.Preservation.html#13357" class="Bound">wd</a> <a id="13520" href="Varieties.Preservation.html#13486" class="Bound">p</a> <a id="13522" href="Varieties.Preservation.html#13488" class="Bound">q</a> <a id="13524" class="Symbol">(</a><a id="13525" href="Varieties.Preservation.html#13490" class="Bound">Ïƒ</a> <a id="13527" href="Varieties.Preservation.html#13499" class="Bound">x</a><a id="13528" class="Symbol">)</a>
 <a id="13531" href="Varieties.Preservation.html#13423" class="Function">H-id1</a> <a id="13537" href="Varieties.Preservation.html#13537" class="Bound">p</a> <a id="13539" href="Varieties.Preservation.html#13539" class="Bound">q</a> <a id="13541" href="Varieties.Preservation.html#13541" class="Bound">Ïƒ</a> <a id="13543" class="Symbol">(</a><a id="13544" href="Varieties.Closure.html#3470" class="InductiveConstructor">hhimg</a><a id="13549" class="Symbol">{</a><a id="13550" href="Varieties.Preservation.html#13550" class="Bound">ğ‘¨</a><a id="13551" class="Symbol">}{</a><a id="13553" href="Varieties.Preservation.html#13553" class="Bound">ğ‘ª</a><a id="13554" class="Symbol">}</a> <a id="13556" href="Varieties.Preservation.html#13556" class="Bound">HA</a> <a id="13559" class="Symbol">(</a><a id="13560" href="Varieties.Preservation.html#13560" class="Bound">ğ‘©</a> <a id="13562" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13564" class="Symbol">((</a><a id="13566" href="Varieties.Preservation.html#13566" class="Bound">Ï†</a> <a id="13568" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13570" href="Varieties.Preservation.html#13570" class="Bound">Ï†h</a><a id="13572" class="Symbol">)</a> <a id="13574" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13576" href="Varieties.Preservation.html#13576" class="Bound">Ï†E</a><a id="13578" class="Symbol">)))</a> <a id="13582" href="Varieties.Preservation.html#13582" class="Bound">b</a> <a id="13584" class="Symbol">=</a> <a id="13586" href="Varieties.Preservation.html#13754" class="Function">goal</a>
  <a id="13593" class="Keyword">where</a>
  <a id="13601" href="Varieties.Preservation.html#13601" class="Function">IH</a> <a id="13604" class="Symbol">:</a> <a id="13606" href="Varieties.Preservation.html#13550" class="Bound">ğ‘¨</a> <a id="13608" href="Varieties.EquationalLogic.html#2605" class="Function Operator">âŠ§</a> <a id="13610" href="Varieties.Preservation.html#13537" class="Bound">p</a> <a id="13612" href="Varieties.EquationalLogic.html#2605" class="Function Operator">â‰ˆ</a> <a id="13614" href="Varieties.Preservation.html#13539" class="Bound">q</a>
  <a id="13618" href="Varieties.Preservation.html#13601" class="Function">IH</a> <a id="13621" class="Symbol">=</a> <a id="13623" class="Symbol">(</a><a id="13624" href="Varieties.Preservation.html#13423" class="Function">H-id1</a> <a id="13630" href="Varieties.Preservation.html#13537" class="Bound">p</a> <a id="13632" href="Varieties.Preservation.html#13539" class="Bound">q</a> <a id="13634" href="Varieties.Preservation.html#13541" class="Bound">Ïƒ</a><a id="13635" class="Symbol">)</a> <a id="13637" href="Varieties.Preservation.html#13556" class="Bound">HA</a>

  <a id="13643" href="Varieties.Preservation.html#13643" class="Function">preim</a> <a id="13649" class="Symbol">:</a> <a id="13651" href="Varieties.Preservation.html#13372" class="Bound">X</a> <a id="13653" class="Symbol">â†’</a> <a id="13655" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="13657" href="Varieties.Preservation.html#13550" class="Bound">ğ‘¨</a> <a id="13659" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>
  <a id="13663" href="Varieties.Preservation.html#13643" class="Function">preim</a> <a id="13669" href="Varieties.Preservation.html#13669" class="Bound">x</a> <a id="13671" class="Symbol">=</a> <a id="13673" href="Overture.Inverses.html#1860" class="Function">Inv</a> <a id="13677" href="Varieties.Preservation.html#13566" class="Bound">Ï†</a> <a id="13679" class="Symbol">(</a><a id="13680" href="Varieties.Preservation.html#13576" class="Bound">Ï†E</a> <a id="13683" class="Symbol">(</a><a id="13684" href="Varieties.Preservation.html#13582" class="Bound">b</a> <a id="13686" href="Varieties.Preservation.html#13669" class="Bound">x</a><a id="13687" class="Symbol">))</a>

  <a id="13693" href="Varieties.Preservation.html#13693" class="Function">Î¶</a> <a id="13695" class="Symbol">:</a> <a id="13697" class="Symbol">âˆ€</a> <a id="13699" href="Varieties.Preservation.html#13699" class="Bound">x</a> <a id="13701" class="Symbol">â†’</a> <a id="13703" href="Varieties.Preservation.html#13566" class="Bound">Ï†</a> <a id="13705" class="Symbol">(</a><a id="13706" href="Varieties.Preservation.html#13643" class="Function">preim</a> <a id="13712" href="Varieties.Preservation.html#13699" class="Bound">x</a><a id="13713" class="Symbol">)</a> <a id="13715" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="13717" href="Varieties.Preservation.html#13582" class="Bound">b</a> <a id="13719" href="Varieties.Preservation.html#13699" class="Bound">x</a>
  <a id="13723" href="Varieties.Preservation.html#13693" class="Function">Î¶</a> <a id="13725" href="Varieties.Preservation.html#13725" class="Bound">x</a> <a id="13727" class="Symbol">=</a> <a id="13729" href="Overture.Inverses.html#2023" class="Function">InvIsInv</a> <a id="13738" href="Varieties.Preservation.html#13566" class="Bound">Ï†</a> <a id="13740" class="Symbol">(</a><a id="13741" href="Varieties.Preservation.html#13576" class="Bound">Ï†E</a> <a id="13744" class="Symbol">(</a><a id="13745" href="Varieties.Preservation.html#13582" class="Bound">b</a> <a id="13747" href="Varieties.Preservation.html#13725" class="Bound">x</a><a id="13748" class="Symbol">))</a>

  <a id="13754" href="Varieties.Preservation.html#13754" class="Function">goal</a> <a id="13759" class="Symbol">:</a> <a id="13761" class="Symbol">(</a><a id="13762" href="Varieties.Preservation.html#13560" class="Bound">ğ‘©</a> <a id="13764" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="13766" href="Varieties.Preservation.html#13537" class="Bound">p</a> <a id="13768" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="13769" class="Symbol">)</a> <a id="13771" href="Varieties.Preservation.html#13582" class="Bound">b</a> <a id="13773" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="13775" class="Symbol">(</a><a id="13776" href="Varieties.Preservation.html#13560" class="Bound">ğ‘©</a> <a id="13778" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="13780" href="Varieties.Preservation.html#13539" class="Bound">q</a> <a id="13782" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="13783" class="Symbol">)</a> <a id="13785" href="Varieties.Preservation.html#13582" class="Bound">b</a>
  <a id="13789" href="Varieties.Preservation.html#13754" class="Function">goal</a> <a id="13794" class="Symbol">=</a> <a id="13796" class="Symbol">(</a><a id="13797" href="Varieties.Preservation.html#13560" class="Bound">ğ‘©</a> <a id="13799" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="13801" href="Varieties.Preservation.html#13537" class="Bound">p</a> <a id="13803" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="13804" class="Symbol">)</a> <a id="13806" href="Varieties.Preservation.html#13582" class="Bound">b</a>          <a id="13817" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="13820" href="Varieties.Preservation.html#13357" class="Bound">wd</a> <a id="13823" href="Varieties.Preservation.html#13381" class="Bound">ğ“§</a> <a id="13825" href="Varieties.Preservation.html#13403" class="Bound">Î±</a> <a id="13827" class="Symbol">(</a><a id="13828" href="Varieties.Preservation.html#13560" class="Bound">ğ‘©</a> <a id="13830" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="13832" href="Varieties.Preservation.html#13537" class="Bound">p</a> <a id="13834" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="13835" class="Symbol">)</a> <a id="13837" href="Varieties.Preservation.html#13582" class="Bound">b</a> <a id="13839" class="Symbol">(</a><a id="13840" href="Varieties.Preservation.html#13566" class="Bound">Ï†</a> <a id="13842" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="13844" href="Varieties.Preservation.html#13643" class="Function">preim</a> <a id="13850" class="Symbol">)(Î»</a> <a id="13854" href="Varieties.Preservation.html#13854" class="Bound">i</a> <a id="13856" class="Symbol">â†’</a> <a id="13858" class="Symbol">(</a><a id="13859" href="Varieties.Preservation.html#13693" class="Function">Î¶</a> <a id="13861" href="Varieties.Preservation.html#13854" class="Bound">i</a><a id="13862" class="Symbol">)</a><a id="13863" href="Overture.Preliminaries.html#5228" class="Function Operator">â»Â¹</a><a id="13865" class="Symbol">)</a><a id="13866" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="13874" class="Symbol">(</a><a id="13875" href="Varieties.Preservation.html#13560" class="Bound">ğ‘©</a> <a id="13877" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="13879" href="Varieties.Preservation.html#13537" class="Bound">p</a> <a id="13881" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="13882" class="Symbol">)(</a><a id="13884" href="Varieties.Preservation.html#13566" class="Bound">Ï†</a> <a id="13886" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="13888" href="Varieties.Preservation.html#13643" class="Function">preim</a><a id="13893" class="Symbol">)</a> <a id="13895" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="13897" class="Symbol">(</a><a id="13898" href="Terms.Operations.html#6532" class="Function">comm-hom-term</a> <a id="13912" class="Symbol">(</a><a id="13913" href="Varieties.Preservation.html#13357" class="Bound">wd</a> <a id="13916" href="Varieties.Preservation.html#626" class="Bound">ğ“¥</a> <a id="13918" href="Varieties.Preservation.html#13403" class="Bound">Î±</a><a id="13919" class="Symbol">)</a> <a id="13921" href="Varieties.Preservation.html#13560" class="Bound">ğ‘©</a> <a id="13923" class="Symbol">(</a><a id="13924" href="Varieties.Preservation.html#13566" class="Bound">Ï†</a> <a id="13926" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13928" href="Varieties.Preservation.html#13570" class="Bound">Ï†h</a><a id="13930" class="Symbol">)</a> <a id="13932" href="Varieties.Preservation.html#13537" class="Bound">p</a> <a id="13934" href="Varieties.Preservation.html#13643" class="Function">preim</a><a id="13939" class="Symbol">)</a><a id="13940" href="Overture.Preliminaries.html#5228" class="Function Operator">â»Â¹</a> <a id="13943" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="13951" href="Varieties.Preservation.html#13566" class="Bound">Ï†</a><a id="13952" class="Symbol">((</a><a id="13954" href="Varieties.Preservation.html#13550" class="Bound">ğ‘¨</a> <a id="13956" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="13958" href="Varieties.Preservation.html#13537" class="Bound">p</a> <a id="13960" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="13961" class="Symbol">)</a> <a id="13963" href="Varieties.Preservation.html#13643" class="Function">preim</a><a id="13968" class="Symbol">)</a>   <a id="13972" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="13975" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="13980" href="Varieties.Preservation.html#13566" class="Bound">Ï†</a> <a id="13982" class="Symbol">(</a><a id="13983" href="Varieties.Preservation.html#13601" class="Function">IH</a> <a id="13986" href="Varieties.Preservation.html#13643" class="Function">preim</a><a id="13991" class="Symbol">)</a> <a id="13993" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14001" href="Varieties.Preservation.html#13566" class="Bound">Ï†</a><a id="14002" class="Symbol">((</a><a id="14004" href="Varieties.Preservation.html#13550" class="Bound">ğ‘¨</a> <a id="14006" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="14008" href="Varieties.Preservation.html#13539" class="Bound">q</a> <a id="14010" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="14011" class="Symbol">)</a> <a id="14013" href="Varieties.Preservation.html#13643" class="Function">preim</a><a id="14018" class="Symbol">)</a>   <a id="14022" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14025" href="Terms.Operations.html#6532" class="Function">comm-hom-term</a> <a id="14039" class="Symbol">(</a><a id="14040" href="Varieties.Preservation.html#13357" class="Bound">wd</a> <a id="14043" href="Varieties.Preservation.html#626" class="Bound">ğ“¥</a> <a id="14045" href="Varieties.Preservation.html#13403" class="Bound">Î±</a><a id="14046" class="Symbol">)</a> <a id="14048" href="Varieties.Preservation.html#13560" class="Bound">ğ‘©</a> <a id="14050" class="Symbol">(</a><a id="14051" href="Varieties.Preservation.html#13566" class="Bound">Ï†</a> <a id="14053" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14055" href="Varieties.Preservation.html#13570" class="Bound">Ï†h</a><a id="14057" class="Symbol">)</a> <a id="14059" href="Varieties.Preservation.html#13539" class="Bound">q</a> <a id="14061" href="Varieties.Preservation.html#13643" class="Function">preim</a> <a id="14067" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14075" class="Symbol">(</a><a id="14076" href="Varieties.Preservation.html#13560" class="Bound">ğ‘©</a> <a id="14078" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="14080" href="Varieties.Preservation.html#13539" class="Bound">q</a> <a id="14082" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="14083" class="Symbol">)(</a><a id="14085" href="Varieties.Preservation.html#13566" class="Bound">Ï†</a> <a id="14087" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="14089" href="Varieties.Preservation.html#13643" class="Function">preim</a><a id="14094" class="Symbol">)</a> <a id="14096" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14099" href="Varieties.Preservation.html#13357" class="Bound">wd</a> <a id="14102" href="Varieties.Preservation.html#13381" class="Bound">ğ“§</a> <a id="14104" href="Varieties.Preservation.html#13403" class="Bound">Î±</a> <a id="14106" class="Symbol">(</a><a id="14107" href="Varieties.Preservation.html#13560" class="Bound">ğ‘©</a> <a id="14109" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="14111" href="Varieties.Preservation.html#13539" class="Bound">q</a> <a id="14113" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="14114" class="Symbol">)(</a><a id="14116" href="Varieties.Preservation.html#13566" class="Bound">Ï†</a> <a id="14118" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="14120" href="Varieties.Preservation.html#13643" class="Function">preim</a><a id="14125" class="Symbol">)</a> <a id="14127" href="Varieties.Preservation.html#13582" class="Bound">b</a> <a id="14129" href="Varieties.Preservation.html#13693" class="Function">Î¶</a> <a id="14131" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14139" class="Symbol">(</a><a id="14140" href="Varieties.Preservation.html#13560" class="Bound">ğ‘©</a> <a id="14142" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="14144" href="Varieties.Preservation.html#13539" class="Bound">q</a> <a id="14146" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="14147" class="Symbol">)</a> <a id="14149" href="Varieties.Preservation.html#13582" class="Bound">b</a>          <a id="14160" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

</pre>

The converse of the foregoing result is almost too obvious to bother with. Nonetheless, we formalize it for completeness.

<pre class="Agda">

 <a id="14313" href="Varieties.Preservation.html#14313" class="Function">H-id2</a> <a id="14319" class="Symbol">:</a> <a id="14321" class="Symbol">âˆ€</a> <a id="14323" class="Symbol">{</a><a id="14324" href="Varieties.Preservation.html#14324" class="Bound">Î²</a><a id="14325" class="Symbol">}</a> <a id="14327" class="Symbol">â†’</a> <a id="14329" class="Symbol">(</a><a id="14330" href="Varieties.Preservation.html#14330" class="Bound">p</a> <a id="14332" href="Varieties.Preservation.html#14332" class="Bound">q</a> <a id="14334" class="Symbol">:</a> <a id="14336" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="14341" href="Varieties.Preservation.html#13372" class="Bound">X</a><a id="14342" class="Symbol">)</a> <a id="14344" class="Symbol">â†’</a> <a id="14346" href="Varieties.Closure.html#3319" class="Datatype">H</a><a id="14347" class="Symbol">{</a><a id="14348" class="Argument">Î²</a> <a id="14350" class="Symbol">=</a> <a id="14352" href="Varieties.Preservation.html#14324" class="Bound">Î²</a><a id="14353" class="Symbol">}</a> <a id="14355" href="Varieties.Preservation.html#13385" class="Bound">ğ’¦</a> <a id="14357" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="14359" href="Varieties.Preservation.html#14330" class="Bound">p</a> <a id="14361" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="14363" href="Varieties.Preservation.html#14332" class="Bound">q</a> <a id="14365" class="Symbol">â†’</a> <a id="14367" href="Varieties.Preservation.html#13385" class="Bound">ğ’¦</a> <a id="14369" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="14371" href="Varieties.Preservation.html#14330" class="Bound">p</a> <a id="14373" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="14375" href="Varieties.Preservation.html#14332" class="Bound">q</a>

 <a id="14379" href="Varieties.Preservation.html#14313" class="Function">H-id2</a> <a id="14385" href="Varieties.Preservation.html#14385" class="Bound">p</a> <a id="14387" href="Varieties.Preservation.html#14387" class="Bound">q</a> <a id="14389" href="Varieties.Preservation.html#14389" class="Bound">Hpq</a> <a id="14393" href="Varieties.Preservation.html#14393" class="Bound">KA</a> <a id="14396" class="Symbol">=</a> <a id="14398" href="Varieties.Properties.html#4301" class="Function">âŠ§-lower-invar</a> <a id="14412" href="Varieties.Preservation.html#13357" class="Bound">wd</a> <a id="14415" href="Varieties.Preservation.html#14385" class="Bound">p</a> <a id="14417" href="Varieties.Preservation.html#14387" class="Bound">q</a> <a id="14419" class="Symbol">(</a><a id="14420" href="Varieties.Preservation.html#14389" class="Bound">Hpq</a> <a id="14424" class="Symbol">(</a><a id="14425" href="Varieties.Closure.html#3414" class="InductiveConstructor">hbase</a> <a id="14431" href="Varieties.Preservation.html#14393" class="Bound">KA</a><a id="14433" class="Symbol">))</a>

</pre>


### <a id="s-preserves-identities">S preserves identities</a>

<pre class="Agda">

 <a id="14528" href="Varieties.Preservation.html#14528" class="Function">S-id1</a> <a id="14534" class="Symbol">:</a> <a id="14536" class="Symbol">(</a><a id="14537" href="Varieties.Preservation.html#14537" class="Bound">p</a> <a id="14539" href="Varieties.Preservation.html#14539" class="Bound">q</a> <a id="14541" class="Symbol">:</a> <a id="14543" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="14548" href="Varieties.Preservation.html#13372" class="Bound">X</a><a id="14549" class="Symbol">)</a> <a id="14551" class="Symbol">â†’</a> <a id="14553" href="Varieties.Preservation.html#13385" class="Bound">ğ’¦</a> <a id="14555" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="14557" href="Varieties.Preservation.html#14537" class="Bound">p</a> <a id="14559" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="14561" href="Varieties.Preservation.html#14539" class="Bound">q</a> <a id="14563" class="Symbol">â†’</a> <a id="14565" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="14566" class="Symbol">{</a><a id="14567" class="Argument">Î²</a> <a id="14569" class="Symbol">=</a> <a id="14571" href="Varieties.Preservation.html#13403" class="Bound">Î±</a><a id="14572" class="Symbol">}</a> <a id="14574" href="Varieties.Preservation.html#13385" class="Bound">ğ’¦</a> <a id="14576" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="14578" href="Varieties.Preservation.html#14537" class="Bound">p</a> <a id="14580" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="14582" href="Varieties.Preservation.html#14539" class="Bound">q</a>

 <a id="14586" href="Varieties.Preservation.html#14528" class="Function">S-id1</a> <a id="14592" href="Varieties.Preservation.html#14592" class="Bound">p</a> <a id="14594" href="Varieties.Preservation.html#14594" class="Bound">q</a> <a id="14596" href="Varieties.Preservation.html#14596" class="Bound">Ïƒ</a> <a id="14598" class="Symbol">(</a><a id="14599" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a> <a id="14605" href="Varieties.Preservation.html#14605" class="Bound">x</a><a id="14606" class="Symbol">)</a> <a id="14608" class="Symbol">=</a> <a id="14610" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="14623" href="Varieties.Preservation.html#13357" class="Bound">wd</a> <a id="14626" href="Varieties.Preservation.html#14592" class="Bound">p</a> <a id="14628" href="Varieties.Preservation.html#14594" class="Bound">q</a> <a id="14630" class="Symbol">(</a><a id="14631" href="Varieties.Preservation.html#14596" class="Bound">Ïƒ</a> <a id="14633" href="Varieties.Preservation.html#14605" class="Bound">x</a><a id="14634" class="Symbol">)</a>
 <a id="14637" href="Varieties.Preservation.html#14528" class="Function">S-id1</a> <a id="14643" href="Varieties.Preservation.html#14643" class="Bound">p</a> <a id="14645" href="Varieties.Preservation.html#14645" class="Bound">q</a> <a id="14647" href="Varieties.Preservation.html#14647" class="Bound">Ïƒ</a> <a id="14649" class="Symbol">(</a><a id="14650" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a> <a id="14656" href="Varieties.Preservation.html#14656" class="Bound">x</a><a id="14657" class="Symbol">)</a> <a id="14659" class="Symbol">=</a> <a id="14661" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="14674" href="Varieties.Preservation.html#13357" class="Bound">wd</a> <a id="14677" href="Varieties.Preservation.html#14643" class="Bound">p</a> <a id="14679" href="Varieties.Preservation.html#14645" class="Bound">q</a> <a id="14681" class="Symbol">((</a><a id="14683" href="Varieties.Preservation.html#14528" class="Function">S-id1</a> <a id="14689" href="Varieties.Preservation.html#14643" class="Bound">p</a> <a id="14691" href="Varieties.Preservation.html#14645" class="Bound">q</a> <a id="14693" href="Varieties.Preservation.html#14647" class="Bound">Ïƒ</a><a id="14694" class="Symbol">)</a> <a id="14696" href="Varieties.Preservation.html#14656" class="Bound">x</a><a id="14697" class="Symbol">)</a>

 <a id="14701" href="Varieties.Preservation.html#14528" class="Function">S-id1</a> <a id="14707" href="Varieties.Preservation.html#14707" class="Bound">p</a> <a id="14709" href="Varieties.Preservation.html#14709" class="Bound">q</a> <a id="14711" href="Varieties.Preservation.html#14711" class="Bound">Ïƒ</a> <a id="14713" class="Symbol">(</a><a id="14714" href="Varieties.Closure.html#3977" class="InductiveConstructor">ssub</a><a id="14718" class="Symbol">{</a><a id="14719" href="Varieties.Preservation.html#14719" class="Bound">ğ‘¨</a><a id="14720" class="Symbol">}{</a><a id="14722" href="Varieties.Preservation.html#14722" class="Bound">ğ‘©</a><a id="14723" class="Symbol">}</a> <a id="14725" href="Varieties.Preservation.html#14725" class="Bound">sA</a> <a id="14728" href="Varieties.Preservation.html#14728" class="Bound">Bâ‰¤A</a><a id="14731" class="Symbol">)</a> <a id="14733" class="Symbol">=</a> <a id="14735" href="Varieties.Properties.html#5453" class="Function">âŠ§-S-class-invar</a> <a id="14751" href="Varieties.Preservation.html#13357" class="Bound">wd</a> <a id="14754" href="Varieties.Preservation.html#14707" class="Bound">p</a> <a id="14756" href="Varieties.Preservation.html#14709" class="Bound">q</a> <a id="14758" href="Varieties.Preservation.html#14886" class="Function">goal</a> <a id="14763" href="Varieties.Preservation.html#14968" class="Function">Î½</a>
  <a id="14767" class="Keyword">where</a> <a id="14773" class="Comment">--Apply S-âŠ§ to the class ğ’¦ âˆª ï½› ğ‘¨ ï½</a>
  <a id="14810" href="Varieties.Preservation.html#14810" class="Function">Ï„</a> <a id="14812" class="Symbol">:</a> <a id="14814" href="Varieties.Preservation.html#14719" class="Bound">ğ‘¨</a> <a id="14816" href="Varieties.EquationalLogic.html#2605" class="Function Operator">âŠ§</a> <a id="14818" href="Varieties.Preservation.html#14707" class="Bound">p</a> <a id="14820" href="Varieties.EquationalLogic.html#2605" class="Function Operator">â‰ˆ</a> <a id="14822" href="Varieties.Preservation.html#14709" class="Bound">q</a>
  <a id="14826" href="Varieties.Preservation.html#14810" class="Function">Ï„</a> <a id="14828" class="Symbol">=</a> <a id="14830" href="Varieties.Preservation.html#14528" class="Function">S-id1</a> <a id="14836" href="Varieties.Preservation.html#14707" class="Bound">p</a> <a id="14838" href="Varieties.Preservation.html#14709" class="Bound">q</a> <a id="14840" href="Varieties.Preservation.html#14711" class="Bound">Ïƒ</a> <a id="14842" href="Varieties.Preservation.html#14725" class="Bound">sA</a>

  <a id="14848" href="Varieties.Preservation.html#14848" class="Function">Apq</a> <a id="14852" class="Symbol">:</a> <a id="14854" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="14856" href="Varieties.Preservation.html#14719" class="Bound">ğ‘¨</a> <a id="14858" href="Relation.Unary.html#1335" class="Function Operator">ï½</a> <a id="14860" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="14862" href="Varieties.Preservation.html#14707" class="Bound">p</a> <a id="14864" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="14866" href="Varieties.Preservation.html#14709" class="Bound">q</a>
  <a id="14870" href="Varieties.Preservation.html#14848" class="Function">Apq</a> <a id="14874" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="14879" class="Symbol">=</a> <a id="14881" href="Varieties.Preservation.html#14810" class="Function">Ï„</a>

  <a id="14886" href="Varieties.Preservation.html#14886" class="Function">goal</a> <a id="14891" class="Symbol">:</a> <a id="14893" class="Symbol">(</a><a id="14894" href="Varieties.Preservation.html#13385" class="Bound">ğ’¦</a> <a id="14896" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="14898" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="14900" href="Varieties.Preservation.html#14719" class="Bound">ğ‘¨</a> <a id="14902" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="14903" class="Symbol">)</a> <a id="14905" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="14907" href="Varieties.Preservation.html#14707" class="Bound">p</a> <a id="14909" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="14911" href="Varieties.Preservation.html#14709" class="Bound">q</a>
  <a id="14915" href="Varieties.Preservation.html#14886" class="Function">goal</a> <a id="14920" class="Symbol">{</a><a id="14921" href="Varieties.Preservation.html#14921" class="Bound">ğ‘©</a><a id="14922" class="Symbol">}</a> <a id="14924" class="Symbol">(</a><a id="14925" href="Varieties.Preservation.html#1101" class="InductiveConstructor">inl</a> <a id="14929" href="Varieties.Preservation.html#14929" class="Bound">x</a><a id="14930" class="Symbol">)</a> <a id="14932" class="Symbol">=</a> <a id="14934" href="Varieties.Preservation.html#14711" class="Bound">Ïƒ</a> <a id="14936" href="Varieties.Preservation.html#14929" class="Bound">x</a>
  <a id="14940" href="Varieties.Preservation.html#14886" class="Function">goal</a> <a id="14945" class="Symbol">{</a><a id="14946" href="Varieties.Preservation.html#14946" class="Bound">ğ‘©</a><a id="14947" class="Symbol">}</a> <a id="14949" class="Symbol">(</a><a id="14950" href="Varieties.Preservation.html#1116" class="InductiveConstructor">inr</a> <a id="14954" href="Varieties.Preservation.html#14954" class="Bound">y</a><a id="14955" class="Symbol">)</a> <a id="14957" class="Symbol">=</a> <a id="14959" href="Varieties.Preservation.html#14848" class="Function">Apq</a> <a id="14963" href="Varieties.Preservation.html#14954" class="Bound">y</a>

  <a id="14968" href="Varieties.Preservation.html#14968" class="Function">Î½</a> <a id="14970" class="Symbol">:</a> <a id="14972" href="Subalgebras.Subalgebras.html#6431" class="Function">SubalgebraOfClass</a> <a id="14990" class="Symbol">(Î»</a> <a id="14993" href="Varieties.Preservation.html#14993" class="Bound">z</a> <a id="14995" class="Symbol">â†’</a> <a id="14997" class="Symbol">(</a><a id="14998" href="Varieties.Preservation.html#13385" class="Bound">ğ’¦</a> <a id="15000" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="15002" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="15004" href="Varieties.Preservation.html#14719" class="Bound">ğ‘¨</a> <a id="15006" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="15007" class="Symbol">)</a> <a id="15009" class="Symbol">(</a><a id="15010" href="Agda.Builtin.Sigma.html#252" class="Field">Data.Product.projâ‚</a> <a id="15029" href="Varieties.Preservation.html#14993" class="Bound">z</a> <a id="15031" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15033" href="Agda.Builtin.Sigma.html#264" class="Field">Data.Product.projâ‚‚</a> <a id="15052" href="Varieties.Preservation.html#14993" class="Bound">z</a><a id="15053" class="Symbol">))</a>
  <a id="15058" href="Varieties.Preservation.html#14968" class="Function">Î½</a> <a id="15060" class="Symbol">=</a> <a id="15062" class="Symbol">(</a><a id="15063" href="Varieties.Preservation.html#14722" class="Bound">ğ‘©</a> <a id="15065" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15067" href="Varieties.Preservation.html#14719" class="Bound">ğ‘¨</a> <a id="15069" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15071" class="Symbol">(</a><a id="15072" href="Varieties.Preservation.html#14722" class="Bound">ğ‘©</a> <a id="15074" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15076" href="Varieties.Preservation.html#14728" class="Bound">Bâ‰¤A</a><a id="15079" class="Symbol">)</a> <a id="15081" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15083" href="Data.Sum.Base.html#809" class="InductiveConstructor">_âŠ_.injâ‚‚</a> <a id="15092" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="15097" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15099" href="Homomorphisms.Isomorphisms.html#2816" class="Function">â‰…-refl</a><a id="15105" class="Symbol">)</a>

 <a id="15109" href="Varieties.Preservation.html#14528" class="Function">S-id1</a> <a id="15115" href="Varieties.Preservation.html#15115" class="Bound">p</a> <a id="15117" href="Varieties.Preservation.html#15117" class="Bound">q</a> <a id="15119" href="Varieties.Preservation.html#15119" class="Bound">Ïƒ</a> <a id="15121" class="Symbol">(</a><a id="15122" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a><a id="15126" class="Symbol">{</a><a id="15127" href="Varieties.Preservation.html#15127" class="Bound">ğ‘¨</a><a id="15128" class="Symbol">}{</a><a id="15130" href="Varieties.Preservation.html#15130" class="Bound">ğ‘©</a><a id="15131" class="Symbol">}</a> <a id="15133" href="Varieties.Preservation.html#15133" class="Bound">x</a> <a id="15135" href="Varieties.Preservation.html#15135" class="Bound">xâ‚</a><a id="15137" class="Symbol">)</a> <a id="15139" class="Symbol">=</a> <a id="15141" href="Varieties.Properties.html#3225" class="Function">âŠ§-I-invar</a> <a id="15151" href="Varieties.Preservation.html#13357" class="Bound">wd</a> <a id="15154" href="Varieties.Preservation.html#15130" class="Bound">ğ‘©</a> <a id="15156" href="Varieties.Preservation.html#15115" class="Bound">p</a> <a id="15158" href="Varieties.Preservation.html#15117" class="Bound">q</a> <a id="15160" class="Symbol">(</a><a id="15161" href="Varieties.Preservation.html#14528" class="Function">S-id1</a> <a id="15167" href="Varieties.Preservation.html#15115" class="Bound">p</a> <a id="15169" href="Varieties.Preservation.html#15117" class="Bound">q</a> <a id="15171" href="Varieties.Preservation.html#15119" class="Bound">Ïƒ</a> <a id="15173" href="Varieties.Preservation.html#15133" class="Bound">x</a><a id="15174" class="Symbol">)</a> <a id="15176" href="Varieties.Preservation.html#15135" class="Bound">xâ‚</a>

</pre>

Again, the obvious converse is barely worth the bits needed to formalize it.

<pre class="Agda">

 <a id="15285" href="Varieties.Preservation.html#15285" class="Function">S-id2</a> <a id="15291" class="Symbol">:</a> <a id="15293" class="Symbol">âˆ€{</a><a id="15295" href="Varieties.Preservation.html#15295" class="Bound">Î²</a><a id="15296" class="Symbol">}(</a><a id="15298" href="Varieties.Preservation.html#15298" class="Bound">p</a> <a id="15300" href="Varieties.Preservation.html#15300" class="Bound">q</a> <a id="15302" class="Symbol">:</a> <a id="15304" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="15309" href="Varieties.Preservation.html#13372" class="Bound">X</a><a id="15310" class="Symbol">)</a> <a id="15312" class="Symbol">â†’</a> <a id="15314" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="15315" class="Symbol">{</a><a id="15316" class="Argument">Î²</a> <a id="15318" class="Symbol">=</a> <a id="15320" href="Varieties.Preservation.html#15295" class="Bound">Î²</a><a id="15321" class="Symbol">}</a><a id="15322" href="Varieties.Preservation.html#13385" class="Bound">ğ’¦</a> <a id="15324" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="15326" href="Varieties.Preservation.html#15298" class="Bound">p</a> <a id="15328" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="15330" href="Varieties.Preservation.html#15300" class="Bound">q</a> <a id="15332" class="Symbol">â†’</a> <a id="15334" href="Varieties.Preservation.html#13385" class="Bound">ğ’¦</a> <a id="15336" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="15338" href="Varieties.Preservation.html#15298" class="Bound">p</a> <a id="15340" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="15342" href="Varieties.Preservation.html#15300" class="Bound">q</a>

 <a id="15346" href="Varieties.Preservation.html#15285" class="Function">S-id2</a> <a id="15352" href="Varieties.Preservation.html#15352" class="Bound">p</a> <a id="15354" href="Varieties.Preservation.html#15354" class="Bound">q</a> <a id="15356" href="Varieties.Preservation.html#15356" class="Bound">Spq</a> <a id="15360" class="Symbol">{</a><a id="15361" href="Varieties.Preservation.html#15361" class="Bound">ğ‘¨</a><a id="15362" class="Symbol">}</a> <a id="15364" href="Varieties.Preservation.html#15364" class="Bound">KA</a> <a id="15367" class="Symbol">=</a> <a id="15369" href="Varieties.Properties.html#4301" class="Function">âŠ§-lower-invar</a> <a id="15383" href="Varieties.Preservation.html#13357" class="Bound">wd</a> <a id="15386" href="Varieties.Preservation.html#15352" class="Bound">p</a> <a id="15388" href="Varieties.Preservation.html#15354" class="Bound">q</a> <a id="15390" class="Symbol">(</a><a id="15391" href="Varieties.Preservation.html#15356" class="Bound">Spq</a> <a id="15395" class="Symbol">(</a><a id="15396" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a> <a id="15402" href="Varieties.Preservation.html#15364" class="Bound">KA</a><a id="15404" class="Symbol">))</a>

</pre>



### <a id="p-preserves-identities">P preserves identities</a>

<pre class="Agda">

<a id="15499" class="Keyword">module</a> <a id="15506" href="Varieties.Preservation.html#15506" class="Module">_</a> <a id="15508" class="Symbol">(</a><a id="15509" href="Varieties.Preservation.html#15509" class="Bound">fe</a> <a id="15512" class="Symbol">:</a> <a id="15514" href="Foundations.Extensionality.html#2463" class="Function">DFunExt</a><a id="15521" class="Symbol">)</a> <a id="15523" class="Symbol">(</a><a id="15524" href="Varieties.Preservation.html#15524" class="Bound">wd</a> <a id="15527" class="Symbol">:</a> <a id="15529" href="Foundations.Welldefined.html#2946" class="Function">SwellDef</a><a id="15537" class="Symbol">){</a><a id="15539" href="Varieties.Preservation.html#15539" class="Bound">X</a> <a id="15541" class="Symbol">:</a> <a id="15543" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="15548" href="Varieties.Preservation.html#13326" class="Generalizable">ğ“§</a><a id="15549" class="Symbol">}</a> <a id="15551" class="Symbol">{</a><a id="15552" href="Varieties.Preservation.html#15552" class="Bound">ğ’¦</a> <a id="15554" class="Symbol">:</a> <a id="15556" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="15561" class="Symbol">(</a><a id="15562" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="15570" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="15572" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="15573" class="Symbol">)(</a><a id="15575" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="15578" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="15579" class="Symbol">)}</a> <a id="15582" class="Keyword">where</a>

 <a id="15590" href="Varieties.Preservation.html#15590" class="Function">P-id1</a> <a id="15596" class="Symbol">:</a> <a id="15598" class="Symbol">(</a><a id="15599" href="Varieties.Preservation.html#15599" class="Bound">p</a> <a id="15601" href="Varieties.Preservation.html#15601" class="Bound">q</a> <a id="15603" class="Symbol">:</a> <a id="15605" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="15610" href="Varieties.Preservation.html#15539" class="Bound">X</a><a id="15611" class="Symbol">)</a> <a id="15613" class="Symbol">â†’</a> <a id="15615" href="Varieties.Preservation.html#15552" class="Bound">ğ’¦</a> <a id="15617" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="15619" href="Varieties.Preservation.html#15599" class="Bound">p</a> <a id="15621" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="15623" href="Varieties.Preservation.html#15601" class="Bound">q</a> <a id="15625" class="Symbol">â†’</a> <a id="15627" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="15628" class="Symbol">{</a><a id="15629" class="Argument">Î²</a> <a id="15631" class="Symbol">=</a> <a id="15633" href="Varieties.Preservation.html#15570" class="Bound">Î±</a><a id="15634" class="Symbol">}</a> <a id="15636" href="Varieties.Preservation.html#15552" class="Bound">ğ’¦</a> <a id="15638" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="15640" href="Varieties.Preservation.html#15599" class="Bound">p</a> <a id="15642" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="15644" href="Varieties.Preservation.html#15601" class="Bound">q</a>

 <a id="15648" href="Varieties.Preservation.html#15590" class="Function">P-id1</a> <a id="15654" href="Varieties.Preservation.html#15654" class="Bound">p</a> <a id="15656" href="Varieties.Preservation.html#15656" class="Bound">q</a> <a id="15658" href="Varieties.Preservation.html#15658" class="Bound">Ïƒ</a> <a id="15660" class="Symbol">(</a><a id="15661" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="15667" href="Varieties.Preservation.html#15667" class="Bound">x</a><a id="15668" class="Symbol">)</a> <a id="15670" class="Symbol">=</a> <a id="15672" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="15685" href="Varieties.Preservation.html#15524" class="Bound">wd</a> <a id="15688" href="Varieties.Preservation.html#15654" class="Bound">p</a> <a id="15690" href="Varieties.Preservation.html#15656" class="Bound">q</a> <a id="15692" class="Symbol">(</a><a id="15693" href="Varieties.Preservation.html#15658" class="Bound">Ïƒ</a> <a id="15695" href="Varieties.Preservation.html#15667" class="Bound">x</a><a id="15696" class="Symbol">)</a>
 <a id="15699" href="Varieties.Preservation.html#15590" class="Function">P-id1</a> <a id="15705" href="Varieties.Preservation.html#15705" class="Bound">p</a> <a id="15707" href="Varieties.Preservation.html#15707" class="Bound">q</a> <a id="15709" href="Varieties.Preservation.html#15709" class="Bound">Ïƒ</a> <a id="15711" class="Symbol">(</a><a id="15712" href="Varieties.Closure.html#4497" class="InductiveConstructor">pliftu</a> <a id="15719" href="Varieties.Preservation.html#15719" class="Bound">x</a><a id="15720" class="Symbol">)</a> <a id="15722" class="Symbol">=</a> <a id="15724" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="15737" href="Varieties.Preservation.html#15524" class="Bound">wd</a> <a id="15740" href="Varieties.Preservation.html#15705" class="Bound">p</a> <a id="15742" href="Varieties.Preservation.html#15707" class="Bound">q</a> <a id="15744" class="Symbol">((</a><a id="15746" href="Varieties.Preservation.html#15590" class="Function">P-id1</a> <a id="15752" href="Varieties.Preservation.html#15705" class="Bound">p</a> <a id="15754" href="Varieties.Preservation.html#15707" class="Bound">q</a> <a id="15756" href="Varieties.Preservation.html#15709" class="Bound">Ïƒ</a><a id="15757" class="Symbol">)</a> <a id="15759" href="Varieties.Preservation.html#15719" class="Bound">x</a><a id="15760" class="Symbol">)</a>
 <a id="15763" href="Varieties.Preservation.html#15590" class="Function">P-id1</a> <a id="15769" href="Varieties.Preservation.html#15769" class="Bound">p</a> <a id="15771" href="Varieties.Preservation.html#15771" class="Bound">q</a> <a id="15773" href="Varieties.Preservation.html#15773" class="Bound">Ïƒ</a> <a id="15775" class="Symbol">(</a><a id="15776" href="Varieties.Closure.html#4562" class="InductiveConstructor">pliftw</a> <a id="15783" href="Varieties.Preservation.html#15783" class="Bound">x</a><a id="15784" class="Symbol">)</a> <a id="15786" class="Symbol">=</a> <a id="15788" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="15801" href="Varieties.Preservation.html#15524" class="Bound">wd</a> <a id="15804" href="Varieties.Preservation.html#15769" class="Bound">p</a> <a id="15806" href="Varieties.Preservation.html#15771" class="Bound">q</a> <a id="15808" class="Symbol">((</a><a id="15810" href="Varieties.Preservation.html#15590" class="Function">P-id1</a> <a id="15816" href="Varieties.Preservation.html#15769" class="Bound">p</a> <a id="15818" href="Varieties.Preservation.html#15771" class="Bound">q</a> <a id="15820" href="Varieties.Preservation.html#15773" class="Bound">Ïƒ</a><a id="15821" class="Symbol">)</a> <a id="15823" href="Varieties.Preservation.html#15783" class="Bound">x</a><a id="15824" class="Symbol">)</a>

 <a id="15828" href="Varieties.Preservation.html#15590" class="Function">P-id1</a> <a id="15834" href="Varieties.Preservation.html#15834" class="Bound">p</a> <a id="15836" href="Varieties.Preservation.html#15836" class="Bound">q</a> <a id="15838" href="Varieties.Preservation.html#15838" class="Bound">Ïƒ</a> <a id="15840" class="Symbol">(</a><a id="15841" href="Varieties.Closure.html#4639" class="InductiveConstructor">produ</a><a id="15846" class="Symbol">{</a><a id="15847" href="Varieties.Preservation.html#15847" class="Bound">I</a><a id="15848" class="Symbol">}{</a><a id="15850" href="Varieties.Preservation.html#15850" class="Bound">ğ’œ</a><a id="15851" class="Symbol">}</a> <a id="15853" href="Varieties.Preservation.html#15853" class="Bound">x</a><a id="15854" class="Symbol">)</a> <a id="15856" class="Symbol">=</a> <a id="15858" href="Varieties.Properties.html#7236" class="Function">âŠ§-P-lift-invar</a> <a id="15873" href="Varieties.Preservation.html#15509" class="Bound">fe</a> <a id="15876" href="Varieties.Preservation.html#15524" class="Bound">wd</a> <a id="15879" href="Varieties.Preservation.html#15850" class="Bound">ğ’œ</a>  <a id="15882" href="Varieties.Preservation.html#15834" class="Bound">p</a> <a id="15884" href="Varieties.Preservation.html#15836" class="Bound">q</a> <a id="15886" href="Varieties.Preservation.html#15899" class="Function">IH</a>
  <a id="15891" class="Keyword">where</a>
  <a id="15899" href="Varieties.Preservation.html#15899" class="Function">IH</a> <a id="15902" class="Symbol">:</a> <a id="15904" class="Symbol">âˆ€</a> <a id="15906" href="Varieties.Preservation.html#15906" class="Bound">i</a> <a id="15908" class="Symbol">â†’</a> <a id="15910" class="Symbol">(</a><a id="15911" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="15920" class="Symbol">(</a><a id="15921" href="Varieties.Preservation.html#15850" class="Bound">ğ’œ</a> <a id="15923" href="Varieties.Preservation.html#15906" class="Bound">i</a><a id="15924" class="Symbol">)</a> <a id="15926" href="Varieties.Preservation.html#15570" class="Bound">Î±</a><a id="15927" class="Symbol">)</a> <a id="15929" href="Varieties.EquationalLogic.html#2605" class="Function Operator">âŠ§</a> <a id="15931" href="Varieties.Preservation.html#15834" class="Bound">p</a> <a id="15933" href="Varieties.EquationalLogic.html#2605" class="Function Operator">â‰ˆ</a> <a id="15935" href="Varieties.Preservation.html#15836" class="Bound">q</a>
  <a id="15939" href="Varieties.Preservation.html#15899" class="Function">IH</a> <a id="15942" href="Varieties.Preservation.html#15942" class="Bound">i</a> <a id="15944" class="Symbol">=</a> <a id="15946" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="15959" href="Varieties.Preservation.html#15524" class="Bound">wd</a>  <a id="15963" href="Varieties.Preservation.html#15834" class="Bound">p</a> <a id="15965" href="Varieties.Preservation.html#15836" class="Bound">q</a> <a id="15967" class="Symbol">((</a><a id="15969" href="Varieties.Preservation.html#15590" class="Function">P-id1</a> <a id="15975" href="Varieties.Preservation.html#15834" class="Bound">p</a> <a id="15977" href="Varieties.Preservation.html#15836" class="Bound">q</a> <a id="15979" href="Varieties.Preservation.html#15838" class="Bound">Ïƒ</a><a id="15980" class="Symbol">)</a> <a id="15982" class="Symbol">(</a><a id="15983" href="Varieties.Preservation.html#15853" class="Bound">x</a> <a id="15985" href="Varieties.Preservation.html#15942" class="Bound">i</a><a id="15986" class="Symbol">))</a>

 <a id="15991" href="Varieties.Preservation.html#15590" class="Function">P-id1</a> <a id="15997" href="Varieties.Preservation.html#15997" class="Bound">p</a> <a id="15999" href="Varieties.Preservation.html#15999" class="Bound">q</a> <a id="16001" href="Varieties.Preservation.html#16001" class="Bound">Ïƒ</a> <a id="16003" class="Symbol">(</a><a id="16004" href="Varieties.Closure.html#4724" class="InductiveConstructor">prodw</a><a id="16009" class="Symbol">{</a><a id="16010" href="Varieties.Preservation.html#16010" class="Bound">I</a><a id="16011" class="Symbol">}{</a><a id="16013" href="Varieties.Preservation.html#16013" class="Bound">ğ’œ</a><a id="16014" class="Symbol">}</a> <a id="16016" href="Varieties.Preservation.html#16016" class="Bound">x</a><a id="16017" class="Symbol">)</a> <a id="16019" class="Symbol">=</a> <a id="16021" href="Varieties.Properties.html#7236" class="Function">âŠ§-P-lift-invar</a> <a id="16036" href="Varieties.Preservation.html#15509" class="Bound">fe</a> <a id="16039" href="Varieties.Preservation.html#15524" class="Bound">wd</a> <a id="16042" href="Varieties.Preservation.html#16013" class="Bound">ğ’œ</a>  <a id="16045" href="Varieties.Preservation.html#15997" class="Bound">p</a> <a id="16047" href="Varieties.Preservation.html#15999" class="Bound">q</a> <a id="16049" href="Varieties.Preservation.html#16062" class="Function">IH</a>
  <a id="16054" class="Keyword">where</a>
  <a id="16062" href="Varieties.Preservation.html#16062" class="Function">IH</a> <a id="16065" class="Symbol">:</a> <a id="16067" class="Symbol">âˆ€</a> <a id="16069" href="Varieties.Preservation.html#16069" class="Bound">i</a> <a id="16071" class="Symbol">â†’</a> <a id="16073" class="Symbol">(</a><a id="16074" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="16083" class="Symbol">(</a><a id="16084" href="Varieties.Preservation.html#16013" class="Bound">ğ’œ</a> <a id="16086" href="Varieties.Preservation.html#16069" class="Bound">i</a><a id="16087" class="Symbol">)</a> <a id="16089" href="Varieties.Preservation.html#15570" class="Bound">Î±</a><a id="16090" class="Symbol">)</a> <a id="16092" href="Varieties.EquationalLogic.html#2605" class="Function Operator">âŠ§</a> <a id="16094" href="Varieties.Preservation.html#15997" class="Bound">p</a> <a id="16096" href="Varieties.EquationalLogic.html#2605" class="Function Operator">â‰ˆ</a> <a id="16098" href="Varieties.Preservation.html#15999" class="Bound">q</a>
  <a id="16102" href="Varieties.Preservation.html#16062" class="Function">IH</a> <a id="16105" href="Varieties.Preservation.html#16105" class="Bound">i</a> <a id="16107" class="Symbol">=</a> <a id="16109" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="16122" href="Varieties.Preservation.html#15524" class="Bound">wd</a>  <a id="16126" href="Varieties.Preservation.html#15997" class="Bound">p</a> <a id="16128" href="Varieties.Preservation.html#15999" class="Bound">q</a> <a id="16130" class="Symbol">((</a><a id="16132" href="Varieties.Preservation.html#15590" class="Function">P-id1</a> <a id="16138" href="Varieties.Preservation.html#15997" class="Bound">p</a> <a id="16140" href="Varieties.Preservation.html#15999" class="Bound">q</a> <a id="16142" href="Varieties.Preservation.html#16001" class="Bound">Ïƒ</a><a id="16143" class="Symbol">)</a> <a id="16145" class="Symbol">(</a><a id="16146" href="Varieties.Preservation.html#16016" class="Bound">x</a> <a id="16148" href="Varieties.Preservation.html#16105" class="Bound">i</a><a id="16149" class="Symbol">))</a>

 <a id="16154" href="Varieties.Preservation.html#15590" class="Function">P-id1</a> <a id="16160" href="Varieties.Preservation.html#16160" class="Bound">p</a> <a id="16162" href="Varieties.Preservation.html#16162" class="Bound">q</a> <a id="16164" href="Varieties.Preservation.html#16164" class="Bound">Ïƒ</a> <a id="16166" class="Symbol">(</a><a id="16167" href="Varieties.Closure.html#4809" class="InductiveConstructor">pisow</a><a id="16172" class="Symbol">{</a><a id="16173" href="Varieties.Preservation.html#16173" class="Bound">ğ‘¨</a><a id="16174" class="Symbol">}{</a><a id="16176" href="Varieties.Preservation.html#16176" class="Bound">ğ‘©</a><a id="16177" class="Symbol">}</a> <a id="16179" href="Varieties.Preservation.html#16179" class="Bound">x</a> <a id="16181" href="Varieties.Preservation.html#16181" class="Bound">y</a><a id="16182" class="Symbol">)</a> <a id="16184" class="Symbol">=</a> <a id="16186" href="Varieties.Properties.html#3225" class="Function">âŠ§-I-invar</a> <a id="16196" href="Varieties.Preservation.html#15524" class="Bound">wd</a> <a id="16199" href="Varieties.Preservation.html#16176" class="Bound">ğ‘©</a> <a id="16201" href="Varieties.Preservation.html#16160" class="Bound">p</a> <a id="16203" href="Varieties.Preservation.html#16162" class="Bound">q</a> <a id="16205" class="Symbol">(</a><a id="16206" href="Varieties.Preservation.html#15590" class="Function">P-id1</a> <a id="16212" href="Varieties.Preservation.html#16160" class="Bound">p</a> <a id="16214" href="Varieties.Preservation.html#16162" class="Bound">q</a> <a id="16216" href="Varieties.Preservation.html#16164" class="Bound">Ïƒ</a> <a id="16218" href="Varieties.Preservation.html#16179" class="Bound">x</a><a id="16219" class="Symbol">)</a> <a id="16221" href="Varieties.Preservation.html#16181" class="Bound">y</a>

</pre>

...and conversely...

<pre class="Agda">

<a id="16272" class="Keyword">module</a> <a id="16279" href="Varieties.Preservation.html#16279" class="Module">_</a>  <a id="16282" class="Symbol">(</a><a id="16283" href="Varieties.Preservation.html#16283" class="Bound">wd</a> <a id="16286" class="Symbol">:</a> <a id="16288" href="Foundations.Welldefined.html#2946" class="Function">SwellDef</a><a id="16296" class="Symbol">){</a><a id="16298" href="Varieties.Preservation.html#16298" class="Bound">X</a> <a id="16300" class="Symbol">:</a> <a id="16302" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="16307" href="Varieties.Preservation.html#13326" class="Generalizable">ğ“§</a><a id="16308" class="Symbol">}</a> <a id="16310" class="Symbol">{</a><a id="16311" href="Varieties.Preservation.html#16311" class="Bound">ğ’¦</a> <a id="16313" class="Symbol">:</a> <a id="16315" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="16320" class="Symbol">(</a><a id="16321" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="16329" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="16331" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="16332" class="Symbol">)(</a><a id="16334" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="16337" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="16338" class="Symbol">)}</a> <a id="16341" class="Keyword">where</a>

 <a id="16349" href="Varieties.Preservation.html#16349" class="Function">P-id2</a> <a id="16355" class="Symbol">:</a> <a id="16357" class="Symbol">âˆ€</a> <a id="16359" class="Symbol">{</a><a id="16360" href="Varieties.Preservation.html#16360" class="Bound">Î²</a><a id="16361" class="Symbol">}(</a><a id="16363" href="Varieties.Preservation.html#16363" class="Bound">p</a> <a id="16365" href="Varieties.Preservation.html#16365" class="Bound">q</a> <a id="16367" class="Symbol">:</a> <a id="16369" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="16374" href="Varieties.Preservation.html#16298" class="Bound">X</a><a id="16375" class="Symbol">)</a> <a id="16377" class="Symbol">â†’</a> <a id="16379" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="16380" class="Symbol">{</a><a id="16381" class="Argument">Î²</a> <a id="16383" class="Symbol">=</a> <a id="16385" href="Varieties.Preservation.html#16360" class="Bound">Î²</a><a id="16386" class="Symbol">}</a> <a id="16388" href="Varieties.Preservation.html#16311" class="Bound">ğ’¦</a> <a id="16390" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="16392" href="Varieties.Preservation.html#16363" class="Bound">p</a> <a id="16394" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="16396" href="Varieties.Preservation.html#16365" class="Bound">q</a> <a id="16398" class="Symbol">â†’</a> <a id="16400" href="Varieties.Preservation.html#16311" class="Bound">ğ’¦</a> <a id="16402" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="16404" href="Varieties.Preservation.html#16363" class="Bound">p</a> <a id="16406" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="16408" href="Varieties.Preservation.html#16365" class="Bound">q</a>
 <a id="16411" href="Varieties.Preservation.html#16349" class="Function">P-id2</a> <a id="16417" href="Varieties.Preservation.html#16417" class="Bound">p</a> <a id="16419" href="Varieties.Preservation.html#16419" class="Bound">q</a> <a id="16421" href="Varieties.Preservation.html#16421" class="Bound">PKpq</a> <a id="16426" href="Varieties.Preservation.html#16426" class="Bound">KA</a> <a id="16429" class="Symbol">=</a> <a id="16431" href="Varieties.Properties.html#4301" class="Function">âŠ§-lower-invar</a> <a id="16445" href="Varieties.Preservation.html#16283" class="Bound">wd</a> <a id="16448" href="Varieties.Preservation.html#16417" class="Bound">p</a> <a id="16450" href="Varieties.Preservation.html#16419" class="Bound">q</a> <a id="16452" class="Symbol">(</a><a id="16453" href="Varieties.Preservation.html#16421" class="Bound">PKpq</a> <a id="16458" class="Symbol">(</a><a id="16459" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="16465" href="Varieties.Preservation.html#16426" class="Bound">KA</a><a id="16467" class="Symbol">))</a>

</pre>


### <a id="v-preserves-identities">V preserves identities</a>

Finally, we prove the analogous preservation lemmas for the closure operator `V`.

<pre class="Agda">

<a id="16644" class="Keyword">module</a> <a id="Vid"></a><a id="16651" href="Varieties.Preservation.html#16651" class="Module">Vid</a> <a id="16655" class="Symbol">(</a><a id="16656" href="Varieties.Preservation.html#16656" class="Bound">fe</a> <a id="16659" class="Symbol">:</a> <a id="16661" href="Foundations.Extensionality.html#2463" class="Function">DFunExt</a><a id="16668" class="Symbol">)(</a><a id="16670" href="Varieties.Preservation.html#16670" class="Bound">wd</a> <a id="16673" class="Symbol">:</a> <a id="16675" href="Foundations.Welldefined.html#2946" class="Function">SwellDef</a><a id="16683" class="Symbol">){</a><a id="16685" href="Varieties.Preservation.html#16685" class="Bound">ğ“§</a> <a id="16687" class="Symbol">:</a> <a id="16689" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="16694" class="Symbol">}</a> <a id="16696" class="Symbol">{</a><a id="16697" href="Varieties.Preservation.html#16697" class="Bound">X</a> <a id="16699" class="Symbol">:</a> <a id="16701" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="16706" href="Varieties.Preservation.html#16685" class="Bound">ğ“§</a><a id="16707" class="Symbol">}</a> <a id="16709" class="Symbol">{</a><a id="16710" href="Varieties.Preservation.html#16710" class="Bound">ğ’¦</a> <a id="16712" class="Symbol">:</a> <a id="16714" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="16719" class="Symbol">(</a><a id="16720" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="16728" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="16730" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="16731" class="Symbol">)(</a><a id="16733" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="16736" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="16737" class="Symbol">)}</a> <a id="16740" class="Keyword">where</a>

 <a id="Vid.V-id1"></a><a id="16748" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="16754" class="Symbol">:</a> <a id="16756" class="Symbol">(</a><a id="16757" href="Varieties.Preservation.html#16757" class="Bound">p</a> <a id="16759" href="Varieties.Preservation.html#16759" class="Bound">q</a> <a id="16761" class="Symbol">:</a> <a id="16763" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="16768" href="Varieties.Preservation.html#16697" class="Bound">X</a><a id="16769" class="Symbol">)</a> <a id="16771" class="Symbol">â†’</a> <a id="16773" href="Varieties.Preservation.html#16710" class="Bound">ğ’¦</a> <a id="16775" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="16777" href="Varieties.Preservation.html#16757" class="Bound">p</a> <a id="16779" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="16781" href="Varieties.Preservation.html#16759" class="Bound">q</a> <a id="16783" class="Symbol">â†’</a> <a id="16785" href="Varieties.Closure.html#5309" class="Datatype">V</a><a id="16786" class="Symbol">{</a><a id="16787" class="Argument">Î²</a> <a id="16789" class="Symbol">=</a> <a id="16791" href="Varieties.Preservation.html#16728" class="Bound">Î±</a><a id="16792" class="Symbol">}</a> <a id="16794" href="Varieties.Preservation.html#16710" class="Bound">ğ’¦</a> <a id="16796" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="16798" href="Varieties.Preservation.html#16757" class="Bound">p</a> <a id="16800" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="16802" href="Varieties.Preservation.html#16759" class="Bound">q</a>
 <a id="16805" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="16811" href="Varieties.Preservation.html#16811" class="Bound">p</a> <a id="16813" href="Varieties.Preservation.html#16813" class="Bound">q</a> <a id="16815" href="Varieties.Preservation.html#16815" class="Bound">Ïƒ</a> <a id="16817" class="Symbol">(</a><a id="16818" href="Varieties.Closure.html#5397" class="InductiveConstructor">vbase</a> <a id="16824" href="Varieties.Preservation.html#16824" class="Bound">x</a><a id="16825" class="Symbol">)</a> <a id="16827" class="Symbol">=</a> <a id="16829" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="16842" href="Varieties.Preservation.html#16670" class="Bound">wd</a> <a id="16845" href="Varieties.Preservation.html#16811" class="Bound">p</a> <a id="16847" href="Varieties.Preservation.html#16813" class="Bound">q</a> <a id="16849" class="Symbol">(</a><a id="16850" href="Varieties.Preservation.html#16815" class="Bound">Ïƒ</a> <a id="16852" href="Varieties.Preservation.html#16824" class="Bound">x</a><a id="16853" class="Symbol">)</a>
 <a id="16856" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="16862" href="Varieties.Preservation.html#16862" class="Bound">p</a> <a id="16864" href="Varieties.Preservation.html#16864" class="Bound">q</a> <a id="16866" href="Varieties.Preservation.html#16866" class="Bound">Ïƒ</a> <a id="16868" class="Symbol">(</a><a id="16869" href="Varieties.Closure.html#5454" class="InductiveConstructor">vlift</a><a id="16874" class="Symbol">{</a><a id="16875" href="Varieties.Preservation.html#16875" class="Bound">ğ‘¨</a><a id="16876" class="Symbol">}</a> <a id="16878" href="Varieties.Preservation.html#16878" class="Bound">x</a><a id="16879" class="Symbol">)</a> <a id="16881" class="Symbol">=</a> <a id="16883" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="16896" href="Varieties.Preservation.html#16670" class="Bound">wd</a> <a id="16899" href="Varieties.Preservation.html#16862" class="Bound">p</a> <a id="16901" href="Varieties.Preservation.html#16864" class="Bound">q</a> <a id="16903" class="Symbol">((</a><a id="16905" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="16911" href="Varieties.Preservation.html#16862" class="Bound">p</a> <a id="16913" href="Varieties.Preservation.html#16864" class="Bound">q</a> <a id="16915" href="Varieties.Preservation.html#16866" class="Bound">Ïƒ</a><a id="16916" class="Symbol">)</a> <a id="16918" href="Varieties.Preservation.html#16878" class="Bound">x</a><a id="16919" class="Symbol">)</a>
 <a id="16922" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="16928" href="Varieties.Preservation.html#16928" class="Bound">p</a> <a id="16930" href="Varieties.Preservation.html#16930" class="Bound">q</a> <a id="16932" href="Varieties.Preservation.html#16932" class="Bound">Ïƒ</a> <a id="16934" class="Symbol">(</a><a id="16935" href="Varieties.Closure.html#5519" class="InductiveConstructor">vliftw</a><a id="16941" class="Symbol">{</a><a id="16942" href="Varieties.Preservation.html#16942" class="Bound">ğ‘¨</a><a id="16943" class="Symbol">}</a> <a id="16945" href="Varieties.Preservation.html#16945" class="Bound">x</a><a id="16946" class="Symbol">)</a> <a id="16948" class="Symbol">=</a> <a id="16950" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="16963" href="Varieties.Preservation.html#16670" class="Bound">wd</a> <a id="16966" href="Varieties.Preservation.html#16928" class="Bound">p</a> <a id="16968" href="Varieties.Preservation.html#16930" class="Bound">q</a> <a id="16970" class="Symbol">((</a><a id="16972" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="16978" href="Varieties.Preservation.html#16928" class="Bound">p</a> <a id="16980" href="Varieties.Preservation.html#16930" class="Bound">q</a> <a id="16982" href="Varieties.Preservation.html#16932" class="Bound">Ïƒ</a><a id="16983" class="Symbol">)</a> <a id="16985" href="Varieties.Preservation.html#16945" class="Bound">x</a><a id="16986" class="Symbol">)</a>

 <a id="16990" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="16996" href="Varieties.Preservation.html#16996" class="Bound">p</a> <a id="16998" href="Varieties.Preservation.html#16998" class="Bound">q</a> <a id="17000" href="Varieties.Preservation.html#17000" class="Bound">Ïƒ</a> <a id="17002" class="Symbol">(</a><a id="17003" href="Varieties.Closure.html#5590" class="InductiveConstructor">vhimg</a><a id="17008" class="Symbol">{</a><a id="17009" href="Varieties.Preservation.html#17009" class="Bound">ğ‘¨</a><a id="17010" class="Symbol">}{</a><a id="17012" href="Varieties.Preservation.html#17012" class="Bound">ğ‘ª</a><a id="17013" class="Symbol">}</a><a id="17014" href="Varieties.Preservation.html#17014" class="Bound">VA</a> <a id="17017" class="Symbol">(</a><a id="17018" href="Varieties.Preservation.html#17018" class="Bound">ğ‘©</a> <a id="17020" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17022" class="Symbol">((</a><a id="17024" href="Varieties.Preservation.html#17024" class="Bound">Ï†</a> <a id="17026" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17028" href="Varieties.Preservation.html#17028" class="Bound">Ï†h</a><a id="17030" class="Symbol">)</a> <a id="17032" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17034" href="Varieties.Preservation.html#17034" class="Bound">Ï†E</a><a id="17036" class="Symbol">)))</a> <a id="17040" href="Varieties.Preservation.html#17040" class="Bound">b</a> <a id="17042" class="Symbol">=</a> <a id="17044" href="Varieties.Preservation.html#17210" class="Function">goal</a>
  <a id="17051" class="Keyword">where</a>
  <a id="17059" href="Varieties.Preservation.html#17059" class="Function">IH</a> <a id="17062" class="Symbol">:</a> <a id="17064" href="Varieties.Preservation.html#17009" class="Bound">ğ‘¨</a> <a id="17066" href="Varieties.EquationalLogic.html#2605" class="Function Operator">âŠ§</a> <a id="17068" href="Varieties.Preservation.html#16996" class="Bound">p</a> <a id="17070" href="Varieties.EquationalLogic.html#2605" class="Function Operator">â‰ˆ</a> <a id="17072" href="Varieties.Preservation.html#16998" class="Bound">q</a>
  <a id="17076" href="Varieties.Preservation.html#17059" class="Function">IH</a> <a id="17079" class="Symbol">=</a> <a id="17081" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="17087" href="Varieties.Preservation.html#16996" class="Bound">p</a> <a id="17089" href="Varieties.Preservation.html#16998" class="Bound">q</a> <a id="17091" href="Varieties.Preservation.html#17000" class="Bound">Ïƒ</a> <a id="17093" href="Varieties.Preservation.html#17014" class="Bound">VA</a>

  <a id="17099" href="Varieties.Preservation.html#17099" class="Function">preim</a> <a id="17105" class="Symbol">:</a> <a id="17107" href="Varieties.Preservation.html#16697" class="Bound">X</a> <a id="17109" class="Symbol">â†’</a> <a id="17111" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="17113" href="Varieties.Preservation.html#17009" class="Bound">ğ‘¨</a> <a id="17115" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>
  <a id="17119" href="Varieties.Preservation.html#17099" class="Function">preim</a> <a id="17125" href="Varieties.Preservation.html#17125" class="Bound">x</a> <a id="17127" class="Symbol">=</a> <a id="17129" href="Overture.Inverses.html#1860" class="Function">Inv</a> <a id="17133" href="Varieties.Preservation.html#17024" class="Bound">Ï†</a> <a id="17135" class="Symbol">(</a><a id="17136" href="Varieties.Preservation.html#17034" class="Bound">Ï†E</a> <a id="17139" class="Symbol">(</a><a id="17140" href="Varieties.Preservation.html#17040" class="Bound">b</a> <a id="17142" href="Varieties.Preservation.html#17125" class="Bound">x</a><a id="17143" class="Symbol">))</a>

  <a id="17149" href="Varieties.Preservation.html#17149" class="Function">Î¶</a> <a id="17151" class="Symbol">:</a> <a id="17153" class="Symbol">âˆ€</a> <a id="17155" href="Varieties.Preservation.html#17155" class="Bound">x</a> <a id="17157" class="Symbol">â†’</a> <a id="17159" href="Varieties.Preservation.html#17024" class="Bound">Ï†</a> <a id="17161" class="Symbol">(</a><a id="17162" href="Varieties.Preservation.html#17099" class="Function">preim</a> <a id="17168" href="Varieties.Preservation.html#17155" class="Bound">x</a><a id="17169" class="Symbol">)</a> <a id="17171" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="17173" href="Varieties.Preservation.html#17040" class="Bound">b</a> <a id="17175" href="Varieties.Preservation.html#17155" class="Bound">x</a>
  <a id="17179" href="Varieties.Preservation.html#17149" class="Function">Î¶</a> <a id="17181" href="Varieties.Preservation.html#17181" class="Bound">x</a> <a id="17183" class="Symbol">=</a> <a id="17185" href="Overture.Inverses.html#2023" class="Function">InvIsInv</a> <a id="17194" href="Varieties.Preservation.html#17024" class="Bound">Ï†</a> <a id="17196" class="Symbol">(</a><a id="17197" href="Varieties.Preservation.html#17034" class="Bound">Ï†E</a> <a id="17200" class="Symbol">(</a><a id="17201" href="Varieties.Preservation.html#17040" class="Bound">b</a> <a id="17203" href="Varieties.Preservation.html#17181" class="Bound">x</a><a id="17204" class="Symbol">))</a>

  <a id="17210" href="Varieties.Preservation.html#17210" class="Function">goal</a> <a id="17215" class="Symbol">:</a> <a id="17217" class="Symbol">(</a><a id="17218" href="Varieties.Preservation.html#17018" class="Bound">ğ‘©</a> <a id="17220" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="17222" href="Varieties.Preservation.html#16996" class="Bound">p</a> <a id="17224" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="17225" class="Symbol">)</a> <a id="17227" href="Varieties.Preservation.html#17040" class="Bound">b</a> <a id="17229" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="17231" class="Symbol">(</a><a id="17232" href="Varieties.Preservation.html#17018" class="Bound">ğ‘©</a> <a id="17234" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="17236" href="Varieties.Preservation.html#16998" class="Bound">q</a> <a id="17238" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="17239" class="Symbol">)</a> <a id="17241" href="Varieties.Preservation.html#17040" class="Bound">b</a>
  <a id="17245" href="Varieties.Preservation.html#17210" class="Function">goal</a> <a id="17250" class="Symbol">=</a> <a id="17252" class="Symbol">(</a><a id="17253" href="Varieties.Preservation.html#17018" class="Bound">ğ‘©</a> <a id="17255" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="17257" href="Varieties.Preservation.html#16996" class="Bound">p</a> <a id="17259" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="17260" class="Symbol">)</a> <a id="17262" href="Varieties.Preservation.html#17040" class="Bound">b</a>          <a id="17273" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17276" href="Varieties.Preservation.html#16670" class="Bound">wd</a> <a id="17279" href="Varieties.Preservation.html#16685" class="Bound">ğ“§</a> <a id="17281" href="Varieties.Preservation.html#16728" class="Bound">Î±</a> <a id="17283" class="Symbol">(</a><a id="17284" href="Varieties.Preservation.html#17018" class="Bound">ğ‘©</a> <a id="17286" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="17288" href="Varieties.Preservation.html#16996" class="Bound">p</a> <a id="17290" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="17291" class="Symbol">)</a> <a id="17293" href="Varieties.Preservation.html#17040" class="Bound">b</a> <a id="17295" class="Symbol">(</a><a id="17296" href="Varieties.Preservation.html#17024" class="Bound">Ï†</a> <a id="17298" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17300" href="Varieties.Preservation.html#17099" class="Function">preim</a> <a id="17306" class="Symbol">)(Î»</a> <a id="17310" href="Varieties.Preservation.html#17310" class="Bound">i</a> <a id="17312" class="Symbol">â†’</a> <a id="17314" class="Symbol">(</a><a id="17315" href="Varieties.Preservation.html#17149" class="Function">Î¶</a> <a id="17317" href="Varieties.Preservation.html#17310" class="Bound">i</a><a id="17318" class="Symbol">)</a><a id="17319" href="Overture.Preliminaries.html#5228" class="Function Operator">â»Â¹</a><a id="17321" class="Symbol">)</a><a id="17322" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17330" class="Symbol">(</a><a id="17331" href="Varieties.Preservation.html#17018" class="Bound">ğ‘©</a> <a id="17333" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="17335" href="Varieties.Preservation.html#16996" class="Bound">p</a> <a id="17337" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="17338" class="Symbol">)(</a><a id="17340" href="Varieties.Preservation.html#17024" class="Bound">Ï†</a> <a id="17342" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17344" href="Varieties.Preservation.html#17099" class="Function">preim</a><a id="17349" class="Symbol">)</a> <a id="17351" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="17353" class="Symbol">(</a><a id="17354" href="Terms.Operations.html#6532" class="Function">comm-hom-term</a> <a id="17368" class="Symbol">(</a><a id="17369" href="Varieties.Preservation.html#16670" class="Bound">wd</a> <a id="17372" href="Varieties.Preservation.html#626" class="Bound">ğ“¥</a> <a id="17374" href="Varieties.Preservation.html#16728" class="Bound">Î±</a><a id="17375" class="Symbol">)</a> <a id="17377" href="Varieties.Preservation.html#17018" class="Bound">ğ‘©</a> <a id="17379" class="Symbol">(</a><a id="17380" href="Varieties.Preservation.html#17024" class="Bound">Ï†</a> <a id="17382" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17384" href="Varieties.Preservation.html#17028" class="Bound">Ï†h</a><a id="17386" class="Symbol">)</a> <a id="17388" href="Varieties.Preservation.html#16996" class="Bound">p</a> <a id="17390" href="Varieties.Preservation.html#17099" class="Function">preim</a><a id="17395" class="Symbol">)</a><a id="17396" href="Overture.Preliminaries.html#5228" class="Function Operator">â»Â¹</a> <a id="17399" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17407" href="Varieties.Preservation.html#17024" class="Bound">Ï†</a><a id="17408" class="Symbol">((</a><a id="17410" href="Varieties.Preservation.html#17009" class="Bound">ğ‘¨</a> <a id="17412" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="17414" href="Varieties.Preservation.html#16996" class="Bound">p</a> <a id="17416" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="17417" class="Symbol">)</a> <a id="17419" href="Varieties.Preservation.html#17099" class="Function">preim</a><a id="17424" class="Symbol">)</a>   <a id="17428" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17431" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="17436" href="Varieties.Preservation.html#17024" class="Bound">Ï†</a> <a id="17438" class="Symbol">(</a><a id="17439" href="Varieties.Preservation.html#17059" class="Function">IH</a> <a id="17442" href="Varieties.Preservation.html#17099" class="Function">preim</a><a id="17447" class="Symbol">)</a> <a id="17449" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17457" href="Varieties.Preservation.html#17024" class="Bound">Ï†</a><a id="17458" class="Symbol">((</a><a id="17460" href="Varieties.Preservation.html#17009" class="Bound">ğ‘¨</a> <a id="17462" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="17464" href="Varieties.Preservation.html#16998" class="Bound">q</a> <a id="17466" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="17467" class="Symbol">)</a> <a id="17469" href="Varieties.Preservation.html#17099" class="Function">preim</a><a id="17474" class="Symbol">)</a>   <a id="17478" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17481" href="Terms.Operations.html#6532" class="Function">comm-hom-term</a> <a id="17495" class="Symbol">(</a><a id="17496" href="Varieties.Preservation.html#16670" class="Bound">wd</a> <a id="17499" href="Varieties.Preservation.html#626" class="Bound">ğ“¥</a> <a id="17501" href="Varieties.Preservation.html#16728" class="Bound">Î±</a><a id="17502" class="Symbol">)</a> <a id="17504" href="Varieties.Preservation.html#17018" class="Bound">ğ‘©</a> <a id="17506" class="Symbol">(</a><a id="17507" href="Varieties.Preservation.html#17024" class="Bound">Ï†</a> <a id="17509" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17511" href="Varieties.Preservation.html#17028" class="Bound">Ï†h</a><a id="17513" class="Symbol">)</a> <a id="17515" href="Varieties.Preservation.html#16998" class="Bound">q</a> <a id="17517" href="Varieties.Preservation.html#17099" class="Function">preim</a> <a id="17523" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17531" class="Symbol">(</a><a id="17532" href="Varieties.Preservation.html#17018" class="Bound">ğ‘©</a> <a id="17534" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="17536" href="Varieties.Preservation.html#16998" class="Bound">q</a> <a id="17538" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="17539" class="Symbol">)(</a><a id="17541" href="Varieties.Preservation.html#17024" class="Bound">Ï†</a> <a id="17543" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17545" href="Varieties.Preservation.html#17099" class="Function">preim</a><a id="17550" class="Symbol">)</a> <a id="17552" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17555" href="Varieties.Preservation.html#16670" class="Bound">wd</a> <a id="17558" href="Varieties.Preservation.html#16685" class="Bound">ğ“§</a> <a id="17560" href="Varieties.Preservation.html#16728" class="Bound">Î±</a> <a id="17562" class="Symbol">(</a><a id="17563" href="Varieties.Preservation.html#17018" class="Bound">ğ‘©</a> <a id="17565" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="17567" href="Varieties.Preservation.html#16998" class="Bound">q</a> <a id="17569" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="17570" class="Symbol">)(</a><a id="17572" href="Varieties.Preservation.html#17024" class="Bound">Ï†</a> <a id="17574" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17576" href="Varieties.Preservation.html#17099" class="Function">preim</a><a id="17581" class="Symbol">)</a> <a id="17583" href="Varieties.Preservation.html#17040" class="Bound">b</a> <a id="17585" href="Varieties.Preservation.html#17149" class="Function">Î¶</a> <a id="17587" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17595" class="Symbol">(</a><a id="17596" href="Varieties.Preservation.html#17018" class="Bound">ğ‘©</a> <a id="17598" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="17600" href="Varieties.Preservation.html#16998" class="Bound">q</a> <a id="17602" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="17603" class="Symbol">)</a> <a id="17605" href="Varieties.Preservation.html#17040" class="Bound">b</a>          <a id="17616" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

 <a id="17620" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="17626" href="Varieties.Preservation.html#17626" class="Bound">p</a> <a id="17628" href="Varieties.Preservation.html#17628" class="Bound">q</a> <a id="17630" href="Varieties.Preservation.html#17630" class="Bound">Ïƒ</a> <a id="17632" class="Symbol">(</a> <a id="17634" href="Varieties.Closure.html#5672" class="InductiveConstructor">vssubw</a> <a id="17641" class="Symbol">{</a><a id="17642" href="Varieties.Preservation.html#17642" class="Bound">ğ‘¨</a><a id="17643" class="Symbol">}{</a><a id="17645" href="Varieties.Preservation.html#17645" class="Bound">ğ‘©</a><a id="17646" class="Symbol">}</a> <a id="17648" href="Varieties.Preservation.html#17648" class="Bound">VA</a> <a id="17651" href="Varieties.Preservation.html#17651" class="Bound">Bâ‰¤A</a> <a id="17655" class="Symbol">)</a> <a id="17657" class="Symbol">=</a>
  <a id="17661" href="Varieties.Properties.html#5453" class="Function">âŠ§-S-class-invar</a> <a id="17677" href="Varieties.Preservation.html#16670" class="Bound">wd</a> <a id="17680" href="Varieties.Preservation.html#17626" class="Bound">p</a> <a id="17682" href="Varieties.Preservation.html#17628" class="Bound">q</a> <a id="17684" href="Varieties.Preservation.html#17836" class="Function">goal</a> <a id="17689" class="Symbol">(</a><a id="17690" href="Varieties.Preservation.html#17645" class="Bound">ğ‘©</a> <a id="17692" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17694" href="Varieties.Preservation.html#17642" class="Bound">ğ‘¨</a> <a id="17696" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17698" class="Symbol">(</a><a id="17699" href="Varieties.Preservation.html#17645" class="Bound">ğ‘©</a> <a id="17701" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17703" href="Varieties.Preservation.html#17651" class="Bound">Bâ‰¤A</a><a id="17706" class="Symbol">)</a> <a id="17708" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17710" href="Varieties.Preservation.html#1116" class="InductiveConstructor">inr</a> <a id="17714" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17719" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17721" href="Homomorphisms.Isomorphisms.html#2816" class="Function">â‰…-refl</a><a id="17727" class="Symbol">)</a>
   <a id="17732" class="Keyword">where</a>
   <a id="17741" href="Varieties.Preservation.html#17741" class="Function">IH</a> <a id="17744" class="Symbol">:</a> <a id="17746" href="Varieties.Preservation.html#17642" class="Bound">ğ‘¨</a> <a id="17748" href="Varieties.EquationalLogic.html#2605" class="Function Operator">âŠ§</a> <a id="17750" href="Varieties.Preservation.html#17626" class="Bound">p</a> <a id="17752" href="Varieties.EquationalLogic.html#2605" class="Function Operator">â‰ˆ</a> <a id="17754" href="Varieties.Preservation.html#17628" class="Bound">q</a>
   <a id="17759" href="Varieties.Preservation.html#17741" class="Function">IH</a> <a id="17762" class="Symbol">=</a> <a id="17764" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="17770" href="Varieties.Preservation.html#17626" class="Bound">p</a> <a id="17772" href="Varieties.Preservation.html#17628" class="Bound">q</a> <a id="17774" href="Varieties.Preservation.html#17630" class="Bound">Ïƒ</a> <a id="17776" href="Varieties.Preservation.html#17648" class="Bound">VA</a>

   <a id="17783" href="Varieties.Preservation.html#17783" class="Function">Asinglepq</a> <a id="17793" class="Symbol">:</a> <a id="17795" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="17797" href="Varieties.Preservation.html#17642" class="Bound">ğ‘¨</a> <a id="17799" href="Relation.Unary.html#1335" class="Function Operator">ï½</a> <a id="17801" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="17803" href="Varieties.Preservation.html#17626" class="Bound">p</a> <a id="17805" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="17807" href="Varieties.Preservation.html#17628" class="Bound">q</a>
   <a id="17812" href="Varieties.Preservation.html#17783" class="Function">Asinglepq</a> <a id="17822" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17827" class="Symbol">=</a> <a id="17829" href="Varieties.Preservation.html#17741" class="Function">IH</a>

   <a id="17836" href="Varieties.Preservation.html#17836" class="Function">goal</a> <a id="17841" class="Symbol">:</a> <a id="17843" class="Symbol">(</a><a id="17844" href="Varieties.Preservation.html#16710" class="Bound">ğ’¦</a> <a id="17846" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="17848" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="17850" href="Varieties.Preservation.html#17642" class="Bound">ğ‘¨</a> <a id="17852" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="17853" class="Symbol">)</a> <a id="17855" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="17857" href="Varieties.Preservation.html#17626" class="Bound">p</a> <a id="17859" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="17861" href="Varieties.Preservation.html#17628" class="Bound">q</a>
   <a id="17866" href="Varieties.Preservation.html#17836" class="Function">goal</a> <a id="17871" class="Symbol">{</a><a id="17872" href="Varieties.Preservation.html#17872" class="Bound">ğ‘©</a><a id="17873" class="Symbol">}</a> <a id="17875" class="Symbol">(</a><a id="17876" href="Varieties.Preservation.html#1101" class="InductiveConstructor">inl</a> <a id="17880" href="Varieties.Preservation.html#17880" class="Bound">x</a><a id="17881" class="Symbol">)</a> <a id="17883" class="Symbol">=</a> <a id="17885" href="Varieties.Preservation.html#17630" class="Bound">Ïƒ</a> <a id="17887" href="Varieties.Preservation.html#17880" class="Bound">x</a>
   <a id="17892" href="Varieties.Preservation.html#17836" class="Function">goal</a> <a id="17897" class="Symbol">{</a><a id="17898" href="Varieties.Preservation.html#17898" class="Bound">ğ‘©</a><a id="17899" class="Symbol">}</a> <a id="17901" class="Symbol">(</a><a id="17902" href="Varieties.Preservation.html#1116" class="InductiveConstructor">inr</a> <a id="17906" href="Varieties.Preservation.html#17906" class="Bound">y</a><a id="17907" class="Symbol">)</a> <a id="17909" class="Symbol">=</a> <a id="17911" href="Varieties.Preservation.html#17783" class="Function">Asinglepq</a> <a id="17921" href="Varieties.Preservation.html#17906" class="Bound">y</a>

 <a id="17925" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="17931" href="Varieties.Preservation.html#17931" class="Bound">p</a> <a id="17933" href="Varieties.Preservation.html#17933" class="Bound">q</a> <a id="17935" href="Varieties.Preservation.html#17935" class="Bound">Ïƒ</a> <a id="17937" class="Symbol">(</a><a id="17938" href="Varieties.Closure.html#5736" class="InductiveConstructor">vprodu</a><a id="17944" class="Symbol">{</a><a id="17945" href="Varieties.Preservation.html#17945" class="Bound">I</a><a id="17946" class="Symbol">}{</a><a id="17948" href="Varieties.Preservation.html#17948" class="Bound">ğ’œ</a><a id="17949" class="Symbol">}</a> <a id="17951" href="Varieties.Preservation.html#17951" class="Bound">Vğ’œ</a><a id="17953" class="Symbol">)</a> <a id="17955" class="Symbol">=</a> <a id="17957" href="Varieties.Properties.html#6148" class="Function">âŠ§-P-invar</a> <a id="17967" href="Varieties.Preservation.html#16656" class="Bound">fe</a> <a id="17970" href="Varieties.Preservation.html#16670" class="Bound">wd</a> <a id="17973" href="Varieties.Preservation.html#17948" class="Bound">ğ’œ</a>  <a id="17976" href="Varieties.Preservation.html#17931" class="Bound">p</a> <a id="17978" href="Varieties.Preservation.html#17933" class="Bound">q</a> <a id="17980" class="Symbol">Î»</a> <a id="17982" href="Varieties.Preservation.html#17982" class="Bound">i</a> <a id="17984" class="Symbol">â†’</a> <a id="17986" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="17992" href="Varieties.Preservation.html#17931" class="Bound">p</a> <a id="17994" href="Varieties.Preservation.html#17933" class="Bound">q</a> <a id="17996" href="Varieties.Preservation.html#17935" class="Bound">Ïƒ</a> <a id="17998" class="Symbol">(</a><a id="17999" href="Varieties.Preservation.html#17951" class="Bound">Vğ’œ</a> <a id="18002" href="Varieties.Preservation.html#17982" class="Bound">i</a><a id="18003" class="Symbol">)</a>
 <a id="18006" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="18012" href="Varieties.Preservation.html#18012" class="Bound">p</a> <a id="18014" href="Varieties.Preservation.html#18014" class="Bound">q</a> <a id="18016" href="Varieties.Preservation.html#18016" class="Bound">Ïƒ</a> <a id="18018" class="Symbol">(</a><a id="18019" href="Varieties.Closure.html#5820" class="InductiveConstructor">vprodw</a><a id="18025" class="Symbol">{</a><a id="18026" href="Varieties.Preservation.html#18026" class="Bound">I</a><a id="18027" class="Symbol">}{</a><a id="18029" href="Varieties.Preservation.html#18029" class="Bound">ğ’œ</a><a id="18030" class="Symbol">}</a> <a id="18032" href="Varieties.Preservation.html#18032" class="Bound">Vğ’œ</a><a id="18034" class="Symbol">)</a> <a id="18036" class="Symbol">=</a> <a id="18038" href="Varieties.Properties.html#6148" class="Function">âŠ§-P-invar</a> <a id="18048" href="Varieties.Preservation.html#16656" class="Bound">fe</a> <a id="18051" href="Varieties.Preservation.html#16670" class="Bound">wd</a> <a id="18054" href="Varieties.Preservation.html#18029" class="Bound">ğ’œ</a>  <a id="18057" href="Varieties.Preservation.html#18012" class="Bound">p</a> <a id="18059" href="Varieties.Preservation.html#18014" class="Bound">q</a> <a id="18061" class="Symbol">Î»</a> <a id="18063" href="Varieties.Preservation.html#18063" class="Bound">i</a> <a id="18065" class="Symbol">â†’</a> <a id="18067" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="18073" href="Varieties.Preservation.html#18012" class="Bound">p</a> <a id="18075" href="Varieties.Preservation.html#18014" class="Bound">q</a> <a id="18077" href="Varieties.Preservation.html#18016" class="Bound">Ïƒ</a> <a id="18079" class="Symbol">(</a><a id="18080" href="Varieties.Preservation.html#18032" class="Bound">Vğ’œ</a> <a id="18083" href="Varieties.Preservation.html#18063" class="Bound">i</a><a id="18084" class="Symbol">)</a>
 <a id="18087" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="18093" href="Varieties.Preservation.html#18093" class="Bound">p</a> <a id="18095" href="Varieties.Preservation.html#18095" class="Bound">q</a> <a id="18097" href="Varieties.Preservation.html#18097" class="Bound">Ïƒ</a> <a id="18099" class="Symbol">(</a><a id="18100" href="Varieties.Closure.html#5904" class="InductiveConstructor">visou</a><a id="18105" class="Symbol">{</a><a id="18106" href="Varieties.Preservation.html#18106" class="Bound">ğ‘¨</a><a id="18107" class="Symbol">}{</a><a id="18109" href="Varieties.Preservation.html#18109" class="Bound">ğ‘©</a><a id="18110" class="Symbol">}</a> <a id="18112" href="Varieties.Preservation.html#18112" class="Bound">VA</a> <a id="18115" href="Varieties.Preservation.html#18115" class="Bound">Aâ‰…B</a><a id="18118" class="Symbol">)</a> <a id="18120" class="Symbol">=</a> <a id="18122" href="Varieties.Properties.html#3225" class="Function">âŠ§-I-invar</a> <a id="18132" href="Varieties.Preservation.html#16670" class="Bound">wd</a> <a id="18135" href="Varieties.Preservation.html#18109" class="Bound">ğ‘©</a> <a id="18137" href="Varieties.Preservation.html#18093" class="Bound">p</a> <a id="18139" href="Varieties.Preservation.html#18095" class="Bound">q</a> <a id="18141" class="Symbol">(</a><a id="18142" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="18148" href="Varieties.Preservation.html#18093" class="Bound">p</a> <a id="18150" href="Varieties.Preservation.html#18095" class="Bound">q</a> <a id="18152" href="Varieties.Preservation.html#18097" class="Bound">Ïƒ</a> <a id="18154" href="Varieties.Preservation.html#18112" class="Bound">VA</a><a id="18156" class="Symbol">)</a> <a id="18158" href="Varieties.Preservation.html#18115" class="Bound">Aâ‰…B</a>
 <a id="18163" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="18169" href="Varieties.Preservation.html#18169" class="Bound">p</a> <a id="18171" href="Varieties.Preservation.html#18171" class="Bound">q</a> <a id="18173" href="Varieties.Preservation.html#18173" class="Bound">Ïƒ</a> <a id="18175" class="Symbol">(</a><a id="18176" href="Varieties.Closure.html#5983" class="InductiveConstructor">visow</a><a id="18181" class="Symbol">{</a><a id="18182" href="Varieties.Preservation.html#18182" class="Bound">ğ‘¨</a><a id="18183" class="Symbol">}{</a><a id="18185" href="Varieties.Preservation.html#18185" class="Bound">ğ‘©</a><a id="18186" class="Symbol">}</a> <a id="18188" href="Varieties.Preservation.html#18188" class="Bound">VA</a> <a id="18191" href="Varieties.Preservation.html#18191" class="Bound">Aâ‰…B</a><a id="18194" class="Symbol">)</a> <a id="18196" class="Symbol">=</a> <a id="18198" href="Varieties.Properties.html#3225" class="Function">âŠ§-I-invar</a> <a id="18208" href="Varieties.Preservation.html#16670" class="Bound">wd</a> <a id="18211" href="Varieties.Preservation.html#18185" class="Bound">ğ‘©</a> <a id="18213" href="Varieties.Preservation.html#18169" class="Bound">p</a> <a id="18215" href="Varieties.Preservation.html#18171" class="Bound">q</a> <a id="18217" class="Symbol">(</a><a id="18218" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="18224" href="Varieties.Preservation.html#18169" class="Bound">p</a> <a id="18226" href="Varieties.Preservation.html#18171" class="Bound">q</a> <a id="18228" href="Varieties.Preservation.html#18173" class="Bound">Ïƒ</a> <a id="18230" href="Varieties.Preservation.html#18188" class="Bound">VA</a><a id="18232" class="Symbol">)</a> <a id="18234" href="Varieties.Preservation.html#18191" class="Bound">Aâ‰…B</a>

<a id="18239" class="Keyword">module</a> <a id="Vid&#39;"></a><a id="18246" href="Varieties.Preservation.html#18246" class="Module">Vid&#39;</a> <a id="18251" class="Symbol">(</a><a id="18252" href="Varieties.Preservation.html#18252" class="Bound">fe</a> <a id="18255" class="Symbol">:</a> <a id="18257" href="Foundations.Extensionality.html#2463" class="Function">DFunExt</a><a id="18264" class="Symbol">)(</a><a id="18266" href="Varieties.Preservation.html#18266" class="Bound">wd</a> <a id="18269" class="Symbol">:</a> <a id="18271" href="Foundations.Welldefined.html#2946" class="Function">SwellDef</a><a id="18279" class="Symbol">){</a><a id="18281" href="Varieties.Preservation.html#18281" class="Bound">ğ“§</a> <a id="18283" class="Symbol">:</a> <a id="18285" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="18290" class="Symbol">}</a> <a id="18292" class="Symbol">{</a><a id="18293" href="Varieties.Preservation.html#18293" class="Bound">X</a> <a id="18295" class="Symbol">:</a> <a id="18297" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="18302" href="Varieties.Preservation.html#18281" class="Bound">ğ“§</a><a id="18303" class="Symbol">}</a> <a id="18305" class="Symbol">{</a><a id="18306" href="Varieties.Preservation.html#18306" class="Bound">ğ’¦</a> <a id="18308" class="Symbol">:</a> <a id="18310" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="18315" class="Symbol">(</a><a id="18316" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="18324" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="18326" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="18327" class="Symbol">)(</a><a id="18329" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="18332" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="18333" class="Symbol">)}</a> <a id="18336" class="Keyword">where</a>

 <a id="18344" class="Keyword">open</a> <a id="18349" href="Varieties.Preservation.html#16651" class="Module">Vid</a> <a id="18353" href="Varieties.Preservation.html#18252" class="Bound">fe</a> <a id="18356" href="Varieties.Preservation.html#18266" class="Bound">wd</a> <a id="18359" class="Symbol">{</a><a id="18360" href="Varieties.Preservation.html#18281" class="Bound">ğ“§</a><a id="18361" class="Symbol">}{</a><a id="18363" href="Varieties.Preservation.html#18293" class="Bound">X</a><a id="18364" class="Symbol">}{</a><a id="18366" href="Varieties.Preservation.html#18306" class="Bound">ğ’¦</a><a id="18367" class="Symbol">}</a> <a id="18369" class="Keyword">public</a>
 <a id="Vid&#39;.V-id1&#39;"></a><a id="18377" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="18384" class="Symbol">:</a> <a id="18386" class="Symbol">(</a><a id="18387" href="Varieties.Preservation.html#18387" class="Bound">p</a> <a id="18389" href="Varieties.Preservation.html#18389" class="Bound">q</a> <a id="18391" class="Symbol">:</a> <a id="18393" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="18398" href="Varieties.Preservation.html#18293" class="Bound">X</a><a id="18399" class="Symbol">)</a> <a id="18401" class="Symbol">â†’</a> <a id="18403" href="Varieties.Preservation.html#18306" class="Bound">ğ’¦</a> <a id="18405" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="18407" href="Varieties.Preservation.html#18387" class="Bound">p</a> <a id="18409" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="18411" href="Varieties.Preservation.html#18389" class="Bound">q</a> <a id="18413" class="Symbol">â†’</a> <a id="18415" href="Varieties.Closure.html#5309" class="Datatype">V</a><a id="18416" class="Symbol">{</a><a id="18417" class="Argument">Î²</a> <a id="18419" class="Symbol">=</a> <a id="18421" href="Varieties.Preservation.html#3236" class="Generalizable">Î²</a><a id="18422" class="Symbol">}</a> <a id="18424" href="Varieties.Preservation.html#18306" class="Bound">ğ’¦</a> <a id="18426" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="18428" href="Varieties.Preservation.html#18387" class="Bound">p</a> <a id="18430" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="18432" href="Varieties.Preservation.html#18389" class="Bound">q</a>
 <a id="18435" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="18442" href="Varieties.Preservation.html#18442" class="Bound">p</a> <a id="18444" href="Varieties.Preservation.html#18444" class="Bound">q</a> <a id="18446" href="Varieties.Preservation.html#18446" class="Bound">Ïƒ</a> <a id="18448" class="Symbol">(</a><a id="18449" href="Varieties.Closure.html#5397" class="InductiveConstructor">vbase</a> <a id="18455" href="Varieties.Preservation.html#18455" class="Bound">x</a><a id="18456" class="Symbol">)</a> <a id="18458" class="Symbol">=</a> <a id="18460" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="18473" href="Varieties.Preservation.html#18266" class="Bound">wd</a> <a id="18476" href="Varieties.Preservation.html#18442" class="Bound">p</a> <a id="18478" href="Varieties.Preservation.html#18444" class="Bound">q</a> <a id="18480" class="Symbol">(</a><a id="18481" href="Varieties.Preservation.html#18446" class="Bound">Ïƒ</a> <a id="18483" href="Varieties.Preservation.html#18455" class="Bound">x</a><a id="18484" class="Symbol">)</a>
 <a id="18487" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="18494" href="Varieties.Preservation.html#18494" class="Bound">p</a> <a id="18496" href="Varieties.Preservation.html#18496" class="Bound">q</a> <a id="18498" href="Varieties.Preservation.html#18498" class="Bound">Ïƒ</a> <a id="18500" class="Symbol">(</a><a id="18501" href="Varieties.Closure.html#5454" class="InductiveConstructor">vlift</a><a id="18506" class="Symbol">{</a><a id="18507" href="Varieties.Preservation.html#18507" class="Bound">ğ‘¨</a><a id="18508" class="Symbol">}</a> <a id="18510" href="Varieties.Preservation.html#18510" class="Bound">x</a><a id="18511" class="Symbol">)</a> <a id="18513" class="Symbol">=</a> <a id="18515" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="18528" href="Varieties.Preservation.html#18266" class="Bound">wd</a> <a id="18531" href="Varieties.Preservation.html#18494" class="Bound">p</a> <a id="18533" href="Varieties.Preservation.html#18496" class="Bound">q</a> <a id="18535" class="Symbol">((</a><a id="18537" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="18543" href="Varieties.Preservation.html#18494" class="Bound">p</a> <a id="18545" href="Varieties.Preservation.html#18496" class="Bound">q</a> <a id="18547" href="Varieties.Preservation.html#18498" class="Bound">Ïƒ</a><a id="18548" class="Symbol">)</a> <a id="18550" href="Varieties.Preservation.html#18510" class="Bound">x</a><a id="18551" class="Symbol">)</a>
 <a id="18554" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="18561" href="Varieties.Preservation.html#18561" class="Bound">p</a> <a id="18563" href="Varieties.Preservation.html#18563" class="Bound">q</a> <a id="18565" href="Varieties.Preservation.html#18565" class="Bound">Ïƒ</a> <a id="18567" class="Symbol">(</a><a id="18568" href="Varieties.Closure.html#5519" class="InductiveConstructor">vliftw</a><a id="18574" class="Symbol">{</a><a id="18575" href="Varieties.Preservation.html#18575" class="Bound">ğ‘¨</a><a id="18576" class="Symbol">}</a> <a id="18578" href="Varieties.Preservation.html#18578" class="Bound">x</a><a id="18579" class="Symbol">)</a> <a id="18581" class="Symbol">=</a> <a id="18583" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="18596" href="Varieties.Preservation.html#18266" class="Bound">wd</a> <a id="18599" href="Varieties.Preservation.html#18561" class="Bound">p</a> <a id="18601" href="Varieties.Preservation.html#18563" class="Bound">q</a> <a id="18603" class="Symbol">((</a><a id="18605" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="18612" href="Varieties.Preservation.html#18561" class="Bound">p</a> <a id="18614" href="Varieties.Preservation.html#18563" class="Bound">q</a> <a id="18616" href="Varieties.Preservation.html#18565" class="Bound">Ïƒ</a><a id="18617" class="Symbol">)</a> <a id="18619" href="Varieties.Preservation.html#18578" class="Bound">x</a><a id="18620" class="Symbol">)</a>
 <a id="18623" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="18630" href="Varieties.Preservation.html#18630" class="Bound">p</a> <a id="18632" href="Varieties.Preservation.html#18632" class="Bound">q</a> <a id="18634" href="Varieties.Preservation.html#18634" class="Bound">Ïƒ</a> <a id="18636" class="Symbol">(</a><a id="18637" href="Varieties.Closure.html#5590" class="InductiveConstructor">vhimg</a><a id="18642" class="Symbol">{</a><a id="18643" href="Varieties.Preservation.html#18643" class="Bound">ğ‘¨</a><a id="18644" class="Symbol">}{</a><a id="18646" href="Varieties.Preservation.html#18646" class="Bound">ğ‘ª</a><a id="18647" class="Symbol">}</a> <a id="18649" href="Varieties.Preservation.html#18649" class="Bound">VA</a> <a id="18652" class="Symbol">(</a><a id="18653" href="Varieties.Preservation.html#18653" class="Bound">ğ‘©</a> <a id="18655" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18657" class="Symbol">((</a><a id="18659" href="Varieties.Preservation.html#18659" class="Bound">Ï†</a> <a id="18661" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18663" href="Varieties.Preservation.html#18663" class="Bound">Ï†h</a><a id="18665" class="Symbol">)</a> <a id="18667" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18669" href="Varieties.Preservation.html#18669" class="Bound">Ï†E</a><a id="18671" class="Symbol">)))</a> <a id="18675" href="Varieties.Preservation.html#18675" class="Bound">b</a> <a id="18677" class="Symbol">=</a> <a id="18679" href="Varieties.Preservation.html#18846" class="Function">goal</a>
  <a id="18686" class="Keyword">where</a>
  <a id="18694" href="Varieties.Preservation.html#18694" class="Function">IH</a> <a id="18697" class="Symbol">:</a> <a id="18699" href="Varieties.Preservation.html#18643" class="Bound">ğ‘¨</a> <a id="18701" href="Varieties.EquationalLogic.html#2605" class="Function Operator">âŠ§</a> <a id="18703" href="Varieties.Preservation.html#18630" class="Bound">p</a> <a id="18705" href="Varieties.EquationalLogic.html#2605" class="Function Operator">â‰ˆ</a> <a id="18707" href="Varieties.Preservation.html#18632" class="Bound">q</a>
  <a id="18711" href="Varieties.Preservation.html#18694" class="Function">IH</a> <a id="18714" class="Symbol">=</a> <a id="18716" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="18723" href="Varieties.Preservation.html#18630" class="Bound">p</a> <a id="18725" href="Varieties.Preservation.html#18632" class="Bound">q</a> <a id="18727" href="Varieties.Preservation.html#18634" class="Bound">Ïƒ</a> <a id="18729" href="Varieties.Preservation.html#18649" class="Bound">VA</a>

  <a id="18735" href="Varieties.Preservation.html#18735" class="Function">preim</a> <a id="18741" class="Symbol">:</a> <a id="18743" href="Varieties.Preservation.html#18293" class="Bound">X</a> <a id="18745" class="Symbol">â†’</a> <a id="18747" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="18749" href="Varieties.Preservation.html#18643" class="Bound">ğ‘¨</a> <a id="18751" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>
  <a id="18755" href="Varieties.Preservation.html#18735" class="Function">preim</a> <a id="18761" href="Varieties.Preservation.html#18761" class="Bound">x</a> <a id="18763" class="Symbol">=</a> <a id="18765" href="Overture.Inverses.html#1860" class="Function">Inv</a> <a id="18769" href="Varieties.Preservation.html#18659" class="Bound">Ï†</a> <a id="18771" class="Symbol">(</a><a id="18772" href="Varieties.Preservation.html#18669" class="Bound">Ï†E</a> <a id="18775" class="Symbol">(</a><a id="18776" href="Varieties.Preservation.html#18675" class="Bound">b</a> <a id="18778" href="Varieties.Preservation.html#18761" class="Bound">x</a><a id="18779" class="Symbol">))</a>

  <a id="18785" href="Varieties.Preservation.html#18785" class="Function">Î¶</a> <a id="18787" class="Symbol">:</a> <a id="18789" class="Symbol">âˆ€</a> <a id="18791" href="Varieties.Preservation.html#18791" class="Bound">x</a> <a id="18793" class="Symbol">â†’</a> <a id="18795" href="Varieties.Preservation.html#18659" class="Bound">Ï†</a> <a id="18797" class="Symbol">(</a><a id="18798" href="Varieties.Preservation.html#18735" class="Function">preim</a> <a id="18804" href="Varieties.Preservation.html#18791" class="Bound">x</a><a id="18805" class="Symbol">)</a> <a id="18807" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="18809" href="Varieties.Preservation.html#18675" class="Bound">b</a> <a id="18811" href="Varieties.Preservation.html#18791" class="Bound">x</a>
  <a id="18815" href="Varieties.Preservation.html#18785" class="Function">Î¶</a> <a id="18817" href="Varieties.Preservation.html#18817" class="Bound">x</a> <a id="18819" class="Symbol">=</a> <a id="18821" href="Overture.Inverses.html#2023" class="Function">InvIsInv</a> <a id="18830" href="Varieties.Preservation.html#18659" class="Bound">Ï†</a> <a id="18832" class="Symbol">(</a><a id="18833" href="Varieties.Preservation.html#18669" class="Bound">Ï†E</a> <a id="18836" class="Symbol">(</a><a id="18837" href="Varieties.Preservation.html#18675" class="Bound">b</a> <a id="18839" href="Varieties.Preservation.html#18817" class="Bound">x</a><a id="18840" class="Symbol">))</a>

  <a id="18846" href="Varieties.Preservation.html#18846" class="Function">goal</a> <a id="18851" class="Symbol">:</a> <a id="18853" class="Symbol">(</a><a id="18854" href="Varieties.Preservation.html#18653" class="Bound">ğ‘©</a> <a id="18856" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="18858" href="Varieties.Preservation.html#18630" class="Bound">p</a> <a id="18860" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="18861" class="Symbol">)</a> <a id="18863" href="Varieties.Preservation.html#18675" class="Bound">b</a> <a id="18865" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="18867" class="Symbol">(</a><a id="18868" href="Varieties.Preservation.html#18653" class="Bound">ğ‘©</a> <a id="18870" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="18872" href="Varieties.Preservation.html#18632" class="Bound">q</a> <a id="18874" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="18875" class="Symbol">)</a> <a id="18877" href="Varieties.Preservation.html#18675" class="Bound">b</a>
  <a id="18881" href="Varieties.Preservation.html#18846" class="Function">goal</a> <a id="18886" class="Symbol">=</a> <a id="18888" class="Symbol">(</a><a id="18889" href="Varieties.Preservation.html#18653" class="Bound">ğ‘©</a> <a id="18891" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="18893" href="Varieties.Preservation.html#18630" class="Bound">p</a> <a id="18895" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="18896" class="Symbol">)</a> <a id="18898" href="Varieties.Preservation.html#18675" class="Bound">b</a>          <a id="18909" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="18912" href="Varieties.Preservation.html#18266" class="Bound">wd</a> <a id="18915" href="Varieties.Preservation.html#18281" class="Bound">ğ“§</a> <a id="18917" class="Symbol">_</a> <a id="18919" class="Symbol">(</a><a id="18920" href="Varieties.Preservation.html#18653" class="Bound">ğ‘©</a> <a id="18922" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="18924" href="Varieties.Preservation.html#18630" class="Bound">p</a> <a id="18926" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="18927" class="Symbol">)</a> <a id="18929" href="Varieties.Preservation.html#18675" class="Bound">b</a> <a id="18931" class="Symbol">(</a><a id="18932" href="Varieties.Preservation.html#18659" class="Bound">Ï†</a> <a id="18934" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="18936" href="Varieties.Preservation.html#18735" class="Function">preim</a> <a id="18942" class="Symbol">)(Î»</a> <a id="18946" href="Varieties.Preservation.html#18946" class="Bound">i</a> <a id="18948" class="Symbol">â†’</a> <a id="18950" class="Symbol">(</a><a id="18951" href="Varieties.Preservation.html#18785" class="Function">Î¶</a> <a id="18953" href="Varieties.Preservation.html#18946" class="Bound">i</a><a id="18954" class="Symbol">)</a><a id="18955" href="Overture.Preliminaries.html#5228" class="Function Operator">â»Â¹</a><a id="18957" class="Symbol">)</a><a id="18958" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="18966" class="Symbol">(</a><a id="18967" href="Varieties.Preservation.html#18653" class="Bound">ğ‘©</a> <a id="18969" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="18971" href="Varieties.Preservation.html#18630" class="Bound">p</a> <a id="18973" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="18974" class="Symbol">)(</a><a id="18976" href="Varieties.Preservation.html#18659" class="Bound">Ï†</a> <a id="18978" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="18980" href="Varieties.Preservation.html#18735" class="Function">preim</a><a id="18985" class="Symbol">)</a> <a id="18987" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="18989" class="Symbol">(</a><a id="18990" href="Terms.Operations.html#6532" class="Function">comm-hom-term</a> <a id="19004" class="Symbol">(</a><a id="19005" href="Varieties.Preservation.html#18266" class="Bound">wd</a> <a id="19008" href="Varieties.Preservation.html#626" class="Bound">ğ“¥</a> <a id="19010" class="Symbol">_)</a> <a id="19013" href="Varieties.Preservation.html#18653" class="Bound">ğ‘©</a> <a id="19015" class="Symbol">(</a><a id="19016" href="Varieties.Preservation.html#18659" class="Bound">Ï†</a> <a id="19018" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19020" href="Varieties.Preservation.html#18663" class="Bound">Ï†h</a><a id="19022" class="Symbol">)</a> <a id="19024" href="Varieties.Preservation.html#18630" class="Bound">p</a> <a id="19026" href="Varieties.Preservation.html#18735" class="Function">preim</a><a id="19031" class="Symbol">)</a><a id="19032" href="Overture.Preliminaries.html#5228" class="Function Operator">â»Â¹</a> <a id="19035" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19043" href="Varieties.Preservation.html#18659" class="Bound">Ï†</a><a id="19044" class="Symbol">((</a><a id="19046" href="Varieties.Preservation.html#18643" class="Bound">ğ‘¨</a> <a id="19048" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="19050" href="Varieties.Preservation.html#18630" class="Bound">p</a> <a id="19052" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="19053" class="Symbol">)</a> <a id="19055" href="Varieties.Preservation.html#18735" class="Function">preim</a><a id="19060" class="Symbol">)</a>   <a id="19064" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19067" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="19072" href="Varieties.Preservation.html#18659" class="Bound">Ï†</a> <a id="19074" class="Symbol">(</a><a id="19075" href="Varieties.Preservation.html#18694" class="Function">IH</a> <a id="19078" href="Varieties.Preservation.html#18735" class="Function">preim</a><a id="19083" class="Symbol">)</a> <a id="19085" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19093" href="Varieties.Preservation.html#18659" class="Bound">Ï†</a><a id="19094" class="Symbol">((</a><a id="19096" href="Varieties.Preservation.html#18643" class="Bound">ğ‘¨</a> <a id="19098" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="19100" href="Varieties.Preservation.html#18632" class="Bound">q</a> <a id="19102" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="19103" class="Symbol">)</a> <a id="19105" href="Varieties.Preservation.html#18735" class="Function">preim</a><a id="19110" class="Symbol">)</a>   <a id="19114" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19117" href="Terms.Operations.html#6532" class="Function">comm-hom-term</a> <a id="19131" class="Symbol">(</a><a id="19132" href="Varieties.Preservation.html#18266" class="Bound">wd</a> <a id="19135" href="Varieties.Preservation.html#626" class="Bound">ğ“¥</a> <a id="19137" class="Symbol">_)</a> <a id="19140" href="Varieties.Preservation.html#18653" class="Bound">ğ‘©</a> <a id="19142" class="Symbol">(</a><a id="19143" href="Varieties.Preservation.html#18659" class="Bound">Ï†</a> <a id="19145" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19147" href="Varieties.Preservation.html#18663" class="Bound">Ï†h</a><a id="19149" class="Symbol">)</a> <a id="19151" href="Varieties.Preservation.html#18632" class="Bound">q</a> <a id="19153" href="Varieties.Preservation.html#18735" class="Function">preim</a> <a id="19159" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19167" class="Symbol">(</a><a id="19168" href="Varieties.Preservation.html#18653" class="Bound">ğ‘©</a> <a id="19170" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="19172" href="Varieties.Preservation.html#18632" class="Bound">q</a> <a id="19174" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="19175" class="Symbol">)(</a><a id="19177" href="Varieties.Preservation.html#18659" class="Bound">Ï†</a> <a id="19179" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19181" href="Varieties.Preservation.html#18735" class="Function">preim</a><a id="19186" class="Symbol">)</a> <a id="19188" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19191" href="Varieties.Preservation.html#18266" class="Bound">wd</a> <a id="19194" href="Varieties.Preservation.html#18281" class="Bound">ğ“§</a> <a id="19196" class="Symbol">_</a> <a id="19198" class="Symbol">(</a><a id="19199" href="Varieties.Preservation.html#18653" class="Bound">ğ‘©</a> <a id="19201" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="19203" href="Varieties.Preservation.html#18632" class="Bound">q</a> <a id="19205" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="19206" class="Symbol">)(</a><a id="19208" href="Varieties.Preservation.html#18659" class="Bound">Ï†</a> <a id="19210" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19212" href="Varieties.Preservation.html#18735" class="Function">preim</a><a id="19217" class="Symbol">)</a> <a id="19219" href="Varieties.Preservation.html#18675" class="Bound">b</a> <a id="19221" href="Varieties.Preservation.html#18785" class="Function">Î¶</a> <a id="19223" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19231" class="Symbol">(</a><a id="19232" href="Varieties.Preservation.html#18653" class="Bound">ğ‘©</a> <a id="19234" href="Terms.Operations.html#2527" class="Function Operator">âŸ¦</a> <a id="19236" href="Varieties.Preservation.html#18632" class="Bound">q</a> <a id="19238" href="Terms.Operations.html#2527" class="Function Operator">âŸ§</a><a id="19239" class="Symbol">)</a> <a id="19241" href="Varieties.Preservation.html#18675" class="Bound">b</a>          <a id="19252" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

 <a id="19256" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="19263" href="Varieties.Preservation.html#19263" class="Bound">p</a> <a id="19265" href="Varieties.Preservation.html#19265" class="Bound">q</a> <a id="19267" href="Varieties.Preservation.html#19267" class="Bound">Ïƒ</a> <a id="19269" class="Symbol">(</a><a id="19270" href="Varieties.Closure.html#5672" class="InductiveConstructor">vssubw</a> <a id="19277" class="Symbol">{</a><a id="19278" href="Varieties.Preservation.html#19278" class="Bound">ğ‘¨</a><a id="19279" class="Symbol">}{</a><a id="19281" href="Varieties.Preservation.html#19281" class="Bound">ğ‘©</a><a id="19282" class="Symbol">}</a> <a id="19284" href="Varieties.Preservation.html#19284" class="Bound">VA</a> <a id="19287" href="Varieties.Preservation.html#19287" class="Bound">Bâ‰¤A</a><a id="19290" class="Symbol">)</a> <a id="19292" class="Symbol">=</a> <a id="19294" href="Varieties.Properties.html#4726" class="Function">âŠ§-S-invar</a> <a id="19304" href="Varieties.Preservation.html#18266" class="Bound">wd</a> <a id="19307" href="Varieties.Preservation.html#19281" class="Bound">ğ‘©</a> <a id="19309" class="Symbol">{</a><a id="19310" href="Varieties.Preservation.html#19263" class="Bound">p</a><a id="19311" class="Symbol">}{</a><a id="19313" href="Varieties.Preservation.html#19265" class="Bound">q</a><a id="19314" class="Symbol">}(</a><a id="19316" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="19323" href="Varieties.Preservation.html#19263" class="Bound">p</a> <a id="19325" href="Varieties.Preservation.html#19265" class="Bound">q</a> <a id="19327" href="Varieties.Preservation.html#19267" class="Bound">Ïƒ</a> <a id="19329" href="Varieties.Preservation.html#19284" class="Bound">VA</a><a id="19331" class="Symbol">)</a> <a id="19333" href="Varieties.Preservation.html#19287" class="Bound">Bâ‰¤A</a>
 <a id="19338" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="19345" href="Varieties.Preservation.html#19345" class="Bound">p</a> <a id="19347" href="Varieties.Preservation.html#19347" class="Bound">q</a> <a id="19349" href="Varieties.Preservation.html#19349" class="Bound">Ïƒ</a> <a id="19351" class="Symbol">(</a><a id="19352" href="Varieties.Closure.html#5736" class="InductiveConstructor">vprodu</a><a id="19358" class="Symbol">{</a><a id="19359" href="Varieties.Preservation.html#19359" class="Bound">I</a><a id="19360" class="Symbol">}{</a><a id="19362" href="Varieties.Preservation.html#19362" class="Bound">ğ’œ</a><a id="19363" class="Symbol">}</a> <a id="19365" href="Varieties.Preservation.html#19365" class="Bound">Vğ’œ</a><a id="19367" class="Symbol">)</a> <a id="19369" class="Symbol">=</a> <a id="19371" href="Varieties.Properties.html#6148" class="Function">âŠ§-P-invar</a> <a id="19381" href="Varieties.Preservation.html#18252" class="Bound">fe</a> <a id="19384" href="Varieties.Preservation.html#18266" class="Bound">wd</a> <a id="19387" href="Varieties.Preservation.html#19362" class="Bound">ğ’œ</a>  <a id="19390" href="Varieties.Preservation.html#19345" class="Bound">p</a> <a id="19392" href="Varieties.Preservation.html#19347" class="Bound">q</a> <a id="19394" class="Symbol">Î»</a> <a id="19396" href="Varieties.Preservation.html#19396" class="Bound">i</a> <a id="19398" class="Symbol">â†’</a> <a id="19400" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="19406" href="Varieties.Preservation.html#19345" class="Bound">p</a> <a id="19408" href="Varieties.Preservation.html#19347" class="Bound">q</a> <a id="19410" href="Varieties.Preservation.html#19349" class="Bound">Ïƒ</a> <a id="19412" class="Symbol">(</a><a id="19413" href="Varieties.Preservation.html#19365" class="Bound">Vğ’œ</a> <a id="19416" href="Varieties.Preservation.html#19396" class="Bound">i</a><a id="19417" class="Symbol">)</a>
 <a id="19420" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="19427" href="Varieties.Preservation.html#19427" class="Bound">p</a> <a id="19429" href="Varieties.Preservation.html#19429" class="Bound">q</a> <a id="19431" href="Varieties.Preservation.html#19431" class="Bound">Ïƒ</a> <a id="19433" class="Symbol">(</a><a id="19434" href="Varieties.Closure.html#5820" class="InductiveConstructor">vprodw</a><a id="19440" class="Symbol">{</a><a id="19441" href="Varieties.Preservation.html#19441" class="Bound">I</a><a id="19442" class="Symbol">}{</a><a id="19444" href="Varieties.Preservation.html#19444" class="Bound">ğ’œ</a><a id="19445" class="Symbol">}</a> <a id="19447" href="Varieties.Preservation.html#19447" class="Bound">Vğ’œ</a><a id="19449" class="Symbol">)</a> <a id="19451" class="Symbol">=</a> <a id="19453" href="Varieties.Properties.html#6148" class="Function">âŠ§-P-invar</a> <a id="19463" href="Varieties.Preservation.html#18252" class="Bound">fe</a> <a id="19466" href="Varieties.Preservation.html#18266" class="Bound">wd</a> <a id="19469" href="Varieties.Preservation.html#19444" class="Bound">ğ’œ</a>  <a id="19472" href="Varieties.Preservation.html#19427" class="Bound">p</a> <a id="19474" href="Varieties.Preservation.html#19429" class="Bound">q</a> <a id="19476" class="Symbol">Î»</a> <a id="19478" href="Varieties.Preservation.html#19478" class="Bound">i</a> <a id="19480" class="Symbol">â†’</a> <a id="19482" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="19489" href="Varieties.Preservation.html#19427" class="Bound">p</a> <a id="19491" href="Varieties.Preservation.html#19429" class="Bound">q</a> <a id="19493" href="Varieties.Preservation.html#19431" class="Bound">Ïƒ</a> <a id="19495" class="Symbol">(</a><a id="19496" href="Varieties.Preservation.html#19447" class="Bound">Vğ’œ</a> <a id="19499" href="Varieties.Preservation.html#19478" class="Bound">i</a><a id="19500" class="Symbol">)</a>
 <a id="19503" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="19510" href="Varieties.Preservation.html#19510" class="Bound">p</a> <a id="19512" href="Varieties.Preservation.html#19512" class="Bound">q</a> <a id="19514" href="Varieties.Preservation.html#19514" class="Bound">Ïƒ</a> <a id="19516" class="Symbol">(</a><a id="19517" href="Varieties.Closure.html#5904" class="InductiveConstructor">visou</a> <a id="19523" class="Symbol">{</a><a id="19524" href="Varieties.Preservation.html#19524" class="Bound">ğ‘¨</a><a id="19525" class="Symbol">}{</a><a id="19527" href="Varieties.Preservation.html#19527" class="Bound">ğ‘©</a><a id="19528" class="Symbol">}</a> <a id="19530" href="Varieties.Preservation.html#19530" class="Bound">VA</a> <a id="19533" href="Varieties.Preservation.html#19533" class="Bound">Aâ‰…B</a><a id="19536" class="Symbol">)</a> <a id="19538" class="Symbol">=</a> <a id="19540" href="Varieties.Properties.html#3225" class="Function">âŠ§-I-invar</a> <a id="19550" href="Varieties.Preservation.html#18266" class="Bound">wd</a> <a id="19553" href="Varieties.Preservation.html#19527" class="Bound">ğ‘©</a> <a id="19555" href="Varieties.Preservation.html#19510" class="Bound">p</a> <a id="19557" href="Varieties.Preservation.html#19512" class="Bound">q</a> <a id="19559" class="Symbol">(</a><a id="19560" href="Varieties.Preservation.html#16748" class="Function">V-id1</a> <a id="19566" href="Varieties.Preservation.html#19510" class="Bound">p</a> <a id="19568" href="Varieties.Preservation.html#19512" class="Bound">q</a> <a id="19570" href="Varieties.Preservation.html#19514" class="Bound">Ïƒ</a> <a id="19572" href="Varieties.Preservation.html#19530" class="Bound">VA</a><a id="19574" class="Symbol">)</a> <a id="19576" href="Varieties.Preservation.html#19533" class="Bound">Aâ‰…B</a>
 <a id="19581" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="19588" href="Varieties.Preservation.html#19588" class="Bound">p</a> <a id="19590" href="Varieties.Preservation.html#19590" class="Bound">q</a> <a id="19592" href="Varieties.Preservation.html#19592" class="Bound">Ïƒ</a> <a id="19594" class="Symbol">(</a><a id="19595" href="Varieties.Closure.html#5983" class="InductiveConstructor">visow</a><a id="19600" class="Symbol">{</a><a id="19601" href="Varieties.Preservation.html#19601" class="Bound">ğ‘¨</a><a id="19602" class="Symbol">}{</a><a id="19604" href="Varieties.Preservation.html#19604" class="Bound">ğ‘©</a><a id="19605" class="Symbol">}</a> <a id="19607" href="Varieties.Preservation.html#19607" class="Bound">VA</a> <a id="19610" href="Varieties.Preservation.html#19610" class="Bound">Aâ‰…B</a><a id="19613" class="Symbol">)</a> <a id="19615" class="Symbol">=</a> <a id="19617" href="Varieties.Properties.html#3225" class="Function">âŠ§-I-invar</a> <a id="19627" href="Varieties.Preservation.html#18266" class="Bound">wd</a> <a id="19630" href="Varieties.Preservation.html#19604" class="Bound">ğ‘©</a> <a id="19632" href="Varieties.Preservation.html#19588" class="Bound">p</a> <a id="19634" href="Varieties.Preservation.html#19590" class="Bound">q</a> <a id="19636" class="Symbol">(</a><a id="19637" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="19644" href="Varieties.Preservation.html#19588" class="Bound">p</a> <a id="19646" href="Varieties.Preservation.html#19590" class="Bound">q</a> <a id="19648" href="Varieties.Preservation.html#19592" class="Bound">Ïƒ</a> <a id="19650" href="Varieties.Preservation.html#19607" class="Bound">VA</a><a id="19652" class="Symbol">)</a><a id="19653" href="Varieties.Preservation.html#19610" class="Bound">Aâ‰…B</a>

</pre>


### <a id="class-identities">Class identities</a>

From `V-id1` it follows that if ğ’¦ is a class of structures, then the set of identities modeled by all structures in `ğ’¦` is equivalent to the set of identities modeled by all structures in `V ğ’¦`.  In other terms, `Th (V ğ’¦)` is precisely the set of identities modeled by `ğ’¦`.   We formalize this observation as follows.

<pre class="Agda">

<a id="20055" class="Keyword">module</a> <a id="20062" href="Varieties.Preservation.html#20062" class="Module">_</a> <a id="20064" class="Symbol">(</a><a id="20065" href="Varieties.Preservation.html#20065" class="Bound">fe</a> <a id="20068" class="Symbol">:</a> <a id="20070" href="Foundations.Extensionality.html#2463" class="Function">DFunExt</a><a id="20077" class="Symbol">)(</a><a id="20079" href="Varieties.Preservation.html#20079" class="Bound">wd</a> <a id="20082" class="Symbol">:</a> <a id="20084" href="Foundations.Welldefined.html#2946" class="Function">SwellDef</a><a id="20092" class="Symbol">){</a><a id="20094" href="Varieties.Preservation.html#20094" class="Bound">ğ“§</a> <a id="20096" class="Symbol">:</a> <a id="20098" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="20103" class="Symbol">}</a> <a id="20105" class="Symbol">{</a><a id="20106" href="Varieties.Preservation.html#20106" class="Bound">X</a> <a id="20108" class="Symbol">:</a> <a id="20110" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="20115" href="Varieties.Preservation.html#20094" class="Bound">ğ“§</a><a id="20116" class="Symbol">}</a> <a id="20118" class="Symbol">{</a><a id="20119" href="Varieties.Preservation.html#20119" class="Bound">ğ’¦</a> <a id="20121" class="Symbol">:</a> <a id="20123" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20128" class="Symbol">(</a><a id="20129" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="20137" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="20139" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="20140" class="Symbol">)(</a><a id="20142" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="20145" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="20146" class="Symbol">)}</a> <a id="20149" class="Keyword">where</a>

 <a id="20157" href="Varieties.Preservation.html#20157" class="Function">ovu</a> <a id="20161" href="Varieties.Preservation.html#20161" class="Function">lovu</a> <a id="20166" class="Symbol">:</a> <a id="20168" href="Agda.Primitive.html#597" class="Postulate">Level</a>
 <a id="20175" href="Varieties.Preservation.html#20157" class="Function">ovu</a> <a id="20179" class="Symbol">=</a> <a id="20181" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="20184" href="Varieties.Preservation.html#20137" class="Bound">Î±</a>
 <a id="20187" href="Varieties.Preservation.html#20161" class="Function">lovu</a> <a id="20192" class="Symbol">=</a> <a id="20194" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="20199" class="Symbol">(</a><a id="20200" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="20203" href="Varieties.Preservation.html#20137" class="Bound">Î±</a><a id="20204" class="Symbol">)</a>
 <a id="20207" href="Varieties.Preservation.html#20207" class="Function">ğ•</a> <a id="20209" class="Symbol">:</a> <a id="20211" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20216" class="Symbol">(</a><a id="20217" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="20225" href="Varieties.Preservation.html#20161" class="Function">lovu</a> <a id="20230" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="20231" class="Symbol">)</a> <a id="20233" class="Symbol">(</a><a id="20234" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="20239" href="Varieties.Preservation.html#20161" class="Function">lovu</a><a id="20243" class="Symbol">)</a>
 <a id="20246" href="Varieties.Preservation.html#20207" class="Function">ğ•</a> <a id="20248" class="Symbol">=</a> <a id="20250" href="Varieties.Closure.html#5309" class="Datatype">V</a><a id="20251" class="Symbol">{</a><a id="20252" href="Varieties.Preservation.html#20137" class="Bound">Î±</a><a id="20253" class="Symbol">}{</a><a id="20255" href="Varieties.Preservation.html#20161" class="Function">lovu</a><a id="20259" class="Symbol">}</a> <a id="20261" href="Varieties.Preservation.html#20119" class="Bound">ğ’¦</a>
 <a id="20264" href="Varieties.Preservation.html#20264" class="Function">ğ’±</a> <a id="20266" class="Symbol">:</a> <a id="20268" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20273" class="Symbol">(</a><a id="20274" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="20282" href="Varieties.Preservation.html#20157" class="Function">ovu</a> <a id="20286" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="20287" class="Symbol">)</a> <a id="20289" href="Varieties.Preservation.html#20161" class="Function">lovu</a>
 <a id="20295" href="Varieties.Preservation.html#20264" class="Function">ğ’±</a> <a id="20297" class="Symbol">=</a> <a id="20299" href="Varieties.Closure.html#5309" class="Datatype">V</a><a id="20300" class="Symbol">{</a><a id="20301" class="Argument">Î²</a> <a id="20303" class="Symbol">=</a> <a id="20305" href="Varieties.Preservation.html#20157" class="Function">ovu</a><a id="20308" class="Symbol">}</a> <a id="20310" href="Varieties.Preservation.html#20119" class="Bound">ğ’¦</a>

 <a id="20314" class="Keyword">open</a> <a id="20319" href="Varieties.Preservation.html#18246" class="Module">Vid&#39;</a> <a id="20324" href="Varieties.Preservation.html#20065" class="Bound">fe</a> <a id="20327" href="Varieties.Preservation.html#20079" class="Bound">wd</a> <a id="20330" class="Symbol">{</a><a id="20331" href="Varieties.Preservation.html#20094" class="Bound">ğ“§</a><a id="20332" class="Symbol">}{</a><a id="20334" href="Varieties.Preservation.html#20106" class="Bound">X</a><a id="20335" class="Symbol">}{</a><a id="20337" href="Varieties.Preservation.html#20119" class="Bound">ğ’¦</a><a id="20338" class="Symbol">}</a> <a id="20340" class="Keyword">public</a>
 <a id="20348" href="Varieties.Preservation.html#20348" class="Function">class-ids-â‡’</a> <a id="20360" class="Symbol">:</a> <a id="20362" class="Symbol">(</a><a id="20363" href="Varieties.Preservation.html#20363" class="Bound">p</a> <a id="20365" href="Varieties.Preservation.html#20365" class="Bound">q</a> <a id="20367" class="Symbol">:</a> <a id="20369" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="20371" href="Terms.Basic.html#3258" class="Function">ğ‘»</a> <a id="20373" href="Varieties.Preservation.html#20106" class="Bound">X</a> <a id="20375" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a><a id="20376" class="Symbol">)</a> <a id="20378" class="Symbol">â†’</a> <a id="20380" href="Varieties.Preservation.html#20119" class="Bound">ğ’¦</a> <a id="20382" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="20384" href="Varieties.Preservation.html#20363" class="Bound">p</a> <a id="20386" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="20388" href="Varieties.Preservation.html#20365" class="Bound">q</a>  <a id="20391" class="Symbol">â†’</a>  <a id="20394" class="Symbol">(</a><a id="20395" href="Varieties.Preservation.html#20363" class="Bound">p</a> <a id="20397" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20399" href="Varieties.Preservation.html#20365" class="Bound">q</a><a id="20400" class="Symbol">)</a> <a id="20402" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20404" href="Varieties.EquationalLogic.html#3408" class="Function">Th</a> <a id="20407" href="Varieties.Preservation.html#20264" class="Function">ğ’±</a>
 <a id="20410" href="Varieties.Preservation.html#20348" class="Function">class-ids-â‡’</a> <a id="20422" href="Varieties.Preservation.html#20422" class="Bound">p</a> <a id="20424" href="Varieties.Preservation.html#20424" class="Bound">q</a> <a id="20426" href="Varieties.Preservation.html#20426" class="Bound">pKq</a> <a id="20430" href="Varieties.Preservation.html#20430" class="Bound">VCloA</a> <a id="20436" class="Symbol">=</a> <a id="20438" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="20445" href="Varieties.Preservation.html#20422" class="Bound">p</a> <a id="20447" href="Varieties.Preservation.html#20424" class="Bound">q</a> <a id="20449" href="Varieties.Preservation.html#20426" class="Bound">pKq</a> <a id="20453" href="Varieties.Preservation.html#20430" class="Bound">VCloA</a>

 <a id="20461" href="Varieties.Preservation.html#20461" class="Function">class-ids</a> <a id="20471" class="Symbol">:</a> <a id="20473" class="Symbol">(</a><a id="20474" href="Varieties.Preservation.html#20474" class="Bound">p</a> <a id="20476" href="Varieties.Preservation.html#20476" class="Bound">q</a> <a id="20478" class="Symbol">:</a> <a id="20480" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="20482" href="Terms.Basic.html#3258" class="Function">ğ‘»</a> <a id="20484" href="Varieties.Preservation.html#20106" class="Bound">X</a> <a id="20486" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a><a id="20487" class="Symbol">)</a> <a id="20489" class="Symbol">â†’</a> <a id="20491" href="Varieties.Preservation.html#20119" class="Bound">ğ’¦</a> <a id="20493" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="20495" href="Varieties.Preservation.html#20474" class="Bound">p</a> <a id="20497" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="20499" href="Varieties.Preservation.html#20476" class="Bound">q</a>  <a id="20502" class="Symbol">â†’</a>  <a id="20505" class="Symbol">(</a><a id="20506" href="Varieties.Preservation.html#20474" class="Bound">p</a> <a id="20508" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20510" href="Varieties.Preservation.html#20476" class="Bound">q</a><a id="20511" class="Symbol">)</a> <a id="20513" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20515" href="Varieties.EquationalLogic.html#3408" class="Function">Th</a> <a id="20518" href="Varieties.Preservation.html#20207" class="Function">ğ•</a>
 <a id="20521" href="Varieties.Preservation.html#20461" class="Function">class-ids</a> <a id="20531" href="Varieties.Preservation.html#20531" class="Bound">p</a> <a id="20533" href="Varieties.Preservation.html#20533" class="Bound">q</a> <a id="20535" href="Varieties.Preservation.html#20535" class="Bound">pKq</a> <a id="20539" href="Varieties.Preservation.html#20539" class="Bound">VCloA</a> <a id="20545" class="Symbol">=</a> <a id="20547" href="Varieties.Preservation.html#18377" class="Function">V-id1&#39;</a> <a id="20554" href="Varieties.Preservation.html#20531" class="Bound">p</a> <a id="20556" href="Varieties.Preservation.html#20533" class="Bound">q</a> <a id="20558" href="Varieties.Preservation.html#20535" class="Bound">pKq</a> <a id="20562" href="Varieties.Preservation.html#20539" class="Bound">VCloA</a>


 <a id="20571" href="Varieties.Preservation.html#20571" class="Function">class-ids-â‡</a> <a id="20583" class="Symbol">:</a> <a id="20585" class="Symbol">(</a><a id="20586" href="Varieties.Preservation.html#20586" class="Bound">p</a> <a id="20588" href="Varieties.Preservation.html#20588" class="Bound">q</a> <a id="20590" class="Symbol">:</a> <a id="20592" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="20594" href="Terms.Basic.html#3258" class="Function">ğ‘»</a> <a id="20596" href="Varieties.Preservation.html#20106" class="Bound">X</a> <a id="20598" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a><a id="20599" class="Symbol">)</a> <a id="20601" class="Symbol">â†’</a> <a id="20603" class="Symbol">(</a><a id="20604" href="Varieties.Preservation.html#20586" class="Bound">p</a> <a id="20606" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20608" href="Varieties.Preservation.html#20588" class="Bound">q</a><a id="20609" class="Symbol">)</a> <a id="20611" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20613" href="Varieties.EquationalLogic.html#3408" class="Function">Th</a> <a id="20616" href="Varieties.Preservation.html#20264" class="Function">ğ’±</a> <a id="20618" class="Symbol">â†’</a>  <a id="20621" href="Varieties.Preservation.html#20119" class="Bound">ğ’¦</a> <a id="20623" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="20625" href="Varieties.Preservation.html#20586" class="Bound">p</a> <a id="20627" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="20629" href="Varieties.Preservation.html#20588" class="Bound">q</a>
 <a id="20632" href="Varieties.Preservation.html#20571" class="Function">class-ids-â‡</a> <a id="20644" href="Varieties.Preservation.html#20644" class="Bound">p</a> <a id="20646" href="Varieties.Preservation.html#20646" class="Bound">q</a> <a id="20648" href="Varieties.Preservation.html#20648" class="Bound">Thpq</a> <a id="20653" class="Symbol">{</a><a id="20654" href="Varieties.Preservation.html#20654" class="Bound">ğ‘¨</a><a id="20655" class="Symbol">}</a> <a id="20657" href="Varieties.Preservation.html#20657" class="Bound">KA</a> <a id="20660" class="Symbol">=</a> <a id="20662" href="Varieties.Properties.html#4301" class="Function">âŠ§-lower-invar</a> <a id="20676" href="Varieties.Preservation.html#20079" class="Bound">wd</a> <a id="20679" href="Varieties.Preservation.html#20644" class="Bound">p</a> <a id="20681" href="Varieties.Preservation.html#20646" class="Bound">q</a> <a id="20683" class="Symbol">(</a><a id="20684" href="Varieties.Preservation.html#20648" class="Bound">Thpq</a> <a id="20689" class="Symbol">(</a><a id="20690" href="Varieties.Closure.html#5397" class="InductiveConstructor">vbase</a> <a id="20696" href="Varieties.Preservation.html#20657" class="Bound">KA</a><a id="20698" class="Symbol">))</a>


</pre>


Once again, and for the last time, completeness dictates that we formalize the coverse of `V-id1`, however obvious it may be.

<pre class="Agda">

<a id="20857" class="Keyword">module</a> <a id="20864" href="Varieties.Preservation.html#20864" class="Module">_</a> <a id="20866" class="Symbol">(</a><a id="20867" href="Varieties.Preservation.html#20867" class="Bound">wd</a> <a id="20870" class="Symbol">:</a> <a id="20872" href="Foundations.Welldefined.html#2946" class="Function">SwellDef</a><a id="20880" class="Symbol">){</a><a id="20882" href="Varieties.Preservation.html#20882" class="Bound">X</a> <a id="20884" class="Symbol">:</a> <a id="20886" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="20891" href="Varieties.Preservation.html#13326" class="Generalizable">ğ“§</a><a id="20892" class="Symbol">}{</a><a id="20894" href="Varieties.Preservation.html#20894" class="Bound">ğ’¦</a> <a id="20896" class="Symbol">:</a> <a id="20898" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20903" class="Symbol">(</a><a id="20904" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="20912" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="20914" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="20915" class="Symbol">)(</a><a id="20917" href="Algebras.Products.html#2981" class="Function">ov</a> <a id="20920" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="20921" class="Symbol">)}</a> <a id="20924" class="Keyword">where</a>

 <a id="20932" href="Varieties.Preservation.html#20932" class="Function">V-id2</a> <a id="20938" class="Symbol">:</a> <a id="20940" class="Symbol">(</a><a id="20941" href="Varieties.Preservation.html#20941" class="Bound">p</a> <a id="20943" href="Varieties.Preservation.html#20943" class="Bound">q</a> <a id="20945" class="Symbol">:</a> <a id="20947" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="20952" href="Varieties.Preservation.html#20882" class="Bound">X</a><a id="20953" class="Symbol">)</a> <a id="20955" class="Symbol">â†’</a> <a id="20957" class="Symbol">(</a><a id="20958" href="Varieties.Closure.html#5309" class="Datatype">V</a><a id="20959" class="Symbol">{</a><a id="20960" class="Argument">Î²</a> <a id="20962" class="Symbol">=</a> <a id="20964" href="Varieties.Preservation.html#3236" class="Generalizable">Î²</a><a id="20965" class="Symbol">}</a> <a id="20967" href="Varieties.Preservation.html#20894" class="Bound">ğ’¦</a> <a id="20969" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="20971" href="Varieties.Preservation.html#20941" class="Bound">p</a> <a id="20973" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="20975" href="Varieties.Preservation.html#20943" class="Bound">q</a><a id="20976" class="Symbol">)</a> <a id="20978" class="Symbol">â†’</a> <a id="20980" class="Symbol">(</a><a id="20981" href="Varieties.Preservation.html#20894" class="Bound">ğ’¦</a> <a id="20983" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="20985" href="Varieties.Preservation.html#20941" class="Bound">p</a> <a id="20987" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="20989" href="Varieties.Preservation.html#20943" class="Bound">q</a><a id="20990" class="Symbol">)</a>
 <a id="20993" href="Varieties.Preservation.html#20932" class="Function">V-id2</a> <a id="20999" href="Varieties.Preservation.html#20999" class="Bound">p</a> <a id="21001" href="Varieties.Preservation.html#21001" class="Bound">q</a> <a id="21003" href="Varieties.Preservation.html#21003" class="Bound">Vpq</a> <a id="21007" class="Symbol">{</a><a id="21008" href="Varieties.Preservation.html#21008" class="Bound">ğ‘¨</a><a id="21009" class="Symbol">}</a> <a id="21011" href="Varieties.Preservation.html#21011" class="Bound">KA</a> <a id="21014" class="Symbol">=</a> <a id="21016" href="Varieties.Properties.html#4301" class="Function">âŠ§-lower-invar</a> <a id="21030" href="Varieties.Preservation.html#20867" class="Bound">wd</a> <a id="21033" href="Varieties.Preservation.html#20999" class="Bound">p</a> <a id="21035" href="Varieties.Preservation.html#21001" class="Bound">q</a> <a id="21037" class="Symbol">(</a><a id="21038" href="Varieties.Preservation.html#21003" class="Bound">Vpq</a> <a id="21042" class="Symbol">(</a><a id="21043" href="Varieties.Closure.html#5397" class="InductiveConstructor">vbase</a> <a id="21049" href="Varieties.Preservation.html#21011" class="Bound">KA</a><a id="21051" class="Symbol">))</a>

</pre>


----------------------------

<span style="float:left;">[â† Varieties.Properties](Varieties.Properties.html)</span>
<span style="float:right;">[Varieties.FreeAlgebras â†’](Varieties.FreeAlgebras.html)</span>

{% include UALib.Links.md %}

[agda-algebras development team]: https://github.com/ualib/agda-algebras#the-agda-algebras-development-team

