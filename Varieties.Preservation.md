---
layout: default
title : "Varieties.Preservation (The Agda Universal Algebra Library)"
date : "2021-01-14"
author: "agda-algebras development team"
---

### <a id="Equation preservation">Equation preservation</a>

This is the [Varieties.Preservation][] module of the [Agda Universal Algebra Library][]. In this module we show that identities are preserved by closure operators H, S, and P.  This will establish the easy direction of Birkhoff's HSP Theorem.

<pre class="Agda">

<a id="476" class="Symbol">{-#</a> <a id="480" class="Keyword">OPTIONS</a> <a id="488" class="Pragma">--without-K</a> <a id="500" class="Pragma">--exact-split</a> <a id="514" class="Pragma">--safe</a> <a id="521" class="Symbol">#-}</a>

<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="Algebras.Basic.html" class="Module">Algebras.Basic</a> <a id="553" class="Keyword">using</a> <a id="559" class="Symbol">(</a> <a id="561" href="Algebras.Basic.html#1142" class="Generalizable">ğ“</a> <a id="563" class="Symbol">;</a> <a id="565" href="Algebras.Basic.html#1144" class="Generalizable">ğ“¥</a> <a id="567" class="Symbol">;</a> <a id="569" href="Algebras.Basic.html#3870" class="Function">Signature</a> <a id="579" class="Symbol">)</a>

<a id="582" class="Keyword">module</a> <a id="589" href="Varieties.Preservation.html" class="Module">Varieties.Preservation</a> <a id="612" class="Symbol">{</a><a id="613" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a> <a id="615" class="Symbol">:</a> <a id="617" href="Algebras.Basic.html#3870" class="Function">Signature</a> <a id="627" href="Algebras.Basic.html#1142" class="Generalizable">ğ“</a> <a id="629" href="Algebras.Basic.html#1144" class="Generalizable">ğ“¥</a><a id="630" class="Symbol">}</a> <a id="632" class="Keyword">where</a>

<a id="639" class="Comment">-- Imports from Agda and the Agda Standard Library -----------------------------------------------</a>
<a id="738" class="Keyword">open</a> <a id="743" class="Keyword">import</a> <a id="750" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>  <a id="766" class="Keyword">using</a> <a id="772" class="Symbol">(</a> <a id="774" href="Agda.Primitive.html#810" class="Primitive Operator">_âŠ”_</a> <a id="778" class="Symbol">;</a> <a id="780" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="785" class="Symbol">;</a> <a id="787" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="793" class="Symbol">)</a> <a id="795" class="Keyword">renaming</a> <a id="804" class="Symbol">(</a> <a id="806" href="Agda.Primitive.html#326" class="Primitive">Set</a>   <a id="812" class="Symbol">to</a> <a id="815" class="Primitive">Type</a> <a id="820" class="Symbol">)</a>
<a id="822" class="Keyword">open</a> <a id="827" class="Keyword">import</a> <a id="834" href="Axiom.Extensionality.Propositional.html" class="Module">Axiom.Extensionality.Propositional</a>
                            <a id="897" class="Keyword">using</a> <a id="903" class="Symbol">()</a> <a id="906" class="Keyword">renaming</a> <a id="915" class="Symbol">(</a><a id="916" href="Axiom.Extensionality.Propositional.html#741" class="Function">Extensionality</a> <a id="931" class="Symbol">to</a> <a id="934" class="Function">funext</a><a id="940" class="Symbol">)</a>
<a id="942" class="Keyword">open</a> <a id="947" class="Keyword">import</a> <a id="954" href="Data.Product.html" class="Module">Data.Product</a>    <a id="970" class="Keyword">using</a> <a id="976" class="Symbol">(</a> <a id="978" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="982" class="Symbol">;</a> <a id="984" href="Data.Product.html#916" class="Function">Î£-syntax</a> <a id="993" class="Symbol">;</a> <a id="995" href="Data.Product.html#1167" class="Function Operator">_Ã—_</a> <a id="999" class="Symbol">)</a> <a id="1001" class="Keyword">renaming</a> <a id="1010" class="Symbol">(</a> <a id="1012" href="Agda.Builtin.Sigma.html#252" class="Field">projâ‚</a> <a id="1018" class="Symbol">to</a> <a id="1021" class="Field">fst</a> <a id="1025" class="Symbol">;</a> <a id="1027" href="Agda.Builtin.Sigma.html#264" class="Field">projâ‚‚</a> <a id="1033" class="Symbol">to</a> <a id="1036" class="Field">snd</a> <a id="1040" class="Symbol">)</a>
<a id="1042" class="Keyword">open</a> <a id="1047" class="Keyword">import</a> <a id="1054" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a>   <a id="1070" class="Keyword">using</a> <a id="1076" class="Symbol">(</a> <a id="1078" href="Data.Sum.Base.html#734" class="Datatype Operator">_âŠ_</a> <a id="1082" class="Symbol">)</a> <a id="1084" class="Keyword">renaming</a> <a id="1093" class="Symbol">(</a> <a id="1095" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ‚</a>  <a id="1101" class="Symbol">to</a> <a id="1104" class="InductiveConstructor">inl</a> <a id="1108" class="Symbol">;</a> <a id="1110" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ‚‚</a>  <a id="1116" class="Symbol">to</a> <a id="1119" class="InductiveConstructor">inr</a> <a id="1123" class="Symbol">)</a>
<a id="1125" class="Keyword">open</a> <a id="1130" class="Keyword">import</a> <a id="1137" href="Function.Base.html" class="Module">Function.Base</a>   <a id="1153" class="Keyword">using</a> <a id="1159" class="Symbol">(</a> <a id="1161" href="Function.Base.html#1031" class="Function Operator">_âˆ˜_</a> <a id="1165" class="Symbol">)</a>
<a id="1167" class="Keyword">open</a> <a id="1172" class="Keyword">import</a> <a id="1179" href="Relation.Unary.html" class="Module">Relation.Unary</a>  <a id="1195" class="Keyword">using</a> <a id="1201" class="Symbol">(</a> <a id="1203" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="1208" class="Symbol">;</a> <a id="1210" href="Relation.Unary.html#1742" class="Function Operator">_âŠ†_</a> <a id="1214" class="Symbol">;</a> <a id="1216" href="Relation.Unary.html#1523" class="Function Operator">_âˆˆ_</a> <a id="1220" class="Symbol">;</a> <a id="1222" href="Relation.Unary.html#1335" class="Function Operator">ï½›_ï½</a> <a id="1226" class="Symbol">;</a> <a id="1228" href="Relation.Unary.html#4417" class="Function Operator">_âˆª_</a> <a id="1232" class="Symbol">)</a>
<a id="1234" class="Keyword">open</a> <a id="1239" class="Keyword">import</a> <a id="1246" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
                            <a id="1312" class="Keyword">using</a> <a id="1318" class="Symbol">(</a> <a id="1320" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_â‰¡_</a> <a id="1324" class="Symbol">;</a> <a id="1326" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1331" class="Symbol">;</a> <a id="1333" class="Keyword">module</a> <a id="1340" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">â‰¡-Reasoning</a> <a id="1352" class="Symbol">;</a> <a id="1354" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="1363" class="Symbol">;</a> <a id="1365" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1370" class="Symbol">)</a>

<a id="1373" class="Comment">-- Imports from the Agda Universal Algebra Library ---------------------------------------------</a>
<a id="1470" class="Keyword">open</a> <a id="1475" class="Keyword">import</a> <a id="1482" href="Overture.Preliminaries.html" class="Module">Overture.Preliminaries</a>             <a id="1517" class="Keyword">using</a> <a id="1523" class="Symbol">(</a> <a id="1525" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£_âˆ£</a> <a id="1529" class="Symbol">;</a> <a id="1531" href="Overture.Preliminaries.html#4417" class="Function Operator">âˆ¥_âˆ¥</a> <a id="1535" class="Symbol">;</a> <a id="1537" href="Overture.Preliminaries.html#5082" class="Function Operator">_â»Â¹</a> <a id="1541" class="Symbol">)</a>
<a id="1543" class="Keyword">open</a> <a id="1548" class="Keyword">import</a> <a id="1555" href="Overture.Inverses.html" class="Module">Overture.Inverses</a>                  <a id="1590" class="Keyword">using</a> <a id="1596" class="Symbol">(</a> <a id="1598" href="Overture.Inverses.html#1923" class="Function">Inv</a> <a id="1602" class="Symbol">;</a> <a id="1604" href="Overture.Inverses.html#2501" class="Function">IsInjective</a> <a id="1616" class="Symbol">;</a> <a id="1618" href="Overture.Inverses.html#2084" class="Function">InvIsInv</a> <a id="1627" class="Symbol">)</a>
<a id="1629" class="Keyword">open</a> <a id="1634" class="Keyword">import</a> <a id="1641" href="Equality.Welldefined.html" class="Module">Equality.Welldefined</a>               <a id="1676" class="Keyword">using</a> <a id="1682" class="Symbol">(</a> <a id="1684" href="Equality.Welldefined.html#2944" class="Function">SwellDef</a> <a id="1693" class="Symbol">)</a>
<a id="1695" class="Keyword">open</a> <a id="1700" class="Keyword">import</a> <a id="1707" href="Equality.Truncation.html" class="Module">Equality.Truncation</a>                <a id="1742" class="Keyword">using</a> <a id="1748" class="Symbol">(</a> <a id="1750" href="Equality.Truncation.html#3959" class="Function">hfunext</a> <a id="1758" class="Symbol">)</a>
<a id="1760" class="Keyword">open</a> <a id="1765" class="Keyword">import</a> <a id="1772" href="Equality.Extensionality.html" class="Module">Equality.Extensionality</a>            <a id="1807" class="Keyword">using</a> <a id="1813" class="Symbol">(</a> <a id="1815" href="Equality.Extensionality.html#2455" class="Function">DFunExt</a> <a id="1823" class="Symbol">)</a>
<a id="1825" class="Keyword">open</a> <a id="1830" class="Keyword">import</a> <a id="1837" href="Algebras.Basic.html" class="Module">Algebras.Basic</a>                     <a id="1872" class="Keyword">using</a> <a id="1878" class="Symbol">(</a> <a id="1880" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="1888" class="Symbol">;</a> <a id="1890" href="Algebras.Basic.html#10870" class="Function">Lift-Alg</a> <a id="1899" class="Symbol">)</a>
<a id="1901" class="Keyword">open</a> <a id="1906" class="Keyword">import</a> <a id="1913" href="Algebras.Products.html" class="Module">Algebras.Products</a>          <a id="1940" class="Symbol">{</a><a id="1941" class="Argument">ğ‘†</a> <a id="1943" class="Symbol">=</a> <a id="1945" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="1946" class="Symbol">}</a> <a id="1948" class="Keyword">using</a> <a id="1954" class="Symbol">(</a> <a id="1956" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="1959" class="Symbol">;</a> <a id="1961" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="1963" class="Symbol">;</a> <a id="1965" href="Algebras.Products.html#5304" class="Function">ğ”„</a> <a id="1967" class="Symbol">;</a> <a id="1969" href="Algebras.Products.html#5451" class="Function">class-product</a><a id="1982" class="Symbol">)</a>
<a id="1984" class="Keyword">open</a> <a id="1989" class="Keyword">import</a> <a id="1996" href="Homomorphisms.Basic.html" class="Module">Homomorphisms.Basic</a>        <a id="2023" class="Symbol">{</a><a id="2024" class="Argument">ğ‘†</a> <a id="2026" class="Symbol">=</a> <a id="2028" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2029" class="Symbol">}</a> <a id="2031" class="Keyword">using</a> <a id="2037" class="Symbol">(</a> <a id="2039" href="Homomorphisms.Basic.html#3035" class="Function">is-homomorphism</a> <a id="2055" class="Symbol">)</a>
<a id="2057" class="Keyword">open</a> <a id="2062" class="Keyword">import</a> <a id="2069" href="Homomorphisms.Isomorphisms.html" class="Module">Homomorphisms.Isomorphisms</a> <a id="2096" class="Symbol">{</a><a id="2097" class="Argument">ğ‘†</a> <a id="2099" class="Symbol">=</a> <a id="2101" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2102" class="Symbol">}</a> <a id="2104" class="Keyword">using</a> <a id="2110" class="Symbol">(</a> <a id="2112" href="Homomorphisms.Isomorphisms.html#2280" class="Record Operator">_â‰…_</a> <a id="2116" class="Symbol">;</a> <a id="2118" href="Homomorphisms.Isomorphisms.html#2911" class="Function">â‰…-sym</a> <a id="2124" class="Symbol">;</a> <a id="2126" href="Homomorphisms.Isomorphisms.html#4355" class="Function">Lift-â‰…</a> <a id="2133" class="Symbol">;</a> <a id="2135" href="Homomorphisms.Isomorphisms.html#3000" class="Function">â‰…-trans</a> <a id="2143" class="Symbol">;</a> <a id="2145" href="Homomorphisms.Isomorphisms.html#5677" class="Function">â¨…â‰…</a> <a id="2148" class="Symbol">;</a> <a id="2150" href="Homomorphisms.Isomorphisms.html#2821" class="Function">â‰…-refl</a>
                                                     <a id="2210" class="Symbol">;</a> <a id="2212" href="Homomorphisms.Isomorphisms.html#4674" class="Function">Lift-Alg-iso</a> <a id="2225" class="Symbol">;</a> <a id="2227" href="Homomorphisms.Isomorphisms.html#5096" class="Function">Lift-Alg-assoc</a> <a id="2242" class="Symbol">)</a>
<a id="2244" class="Keyword">open</a> <a id="2249" class="Keyword">import</a> <a id="2256" href="Terms.Basic.html" class="Module">Terms.Basic</a>                <a id="2283" class="Symbol">{</a><a id="2284" class="Argument">ğ‘†</a> <a id="2286" class="Symbol">=</a> <a id="2288" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2289" class="Symbol">}</a> <a id="2291" class="Keyword">using</a> <a id="2297" class="Symbol">(</a> <a id="2299" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="2304" class="Symbol">;</a> <a id="2306" href="Terms.Basic.html#3263" class="Function">ğ‘»</a> <a id="2308" class="Symbol">)</a>
<a id="2310" class="Keyword">open</a> <a id="2315" class="Keyword">import</a> <a id="2322" href="Terms.Operations.html" class="Module">Terms.Operations</a>           <a id="2349" class="Symbol">{</a><a id="2350" class="Argument">ğ‘†</a> <a id="2352" class="Symbol">=</a> <a id="2354" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2355" class="Symbol">}</a> <a id="2357" class="Keyword">using</a> <a id="2363" class="Symbol">(</a> <a id="2365" href="Terms.Operations.html#2577" class="Function Operator">_âŸ¦_âŸ§</a><a id="2369" class="Symbol">;</a> <a id="2371" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a><a id="2384" class="Symbol">)</a>
<a id="2386" class="Keyword">open</a> <a id="2391" class="Keyword">import</a> <a id="2398" href="Subalgebras.Subalgebras.html" class="Module">Subalgebras.Subalgebras</a>    <a id="2425" class="Symbol">{</a><a id="2426" class="Argument">ğ‘†</a> <a id="2428" class="Symbol">=</a> <a id="2430" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2431" class="Symbol">}</a> <a id="2433" class="Keyword">using</a> <a id="2439" class="Symbol">(</a> <a id="2441" href="Subalgebras.Subalgebras.html#2483" class="Function Operator">_â‰¤_</a> <a id="2445" class="Symbol">;</a> <a id="2447" href="Subalgebras.Subalgebras.html#2525" class="Function Operator">_IsSubalgebraOf_</a> <a id="2464" class="Symbol">;</a> <a id="2466" href="Subalgebras.Subalgebras.html#6041" class="Function Operator">_IsSubalgebraOfClass_</a>
                                                     <a id="2541" class="Symbol">;</a> <a id="2543" href="Subalgebras.Subalgebras.html#6392" class="Function">SubalgebraOfClass</a> <a id="2561" class="Symbol">)</a>
<a id="2563" class="Keyword">open</a> <a id="2568" class="Keyword">import</a> <a id="2575" href="Subalgebras.Properties.html" class="Module">Subalgebras.Properties</a>     <a id="2602" class="Symbol">{</a><a id="2603" class="Argument">ğ‘†</a> <a id="2605" class="Symbol">=</a> <a id="2607" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2608" class="Symbol">}</a> <a id="2610" class="Keyword">using</a> <a id="2616" class="Symbol">(</a> <a id="2618" href="Subalgebras.Properties.html#5807" class="Function">â‰¤-Lift</a> <a id="2625" class="Symbol">;</a> <a id="2627" href="Subalgebras.Properties.html#6057" class="Function">Lift-â‰¤-Lift</a> <a id="2639" class="Symbol">)</a>
<a id="2641" class="Keyword">open</a> <a id="2646" class="Keyword">import</a> <a id="2653" href="Varieties.EquationalLogic.html" class="Module">Varieties.EquationalLogic</a>  <a id="2680" class="Symbol">{</a><a id="2681" class="Argument">ğ‘†</a> <a id="2683" class="Symbol">=</a> <a id="2685" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2686" class="Symbol">}</a> <a id="2688" class="Keyword">using</a> <a id="2694" class="Symbol">(</a> <a id="2696" href="Varieties.EquationalLogic.html#2716" class="Function Operator">_âŠ«_â‰ˆ_</a> <a id="2702" class="Symbol">;</a> <a id="2704" href="Varieties.EquationalLogic.html#2638" class="Function Operator">_âŠ§_â‰ˆ_</a> <a id="2710" class="Symbol">;</a> <a id="2712" href="Varieties.EquationalLogic.html#3442" class="Function">Th</a><a id="2714" class="Symbol">)</a>
<a id="2716" class="Keyword">open</a> <a id="2721" class="Keyword">import</a> <a id="2728" href="Varieties.Properties.html" class="Module">Varieties.Properties</a>       <a id="2755" class="Symbol">{</a><a id="2756" class="Argument">ğ‘†</a> <a id="2758" class="Symbol">=</a> <a id="2760" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2761" class="Symbol">}</a> <a id="2763" class="Keyword">using</a> <a id="2769" class="Symbol">(</a> <a id="2771" href="Varieties.Properties.html#4086" class="Function">âŠ§-Lift-invar</a> <a id="2784" class="Symbol">;</a> <a id="2786" href="Varieties.Properties.html#4220" class="Function">âŠ§-lower-invar</a> <a id="2800" class="Symbol">;</a> <a id="2802" href="Varieties.Properties.html#5373" class="Function">âŠ§-S-class-invar</a>
                                                     <a id="2871" class="Symbol">;</a> <a id="2873" href="Varieties.Properties.html#3143" class="Function">âŠ§-I-invar</a> <a id="2883" class="Symbol">;</a> <a id="2885" href="Varieties.Properties.html#7156" class="Function">âŠ§-P-lift-invar</a> <a id="2900" class="Symbol">;</a> <a id="2902" href="Varieties.Properties.html#6069" class="Function">âŠ§-P-invar</a> <a id="2912" class="Symbol">;</a> <a id="2914" href="Varieties.Properties.html#4646" class="Function">âŠ§-S-invar</a><a id="2923" class="Symbol">)</a>
<a id="2925" class="Keyword">open</a> <a id="2930" class="Keyword">import</a> <a id="2937" href="Varieties.Closure.html" class="Module">Varieties.Closure</a>          <a id="2964" class="Symbol">{</a><a id="2965" class="Argument">ğ‘†</a> <a id="2967" class="Symbol">=</a> <a id="2969" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2970" class="Symbol">}</a> <a id="2972" class="Keyword">using</a> <a id="2978" class="Symbol">(</a> <a id="2980" href="Varieties.Closure.html#3323" class="Datatype">H</a> <a id="2982" class="Symbol">;</a> <a id="2984" href="Varieties.Closure.html#3774" class="Datatype">S</a> <a id="2986" class="Symbol">;</a> <a id="2988" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="2990" class="Symbol">;</a> <a id="2992" href="Varieties.Closure.html#5316" class="Datatype">V</a> <a id="2994" class="Symbol">;</a> <a id="2996" href="Varieties.Closure.html#9503" class="Function">P-expa</a> <a id="3003" class="Symbol">;</a> <a id="3005" href="Varieties.Closure.html#7848" class="Function">Sâ†’subalgebra</a>
                                                     <a id="3071" class="Symbol">;</a> <a id="3073" href="Varieties.Closure.html#10810" class="Function">Lift-Alg-subP&#39;</a> <a id="3088" class="Symbol">;</a> <a id="3090" href="Varieties.Closure.html#7476" class="Function">subalgebraâ†’S</a> <a id="3103" class="Symbol">;</a> <a id="3105" href="Varieties.Closure.html#6897" class="Function">S-mono</a>
                                                     <a id="3165" class="Symbol">;</a> <a id="3167" href="Varieties.Closure.html#9666" class="Function">P-idemp</a> <a id="3175" class="Symbol">;</a> <a id="3177" class="Keyword">module</a> <a id="3184" href="Varieties.Closure.html#11720" class="Module">Vlift</a><a id="3189" class="Symbol">)</a>
<a id="3191" class="Keyword">open</a> <a id="3196" href="Varieties.Closure.html#3323" class="Module">H</a>
<a id="3198" class="Keyword">open</a> <a id="3203" href="Varieties.Closure.html#3774" class="Module">S</a>
<a id="3205" class="Keyword">open</a> <a id="3210" href="Varieties.Closure.html#4358" class="Module">P</a>
<a id="3212" class="Keyword">open</a> <a id="3217" href="Varieties.Closure.html#5316" class="Module">V</a>

<a id="3220" class="Keyword">private</a> <a id="3228" class="Keyword">variable</a> <a id="3237" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a> <a id="3239" href="Varieties.Preservation.html#3239" class="Generalizable">Î²</a> <a id="3241" class="Symbol">:</a> <a id="3243" href="Agda.Primitive.html#597" class="Postulate">Level</a>

</pre>



#### <a id="closure-properties">Closure properties</a>

The types defined above represent operators with useful closure properties. We now prove a handful of such properties that we need later.

The next lemma would be too obvious to care about were it not for the fact that we'll need it later, so it too must be formalized.

<pre class="Agda">

<a id="SâŠ†SP"></a><a id="3605" href="Varieties.Preservation.html#3605" class="Function">SâŠ†SP</a> <a id="3610" class="Symbol">:</a> <a id="3612" class="Symbol">(</a><a id="3613" href="Varieties.Preservation.html#3613" class="Bound">ğ’¦</a> <a id="3615" class="Symbol">:</a> <a id="3617" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3622" class="Symbol">(</a><a id="3623" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="3631" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a> <a id="3633" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="3634" class="Symbol">)(</a><a id="3636" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="3639" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a><a id="3640" class="Symbol">))</a>
 <a id="3644" class="Symbol">â†’</a>     <a id="3650" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="3651" class="Symbol">{</a><a id="3652" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a><a id="3653" class="Symbol">}{</a><a id="3655" href="Varieties.Preservation.html#3239" class="Generalizable">Î²</a><a id="3656" class="Symbol">}</a> <a id="3658" href="Varieties.Preservation.html#3613" class="Bound">ğ’¦</a> <a id="3660" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="3662" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="3663" class="Symbol">{</a><a id="3664" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a> <a id="3666" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3668" href="Varieties.Preservation.html#3239" class="Generalizable">Î²</a><a id="3669" class="Symbol">}{</a><a id="3671" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a> <a id="3673" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3675" href="Varieties.Preservation.html#3239" class="Generalizable">Î²</a><a id="3676" class="Symbol">}</a> <a id="3678" class="Symbol">(</a><a id="3679" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="3680" class="Symbol">{</a><a id="3681" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a><a id="3682" class="Symbol">}{</a><a id="3684" href="Varieties.Preservation.html#3239" class="Generalizable">Î²</a><a id="3685" class="Symbol">}</a> <a id="3687" href="Varieties.Preservation.html#3613" class="Bound">ğ’¦</a><a id="3688" class="Symbol">)</a>

<a id="3691" href="Varieties.Preservation.html#3605" class="Function">SâŠ†SP</a> <a id="3696" class="Symbol">{</a><a id="3697" href="Varieties.Preservation.html#3697" class="Bound">Î±</a><a id="3698" class="Symbol">}</a> <a id="3700" class="Symbol">{</a><a id="3701" href="Varieties.Preservation.html#3701" class="Bound">Î²</a><a id="3702" class="Symbol">}</a> <a id="3704" href="Varieties.Preservation.html#3704" class="Bound">ğ’¦</a> <a id="3706" class="Symbol">{</a><a id="3707" class="DottedPattern Symbol">.(</a><a id="3709" href="Algebras.Basic.html#10870" class="DottedPattern Function">Lift-Alg</a> <a id="3718" href="Varieties.Preservation.html#3730" class="DottedPattern Bound">ğ‘¨</a> <a id="3720" href="Varieties.Preservation.html#3701" class="DottedPattern Bound">Î²</a><a id="3721" class="DottedPattern Symbol">)</a><a id="3722" class="Symbol">}(</a><a id="3724" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a><a id="3729" class="Symbol">{</a><a id="3730" href="Varieties.Preservation.html#3730" class="Bound">ğ‘¨</a><a id="3731" class="Symbol">}</a> <a id="3733" href="Varieties.Preservation.html#3733" class="Bound">x</a><a id="3734" class="Symbol">)</a> <a id="3736" class="Symbol">=</a> <a id="3738" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a> <a id="3743" href="Varieties.Preservation.html#3836" class="Function">spllA</a><a id="3748" class="Symbol">(</a><a id="3749" href="Homomorphisms.Isomorphisms.html#2911" class="Function">â‰…-sym</a> <a id="3755" href="Homomorphisms.Isomorphisms.html#4355" class="Function">Lift-â‰…</a><a id="3761" class="Symbol">)</a>
 <a id="3764" class="Keyword">where</a>
 <a id="3771" href="Varieties.Preservation.html#3771" class="Function">llA</a> <a id="3775" class="Symbol">:</a> <a id="3777" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="3785" class="Symbol">(</a><a id="3786" href="Varieties.Preservation.html#3697" class="Bound">Î±</a> <a id="3788" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3790" href="Varieties.Preservation.html#3701" class="Bound">Î²</a><a id="3791" class="Symbol">)</a> <a id="3793" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a>
 <a id="3796" href="Varieties.Preservation.html#3771" class="Function">llA</a> <a id="3800" class="Symbol">=</a> <a id="3802" href="Algebras.Basic.html#10870" class="Function">Lift-Alg</a> <a id="3811" class="Symbol">(</a><a id="3812" href="Algebras.Basic.html#10870" class="Function">Lift-Alg</a> <a id="3821" href="Varieties.Preservation.html#3730" class="Bound">ğ‘¨</a> <a id="3823" href="Varieties.Preservation.html#3701" class="Bound">Î²</a><a id="3824" class="Symbol">)</a> <a id="3826" class="Symbol">(</a><a id="3827" href="Varieties.Preservation.html#3697" class="Bound">Î±</a> <a id="3829" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3831" href="Varieties.Preservation.html#3701" class="Bound">Î²</a><a id="3832" class="Symbol">)</a>

 <a id="3836" href="Varieties.Preservation.html#3836" class="Function">spllA</a> <a id="3842" class="Symbol">:</a> <a id="3844" href="Varieties.Preservation.html#3771" class="Function">llA</a> <a id="3848" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="3850" href="Varieties.Closure.html#3774" class="Datatype">S</a> <a id="3852" class="Symbol">(</a><a id="3853" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="3855" href="Varieties.Preservation.html#3704" class="Bound">ğ’¦</a><a id="3856" class="Symbol">)</a>
 <a id="3859" href="Varieties.Preservation.html#3836" class="Function">spllA</a> <a id="3865" class="Symbol">=</a> <a id="3867" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a><a id="3872" class="Symbol">{</a><a id="3873" href="Varieties.Preservation.html#3697" class="Bound">Î±</a> <a id="3875" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3877" href="Varieties.Preservation.html#3701" class="Bound">Î²</a><a id="3878" class="Symbol">}{</a><a id="3880" href="Varieties.Preservation.html#3697" class="Bound">Î±</a> <a id="3882" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3884" href="Varieties.Preservation.html#3701" class="Bound">Î²</a><a id="3885" class="Symbol">}</a> <a id="3887" class="Symbol">(</a><a id="3888" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="3894" href="Varieties.Preservation.html#3733" class="Bound">x</a><a id="3895" class="Symbol">)</a>

<a id="3898" href="Varieties.Preservation.html#3605" class="Function">SâŠ†SP</a> <a id="3903" class="Symbol">{</a><a id="3904" href="Varieties.Preservation.html#3904" class="Bound">Î±</a><a id="3905" class="Symbol">}</a> <a id="3907" class="Symbol">{</a><a id="3908" href="Varieties.Preservation.html#3908" class="Bound">Î²</a><a id="3909" class="Symbol">}</a> <a id="3911" href="Varieties.Preservation.html#3911" class="Bound">ğ’¦</a> <a id="3913" class="Symbol">{</a><a id="3914" class="DottedPattern Symbol">.(</a><a id="3916" href="Algebras.Basic.html#10870" class="DottedPattern Function">Lift-Alg</a> <a id="3925" href="Varieties.Preservation.html#3937" class="DottedPattern Bound">ğ‘¨</a> <a id="3927" href="Varieties.Preservation.html#3908" class="DottedPattern Bound">Î²</a><a id="3928" class="DottedPattern Symbol">)</a><a id="3929" class="Symbol">}(</a><a id="3931" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a><a id="3936" class="Symbol">{</a><a id="3937" href="Varieties.Preservation.html#3937" class="Bound">ğ‘¨</a><a id="3938" class="Symbol">}</a> <a id="3940" href="Varieties.Preservation.html#3940" class="Bound">x</a><a id="3941" class="Symbol">)</a> <a id="3943" class="Symbol">=</a> <a id="3945" href="Varieties.Closure.html#7476" class="Function">subalgebraâ†’S</a> <a id="3958" href="Varieties.Preservation.html#4095" class="Function">lAsc</a>
 <a id="3964" class="Keyword">where</a>
 <a id="3971" href="Varieties.Preservation.html#3971" class="Function">splAu</a> <a id="3977" class="Symbol">:</a> <a id="3979" href="Varieties.Preservation.html#3937" class="Bound">ğ‘¨</a> <a id="3981" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="3983" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="3984" class="Symbol">(</a><a id="3985" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="3987" href="Varieties.Preservation.html#3911" class="Bound">ğ’¦</a><a id="3988" class="Symbol">)</a>
 <a id="3991" href="Varieties.Preservation.html#3971" class="Function">splAu</a> <a id="3997" class="Symbol">=</a> <a id="3999" href="Varieties.Preservation.html#3605" class="Function">SâŠ†SP</a><a id="4003" class="Symbol">{</a><a id="4004" href="Varieties.Preservation.html#3904" class="Bound">Î±</a><a id="4005" class="Symbol">}{</a><a id="4007" href="Varieties.Preservation.html#3904" class="Bound">Î±</a><a id="4008" class="Symbol">}</a> <a id="4010" href="Varieties.Preservation.html#3911" class="Bound">ğ’¦</a> <a id="4012" href="Varieties.Preservation.html#3940" class="Bound">x</a>

 <a id="4016" href="Varieties.Preservation.html#4016" class="Function">Asc</a> <a id="4020" class="Symbol">:</a> <a id="4022" href="Varieties.Preservation.html#3937" class="Bound">ğ‘¨</a> <a id="4024" href="Subalgebras.Subalgebras.html#6041" class="Function Operator">IsSubalgebraOfClass</a> <a id="4044" class="Symbol">(</a><a id="4045" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="4047" href="Varieties.Preservation.html#3911" class="Bound">ğ’¦</a><a id="4048" class="Symbol">)</a>
 <a id="4051" href="Varieties.Preservation.html#4016" class="Function">Asc</a> <a id="4055" class="Symbol">=</a> <a id="4057" href="Varieties.Closure.html#7848" class="Function">Sâ†’subalgebra</a><a id="4069" class="Symbol">{</a><a id="4070" href="Varieties.Preservation.html#3904" class="Bound">Î±</a><a id="4071" class="Symbol">}{</a><a id="4073" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="4074" class="Symbol">{</a><a id="4075" href="Varieties.Preservation.html#3904" class="Bound">Î±</a><a id="4076" class="Symbol">}{</a><a id="4078" href="Varieties.Preservation.html#3904" class="Bound">Î±</a><a id="4079" class="Symbol">}</a> <a id="4081" href="Varieties.Preservation.html#3911" class="Bound">ğ’¦</a><a id="4082" class="Symbol">}{</a><a id="4084" href="Varieties.Preservation.html#3937" class="Bound">ğ‘¨</a><a id="4085" class="Symbol">}</a> <a id="4087" href="Varieties.Preservation.html#3971" class="Function">splAu</a>

 <a id="4095" href="Varieties.Preservation.html#4095" class="Function">lAsc</a> <a id="4100" class="Symbol">:</a> <a id="4102" class="Symbol">(</a><a id="4103" href="Algebras.Basic.html#10870" class="Function">Lift-Alg</a> <a id="4112" href="Varieties.Preservation.html#3937" class="Bound">ğ‘¨</a> <a id="4114" href="Varieties.Preservation.html#3908" class="Bound">Î²</a><a id="4115" class="Symbol">)</a> <a id="4117" href="Subalgebras.Subalgebras.html#6041" class="Function Operator">IsSubalgebraOfClass</a> <a id="4137" class="Symbol">(</a><a id="4138" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="4140" href="Varieties.Preservation.html#3911" class="Bound">ğ’¦</a><a id="4141" class="Symbol">)</a>
 <a id="4144" href="Varieties.Preservation.html#4095" class="Function">lAsc</a> <a id="4149" class="Symbol">=</a> <a id="4151" href="Varieties.Closure.html#10810" class="Function">Lift-Alg-subP&#39;</a> <a id="4166" href="Varieties.Preservation.html#4016" class="Function">Asc</a>
<a id="4170" href="Varieties.Preservation.html#3605" class="Function">SâŠ†SP</a> <a id="4175" class="Symbol">{</a><a id="4176" href="Varieties.Preservation.html#4176" class="Bound">Î±</a><a id="4177" class="Symbol">}</a> <a id="4179" class="Symbol">{</a><a id="4180" href="Varieties.Preservation.html#4180" class="Bound">Î²</a><a id="4181" class="Symbol">}</a> <a id="4183" href="Varieties.Preservation.html#4183" class="Bound">ğ’¦</a> <a id="4185" class="Symbol">{</a><a id="4186" href="Varieties.Preservation.html#4186" class="Bound">ğ‘©</a><a id="4187" class="Symbol">}(</a><a id="4189" href="Varieties.Closure.html#3982" class="InductiveConstructor">ssub</a><a id="4193" class="Symbol">{</a><a id="4194" href="Varieties.Preservation.html#4194" class="Bound">ğ‘¨</a><a id="4195" class="Symbol">}</a> <a id="4197" href="Varieties.Preservation.html#4197" class="Bound">sA</a> <a id="4200" href="Varieties.Preservation.html#4200" class="Bound">Bâ‰¤A</a><a id="4203" class="Symbol">)</a> <a id="4205" class="Symbol">=</a> <a id="4207" href="Varieties.Closure.html#3982" class="InductiveConstructor">ssub</a> <a id="4212" class="Symbol">(</a><a id="4213" href="Varieties.Closure.html#7476" class="Function">subalgebraâ†’S</a> <a id="4226" href="Varieties.Preservation.html#4433" class="Function">lAsc</a><a id="4230" class="Symbol">)</a> <a id="4232" class="Symbol">(</a><a id="4233" href="Subalgebras.Properties.html#5807" class="Function">â‰¤-Lift</a> <a id="4240" href="Varieties.Preservation.html#4194" class="Bound">ğ‘¨</a> <a id="4242" href="Varieties.Preservation.html#4200" class="Bound">Bâ‰¤A</a> <a id="4246" class="Symbol">)</a>
 <a id="4249" class="Keyword">where</a>
  <a id="4257" href="Varieties.Preservation.html#4257" class="Function">lA</a> <a id="4260" class="Symbol">:</a> <a id="4262" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="4270" class="Symbol">(</a><a id="4271" href="Varieties.Preservation.html#4176" class="Bound">Î±</a> <a id="4273" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4275" href="Varieties.Preservation.html#4180" class="Bound">Î²</a><a id="4276" class="Symbol">)</a> <a id="4278" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a>
  <a id="4282" href="Varieties.Preservation.html#4257" class="Function">lA</a> <a id="4285" class="Symbol">=</a> <a id="4287" href="Algebras.Basic.html#10870" class="Function">Lift-Alg</a> <a id="4296" href="Varieties.Preservation.html#4194" class="Bound">ğ‘¨</a> <a id="4298" href="Varieties.Preservation.html#4180" class="Bound">Î²</a>

  <a id="4303" href="Varieties.Preservation.html#4303" class="Function">splAu</a> <a id="4309" class="Symbol">:</a> <a id="4311" href="Varieties.Preservation.html#4194" class="Bound">ğ‘¨</a> <a id="4313" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="4315" href="Varieties.Closure.html#3774" class="Datatype">S</a> <a id="4317" class="Symbol">(</a><a id="4318" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="4320" href="Varieties.Preservation.html#4183" class="Bound">ğ’¦</a><a id="4321" class="Symbol">)</a>
  <a id="4325" href="Varieties.Preservation.html#4303" class="Function">splAu</a> <a id="4331" class="Symbol">=</a> <a id="4333" href="Varieties.Preservation.html#3605" class="Function">SâŠ†SP</a><a id="4337" class="Symbol">{</a><a id="4338" href="Varieties.Preservation.html#4176" class="Bound">Î±</a><a id="4339" class="Symbol">}{</a><a id="4341" href="Varieties.Preservation.html#4176" class="Bound">Î±</a><a id="4342" class="Symbol">}</a> <a id="4344" href="Varieties.Preservation.html#4183" class="Bound">ğ’¦</a> <a id="4346" href="Varieties.Preservation.html#4197" class="Bound">sA</a>

  <a id="4352" href="Varieties.Preservation.html#4352" class="Function">Asc</a> <a id="4356" class="Symbol">:</a> <a id="4358" href="Varieties.Preservation.html#4194" class="Bound">ğ‘¨</a> <a id="4360" href="Subalgebras.Subalgebras.html#6041" class="Function Operator">IsSubalgebraOfClass</a> <a id="4380" class="Symbol">(</a><a id="4381" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="4383" href="Varieties.Preservation.html#4183" class="Bound">ğ’¦</a><a id="4384" class="Symbol">)</a>
  <a id="4388" href="Varieties.Preservation.html#4352" class="Function">Asc</a> <a id="4392" class="Symbol">=</a> <a id="4394" href="Varieties.Closure.html#7848" class="Function">Sâ†’subalgebra</a><a id="4406" class="Symbol">{</a><a id="4407" href="Varieties.Preservation.html#4176" class="Bound">Î±</a><a id="4408" class="Symbol">}{</a><a id="4410" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="4411" class="Symbol">{</a><a id="4412" href="Varieties.Preservation.html#4176" class="Bound">Î±</a><a id="4413" class="Symbol">}{</a><a id="4415" href="Varieties.Preservation.html#4176" class="Bound">Î±</a><a id="4416" class="Symbol">}</a> <a id="4418" href="Varieties.Preservation.html#4183" class="Bound">ğ’¦</a><a id="4419" class="Symbol">}{</a><a id="4421" href="Varieties.Preservation.html#4194" class="Bound">ğ‘¨</a><a id="4422" class="Symbol">}</a> <a id="4424" href="Varieties.Preservation.html#4303" class="Function">splAu</a>

  <a id="4433" href="Varieties.Preservation.html#4433" class="Function">lAsc</a> <a id="4438" class="Symbol">:</a> <a id="4440" href="Varieties.Preservation.html#4257" class="Function">lA</a> <a id="4443" href="Subalgebras.Subalgebras.html#6041" class="Function Operator">IsSubalgebraOfClass</a> <a id="4463" class="Symbol">(</a><a id="4464" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="4466" href="Varieties.Preservation.html#4183" class="Bound">ğ’¦</a><a id="4467" class="Symbol">)</a>
  <a id="4471" href="Varieties.Preservation.html#4433" class="Function">lAsc</a> <a id="4476" class="Symbol">=</a> <a id="4478" href="Varieties.Closure.html#10810" class="Function">Lift-Alg-subP&#39;</a> <a id="4493" href="Varieties.Preservation.html#4352" class="Function">Asc</a>

<a id="4498" href="Varieties.Preservation.html#3605" class="Function">SâŠ†SP</a> <a id="4503" class="Symbol">{</a><a id="4504" class="Argument">Î±</a> <a id="4506" class="Symbol">=</a> <a id="4508" href="Varieties.Preservation.html#4508" class="Bound">Î±</a><a id="4509" class="Symbol">}{</a><a id="4511" href="Varieties.Preservation.html#4511" class="Bound">Î²</a><a id="4512" class="Symbol">}</a> <a id="4514" href="Varieties.Preservation.html#4514" class="Bound">ğ’¦</a> <a id="4516" class="Symbol">{</a><a id="4517" href="Varieties.Preservation.html#4517" class="Bound">ğ‘©</a><a id="4518" class="Symbol">}(</a><a id="4520" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a><a id="4524" class="Symbol">{</a><a id="4525" href="Varieties.Preservation.html#4525" class="Bound">ğ‘¨</a><a id="4526" class="Symbol">}</a> <a id="4528" href="Varieties.Preservation.html#4528" class="Bound">sA</a> <a id="4531" href="Varieties.Preservation.html#4531" class="Bound">Aâ‰…B</a><a id="4534" class="Symbol">)</a> <a id="4536" class="Symbol">=</a> <a id="4538" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a><a id="4542" class="Symbol">{</a><a id="4543" href="Varieties.Preservation.html#4508" class="Bound">Î±</a> <a id="4545" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4547" href="Varieties.Preservation.html#4511" class="Bound">Î²</a><a id="4548" class="Symbol">}{</a><a id="4550" href="Varieties.Preservation.html#4508" class="Bound">Î±</a> <a id="4552" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4554" href="Varieties.Preservation.html#4511" class="Bound">Î²</a><a id="4555" class="Symbol">}</a> <a id="4557" href="Varieties.Preservation.html#4724" class="Function">lAsp</a> <a id="4562" href="Varieties.Preservation.html#4800" class="Function">lAâ‰…B</a>
 <a id="4568" class="Keyword">where</a>
 <a id="4575" href="Varieties.Preservation.html#4575" class="Function">lA</a> <a id="4578" class="Symbol">:</a> <a id="4580" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="4588" class="Symbol">(</a><a id="4589" href="Varieties.Preservation.html#4508" class="Bound">Î±</a> <a id="4591" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4593" href="Varieties.Preservation.html#4511" class="Bound">Î²</a><a id="4594" class="Symbol">)</a> <a id="4596" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a>
 <a id="4599" href="Varieties.Preservation.html#4575" class="Function">lA</a> <a id="4602" class="Symbol">=</a> <a id="4604" href="Algebras.Basic.html#10870" class="Function">Lift-Alg</a> <a id="4613" href="Varieties.Preservation.html#4525" class="Bound">ğ‘¨</a> <a id="4615" href="Varieties.Preservation.html#4511" class="Bound">Î²</a>

 <a id="4619" href="Varieties.Preservation.html#4619" class="Function">lAsc</a> <a id="4624" class="Symbol">:</a> <a id="4626" href="Varieties.Preservation.html#4575" class="Function">lA</a> <a id="4629" href="Subalgebras.Subalgebras.html#6041" class="Function Operator">IsSubalgebraOfClass</a> <a id="4649" class="Symbol">(</a><a id="4650" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="4652" href="Varieties.Preservation.html#4514" class="Bound">ğ’¦</a><a id="4653" class="Symbol">)</a>
 <a id="4656" href="Varieties.Preservation.html#4619" class="Function">lAsc</a> <a id="4661" class="Symbol">=</a> <a id="4663" href="Varieties.Closure.html#10810" class="Function">Lift-Alg-subP&#39;</a> <a id="4678" class="Symbol">(</a><a id="4679" href="Varieties.Closure.html#7848" class="Function">Sâ†’subalgebra</a><a id="4691" class="Symbol">{</a><a id="4692" href="Varieties.Preservation.html#4508" class="Bound">Î±</a><a id="4693" class="Symbol">}{</a><a id="4695" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="4696" class="Symbol">{</a><a id="4697" href="Varieties.Preservation.html#4508" class="Bound">Î±</a><a id="4698" class="Symbol">}{</a><a id="4700" href="Varieties.Preservation.html#4508" class="Bound">Î±</a><a id="4701" class="Symbol">}</a> <a id="4703" href="Varieties.Preservation.html#4514" class="Bound">ğ’¦</a><a id="4704" class="Symbol">}{</a><a id="4706" href="Varieties.Preservation.html#4525" class="Bound">ğ‘¨</a><a id="4707" class="Symbol">}</a> <a id="4709" class="Symbol">(</a><a id="4710" href="Varieties.Preservation.html#3605" class="Function">SâŠ†SP</a> <a id="4715" href="Varieties.Preservation.html#4514" class="Bound">ğ’¦</a> <a id="4717" href="Varieties.Preservation.html#4528" class="Bound">sA</a><a id="4719" class="Symbol">))</a>

 <a id="4724" href="Varieties.Preservation.html#4724" class="Function">lAsp</a> <a id="4729" class="Symbol">:</a> <a id="4731" href="Varieties.Preservation.html#4575" class="Function">lA</a> <a id="4734" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="4736" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="4737" class="Symbol">(</a><a id="4738" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="4740" href="Varieties.Preservation.html#4514" class="Bound">ğ’¦</a><a id="4741" class="Symbol">)</a>
 <a id="4744" href="Varieties.Preservation.html#4724" class="Function">lAsp</a> <a id="4749" class="Symbol">=</a> <a id="4751" href="Varieties.Closure.html#7476" class="Function">subalgebraâ†’S</a><a id="4763" class="Symbol">{</a><a id="4764" href="Varieties.Preservation.html#4508" class="Bound">Î±</a> <a id="4766" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4768" href="Varieties.Preservation.html#4511" class="Bound">Î²</a><a id="4769" class="Symbol">}{</a><a id="4771" href="Varieties.Preservation.html#4508" class="Bound">Î±</a> <a id="4773" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4775" href="Varieties.Preservation.html#4511" class="Bound">Î²</a><a id="4776" class="Symbol">}{</a><a id="4778" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="4779" class="Symbol">{</a><a id="4780" href="Varieties.Preservation.html#4508" class="Bound">Î±</a><a id="4781" class="Symbol">}{</a><a id="4783" href="Varieties.Preservation.html#4511" class="Bound">Î²</a><a id="4784" class="Symbol">}</a> <a id="4786" href="Varieties.Preservation.html#4514" class="Bound">ğ’¦</a><a id="4787" class="Symbol">}{</a><a id="4789" href="Varieties.Preservation.html#4575" class="Function">lA</a><a id="4791" class="Symbol">}</a> <a id="4793" href="Varieties.Preservation.html#4619" class="Function">lAsc</a>

 <a id="4800" href="Varieties.Preservation.html#4800" class="Function">lAâ‰…B</a> <a id="4805" class="Symbol">:</a> <a id="4807" href="Varieties.Preservation.html#4575" class="Function">lA</a> <a id="4810" href="Homomorphisms.Isomorphisms.html#2280" class="Record Operator">â‰…</a> <a id="4812" href="Varieties.Preservation.html#4517" class="Bound">ğ‘©</a>
 <a id="4815" href="Varieties.Preservation.html#4800" class="Function">lAâ‰…B</a> <a id="4820" class="Symbol">=</a> <a id="4822" href="Homomorphisms.Isomorphisms.html#3000" class="Function">â‰…-trans</a> <a id="4830" class="Symbol">(</a><a id="4831" href="Homomorphisms.Isomorphisms.html#2911" class="Function">â‰…-sym</a> <a id="4837" href="Homomorphisms.Isomorphisms.html#4355" class="Function">Lift-â‰…</a><a id="4843" class="Symbol">)</a> <a id="4845" href="Varieties.Preservation.html#4531" class="Bound">Aâ‰…B</a>

</pre>


We need to formalize one more lemma before arriving the main objective of this section, which is the proof of the inclusion PSâŠ†SP.

<pre class="Agda">

<a id="5009" class="Keyword">module</a> <a id="5016" href="Varieties.Preservation.html#5016" class="Module">_</a> <a id="5018" class="Symbol">{</a><a id="5019" href="Varieties.Preservation.html#5019" class="Bound">Î±</a> <a id="5021" href="Varieties.Preservation.html#5021" class="Bound">Î²</a> <a id="5023" class="Symbol">:</a> <a id="5025" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="5030" class="Symbol">}</a> <a id="5032" class="Symbol">{</a><a id="5033" href="Varieties.Preservation.html#5033" class="Bound">ğ’¦</a> <a id="5035" class="Symbol">:</a> <a id="5037" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="5041" class="Symbol">(</a><a id="5042" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="5050" href="Varieties.Preservation.html#5019" class="Bound">Î±</a> <a id="5052" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="5053" class="Symbol">)(</a><a id="5055" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="5058" href="Varieties.Preservation.html#5019" class="Bound">Î±</a><a id="5059" class="Symbol">)}</a> <a id="5062" class="Keyword">where</a>

 <a id="5070" href="Varieties.Preservation.html#5070" class="Function">lemPSâŠ†SP</a> <a id="5079" class="Symbol">:</a> <a id="5081" href="Equality.Truncation.html#3959" class="Function">hfunext</a> <a id="5089" href="Varieties.Preservation.html#5021" class="Bound">Î²</a> <a id="5091" href="Varieties.Preservation.html#5019" class="Bound">Î±</a> <a id="5093" class="Symbol">â†’</a> <a id="5095" href="Varieties.Preservation.html#934" class="Function">funext</a> <a id="5102" href="Varieties.Preservation.html#5021" class="Bound">Î²</a> <a id="5104" href="Varieties.Preservation.html#5019" class="Bound">Î±</a> <a id="5106" class="Symbol">â†’</a> <a id="5108" class="Symbol">{</a><a id="5109" href="Varieties.Preservation.html#5109" class="Bound">I</a> <a id="5111" class="Symbol">:</a> <a id="5113" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="5118" href="Varieties.Preservation.html#5021" class="Bound">Î²</a><a id="5119" class="Symbol">}{</a><a id="5121" href="Varieties.Preservation.html#5121" class="Bound">â„¬</a> <a id="5123" class="Symbol">:</a> <a id="5125" href="Varieties.Preservation.html#5109" class="Bound">I</a> <a id="5127" class="Symbol">â†’</a> <a id="5129" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="5137" href="Varieties.Preservation.html#5019" class="Bound">Î±</a> <a id="5139" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="5140" class="Symbol">}</a>
  <a id="5144" class="Symbol">â†’</a>         <a id="5154" class="Symbol">(âˆ€</a> <a id="5157" href="Varieties.Preservation.html#5157" class="Bound">i</a> <a id="5159" class="Symbol">â†’</a> <a id="5161" class="Symbol">(</a><a id="5162" href="Varieties.Preservation.html#5121" class="Bound">â„¬</a> <a id="5164" href="Varieties.Preservation.html#5157" class="Bound">i</a><a id="5165" class="Symbol">)</a> <a id="5167" href="Subalgebras.Subalgebras.html#6041" class="Function Operator">IsSubalgebraOfClass</a> <a id="5187" href="Varieties.Preservation.html#5033" class="Bound">ğ’¦</a><a id="5188" class="Symbol">)</a>
  <a id="5192" class="Symbol">â†’</a>         <a id="5202" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5204" href="Varieties.Preservation.html#5121" class="Bound">â„¬</a> <a id="5206" href="Subalgebras.Subalgebras.html#6041" class="Function Operator">IsSubalgebraOfClass</a> <a id="5226" class="Symbol">(</a><a id="5227" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="5228" class="Symbol">{</a><a id="5229" href="Varieties.Preservation.html#5019" class="Bound">Î±</a><a id="5230" class="Symbol">}{</a><a id="5232" href="Varieties.Preservation.html#5021" class="Bound">Î²</a><a id="5233" class="Symbol">}</a> <a id="5235" href="Varieties.Preservation.html#5033" class="Bound">ğ’¦</a><a id="5236" class="Symbol">)</a>

 <a id="5240" href="Varieties.Preservation.html#5070" class="Function">lemPSâŠ†SP</a> <a id="5249" href="Varieties.Preservation.html#5249" class="Bound">hwu</a> <a id="5253" href="Varieties.Preservation.html#5253" class="Bound">fwu</a> <a id="5257" class="Symbol">{</a><a id="5258" href="Varieties.Preservation.html#5258" class="Bound">I</a><a id="5259" class="Symbol">}{</a><a id="5261" href="Varieties.Preservation.html#5261" class="Bound">â„¬</a><a id="5262" class="Symbol">}</a> <a id="5264" href="Varieties.Preservation.html#5264" class="Bound">Bâ‰¤K</a> <a id="5268" class="Symbol">=</a> <a id="5270" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5272" href="Varieties.Preservation.html#5341" class="Function">ğ’œ</a> <a id="5274" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5276" class="Symbol">(</a><a id="5277" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5279" href="Varieties.Preservation.html#5386" class="Function">SA</a> <a id="5282" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5284" href="Varieties.Preservation.html#5930" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a><a id="5290" class="Symbol">)</a> <a id="5292" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5294" href="Varieties.Preservation.html#5979" class="Function">Î¾</a> <a id="5296" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5298" class="Symbol">(</a><a id="5299" href="Homomorphisms.Isomorphisms.html#5677" class="Function">â¨…â‰…</a> <a id="5302" class="Symbol">{</a><a id="5303" class="Argument">fiu</a> <a id="5307" class="Symbol">=</a> <a id="5309" href="Varieties.Preservation.html#5253" class="Bound">fwu</a><a id="5312" class="Symbol">}{</a><a id="5314" class="Argument">fiw</a> <a id="5318" class="Symbol">=</a> <a id="5320" href="Varieties.Preservation.html#5253" class="Bound">fwu</a><a id="5323" class="Symbol">}</a> <a id="5325" href="Varieties.Preservation.html#5441" class="Function">Bâ‰…SA</a><a id="5329" class="Symbol">)</a>
  <a id="5333" class="Keyword">where</a>
  <a id="5341" href="Varieties.Preservation.html#5341" class="Function">ğ’œ</a> <a id="5343" class="Symbol">:</a> <a id="5345" href="Varieties.Preservation.html#5258" class="Bound">I</a> <a id="5347" class="Symbol">â†’</a> <a id="5349" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="5357" href="Varieties.Preservation.html#5019" class="Bound">Î±</a> <a id="5359" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a>
  <a id="5363" href="Varieties.Preservation.html#5341" class="Function">ğ’œ</a> <a id="5365" class="Symbol">=</a> <a id="5367" class="Symbol">Î»</a> <a id="5369" href="Varieties.Preservation.html#5369" class="Bound">i</a> <a id="5371" class="Symbol">â†’</a> <a id="5373" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="5375" href="Varieties.Preservation.html#5264" class="Bound">Bâ‰¤K</a> <a id="5379" href="Varieties.Preservation.html#5369" class="Bound">i</a> <a id="5381" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a>

  <a id="5386" href="Varieties.Preservation.html#5386" class="Function">SA</a> <a id="5389" class="Symbol">:</a> <a id="5391" href="Varieties.Preservation.html#5258" class="Bound">I</a> <a id="5393" class="Symbol">â†’</a> <a id="5395" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="5403" href="Varieties.Preservation.html#5019" class="Bound">Î±</a> <a id="5405" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a>
  <a id="5409" href="Varieties.Preservation.html#5386" class="Function">SA</a> <a id="5412" class="Symbol">=</a> <a id="5414" class="Symbol">Î»</a> <a id="5416" href="Varieties.Preservation.html#5416" class="Bound">i</a> <a id="5418" class="Symbol">â†’</a> <a id="5420" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="5422" href="Varieties.Preservation.html#1021" class="Field">fst</a> <a id="5426" href="Overture.Preliminaries.html#4417" class="Function Operator">âˆ¥</a> <a id="5428" href="Varieties.Preservation.html#5264" class="Bound">Bâ‰¤K</a> <a id="5432" href="Varieties.Preservation.html#5416" class="Bound">i</a> <a id="5434" href="Overture.Preliminaries.html#4417" class="Function Operator">âˆ¥</a> <a id="5436" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a>

  <a id="5441" href="Varieties.Preservation.html#5441" class="Function">Bâ‰…SA</a> <a id="5446" class="Symbol">:</a> <a id="5448" class="Symbol">âˆ€</a> <a id="5450" href="Varieties.Preservation.html#5450" class="Bound">i</a> <a id="5452" class="Symbol">â†’</a> <a id="5454" href="Varieties.Preservation.html#5261" class="Bound">â„¬</a> <a id="5456" href="Varieties.Preservation.html#5450" class="Bound">i</a> <a id="5458" href="Homomorphisms.Isomorphisms.html#2280" class="Record Operator">â‰…</a> <a id="5460" href="Varieties.Preservation.html#5386" class="Function">SA</a> <a id="5463" href="Varieties.Preservation.html#5450" class="Bound">i</a>
  <a id="5467" href="Varieties.Preservation.html#5441" class="Function">Bâ‰…SA</a> <a id="5472" class="Symbol">=</a> <a id="5474" class="Symbol">Î»</a> <a id="5476" href="Varieties.Preservation.html#5476" class="Bound">i</a> <a id="5478" class="Symbol">â†’</a> <a id="5480" href="Overture.Preliminaries.html#4417" class="Function Operator">âˆ¥</a> <a id="5482" href="Varieties.Preservation.html#1036" class="Field">snd</a> <a id="5486" href="Overture.Preliminaries.html#4417" class="Function Operator">âˆ¥</a> <a id="5488" href="Varieties.Preservation.html#5264" class="Bound">Bâ‰¤K</a> <a id="5492" href="Varieties.Preservation.html#5476" class="Bound">i</a> <a id="5494" href="Overture.Preliminaries.html#4417" class="Function Operator">âˆ¥</a> <a id="5496" href="Overture.Preliminaries.html#4417" class="Function Operator">âˆ¥</a>

  <a id="5501" href="Varieties.Preservation.html#5501" class="Function">SAâ‰¤ğ’œ</a> <a id="5506" class="Symbol">:</a> <a id="5508" class="Symbol">âˆ€</a> <a id="5510" href="Varieties.Preservation.html#5510" class="Bound">i</a> <a id="5512" class="Symbol">â†’</a> <a id="5514" class="Symbol">(</a><a id="5515" href="Varieties.Preservation.html#5386" class="Function">SA</a> <a id="5518" href="Varieties.Preservation.html#5510" class="Bound">i</a><a id="5519" class="Symbol">)</a> <a id="5521" href="Subalgebras.Subalgebras.html#2525" class="Function Operator">IsSubalgebraOf</a> <a id="5536" class="Symbol">(</a><a id="5537" href="Varieties.Preservation.html#5341" class="Function">ğ’œ</a> <a id="5539" href="Varieties.Preservation.html#5510" class="Bound">i</a><a id="5540" class="Symbol">)</a>
  <a id="5544" href="Varieties.Preservation.html#5501" class="Function">SAâ‰¤ğ’œ</a> <a id="5549" class="Symbol">=</a> <a id="5551" class="Symbol">Î»</a> <a id="5553" href="Varieties.Preservation.html#5553" class="Bound">i</a> <a id="5555" class="Symbol">â†’</a> <a id="5557" href="Varieties.Preservation.html#1036" class="Field">snd</a> <a id="5561" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="5563" href="Overture.Preliminaries.html#4417" class="Function Operator">âˆ¥</a> <a id="5565" href="Varieties.Preservation.html#5264" class="Bound">Bâ‰¤K</a> <a id="5569" href="Varieties.Preservation.html#5553" class="Bound">i</a> <a id="5571" href="Overture.Preliminaries.html#4417" class="Function Operator">âˆ¥</a> <a id="5573" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a>

  <a id="5578" href="Varieties.Preservation.html#5578" class="Function">h</a> <a id="5580" class="Symbol">:</a> <a id="5582" class="Symbol">âˆ€</a> <a id="5584" href="Varieties.Preservation.html#5584" class="Bound">i</a> <a id="5586" class="Symbol">â†’</a> <a id="5588" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="5590" href="Varieties.Preservation.html#5386" class="Function">SA</a> <a id="5593" href="Varieties.Preservation.html#5584" class="Bound">i</a> <a id="5595" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="5597" class="Symbol">â†’</a> <a id="5599" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="5601" href="Varieties.Preservation.html#5341" class="Function">ğ’œ</a> <a id="5603" href="Varieties.Preservation.html#5584" class="Bound">i</a> <a id="5605" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a>
  <a id="5609" href="Varieties.Preservation.html#5578" class="Function">h</a> <a id="5611" class="Symbol">=</a> <a id="5613" class="Symbol">Î»</a> <a id="5615" href="Varieties.Preservation.html#5615" class="Bound">i</a> <a id="5617" class="Symbol">â†’</a> <a id="5619" href="Varieties.Preservation.html#1021" class="Field">fst</a> <a id="5623" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="5625" href="Varieties.Preservation.html#5501" class="Function">SAâ‰¤ğ’œ</a> <a id="5630" href="Varieties.Preservation.html#5615" class="Bound">i</a> <a id="5632" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a>

  <a id="5637" href="Varieties.Preservation.html#5637" class="Function">hinj</a> <a id="5642" class="Symbol">:</a> <a id="5644" class="Symbol">âˆ€</a> <a id="5646" href="Varieties.Preservation.html#5646" class="Bound">i</a> <a id="5648" class="Symbol">â†’</a> <a id="5650" href="Overture.Inverses.html#2501" class="Function">IsInjective</a> <a id="5662" class="Symbol">(</a><a id="5663" href="Varieties.Preservation.html#5578" class="Function">h</a> <a id="5665" href="Varieties.Preservation.html#5646" class="Bound">i</a><a id="5666" class="Symbol">)</a>
  <a id="5670" href="Varieties.Preservation.html#5637" class="Function">hinj</a> <a id="5675" class="Symbol">=</a> <a id="5677" class="Symbol">Î»</a> <a id="5679" href="Varieties.Preservation.html#5679" class="Bound">i</a> <a id="5681" class="Symbol">â†’</a> <a id="5683" href="Varieties.Preservation.html#1036" class="Field">snd</a> <a id="5687" class="Symbol">(</a><a id="5688" href="Varieties.Preservation.html#1036" class="Field">snd</a> <a id="5692" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="5694" href="Overture.Preliminaries.html#4417" class="Function Operator">âˆ¥</a> <a id="5696" href="Varieties.Preservation.html#5264" class="Bound">Bâ‰¤K</a> <a id="5700" href="Varieties.Preservation.html#5679" class="Bound">i</a> <a id="5702" href="Overture.Preliminaries.html#4417" class="Function Operator">âˆ¥</a> <a id="5704" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a><a id="5705" class="Symbol">)</a>

  <a id="5710" href="Varieties.Preservation.html#5710" class="Function">Ïƒ</a> <a id="5712" class="Symbol">:</a> <a id="5714" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="5716" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5718" href="Varieties.Preservation.html#5386" class="Function">SA</a> <a id="5721" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="5723" class="Symbol">â†’</a> <a id="5725" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="5727" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5729" href="Varieties.Preservation.html#5341" class="Function">ğ’œ</a> <a id="5731" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a>
  <a id="5735" href="Varieties.Preservation.html#5710" class="Function">Ïƒ</a> <a id="5737" class="Symbol">=</a> <a id="5739" class="Symbol">Î»</a> <a id="5741" href="Varieties.Preservation.html#5741" class="Bound">x</a> <a id="5743" href="Varieties.Preservation.html#5743" class="Bound">i</a> <a id="5745" class="Symbol">â†’</a> <a id="5747" class="Symbol">(</a><a id="5748" href="Varieties.Preservation.html#5578" class="Function">h</a> <a id="5750" href="Varieties.Preservation.html#5743" class="Bound">i</a><a id="5751" class="Symbol">)</a> <a id="5753" class="Symbol">(</a><a id="5754" href="Varieties.Preservation.html#5741" class="Bound">x</a> <a id="5756" href="Varieties.Preservation.html#5743" class="Bound">i</a><a id="5757" class="Symbol">)</a>
  <a id="5761" href="Varieties.Preservation.html#5761" class="Function">Î½</a> <a id="5763" class="Symbol">:</a> <a id="5765" href="Homomorphisms.Basic.html#3035" class="Function">is-homomorphism</a> <a id="5781" class="Symbol">(</a><a id="5782" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5784" href="Varieties.Preservation.html#5386" class="Function">SA</a><a id="5786" class="Symbol">)</a> <a id="5788" class="Symbol">(</a><a id="5789" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5791" href="Varieties.Preservation.html#5341" class="Function">ğ’œ</a><a id="5792" class="Symbol">)</a> <a id="5794" href="Varieties.Preservation.html#5710" class="Function">Ïƒ</a>
  <a id="5798" href="Varieties.Preservation.html#5761" class="Function">Î½</a> <a id="5800" class="Symbol">=</a> <a id="5802" class="Symbol">Î»</a> <a id="5804" href="Varieties.Preservation.html#5804" class="Bound">ğ‘“</a> <a id="5806" href="Varieties.Preservation.html#5806" class="Bound">ğ’‚</a> <a id="5808" class="Symbol">â†’</a> <a id="5810" href="Varieties.Preservation.html#5253" class="Bound">fwu</a> <a id="5814" class="Symbol">Î»</a> <a id="5816" href="Varieties.Preservation.html#5816" class="Bound">i</a> <a id="5818" class="Symbol">â†’</a> <a id="5820" class="Symbol">(</a><a id="5821" href="Varieties.Preservation.html#1036" class="Field">snd</a> <a id="5825" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="5827" href="Varieties.Preservation.html#5501" class="Function">SAâ‰¤ğ’œ</a> <a id="5832" href="Varieties.Preservation.html#5816" class="Bound">i</a> <a id="5834" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a><a id="5835" class="Symbol">)</a> <a id="5837" href="Varieties.Preservation.html#5804" class="Bound">ğ‘“</a> <a id="5839" class="Symbol">(Î»</a> <a id="5842" href="Varieties.Preservation.html#5842" class="Bound">x</a> <a id="5844" class="Symbol">â†’</a> <a id="5846" href="Varieties.Preservation.html#5806" class="Bound">ğ’‚</a> <a id="5848" href="Varieties.Preservation.html#5842" class="Bound">x</a> <a id="5850" href="Varieties.Preservation.html#5816" class="Bound">i</a><a id="5851" class="Symbol">)</a>

  <a id="5856" href="Varieties.Preservation.html#5856" class="Function">Ïƒinj</a> <a id="5861" class="Symbol">:</a> <a id="5863" href="Overture.Inverses.html#2501" class="Function">IsInjective</a> <a id="5875" href="Varieties.Preservation.html#5710" class="Function">Ïƒ</a>
  <a id="5879" href="Varieties.Preservation.html#5856" class="Function">Ïƒinj</a> <a id="5884" href="Varieties.Preservation.html#5884" class="Bound">ÏƒxÏƒy</a> <a id="5889" class="Symbol">=</a> <a id="5891" href="Varieties.Preservation.html#5253" class="Bound">fwu</a> <a id="5895" class="Symbol">Î»</a> <a id="5897" href="Varieties.Preservation.html#5897" class="Bound">i</a> <a id="5899" class="Symbol">â†’</a> <a id="5901" class="Symbol">(</a><a id="5902" href="Varieties.Preservation.html#5637" class="Function">hinj</a> <a id="5907" href="Varieties.Preservation.html#5897" class="Bound">i</a><a id="5908" class="Symbol">)(</a><a id="5910" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="5919" href="Varieties.Preservation.html#5884" class="Bound">ÏƒxÏƒy</a> <a id="5924" href="Varieties.Preservation.html#5897" class="Bound">i</a><a id="5925" class="Symbol">)</a>

  <a id="5930" href="Varieties.Preservation.html#5930" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a> <a id="5937" class="Symbol">:</a> <a id="5939" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5941" href="Varieties.Preservation.html#5386" class="Function">SA</a> <a id="5944" href="Subalgebras.Subalgebras.html#2483" class="Function Operator">â‰¤</a> <a id="5946" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5948" href="Varieties.Preservation.html#5341" class="Function">ğ’œ</a>
  <a id="5952" href="Varieties.Preservation.html#5930" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a> <a id="5959" class="Symbol">=</a> <a id="5961" class="Symbol">(</a><a id="5962" href="Varieties.Preservation.html#5710" class="Function">Ïƒ</a> <a id="5964" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5966" href="Varieties.Preservation.html#5761" class="Function">Î½</a><a id="5967" class="Symbol">)</a> <a id="5969" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5971" href="Varieties.Preservation.html#5856" class="Function">Ïƒinj</a>

  <a id="5979" href="Varieties.Preservation.html#5979" class="Function">Î¾</a> <a id="5981" class="Symbol">:</a> <a id="5983" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5985" href="Varieties.Preservation.html#5341" class="Function">ğ’œ</a> <a id="5987" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="5989" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="5991" href="Varieties.Preservation.html#5033" class="Bound">ğ’¦</a>
  <a id="5995" href="Varieties.Preservation.html#5979" class="Function">Î¾</a> <a id="5997" class="Symbol">=</a> <a id="5999" href="Varieties.Closure.html#4645" class="InductiveConstructor">produ</a> <a id="6005" class="Symbol">(Î»</a> <a id="6008" href="Varieties.Preservation.html#6008" class="Bound">i</a> <a id="6010" class="Symbol">â†’</a> <a id="6012" href="Varieties.Closure.html#9503" class="Function">P-expa</a> <a id="6019" class="Symbol">(</a><a id="6020" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="6022" href="Varieties.Preservation.html#1036" class="Field">snd</a> <a id="6026" href="Overture.Preliminaries.html#4417" class="Function Operator">âˆ¥</a> <a id="6028" href="Varieties.Preservation.html#5264" class="Bound">Bâ‰¤K</a> <a id="6032" href="Varieties.Preservation.html#6008" class="Bound">i</a> <a id="6034" href="Overture.Preliminaries.html#4417" class="Function Operator">âˆ¥</a> <a id="6036" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a><a id="6037" class="Symbol">))</a>


</pre>



#### <a id="PS-in-SP">PS(ğ’¦) âŠ† SP(ğ’¦)</a>

Finally, we are in a position to prove that a product of subalgebras of algebras in a class ğ’¦ is a subalgebra of a product of algebras in ğ’¦.

<pre class="Agda">

<a id="6253" class="Keyword">module</a> <a id="6260" href="Varieties.Preservation.html#6260" class="Module">_</a> <a id="6262" class="Symbol">{</a><a id="6263" href="Varieties.Preservation.html#6263" class="Bound">Î±</a> <a id="6265" class="Symbol">:</a> <a id="6267" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="6272" class="Symbol">}</a> <a id="6274" class="Symbol">{</a><a id="6275" href="Varieties.Preservation.html#6275" class="Bound">fovu</a> <a id="6280" class="Symbol">:</a> <a id="6282" href="Varieties.Preservation.html#934" class="Function">funext</a> <a id="6289" class="Symbol">(</a><a id="6290" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6293" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6294" class="Symbol">)</a> <a id="6296" class="Symbol">(</a><a id="6297" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6300" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6301" class="Symbol">)}{</a><a id="6304" href="Varieties.Preservation.html#6304" class="Bound">ğ’¦</a> <a id="6306" class="Symbol">:</a> <a id="6308" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="6313" class="Symbol">(</a><a id="6314" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="6322" href="Varieties.Preservation.html#6263" class="Bound">Î±</a> <a id="6324" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="6325" class="Symbol">)(</a><a id="6327" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6330" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6331" class="Symbol">)}</a> <a id="6334" class="Keyword">where</a>

 <a id="6342" href="Varieties.Preservation.html#6342" class="Function">PSâŠ†SP</a> <a id="6348" class="Symbol">:</a> <a id="6350" class="Comment">-- extensionality assumptions:</a>
            <a id="6393" href="Equality.Truncation.html#3959" class="Function">hfunext</a> <a id="6401" class="Symbol">(</a><a id="6402" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6405" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6406" class="Symbol">)(</a><a id="6408" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6411" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6412" class="Symbol">)</a>

  <a id="6417" class="Symbol">â†’</a>      <a id="6424" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="6425" class="Symbol">{</a><a id="6426" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6429" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6430" class="Symbol">}{</a><a id="6432" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6435" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6436" class="Symbol">}</a> <a id="6438" class="Symbol">(</a><a id="6439" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="6440" class="Symbol">{</a><a id="6441" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6442" class="Symbol">}{</a><a id="6444" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6447" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6448" class="Symbol">}</a> <a id="6450" href="Varieties.Preservation.html#6304" class="Bound">ğ’¦</a><a id="6451" class="Symbol">)</a> <a id="6453" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="6455" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="6456" class="Symbol">{</a><a id="6457" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6460" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6461" class="Symbol">}{</a><a id="6463" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6466" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6467" class="Symbol">}</a> <a id="6469" class="Symbol">(</a><a id="6470" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="6471" class="Symbol">{</a><a id="6472" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6473" class="Symbol">}{</a><a id="6475" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6478" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6479" class="Symbol">}</a> <a id="6481" href="Varieties.Preservation.html#6304" class="Bound">ğ’¦</a><a id="6482" class="Symbol">)</a>

 <a id="6486" href="Varieties.Preservation.html#6342" class="Function">PSâŠ†SP</a> <a id="6492" class="Symbol">_</a> <a id="6494" class="Symbol">(</a><a id="6495" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="6501" class="Symbol">(</a><a id="6502" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a> <a id="6508" href="Varieties.Preservation.html#6508" class="Bound">x</a><a id="6509" class="Symbol">))</a> <a id="6512" class="Symbol">=</a> <a id="6514" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a> <a id="6520" class="Symbol">(</a><a id="6521" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="6527" href="Varieties.Preservation.html#6508" class="Bound">x</a><a id="6528" class="Symbol">)</a>
 <a id="6531" href="Varieties.Preservation.html#6342" class="Function">PSâŠ†SP</a> <a id="6537" class="Symbol">_</a> <a id="6539" class="Symbol">(</a><a id="6540" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="6546" class="Symbol">(</a><a id="6547" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a><a id="6552" class="Symbol">{</a><a id="6553" href="Varieties.Preservation.html#6553" class="Bound">ğ‘¨</a><a id="6554" class="Symbol">}</a> <a id="6556" href="Varieties.Preservation.html#6556" class="Bound">x</a><a id="6557" class="Symbol">))</a> <a id="6560" class="Symbol">=</a> <a id="6562" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a> <a id="6568" class="Symbol">(</a><a id="6569" href="Varieties.Preservation.html#3605" class="Function">SâŠ†SP</a><a id="6573" class="Symbol">{</a><a id="6574" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6575" class="Symbol">}{</a><a id="6577" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6580" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6581" class="Symbol">}</a> <a id="6583" href="Varieties.Preservation.html#6304" class="Bound">ğ’¦</a> <a id="6585" class="Symbol">(</a><a id="6586" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a> <a id="6592" href="Varieties.Preservation.html#6556" class="Bound">x</a><a id="6593" class="Symbol">))</a>
 <a id="6597" href="Varieties.Preservation.html#6342" class="Function">PSâŠ†SP</a> <a id="6603" class="Symbol">_</a> <a id="6605" class="Symbol">(</a><a id="6606" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a><a id="6611" class="Symbol">{</a><a id="6612" href="Varieties.Preservation.html#6612" class="Bound">ğ‘©</a><a id="6613" class="Symbol">}(</a><a id="6615" href="Varieties.Closure.html#3982" class="InductiveConstructor">ssub</a><a id="6619" class="Symbol">{</a><a id="6620" href="Varieties.Preservation.html#6620" class="Bound">ğ‘¨</a><a id="6621" class="Symbol">}</a> <a id="6623" href="Varieties.Preservation.html#6623" class="Bound">sA</a> <a id="6626" href="Varieties.Preservation.html#6626" class="Bound">Bâ‰¤A</a><a id="6629" class="Symbol">))</a> <a id="6632" class="Symbol">=</a> <a id="6634" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a><a id="6638" class="Symbol">(</a><a id="6639" href="Varieties.Closure.html#3982" class="InductiveConstructor">ssub</a><a id="6643" class="Symbol">(</a><a id="6644" href="Varieties.Preservation.html#3605" class="Function">SâŠ†SP</a> <a id="6649" href="Varieties.Preservation.html#6304" class="Bound">ğ’¦</a> <a id="6651" class="Symbol">(</a><a id="6652" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a> <a id="6658" href="Varieties.Preservation.html#6623" class="Bound">sA</a><a id="6660" class="Symbol">))(</a><a id="6663" href="Subalgebras.Properties.html#6057" class="Function">Lift-â‰¤-Lift</a> <a id="6675" class="Symbol">(</a><a id="6676" href="Algebras.Products.html#3135" class="Function">ov</a><a id="6678" class="Symbol">(</a><a id="6679" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6680" class="Symbol">)){</a><a id="6683" href="Varieties.Preservation.html#6620" class="Bound">ğ‘¨</a><a id="6684" class="Symbol">}(</a><a id="6686" href="Algebras.Products.html#3135" class="Function">ov</a><a id="6688" class="Symbol">(</a><a id="6689" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6690" class="Symbol">))</a><a id="6692" href="Varieties.Preservation.html#6626" class="Bound">Bâ‰¤A</a><a id="6695" class="Symbol">))</a> <a id="6698" href="Homomorphisms.Isomorphisms.html#2821" class="Function">â‰…-refl</a>
 <a id="6706" href="Varieties.Preservation.html#6342" class="Function">PSâŠ†SP</a> <a id="6712" class="Symbol">_</a> <a id="6714" class="Symbol">(</a><a id="6715" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="6721" class="Symbol">(</a><a id="6722" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a><a id="6726" class="Symbol">{</a><a id="6727" href="Varieties.Preservation.html#6727" class="Bound">ğ‘¨</a><a id="6728" class="Symbol">}{</a><a id="6730" href="Varieties.Preservation.html#6730" class="Bound">ğ‘©</a><a id="6731" class="Symbol">}</a> <a id="6733" href="Varieties.Preservation.html#6733" class="Bound">x</a> <a id="6735" href="Varieties.Preservation.html#6735" class="Bound">Aâ‰…B</a><a id="6738" class="Symbol">))</a> <a id="6741" class="Symbol">=</a> <a id="6743" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a> <a id="6748" class="Symbol">(</a><a id="6749" href="Varieties.Preservation.html#3605" class="Function">SâŠ†SP</a> <a id="6754" href="Varieties.Preservation.html#6304" class="Bound">ğ’¦</a> <a id="6756" class="Symbol">(</a><a id="6757" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a> <a id="6763" href="Varieties.Preservation.html#6733" class="Bound">x</a><a id="6764" class="Symbol">))</a> <a id="6767" class="Symbol">(</a> <a id="6769" href="Homomorphisms.Isomorphisms.html#4674" class="Function">Lift-Alg-iso</a> <a id="6782" href="Varieties.Preservation.html#6735" class="Bound">Aâ‰…B</a> <a id="6786" class="Symbol">)</a>
 <a id="6789" href="Varieties.Preservation.html#6342" class="Function">PSâŠ†SP</a> <a id="6795" href="Varieties.Preservation.html#6795" class="Bound">hfe</a> <a id="6799" class="Symbol">(</a><a id="6800" href="Varieties.Closure.html#4503" class="InductiveConstructor">pliftu</a> <a id="6807" href="Varieties.Preservation.html#6807" class="Bound">x</a><a id="6808" class="Symbol">)</a> <a id="6810" class="Symbol">=</a> <a id="6812" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a> <a id="6818" class="Symbol">(</a><a id="6819" href="Varieties.Preservation.html#6342" class="Function">PSâŠ†SP</a> <a id="6825" href="Varieties.Preservation.html#6795" class="Bound">hfe</a> <a id="6829" href="Varieties.Preservation.html#6807" class="Bound">x</a><a id="6830" class="Symbol">)</a>
 <a id="6833" href="Varieties.Preservation.html#6342" class="Function">PSâŠ†SP</a> <a id="6839" href="Varieties.Preservation.html#6839" class="Bound">hfe</a> <a id="6843" class="Symbol">(</a><a id="6844" href="Varieties.Closure.html#4568" class="InductiveConstructor">pliftw</a> <a id="6851" href="Varieties.Preservation.html#6851" class="Bound">x</a><a id="6852" class="Symbol">)</a> <a id="6854" class="Symbol">=</a> <a id="6856" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a> <a id="6862" class="Symbol">(</a><a id="6863" href="Varieties.Preservation.html#6342" class="Function">PSâŠ†SP</a> <a id="6869" href="Varieties.Preservation.html#6839" class="Bound">hfe</a> <a id="6873" href="Varieties.Preservation.html#6851" class="Bound">x</a><a id="6874" class="Symbol">)</a>

 <a id="6878" href="Varieties.Preservation.html#6342" class="Function">PSâŠ†SP</a> <a id="6884" href="Varieties.Preservation.html#6884" class="Bound">hfe</a> <a id="6888" class="Symbol">(</a><a id="6889" href="Varieties.Closure.html#4645" class="InductiveConstructor">produ</a><a id="6894" class="Symbol">{</a><a id="6895" href="Varieties.Preservation.html#6895" class="Bound">I</a><a id="6896" class="Symbol">}{</a><a id="6898" href="Varieties.Preservation.html#6898" class="Bound">ğ’œ</a><a id="6899" class="Symbol">}</a> <a id="6901" href="Varieties.Preservation.html#6901" class="Bound">x</a><a id="6902" class="Symbol">)</a> <a id="6904" class="Symbol">=</a> <a id="6906" class="Symbol">(</a><a id="6907" href="Varieties.Closure.html#6897" class="Function">S-mono</a> <a id="6914" class="Symbol">(</a><a id="6915" href="Varieties.Closure.html#9666" class="Function">P-idemp</a><a id="6922" class="Symbol">))</a> <a id="6925" class="Symbol">(</a><a id="6926" href="Varieties.Closure.html#7476" class="Function">subalgebraâ†’S</a> <a id="6939" href="Varieties.Preservation.html#7052" class="Function">Î·</a><a id="6940" class="Symbol">)</a>
  <a id="6944" class="Keyword">where</a>
   <a id="6953" href="Varieties.Preservation.html#6953" class="Function">Î¾</a> <a id="6955" class="Symbol">:</a> <a id="6957" class="Symbol">(</a><a id="6958" href="Varieties.Preservation.html#6958" class="Bound">i</a> <a id="6960" class="Symbol">:</a> <a id="6962" href="Varieties.Preservation.html#6895" class="Bound">I</a><a id="6963" class="Symbol">)</a> <a id="6965" class="Symbol">â†’</a> <a id="6967" class="Symbol">(</a><a id="6968" href="Varieties.Preservation.html#6898" class="Bound">ğ’œ</a> <a id="6970" href="Varieties.Preservation.html#6958" class="Bound">i</a><a id="6971" class="Symbol">)</a> <a id="6973" href="Subalgebras.Subalgebras.html#6041" class="Function Operator">IsSubalgebraOfClass</a> <a id="6993" class="Symbol">(</a><a id="6994" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="6995" class="Symbol">{</a><a id="6996" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="6997" class="Symbol">}{</a><a id="6999" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7002" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="7003" class="Symbol">}</a> <a id="7005" href="Varieties.Preservation.html#6304" class="Bound">ğ’¦</a><a id="7006" class="Symbol">)</a>
   <a id="7011" href="Varieties.Preservation.html#6953" class="Function">Î¾</a> <a id="7013" href="Varieties.Preservation.html#7013" class="Bound">i</a> <a id="7015" class="Symbol">=</a> <a id="7017" href="Varieties.Closure.html#7848" class="Function">Sâ†’subalgebra</a> <a id="7030" class="Symbol">(</a><a id="7031" href="Varieties.Preservation.html#6342" class="Function">PSâŠ†SP</a> <a id="7037" href="Varieties.Preservation.html#6884" class="Bound">hfe</a> <a id="7041" class="Symbol">(</a><a id="7042" href="Varieties.Preservation.html#6901" class="Bound">x</a> <a id="7044" href="Varieties.Preservation.html#7013" class="Bound">i</a><a id="7045" class="Symbol">))</a>

   <a id="7052" href="Varieties.Preservation.html#7052" class="Function">Î·</a> <a id="7054" class="Symbol">:</a> <a id="7056" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="7058" href="Varieties.Preservation.html#6898" class="Bound">ğ’œ</a> <a id="7060" href="Subalgebras.Subalgebras.html#6041" class="Function Operator">IsSubalgebraOfClass</a> <a id="7080" class="Symbol">(</a><a id="7081" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="7082" class="Symbol">{</a><a id="7083" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7086" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="7087" class="Symbol">}{</a><a id="7089" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7092" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="7093" class="Symbol">}</a> <a id="7095" class="Symbol">(</a><a id="7096" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="7097" class="Symbol">{</a><a id="7098" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="7099" class="Symbol">}{</a><a id="7101" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7104" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="7105" class="Symbol">}</a> <a id="7107" href="Varieties.Preservation.html#6304" class="Bound">ğ’¦</a><a id="7108" class="Symbol">))</a>
   <a id="7114" href="Varieties.Preservation.html#7052" class="Function">Î·</a> <a id="7116" class="Symbol">=</a> <a id="7118" href="Varieties.Preservation.html#5070" class="Function">lemPSâŠ†SP</a> <a id="7127" href="Varieties.Preservation.html#6884" class="Bound">hfe</a> <a id="7131" href="Varieties.Preservation.html#6275" class="Bound">fovu</a> <a id="7136" class="Symbol">{</a><a id="7137" href="Varieties.Preservation.html#6895" class="Bound">I</a><a id="7138" class="Symbol">}</a> <a id="7140" class="Symbol">{</a><a id="7141" href="Varieties.Preservation.html#6898" class="Bound">ğ’œ</a><a id="7142" class="Symbol">}</a> <a id="7144" href="Varieties.Preservation.html#6953" class="Function">Î¾</a>

 <a id="7148" href="Varieties.Preservation.html#6342" class="Function">PSâŠ†SP</a> <a id="7154" href="Varieties.Preservation.html#7154" class="Bound">hfe</a> <a id="7158" class="Symbol">(</a><a id="7159" href="Varieties.Closure.html#4730" class="InductiveConstructor">prodw</a><a id="7164" class="Symbol">{</a><a id="7165" href="Varieties.Preservation.html#7165" class="Bound">I</a><a id="7166" class="Symbol">}{</a><a id="7168" href="Varieties.Preservation.html#7168" class="Bound">ğ’œ</a><a id="7169" class="Symbol">}</a> <a id="7171" href="Varieties.Preservation.html#7171" class="Bound">x</a><a id="7172" class="Symbol">)</a> <a id="7174" class="Symbol">=</a> <a id="7176" class="Symbol">(</a><a id="7177" href="Varieties.Closure.html#6897" class="Function">S-mono</a> <a id="7184" class="Symbol">(</a><a id="7185" href="Varieties.Closure.html#9666" class="Function">P-idemp</a><a id="7192" class="Symbol">))</a> <a id="7195" class="Symbol">(</a><a id="7196" href="Varieties.Closure.html#7476" class="Function">subalgebraâ†’S</a> <a id="7209" href="Varieties.Preservation.html#7322" class="Function">Î·</a><a id="7210" class="Symbol">)</a>
  <a id="7214" class="Keyword">where</a>
   <a id="7223" href="Varieties.Preservation.html#7223" class="Function">Î¾</a> <a id="7225" class="Symbol">:</a> <a id="7227" class="Symbol">(</a><a id="7228" href="Varieties.Preservation.html#7228" class="Bound">i</a> <a id="7230" class="Symbol">:</a> <a id="7232" href="Varieties.Preservation.html#7165" class="Bound">I</a><a id="7233" class="Symbol">)</a> <a id="7235" class="Symbol">â†’</a> <a id="7237" class="Symbol">(</a><a id="7238" href="Varieties.Preservation.html#7168" class="Bound">ğ’œ</a> <a id="7240" href="Varieties.Preservation.html#7228" class="Bound">i</a><a id="7241" class="Symbol">)</a> <a id="7243" href="Subalgebras.Subalgebras.html#6041" class="Function Operator">IsSubalgebraOfClass</a> <a id="7263" class="Symbol">(</a><a id="7264" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="7265" class="Symbol">{</a><a id="7266" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="7267" class="Symbol">}{</a><a id="7269" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7272" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="7273" class="Symbol">}</a> <a id="7275" href="Varieties.Preservation.html#6304" class="Bound">ğ’¦</a><a id="7276" class="Symbol">)</a>
   <a id="7281" href="Varieties.Preservation.html#7223" class="Function">Î¾</a> <a id="7283" href="Varieties.Preservation.html#7283" class="Bound">i</a> <a id="7285" class="Symbol">=</a> <a id="7287" href="Varieties.Closure.html#7848" class="Function">Sâ†’subalgebra</a> <a id="7300" class="Symbol">(</a><a id="7301" href="Varieties.Preservation.html#6342" class="Function">PSâŠ†SP</a> <a id="7307" href="Varieties.Preservation.html#7154" class="Bound">hfe</a> <a id="7311" class="Symbol">(</a><a id="7312" href="Varieties.Preservation.html#7171" class="Bound">x</a> <a id="7314" href="Varieties.Preservation.html#7283" class="Bound">i</a><a id="7315" class="Symbol">))</a>

   <a id="7322" href="Varieties.Preservation.html#7322" class="Function">Î·</a> <a id="7324" class="Symbol">:</a> <a id="7326" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="7328" href="Varieties.Preservation.html#7168" class="Bound">ğ’œ</a> <a id="7330" href="Subalgebras.Subalgebras.html#6041" class="Function Operator">IsSubalgebraOfClass</a> <a id="7350" class="Symbol">(</a><a id="7351" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="7352" class="Symbol">{</a><a id="7353" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7356" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="7357" class="Symbol">}{</a><a id="7359" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7362" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="7363" class="Symbol">}</a> <a id="7365" class="Symbol">(</a><a id="7366" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="7367" class="Symbol">{</a><a id="7368" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="7369" class="Symbol">}{</a><a id="7371" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7374" href="Varieties.Preservation.html#6263" class="Bound">Î±</a><a id="7375" class="Symbol">}</a> <a id="7377" href="Varieties.Preservation.html#6304" class="Bound">ğ’¦</a><a id="7378" class="Symbol">))</a>
   <a id="7384" href="Varieties.Preservation.html#7322" class="Function">Î·</a> <a id="7386" class="Symbol">=</a> <a id="7388" href="Varieties.Preservation.html#5070" class="Function">lemPSâŠ†SP</a> <a id="7397" href="Varieties.Preservation.html#7154" class="Bound">hfe</a> <a id="7401" href="Varieties.Preservation.html#6275" class="Bound">fovu</a>  <a id="7407" class="Symbol">{</a><a id="7408" href="Varieties.Preservation.html#7165" class="Bound">I</a><a id="7409" class="Symbol">}</a> <a id="7411" class="Symbol">{</a><a id="7412" href="Varieties.Preservation.html#7168" class="Bound">ğ’œ</a><a id="7413" class="Symbol">}</a> <a id="7415" href="Varieties.Preservation.html#7223" class="Function">Î¾</a>

 <a id="7419" href="Varieties.Preservation.html#6342" class="Function">PSâŠ†SP</a> <a id="7425" href="Varieties.Preservation.html#7425" class="Bound">hfe</a> <a id="7429" class="Symbol">(</a><a id="7430" href="Varieties.Closure.html#4815" class="InductiveConstructor">pisow</a><a id="7435" class="Symbol">{</a><a id="7436" href="Varieties.Preservation.html#7436" class="Bound">ğ‘¨</a><a id="7437" class="Symbol">}{</a><a id="7439" href="Varieties.Preservation.html#7439" class="Bound">ğ‘©</a><a id="7440" class="Symbol">}</a> <a id="7442" href="Varieties.Preservation.html#7442" class="Bound">pA</a> <a id="7445" href="Varieties.Preservation.html#7445" class="Bound">Aâ‰…B</a><a id="7448" class="Symbol">)</a> <a id="7450" class="Symbol">=</a> <a id="7452" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a> <a id="7457" class="Symbol">(</a><a id="7458" href="Varieties.Preservation.html#6342" class="Function">PSâŠ†SP</a> <a id="7464" href="Varieties.Preservation.html#7425" class="Bound">hfe</a> <a id="7468" href="Varieties.Preservation.html#7442" class="Bound">pA</a><a id="7470" class="Symbol">)</a> <a id="7472" href="Varieties.Preservation.html#7445" class="Bound">Aâ‰…B</a>

</pre>



#### <a id="more-class-inclusions">More class inclusions</a>

We conclude this subsection with three more inclusion relations that will have bit parts to play later (e.g., in the formal proof of Birkhoff's Theorem).

<pre class="Agda">

<a id="PâŠ†V"></a><a id="7722" href="Varieties.Preservation.html#7722" class="Function">PâŠ†V</a> <a id="7726" class="Symbol">:</a> <a id="7728" class="Symbol">{</a><a id="7729" href="Varieties.Preservation.html#7729" class="Bound">Î±</a> <a id="7731" href="Varieties.Preservation.html#7731" class="Bound">Î²</a> <a id="7733" class="Symbol">:</a> <a id="7735" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="7740" class="Symbol">}{</a><a id="7742" href="Varieties.Preservation.html#7742" class="Bound">ğ’¦</a> <a id="7744" class="Symbol">:</a> <a id="7746" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="7751" class="Symbol">(</a><a id="7752" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="7760" href="Varieties.Preservation.html#7729" class="Bound">Î±</a> <a id="7762" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="7763" class="Symbol">)(</a><a id="7765" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7768" href="Varieties.Preservation.html#7729" class="Bound">Î±</a><a id="7769" class="Symbol">)}</a> <a id="7772" class="Symbol">â†’</a> <a id="7774" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="7775" class="Symbol">{</a><a id="7776" href="Varieties.Preservation.html#7729" class="Bound">Î±</a><a id="7777" class="Symbol">}{</a><a id="7779" href="Varieties.Preservation.html#7731" class="Bound">Î²</a><a id="7780" class="Symbol">}</a> <a id="7782" href="Varieties.Preservation.html#7742" class="Bound">ğ’¦</a> <a id="7784" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="7786" href="Varieties.Closure.html#5316" class="Datatype">V</a><a id="7787" class="Symbol">{</a><a id="7788" href="Varieties.Preservation.html#7729" class="Bound">Î±</a><a id="7789" class="Symbol">}{</a><a id="7791" href="Varieties.Preservation.html#7731" class="Bound">Î²</a><a id="7792" class="Symbol">}</a> <a id="7794" href="Varieties.Preservation.html#7742" class="Bound">ğ’¦</a>

<a id="7797" href="Varieties.Preservation.html#7722" class="Function">PâŠ†V</a> <a id="7801" class="Symbol">(</a><a id="7802" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="7808" href="Varieties.Preservation.html#7808" class="Bound">x</a><a id="7809" class="Symbol">)</a> <a id="7811" class="Symbol">=</a> <a id="7813" href="Varieties.Closure.html#5404" class="InductiveConstructor">vbase</a> <a id="7819" href="Varieties.Preservation.html#7808" class="Bound">x</a>
<a id="7821" href="Varieties.Preservation.html#7722" class="Function">PâŠ†V</a><a id="7824" class="Symbol">{</a><a id="7825" href="Varieties.Preservation.html#7825" class="Bound">Î±</a><a id="7826" class="Symbol">}</a> <a id="7828" class="Symbol">(</a><a id="7829" href="Varieties.Closure.html#4503" class="InductiveConstructor">pliftu</a> <a id="7836" href="Varieties.Preservation.html#7836" class="Bound">x</a><a id="7837" class="Symbol">)</a> <a id="7839" class="Symbol">=</a> <a id="7841" href="Varieties.Closure.html#5461" class="InductiveConstructor">vlift</a> <a id="7847" class="Symbol">(</a><a id="7848" href="Varieties.Preservation.html#7722" class="Function">PâŠ†V</a><a id="7851" class="Symbol">{</a><a id="7852" href="Varieties.Preservation.html#7825" class="Bound">Î±</a><a id="7853" class="Symbol">}{</a><a id="7855" href="Varieties.Preservation.html#7825" class="Bound">Î±</a><a id="7856" class="Symbol">}</a> <a id="7858" href="Varieties.Preservation.html#7836" class="Bound">x</a><a id="7859" class="Symbol">)</a>
<a id="7861" href="Varieties.Preservation.html#7722" class="Function">PâŠ†V</a><a id="7864" class="Symbol">{</a><a id="7865" href="Varieties.Preservation.html#7865" class="Bound">Î±</a><a id="7866" class="Symbol">}{</a><a id="7868" href="Varieties.Preservation.html#7868" class="Bound">Î²</a><a id="7869" class="Symbol">}</a> <a id="7871" class="Symbol">(</a><a id="7872" href="Varieties.Closure.html#4568" class="InductiveConstructor">pliftw</a> <a id="7879" href="Varieties.Preservation.html#7879" class="Bound">x</a><a id="7880" class="Symbol">)</a> <a id="7882" class="Symbol">=</a> <a id="7884" href="Varieties.Closure.html#5526" class="InductiveConstructor">vliftw</a> <a id="7891" class="Symbol">(</a><a id="7892" href="Varieties.Preservation.html#7722" class="Function">PâŠ†V</a><a id="7895" class="Symbol">{</a><a id="7896" href="Varieties.Preservation.html#7865" class="Bound">Î±</a><a id="7897" class="Symbol">}{</a><a id="7899" href="Varieties.Preservation.html#7868" class="Bound">Î²</a><a id="7900" class="Symbol">}</a> <a id="7902" href="Varieties.Preservation.html#7879" class="Bound">x</a><a id="7903" class="Symbol">)</a>
<a id="7905" href="Varieties.Preservation.html#7722" class="Function">PâŠ†V</a> <a id="7909" class="Symbol">(</a><a id="7910" href="Varieties.Closure.html#4645" class="InductiveConstructor">produ</a> <a id="7916" href="Varieties.Preservation.html#7916" class="Bound">x</a><a id="7917" class="Symbol">)</a> <a id="7919" class="Symbol">=</a> <a id="7921" href="Varieties.Closure.html#5743" class="InductiveConstructor">vprodu</a> <a id="7928" class="Symbol">(Î»</a> <a id="7931" href="Varieties.Preservation.html#7931" class="Bound">i</a> <a id="7933" class="Symbol">â†’</a> <a id="7935" href="Varieties.Preservation.html#7722" class="Function">PâŠ†V</a> <a id="7939" class="Symbol">(</a><a id="7940" href="Varieties.Preservation.html#7916" class="Bound">x</a> <a id="7942" href="Varieties.Preservation.html#7931" class="Bound">i</a><a id="7943" class="Symbol">))</a>
<a id="7946" href="Varieties.Preservation.html#7722" class="Function">PâŠ†V</a> <a id="7950" class="Symbol">(</a><a id="7951" href="Varieties.Closure.html#4730" class="InductiveConstructor">prodw</a> <a id="7957" href="Varieties.Preservation.html#7957" class="Bound">x</a><a id="7958" class="Symbol">)</a> <a id="7960" class="Symbol">=</a> <a id="7962" href="Varieties.Closure.html#5827" class="InductiveConstructor">vprodw</a> <a id="7969" class="Symbol">(Î»</a> <a id="7972" href="Varieties.Preservation.html#7972" class="Bound">i</a> <a id="7974" class="Symbol">â†’</a> <a id="7976" href="Varieties.Preservation.html#7722" class="Function">PâŠ†V</a> <a id="7980" class="Symbol">(</a><a id="7981" href="Varieties.Preservation.html#7957" class="Bound">x</a> <a id="7983" href="Varieties.Preservation.html#7972" class="Bound">i</a><a id="7984" class="Symbol">))</a>
<a id="7987" href="Varieties.Preservation.html#7722" class="Function">PâŠ†V</a> <a id="7991" class="Symbol">(</a><a id="7992" href="Varieties.Closure.html#4815" class="InductiveConstructor">pisow</a> <a id="7998" href="Varieties.Preservation.html#7998" class="Bound">x</a> <a id="8000" href="Varieties.Preservation.html#8000" class="Bound">xâ‚</a><a id="8002" class="Symbol">)</a> <a id="8004" class="Symbol">=</a> <a id="8006" href="Varieties.Closure.html#5990" class="InductiveConstructor">visow</a> <a id="8012" class="Symbol">(</a><a id="8013" href="Varieties.Preservation.html#7722" class="Function">PâŠ†V</a> <a id="8017" href="Varieties.Preservation.html#7998" class="Bound">x</a><a id="8018" class="Symbol">)</a> <a id="8020" href="Varieties.Preservation.html#8000" class="Bound">xâ‚</a>


<a id="SPâŠ†V"></a><a id="8025" href="Varieties.Preservation.html#8025" class="Function">SPâŠ†V</a> <a id="8030" class="Symbol">:</a> <a id="8032" class="Symbol">{</a><a id="8033" href="Varieties.Preservation.html#8033" class="Bound">Î±</a> <a id="8035" href="Varieties.Preservation.html#8035" class="Bound">Î²</a> <a id="8037" class="Symbol">:</a> <a id="8039" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="8044" class="Symbol">}{</a><a id="8046" href="Varieties.Preservation.html#8046" class="Bound">ğ’¦</a> <a id="8048" class="Symbol">:</a> <a id="8050" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="8055" class="Symbol">(</a><a id="8056" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="8064" href="Varieties.Preservation.html#8033" class="Bound">Î±</a> <a id="8066" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="8067" class="Symbol">)(</a><a id="8069" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="8072" href="Varieties.Preservation.html#8033" class="Bound">Î±</a><a id="8073" class="Symbol">)}</a>
 <a id="8077" class="Symbol">â†’</a>     <a id="8083" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="8084" class="Symbol">{</a><a id="8085" href="Varieties.Preservation.html#8033" class="Bound">Î±</a> <a id="8087" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="8089" href="Varieties.Preservation.html#8035" class="Bound">Î²</a><a id="8090" class="Symbol">}{</a><a id="8092" href="Varieties.Preservation.html#8033" class="Bound">Î±</a> <a id="8094" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="8096" href="Varieties.Preservation.html#8035" class="Bound">Î²</a><a id="8097" class="Symbol">}</a> <a id="8099" class="Symbol">(</a><a id="8100" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="8101" class="Symbol">{</a><a id="8102" href="Varieties.Preservation.html#8033" class="Bound">Î±</a><a id="8103" class="Symbol">}{</a><a id="8105" href="Varieties.Preservation.html#8035" class="Bound">Î²</a><a id="8106" class="Symbol">}</a> <a id="8108" href="Varieties.Preservation.html#8046" class="Bound">ğ’¦</a><a id="8109" class="Symbol">)</a> <a id="8111" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="8113" href="Varieties.Closure.html#5316" class="Datatype">V</a> <a id="8115" href="Varieties.Preservation.html#8046" class="Bound">ğ’¦</a>

<a id="8118" href="Varieties.Preservation.html#8025" class="Function">SPâŠ†V</a> <a id="8123" class="Symbol">(</a><a id="8124" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a><a id="8129" class="Symbol">{</a><a id="8130" href="Varieties.Preservation.html#8130" class="Bound">ğ‘¨</a><a id="8131" class="Symbol">}</a> <a id="8133" href="Varieties.Preservation.html#8133" class="Bound">PCloA</a><a id="8138" class="Symbol">)</a> <a id="8140" class="Symbol">=</a> <a id="8142" href="Varieties.Preservation.html#7722" class="Function">PâŠ†V</a> <a id="8146" class="Symbol">(</a><a id="8147" href="Varieties.Closure.html#4815" class="InductiveConstructor">pisow</a> <a id="8153" href="Varieties.Preservation.html#8133" class="Bound">PCloA</a> <a id="8159" href="Homomorphisms.Isomorphisms.html#4355" class="Function">Lift-â‰…</a><a id="8165" class="Symbol">)</a>
<a id="8167" href="Varieties.Preservation.html#8025" class="Function">SPâŠ†V</a> <a id="8172" class="Symbol">(</a><a id="8173" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a><a id="8178" class="Symbol">{</a><a id="8179" href="Varieties.Preservation.html#8179" class="Bound">ğ‘¨</a><a id="8180" class="Symbol">}</a> <a id="8182" href="Varieties.Preservation.html#8182" class="Bound">x</a><a id="8183" class="Symbol">)</a> <a id="8185" class="Symbol">=</a> <a id="8187" href="Varieties.Closure.html#5526" class="InductiveConstructor">vliftw</a> <a id="8194" class="Symbol">(</a><a id="8195" href="Varieties.Preservation.html#8025" class="Function">SPâŠ†V</a> <a id="8200" href="Varieties.Preservation.html#8182" class="Bound">x</a><a id="8201" class="Symbol">)</a>
<a id="8203" href="Varieties.Preservation.html#8025" class="Function">SPâŠ†V</a> <a id="8208" class="Symbol">(</a><a id="8209" href="Varieties.Closure.html#3982" class="InductiveConstructor">ssub</a><a id="8213" class="Symbol">{</a><a id="8214" href="Varieties.Preservation.html#8214" class="Bound">ğ‘¨</a><a id="8215" class="Symbol">}{</a><a id="8217" href="Varieties.Preservation.html#8217" class="Bound">ğ‘©</a><a id="8218" class="Symbol">}</a> <a id="8220" href="Varieties.Preservation.html#8220" class="Bound">spA</a> <a id="8224" href="Varieties.Preservation.html#8224" class="Bound">Bâ‰¤A</a><a id="8227" class="Symbol">)</a> <a id="8229" class="Symbol">=</a> <a id="8231" href="Varieties.Closure.html#5679" class="InductiveConstructor">vssubw</a> <a id="8238" class="Symbol">(</a><a id="8239" href="Varieties.Preservation.html#8025" class="Function">SPâŠ†V</a> <a id="8244" href="Varieties.Preservation.html#8220" class="Bound">spA</a><a id="8247" class="Symbol">)</a> <a id="8249" href="Varieties.Preservation.html#8224" class="Bound">Bâ‰¤A</a>
<a id="8253" href="Varieties.Preservation.html#8025" class="Function">SPâŠ†V</a> <a id="8258" class="Symbol">(</a><a id="8259" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a> <a id="8264" href="Varieties.Preservation.html#8264" class="Bound">x</a> <a id="8266" href="Varieties.Preservation.html#8266" class="Bound">xâ‚</a><a id="8268" class="Symbol">)</a> <a id="8270" class="Symbol">=</a> <a id="8272" href="Varieties.Closure.html#5990" class="InductiveConstructor">visow</a> <a id="8278" class="Symbol">(</a><a id="8279" href="Varieties.Preservation.html#8025" class="Function">SPâŠ†V</a> <a id="8284" href="Varieties.Preservation.html#8264" class="Bound">x</a><a id="8285" class="Symbol">)</a> <a id="8287" href="Varieties.Preservation.html#8266" class="Bound">xâ‚</a>

</pre>


#### <a id="V-is-closed-under-lift">V is closed under lift</a>

As mentioned earlier, a technical hurdle that must be overcome when formalizing proofs in Agda is the proper handling of universe levels. In particular, in the proof of the Birkhoff's theorem, for example, we will need to know that if an algebra ğ‘¨ belongs to the variety V ğ’¦, then so does the lift of ğ‘¨.  Let us get the tedious proof of this technical lemma out of the way.

Above we proved that `SP(ğ’¦) âŠ† V(ğ’¦)`, and we did so under fairly general assumptions about the universe level parameters.  Unfortunately, this is sometimes not quite general enough, so we now prove the inclusion again for the specific universe parameters that align with subsequent applications of this result.


<pre class="Agda">

<a id="9069" class="Keyword">module</a> <a id="9076" href="Varieties.Preservation.html#9076" class="Module">_</a> <a id="9078" class="Symbol">{</a><a id="9079" href="Varieties.Preservation.html#9079" class="Bound">Î±</a> <a id="9081" class="Symbol">:</a> <a id="9083" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="9088" class="Symbol">}</a>  <a id="9091" class="Symbol">{</a><a id="9092" href="Varieties.Preservation.html#9092" class="Bound">feâ‚€</a> <a id="9096" class="Symbol">:</a> <a id="9098" href="Varieties.Preservation.html#934" class="Function">funext</a> <a id="9105" class="Symbol">(</a><a id="9106" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9109" href="Varieties.Preservation.html#9079" class="Bound">Î±</a><a id="9110" class="Symbol">)</a> <a id="9112" href="Varieties.Preservation.html#9079" class="Bound">Î±</a><a id="9113" class="Symbol">}</a>
         <a id="9124" class="Symbol">{</a><a id="9125" href="Varieties.Preservation.html#9125" class="Bound">feâ‚</a> <a id="9129" class="Symbol">:</a> <a id="9131" href="Varieties.Preservation.html#934" class="Function">funext</a> <a id="9138" class="Symbol">((</a><a id="9140" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9143" href="Varieties.Preservation.html#9079" class="Bound">Î±</a><a id="9144" class="Symbol">)</a> <a id="9146" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="9148" class="Symbol">(</a><a id="9149" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9154" class="Symbol">(</a><a id="9155" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9158" href="Varieties.Preservation.html#9079" class="Bound">Î±</a><a id="9159" class="Symbol">)))</a> <a id="9163" class="Symbol">(</a><a id="9164" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9169" class="Symbol">(</a><a id="9170" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9173" href="Varieties.Preservation.html#9079" class="Bound">Î±</a><a id="9174" class="Symbol">))}</a>
         <a id="9187" class="Symbol">{</a><a id="9188" href="Varieties.Preservation.html#9188" class="Bound">feâ‚‚</a> <a id="9192" class="Symbol">:</a> <a id="9194" href="Varieties.Preservation.html#934" class="Function">funext</a> <a id="9201" class="Symbol">(</a><a id="9202" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9205" href="Varieties.Preservation.html#9079" class="Bound">Î±</a><a id="9206" class="Symbol">)</a> <a id="9208" class="Symbol">(</a><a id="9209" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9212" href="Varieties.Preservation.html#9079" class="Bound">Î±</a><a id="9213" class="Symbol">)}</a>
         <a id="9225" class="Symbol">{</a><a id="9226" href="Varieties.Preservation.html#9226" class="Bound">ğ’¦</a> <a id="9228" class="Symbol">:</a> <a id="9230" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="9235" class="Symbol">(</a><a id="9236" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="9244" href="Varieties.Preservation.html#9079" class="Bound">Î±</a> <a id="9246" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="9247" class="Symbol">)(</a><a id="9249" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9252" href="Varieties.Preservation.html#9079" class="Bound">Î±</a><a id="9253" class="Symbol">)}</a> <a id="9256" class="Keyword">where</a>

 <a id="9264" class="Keyword">open</a> <a id="9269" href="Varieties.Closure.html#11720" class="Module">Vlift</a> <a id="9275" class="Symbol">{</a><a id="9276" href="Varieties.Preservation.html#9079" class="Bound">Î±</a><a id="9277" class="Symbol">}{</a><a id="9279" href="Varieties.Preservation.html#9092" class="Bound">feâ‚€</a><a id="9282" class="Symbol">}{</a><a id="9284" href="Varieties.Preservation.html#9125" class="Bound">feâ‚</a><a id="9287" class="Symbol">}{</a><a id="9289" href="Varieties.Preservation.html#9188" class="Bound">feâ‚‚</a><a id="9292" class="Symbol">}{</a><a id="9294" href="Varieties.Preservation.html#9226" class="Bound">ğ’¦</a><a id="9295" class="Symbol">}</a>

 <a id="9299" href="Varieties.Preservation.html#9299" class="Function">SPâŠ†V&#39;</a> <a id="9305" class="Symbol">:</a> <a id="9307" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="9308" class="Symbol">{</a><a id="9309" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9312" href="Varieties.Preservation.html#9079" class="Bound">Î±</a><a id="9313" class="Symbol">}{</a><a id="9315" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9320" class="Symbol">(</a><a id="9321" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9324" href="Varieties.Preservation.html#9079" class="Bound">Î±</a><a id="9325" class="Symbol">)}</a> <a id="9328" class="Symbol">(</a><a id="9329" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="9330" class="Symbol">{</a><a id="9331" href="Varieties.Preservation.html#9079" class="Bound">Î±</a><a id="9332" class="Symbol">}{</a><a id="9334" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9337" href="Varieties.Preservation.html#9079" class="Bound">Î±</a><a id="9338" class="Symbol">}</a> <a id="9340" href="Varieties.Preservation.html#9226" class="Bound">ğ’¦</a><a id="9341" class="Symbol">)</a> <a id="9343" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="9345" href="Varieties.Closure.html#5316" class="Datatype">V</a> <a id="9347" href="Varieties.Preservation.html#9226" class="Bound">ğ’¦</a>

 <a id="9351" href="Varieties.Preservation.html#9299" class="Function">SPâŠ†V&#39;</a> <a id="9357" class="Symbol">(</a><a id="9358" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a><a id="9363" class="Symbol">{</a><a id="9364" href="Varieties.Preservation.html#9364" class="Bound">ğ‘¨</a><a id="9365" class="Symbol">}</a> <a id="9367" href="Varieties.Preservation.html#9367" class="Bound">x</a><a id="9368" class="Symbol">)</a> <a id="9370" class="Symbol">=</a> <a id="9372" href="Varieties.Closure.html#5990" class="InductiveConstructor">visow</a> <a id="9378" class="Symbol">(</a><a id="9379" href="Varieties.Closure.html#11923" class="Function">VlA</a> <a id="9383" class="Symbol">(</a><a id="9384" href="Varieties.Preservation.html#8025" class="Function">SPâŠ†V</a> <a id="9389" class="Symbol">(</a><a id="9390" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a> <a id="9396" href="Varieties.Preservation.html#9367" class="Bound">x</a><a id="9397" class="Symbol">)))</a> <a id="9401" class="Symbol">(</a><a id="9402" href="Homomorphisms.Isomorphisms.html#2911" class="Function">â‰…-sym</a> <a id="9408" class="Symbol">(</a><a id="9409" href="Homomorphisms.Isomorphisms.html#5096" class="Function">Lift-Alg-assoc</a> <a id="9424" class="Symbol">_</a> <a id="9426" class="Symbol">_{</a><a id="9428" href="Varieties.Preservation.html#9364" class="Bound">ğ‘¨</a><a id="9429" class="Symbol">}))</a>
 <a id="9434" href="Varieties.Preservation.html#9299" class="Function">SPâŠ†V&#39;</a> <a id="9440" class="Symbol">(</a><a id="9441" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a> <a id="9447" href="Varieties.Preservation.html#9447" class="Bound">x</a><a id="9448" class="Symbol">)</a> <a id="9450" class="Symbol">=</a> <a id="9452" href="Varieties.Closure.html#11923" class="Function">VlA</a> <a id="9456" class="Symbol">(</a><a id="9457" href="Varieties.Preservation.html#8025" class="Function">SPâŠ†V</a> <a id="9462" href="Varieties.Preservation.html#9447" class="Bound">x</a><a id="9463" class="Symbol">)</a>

 <a id="9467" href="Varieties.Preservation.html#9299" class="Function">SPâŠ†V&#39;</a> <a id="9473" class="Symbol">(</a><a id="9474" href="Varieties.Closure.html#3982" class="InductiveConstructor">ssub</a><a id="9478" class="Symbol">{</a><a id="9479" href="Varieties.Preservation.html#9479" class="Bound">ğ‘¨</a><a id="9480" class="Symbol">}{</a><a id="9482" href="Varieties.Preservation.html#9482" class="Bound">ğ‘©</a><a id="9483" class="Symbol">}</a> <a id="9485" href="Varieties.Preservation.html#9485" class="Bound">spA</a> <a id="9489" href="Varieties.Preservation.html#9489" class="Bound">Bâ‰¤A</a><a id="9492" class="Symbol">)</a> <a id="9494" class="Symbol">=</a> <a id="9496" href="Varieties.Closure.html#5679" class="InductiveConstructor">vssubw</a> <a id="9503" class="Symbol">(</a><a id="9504" href="Varieties.Closure.html#11923" class="Function">VlA</a> <a id="9508" class="Symbol">(</a><a id="9509" href="Varieties.Preservation.html#8025" class="Function">SPâŠ†V</a> <a id="9514" href="Varieties.Preservation.html#9485" class="Bound">spA</a><a id="9517" class="Symbol">))</a> <a id="9520" href="Varieties.Preservation.html#9536" class="Function">Bâ‰¤lA</a>
  <a id="9527" class="Keyword">where</a>
   <a id="9536" href="Varieties.Preservation.html#9536" class="Function">Bâ‰¤lA</a> <a id="9541" class="Symbol">:</a> <a id="9543" href="Varieties.Preservation.html#9482" class="Bound">ğ‘©</a> <a id="9545" href="Subalgebras.Subalgebras.html#2483" class="Function Operator">â‰¤</a> <a id="9547" href="Algebras.Basic.html#10870" class="Function">Lift-Alg</a> <a id="9556" href="Varieties.Preservation.html#9479" class="Bound">ğ‘¨</a> <a id="9558" class="Symbol">(</a><a id="9559" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9564" class="Symbol">(</a><a id="9565" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9568" href="Varieties.Preservation.html#9079" class="Bound">Î±</a><a id="9569" class="Symbol">))</a>
   <a id="9575" href="Varieties.Preservation.html#9536" class="Function">Bâ‰¤lA</a> <a id="9580" class="Symbol">=</a> <a id="9582" href="Subalgebras.Properties.html#5807" class="Function">â‰¤-Lift</a> <a id="9589" href="Varieties.Preservation.html#9479" class="Bound">ğ‘¨</a> <a id="9591" href="Varieties.Preservation.html#9489" class="Bound">Bâ‰¤A</a>

 <a id="9597" href="Varieties.Preservation.html#9299" class="Function">SPâŠ†V&#39;</a> <a id="9603" class="Symbol">(</a><a id="9604" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a><a id="9608" class="Symbol">{</a><a id="9609" href="Varieties.Preservation.html#9609" class="Bound">ğ‘¨</a><a id="9610" class="Symbol">}{</a><a id="9612" href="Varieties.Preservation.html#9612" class="Bound">ğ‘©</a><a id="9613" class="Symbol">}</a> <a id="9615" href="Varieties.Preservation.html#9615" class="Bound">x</a> <a id="9617" href="Varieties.Preservation.html#9617" class="Bound">Aâ‰…B</a><a id="9620" class="Symbol">)</a> <a id="9622" class="Symbol">=</a> <a id="9624" href="Varieties.Closure.html#5990" class="InductiveConstructor">visow</a> <a id="9630" class="Symbol">(</a><a id="9631" href="Varieties.Closure.html#11923" class="Function">VlA</a> <a id="9635" class="Symbol">(</a><a id="9636" href="Varieties.Preservation.html#8025" class="Function">SPâŠ†V</a> <a id="9641" href="Varieties.Preservation.html#9615" class="Bound">x</a><a id="9642" class="Symbol">))</a> <a id="9645" href="Varieties.Preservation.html#9661" class="Function">Goal</a>
  <a id="9652" class="Keyword">where</a>
   <a id="9661" href="Varieties.Preservation.html#9661" class="Function">Goal</a> <a id="9666" class="Symbol">:</a> <a id="9668" href="Algebras.Basic.html#10870" class="Function">Lift-Alg</a> <a id="9677" href="Varieties.Preservation.html#9609" class="Bound">ğ‘¨</a> <a id="9679" class="Symbol">(</a><a id="9680" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9685" class="Symbol">(</a><a id="9686" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9689" href="Varieties.Preservation.html#9079" class="Bound">Î±</a><a id="9690" class="Symbol">))</a> <a id="9693" href="Homomorphisms.Isomorphisms.html#2280" class="Record Operator">â‰…</a> <a id="9695" href="Varieties.Preservation.html#9612" class="Bound">ğ‘©</a>
   <a id="9700" href="Varieties.Preservation.html#9661" class="Function">Goal</a> <a id="9705" class="Symbol">=</a> <a id="9707" href="Homomorphisms.Isomorphisms.html#3000" class="Function">â‰…-trans</a> <a id="9715" class="Symbol">(</a><a id="9716" href="Homomorphisms.Isomorphisms.html#2911" class="Function">â‰…-sym</a> <a id="9722" href="Homomorphisms.Isomorphisms.html#4355" class="Function">Lift-â‰…</a><a id="9728" class="Symbol">)</a> <a id="9730" href="Varieties.Preservation.html#9617" class="Bound">Aâ‰…B</a>

</pre>


#### <a id="S-in-SP">â¨… S(ğ’¦) âˆˆ SP(ğ’¦)</a>

Finally, we prove a result that plays an important role, e.g., in the formal proof of Birkhoff's Theorem. As we saw in [Algebras.Products][], the (informal) product `â¨… S(ğ’¦)` of all subalgebras of algebras in ğ’¦ is implemented (formally) in the [agda-algebras](https://github.com/ualib/agda-algebras) library as `â¨… ğ”„ S(ğ’¦)`. Our goal is to prove that this product belongs to `SP(ğ’¦)`. We do so by first proving that the product belongs to `PS(ğ’¦)` and then applying the `PSâŠ†SP` lemma.

Before doing so, we need to redefine the class product so that each factor comes with a map from the type `X` of variable symbols into that factor.  We will explain the reason for this below.

<pre class="Agda">

<a id="10477" class="Keyword">module</a> <a id="class-products-with-maps"></a><a id="10484" href="Varieties.Preservation.html#10484" class="Module">class-products-with-maps</a> <a id="10509" class="Symbol">{</a><a id="10510" href="Varieties.Preservation.html#10510" class="Bound">Î±</a> <a id="10512" class="Symbol">:</a> <a id="10514" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="10519" class="Symbol">}</a>
 <a id="10522" class="Symbol">{</a><a id="10523" href="Varieties.Preservation.html#10523" class="Bound">X</a> <a id="10525" class="Symbol">:</a> <a id="10527" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="10532" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="10533" class="Symbol">}</a>
 <a id="10536" class="Symbol">{</a><a id="10537" href="Varieties.Preservation.html#10537" class="Bound">feğ“•Î±</a> <a id="10542" class="Symbol">:</a> <a id="10544" href="Varieties.Preservation.html#934" class="Function">funext</a> <a id="10551" class="Symbol">(</a><a id="10552" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="10555" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="10556" class="Symbol">)</a> <a id="10558" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="10559" class="Symbol">}</a>
 <a id="10562" class="Symbol">{</a><a id="10563" href="Varieties.Preservation.html#10563" class="Bound">feâ‚</a> <a id="10567" class="Symbol">:</a> <a id="10569" href="Varieties.Preservation.html#934" class="Function">funext</a> <a id="10576" class="Symbol">((</a><a id="10578" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="10581" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="10582" class="Symbol">)</a> <a id="10584" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="10586" class="Symbol">(</a><a id="10587" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="10592" class="Symbol">(</a><a id="10593" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="10596" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="10597" class="Symbol">)))</a> <a id="10601" class="Symbol">(</a><a id="10602" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="10607" class="Symbol">(</a><a id="10608" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="10611" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="10612" class="Symbol">))}</a>
 <a id="10617" class="Symbol">{</a><a id="10618" href="Varieties.Preservation.html#10618" class="Bound">feâ‚‚</a> <a id="10622" class="Symbol">:</a> <a id="10624" href="Varieties.Preservation.html#934" class="Function">funext</a> <a id="10631" class="Symbol">(</a><a id="10632" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="10635" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="10636" class="Symbol">)</a> <a id="10638" class="Symbol">(</a><a id="10639" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="10642" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="10643" class="Symbol">)}</a>
 <a id="10647" class="Symbol">(</a><a id="10648" href="Varieties.Preservation.html#10648" class="Bound">ğ’¦</a> <a id="10650" class="Symbol">:</a> <a id="10652" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="10657" class="Symbol">(</a><a id="10658" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="10666" href="Varieties.Preservation.html#10510" class="Bound">Î±</a> <a id="10668" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="10669" class="Symbol">)(</a><a id="10671" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="10674" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="10675" class="Symbol">))</a>
 <a id="10679" class="Keyword">where</a>

 <a id="class-products-with-maps.â„‘&#39;"></a><a id="10687" href="Varieties.Preservation.html#10687" class="Function">â„‘&#39;</a> <a id="10690" class="Symbol">:</a> <a id="10692" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="10697" class="Symbol">(</a><a id="10698" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="10701" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="10702" class="Symbol">)</a>
 <a id="10705" href="Varieties.Preservation.html#10687" class="Function">â„‘&#39;</a> <a id="10708" class="Symbol">=</a> <a id="10710" href="Data.Product.html#916" class="Function">Î£[</a> <a id="10713" href="Varieties.Preservation.html#10713" class="Bound">ğ‘¨</a> <a id="10715" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="10717" class="Symbol">(</a><a id="10718" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="10726" href="Varieties.Preservation.html#10510" class="Bound">Î±</a> <a id="10728" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="10729" class="Symbol">)</a> <a id="10731" href="Data.Product.html#916" class="Function">]</a> <a id="10733" class="Symbol">((</a><a id="10735" href="Varieties.Preservation.html#10713" class="Bound">ğ‘¨</a> <a id="10737" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="10739" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="10740" class="Symbol">{</a><a id="10741" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="10742" class="Symbol">}{</a><a id="10744" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="10745" class="Symbol">}</a> <a id="10747" href="Varieties.Preservation.html#10648" class="Bound">ğ’¦</a><a id="10748" class="Symbol">)</a> <a id="10750" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="10752" class="Symbol">(</a><a id="10753" href="Varieties.Preservation.html#10523" class="Bound">X</a> <a id="10755" class="Symbol">â†’</a> <a id="10757" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="10759" href="Varieties.Preservation.html#10713" class="Bound">ğ‘¨</a> <a id="10761" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a><a id="10762" class="Symbol">))</a>

</pre>

Notice that the second component of this dependent pair type is  `(ğ‘¨ âˆˆ ğ’¦) Ã— (X â†’ âˆ£ ğ‘¨ âˆ£)`. In previous versions of the [UALib][] this second component was simply `ğ‘¨ âˆˆ ğ’¦`, until we realized that adding the type `X â†’ âˆ£ ğ‘¨ âˆ£` is quite useful. Later we will see exactly why, but for now suffice it to say that a map of type `X â†’ âˆ£ ğ‘¨ âˆ£` may be viewed abstractly as an *ambient context*, or more concretely, as an assignment of *values* in `âˆ£ ğ‘¨ âˆ£` to *variable symbols* in `X`.  When computing with or reasoning about products, while we don't want to rigidly impose a context in advance, want do want to lay our hands on whatever context is ultimately assumed.  Including the "context map" inside the index type `â„‘` of the product turns out to be a convenient way to achieve this flexibility.


Taking the product over the index type `â„‘` requires a function that maps an index `i : â„‘` to the corresponding algebra.  Each `i : â„‘` is a triple, say, `(ğ‘¨ , p , h)`, where `ğ‘¨ : Algebra Î± ğ‘†`, `p : ğ‘¨ âˆˆ ğ’¦`, and `h : X â†’ âˆ£ ğ‘¨ âˆ£`, so the function mapping an index to the corresponding algebra is simply the first projection.

<pre class="Agda">

 <a id="class-products-with-maps.ğ”„&#39;"></a><a id="11901" href="Varieties.Preservation.html#11901" class="Function">ğ”„&#39;</a> <a id="11904" class="Symbol">:</a> <a id="11906" href="Varieties.Preservation.html#10687" class="Function">â„‘&#39;</a> <a id="11909" class="Symbol">â†’</a> <a id="11911" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="11919" href="Varieties.Preservation.html#10510" class="Bound">Î±</a> <a id="11921" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a>
 <a id="11924" href="Varieties.Preservation.html#11901" class="Function">ğ”„&#39;</a> <a id="11927" class="Symbol">=</a> <a id="11929" class="Symbol">Î»</a> <a id="11931" class="Symbol">(</a><a id="11932" href="Varieties.Preservation.html#11932" class="Bound">i</a> <a id="11934" class="Symbol">:</a> <a id="11936" href="Varieties.Preservation.html#10687" class="Function">â„‘&#39;</a><a id="11938" class="Symbol">)</a> <a id="11940" class="Symbol">â†’</a> <a id="11942" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="11944" href="Varieties.Preservation.html#11932" class="Bound">i</a> <a id="11946" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a>

</pre>

Finally, we define `class-product` which represents the product of all members of ğ’¦.

<pre class="Agda">

 <a id="class-products-with-maps.class-product&#39;"></a><a id="12062" href="Varieties.Preservation.html#12062" class="Function">class-product&#39;</a> <a id="12077" class="Symbol">:</a> <a id="12079" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="12087" class="Symbol">(</a><a id="12088" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="12091" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="12092" class="Symbol">)</a> <a id="12094" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a>
 <a id="12097" href="Varieties.Preservation.html#12062" class="Function">class-product&#39;</a> <a id="12112" class="Symbol">=</a> <a id="12114" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="12116" href="Varieties.Preservation.html#11901" class="Function">ğ”„&#39;</a>

</pre>

If `p : ğ‘¨ âˆˆ ğ’¦` and `h : X â†’ âˆ£ ğ‘¨ âˆ£`, we view the triple `(ğ‘¨ , p , h) âˆˆ â„‘` as an index over the class, and so we can think of `ğ”„ (ğ‘¨ , p , h)` (which is simply `ğ‘¨`) as the projection of the product `â¨… ğ”„` onto the `(ğ‘¨ , p, h)`-th component.

<pre class="Agda">

 <a id="class-products-with-maps.class-prod-s-âˆˆ-ps"></a><a id="12385" href="Varieties.Preservation.html#12385" class="Function">class-prod-s-âˆˆ-ps</a> <a id="12403" class="Symbol">:</a> <a id="12405" href="Varieties.Preservation.html#12062" class="Function">class-product&#39;</a> <a id="12420" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12422" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="12423" class="Symbol">{</a><a id="12424" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="12427" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="12428" class="Symbol">}{</a><a id="12430" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="12433" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="12434" class="Symbol">}(</a><a id="12436" href="Varieties.Closure.html#3774" class="Datatype">S</a> <a id="12438" href="Varieties.Preservation.html#10648" class="Bound">ğ’¦</a><a id="12439" class="Symbol">)</a>
 <a id="12442" href="Varieties.Preservation.html#12385" class="Function">class-prod-s-âˆˆ-ps</a> <a id="12460" class="Symbol">=</a> <a id="12462" href="Varieties.Closure.html#4815" class="InductiveConstructor">pisow</a> <a id="12468" href="Varieties.Preservation.html#12743" class="Function">psPllA</a> <a id="12475" class="Symbol">(</a><a id="12476" href="Homomorphisms.Isomorphisms.html#5677" class="Function">â¨…â‰…</a> <a id="12479" class="Symbol">{</a><a id="12480" class="Argument">fiu</a> <a id="12484" class="Symbol">=</a> <a id="12486" href="Varieties.Preservation.html#10618" class="Bound">feâ‚‚</a><a id="12489" class="Symbol">}{</a><a id="12491" class="Argument">fiw</a> <a id="12495" class="Symbol">=</a> <a id="12497" href="Varieties.Preservation.html#10537" class="Bound">feğ“•Î±</a><a id="12501" class="Symbol">}</a> <a id="12503" href="Varieties.Preservation.html#12794" class="Function">llAâ‰…A</a><a id="12508" class="Symbol">)</a>

  <a id="12513" class="Keyword">where</a>
  <a id="12521" href="Varieties.Preservation.html#12521" class="Function">lA</a> <a id="12524" href="Varieties.Preservation.html#12524" class="Function">llA</a> <a id="12528" class="Symbol">:</a> <a id="12530" href="Varieties.Preservation.html#10687" class="Function">â„‘&#39;</a> <a id="12533" class="Symbol">â†’</a> <a id="12535" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="12543" class="Symbol">(</a><a id="12544" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="12547" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="12548" class="Symbol">)</a> <a id="12550" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a>
  <a id="12554" href="Varieties.Preservation.html#12521" class="Function">lA</a> <a id="12557" href="Varieties.Preservation.html#12557" class="Bound">i</a> <a id="12559" class="Symbol">=</a>  <a id="12562" href="Algebras.Basic.html#10870" class="Function">Lift-Alg</a> <a id="12571" class="Symbol">(</a><a id="12572" href="Algebras.Products.html#5304" class="Function">ğ”„</a> <a id="12574" href="Varieties.Preservation.html#12557" class="Bound">i</a><a id="12575" class="Symbol">)</a> <a id="12577" class="Symbol">(</a><a id="12578" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="12581" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="12582" class="Symbol">)</a>
  <a id="12586" href="Varieties.Preservation.html#12524" class="Function">llA</a> <a id="12590" href="Varieties.Preservation.html#12590" class="Bound">i</a> <a id="12592" class="Symbol">=</a> <a id="12594" href="Algebras.Basic.html#10870" class="Function">Lift-Alg</a> <a id="12603" class="Symbol">(</a><a id="12604" href="Varieties.Preservation.html#12521" class="Function">lA</a> <a id="12607" href="Varieties.Preservation.html#12590" class="Bound">i</a><a id="12608" class="Symbol">)</a> <a id="12610" class="Symbol">(</a><a id="12611" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="12614" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="12615" class="Symbol">)</a>

  <a id="12620" href="Varieties.Preservation.html#12620" class="Function">slA</a> <a id="12624" class="Symbol">:</a> <a id="12626" class="Symbol">âˆ€</a> <a id="12628" href="Varieties.Preservation.html#12628" class="Bound">i</a> <a id="12630" class="Symbol">â†’</a> <a id="12632" class="Symbol">(</a><a id="12633" href="Varieties.Preservation.html#12521" class="Function">lA</a> <a id="12636" href="Varieties.Preservation.html#12628" class="Bound">i</a><a id="12637" class="Symbol">)</a> <a id="12639" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12641" href="Varieties.Closure.html#3774" class="Datatype">S</a> <a id="12643" href="Varieties.Preservation.html#10648" class="Bound">ğ’¦</a>
  <a id="12647" href="Varieties.Preservation.html#12620" class="Function">slA</a> <a id="12651" href="Varieties.Preservation.html#12651" class="Bound">i</a> <a id="12653" class="Symbol">=</a> <a id="12655" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a> <a id="12660" class="Symbol">(</a><a id="12661" href="Varieties.Preservation.html#1021" class="Field">fst</a> <a id="12665" href="Overture.Preliminaries.html#4417" class="Function Operator">âˆ¥</a> <a id="12667" href="Varieties.Preservation.html#12651" class="Bound">i</a> <a id="12669" href="Overture.Preliminaries.html#4417" class="Function Operator">âˆ¥</a><a id="12670" class="Symbol">)</a> <a id="12672" href="Homomorphisms.Isomorphisms.html#4355" class="Function">Lift-â‰…</a>

  <a id="12682" href="Varieties.Preservation.html#12682" class="Function">psllA</a> <a id="12688" class="Symbol">:</a> <a id="12690" class="Symbol">âˆ€</a> <a id="12692" href="Varieties.Preservation.html#12692" class="Bound">i</a> <a id="12694" class="Symbol">â†’</a> <a id="12696" class="Symbol">(</a><a id="12697" href="Varieties.Preservation.html#12524" class="Function">llA</a> <a id="12701" href="Varieties.Preservation.html#12692" class="Bound">i</a><a id="12702" class="Symbol">)</a> <a id="12704" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12706" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="12708" class="Symbol">(</a><a id="12709" href="Varieties.Closure.html#3774" class="Datatype">S</a> <a id="12711" href="Varieties.Preservation.html#10648" class="Bound">ğ’¦</a><a id="12712" class="Symbol">)</a>
  <a id="12716" href="Varieties.Preservation.html#12682" class="Function">psllA</a> <a id="12722" href="Varieties.Preservation.html#12722" class="Bound">i</a> <a id="12724" class="Symbol">=</a> <a id="12726" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="12732" class="Symbol">(</a><a id="12733" href="Varieties.Preservation.html#12620" class="Function">slA</a> <a id="12737" href="Varieties.Preservation.html#12722" class="Bound">i</a><a id="12738" class="Symbol">)</a>

  <a id="12743" href="Varieties.Preservation.html#12743" class="Function">psPllA</a> <a id="12750" class="Symbol">:</a> <a id="12752" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="12754" href="Varieties.Preservation.html#12524" class="Function">llA</a> <a id="12758" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12760" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="12762" class="Symbol">(</a><a id="12763" href="Varieties.Closure.html#3774" class="Datatype">S</a> <a id="12765" href="Varieties.Preservation.html#10648" class="Bound">ğ’¦</a><a id="12766" class="Symbol">)</a>
  <a id="12770" href="Varieties.Preservation.html#12743" class="Function">psPllA</a> <a id="12777" class="Symbol">=</a> <a id="12779" href="Varieties.Closure.html#4645" class="InductiveConstructor">produ</a> <a id="12785" href="Varieties.Preservation.html#12682" class="Function">psllA</a>

  <a id="12794" href="Varieties.Preservation.html#12794" class="Function">llAâ‰…A</a> <a id="12800" class="Symbol">:</a> <a id="12802" class="Symbol">âˆ€</a> <a id="12804" href="Varieties.Preservation.html#12804" class="Bound">i</a> <a id="12806" class="Symbol">â†’</a> <a id="12808" class="Symbol">(</a><a id="12809" href="Varieties.Preservation.html#12524" class="Function">llA</a> <a id="12813" href="Varieties.Preservation.html#12804" class="Bound">i</a><a id="12814" class="Symbol">)</a> <a id="12816" href="Homomorphisms.Isomorphisms.html#2280" class="Record Operator">â‰…</a> <a id="12818" class="Symbol">(</a><a id="12819" href="Varieties.Preservation.html#11901" class="Function">ğ”„&#39;</a> <a id="12822" href="Varieties.Preservation.html#12804" class="Bound">i</a><a id="12823" class="Symbol">)</a>
  <a id="12827" href="Varieties.Preservation.html#12794" class="Function">llAâ‰…A</a> <a id="12833" href="Varieties.Preservation.html#12833" class="Bound">i</a> <a id="12835" class="Symbol">=</a> <a id="12837" href="Homomorphisms.Isomorphisms.html#3000" class="Function">â‰…-trans</a> <a id="12845" class="Symbol">(</a><a id="12846" href="Homomorphisms.Isomorphisms.html#2911" class="Function">â‰…-sym</a> <a id="12852" href="Homomorphisms.Isomorphisms.html#4355" class="Function">Lift-â‰…</a><a id="12858" class="Symbol">)(</a><a id="12860" href="Homomorphisms.Isomorphisms.html#2911" class="Function">â‰…-sym</a> <a id="12866" href="Homomorphisms.Isomorphisms.html#4355" class="Function">Lift-â‰…</a><a id="12872" class="Symbol">)</a>

</pre>


So, since `PSâŠ†SP`, we see that that the product of all subalgebras of a class `ğ’¦` belongs to `SP(ğ’¦)`.

<pre class="Agda">

 <a id="class-products-with-maps.class-prod-s-âˆˆ-sp"></a><a id="13006" href="Varieties.Preservation.html#13006" class="Function">class-prod-s-âˆˆ-sp</a> <a id="13024" class="Symbol">:</a> <a id="13026" href="Equality.Truncation.html#3959" class="Function">hfunext</a> <a id="13034" class="Symbol">(</a><a id="13035" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="13038" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="13039" class="Symbol">)</a> <a id="13041" class="Symbol">(</a><a id="13042" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="13045" href="Varieties.Preservation.html#10510" class="Bound">Î±</a><a id="13046" class="Symbol">)</a> <a id="13048" class="Symbol">â†’</a> <a id="13050" href="Algebras.Products.html#5451" class="Function">class-product</a> <a id="13064" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="13066" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="13067" class="Symbol">(</a><a id="13068" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="13070" href="Varieties.Preservation.html#10648" class="Bound">ğ’¦</a><a id="13071" class="Symbol">)</a>
 <a id="13074" href="Varieties.Preservation.html#13006" class="Function">class-prod-s-âˆˆ-sp</a> <a id="13092" href="Varieties.Preservation.html#13092" class="Bound">hfe</a> <a id="13096" class="Symbol">=</a> <a id="13098" href="Varieties.Preservation.html#6342" class="Function">PSâŠ†SP</a> <a id="13104" class="Symbol">{</a><a id="13105" class="Argument">fovu</a> <a id="13110" class="Symbol">=</a> <a id="13112" href="Varieties.Preservation.html#10618" class="Bound">feâ‚‚</a><a id="13115" class="Symbol">}</a> <a id="13117" href="Varieties.Preservation.html#13092" class="Bound">hfe</a> <a id="13121" href="Varieties.Preservation.html#12385" class="Function">class-prod-s-âˆˆ-ps</a>

</pre>


#### <a id="h-preserves-identities">H preserves identities</a>

First we prove that the closure operator H is compatible with identities that hold in the given class.

<pre class="Agda">

<a id="13335" class="Keyword">open</a> <a id="13340" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">â‰¡-Reasoning</a>

<a id="13353" class="Keyword">private</a> <a id="13361" class="Keyword">variable</a> <a id="13370" href="Varieties.Preservation.html#13370" class="Generalizable">ğ“§</a> <a id="13372" class="Symbol">:</a> <a id="13374" href="Agda.Primitive.html#597" class="Postulate">Level</a>
<a id="13380" class="Keyword">open</a> <a id="13385" href="Terms.Basic.html#1991" class="Module">Term</a>

<a id="13391" class="Keyword">module</a> <a id="13398" href="Varieties.Preservation.html#13398" class="Module">_</a> <a id="13400" class="Symbol">(</a><a id="13401" href="Varieties.Preservation.html#13401" class="Bound">wd</a> <a id="13404" class="Symbol">:</a> <a id="13406" href="Equality.Welldefined.html#2944" class="Function">SwellDef</a><a id="13414" class="Symbol">){</a><a id="13416" href="Varieties.Preservation.html#13416" class="Bound">X</a> <a id="13418" class="Symbol">:</a> <a id="13420" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="13425" href="Varieties.Preservation.html#13370" class="Generalizable">ğ“§</a><a id="13426" class="Symbol">}</a> <a id="13428" class="Symbol">{</a><a id="13429" href="Varieties.Preservation.html#13429" class="Bound">ğ’¦</a> <a id="13431" class="Symbol">:</a> <a id="13433" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="13438" class="Symbol">(</a><a id="13439" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="13447" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a> <a id="13449" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="13450" class="Symbol">)(</a><a id="13452" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="13455" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a><a id="13456" class="Symbol">)}</a> <a id="13459" class="Keyword">where</a>

 <a id="13467" href="Varieties.Preservation.html#13467" class="Function">H-id1</a> <a id="13473" class="Symbol">:</a> <a id="13475" class="Symbol">(</a><a id="13476" href="Varieties.Preservation.html#13476" class="Bound">p</a> <a id="13478" href="Varieties.Preservation.html#13478" class="Bound">q</a> <a id="13480" class="Symbol">:</a> <a id="13482" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="13487" href="Varieties.Preservation.html#13416" class="Bound">X</a><a id="13488" class="Symbol">)</a> <a id="13490" class="Symbol">â†’</a> <a id="13492" href="Varieties.Preservation.html#13429" class="Bound">ğ’¦</a> <a id="13494" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="13496" href="Varieties.Preservation.html#13476" class="Bound">p</a> <a id="13498" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="13500" href="Varieties.Preservation.html#13478" class="Bound">q</a> <a id="13502" class="Symbol">â†’</a> <a id="13504" href="Varieties.Closure.html#3323" class="Datatype">H</a><a id="13505" class="Symbol">{</a><a id="13506" class="Argument">Î²</a> <a id="13508" class="Symbol">=</a> <a id="13510" href="Varieties.Preservation.html#13447" class="Bound">Î±</a><a id="13511" class="Symbol">}</a> <a id="13513" href="Varieties.Preservation.html#13429" class="Bound">ğ’¦</a> <a id="13515" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="13517" href="Varieties.Preservation.html#13476" class="Bound">p</a> <a id="13519" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="13521" href="Varieties.Preservation.html#13478" class="Bound">q</a>
 <a id="13524" href="Varieties.Preservation.html#13467" class="Function">H-id1</a> <a id="13530" href="Varieties.Preservation.html#13530" class="Bound">p</a> <a id="13532" href="Varieties.Preservation.html#13532" class="Bound">q</a> <a id="13534" href="Varieties.Preservation.html#13534" class="Bound">Ïƒ</a> <a id="13536" class="Symbol">(</a><a id="13537" href="Varieties.Closure.html#3418" class="InductiveConstructor">hbase</a> <a id="13543" href="Varieties.Preservation.html#13543" class="Bound">x</a><a id="13544" class="Symbol">)</a> <a id="13546" class="Symbol">=</a> <a id="13548" href="Varieties.Properties.html#4086" class="Function">âŠ§-Lift-invar</a> <a id="13561" href="Varieties.Preservation.html#13401" class="Bound">wd</a> <a id="13564" href="Varieties.Preservation.html#13530" class="Bound">p</a> <a id="13566" href="Varieties.Preservation.html#13532" class="Bound">q</a> <a id="13568" class="Symbol">(</a><a id="13569" href="Varieties.Preservation.html#13534" class="Bound">Ïƒ</a> <a id="13571" href="Varieties.Preservation.html#13543" class="Bound">x</a><a id="13572" class="Symbol">)</a>
 <a id="13575" href="Varieties.Preservation.html#13467" class="Function">H-id1</a> <a id="13581" href="Varieties.Preservation.html#13581" class="Bound">p</a> <a id="13583" href="Varieties.Preservation.html#13583" class="Bound">q</a> <a id="13585" href="Varieties.Preservation.html#13585" class="Bound">Ïƒ</a> <a id="13587" class="Symbol">(</a><a id="13588" href="Varieties.Closure.html#3474" class="InductiveConstructor">hhimg</a><a id="13593" class="Symbol">{</a><a id="13594" href="Varieties.Preservation.html#13594" class="Bound">ğ‘¨</a><a id="13595" class="Symbol">}{</a><a id="13597" href="Varieties.Preservation.html#13597" class="Bound">ğ‘ª</a><a id="13598" class="Symbol">}</a> <a id="13600" href="Varieties.Preservation.html#13600" class="Bound">HA</a> <a id="13603" class="Symbol">(</a><a id="13604" href="Varieties.Preservation.html#13604" class="Bound">ğ‘©</a> <a id="13606" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13608" class="Symbol">((</a><a id="13610" href="Varieties.Preservation.html#13610" class="Bound">Ï†</a> <a id="13612" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13614" href="Varieties.Preservation.html#13614" class="Bound">Ï†h</a><a id="13616" class="Symbol">)</a> <a id="13618" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13620" href="Varieties.Preservation.html#13620" class="Bound">Ï†E</a><a id="13622" class="Symbol">)))</a> <a id="13626" href="Varieties.Preservation.html#13626" class="Bound">b</a> <a id="13628" class="Symbol">=</a> <a id="13630" href="Varieties.Preservation.html#13798" class="Function">goal</a>
  <a id="13637" class="Keyword">where</a>
  <a id="13645" href="Varieties.Preservation.html#13645" class="Function">IH</a> <a id="13648" class="Symbol">:</a> <a id="13650" href="Varieties.Preservation.html#13594" class="Bound">ğ‘¨</a> <a id="13652" href="Varieties.EquationalLogic.html#2638" class="Function Operator">âŠ§</a> <a id="13654" href="Varieties.Preservation.html#13581" class="Bound">p</a> <a id="13656" href="Varieties.EquationalLogic.html#2638" class="Function Operator">â‰ˆ</a> <a id="13658" href="Varieties.Preservation.html#13583" class="Bound">q</a>
  <a id="13662" href="Varieties.Preservation.html#13645" class="Function">IH</a> <a id="13665" class="Symbol">=</a> <a id="13667" class="Symbol">(</a><a id="13668" href="Varieties.Preservation.html#13467" class="Function">H-id1</a> <a id="13674" href="Varieties.Preservation.html#13581" class="Bound">p</a> <a id="13676" href="Varieties.Preservation.html#13583" class="Bound">q</a> <a id="13678" href="Varieties.Preservation.html#13585" class="Bound">Ïƒ</a><a id="13679" class="Symbol">)</a> <a id="13681" href="Varieties.Preservation.html#13600" class="Bound">HA</a>

  <a id="13687" href="Varieties.Preservation.html#13687" class="Function">preim</a> <a id="13693" class="Symbol">:</a> <a id="13695" href="Varieties.Preservation.html#13416" class="Bound">X</a> <a id="13697" class="Symbol">â†’</a> <a id="13699" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="13701" href="Varieties.Preservation.html#13594" class="Bound">ğ‘¨</a> <a id="13703" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a>
  <a id="13707" href="Varieties.Preservation.html#13687" class="Function">preim</a> <a id="13713" href="Varieties.Preservation.html#13713" class="Bound">x</a> <a id="13715" class="Symbol">=</a> <a id="13717" href="Overture.Inverses.html#1923" class="Function">Inv</a> <a id="13721" href="Varieties.Preservation.html#13610" class="Bound">Ï†</a> <a id="13723" class="Symbol">(</a><a id="13724" href="Varieties.Preservation.html#13620" class="Bound">Ï†E</a> <a id="13727" class="Symbol">(</a><a id="13728" href="Varieties.Preservation.html#13626" class="Bound">b</a> <a id="13730" href="Varieties.Preservation.html#13713" class="Bound">x</a><a id="13731" class="Symbol">))</a>

  <a id="13737" href="Varieties.Preservation.html#13737" class="Function">Î¶</a> <a id="13739" class="Symbol">:</a> <a id="13741" class="Symbol">âˆ€</a> <a id="13743" href="Varieties.Preservation.html#13743" class="Bound">x</a> <a id="13745" class="Symbol">â†’</a> <a id="13747" href="Varieties.Preservation.html#13610" class="Bound">Ï†</a> <a id="13749" class="Symbol">(</a><a id="13750" href="Varieties.Preservation.html#13687" class="Function">preim</a> <a id="13756" href="Varieties.Preservation.html#13743" class="Bound">x</a><a id="13757" class="Symbol">)</a> <a id="13759" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="13761" href="Varieties.Preservation.html#13626" class="Bound">b</a> <a id="13763" href="Varieties.Preservation.html#13743" class="Bound">x</a>
  <a id="13767" href="Varieties.Preservation.html#13737" class="Function">Î¶</a> <a id="13769" href="Varieties.Preservation.html#13769" class="Bound">x</a> <a id="13771" class="Symbol">=</a> <a id="13773" href="Overture.Inverses.html#2084" class="Function">InvIsInv</a> <a id="13782" href="Varieties.Preservation.html#13610" class="Bound">Ï†</a> <a id="13784" class="Symbol">(</a><a id="13785" href="Varieties.Preservation.html#13620" class="Bound">Ï†E</a> <a id="13788" class="Symbol">(</a><a id="13789" href="Varieties.Preservation.html#13626" class="Bound">b</a> <a id="13791" href="Varieties.Preservation.html#13769" class="Bound">x</a><a id="13792" class="Symbol">))</a>

  <a id="13798" href="Varieties.Preservation.html#13798" class="Function">goal</a> <a id="13803" class="Symbol">:</a> <a id="13805" class="Symbol">(</a><a id="13806" href="Varieties.Preservation.html#13604" class="Bound">ğ‘©</a> <a id="13808" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="13810" href="Varieties.Preservation.html#13581" class="Bound">p</a> <a id="13812" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="13813" class="Symbol">)</a> <a id="13815" href="Varieties.Preservation.html#13626" class="Bound">b</a> <a id="13817" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="13819" class="Symbol">(</a><a id="13820" href="Varieties.Preservation.html#13604" class="Bound">ğ‘©</a> <a id="13822" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="13824" href="Varieties.Preservation.html#13583" class="Bound">q</a> <a id="13826" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="13827" class="Symbol">)</a> <a id="13829" href="Varieties.Preservation.html#13626" class="Bound">b</a>
  <a id="13833" href="Varieties.Preservation.html#13798" class="Function">goal</a> <a id="13838" class="Symbol">=</a> <a id="13840" class="Symbol">(</a><a id="13841" href="Varieties.Preservation.html#13604" class="Bound">ğ‘©</a> <a id="13843" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="13845" href="Varieties.Preservation.html#13581" class="Bound">p</a> <a id="13847" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="13848" class="Symbol">)</a> <a id="13850" href="Varieties.Preservation.html#13626" class="Bound">b</a>          <a id="13861" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="13864" href="Varieties.Preservation.html#13401" class="Bound">wd</a> <a id="13867" href="Varieties.Preservation.html#13425" class="Bound">ğ“§</a> <a id="13869" href="Varieties.Preservation.html#13447" class="Bound">Î±</a> <a id="13871" class="Symbol">(</a><a id="13872" href="Varieties.Preservation.html#13604" class="Bound">ğ‘©</a> <a id="13874" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="13876" href="Varieties.Preservation.html#13581" class="Bound">p</a> <a id="13878" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="13879" class="Symbol">)</a> <a id="13881" href="Varieties.Preservation.html#13626" class="Bound">b</a> <a id="13883" class="Symbol">(</a><a id="13884" href="Varieties.Preservation.html#13610" class="Bound">Ï†</a> <a id="13886" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="13888" href="Varieties.Preservation.html#13687" class="Function">preim</a> <a id="13894" class="Symbol">)(Î»</a> <a id="13898" href="Varieties.Preservation.html#13898" class="Bound">i</a> <a id="13900" class="Symbol">â†’</a> <a id="13902" class="Symbol">(</a><a id="13903" href="Varieties.Preservation.html#13737" class="Function">Î¶</a> <a id="13905" href="Varieties.Preservation.html#13898" class="Bound">i</a><a id="13906" class="Symbol">)</a><a id="13907" href="Overture.Preliminaries.html#5082" class="Function Operator">â»Â¹</a><a id="13909" class="Symbol">)</a><a id="13910" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="13918" class="Symbol">(</a><a id="13919" href="Varieties.Preservation.html#13604" class="Bound">ğ‘©</a> <a id="13921" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="13923" href="Varieties.Preservation.html#13581" class="Bound">p</a> <a id="13925" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="13926" class="Symbol">)(</a><a id="13928" href="Varieties.Preservation.html#13610" class="Bound">Ï†</a> <a id="13930" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="13932" href="Varieties.Preservation.html#13687" class="Function">preim</a><a id="13937" class="Symbol">)</a> <a id="13939" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="13941" class="Symbol">(</a><a id="13942" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a> <a id="13956" class="Symbol">(</a><a id="13957" href="Varieties.Preservation.html#13401" class="Bound">wd</a> <a id="13960" href="Varieties.Preservation.html#629" class="Bound">ğ“¥</a> <a id="13962" href="Varieties.Preservation.html#13447" class="Bound">Î±</a><a id="13963" class="Symbol">)</a> <a id="13965" href="Varieties.Preservation.html#13604" class="Bound">ğ‘©</a> <a id="13967" class="Symbol">(</a><a id="13968" href="Varieties.Preservation.html#13610" class="Bound">Ï†</a> <a id="13970" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13972" href="Varieties.Preservation.html#13614" class="Bound">Ï†h</a><a id="13974" class="Symbol">)</a> <a id="13976" href="Varieties.Preservation.html#13581" class="Bound">p</a> <a id="13978" href="Varieties.Preservation.html#13687" class="Function">preim</a><a id="13983" class="Symbol">)</a><a id="13984" href="Overture.Preliminaries.html#5082" class="Function Operator">â»Â¹</a> <a id="13987" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="13995" href="Varieties.Preservation.html#13610" class="Bound">Ï†</a><a id="13996" class="Symbol">((</a><a id="13998" href="Varieties.Preservation.html#13594" class="Bound">ğ‘¨</a> <a id="14000" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="14002" href="Varieties.Preservation.html#13581" class="Bound">p</a> <a id="14004" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="14005" class="Symbol">)</a> <a id="14007" href="Varieties.Preservation.html#13687" class="Function">preim</a><a id="14012" class="Symbol">)</a>   <a id="14016" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14019" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="14024" href="Varieties.Preservation.html#13610" class="Bound">Ï†</a> <a id="14026" class="Symbol">(</a><a id="14027" href="Varieties.Preservation.html#13645" class="Function">IH</a> <a id="14030" href="Varieties.Preservation.html#13687" class="Function">preim</a><a id="14035" class="Symbol">)</a> <a id="14037" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14045" href="Varieties.Preservation.html#13610" class="Bound">Ï†</a><a id="14046" class="Symbol">((</a><a id="14048" href="Varieties.Preservation.html#13594" class="Bound">ğ‘¨</a> <a id="14050" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="14052" href="Varieties.Preservation.html#13583" class="Bound">q</a> <a id="14054" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="14055" class="Symbol">)</a> <a id="14057" href="Varieties.Preservation.html#13687" class="Function">preim</a><a id="14062" class="Symbol">)</a>   <a id="14066" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14069" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a> <a id="14083" class="Symbol">(</a><a id="14084" href="Varieties.Preservation.html#13401" class="Bound">wd</a> <a id="14087" href="Varieties.Preservation.html#629" class="Bound">ğ“¥</a> <a id="14089" href="Varieties.Preservation.html#13447" class="Bound">Î±</a><a id="14090" class="Symbol">)</a> <a id="14092" href="Varieties.Preservation.html#13604" class="Bound">ğ‘©</a> <a id="14094" class="Symbol">(</a><a id="14095" href="Varieties.Preservation.html#13610" class="Bound">Ï†</a> <a id="14097" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14099" href="Varieties.Preservation.html#13614" class="Bound">Ï†h</a><a id="14101" class="Symbol">)</a> <a id="14103" href="Varieties.Preservation.html#13583" class="Bound">q</a> <a id="14105" href="Varieties.Preservation.html#13687" class="Function">preim</a> <a id="14111" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14119" class="Symbol">(</a><a id="14120" href="Varieties.Preservation.html#13604" class="Bound">ğ‘©</a> <a id="14122" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="14124" href="Varieties.Preservation.html#13583" class="Bound">q</a> <a id="14126" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="14127" class="Symbol">)(</a><a id="14129" href="Varieties.Preservation.html#13610" class="Bound">Ï†</a> <a id="14131" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="14133" href="Varieties.Preservation.html#13687" class="Function">preim</a><a id="14138" class="Symbol">)</a> <a id="14140" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14143" href="Varieties.Preservation.html#13401" class="Bound">wd</a> <a id="14146" href="Varieties.Preservation.html#13425" class="Bound">ğ“§</a> <a id="14148" href="Varieties.Preservation.html#13447" class="Bound">Î±</a> <a id="14150" class="Symbol">(</a><a id="14151" href="Varieties.Preservation.html#13604" class="Bound">ğ‘©</a> <a id="14153" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="14155" href="Varieties.Preservation.html#13583" class="Bound">q</a> <a id="14157" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="14158" class="Symbol">)(</a><a id="14160" href="Varieties.Preservation.html#13610" class="Bound">Ï†</a> <a id="14162" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="14164" href="Varieties.Preservation.html#13687" class="Function">preim</a><a id="14169" class="Symbol">)</a> <a id="14171" href="Varieties.Preservation.html#13626" class="Bound">b</a> <a id="14173" href="Varieties.Preservation.html#13737" class="Function">Î¶</a> <a id="14175" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14183" class="Symbol">(</a><a id="14184" href="Varieties.Preservation.html#13604" class="Bound">ğ‘©</a> <a id="14186" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="14188" href="Varieties.Preservation.html#13583" class="Bound">q</a> <a id="14190" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="14191" class="Symbol">)</a> <a id="14193" href="Varieties.Preservation.html#13626" class="Bound">b</a>          <a id="14204" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

</pre>

The converse of the foregoing result is almost too obvious to bother with. Nonetheless, we formalize it for completeness.

<pre class="Agda">

 <a id="14357" href="Varieties.Preservation.html#14357" class="Function">H-id2</a> <a id="14363" class="Symbol">:</a> <a id="14365" class="Symbol">âˆ€</a> <a id="14367" class="Symbol">{</a><a id="14368" href="Varieties.Preservation.html#14368" class="Bound">Î²</a><a id="14369" class="Symbol">}</a> <a id="14371" class="Symbol">â†’</a> <a id="14373" class="Symbol">(</a><a id="14374" href="Varieties.Preservation.html#14374" class="Bound">p</a> <a id="14376" href="Varieties.Preservation.html#14376" class="Bound">q</a> <a id="14378" class="Symbol">:</a> <a id="14380" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="14385" href="Varieties.Preservation.html#13416" class="Bound">X</a><a id="14386" class="Symbol">)</a> <a id="14388" class="Symbol">â†’</a> <a id="14390" href="Varieties.Closure.html#3323" class="Datatype">H</a><a id="14391" class="Symbol">{</a><a id="14392" class="Argument">Î²</a> <a id="14394" class="Symbol">=</a> <a id="14396" href="Varieties.Preservation.html#14368" class="Bound">Î²</a><a id="14397" class="Symbol">}</a> <a id="14399" href="Varieties.Preservation.html#13429" class="Bound">ğ’¦</a> <a id="14401" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="14403" href="Varieties.Preservation.html#14374" class="Bound">p</a> <a id="14405" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="14407" href="Varieties.Preservation.html#14376" class="Bound">q</a> <a id="14409" class="Symbol">â†’</a> <a id="14411" href="Varieties.Preservation.html#13429" class="Bound">ğ’¦</a> <a id="14413" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="14415" href="Varieties.Preservation.html#14374" class="Bound">p</a> <a id="14417" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="14419" href="Varieties.Preservation.html#14376" class="Bound">q</a>

 <a id="14423" href="Varieties.Preservation.html#14357" class="Function">H-id2</a> <a id="14429" href="Varieties.Preservation.html#14429" class="Bound">p</a> <a id="14431" href="Varieties.Preservation.html#14431" class="Bound">q</a> <a id="14433" href="Varieties.Preservation.html#14433" class="Bound">Hpq</a> <a id="14437" href="Varieties.Preservation.html#14437" class="Bound">KA</a> <a id="14440" class="Symbol">=</a> <a id="14442" href="Varieties.Properties.html#4220" class="Function">âŠ§-lower-invar</a> <a id="14456" href="Varieties.Preservation.html#13401" class="Bound">wd</a> <a id="14459" href="Varieties.Preservation.html#14429" class="Bound">p</a> <a id="14461" href="Varieties.Preservation.html#14431" class="Bound">q</a> <a id="14463" class="Symbol">(</a><a id="14464" href="Varieties.Preservation.html#14433" class="Bound">Hpq</a> <a id="14468" class="Symbol">(</a><a id="14469" href="Varieties.Closure.html#3418" class="InductiveConstructor">hbase</a> <a id="14475" href="Varieties.Preservation.html#14437" class="Bound">KA</a><a id="14477" class="Symbol">))</a>

</pre>


#### <a id="s-preserves-identities">S preserves identities</a>

<pre class="Agda">

 <a id="14573" href="Varieties.Preservation.html#14573" class="Function">S-id1</a> <a id="14579" class="Symbol">:</a> <a id="14581" class="Symbol">(</a><a id="14582" href="Varieties.Preservation.html#14582" class="Bound">p</a> <a id="14584" href="Varieties.Preservation.html#14584" class="Bound">q</a> <a id="14586" class="Symbol">:</a> <a id="14588" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="14593" href="Varieties.Preservation.html#13416" class="Bound">X</a><a id="14594" class="Symbol">)</a> <a id="14596" class="Symbol">â†’</a> <a id="14598" href="Varieties.Preservation.html#13429" class="Bound">ğ’¦</a> <a id="14600" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="14602" href="Varieties.Preservation.html#14582" class="Bound">p</a> <a id="14604" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="14606" href="Varieties.Preservation.html#14584" class="Bound">q</a> <a id="14608" class="Symbol">â†’</a> <a id="14610" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="14611" class="Symbol">{</a><a id="14612" class="Argument">Î²</a> <a id="14614" class="Symbol">=</a> <a id="14616" href="Varieties.Preservation.html#13447" class="Bound">Î±</a><a id="14617" class="Symbol">}</a> <a id="14619" href="Varieties.Preservation.html#13429" class="Bound">ğ’¦</a> <a id="14621" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="14623" href="Varieties.Preservation.html#14582" class="Bound">p</a> <a id="14625" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="14627" href="Varieties.Preservation.html#14584" class="Bound">q</a>

 <a id="14631" href="Varieties.Preservation.html#14573" class="Function">S-id1</a> <a id="14637" href="Varieties.Preservation.html#14637" class="Bound">p</a> <a id="14639" href="Varieties.Preservation.html#14639" class="Bound">q</a> <a id="14641" href="Varieties.Preservation.html#14641" class="Bound">Ïƒ</a> <a id="14643" class="Symbol">(</a><a id="14644" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a> <a id="14650" href="Varieties.Preservation.html#14650" class="Bound">x</a><a id="14651" class="Symbol">)</a> <a id="14653" class="Symbol">=</a> <a id="14655" href="Varieties.Properties.html#4086" class="Function">âŠ§-Lift-invar</a> <a id="14668" href="Varieties.Preservation.html#13401" class="Bound">wd</a> <a id="14671" href="Varieties.Preservation.html#14637" class="Bound">p</a> <a id="14673" href="Varieties.Preservation.html#14639" class="Bound">q</a> <a id="14675" class="Symbol">(</a><a id="14676" href="Varieties.Preservation.html#14641" class="Bound">Ïƒ</a> <a id="14678" href="Varieties.Preservation.html#14650" class="Bound">x</a><a id="14679" class="Symbol">)</a>
 <a id="14682" href="Varieties.Preservation.html#14573" class="Function">S-id1</a> <a id="14688" href="Varieties.Preservation.html#14688" class="Bound">p</a> <a id="14690" href="Varieties.Preservation.html#14690" class="Bound">q</a> <a id="14692" href="Varieties.Preservation.html#14692" class="Bound">Ïƒ</a> <a id="14694" class="Symbol">(</a><a id="14695" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a> <a id="14701" href="Varieties.Preservation.html#14701" class="Bound">x</a><a id="14702" class="Symbol">)</a> <a id="14704" class="Symbol">=</a> <a id="14706" href="Varieties.Properties.html#4086" class="Function">âŠ§-Lift-invar</a> <a id="14719" href="Varieties.Preservation.html#13401" class="Bound">wd</a> <a id="14722" href="Varieties.Preservation.html#14688" class="Bound">p</a> <a id="14724" href="Varieties.Preservation.html#14690" class="Bound">q</a> <a id="14726" class="Symbol">((</a><a id="14728" href="Varieties.Preservation.html#14573" class="Function">S-id1</a> <a id="14734" href="Varieties.Preservation.html#14688" class="Bound">p</a> <a id="14736" href="Varieties.Preservation.html#14690" class="Bound">q</a> <a id="14738" href="Varieties.Preservation.html#14692" class="Bound">Ïƒ</a><a id="14739" class="Symbol">)</a> <a id="14741" href="Varieties.Preservation.html#14701" class="Bound">x</a><a id="14742" class="Symbol">)</a>

 <a id="14746" href="Varieties.Preservation.html#14573" class="Function">S-id1</a> <a id="14752" href="Varieties.Preservation.html#14752" class="Bound">p</a> <a id="14754" href="Varieties.Preservation.html#14754" class="Bound">q</a> <a id="14756" href="Varieties.Preservation.html#14756" class="Bound">Ïƒ</a> <a id="14758" class="Symbol">(</a><a id="14759" href="Varieties.Closure.html#3982" class="InductiveConstructor">ssub</a><a id="14763" class="Symbol">{</a><a id="14764" href="Varieties.Preservation.html#14764" class="Bound">ğ‘¨</a><a id="14765" class="Symbol">}{</a><a id="14767" href="Varieties.Preservation.html#14767" class="Bound">ğ‘©</a><a id="14768" class="Symbol">}</a> <a id="14770" href="Varieties.Preservation.html#14770" class="Bound">sA</a> <a id="14773" href="Varieties.Preservation.html#14773" class="Bound">Bâ‰¤A</a><a id="14776" class="Symbol">)</a> <a id="14778" class="Symbol">=</a> <a id="14780" href="Varieties.Properties.html#5373" class="Function">âŠ§-S-class-invar</a> <a id="14796" href="Varieties.Preservation.html#13401" class="Bound">wd</a> <a id="14799" href="Varieties.Preservation.html#14752" class="Bound">p</a> <a id="14801" href="Varieties.Preservation.html#14754" class="Bound">q</a> <a id="14803" href="Varieties.Preservation.html#14931" class="Function">goal</a> <a id="14808" href="Varieties.Preservation.html#15013" class="Function">Î½</a>
  <a id="14812" class="Keyword">where</a> <a id="14818" class="Comment">--Apply S-âŠ§ to the class ğ’¦ âˆª ï½› ğ‘¨ ï½</a>
  <a id="14855" href="Varieties.Preservation.html#14855" class="Function">Ï„</a> <a id="14857" class="Symbol">:</a> <a id="14859" href="Varieties.Preservation.html#14764" class="Bound">ğ‘¨</a> <a id="14861" href="Varieties.EquationalLogic.html#2638" class="Function Operator">âŠ§</a> <a id="14863" href="Varieties.Preservation.html#14752" class="Bound">p</a> <a id="14865" href="Varieties.EquationalLogic.html#2638" class="Function Operator">â‰ˆ</a> <a id="14867" href="Varieties.Preservation.html#14754" class="Bound">q</a>
  <a id="14871" href="Varieties.Preservation.html#14855" class="Function">Ï„</a> <a id="14873" class="Symbol">=</a> <a id="14875" href="Varieties.Preservation.html#14573" class="Function">S-id1</a> <a id="14881" href="Varieties.Preservation.html#14752" class="Bound">p</a> <a id="14883" href="Varieties.Preservation.html#14754" class="Bound">q</a> <a id="14885" href="Varieties.Preservation.html#14756" class="Bound">Ïƒ</a> <a id="14887" href="Varieties.Preservation.html#14770" class="Bound">sA</a>

  <a id="14893" href="Varieties.Preservation.html#14893" class="Function">Apq</a> <a id="14897" class="Symbol">:</a> <a id="14899" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="14901" href="Varieties.Preservation.html#14764" class="Bound">ğ‘¨</a> <a id="14903" href="Relation.Unary.html#1335" class="Function Operator">ï½</a> <a id="14905" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="14907" href="Varieties.Preservation.html#14752" class="Bound">p</a> <a id="14909" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="14911" href="Varieties.Preservation.html#14754" class="Bound">q</a>
  <a id="14915" href="Varieties.Preservation.html#14893" class="Function">Apq</a> <a id="14919" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="14924" class="Symbol">=</a> <a id="14926" href="Varieties.Preservation.html#14855" class="Function">Ï„</a>

  <a id="14931" href="Varieties.Preservation.html#14931" class="Function">goal</a> <a id="14936" class="Symbol">:</a> <a id="14938" class="Symbol">(</a><a id="14939" href="Varieties.Preservation.html#13429" class="Bound">ğ’¦</a> <a id="14941" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="14943" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="14945" href="Varieties.Preservation.html#14764" class="Bound">ğ‘¨</a> <a id="14947" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="14948" class="Symbol">)</a> <a id="14950" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="14952" href="Varieties.Preservation.html#14752" class="Bound">p</a> <a id="14954" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="14956" href="Varieties.Preservation.html#14754" class="Bound">q</a>
  <a id="14960" href="Varieties.Preservation.html#14931" class="Function">goal</a> <a id="14965" class="Symbol">{</a><a id="14966" href="Varieties.Preservation.html#14966" class="Bound">ğ‘©</a><a id="14967" class="Symbol">}</a> <a id="14969" class="Symbol">(</a><a id="14970" href="Varieties.Preservation.html#1104" class="InductiveConstructor">inl</a> <a id="14974" href="Varieties.Preservation.html#14974" class="Bound">x</a><a id="14975" class="Symbol">)</a> <a id="14977" class="Symbol">=</a> <a id="14979" href="Varieties.Preservation.html#14756" class="Bound">Ïƒ</a> <a id="14981" href="Varieties.Preservation.html#14974" class="Bound">x</a>
  <a id="14985" href="Varieties.Preservation.html#14931" class="Function">goal</a> <a id="14990" class="Symbol">{</a><a id="14991" href="Varieties.Preservation.html#14991" class="Bound">ğ‘©</a><a id="14992" class="Symbol">}</a> <a id="14994" class="Symbol">(</a><a id="14995" href="Varieties.Preservation.html#1119" class="InductiveConstructor">inr</a> <a id="14999" href="Varieties.Preservation.html#14999" class="Bound">y</a><a id="15000" class="Symbol">)</a> <a id="15002" class="Symbol">=</a> <a id="15004" href="Varieties.Preservation.html#14893" class="Function">Apq</a> <a id="15008" href="Varieties.Preservation.html#14999" class="Bound">y</a>

  <a id="15013" href="Varieties.Preservation.html#15013" class="Function">Î½</a> <a id="15015" class="Symbol">:</a> <a id="15017" href="Subalgebras.Subalgebras.html#6392" class="Function">SubalgebraOfClass</a> <a id="15035" class="Symbol">(Î»</a> <a id="15038" href="Varieties.Preservation.html#15038" class="Bound">z</a> <a id="15040" class="Symbol">â†’</a> <a id="15042" class="Symbol">(</a><a id="15043" href="Varieties.Preservation.html#13429" class="Bound">ğ’¦</a> <a id="15045" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="15047" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="15049" href="Varieties.Preservation.html#14764" class="Bound">ğ‘¨</a> <a id="15051" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="15052" class="Symbol">)</a> <a id="15054" class="Symbol">(</a><a id="15055" href="Agda.Builtin.Sigma.html#252" class="Field">Data.Product.projâ‚</a> <a id="15074" href="Varieties.Preservation.html#15038" class="Bound">z</a> <a id="15076" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15078" href="Agda.Builtin.Sigma.html#264" class="Field">Data.Product.projâ‚‚</a> <a id="15097" href="Varieties.Preservation.html#15038" class="Bound">z</a><a id="15098" class="Symbol">))</a>
  <a id="15103" href="Varieties.Preservation.html#15013" class="Function">Î½</a> <a id="15105" class="Symbol">=</a> <a id="15107" class="Symbol">(</a><a id="15108" href="Varieties.Preservation.html#14767" class="Bound">ğ‘©</a> <a id="15110" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15112" href="Varieties.Preservation.html#14764" class="Bound">ğ‘¨</a> <a id="15114" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15116" class="Symbol">(</a><a id="15117" href="Varieties.Preservation.html#14767" class="Bound">ğ‘©</a> <a id="15119" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15121" href="Varieties.Preservation.html#14773" class="Bound">Bâ‰¤A</a><a id="15124" class="Symbol">)</a> <a id="15126" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15128" href="Data.Sum.Base.html#809" class="InductiveConstructor">_âŠ_.injâ‚‚</a> <a id="15137" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="15142" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15144" href="Homomorphisms.Isomorphisms.html#2821" class="Function">â‰…-refl</a><a id="15150" class="Symbol">)</a>

 <a id="15154" href="Varieties.Preservation.html#14573" class="Function">S-id1</a> <a id="15160" href="Varieties.Preservation.html#15160" class="Bound">p</a> <a id="15162" href="Varieties.Preservation.html#15162" class="Bound">q</a> <a id="15164" href="Varieties.Preservation.html#15164" class="Bound">Ïƒ</a> <a id="15166" class="Symbol">(</a><a id="15167" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a><a id="15171" class="Symbol">{</a><a id="15172" href="Varieties.Preservation.html#15172" class="Bound">ğ‘¨</a><a id="15173" class="Symbol">}{</a><a id="15175" href="Varieties.Preservation.html#15175" class="Bound">ğ‘©</a><a id="15176" class="Symbol">}</a> <a id="15178" href="Varieties.Preservation.html#15178" class="Bound">x</a> <a id="15180" href="Varieties.Preservation.html#15180" class="Bound">xâ‚</a><a id="15182" class="Symbol">)</a> <a id="15184" class="Symbol">=</a> <a id="15186" href="Varieties.Properties.html#3143" class="Function">âŠ§-I-invar</a> <a id="15196" href="Varieties.Preservation.html#13401" class="Bound">wd</a> <a id="15199" href="Varieties.Preservation.html#15175" class="Bound">ğ‘©</a> <a id="15201" href="Varieties.Preservation.html#15160" class="Bound">p</a> <a id="15203" href="Varieties.Preservation.html#15162" class="Bound">q</a> <a id="15205" class="Symbol">(</a><a id="15206" href="Varieties.Preservation.html#14573" class="Function">S-id1</a> <a id="15212" href="Varieties.Preservation.html#15160" class="Bound">p</a> <a id="15214" href="Varieties.Preservation.html#15162" class="Bound">q</a> <a id="15216" href="Varieties.Preservation.html#15164" class="Bound">Ïƒ</a> <a id="15218" href="Varieties.Preservation.html#15178" class="Bound">x</a><a id="15219" class="Symbol">)</a> <a id="15221" href="Varieties.Preservation.html#15180" class="Bound">xâ‚</a>

</pre>

Again, the obvious converse is barely worth the bits needed to formalize it.

<pre class="Agda">

 <a id="15330" href="Varieties.Preservation.html#15330" class="Function">S-id2</a> <a id="15336" class="Symbol">:</a> <a id="15338" class="Symbol">âˆ€{</a><a id="15340" href="Varieties.Preservation.html#15340" class="Bound">Î²</a><a id="15341" class="Symbol">}(</a><a id="15343" href="Varieties.Preservation.html#15343" class="Bound">p</a> <a id="15345" href="Varieties.Preservation.html#15345" class="Bound">q</a> <a id="15347" class="Symbol">:</a> <a id="15349" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="15354" href="Varieties.Preservation.html#13416" class="Bound">X</a><a id="15355" class="Symbol">)</a> <a id="15357" class="Symbol">â†’</a> <a id="15359" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="15360" class="Symbol">{</a><a id="15361" class="Argument">Î²</a> <a id="15363" class="Symbol">=</a> <a id="15365" href="Varieties.Preservation.html#15340" class="Bound">Î²</a><a id="15366" class="Symbol">}</a><a id="15367" href="Varieties.Preservation.html#13429" class="Bound">ğ’¦</a> <a id="15369" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="15371" href="Varieties.Preservation.html#15343" class="Bound">p</a> <a id="15373" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="15375" href="Varieties.Preservation.html#15345" class="Bound">q</a> <a id="15377" class="Symbol">â†’</a> <a id="15379" href="Varieties.Preservation.html#13429" class="Bound">ğ’¦</a> <a id="15381" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="15383" href="Varieties.Preservation.html#15343" class="Bound">p</a> <a id="15385" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="15387" href="Varieties.Preservation.html#15345" class="Bound">q</a>

 <a id="15391" href="Varieties.Preservation.html#15330" class="Function">S-id2</a> <a id="15397" href="Varieties.Preservation.html#15397" class="Bound">p</a> <a id="15399" href="Varieties.Preservation.html#15399" class="Bound">q</a> <a id="15401" href="Varieties.Preservation.html#15401" class="Bound">Spq</a> <a id="15405" class="Symbol">{</a><a id="15406" href="Varieties.Preservation.html#15406" class="Bound">ğ‘¨</a><a id="15407" class="Symbol">}</a> <a id="15409" href="Varieties.Preservation.html#15409" class="Bound">KA</a> <a id="15412" class="Symbol">=</a> <a id="15414" href="Varieties.Properties.html#4220" class="Function">âŠ§-lower-invar</a> <a id="15428" href="Varieties.Preservation.html#13401" class="Bound">wd</a> <a id="15431" href="Varieties.Preservation.html#15397" class="Bound">p</a> <a id="15433" href="Varieties.Preservation.html#15399" class="Bound">q</a> <a id="15435" class="Symbol">(</a><a id="15436" href="Varieties.Preservation.html#15401" class="Bound">Spq</a> <a id="15440" class="Symbol">(</a><a id="15441" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a> <a id="15447" href="Varieties.Preservation.html#15409" class="Bound">KA</a><a id="15449" class="Symbol">))</a>

</pre>



#### <a id="p-preserves-identities">P preserves identities</a>

<pre class="Agda">

<a id="15545" class="Keyword">module</a> <a id="15552" href="Varieties.Preservation.html#15552" class="Module">_</a> <a id="15554" class="Symbol">(</a><a id="15555" href="Varieties.Preservation.html#15555" class="Bound">fe</a> <a id="15558" class="Symbol">:</a> <a id="15560" href="Equality.Extensionality.html#2455" class="Function">DFunExt</a><a id="15567" class="Symbol">)</a> <a id="15569" class="Symbol">(</a><a id="15570" href="Varieties.Preservation.html#15570" class="Bound">wd</a> <a id="15573" class="Symbol">:</a> <a id="15575" href="Equality.Welldefined.html#2944" class="Function">SwellDef</a><a id="15583" class="Symbol">){</a><a id="15585" href="Varieties.Preservation.html#15585" class="Bound">X</a> <a id="15587" class="Symbol">:</a> <a id="15589" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="15594" href="Varieties.Preservation.html#13370" class="Generalizable">ğ“§</a><a id="15595" class="Symbol">}</a> <a id="15597" class="Symbol">{</a><a id="15598" href="Varieties.Preservation.html#15598" class="Bound">ğ’¦</a> <a id="15600" class="Symbol">:</a> <a id="15602" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="15607" class="Symbol">(</a><a id="15608" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="15616" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a> <a id="15618" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="15619" class="Symbol">)(</a><a id="15621" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="15624" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a><a id="15625" class="Symbol">)}</a> <a id="15628" class="Keyword">where</a>

 <a id="15636" href="Varieties.Preservation.html#15636" class="Function">P-id1</a> <a id="15642" class="Symbol">:</a> <a id="15644" class="Symbol">(</a><a id="15645" href="Varieties.Preservation.html#15645" class="Bound">p</a> <a id="15647" href="Varieties.Preservation.html#15647" class="Bound">q</a> <a id="15649" class="Symbol">:</a> <a id="15651" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="15656" href="Varieties.Preservation.html#15585" class="Bound">X</a><a id="15657" class="Symbol">)</a> <a id="15659" class="Symbol">â†’</a> <a id="15661" href="Varieties.Preservation.html#15598" class="Bound">ğ’¦</a> <a id="15663" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="15665" href="Varieties.Preservation.html#15645" class="Bound">p</a> <a id="15667" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="15669" href="Varieties.Preservation.html#15647" class="Bound">q</a> <a id="15671" class="Symbol">â†’</a> <a id="15673" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="15674" class="Symbol">{</a><a id="15675" class="Argument">Î²</a> <a id="15677" class="Symbol">=</a> <a id="15679" href="Varieties.Preservation.html#15616" class="Bound">Î±</a><a id="15680" class="Symbol">}</a> <a id="15682" href="Varieties.Preservation.html#15598" class="Bound">ğ’¦</a> <a id="15684" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="15686" href="Varieties.Preservation.html#15645" class="Bound">p</a> <a id="15688" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="15690" href="Varieties.Preservation.html#15647" class="Bound">q</a>

 <a id="15694" href="Varieties.Preservation.html#15636" class="Function">P-id1</a> <a id="15700" href="Varieties.Preservation.html#15700" class="Bound">p</a> <a id="15702" href="Varieties.Preservation.html#15702" class="Bound">q</a> <a id="15704" href="Varieties.Preservation.html#15704" class="Bound">Ïƒ</a> <a id="15706" class="Symbol">(</a><a id="15707" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="15713" href="Varieties.Preservation.html#15713" class="Bound">x</a><a id="15714" class="Symbol">)</a> <a id="15716" class="Symbol">=</a> <a id="15718" href="Varieties.Properties.html#4086" class="Function">âŠ§-Lift-invar</a> <a id="15731" href="Varieties.Preservation.html#15570" class="Bound">wd</a> <a id="15734" href="Varieties.Preservation.html#15700" class="Bound">p</a> <a id="15736" href="Varieties.Preservation.html#15702" class="Bound">q</a> <a id="15738" class="Symbol">(</a><a id="15739" href="Varieties.Preservation.html#15704" class="Bound">Ïƒ</a> <a id="15741" href="Varieties.Preservation.html#15713" class="Bound">x</a><a id="15742" class="Symbol">)</a>
 <a id="15745" href="Varieties.Preservation.html#15636" class="Function">P-id1</a> <a id="15751" href="Varieties.Preservation.html#15751" class="Bound">p</a> <a id="15753" href="Varieties.Preservation.html#15753" class="Bound">q</a> <a id="15755" href="Varieties.Preservation.html#15755" class="Bound">Ïƒ</a> <a id="15757" class="Symbol">(</a><a id="15758" href="Varieties.Closure.html#4503" class="InductiveConstructor">pliftu</a> <a id="15765" href="Varieties.Preservation.html#15765" class="Bound">x</a><a id="15766" class="Symbol">)</a> <a id="15768" class="Symbol">=</a> <a id="15770" href="Varieties.Properties.html#4086" class="Function">âŠ§-Lift-invar</a> <a id="15783" href="Varieties.Preservation.html#15570" class="Bound">wd</a> <a id="15786" href="Varieties.Preservation.html#15751" class="Bound">p</a> <a id="15788" href="Varieties.Preservation.html#15753" class="Bound">q</a> <a id="15790" class="Symbol">((</a><a id="15792" href="Varieties.Preservation.html#15636" class="Function">P-id1</a> <a id="15798" href="Varieties.Preservation.html#15751" class="Bound">p</a> <a id="15800" href="Varieties.Preservation.html#15753" class="Bound">q</a> <a id="15802" href="Varieties.Preservation.html#15755" class="Bound">Ïƒ</a><a id="15803" class="Symbol">)</a> <a id="15805" href="Varieties.Preservation.html#15765" class="Bound">x</a><a id="15806" class="Symbol">)</a>
 <a id="15809" href="Varieties.Preservation.html#15636" class="Function">P-id1</a> <a id="15815" href="Varieties.Preservation.html#15815" class="Bound">p</a> <a id="15817" href="Varieties.Preservation.html#15817" class="Bound">q</a> <a id="15819" href="Varieties.Preservation.html#15819" class="Bound">Ïƒ</a> <a id="15821" class="Symbol">(</a><a id="15822" href="Varieties.Closure.html#4568" class="InductiveConstructor">pliftw</a> <a id="15829" href="Varieties.Preservation.html#15829" class="Bound">x</a><a id="15830" class="Symbol">)</a> <a id="15832" class="Symbol">=</a> <a id="15834" href="Varieties.Properties.html#4086" class="Function">âŠ§-Lift-invar</a> <a id="15847" href="Varieties.Preservation.html#15570" class="Bound">wd</a> <a id="15850" href="Varieties.Preservation.html#15815" class="Bound">p</a> <a id="15852" href="Varieties.Preservation.html#15817" class="Bound">q</a> <a id="15854" class="Symbol">((</a><a id="15856" href="Varieties.Preservation.html#15636" class="Function">P-id1</a> <a id="15862" href="Varieties.Preservation.html#15815" class="Bound">p</a> <a id="15864" href="Varieties.Preservation.html#15817" class="Bound">q</a> <a id="15866" href="Varieties.Preservation.html#15819" class="Bound">Ïƒ</a><a id="15867" class="Symbol">)</a> <a id="15869" href="Varieties.Preservation.html#15829" class="Bound">x</a><a id="15870" class="Symbol">)</a>

 <a id="15874" href="Varieties.Preservation.html#15636" class="Function">P-id1</a> <a id="15880" href="Varieties.Preservation.html#15880" class="Bound">p</a> <a id="15882" href="Varieties.Preservation.html#15882" class="Bound">q</a> <a id="15884" href="Varieties.Preservation.html#15884" class="Bound">Ïƒ</a> <a id="15886" class="Symbol">(</a><a id="15887" href="Varieties.Closure.html#4645" class="InductiveConstructor">produ</a><a id="15892" class="Symbol">{</a><a id="15893" href="Varieties.Preservation.html#15893" class="Bound">I</a><a id="15894" class="Symbol">}{</a><a id="15896" href="Varieties.Preservation.html#15896" class="Bound">ğ’œ</a><a id="15897" class="Symbol">}</a> <a id="15899" href="Varieties.Preservation.html#15899" class="Bound">x</a><a id="15900" class="Symbol">)</a> <a id="15902" class="Symbol">=</a> <a id="15904" href="Varieties.Properties.html#7156" class="Function">âŠ§-P-lift-invar</a> <a id="15919" href="Varieties.Preservation.html#15555" class="Bound">fe</a> <a id="15922" href="Varieties.Preservation.html#15570" class="Bound">wd</a> <a id="15925" href="Varieties.Preservation.html#15896" class="Bound">ğ’œ</a>  <a id="15928" href="Varieties.Preservation.html#15880" class="Bound">p</a> <a id="15930" href="Varieties.Preservation.html#15882" class="Bound">q</a> <a id="15932" href="Varieties.Preservation.html#15945" class="Function">IH</a>
  <a id="15937" class="Keyword">where</a>
  <a id="15945" href="Varieties.Preservation.html#15945" class="Function">IH</a> <a id="15948" class="Symbol">:</a> <a id="15950" class="Symbol">âˆ€</a> <a id="15952" href="Varieties.Preservation.html#15952" class="Bound">i</a> <a id="15954" class="Symbol">â†’</a> <a id="15956" class="Symbol">(</a><a id="15957" href="Algebras.Basic.html#10870" class="Function">Lift-Alg</a> <a id="15966" class="Symbol">(</a><a id="15967" href="Varieties.Preservation.html#15896" class="Bound">ğ’œ</a> <a id="15969" href="Varieties.Preservation.html#15952" class="Bound">i</a><a id="15970" class="Symbol">)</a> <a id="15972" href="Varieties.Preservation.html#15616" class="Bound">Î±</a><a id="15973" class="Symbol">)</a> <a id="15975" href="Varieties.EquationalLogic.html#2638" class="Function Operator">âŠ§</a> <a id="15977" href="Varieties.Preservation.html#15880" class="Bound">p</a> <a id="15979" href="Varieties.EquationalLogic.html#2638" class="Function Operator">â‰ˆ</a> <a id="15981" href="Varieties.Preservation.html#15882" class="Bound">q</a>
  <a id="15985" href="Varieties.Preservation.html#15945" class="Function">IH</a> <a id="15988" href="Varieties.Preservation.html#15988" class="Bound">i</a> <a id="15990" class="Symbol">=</a> <a id="15992" href="Varieties.Properties.html#4086" class="Function">âŠ§-Lift-invar</a> <a id="16005" href="Varieties.Preservation.html#15570" class="Bound">wd</a>  <a id="16009" href="Varieties.Preservation.html#15880" class="Bound">p</a> <a id="16011" href="Varieties.Preservation.html#15882" class="Bound">q</a> <a id="16013" class="Symbol">((</a><a id="16015" href="Varieties.Preservation.html#15636" class="Function">P-id1</a> <a id="16021" href="Varieties.Preservation.html#15880" class="Bound">p</a> <a id="16023" href="Varieties.Preservation.html#15882" class="Bound">q</a> <a id="16025" href="Varieties.Preservation.html#15884" class="Bound">Ïƒ</a><a id="16026" class="Symbol">)</a> <a id="16028" class="Symbol">(</a><a id="16029" href="Varieties.Preservation.html#15899" class="Bound">x</a> <a id="16031" href="Varieties.Preservation.html#15988" class="Bound">i</a><a id="16032" class="Symbol">))</a>

 <a id="16037" href="Varieties.Preservation.html#15636" class="Function">P-id1</a> <a id="16043" href="Varieties.Preservation.html#16043" class="Bound">p</a> <a id="16045" href="Varieties.Preservation.html#16045" class="Bound">q</a> <a id="16047" href="Varieties.Preservation.html#16047" class="Bound">Ïƒ</a> <a id="16049" class="Symbol">(</a><a id="16050" href="Varieties.Closure.html#4730" class="InductiveConstructor">prodw</a><a id="16055" class="Symbol">{</a><a id="16056" href="Varieties.Preservation.html#16056" class="Bound">I</a><a id="16057" class="Symbol">}{</a><a id="16059" href="Varieties.Preservation.html#16059" class="Bound">ğ’œ</a><a id="16060" class="Symbol">}</a> <a id="16062" href="Varieties.Preservation.html#16062" class="Bound">x</a><a id="16063" class="Symbol">)</a> <a id="16065" class="Symbol">=</a> <a id="16067" href="Varieties.Properties.html#7156" class="Function">âŠ§-P-lift-invar</a> <a id="16082" href="Varieties.Preservation.html#15555" class="Bound">fe</a> <a id="16085" href="Varieties.Preservation.html#15570" class="Bound">wd</a> <a id="16088" href="Varieties.Preservation.html#16059" class="Bound">ğ’œ</a>  <a id="16091" href="Varieties.Preservation.html#16043" class="Bound">p</a> <a id="16093" href="Varieties.Preservation.html#16045" class="Bound">q</a> <a id="16095" href="Varieties.Preservation.html#16108" class="Function">IH</a>
  <a id="16100" class="Keyword">where</a>
  <a id="16108" href="Varieties.Preservation.html#16108" class="Function">IH</a> <a id="16111" class="Symbol">:</a> <a id="16113" class="Symbol">âˆ€</a> <a id="16115" href="Varieties.Preservation.html#16115" class="Bound">i</a> <a id="16117" class="Symbol">â†’</a> <a id="16119" class="Symbol">(</a><a id="16120" href="Algebras.Basic.html#10870" class="Function">Lift-Alg</a> <a id="16129" class="Symbol">(</a><a id="16130" href="Varieties.Preservation.html#16059" class="Bound">ğ’œ</a> <a id="16132" href="Varieties.Preservation.html#16115" class="Bound">i</a><a id="16133" class="Symbol">)</a> <a id="16135" href="Varieties.Preservation.html#15616" class="Bound">Î±</a><a id="16136" class="Symbol">)</a> <a id="16138" href="Varieties.EquationalLogic.html#2638" class="Function Operator">âŠ§</a> <a id="16140" href="Varieties.Preservation.html#16043" class="Bound">p</a> <a id="16142" href="Varieties.EquationalLogic.html#2638" class="Function Operator">â‰ˆ</a> <a id="16144" href="Varieties.Preservation.html#16045" class="Bound">q</a>
  <a id="16148" href="Varieties.Preservation.html#16108" class="Function">IH</a> <a id="16151" href="Varieties.Preservation.html#16151" class="Bound">i</a> <a id="16153" class="Symbol">=</a> <a id="16155" href="Varieties.Properties.html#4086" class="Function">âŠ§-Lift-invar</a> <a id="16168" href="Varieties.Preservation.html#15570" class="Bound">wd</a>  <a id="16172" href="Varieties.Preservation.html#16043" class="Bound">p</a> <a id="16174" href="Varieties.Preservation.html#16045" class="Bound">q</a> <a id="16176" class="Symbol">((</a><a id="16178" href="Varieties.Preservation.html#15636" class="Function">P-id1</a> <a id="16184" href="Varieties.Preservation.html#16043" class="Bound">p</a> <a id="16186" href="Varieties.Preservation.html#16045" class="Bound">q</a> <a id="16188" href="Varieties.Preservation.html#16047" class="Bound">Ïƒ</a><a id="16189" class="Symbol">)</a> <a id="16191" class="Symbol">(</a><a id="16192" href="Varieties.Preservation.html#16062" class="Bound">x</a> <a id="16194" href="Varieties.Preservation.html#16151" class="Bound">i</a><a id="16195" class="Symbol">))</a>

 <a id="16200" href="Varieties.Preservation.html#15636" class="Function">P-id1</a> <a id="16206" href="Varieties.Preservation.html#16206" class="Bound">p</a> <a id="16208" href="Varieties.Preservation.html#16208" class="Bound">q</a> <a id="16210" href="Varieties.Preservation.html#16210" class="Bound">Ïƒ</a> <a id="16212" class="Symbol">(</a><a id="16213" href="Varieties.Closure.html#4815" class="InductiveConstructor">pisow</a><a id="16218" class="Symbol">{</a><a id="16219" href="Varieties.Preservation.html#16219" class="Bound">ğ‘¨</a><a id="16220" class="Symbol">}{</a><a id="16222" href="Varieties.Preservation.html#16222" class="Bound">ğ‘©</a><a id="16223" class="Symbol">}</a> <a id="16225" href="Varieties.Preservation.html#16225" class="Bound">x</a> <a id="16227" href="Varieties.Preservation.html#16227" class="Bound">y</a><a id="16228" class="Symbol">)</a> <a id="16230" class="Symbol">=</a> <a id="16232" href="Varieties.Properties.html#3143" class="Function">âŠ§-I-invar</a> <a id="16242" href="Varieties.Preservation.html#15570" class="Bound">wd</a> <a id="16245" href="Varieties.Preservation.html#16222" class="Bound">ğ‘©</a> <a id="16247" href="Varieties.Preservation.html#16206" class="Bound">p</a> <a id="16249" href="Varieties.Preservation.html#16208" class="Bound">q</a> <a id="16251" class="Symbol">(</a><a id="16252" href="Varieties.Preservation.html#15636" class="Function">P-id1</a> <a id="16258" href="Varieties.Preservation.html#16206" class="Bound">p</a> <a id="16260" href="Varieties.Preservation.html#16208" class="Bound">q</a> <a id="16262" href="Varieties.Preservation.html#16210" class="Bound">Ïƒ</a> <a id="16264" href="Varieties.Preservation.html#16225" class="Bound">x</a><a id="16265" class="Symbol">)</a> <a id="16267" href="Varieties.Preservation.html#16227" class="Bound">y</a>

</pre>

...and conversely...

<pre class="Agda">

<a id="16318" class="Keyword">module</a> <a id="16325" href="Varieties.Preservation.html#16325" class="Module">_</a>  <a id="16328" class="Symbol">(</a><a id="16329" href="Varieties.Preservation.html#16329" class="Bound">wd</a> <a id="16332" class="Symbol">:</a> <a id="16334" href="Equality.Welldefined.html#2944" class="Function">SwellDef</a><a id="16342" class="Symbol">){</a><a id="16344" href="Varieties.Preservation.html#16344" class="Bound">X</a> <a id="16346" class="Symbol">:</a> <a id="16348" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="16353" href="Varieties.Preservation.html#13370" class="Generalizable">ğ“§</a><a id="16354" class="Symbol">}</a> <a id="16356" class="Symbol">{</a><a id="16357" href="Varieties.Preservation.html#16357" class="Bound">ğ’¦</a> <a id="16359" class="Symbol">:</a> <a id="16361" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="16366" class="Symbol">(</a><a id="16367" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="16375" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a> <a id="16377" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="16378" class="Symbol">)(</a><a id="16380" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="16383" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a><a id="16384" class="Symbol">)}</a> <a id="16387" class="Keyword">where</a>

 <a id="16395" href="Varieties.Preservation.html#16395" class="Function">P-id2</a> <a id="16401" class="Symbol">:</a> <a id="16403" class="Symbol">âˆ€</a> <a id="16405" class="Symbol">{</a><a id="16406" href="Varieties.Preservation.html#16406" class="Bound">Î²</a><a id="16407" class="Symbol">}(</a><a id="16409" href="Varieties.Preservation.html#16409" class="Bound">p</a> <a id="16411" href="Varieties.Preservation.html#16411" class="Bound">q</a> <a id="16413" class="Symbol">:</a> <a id="16415" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="16420" href="Varieties.Preservation.html#16344" class="Bound">X</a><a id="16421" class="Symbol">)</a> <a id="16423" class="Symbol">â†’</a> <a id="16425" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="16426" class="Symbol">{</a><a id="16427" class="Argument">Î²</a> <a id="16429" class="Symbol">=</a> <a id="16431" href="Varieties.Preservation.html#16406" class="Bound">Î²</a><a id="16432" class="Symbol">}</a> <a id="16434" href="Varieties.Preservation.html#16357" class="Bound">ğ’¦</a> <a id="16436" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="16438" href="Varieties.Preservation.html#16409" class="Bound">p</a> <a id="16440" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="16442" href="Varieties.Preservation.html#16411" class="Bound">q</a> <a id="16444" class="Symbol">â†’</a> <a id="16446" href="Varieties.Preservation.html#16357" class="Bound">ğ’¦</a> <a id="16448" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="16450" href="Varieties.Preservation.html#16409" class="Bound">p</a> <a id="16452" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="16454" href="Varieties.Preservation.html#16411" class="Bound">q</a>
 <a id="16457" href="Varieties.Preservation.html#16395" class="Function">P-id2</a> <a id="16463" href="Varieties.Preservation.html#16463" class="Bound">p</a> <a id="16465" href="Varieties.Preservation.html#16465" class="Bound">q</a> <a id="16467" href="Varieties.Preservation.html#16467" class="Bound">PKpq</a> <a id="16472" href="Varieties.Preservation.html#16472" class="Bound">KA</a> <a id="16475" class="Symbol">=</a> <a id="16477" href="Varieties.Properties.html#4220" class="Function">âŠ§-lower-invar</a> <a id="16491" href="Varieties.Preservation.html#16329" class="Bound">wd</a> <a id="16494" href="Varieties.Preservation.html#16463" class="Bound">p</a> <a id="16496" href="Varieties.Preservation.html#16465" class="Bound">q</a> <a id="16498" class="Symbol">(</a><a id="16499" href="Varieties.Preservation.html#16467" class="Bound">PKpq</a> <a id="16504" class="Symbol">(</a><a id="16505" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="16511" href="Varieties.Preservation.html#16472" class="Bound">KA</a><a id="16513" class="Symbol">))</a>

</pre>


#### <a id="v-preserves-identities">V preserves identities</a>

Finally, we prove the analogous preservation lemmas for the closure operator `V`.

<pre class="Agda">

<a id="16691" class="Keyword">module</a> <a id="Vid"></a><a id="16698" href="Varieties.Preservation.html#16698" class="Module">Vid</a> <a id="16702" class="Symbol">(</a><a id="16703" href="Varieties.Preservation.html#16703" class="Bound">fe</a> <a id="16706" class="Symbol">:</a> <a id="16708" href="Equality.Extensionality.html#2455" class="Function">DFunExt</a><a id="16715" class="Symbol">)(</a><a id="16717" href="Varieties.Preservation.html#16717" class="Bound">wd</a> <a id="16720" class="Symbol">:</a> <a id="16722" href="Equality.Welldefined.html#2944" class="Function">SwellDef</a><a id="16730" class="Symbol">){</a><a id="16732" href="Varieties.Preservation.html#16732" class="Bound">ğ“§</a> <a id="16734" class="Symbol">:</a> <a id="16736" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="16741" class="Symbol">}</a> <a id="16743" class="Symbol">{</a><a id="16744" href="Varieties.Preservation.html#16744" class="Bound">X</a> <a id="16746" class="Symbol">:</a> <a id="16748" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="16753" href="Varieties.Preservation.html#16732" class="Bound">ğ“§</a><a id="16754" class="Symbol">}</a> <a id="16756" class="Symbol">{</a><a id="16757" href="Varieties.Preservation.html#16757" class="Bound">ğ’¦</a> <a id="16759" class="Symbol">:</a> <a id="16761" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="16766" class="Symbol">(</a><a id="16767" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="16775" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a> <a id="16777" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="16778" class="Symbol">)(</a><a id="16780" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="16783" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a><a id="16784" class="Symbol">)}</a> <a id="16787" class="Keyword">where</a>

 <a id="Vid.V-id1"></a><a id="16795" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="16801" class="Symbol">:</a> <a id="16803" class="Symbol">(</a><a id="16804" href="Varieties.Preservation.html#16804" class="Bound">p</a> <a id="16806" href="Varieties.Preservation.html#16806" class="Bound">q</a> <a id="16808" class="Symbol">:</a> <a id="16810" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="16815" href="Varieties.Preservation.html#16744" class="Bound">X</a><a id="16816" class="Symbol">)</a> <a id="16818" class="Symbol">â†’</a> <a id="16820" href="Varieties.Preservation.html#16757" class="Bound">ğ’¦</a> <a id="16822" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="16824" href="Varieties.Preservation.html#16804" class="Bound">p</a> <a id="16826" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="16828" href="Varieties.Preservation.html#16806" class="Bound">q</a> <a id="16830" class="Symbol">â†’</a> <a id="16832" href="Varieties.Closure.html#5316" class="Datatype">V</a><a id="16833" class="Symbol">{</a><a id="16834" class="Argument">Î²</a> <a id="16836" class="Symbol">=</a> <a id="16838" href="Varieties.Preservation.html#16775" class="Bound">Î±</a><a id="16839" class="Symbol">}</a> <a id="16841" href="Varieties.Preservation.html#16757" class="Bound">ğ’¦</a> <a id="16843" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="16845" href="Varieties.Preservation.html#16804" class="Bound">p</a> <a id="16847" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="16849" href="Varieties.Preservation.html#16806" class="Bound">q</a>
 <a id="16852" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="16858" href="Varieties.Preservation.html#16858" class="Bound">p</a> <a id="16860" href="Varieties.Preservation.html#16860" class="Bound">q</a> <a id="16862" href="Varieties.Preservation.html#16862" class="Bound">Ïƒ</a> <a id="16864" class="Symbol">(</a><a id="16865" href="Varieties.Closure.html#5404" class="InductiveConstructor">vbase</a> <a id="16871" href="Varieties.Preservation.html#16871" class="Bound">x</a><a id="16872" class="Symbol">)</a> <a id="16874" class="Symbol">=</a> <a id="16876" href="Varieties.Properties.html#4086" class="Function">âŠ§-Lift-invar</a> <a id="16889" href="Varieties.Preservation.html#16717" class="Bound">wd</a> <a id="16892" href="Varieties.Preservation.html#16858" class="Bound">p</a> <a id="16894" href="Varieties.Preservation.html#16860" class="Bound">q</a> <a id="16896" class="Symbol">(</a><a id="16897" href="Varieties.Preservation.html#16862" class="Bound">Ïƒ</a> <a id="16899" href="Varieties.Preservation.html#16871" class="Bound">x</a><a id="16900" class="Symbol">)</a>
 <a id="16903" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="16909" href="Varieties.Preservation.html#16909" class="Bound">p</a> <a id="16911" href="Varieties.Preservation.html#16911" class="Bound">q</a> <a id="16913" href="Varieties.Preservation.html#16913" class="Bound">Ïƒ</a> <a id="16915" class="Symbol">(</a><a id="16916" href="Varieties.Closure.html#5461" class="InductiveConstructor">vlift</a><a id="16921" class="Symbol">{</a><a id="16922" href="Varieties.Preservation.html#16922" class="Bound">ğ‘¨</a><a id="16923" class="Symbol">}</a> <a id="16925" href="Varieties.Preservation.html#16925" class="Bound">x</a><a id="16926" class="Symbol">)</a> <a id="16928" class="Symbol">=</a> <a id="16930" href="Varieties.Properties.html#4086" class="Function">âŠ§-Lift-invar</a> <a id="16943" href="Varieties.Preservation.html#16717" class="Bound">wd</a> <a id="16946" href="Varieties.Preservation.html#16909" class="Bound">p</a> <a id="16948" href="Varieties.Preservation.html#16911" class="Bound">q</a> <a id="16950" class="Symbol">((</a><a id="16952" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="16958" href="Varieties.Preservation.html#16909" class="Bound">p</a> <a id="16960" href="Varieties.Preservation.html#16911" class="Bound">q</a> <a id="16962" href="Varieties.Preservation.html#16913" class="Bound">Ïƒ</a><a id="16963" class="Symbol">)</a> <a id="16965" href="Varieties.Preservation.html#16925" class="Bound">x</a><a id="16966" class="Symbol">)</a>
 <a id="16969" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="16975" href="Varieties.Preservation.html#16975" class="Bound">p</a> <a id="16977" href="Varieties.Preservation.html#16977" class="Bound">q</a> <a id="16979" href="Varieties.Preservation.html#16979" class="Bound">Ïƒ</a> <a id="16981" class="Symbol">(</a><a id="16982" href="Varieties.Closure.html#5526" class="InductiveConstructor">vliftw</a><a id="16988" class="Symbol">{</a><a id="16989" href="Varieties.Preservation.html#16989" class="Bound">ğ‘¨</a><a id="16990" class="Symbol">}</a> <a id="16992" href="Varieties.Preservation.html#16992" class="Bound">x</a><a id="16993" class="Symbol">)</a> <a id="16995" class="Symbol">=</a> <a id="16997" href="Varieties.Properties.html#4086" class="Function">âŠ§-Lift-invar</a> <a id="17010" href="Varieties.Preservation.html#16717" class="Bound">wd</a> <a id="17013" href="Varieties.Preservation.html#16975" class="Bound">p</a> <a id="17015" href="Varieties.Preservation.html#16977" class="Bound">q</a> <a id="17017" class="Symbol">((</a><a id="17019" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="17025" href="Varieties.Preservation.html#16975" class="Bound">p</a> <a id="17027" href="Varieties.Preservation.html#16977" class="Bound">q</a> <a id="17029" href="Varieties.Preservation.html#16979" class="Bound">Ïƒ</a><a id="17030" class="Symbol">)</a> <a id="17032" href="Varieties.Preservation.html#16992" class="Bound">x</a><a id="17033" class="Symbol">)</a>

 <a id="17037" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="17043" href="Varieties.Preservation.html#17043" class="Bound">p</a> <a id="17045" href="Varieties.Preservation.html#17045" class="Bound">q</a> <a id="17047" href="Varieties.Preservation.html#17047" class="Bound">Ïƒ</a> <a id="17049" class="Symbol">(</a><a id="17050" href="Varieties.Closure.html#5597" class="InductiveConstructor">vhimg</a><a id="17055" class="Symbol">{</a><a id="17056" href="Varieties.Preservation.html#17056" class="Bound">ğ‘¨</a><a id="17057" class="Symbol">}{</a><a id="17059" href="Varieties.Preservation.html#17059" class="Bound">ğ‘ª</a><a id="17060" class="Symbol">}</a><a id="17061" href="Varieties.Preservation.html#17061" class="Bound">VA</a> <a id="17064" class="Symbol">(</a><a id="17065" href="Varieties.Preservation.html#17065" class="Bound">ğ‘©</a> <a id="17067" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17069" class="Symbol">((</a><a id="17071" href="Varieties.Preservation.html#17071" class="Bound">Ï†</a> <a id="17073" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17075" href="Varieties.Preservation.html#17075" class="Bound">Ï†h</a><a id="17077" class="Symbol">)</a> <a id="17079" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17081" href="Varieties.Preservation.html#17081" class="Bound">Ï†E</a><a id="17083" class="Symbol">)))</a> <a id="17087" href="Varieties.Preservation.html#17087" class="Bound">b</a> <a id="17089" class="Symbol">=</a> <a id="17091" href="Varieties.Preservation.html#17257" class="Function">goal</a>
  <a id="17098" class="Keyword">where</a>
  <a id="17106" href="Varieties.Preservation.html#17106" class="Function">IH</a> <a id="17109" class="Symbol">:</a> <a id="17111" href="Varieties.Preservation.html#17056" class="Bound">ğ‘¨</a> <a id="17113" href="Varieties.EquationalLogic.html#2638" class="Function Operator">âŠ§</a> <a id="17115" href="Varieties.Preservation.html#17043" class="Bound">p</a> <a id="17117" href="Varieties.EquationalLogic.html#2638" class="Function Operator">â‰ˆ</a> <a id="17119" href="Varieties.Preservation.html#17045" class="Bound">q</a>
  <a id="17123" href="Varieties.Preservation.html#17106" class="Function">IH</a> <a id="17126" class="Symbol">=</a> <a id="17128" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="17134" href="Varieties.Preservation.html#17043" class="Bound">p</a> <a id="17136" href="Varieties.Preservation.html#17045" class="Bound">q</a> <a id="17138" href="Varieties.Preservation.html#17047" class="Bound">Ïƒ</a> <a id="17140" href="Varieties.Preservation.html#17061" class="Bound">VA</a>

  <a id="17146" href="Varieties.Preservation.html#17146" class="Function">preim</a> <a id="17152" class="Symbol">:</a> <a id="17154" href="Varieties.Preservation.html#16744" class="Bound">X</a> <a id="17156" class="Symbol">â†’</a> <a id="17158" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="17160" href="Varieties.Preservation.html#17056" class="Bound">ğ‘¨</a> <a id="17162" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a>
  <a id="17166" href="Varieties.Preservation.html#17146" class="Function">preim</a> <a id="17172" href="Varieties.Preservation.html#17172" class="Bound">x</a> <a id="17174" class="Symbol">=</a> <a id="17176" href="Overture.Inverses.html#1923" class="Function">Inv</a> <a id="17180" href="Varieties.Preservation.html#17071" class="Bound">Ï†</a> <a id="17182" class="Symbol">(</a><a id="17183" href="Varieties.Preservation.html#17081" class="Bound">Ï†E</a> <a id="17186" class="Symbol">(</a><a id="17187" href="Varieties.Preservation.html#17087" class="Bound">b</a> <a id="17189" href="Varieties.Preservation.html#17172" class="Bound">x</a><a id="17190" class="Symbol">))</a>

  <a id="17196" href="Varieties.Preservation.html#17196" class="Function">Î¶</a> <a id="17198" class="Symbol">:</a> <a id="17200" class="Symbol">âˆ€</a> <a id="17202" href="Varieties.Preservation.html#17202" class="Bound">x</a> <a id="17204" class="Symbol">â†’</a> <a id="17206" href="Varieties.Preservation.html#17071" class="Bound">Ï†</a> <a id="17208" class="Symbol">(</a><a id="17209" href="Varieties.Preservation.html#17146" class="Function">preim</a> <a id="17215" href="Varieties.Preservation.html#17202" class="Bound">x</a><a id="17216" class="Symbol">)</a> <a id="17218" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="17220" href="Varieties.Preservation.html#17087" class="Bound">b</a> <a id="17222" href="Varieties.Preservation.html#17202" class="Bound">x</a>
  <a id="17226" href="Varieties.Preservation.html#17196" class="Function">Î¶</a> <a id="17228" href="Varieties.Preservation.html#17228" class="Bound">x</a> <a id="17230" class="Symbol">=</a> <a id="17232" href="Overture.Inverses.html#2084" class="Function">InvIsInv</a> <a id="17241" href="Varieties.Preservation.html#17071" class="Bound">Ï†</a> <a id="17243" class="Symbol">(</a><a id="17244" href="Varieties.Preservation.html#17081" class="Bound">Ï†E</a> <a id="17247" class="Symbol">(</a><a id="17248" href="Varieties.Preservation.html#17087" class="Bound">b</a> <a id="17250" href="Varieties.Preservation.html#17228" class="Bound">x</a><a id="17251" class="Symbol">))</a>

  <a id="17257" href="Varieties.Preservation.html#17257" class="Function">goal</a> <a id="17262" class="Symbol">:</a> <a id="17264" class="Symbol">(</a><a id="17265" href="Varieties.Preservation.html#17065" class="Bound">ğ‘©</a> <a id="17267" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17269" href="Varieties.Preservation.html#17043" class="Bound">p</a> <a id="17271" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17272" class="Symbol">)</a> <a id="17274" href="Varieties.Preservation.html#17087" class="Bound">b</a> <a id="17276" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="17278" class="Symbol">(</a><a id="17279" href="Varieties.Preservation.html#17065" class="Bound">ğ‘©</a> <a id="17281" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17283" href="Varieties.Preservation.html#17045" class="Bound">q</a> <a id="17285" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17286" class="Symbol">)</a> <a id="17288" href="Varieties.Preservation.html#17087" class="Bound">b</a>
  <a id="17292" href="Varieties.Preservation.html#17257" class="Function">goal</a> <a id="17297" class="Symbol">=</a> <a id="17299" class="Symbol">(</a><a id="17300" href="Varieties.Preservation.html#17065" class="Bound">ğ‘©</a> <a id="17302" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17304" href="Varieties.Preservation.html#17043" class="Bound">p</a> <a id="17306" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17307" class="Symbol">)</a> <a id="17309" href="Varieties.Preservation.html#17087" class="Bound">b</a>          <a id="17320" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17323" href="Varieties.Preservation.html#16717" class="Bound">wd</a> <a id="17326" href="Varieties.Preservation.html#16732" class="Bound">ğ“§</a> <a id="17328" href="Varieties.Preservation.html#16775" class="Bound">Î±</a> <a id="17330" class="Symbol">(</a><a id="17331" href="Varieties.Preservation.html#17065" class="Bound">ğ‘©</a> <a id="17333" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17335" href="Varieties.Preservation.html#17043" class="Bound">p</a> <a id="17337" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17338" class="Symbol">)</a> <a id="17340" href="Varieties.Preservation.html#17087" class="Bound">b</a> <a id="17342" class="Symbol">(</a><a id="17343" href="Varieties.Preservation.html#17071" class="Bound">Ï†</a> <a id="17345" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17347" href="Varieties.Preservation.html#17146" class="Function">preim</a> <a id="17353" class="Symbol">)(Î»</a> <a id="17357" href="Varieties.Preservation.html#17357" class="Bound">i</a> <a id="17359" class="Symbol">â†’</a> <a id="17361" class="Symbol">(</a><a id="17362" href="Varieties.Preservation.html#17196" class="Function">Î¶</a> <a id="17364" href="Varieties.Preservation.html#17357" class="Bound">i</a><a id="17365" class="Symbol">)</a><a id="17366" href="Overture.Preliminaries.html#5082" class="Function Operator">â»Â¹</a><a id="17368" class="Symbol">)</a><a id="17369" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17377" class="Symbol">(</a><a id="17378" href="Varieties.Preservation.html#17065" class="Bound">ğ‘©</a> <a id="17380" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17382" href="Varieties.Preservation.html#17043" class="Bound">p</a> <a id="17384" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17385" class="Symbol">)(</a><a id="17387" href="Varieties.Preservation.html#17071" class="Bound">Ï†</a> <a id="17389" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17391" href="Varieties.Preservation.html#17146" class="Function">preim</a><a id="17396" class="Symbol">)</a> <a id="17398" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="17400" class="Symbol">(</a><a id="17401" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a> <a id="17415" class="Symbol">(</a><a id="17416" href="Varieties.Preservation.html#16717" class="Bound">wd</a> <a id="17419" href="Varieties.Preservation.html#629" class="Bound">ğ“¥</a> <a id="17421" href="Varieties.Preservation.html#16775" class="Bound">Î±</a><a id="17422" class="Symbol">)</a> <a id="17424" href="Varieties.Preservation.html#17065" class="Bound">ğ‘©</a> <a id="17426" class="Symbol">(</a><a id="17427" href="Varieties.Preservation.html#17071" class="Bound">Ï†</a> <a id="17429" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17431" href="Varieties.Preservation.html#17075" class="Bound">Ï†h</a><a id="17433" class="Symbol">)</a> <a id="17435" href="Varieties.Preservation.html#17043" class="Bound">p</a> <a id="17437" href="Varieties.Preservation.html#17146" class="Function">preim</a><a id="17442" class="Symbol">)</a><a id="17443" href="Overture.Preliminaries.html#5082" class="Function Operator">â»Â¹</a> <a id="17446" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17454" href="Varieties.Preservation.html#17071" class="Bound">Ï†</a><a id="17455" class="Symbol">((</a><a id="17457" href="Varieties.Preservation.html#17056" class="Bound">ğ‘¨</a> <a id="17459" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17461" href="Varieties.Preservation.html#17043" class="Bound">p</a> <a id="17463" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17464" class="Symbol">)</a> <a id="17466" href="Varieties.Preservation.html#17146" class="Function">preim</a><a id="17471" class="Symbol">)</a>   <a id="17475" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17478" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="17483" href="Varieties.Preservation.html#17071" class="Bound">Ï†</a> <a id="17485" class="Symbol">(</a><a id="17486" href="Varieties.Preservation.html#17106" class="Function">IH</a> <a id="17489" href="Varieties.Preservation.html#17146" class="Function">preim</a><a id="17494" class="Symbol">)</a> <a id="17496" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17504" href="Varieties.Preservation.html#17071" class="Bound">Ï†</a><a id="17505" class="Symbol">((</a><a id="17507" href="Varieties.Preservation.html#17056" class="Bound">ğ‘¨</a> <a id="17509" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17511" href="Varieties.Preservation.html#17045" class="Bound">q</a> <a id="17513" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17514" class="Symbol">)</a> <a id="17516" href="Varieties.Preservation.html#17146" class="Function">preim</a><a id="17521" class="Symbol">)</a>   <a id="17525" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17528" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a> <a id="17542" class="Symbol">(</a><a id="17543" href="Varieties.Preservation.html#16717" class="Bound">wd</a> <a id="17546" href="Varieties.Preservation.html#629" class="Bound">ğ“¥</a> <a id="17548" href="Varieties.Preservation.html#16775" class="Bound">Î±</a><a id="17549" class="Symbol">)</a> <a id="17551" href="Varieties.Preservation.html#17065" class="Bound">ğ‘©</a> <a id="17553" class="Symbol">(</a><a id="17554" href="Varieties.Preservation.html#17071" class="Bound">Ï†</a> <a id="17556" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17558" href="Varieties.Preservation.html#17075" class="Bound">Ï†h</a><a id="17560" class="Symbol">)</a> <a id="17562" href="Varieties.Preservation.html#17045" class="Bound">q</a> <a id="17564" href="Varieties.Preservation.html#17146" class="Function">preim</a> <a id="17570" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17578" class="Symbol">(</a><a id="17579" href="Varieties.Preservation.html#17065" class="Bound">ğ‘©</a> <a id="17581" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17583" href="Varieties.Preservation.html#17045" class="Bound">q</a> <a id="17585" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17586" class="Symbol">)(</a><a id="17588" href="Varieties.Preservation.html#17071" class="Bound">Ï†</a> <a id="17590" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17592" href="Varieties.Preservation.html#17146" class="Function">preim</a><a id="17597" class="Symbol">)</a> <a id="17599" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17602" href="Varieties.Preservation.html#16717" class="Bound">wd</a> <a id="17605" href="Varieties.Preservation.html#16732" class="Bound">ğ“§</a> <a id="17607" href="Varieties.Preservation.html#16775" class="Bound">Î±</a> <a id="17609" class="Symbol">(</a><a id="17610" href="Varieties.Preservation.html#17065" class="Bound">ğ‘©</a> <a id="17612" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17614" href="Varieties.Preservation.html#17045" class="Bound">q</a> <a id="17616" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17617" class="Symbol">)(</a><a id="17619" href="Varieties.Preservation.html#17071" class="Bound">Ï†</a> <a id="17621" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17623" href="Varieties.Preservation.html#17146" class="Function">preim</a><a id="17628" class="Symbol">)</a> <a id="17630" href="Varieties.Preservation.html#17087" class="Bound">b</a> <a id="17632" href="Varieties.Preservation.html#17196" class="Function">Î¶</a> <a id="17634" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17642" class="Symbol">(</a><a id="17643" href="Varieties.Preservation.html#17065" class="Bound">ğ‘©</a> <a id="17645" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17647" href="Varieties.Preservation.html#17045" class="Bound">q</a> <a id="17649" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17650" class="Symbol">)</a> <a id="17652" href="Varieties.Preservation.html#17087" class="Bound">b</a>          <a id="17663" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

 <a id="17667" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="17673" href="Varieties.Preservation.html#17673" class="Bound">p</a> <a id="17675" href="Varieties.Preservation.html#17675" class="Bound">q</a> <a id="17677" href="Varieties.Preservation.html#17677" class="Bound">Ïƒ</a> <a id="17679" class="Symbol">(</a> <a id="17681" href="Varieties.Closure.html#5679" class="InductiveConstructor">vssubw</a> <a id="17688" class="Symbol">{</a><a id="17689" href="Varieties.Preservation.html#17689" class="Bound">ğ‘¨</a><a id="17690" class="Symbol">}{</a><a id="17692" href="Varieties.Preservation.html#17692" class="Bound">ğ‘©</a><a id="17693" class="Symbol">}</a> <a id="17695" href="Varieties.Preservation.html#17695" class="Bound">VA</a> <a id="17698" href="Varieties.Preservation.html#17698" class="Bound">Bâ‰¤A</a> <a id="17702" class="Symbol">)</a> <a id="17704" class="Symbol">=</a>
  <a id="17708" href="Varieties.Properties.html#5373" class="Function">âŠ§-S-class-invar</a> <a id="17724" href="Varieties.Preservation.html#16717" class="Bound">wd</a> <a id="17727" href="Varieties.Preservation.html#17673" class="Bound">p</a> <a id="17729" href="Varieties.Preservation.html#17675" class="Bound">q</a> <a id="17731" href="Varieties.Preservation.html#17883" class="Function">goal</a> <a id="17736" class="Symbol">(</a><a id="17737" href="Varieties.Preservation.html#17692" class="Bound">ğ‘©</a> <a id="17739" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17741" href="Varieties.Preservation.html#17689" class="Bound">ğ‘¨</a> <a id="17743" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17745" class="Symbol">(</a><a id="17746" href="Varieties.Preservation.html#17692" class="Bound">ğ‘©</a> <a id="17748" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17750" href="Varieties.Preservation.html#17698" class="Bound">Bâ‰¤A</a><a id="17753" class="Symbol">)</a> <a id="17755" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17757" href="Varieties.Preservation.html#1119" class="InductiveConstructor">inr</a> <a id="17761" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17766" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17768" href="Homomorphisms.Isomorphisms.html#2821" class="Function">â‰…-refl</a><a id="17774" class="Symbol">)</a>
   <a id="17779" class="Keyword">where</a>
   <a id="17788" href="Varieties.Preservation.html#17788" class="Function">IH</a> <a id="17791" class="Symbol">:</a> <a id="17793" href="Varieties.Preservation.html#17689" class="Bound">ğ‘¨</a> <a id="17795" href="Varieties.EquationalLogic.html#2638" class="Function Operator">âŠ§</a> <a id="17797" href="Varieties.Preservation.html#17673" class="Bound">p</a> <a id="17799" href="Varieties.EquationalLogic.html#2638" class="Function Operator">â‰ˆ</a> <a id="17801" href="Varieties.Preservation.html#17675" class="Bound">q</a>
   <a id="17806" href="Varieties.Preservation.html#17788" class="Function">IH</a> <a id="17809" class="Symbol">=</a> <a id="17811" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="17817" href="Varieties.Preservation.html#17673" class="Bound">p</a> <a id="17819" href="Varieties.Preservation.html#17675" class="Bound">q</a> <a id="17821" href="Varieties.Preservation.html#17677" class="Bound">Ïƒ</a> <a id="17823" href="Varieties.Preservation.html#17695" class="Bound">VA</a>

   <a id="17830" href="Varieties.Preservation.html#17830" class="Function">Asinglepq</a> <a id="17840" class="Symbol">:</a> <a id="17842" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="17844" href="Varieties.Preservation.html#17689" class="Bound">ğ‘¨</a> <a id="17846" href="Relation.Unary.html#1335" class="Function Operator">ï½</a> <a id="17848" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="17850" href="Varieties.Preservation.html#17673" class="Bound">p</a> <a id="17852" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="17854" href="Varieties.Preservation.html#17675" class="Bound">q</a>
   <a id="17859" href="Varieties.Preservation.html#17830" class="Function">Asinglepq</a> <a id="17869" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17874" class="Symbol">=</a> <a id="17876" href="Varieties.Preservation.html#17788" class="Function">IH</a>

   <a id="17883" href="Varieties.Preservation.html#17883" class="Function">goal</a> <a id="17888" class="Symbol">:</a> <a id="17890" class="Symbol">(</a><a id="17891" href="Varieties.Preservation.html#16757" class="Bound">ğ’¦</a> <a id="17893" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="17895" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="17897" href="Varieties.Preservation.html#17689" class="Bound">ğ‘¨</a> <a id="17899" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="17900" class="Symbol">)</a> <a id="17902" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="17904" href="Varieties.Preservation.html#17673" class="Bound">p</a> <a id="17906" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="17908" href="Varieties.Preservation.html#17675" class="Bound">q</a>
   <a id="17913" href="Varieties.Preservation.html#17883" class="Function">goal</a> <a id="17918" class="Symbol">{</a><a id="17919" href="Varieties.Preservation.html#17919" class="Bound">ğ‘©</a><a id="17920" class="Symbol">}</a> <a id="17922" class="Symbol">(</a><a id="17923" href="Varieties.Preservation.html#1104" class="InductiveConstructor">inl</a> <a id="17927" href="Varieties.Preservation.html#17927" class="Bound">x</a><a id="17928" class="Symbol">)</a> <a id="17930" class="Symbol">=</a> <a id="17932" href="Varieties.Preservation.html#17677" class="Bound">Ïƒ</a> <a id="17934" href="Varieties.Preservation.html#17927" class="Bound">x</a>
   <a id="17939" href="Varieties.Preservation.html#17883" class="Function">goal</a> <a id="17944" class="Symbol">{</a><a id="17945" href="Varieties.Preservation.html#17945" class="Bound">ğ‘©</a><a id="17946" class="Symbol">}</a> <a id="17948" class="Symbol">(</a><a id="17949" href="Varieties.Preservation.html#1119" class="InductiveConstructor">inr</a> <a id="17953" href="Varieties.Preservation.html#17953" class="Bound">y</a><a id="17954" class="Symbol">)</a> <a id="17956" class="Symbol">=</a> <a id="17958" href="Varieties.Preservation.html#17830" class="Function">Asinglepq</a> <a id="17968" href="Varieties.Preservation.html#17953" class="Bound">y</a>

 <a id="17972" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="17978" href="Varieties.Preservation.html#17978" class="Bound">p</a> <a id="17980" href="Varieties.Preservation.html#17980" class="Bound">q</a> <a id="17982" href="Varieties.Preservation.html#17982" class="Bound">Ïƒ</a> <a id="17984" class="Symbol">(</a><a id="17985" href="Varieties.Closure.html#5743" class="InductiveConstructor">vprodu</a><a id="17991" class="Symbol">{</a><a id="17992" href="Varieties.Preservation.html#17992" class="Bound">I</a><a id="17993" class="Symbol">}{</a><a id="17995" href="Varieties.Preservation.html#17995" class="Bound">ğ’œ</a><a id="17996" class="Symbol">}</a> <a id="17998" href="Varieties.Preservation.html#17998" class="Bound">Vğ’œ</a><a id="18000" class="Symbol">)</a> <a id="18002" class="Symbol">=</a> <a id="18004" href="Varieties.Properties.html#6069" class="Function">âŠ§-P-invar</a> <a id="18014" href="Varieties.Preservation.html#16703" class="Bound">fe</a> <a id="18017" href="Varieties.Preservation.html#16717" class="Bound">wd</a> <a id="18020" href="Varieties.Preservation.html#17995" class="Bound">ğ’œ</a>  <a id="18023" href="Varieties.Preservation.html#17978" class="Bound">p</a> <a id="18025" href="Varieties.Preservation.html#17980" class="Bound">q</a> <a id="18027" class="Symbol">Î»</a> <a id="18029" href="Varieties.Preservation.html#18029" class="Bound">i</a> <a id="18031" class="Symbol">â†’</a> <a id="18033" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="18039" href="Varieties.Preservation.html#17978" class="Bound">p</a> <a id="18041" href="Varieties.Preservation.html#17980" class="Bound">q</a> <a id="18043" href="Varieties.Preservation.html#17982" class="Bound">Ïƒ</a> <a id="18045" class="Symbol">(</a><a id="18046" href="Varieties.Preservation.html#17998" class="Bound">Vğ’œ</a> <a id="18049" href="Varieties.Preservation.html#18029" class="Bound">i</a><a id="18050" class="Symbol">)</a>
 <a id="18053" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="18059" href="Varieties.Preservation.html#18059" class="Bound">p</a> <a id="18061" href="Varieties.Preservation.html#18061" class="Bound">q</a> <a id="18063" href="Varieties.Preservation.html#18063" class="Bound">Ïƒ</a> <a id="18065" class="Symbol">(</a><a id="18066" href="Varieties.Closure.html#5827" class="InductiveConstructor">vprodw</a><a id="18072" class="Symbol">{</a><a id="18073" href="Varieties.Preservation.html#18073" class="Bound">I</a><a id="18074" class="Symbol">}{</a><a id="18076" href="Varieties.Preservation.html#18076" class="Bound">ğ’œ</a><a id="18077" class="Symbol">}</a> <a id="18079" href="Varieties.Preservation.html#18079" class="Bound">Vğ’œ</a><a id="18081" class="Symbol">)</a> <a id="18083" class="Symbol">=</a> <a id="18085" href="Varieties.Properties.html#6069" class="Function">âŠ§-P-invar</a> <a id="18095" href="Varieties.Preservation.html#16703" class="Bound">fe</a> <a id="18098" href="Varieties.Preservation.html#16717" class="Bound">wd</a> <a id="18101" href="Varieties.Preservation.html#18076" class="Bound">ğ’œ</a>  <a id="18104" href="Varieties.Preservation.html#18059" class="Bound">p</a> <a id="18106" href="Varieties.Preservation.html#18061" class="Bound">q</a> <a id="18108" class="Symbol">Î»</a> <a id="18110" href="Varieties.Preservation.html#18110" class="Bound">i</a> <a id="18112" class="Symbol">â†’</a> <a id="18114" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="18120" href="Varieties.Preservation.html#18059" class="Bound">p</a> <a id="18122" href="Varieties.Preservation.html#18061" class="Bound">q</a> <a id="18124" href="Varieties.Preservation.html#18063" class="Bound">Ïƒ</a> <a id="18126" class="Symbol">(</a><a id="18127" href="Varieties.Preservation.html#18079" class="Bound">Vğ’œ</a> <a id="18130" href="Varieties.Preservation.html#18110" class="Bound">i</a><a id="18131" class="Symbol">)</a>
 <a id="18134" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="18140" href="Varieties.Preservation.html#18140" class="Bound">p</a> <a id="18142" href="Varieties.Preservation.html#18142" class="Bound">q</a> <a id="18144" href="Varieties.Preservation.html#18144" class="Bound">Ïƒ</a> <a id="18146" class="Symbol">(</a><a id="18147" href="Varieties.Closure.html#5911" class="InductiveConstructor">visou</a><a id="18152" class="Symbol">{</a><a id="18153" href="Varieties.Preservation.html#18153" class="Bound">ğ‘¨</a><a id="18154" class="Symbol">}{</a><a id="18156" href="Varieties.Preservation.html#18156" class="Bound">ğ‘©</a><a id="18157" class="Symbol">}</a> <a id="18159" href="Varieties.Preservation.html#18159" class="Bound">VA</a> <a id="18162" href="Varieties.Preservation.html#18162" class="Bound">Aâ‰…B</a><a id="18165" class="Symbol">)</a> <a id="18167" class="Symbol">=</a> <a id="18169" href="Varieties.Properties.html#3143" class="Function">âŠ§-I-invar</a> <a id="18179" href="Varieties.Preservation.html#16717" class="Bound">wd</a> <a id="18182" href="Varieties.Preservation.html#18156" class="Bound">ğ‘©</a> <a id="18184" href="Varieties.Preservation.html#18140" class="Bound">p</a> <a id="18186" href="Varieties.Preservation.html#18142" class="Bound">q</a> <a id="18188" class="Symbol">(</a><a id="18189" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="18195" href="Varieties.Preservation.html#18140" class="Bound">p</a> <a id="18197" href="Varieties.Preservation.html#18142" class="Bound">q</a> <a id="18199" href="Varieties.Preservation.html#18144" class="Bound">Ïƒ</a> <a id="18201" href="Varieties.Preservation.html#18159" class="Bound">VA</a><a id="18203" class="Symbol">)</a> <a id="18205" href="Varieties.Preservation.html#18162" class="Bound">Aâ‰…B</a>
 <a id="18210" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="18216" href="Varieties.Preservation.html#18216" class="Bound">p</a> <a id="18218" href="Varieties.Preservation.html#18218" class="Bound">q</a> <a id="18220" href="Varieties.Preservation.html#18220" class="Bound">Ïƒ</a> <a id="18222" class="Symbol">(</a><a id="18223" href="Varieties.Closure.html#5990" class="InductiveConstructor">visow</a><a id="18228" class="Symbol">{</a><a id="18229" href="Varieties.Preservation.html#18229" class="Bound">ğ‘¨</a><a id="18230" class="Symbol">}{</a><a id="18232" href="Varieties.Preservation.html#18232" class="Bound">ğ‘©</a><a id="18233" class="Symbol">}</a> <a id="18235" href="Varieties.Preservation.html#18235" class="Bound">VA</a> <a id="18238" href="Varieties.Preservation.html#18238" class="Bound">Aâ‰…B</a><a id="18241" class="Symbol">)</a> <a id="18243" class="Symbol">=</a> <a id="18245" href="Varieties.Properties.html#3143" class="Function">âŠ§-I-invar</a> <a id="18255" href="Varieties.Preservation.html#16717" class="Bound">wd</a> <a id="18258" href="Varieties.Preservation.html#18232" class="Bound">ğ‘©</a> <a id="18260" href="Varieties.Preservation.html#18216" class="Bound">p</a> <a id="18262" href="Varieties.Preservation.html#18218" class="Bound">q</a> <a id="18264" class="Symbol">(</a><a id="18265" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="18271" href="Varieties.Preservation.html#18216" class="Bound">p</a> <a id="18273" href="Varieties.Preservation.html#18218" class="Bound">q</a> <a id="18275" href="Varieties.Preservation.html#18220" class="Bound">Ïƒ</a> <a id="18277" href="Varieties.Preservation.html#18235" class="Bound">VA</a><a id="18279" class="Symbol">)</a> <a id="18281" href="Varieties.Preservation.html#18238" class="Bound">Aâ‰…B</a>

<a id="18286" class="Keyword">module</a> <a id="Vid&#39;"></a><a id="18293" href="Varieties.Preservation.html#18293" class="Module">Vid&#39;</a> <a id="18298" class="Symbol">(</a><a id="18299" href="Varieties.Preservation.html#18299" class="Bound">fe</a> <a id="18302" class="Symbol">:</a> <a id="18304" href="Equality.Extensionality.html#2455" class="Function">DFunExt</a><a id="18311" class="Symbol">)(</a><a id="18313" href="Varieties.Preservation.html#18313" class="Bound">wd</a> <a id="18316" class="Symbol">:</a> <a id="18318" href="Equality.Welldefined.html#2944" class="Function">SwellDef</a><a id="18326" class="Symbol">){</a><a id="18328" href="Varieties.Preservation.html#18328" class="Bound">ğ“§</a> <a id="18330" class="Symbol">:</a> <a id="18332" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="18337" class="Symbol">}</a> <a id="18339" class="Symbol">{</a><a id="18340" href="Varieties.Preservation.html#18340" class="Bound">X</a> <a id="18342" class="Symbol">:</a> <a id="18344" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="18349" href="Varieties.Preservation.html#18328" class="Bound">ğ“§</a><a id="18350" class="Symbol">}</a> <a id="18352" class="Symbol">{</a><a id="18353" href="Varieties.Preservation.html#18353" class="Bound">ğ’¦</a> <a id="18355" class="Symbol">:</a> <a id="18357" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="18362" class="Symbol">(</a><a id="18363" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="18371" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a> <a id="18373" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="18374" class="Symbol">)(</a><a id="18376" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="18379" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a><a id="18380" class="Symbol">)}</a> <a id="18383" class="Keyword">where</a>

 <a id="18391" class="Keyword">open</a> <a id="18396" href="Varieties.Preservation.html#16698" class="Module">Vid</a> <a id="18400" href="Varieties.Preservation.html#18299" class="Bound">fe</a> <a id="18403" href="Varieties.Preservation.html#18313" class="Bound">wd</a> <a id="18406" class="Symbol">{</a><a id="18407" href="Varieties.Preservation.html#18328" class="Bound">ğ“§</a><a id="18408" class="Symbol">}{</a><a id="18410" href="Varieties.Preservation.html#18340" class="Bound">X</a><a id="18411" class="Symbol">}{</a><a id="18413" href="Varieties.Preservation.html#18353" class="Bound">ğ’¦</a><a id="18414" class="Symbol">}</a> <a id="18416" class="Keyword">public</a>
 <a id="Vid&#39;.V-id1&#39;"></a><a id="18424" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="18431" class="Symbol">:</a> <a id="18433" class="Symbol">(</a><a id="18434" href="Varieties.Preservation.html#18434" class="Bound">p</a> <a id="18436" href="Varieties.Preservation.html#18436" class="Bound">q</a> <a id="18438" class="Symbol">:</a> <a id="18440" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="18445" href="Varieties.Preservation.html#18340" class="Bound">X</a><a id="18446" class="Symbol">)</a> <a id="18448" class="Symbol">â†’</a> <a id="18450" href="Varieties.Preservation.html#18353" class="Bound">ğ’¦</a> <a id="18452" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="18454" href="Varieties.Preservation.html#18434" class="Bound">p</a> <a id="18456" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="18458" href="Varieties.Preservation.html#18436" class="Bound">q</a> <a id="18460" class="Symbol">â†’</a> <a id="18462" href="Varieties.Closure.html#5316" class="Datatype">V</a><a id="18463" class="Symbol">{</a><a id="18464" class="Argument">Î²</a> <a id="18466" class="Symbol">=</a> <a id="18468" href="Varieties.Preservation.html#3239" class="Generalizable">Î²</a><a id="18469" class="Symbol">}</a> <a id="18471" href="Varieties.Preservation.html#18353" class="Bound">ğ’¦</a> <a id="18473" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="18475" href="Varieties.Preservation.html#18434" class="Bound">p</a> <a id="18477" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="18479" href="Varieties.Preservation.html#18436" class="Bound">q</a>
 <a id="18482" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="18489" href="Varieties.Preservation.html#18489" class="Bound">p</a> <a id="18491" href="Varieties.Preservation.html#18491" class="Bound">q</a> <a id="18493" href="Varieties.Preservation.html#18493" class="Bound">Ïƒ</a> <a id="18495" class="Symbol">(</a><a id="18496" href="Varieties.Closure.html#5404" class="InductiveConstructor">vbase</a> <a id="18502" href="Varieties.Preservation.html#18502" class="Bound">x</a><a id="18503" class="Symbol">)</a> <a id="18505" class="Symbol">=</a> <a id="18507" href="Varieties.Properties.html#4086" class="Function">âŠ§-Lift-invar</a> <a id="18520" href="Varieties.Preservation.html#18313" class="Bound">wd</a> <a id="18523" href="Varieties.Preservation.html#18489" class="Bound">p</a> <a id="18525" href="Varieties.Preservation.html#18491" class="Bound">q</a> <a id="18527" class="Symbol">(</a><a id="18528" href="Varieties.Preservation.html#18493" class="Bound">Ïƒ</a> <a id="18530" href="Varieties.Preservation.html#18502" class="Bound">x</a><a id="18531" class="Symbol">)</a>
 <a id="18534" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="18541" href="Varieties.Preservation.html#18541" class="Bound">p</a> <a id="18543" href="Varieties.Preservation.html#18543" class="Bound">q</a> <a id="18545" href="Varieties.Preservation.html#18545" class="Bound">Ïƒ</a> <a id="18547" class="Symbol">(</a><a id="18548" href="Varieties.Closure.html#5461" class="InductiveConstructor">vlift</a><a id="18553" class="Symbol">{</a><a id="18554" href="Varieties.Preservation.html#18554" class="Bound">ğ‘¨</a><a id="18555" class="Symbol">}</a> <a id="18557" href="Varieties.Preservation.html#18557" class="Bound">x</a><a id="18558" class="Symbol">)</a> <a id="18560" class="Symbol">=</a> <a id="18562" href="Varieties.Properties.html#4086" class="Function">âŠ§-Lift-invar</a> <a id="18575" href="Varieties.Preservation.html#18313" class="Bound">wd</a> <a id="18578" href="Varieties.Preservation.html#18541" class="Bound">p</a> <a id="18580" href="Varieties.Preservation.html#18543" class="Bound">q</a> <a id="18582" class="Symbol">((</a><a id="18584" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="18590" href="Varieties.Preservation.html#18541" class="Bound">p</a> <a id="18592" href="Varieties.Preservation.html#18543" class="Bound">q</a> <a id="18594" href="Varieties.Preservation.html#18545" class="Bound">Ïƒ</a><a id="18595" class="Symbol">)</a> <a id="18597" href="Varieties.Preservation.html#18557" class="Bound">x</a><a id="18598" class="Symbol">)</a>
 <a id="18601" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="18608" href="Varieties.Preservation.html#18608" class="Bound">p</a> <a id="18610" href="Varieties.Preservation.html#18610" class="Bound">q</a> <a id="18612" href="Varieties.Preservation.html#18612" class="Bound">Ïƒ</a> <a id="18614" class="Symbol">(</a><a id="18615" href="Varieties.Closure.html#5526" class="InductiveConstructor">vliftw</a><a id="18621" class="Symbol">{</a><a id="18622" href="Varieties.Preservation.html#18622" class="Bound">ğ‘¨</a><a id="18623" class="Symbol">}</a> <a id="18625" href="Varieties.Preservation.html#18625" class="Bound">x</a><a id="18626" class="Symbol">)</a> <a id="18628" class="Symbol">=</a> <a id="18630" href="Varieties.Properties.html#4086" class="Function">âŠ§-Lift-invar</a> <a id="18643" href="Varieties.Preservation.html#18313" class="Bound">wd</a> <a id="18646" href="Varieties.Preservation.html#18608" class="Bound">p</a> <a id="18648" href="Varieties.Preservation.html#18610" class="Bound">q</a> <a id="18650" class="Symbol">((</a><a id="18652" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="18659" href="Varieties.Preservation.html#18608" class="Bound">p</a> <a id="18661" href="Varieties.Preservation.html#18610" class="Bound">q</a> <a id="18663" href="Varieties.Preservation.html#18612" class="Bound">Ïƒ</a><a id="18664" class="Symbol">)</a> <a id="18666" href="Varieties.Preservation.html#18625" class="Bound">x</a><a id="18667" class="Symbol">)</a>
 <a id="18670" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="18677" href="Varieties.Preservation.html#18677" class="Bound">p</a> <a id="18679" href="Varieties.Preservation.html#18679" class="Bound">q</a> <a id="18681" href="Varieties.Preservation.html#18681" class="Bound">Ïƒ</a> <a id="18683" class="Symbol">(</a><a id="18684" href="Varieties.Closure.html#5597" class="InductiveConstructor">vhimg</a><a id="18689" class="Symbol">{</a><a id="18690" href="Varieties.Preservation.html#18690" class="Bound">ğ‘¨</a><a id="18691" class="Symbol">}{</a><a id="18693" href="Varieties.Preservation.html#18693" class="Bound">ğ‘ª</a><a id="18694" class="Symbol">}</a> <a id="18696" href="Varieties.Preservation.html#18696" class="Bound">VA</a> <a id="18699" class="Symbol">(</a><a id="18700" href="Varieties.Preservation.html#18700" class="Bound">ğ‘©</a> <a id="18702" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18704" class="Symbol">((</a><a id="18706" href="Varieties.Preservation.html#18706" class="Bound">Ï†</a> <a id="18708" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18710" href="Varieties.Preservation.html#18710" class="Bound">Ï†h</a><a id="18712" class="Symbol">)</a> <a id="18714" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18716" href="Varieties.Preservation.html#18716" class="Bound">Ï†E</a><a id="18718" class="Symbol">)))</a> <a id="18722" href="Varieties.Preservation.html#18722" class="Bound">b</a> <a id="18724" class="Symbol">=</a> <a id="18726" href="Varieties.Preservation.html#18893" class="Function">goal</a>
  <a id="18733" class="Keyword">where</a>
  <a id="18741" href="Varieties.Preservation.html#18741" class="Function">IH</a> <a id="18744" class="Symbol">:</a> <a id="18746" href="Varieties.Preservation.html#18690" class="Bound">ğ‘¨</a> <a id="18748" href="Varieties.EquationalLogic.html#2638" class="Function Operator">âŠ§</a> <a id="18750" href="Varieties.Preservation.html#18677" class="Bound">p</a> <a id="18752" href="Varieties.EquationalLogic.html#2638" class="Function Operator">â‰ˆ</a> <a id="18754" href="Varieties.Preservation.html#18679" class="Bound">q</a>
  <a id="18758" href="Varieties.Preservation.html#18741" class="Function">IH</a> <a id="18761" class="Symbol">=</a> <a id="18763" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="18770" href="Varieties.Preservation.html#18677" class="Bound">p</a> <a id="18772" href="Varieties.Preservation.html#18679" class="Bound">q</a> <a id="18774" href="Varieties.Preservation.html#18681" class="Bound">Ïƒ</a> <a id="18776" href="Varieties.Preservation.html#18696" class="Bound">VA</a>

  <a id="18782" href="Varieties.Preservation.html#18782" class="Function">preim</a> <a id="18788" class="Symbol">:</a> <a id="18790" href="Varieties.Preservation.html#18340" class="Bound">X</a> <a id="18792" class="Symbol">â†’</a> <a id="18794" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="18796" href="Varieties.Preservation.html#18690" class="Bound">ğ‘¨</a> <a id="18798" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a>
  <a id="18802" href="Varieties.Preservation.html#18782" class="Function">preim</a> <a id="18808" href="Varieties.Preservation.html#18808" class="Bound">x</a> <a id="18810" class="Symbol">=</a> <a id="18812" href="Overture.Inverses.html#1923" class="Function">Inv</a> <a id="18816" href="Varieties.Preservation.html#18706" class="Bound">Ï†</a> <a id="18818" class="Symbol">(</a><a id="18819" href="Varieties.Preservation.html#18716" class="Bound">Ï†E</a> <a id="18822" class="Symbol">(</a><a id="18823" href="Varieties.Preservation.html#18722" class="Bound">b</a> <a id="18825" href="Varieties.Preservation.html#18808" class="Bound">x</a><a id="18826" class="Symbol">))</a>

  <a id="18832" href="Varieties.Preservation.html#18832" class="Function">Î¶</a> <a id="18834" class="Symbol">:</a> <a id="18836" class="Symbol">âˆ€</a> <a id="18838" href="Varieties.Preservation.html#18838" class="Bound">x</a> <a id="18840" class="Symbol">â†’</a> <a id="18842" href="Varieties.Preservation.html#18706" class="Bound">Ï†</a> <a id="18844" class="Symbol">(</a><a id="18845" href="Varieties.Preservation.html#18782" class="Function">preim</a> <a id="18851" href="Varieties.Preservation.html#18838" class="Bound">x</a><a id="18852" class="Symbol">)</a> <a id="18854" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="18856" href="Varieties.Preservation.html#18722" class="Bound">b</a> <a id="18858" href="Varieties.Preservation.html#18838" class="Bound">x</a>
  <a id="18862" href="Varieties.Preservation.html#18832" class="Function">Î¶</a> <a id="18864" href="Varieties.Preservation.html#18864" class="Bound">x</a> <a id="18866" class="Symbol">=</a> <a id="18868" href="Overture.Inverses.html#2084" class="Function">InvIsInv</a> <a id="18877" href="Varieties.Preservation.html#18706" class="Bound">Ï†</a> <a id="18879" class="Symbol">(</a><a id="18880" href="Varieties.Preservation.html#18716" class="Bound">Ï†E</a> <a id="18883" class="Symbol">(</a><a id="18884" href="Varieties.Preservation.html#18722" class="Bound">b</a> <a id="18886" href="Varieties.Preservation.html#18864" class="Bound">x</a><a id="18887" class="Symbol">))</a>

  <a id="18893" href="Varieties.Preservation.html#18893" class="Function">goal</a> <a id="18898" class="Symbol">:</a> <a id="18900" class="Symbol">(</a><a id="18901" href="Varieties.Preservation.html#18700" class="Bound">ğ‘©</a> <a id="18903" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="18905" href="Varieties.Preservation.html#18677" class="Bound">p</a> <a id="18907" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="18908" class="Symbol">)</a> <a id="18910" href="Varieties.Preservation.html#18722" class="Bound">b</a> <a id="18912" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="18914" class="Symbol">(</a><a id="18915" href="Varieties.Preservation.html#18700" class="Bound">ğ‘©</a> <a id="18917" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="18919" href="Varieties.Preservation.html#18679" class="Bound">q</a> <a id="18921" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="18922" class="Symbol">)</a> <a id="18924" href="Varieties.Preservation.html#18722" class="Bound">b</a>
  <a id="18928" href="Varieties.Preservation.html#18893" class="Function">goal</a> <a id="18933" class="Symbol">=</a> <a id="18935" class="Symbol">(</a><a id="18936" href="Varieties.Preservation.html#18700" class="Bound">ğ‘©</a> <a id="18938" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="18940" href="Varieties.Preservation.html#18677" class="Bound">p</a> <a id="18942" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="18943" class="Symbol">)</a> <a id="18945" href="Varieties.Preservation.html#18722" class="Bound">b</a>          <a id="18956" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="18959" href="Varieties.Preservation.html#18313" class="Bound">wd</a> <a id="18962" href="Varieties.Preservation.html#18328" class="Bound">ğ“§</a> <a id="18964" class="Symbol">_</a> <a id="18966" class="Symbol">(</a><a id="18967" href="Varieties.Preservation.html#18700" class="Bound">ğ‘©</a> <a id="18969" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="18971" href="Varieties.Preservation.html#18677" class="Bound">p</a> <a id="18973" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="18974" class="Symbol">)</a> <a id="18976" href="Varieties.Preservation.html#18722" class="Bound">b</a> <a id="18978" class="Symbol">(</a><a id="18979" href="Varieties.Preservation.html#18706" class="Bound">Ï†</a> <a id="18981" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="18983" href="Varieties.Preservation.html#18782" class="Function">preim</a> <a id="18989" class="Symbol">)(Î»</a> <a id="18993" href="Varieties.Preservation.html#18993" class="Bound">i</a> <a id="18995" class="Symbol">â†’</a> <a id="18997" class="Symbol">(</a><a id="18998" href="Varieties.Preservation.html#18832" class="Function">Î¶</a> <a id="19000" href="Varieties.Preservation.html#18993" class="Bound">i</a><a id="19001" class="Symbol">)</a><a id="19002" href="Overture.Preliminaries.html#5082" class="Function Operator">â»Â¹</a><a id="19004" class="Symbol">)</a><a id="19005" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19013" class="Symbol">(</a><a id="19014" href="Varieties.Preservation.html#18700" class="Bound">ğ‘©</a> <a id="19016" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="19018" href="Varieties.Preservation.html#18677" class="Bound">p</a> <a id="19020" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="19021" class="Symbol">)(</a><a id="19023" href="Varieties.Preservation.html#18706" class="Bound">Ï†</a> <a id="19025" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19027" href="Varieties.Preservation.html#18782" class="Function">preim</a><a id="19032" class="Symbol">)</a> <a id="19034" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="19036" class="Symbol">(</a><a id="19037" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a> <a id="19051" class="Symbol">(</a><a id="19052" href="Varieties.Preservation.html#18313" class="Bound">wd</a> <a id="19055" href="Varieties.Preservation.html#629" class="Bound">ğ“¥</a> <a id="19057" class="Symbol">_)</a> <a id="19060" href="Varieties.Preservation.html#18700" class="Bound">ğ‘©</a> <a id="19062" class="Symbol">(</a><a id="19063" href="Varieties.Preservation.html#18706" class="Bound">Ï†</a> <a id="19065" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19067" href="Varieties.Preservation.html#18710" class="Bound">Ï†h</a><a id="19069" class="Symbol">)</a> <a id="19071" href="Varieties.Preservation.html#18677" class="Bound">p</a> <a id="19073" href="Varieties.Preservation.html#18782" class="Function">preim</a><a id="19078" class="Symbol">)</a><a id="19079" href="Overture.Preliminaries.html#5082" class="Function Operator">â»Â¹</a> <a id="19082" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19090" href="Varieties.Preservation.html#18706" class="Bound">Ï†</a><a id="19091" class="Symbol">((</a><a id="19093" href="Varieties.Preservation.html#18690" class="Bound">ğ‘¨</a> <a id="19095" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="19097" href="Varieties.Preservation.html#18677" class="Bound">p</a> <a id="19099" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="19100" class="Symbol">)</a> <a id="19102" href="Varieties.Preservation.html#18782" class="Function">preim</a><a id="19107" class="Symbol">)</a>   <a id="19111" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19114" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="19119" href="Varieties.Preservation.html#18706" class="Bound">Ï†</a> <a id="19121" class="Symbol">(</a><a id="19122" href="Varieties.Preservation.html#18741" class="Function">IH</a> <a id="19125" href="Varieties.Preservation.html#18782" class="Function">preim</a><a id="19130" class="Symbol">)</a> <a id="19132" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19140" href="Varieties.Preservation.html#18706" class="Bound">Ï†</a><a id="19141" class="Symbol">((</a><a id="19143" href="Varieties.Preservation.html#18690" class="Bound">ğ‘¨</a> <a id="19145" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="19147" href="Varieties.Preservation.html#18679" class="Bound">q</a> <a id="19149" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="19150" class="Symbol">)</a> <a id="19152" href="Varieties.Preservation.html#18782" class="Function">preim</a><a id="19157" class="Symbol">)</a>   <a id="19161" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19164" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a> <a id="19178" class="Symbol">(</a><a id="19179" href="Varieties.Preservation.html#18313" class="Bound">wd</a> <a id="19182" href="Varieties.Preservation.html#629" class="Bound">ğ“¥</a> <a id="19184" class="Symbol">_)</a> <a id="19187" href="Varieties.Preservation.html#18700" class="Bound">ğ‘©</a> <a id="19189" class="Symbol">(</a><a id="19190" href="Varieties.Preservation.html#18706" class="Bound">Ï†</a> <a id="19192" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19194" href="Varieties.Preservation.html#18710" class="Bound">Ï†h</a><a id="19196" class="Symbol">)</a> <a id="19198" href="Varieties.Preservation.html#18679" class="Bound">q</a> <a id="19200" href="Varieties.Preservation.html#18782" class="Function">preim</a> <a id="19206" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19214" class="Symbol">(</a><a id="19215" href="Varieties.Preservation.html#18700" class="Bound">ğ‘©</a> <a id="19217" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="19219" href="Varieties.Preservation.html#18679" class="Bound">q</a> <a id="19221" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="19222" class="Symbol">)(</a><a id="19224" href="Varieties.Preservation.html#18706" class="Bound">Ï†</a> <a id="19226" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19228" href="Varieties.Preservation.html#18782" class="Function">preim</a><a id="19233" class="Symbol">)</a> <a id="19235" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19238" href="Varieties.Preservation.html#18313" class="Bound">wd</a> <a id="19241" href="Varieties.Preservation.html#18328" class="Bound">ğ“§</a> <a id="19243" class="Symbol">_</a> <a id="19245" class="Symbol">(</a><a id="19246" href="Varieties.Preservation.html#18700" class="Bound">ğ‘©</a> <a id="19248" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="19250" href="Varieties.Preservation.html#18679" class="Bound">q</a> <a id="19252" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="19253" class="Symbol">)(</a><a id="19255" href="Varieties.Preservation.html#18706" class="Bound">Ï†</a> <a id="19257" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19259" href="Varieties.Preservation.html#18782" class="Function">preim</a><a id="19264" class="Symbol">)</a> <a id="19266" href="Varieties.Preservation.html#18722" class="Bound">b</a> <a id="19268" href="Varieties.Preservation.html#18832" class="Function">Î¶</a> <a id="19270" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19278" class="Symbol">(</a><a id="19279" href="Varieties.Preservation.html#18700" class="Bound">ğ‘©</a> <a id="19281" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="19283" href="Varieties.Preservation.html#18679" class="Bound">q</a> <a id="19285" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="19286" class="Symbol">)</a> <a id="19288" href="Varieties.Preservation.html#18722" class="Bound">b</a>          <a id="19299" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

 <a id="19303" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="19310" href="Varieties.Preservation.html#19310" class="Bound">p</a> <a id="19312" href="Varieties.Preservation.html#19312" class="Bound">q</a> <a id="19314" href="Varieties.Preservation.html#19314" class="Bound">Ïƒ</a> <a id="19316" class="Symbol">(</a><a id="19317" href="Varieties.Closure.html#5679" class="InductiveConstructor">vssubw</a> <a id="19324" class="Symbol">{</a><a id="19325" href="Varieties.Preservation.html#19325" class="Bound">ğ‘¨</a><a id="19326" class="Symbol">}{</a><a id="19328" href="Varieties.Preservation.html#19328" class="Bound">ğ‘©</a><a id="19329" class="Symbol">}</a> <a id="19331" href="Varieties.Preservation.html#19331" class="Bound">VA</a> <a id="19334" href="Varieties.Preservation.html#19334" class="Bound">Bâ‰¤A</a><a id="19337" class="Symbol">)</a> <a id="19339" class="Symbol">=</a> <a id="19341" href="Varieties.Properties.html#4646" class="Function">âŠ§-S-invar</a> <a id="19351" href="Varieties.Preservation.html#18313" class="Bound">wd</a> <a id="19354" href="Varieties.Preservation.html#19328" class="Bound">ğ‘©</a> <a id="19356" class="Symbol">{</a><a id="19357" href="Varieties.Preservation.html#19310" class="Bound">p</a><a id="19358" class="Symbol">}{</a><a id="19360" href="Varieties.Preservation.html#19312" class="Bound">q</a><a id="19361" class="Symbol">}(</a><a id="19363" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="19370" href="Varieties.Preservation.html#19310" class="Bound">p</a> <a id="19372" href="Varieties.Preservation.html#19312" class="Bound">q</a> <a id="19374" href="Varieties.Preservation.html#19314" class="Bound">Ïƒ</a> <a id="19376" href="Varieties.Preservation.html#19331" class="Bound">VA</a><a id="19378" class="Symbol">)</a> <a id="19380" href="Varieties.Preservation.html#19334" class="Bound">Bâ‰¤A</a>
 <a id="19385" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="19392" href="Varieties.Preservation.html#19392" class="Bound">p</a> <a id="19394" href="Varieties.Preservation.html#19394" class="Bound">q</a> <a id="19396" href="Varieties.Preservation.html#19396" class="Bound">Ïƒ</a> <a id="19398" class="Symbol">(</a><a id="19399" href="Varieties.Closure.html#5743" class="InductiveConstructor">vprodu</a><a id="19405" class="Symbol">{</a><a id="19406" href="Varieties.Preservation.html#19406" class="Bound">I</a><a id="19407" class="Symbol">}{</a><a id="19409" href="Varieties.Preservation.html#19409" class="Bound">ğ’œ</a><a id="19410" class="Symbol">}</a> <a id="19412" href="Varieties.Preservation.html#19412" class="Bound">Vğ’œ</a><a id="19414" class="Symbol">)</a> <a id="19416" class="Symbol">=</a> <a id="19418" href="Varieties.Properties.html#6069" class="Function">âŠ§-P-invar</a> <a id="19428" href="Varieties.Preservation.html#18299" class="Bound">fe</a> <a id="19431" href="Varieties.Preservation.html#18313" class="Bound">wd</a> <a id="19434" href="Varieties.Preservation.html#19409" class="Bound">ğ’œ</a>  <a id="19437" href="Varieties.Preservation.html#19392" class="Bound">p</a> <a id="19439" href="Varieties.Preservation.html#19394" class="Bound">q</a> <a id="19441" class="Symbol">Î»</a> <a id="19443" href="Varieties.Preservation.html#19443" class="Bound">i</a> <a id="19445" class="Symbol">â†’</a> <a id="19447" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="19453" href="Varieties.Preservation.html#19392" class="Bound">p</a> <a id="19455" href="Varieties.Preservation.html#19394" class="Bound">q</a> <a id="19457" href="Varieties.Preservation.html#19396" class="Bound">Ïƒ</a> <a id="19459" class="Symbol">(</a><a id="19460" href="Varieties.Preservation.html#19412" class="Bound">Vğ’œ</a> <a id="19463" href="Varieties.Preservation.html#19443" class="Bound">i</a><a id="19464" class="Symbol">)</a>
 <a id="19467" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="19474" href="Varieties.Preservation.html#19474" class="Bound">p</a> <a id="19476" href="Varieties.Preservation.html#19476" class="Bound">q</a> <a id="19478" href="Varieties.Preservation.html#19478" class="Bound">Ïƒ</a> <a id="19480" class="Symbol">(</a><a id="19481" href="Varieties.Closure.html#5827" class="InductiveConstructor">vprodw</a><a id="19487" class="Symbol">{</a><a id="19488" href="Varieties.Preservation.html#19488" class="Bound">I</a><a id="19489" class="Symbol">}{</a><a id="19491" href="Varieties.Preservation.html#19491" class="Bound">ğ’œ</a><a id="19492" class="Symbol">}</a> <a id="19494" href="Varieties.Preservation.html#19494" class="Bound">Vğ’œ</a><a id="19496" class="Symbol">)</a> <a id="19498" class="Symbol">=</a> <a id="19500" href="Varieties.Properties.html#6069" class="Function">âŠ§-P-invar</a> <a id="19510" href="Varieties.Preservation.html#18299" class="Bound">fe</a> <a id="19513" href="Varieties.Preservation.html#18313" class="Bound">wd</a> <a id="19516" href="Varieties.Preservation.html#19491" class="Bound">ğ’œ</a>  <a id="19519" href="Varieties.Preservation.html#19474" class="Bound">p</a> <a id="19521" href="Varieties.Preservation.html#19476" class="Bound">q</a> <a id="19523" class="Symbol">Î»</a> <a id="19525" href="Varieties.Preservation.html#19525" class="Bound">i</a> <a id="19527" class="Symbol">â†’</a> <a id="19529" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="19536" href="Varieties.Preservation.html#19474" class="Bound">p</a> <a id="19538" href="Varieties.Preservation.html#19476" class="Bound">q</a> <a id="19540" href="Varieties.Preservation.html#19478" class="Bound">Ïƒ</a> <a id="19542" class="Symbol">(</a><a id="19543" href="Varieties.Preservation.html#19494" class="Bound">Vğ’œ</a> <a id="19546" href="Varieties.Preservation.html#19525" class="Bound">i</a><a id="19547" class="Symbol">)</a>
 <a id="19550" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="19557" href="Varieties.Preservation.html#19557" class="Bound">p</a> <a id="19559" href="Varieties.Preservation.html#19559" class="Bound">q</a> <a id="19561" href="Varieties.Preservation.html#19561" class="Bound">Ïƒ</a> <a id="19563" class="Symbol">(</a><a id="19564" href="Varieties.Closure.html#5911" class="InductiveConstructor">visou</a> <a id="19570" class="Symbol">{</a><a id="19571" href="Varieties.Preservation.html#19571" class="Bound">ğ‘¨</a><a id="19572" class="Symbol">}{</a><a id="19574" href="Varieties.Preservation.html#19574" class="Bound">ğ‘©</a><a id="19575" class="Symbol">}</a> <a id="19577" href="Varieties.Preservation.html#19577" class="Bound">VA</a> <a id="19580" href="Varieties.Preservation.html#19580" class="Bound">Aâ‰…B</a><a id="19583" class="Symbol">)</a> <a id="19585" class="Symbol">=</a> <a id="19587" href="Varieties.Properties.html#3143" class="Function">âŠ§-I-invar</a> <a id="19597" href="Varieties.Preservation.html#18313" class="Bound">wd</a> <a id="19600" href="Varieties.Preservation.html#19574" class="Bound">ğ‘©</a> <a id="19602" href="Varieties.Preservation.html#19557" class="Bound">p</a> <a id="19604" href="Varieties.Preservation.html#19559" class="Bound">q</a> <a id="19606" class="Symbol">(</a><a id="19607" href="Varieties.Preservation.html#16795" class="Function">V-id1</a> <a id="19613" href="Varieties.Preservation.html#19557" class="Bound">p</a> <a id="19615" href="Varieties.Preservation.html#19559" class="Bound">q</a> <a id="19617" href="Varieties.Preservation.html#19561" class="Bound">Ïƒ</a> <a id="19619" href="Varieties.Preservation.html#19577" class="Bound">VA</a><a id="19621" class="Symbol">)</a> <a id="19623" href="Varieties.Preservation.html#19580" class="Bound">Aâ‰…B</a>
 <a id="19628" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="19635" href="Varieties.Preservation.html#19635" class="Bound">p</a> <a id="19637" href="Varieties.Preservation.html#19637" class="Bound">q</a> <a id="19639" href="Varieties.Preservation.html#19639" class="Bound">Ïƒ</a> <a id="19641" class="Symbol">(</a><a id="19642" href="Varieties.Closure.html#5990" class="InductiveConstructor">visow</a><a id="19647" class="Symbol">{</a><a id="19648" href="Varieties.Preservation.html#19648" class="Bound">ğ‘¨</a><a id="19649" class="Symbol">}{</a><a id="19651" href="Varieties.Preservation.html#19651" class="Bound">ğ‘©</a><a id="19652" class="Symbol">}</a> <a id="19654" href="Varieties.Preservation.html#19654" class="Bound">VA</a> <a id="19657" href="Varieties.Preservation.html#19657" class="Bound">Aâ‰…B</a><a id="19660" class="Symbol">)</a> <a id="19662" class="Symbol">=</a> <a id="19664" href="Varieties.Properties.html#3143" class="Function">âŠ§-I-invar</a> <a id="19674" href="Varieties.Preservation.html#18313" class="Bound">wd</a> <a id="19677" href="Varieties.Preservation.html#19651" class="Bound">ğ‘©</a> <a id="19679" href="Varieties.Preservation.html#19635" class="Bound">p</a> <a id="19681" href="Varieties.Preservation.html#19637" class="Bound">q</a> <a id="19683" class="Symbol">(</a><a id="19684" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="19691" href="Varieties.Preservation.html#19635" class="Bound">p</a> <a id="19693" href="Varieties.Preservation.html#19637" class="Bound">q</a> <a id="19695" href="Varieties.Preservation.html#19639" class="Bound">Ïƒ</a> <a id="19697" href="Varieties.Preservation.html#19654" class="Bound">VA</a><a id="19699" class="Symbol">)</a><a id="19700" href="Varieties.Preservation.html#19657" class="Bound">Aâ‰…B</a>

</pre>


#### <a id="class-identities">Class identities</a>

From `V-id1` it follows that if ğ’¦ is a class of structures, then the set of identities modeled by all structures in `ğ’¦` is equivalent to the set of identities modeled by all structures in `V ğ’¦`.  In other terms, `Th (V ğ’¦)` is precisely the set of identities modeled by `ğ’¦`.   We formalize this observation as follows.

<pre class="Agda">

<a id="20103" class="Keyword">module</a> <a id="20110" href="Varieties.Preservation.html#20110" class="Module">_</a> <a id="20112" class="Symbol">(</a><a id="20113" href="Varieties.Preservation.html#20113" class="Bound">fe</a> <a id="20116" class="Symbol">:</a> <a id="20118" href="Equality.Extensionality.html#2455" class="Function">DFunExt</a><a id="20125" class="Symbol">)(</a><a id="20127" href="Varieties.Preservation.html#20127" class="Bound">wd</a> <a id="20130" class="Symbol">:</a> <a id="20132" href="Equality.Welldefined.html#2944" class="Function">SwellDef</a><a id="20140" class="Symbol">){</a><a id="20142" href="Varieties.Preservation.html#20142" class="Bound">ğ“§</a> <a id="20144" class="Symbol">:</a> <a id="20146" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="20151" class="Symbol">}</a> <a id="20153" class="Symbol">{</a><a id="20154" href="Varieties.Preservation.html#20154" class="Bound">X</a> <a id="20156" class="Symbol">:</a> <a id="20158" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="20163" href="Varieties.Preservation.html#20142" class="Bound">ğ“§</a><a id="20164" class="Symbol">}</a> <a id="20166" class="Symbol">{</a><a id="20167" href="Varieties.Preservation.html#20167" class="Bound">ğ’¦</a> <a id="20169" class="Symbol">:</a> <a id="20171" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20176" class="Symbol">(</a><a id="20177" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="20185" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a> <a id="20187" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="20188" class="Symbol">)(</a><a id="20190" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="20193" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a><a id="20194" class="Symbol">)}</a> <a id="20197" class="Keyword">where</a>

 <a id="20205" href="Varieties.Preservation.html#20205" class="Function">ovu</a> <a id="20209" href="Varieties.Preservation.html#20209" class="Function">lovu</a> <a id="20214" class="Symbol">:</a> <a id="20216" href="Agda.Primitive.html#597" class="Postulate">Level</a>
 <a id="20223" href="Varieties.Preservation.html#20205" class="Function">ovu</a> <a id="20227" class="Symbol">=</a> <a id="20229" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="20232" href="Varieties.Preservation.html#20185" class="Bound">Î±</a>
 <a id="20235" href="Varieties.Preservation.html#20209" class="Function">lovu</a> <a id="20240" class="Symbol">=</a> <a id="20242" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="20247" class="Symbol">(</a><a id="20248" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="20251" href="Varieties.Preservation.html#20185" class="Bound">Î±</a><a id="20252" class="Symbol">)</a>
 <a id="20255" href="Varieties.Preservation.html#20255" class="Function">ğ•</a> <a id="20257" class="Symbol">:</a> <a id="20259" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20264" class="Symbol">(</a><a id="20265" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="20273" href="Varieties.Preservation.html#20209" class="Function">lovu</a> <a id="20278" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="20279" class="Symbol">)</a> <a id="20281" class="Symbol">(</a><a id="20282" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="20287" href="Varieties.Preservation.html#20209" class="Function">lovu</a><a id="20291" class="Symbol">)</a>
 <a id="20294" href="Varieties.Preservation.html#20255" class="Function">ğ•</a> <a id="20296" class="Symbol">=</a> <a id="20298" href="Varieties.Closure.html#5316" class="Datatype">V</a><a id="20299" class="Symbol">{</a><a id="20300" href="Varieties.Preservation.html#20185" class="Bound">Î±</a><a id="20301" class="Symbol">}{</a><a id="20303" href="Varieties.Preservation.html#20209" class="Function">lovu</a><a id="20307" class="Symbol">}</a> <a id="20309" href="Varieties.Preservation.html#20167" class="Bound">ğ’¦</a>
 <a id="20312" href="Varieties.Preservation.html#20312" class="Function">ğ’±</a> <a id="20314" class="Symbol">:</a> <a id="20316" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20321" class="Symbol">(</a><a id="20322" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="20330" href="Varieties.Preservation.html#20205" class="Function">ovu</a> <a id="20334" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="20335" class="Symbol">)</a> <a id="20337" href="Varieties.Preservation.html#20209" class="Function">lovu</a>
 <a id="20343" href="Varieties.Preservation.html#20312" class="Function">ğ’±</a> <a id="20345" class="Symbol">=</a> <a id="20347" href="Varieties.Closure.html#5316" class="Datatype">V</a><a id="20348" class="Symbol">{</a><a id="20349" class="Argument">Î²</a> <a id="20351" class="Symbol">=</a> <a id="20353" href="Varieties.Preservation.html#20205" class="Function">ovu</a><a id="20356" class="Symbol">}</a> <a id="20358" href="Varieties.Preservation.html#20167" class="Bound">ğ’¦</a>

 <a id="20362" class="Keyword">open</a> <a id="20367" href="Varieties.Preservation.html#18293" class="Module">Vid&#39;</a> <a id="20372" href="Varieties.Preservation.html#20113" class="Bound">fe</a> <a id="20375" href="Varieties.Preservation.html#20127" class="Bound">wd</a> <a id="20378" class="Symbol">{</a><a id="20379" href="Varieties.Preservation.html#20142" class="Bound">ğ“§</a><a id="20380" class="Symbol">}{</a><a id="20382" href="Varieties.Preservation.html#20154" class="Bound">X</a><a id="20383" class="Symbol">}{</a><a id="20385" href="Varieties.Preservation.html#20167" class="Bound">ğ’¦</a><a id="20386" class="Symbol">}</a> <a id="20388" class="Keyword">public</a>
 <a id="20396" href="Varieties.Preservation.html#20396" class="Function">class-ids-â‡’</a> <a id="20408" class="Symbol">:</a> <a id="20410" class="Symbol">(</a><a id="20411" href="Varieties.Preservation.html#20411" class="Bound">p</a> <a id="20413" href="Varieties.Preservation.html#20413" class="Bound">q</a> <a id="20415" class="Symbol">:</a> <a id="20417" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="20419" href="Terms.Basic.html#3263" class="Function">ğ‘»</a> <a id="20421" href="Varieties.Preservation.html#20154" class="Bound">X</a> <a id="20423" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a><a id="20424" class="Symbol">)</a> <a id="20426" class="Symbol">â†’</a> <a id="20428" href="Varieties.Preservation.html#20167" class="Bound">ğ’¦</a> <a id="20430" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="20432" href="Varieties.Preservation.html#20411" class="Bound">p</a> <a id="20434" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="20436" href="Varieties.Preservation.html#20413" class="Bound">q</a>  <a id="20439" class="Symbol">â†’</a>  <a id="20442" class="Symbol">(</a><a id="20443" href="Varieties.Preservation.html#20411" class="Bound">p</a> <a id="20445" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20447" href="Varieties.Preservation.html#20413" class="Bound">q</a><a id="20448" class="Symbol">)</a> <a id="20450" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20452" href="Varieties.EquationalLogic.html#3442" class="Function">Th</a> <a id="20455" href="Varieties.Preservation.html#20312" class="Function">ğ’±</a>
 <a id="20458" href="Varieties.Preservation.html#20396" class="Function">class-ids-â‡’</a> <a id="20470" href="Varieties.Preservation.html#20470" class="Bound">p</a> <a id="20472" href="Varieties.Preservation.html#20472" class="Bound">q</a> <a id="20474" href="Varieties.Preservation.html#20474" class="Bound">pKq</a> <a id="20478" href="Varieties.Preservation.html#20478" class="Bound">VCloA</a> <a id="20484" class="Symbol">=</a> <a id="20486" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="20493" href="Varieties.Preservation.html#20470" class="Bound">p</a> <a id="20495" href="Varieties.Preservation.html#20472" class="Bound">q</a> <a id="20497" href="Varieties.Preservation.html#20474" class="Bound">pKq</a> <a id="20501" href="Varieties.Preservation.html#20478" class="Bound">VCloA</a>

 <a id="20509" href="Varieties.Preservation.html#20509" class="Function">class-ids</a> <a id="20519" class="Symbol">:</a> <a id="20521" class="Symbol">(</a><a id="20522" href="Varieties.Preservation.html#20522" class="Bound">p</a> <a id="20524" href="Varieties.Preservation.html#20524" class="Bound">q</a> <a id="20526" class="Symbol">:</a> <a id="20528" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="20530" href="Terms.Basic.html#3263" class="Function">ğ‘»</a> <a id="20532" href="Varieties.Preservation.html#20154" class="Bound">X</a> <a id="20534" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a><a id="20535" class="Symbol">)</a> <a id="20537" class="Symbol">â†’</a> <a id="20539" href="Varieties.Preservation.html#20167" class="Bound">ğ’¦</a> <a id="20541" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="20543" href="Varieties.Preservation.html#20522" class="Bound">p</a> <a id="20545" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="20547" href="Varieties.Preservation.html#20524" class="Bound">q</a>  <a id="20550" class="Symbol">â†’</a>  <a id="20553" class="Symbol">(</a><a id="20554" href="Varieties.Preservation.html#20522" class="Bound">p</a> <a id="20556" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20558" href="Varieties.Preservation.html#20524" class="Bound">q</a><a id="20559" class="Symbol">)</a> <a id="20561" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20563" href="Varieties.EquationalLogic.html#3442" class="Function">Th</a> <a id="20566" href="Varieties.Preservation.html#20255" class="Function">ğ•</a>
 <a id="20569" href="Varieties.Preservation.html#20509" class="Function">class-ids</a> <a id="20579" href="Varieties.Preservation.html#20579" class="Bound">p</a> <a id="20581" href="Varieties.Preservation.html#20581" class="Bound">q</a> <a id="20583" href="Varieties.Preservation.html#20583" class="Bound">pKq</a> <a id="20587" href="Varieties.Preservation.html#20587" class="Bound">VCloA</a> <a id="20593" class="Symbol">=</a> <a id="20595" href="Varieties.Preservation.html#18424" class="Function">V-id1&#39;</a> <a id="20602" href="Varieties.Preservation.html#20579" class="Bound">p</a> <a id="20604" href="Varieties.Preservation.html#20581" class="Bound">q</a> <a id="20606" href="Varieties.Preservation.html#20583" class="Bound">pKq</a> <a id="20610" href="Varieties.Preservation.html#20587" class="Bound">VCloA</a>


 <a id="20619" href="Varieties.Preservation.html#20619" class="Function">class-ids-â‡</a> <a id="20631" class="Symbol">:</a> <a id="20633" class="Symbol">(</a><a id="20634" href="Varieties.Preservation.html#20634" class="Bound">p</a> <a id="20636" href="Varieties.Preservation.html#20636" class="Bound">q</a> <a id="20638" class="Symbol">:</a> <a id="20640" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a> <a id="20642" href="Terms.Basic.html#3263" class="Function">ğ‘»</a> <a id="20644" href="Varieties.Preservation.html#20154" class="Bound">X</a> <a id="20646" href="Overture.Preliminaries.html#4379" class="Function Operator">âˆ£</a><a id="20647" class="Symbol">)</a> <a id="20649" class="Symbol">â†’</a> <a id="20651" class="Symbol">(</a><a id="20652" href="Varieties.Preservation.html#20634" class="Bound">p</a> <a id="20654" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20656" href="Varieties.Preservation.html#20636" class="Bound">q</a><a id="20657" class="Symbol">)</a> <a id="20659" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20661" href="Varieties.EquationalLogic.html#3442" class="Function">Th</a> <a id="20664" href="Varieties.Preservation.html#20312" class="Function">ğ’±</a> <a id="20666" class="Symbol">â†’</a>  <a id="20669" href="Varieties.Preservation.html#20167" class="Bound">ğ’¦</a> <a id="20671" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="20673" href="Varieties.Preservation.html#20634" class="Bound">p</a> <a id="20675" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="20677" href="Varieties.Preservation.html#20636" class="Bound">q</a>
 <a id="20680" href="Varieties.Preservation.html#20619" class="Function">class-ids-â‡</a> <a id="20692" href="Varieties.Preservation.html#20692" class="Bound">p</a> <a id="20694" href="Varieties.Preservation.html#20694" class="Bound">q</a> <a id="20696" href="Varieties.Preservation.html#20696" class="Bound">Thpq</a> <a id="20701" class="Symbol">{</a><a id="20702" href="Varieties.Preservation.html#20702" class="Bound">ğ‘¨</a><a id="20703" class="Symbol">}</a> <a id="20705" href="Varieties.Preservation.html#20705" class="Bound">KA</a> <a id="20708" class="Symbol">=</a> <a id="20710" href="Varieties.Properties.html#4220" class="Function">âŠ§-lower-invar</a> <a id="20724" href="Varieties.Preservation.html#20127" class="Bound">wd</a> <a id="20727" href="Varieties.Preservation.html#20692" class="Bound">p</a> <a id="20729" href="Varieties.Preservation.html#20694" class="Bound">q</a> <a id="20731" class="Symbol">(</a><a id="20732" href="Varieties.Preservation.html#20696" class="Bound">Thpq</a> <a id="20737" class="Symbol">(</a><a id="20738" href="Varieties.Closure.html#5404" class="InductiveConstructor">vbase</a> <a id="20744" href="Varieties.Preservation.html#20705" class="Bound">KA</a><a id="20746" class="Symbol">))</a>


</pre>


Once again, and for the last time, completeness dictates that we formalize the coverse of `V-id1`, however obvious it may be.

<pre class="Agda">

<a id="20905" class="Keyword">module</a> <a id="20912" href="Varieties.Preservation.html#20912" class="Module">_</a> <a id="20914" class="Symbol">(</a><a id="20915" href="Varieties.Preservation.html#20915" class="Bound">wd</a> <a id="20918" class="Symbol">:</a> <a id="20920" href="Equality.Welldefined.html#2944" class="Function">SwellDef</a><a id="20928" class="Symbol">){</a><a id="20930" href="Varieties.Preservation.html#20930" class="Bound">X</a> <a id="20932" class="Symbol">:</a> <a id="20934" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="20939" href="Varieties.Preservation.html#13370" class="Generalizable">ğ“§</a><a id="20940" class="Symbol">}{</a><a id="20942" href="Varieties.Preservation.html#20942" class="Bound">ğ’¦</a> <a id="20944" class="Symbol">:</a> <a id="20946" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20951" class="Symbol">(</a><a id="20952" href="Algebras.Basic.html#6234" class="Function">Algebra</a> <a id="20960" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a> <a id="20962" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="20963" class="Symbol">)(</a><a id="20965" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="20968" href="Varieties.Preservation.html#3237" class="Generalizable">Î±</a><a id="20969" class="Symbol">)}</a> <a id="20972" class="Keyword">where</a>

 <a id="20980" href="Varieties.Preservation.html#20980" class="Function">V-id2</a> <a id="20986" class="Symbol">:</a> <a id="20988" class="Symbol">(</a><a id="20989" href="Varieties.Preservation.html#20989" class="Bound">p</a> <a id="20991" href="Varieties.Preservation.html#20991" class="Bound">q</a> <a id="20993" class="Symbol">:</a> <a id="20995" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="21000" href="Varieties.Preservation.html#20930" class="Bound">X</a><a id="21001" class="Symbol">)</a> <a id="21003" class="Symbol">â†’</a> <a id="21005" class="Symbol">(</a><a id="21006" href="Varieties.Closure.html#5316" class="Datatype">V</a><a id="21007" class="Symbol">{</a><a id="21008" class="Argument">Î²</a> <a id="21010" class="Symbol">=</a> <a id="21012" href="Varieties.Preservation.html#3239" class="Generalizable">Î²</a><a id="21013" class="Symbol">}</a> <a id="21015" href="Varieties.Preservation.html#20942" class="Bound">ğ’¦</a> <a id="21017" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="21019" href="Varieties.Preservation.html#20989" class="Bound">p</a> <a id="21021" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="21023" href="Varieties.Preservation.html#20991" class="Bound">q</a><a id="21024" class="Symbol">)</a> <a id="21026" class="Symbol">â†’</a> <a id="21028" class="Symbol">(</a><a id="21029" href="Varieties.Preservation.html#20942" class="Bound">ğ’¦</a> <a id="21031" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="21033" href="Varieties.Preservation.html#20989" class="Bound">p</a> <a id="21035" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="21037" href="Varieties.Preservation.html#20991" class="Bound">q</a><a id="21038" class="Symbol">)</a>
 <a id="21041" href="Varieties.Preservation.html#20980" class="Function">V-id2</a> <a id="21047" href="Varieties.Preservation.html#21047" class="Bound">p</a> <a id="21049" href="Varieties.Preservation.html#21049" class="Bound">q</a> <a id="21051" href="Varieties.Preservation.html#21051" class="Bound">Vpq</a> <a id="21055" class="Symbol">{</a><a id="21056" href="Varieties.Preservation.html#21056" class="Bound">ğ‘¨</a><a id="21057" class="Symbol">}</a> <a id="21059" href="Varieties.Preservation.html#21059" class="Bound">KA</a> <a id="21062" class="Symbol">=</a> <a id="21064" href="Varieties.Properties.html#4220" class="Function">âŠ§-lower-invar</a> <a id="21078" href="Varieties.Preservation.html#20915" class="Bound">wd</a> <a id="21081" href="Varieties.Preservation.html#21047" class="Bound">p</a> <a id="21083" href="Varieties.Preservation.html#21049" class="Bound">q</a> <a id="21085" class="Symbol">(</a><a id="21086" href="Varieties.Preservation.html#21051" class="Bound">Vpq</a> <a id="21090" class="Symbol">(</a><a id="21091" href="Varieties.Closure.html#5404" class="InductiveConstructor">vbase</a> <a id="21097" href="Varieties.Preservation.html#21059" class="Bound">KA</a><a id="21099" class="Symbol">))</a>

</pre>

----------------------------

<span style="float:left;">[â† Varieties.Properties](Varieties.Properties.html)</span>
<span style="float:right;">[Varieties.FreeAlgebras â†’](Varieties.FreeAlgebras.html)</span>

{% include UALib.Links.md %}
