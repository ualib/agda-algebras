---
layout: default
title : Varieties.Preservation (The Agda Universal Algebra Library)
date : 2021-01-14
author: [agda-algebras development team][]
---

### <a id="Equation preservation">Equation preservation</a>

This is the [Varieties.Preservation][] module of the [Agda Universal Algebra Library][]. In this module we show that identities are preserved by closure operators H, S, and P.  This will establish the easy direction of Birkhoff's HSP Theorem.

<pre class="Agda">

<a id="474" class="Symbol">{-#</a> <a id="478" class="Keyword">OPTIONS</a> <a id="486" class="Pragma">--without-K</a> <a id="498" class="Pragma">--exact-split</a> <a id="512" class="Pragma">--safe</a> <a id="519" class="Symbol">#-}</a>

<a id="524" class="Keyword">open</a> <a id="529" class="Keyword">import</a> <a id="536" href="Algebras.Basic.html" class="Module">Algebras.Basic</a> <a id="551" class="Keyword">using</a> <a id="557" class="Symbol">(</a> <a id="559" href="Algebras.Basic.html#1140" class="Generalizable">ğ“</a> <a id="561" class="Symbol">;</a> <a id="563" href="Algebras.Basic.html#1142" class="Generalizable">ğ“¥</a> <a id="565" class="Symbol">;</a> <a id="567" href="Algebras.Basic.html#3566" class="Function">Signature</a> <a id="577" class="Symbol">)</a>

<a id="580" class="Keyword">module</a> <a id="587" href="Varieties.Preservation.html" class="Module">Varieties.Preservation</a> <a id="610" class="Symbol">{</a><a id="611" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a> <a id="613" class="Symbol">:</a> <a id="615" href="Algebras.Basic.html#3566" class="Function">Signature</a> <a id="625" href="Algebras.Basic.html#1140" class="Generalizable">ğ“</a> <a id="627" href="Algebras.Basic.html#1142" class="Generalizable">ğ“¥</a><a id="628" class="Symbol">}</a> <a id="630" class="Keyword">where</a>

<a id="637" class="Comment">-- Imports from Agda and the Agda Standard Library -----------------------------------------------</a>
<a id="736" class="Keyword">open</a> <a id="741" class="Keyword">import</a> <a id="748" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>  <a id="764" class="Keyword">using</a> <a id="770" class="Symbol">(</a> <a id="772" href="Agda.Primitive.html#810" class="Primitive Operator">_âŠ”_</a> <a id="776" class="Symbol">;</a> <a id="778" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="783" class="Symbol">;</a> <a id="785" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="791" class="Symbol">)</a> <a id="793" class="Keyword">renaming</a> <a id="802" class="Symbol">(</a> <a id="804" href="Agda.Primitive.html#326" class="Primitive">Set</a>   <a id="810" class="Symbol">to</a> <a id="813" class="Primitive">Type</a> <a id="818" class="Symbol">)</a>
<a id="820" class="Keyword">open</a> <a id="825" class="Keyword">import</a> <a id="832" href="Axiom.Extensionality.Propositional.html" class="Module">Axiom.Extensionality.Propositional</a>
                            <a id="895" class="Keyword">using</a> <a id="901" class="Symbol">()</a> <a id="904" class="Keyword">renaming</a> <a id="913" class="Symbol">(</a><a id="914" href="Axiom.Extensionality.Propositional.html#741" class="Function">Extensionality</a> <a id="929" class="Symbol">to</a> <a id="932" class="Function">funext</a><a id="938" class="Symbol">)</a>
<a id="940" class="Keyword">open</a> <a id="945" class="Keyword">import</a> <a id="952" href="Data.Product.html" class="Module">Data.Product</a>    <a id="968" class="Keyword">using</a> <a id="974" class="Symbol">(</a> <a id="976" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="980" class="Symbol">;</a> <a id="982" href="Data.Product.html#916" class="Function">Î£-syntax</a> <a id="991" class="Symbol">;</a> <a id="993" href="Data.Product.html#1167" class="Function Operator">_Ã—_</a> <a id="997" class="Symbol">)</a> <a id="999" class="Keyword">renaming</a> <a id="1008" class="Symbol">(</a> <a id="1010" href="Agda.Builtin.Sigma.html#252" class="Field">projâ‚</a> <a id="1016" class="Symbol">to</a> <a id="1019" class="Field">fst</a> <a id="1023" class="Symbol">;</a> <a id="1025" href="Agda.Builtin.Sigma.html#264" class="Field">projâ‚‚</a> <a id="1031" class="Symbol">to</a> <a id="1034" class="Field">snd</a> <a id="1038" class="Symbol">)</a>
<a id="1040" class="Keyword">open</a> <a id="1045" class="Keyword">import</a> <a id="1052" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a>   <a id="1068" class="Keyword">using</a> <a id="1074" class="Symbol">(</a> <a id="1076" href="Data.Sum.Base.html#734" class="Datatype Operator">_âŠ_</a> <a id="1080" class="Symbol">)</a> <a id="1082" class="Keyword">renaming</a> <a id="1091" class="Symbol">(</a> <a id="1093" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ‚</a>  <a id="1099" class="Symbol">to</a> <a id="1102" class="InductiveConstructor">inl</a> <a id="1106" class="Symbol">;</a> <a id="1108" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ‚‚</a>  <a id="1114" class="Symbol">to</a> <a id="1117" class="InductiveConstructor">inr</a> <a id="1121" class="Symbol">)</a>
<a id="1123" class="Keyword">open</a> <a id="1128" class="Keyword">import</a> <a id="1135" href="Function.Base.html" class="Module">Function.Base</a>   <a id="1151" class="Keyword">using</a> <a id="1157" class="Symbol">(</a> <a id="1159" href="Function.Base.html#1031" class="Function Operator">_âˆ˜_</a> <a id="1163" class="Symbol">)</a>
<a id="1165" class="Keyword">open</a> <a id="1170" class="Keyword">import</a> <a id="1177" href="Relation.Unary.html" class="Module">Relation.Unary</a>  <a id="1193" class="Keyword">using</a> <a id="1199" class="Symbol">(</a> <a id="1201" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="1206" class="Symbol">;</a> <a id="1208" href="Relation.Unary.html#1742" class="Function Operator">_âŠ†_</a> <a id="1212" class="Symbol">;</a> <a id="1214" href="Relation.Unary.html#1523" class="Function Operator">_âˆˆ_</a> <a id="1218" class="Symbol">;</a> <a id="1220" href="Relation.Unary.html#1335" class="Function Operator">ï½›_ï½</a> <a id="1224" class="Symbol">;</a> <a id="1226" href="Relation.Unary.html#4417" class="Function Operator">_âˆª_</a> <a id="1230" class="Symbol">)</a>
<a id="1232" class="Keyword">open</a> <a id="1237" class="Keyword">import</a> <a id="1244" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
                            <a id="1310" class="Keyword">using</a> <a id="1316" class="Symbol">(</a> <a id="1318" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_â‰¡_</a> <a id="1322" class="Symbol">;</a> <a id="1324" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1329" class="Symbol">;</a> <a id="1331" class="Keyword">module</a> <a id="1338" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">â‰¡-Reasoning</a> <a id="1350" class="Symbol">;</a> <a id="1352" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="1361" class="Symbol">;</a> <a id="1363" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1368" class="Symbol">)</a>

<a id="1371" class="Comment">-- Imports from the Agda Universal Algebra Library ---------------------------------------------</a>
<a id="1468" class="Keyword">open</a> <a id="1473" class="Keyword">import</a> <a id="1480" href="Overture.Preliminaries.html" class="Module">Overture.Preliminaries</a>             <a id="1515" class="Keyword">using</a> <a id="1521" class="Symbol">(</a> <a id="1523" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£_âˆ£</a> <a id="1527" class="Symbol">;</a> <a id="1529" href="Overture.Preliminaries.html#4265" class="Function Operator">âˆ¥_âˆ¥</a> <a id="1533" class="Symbol">;</a> <a id="1535" href="Overture.Preliminaries.html#4931" class="Function Operator">_â»Â¹</a> <a id="1539" class="Symbol">)</a>
<a id="1541" class="Keyword">open</a> <a id="1546" class="Keyword">import</a> <a id="1553" href="Overture.Inverses.html" class="Module">Overture.Inverses</a>                  <a id="1588" class="Keyword">using</a> <a id="1594" class="Symbol">(</a> <a id="1596" href="Overture.Inverses.html#1861" class="Function">Inv</a> <a id="1600" class="Symbol">;</a> <a id="1602" href="Overture.Inverses.html#2442" class="Function">IsInjective</a> <a id="1614" class="Symbol">;</a> <a id="1616" href="Overture.Inverses.html#2024" class="Function">InvIsInv</a> <a id="1625" class="Symbol">)</a>
<a id="1627" class="Keyword">open</a> <a id="1632" class="Keyword">import</a> <a id="1639" href="Foundations.Truncation.html" class="Module">Foundations.Truncation</a>             <a id="1674" class="Keyword">using</a> <a id="1680" class="Symbol">(</a> <a id="1682" href="Foundations.Truncation.html#3966" class="Function">hfunext</a> <a id="1690" class="Symbol">)</a>
<a id="1692" class="Keyword">open</a> <a id="1697" class="Keyword">import</a> <a id="1704" href="Foundations.Welldefined.html" class="Module">Foundations.Welldefined</a>            <a id="1739" class="Keyword">using</a> <a id="1745" class="Symbol">(</a> <a id="1747" href="Foundations.Welldefined.html#2948" class="Function">SwellDef</a> <a id="1756" class="Symbol">)</a>
<a id="1758" class="Keyword">open</a> <a id="1763" class="Keyword">import</a> <a id="1770" href="Foundations.Extensionality.html" class="Module">Foundations.Extensionality</a>         <a id="1805" class="Keyword">using</a> <a id="1811" class="Symbol">(</a> <a id="1813" href="Foundations.Extensionality.html#2465" class="Function">DFunExt</a> <a id="1821" class="Symbol">)</a>
<a id="1823" class="Keyword">open</a> <a id="1828" class="Keyword">import</a> <a id="1835" href="Algebras.Basic.html" class="Module">Algebras.Basic</a>                     <a id="1870" class="Keyword">using</a> <a id="1876" class="Symbol">(</a> <a id="1878" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="1886" class="Symbol">;</a> <a id="1888" href="Algebras.Basic.html#10499" class="Function">Lift-Alg</a> <a id="1897" class="Symbol">)</a>
<a id="1899" class="Keyword">open</a> <a id="1904" class="Keyword">import</a> <a id="1911" href="Algebras.Products.html" class="Module">Algebras.Products</a>          <a id="1938" class="Symbol">{</a><a id="1939" class="Argument">ğ‘†</a> <a id="1941" class="Symbol">=</a> <a id="1943" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="1944" class="Symbol">}</a> <a id="1946" class="Keyword">using</a> <a id="1952" class="Symbol">(</a> <a id="1954" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="1957" class="Symbol">;</a> <a id="1959" href="Algebras.Products.html#1786" class="Function">â¨…</a> <a id="1961" class="Symbol">;</a> <a id="1963" href="Algebras.Products.html#5234" class="Function">ğ”„</a> <a id="1965" class="Symbol">;</a> <a id="1967" href="Algebras.Products.html#5381" class="Function">class-product</a><a id="1980" class="Symbol">)</a>
<a id="1982" class="Keyword">open</a> <a id="1987" class="Keyword">import</a> <a id="1994" href="Homomorphisms.Basic.html" class="Module">Homomorphisms.Basic</a>        <a id="2021" class="Symbol">{</a><a id="2022" class="Argument">ğ‘†</a> <a id="2024" class="Symbol">=</a> <a id="2026" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="2027" class="Symbol">}</a> <a id="2029" class="Keyword">using</a> <a id="2035" class="Symbol">(</a> <a id="2037" href="Homomorphisms.Basic.html#2987" class="Function">is-homomorphism</a> <a id="2053" class="Symbol">)</a>
<a id="2055" class="Keyword">open</a> <a id="2060" class="Keyword">import</a> <a id="2067" href="Homomorphisms.Isomorphisms.html" class="Module">Homomorphisms.Isomorphisms</a> <a id="2094" class="Symbol">{</a><a id="2095" class="Argument">ğ‘†</a> <a id="2097" class="Symbol">=</a> <a id="2099" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="2100" class="Symbol">}</a> <a id="2102" class="Keyword">using</a> <a id="2108" class="Symbol">(</a> <a id="2110" href="Homomorphisms.Isomorphisms.html#2278" class="Record Operator">_â‰…_</a> <a id="2114" class="Symbol">;</a> <a id="2116" href="Homomorphisms.Isomorphisms.html#2909" class="Function">â‰…-sym</a> <a id="2122" class="Symbol">;</a> <a id="2124" href="Homomorphisms.Isomorphisms.html#4353" class="Function">Lift-â‰…</a> <a id="2131" class="Symbol">;</a> <a id="2133" href="Homomorphisms.Isomorphisms.html#2998" class="Function">â‰…-trans</a> <a id="2141" class="Symbol">;</a> <a id="2143" href="Homomorphisms.Isomorphisms.html#5675" class="Function">â¨…â‰…</a> <a id="2146" class="Symbol">;</a> <a id="2148" href="Homomorphisms.Isomorphisms.html#2819" class="Function">â‰…-refl</a>
                                                     <a id="2208" class="Symbol">;</a> <a id="2210" href="Homomorphisms.Isomorphisms.html#4672" class="Function">Lift-Alg-iso</a> <a id="2223" class="Symbol">;</a> <a id="2225" href="Homomorphisms.Isomorphisms.html#5094" class="Function">Lift-Alg-assoc</a> <a id="2240" class="Symbol">)</a>
<a id="2242" class="Keyword">open</a> <a id="2247" class="Keyword">import</a> <a id="2254" href="Terms.Basic.html" class="Module">Terms.Basic</a>                <a id="2281" class="Symbol">{</a><a id="2282" class="Argument">ğ‘†</a> <a id="2284" class="Symbol">=</a> <a id="2286" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="2287" class="Symbol">}</a> <a id="2289" class="Keyword">using</a> <a id="2295" class="Symbol">(</a> <a id="2297" href="Terms.Basic.html#1989" class="Datatype">Term</a> <a id="2302" class="Symbol">;</a> <a id="2304" href="Terms.Basic.html#3261" class="Function">ğ‘»</a> <a id="2306" class="Symbol">)</a>
<a id="2308" class="Keyword">open</a> <a id="2313" class="Keyword">import</a> <a id="2320" href="Terms.Operations.html" class="Module">Terms.Operations</a>           <a id="2347" class="Symbol">{</a><a id="2348" class="Argument">ğ‘†</a> <a id="2350" class="Symbol">=</a> <a id="2352" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="2353" class="Symbol">}</a> <a id="2355" class="Keyword">using</a> <a id="2361" class="Symbol">(</a> <a id="2363" href="Terms.Operations.html#2528" class="Function Operator">_âŸ¦_âŸ§</a><a id="2367" class="Symbol">;</a> <a id="2369" href="Terms.Operations.html#6535" class="Function">comm-hom-term</a><a id="2382" class="Symbol">)</a>
<a id="2384" class="Keyword">open</a> <a id="2389" class="Keyword">import</a> <a id="2396" href="Subalgebras.Subalgebras.html" class="Module">Subalgebras.Subalgebras</a>    <a id="2423" class="Symbol">{</a><a id="2424" class="Argument">ğ‘†</a> <a id="2426" class="Symbol">=</a> <a id="2428" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="2429" class="Symbol">}</a> <a id="2431" class="Keyword">using</a> <a id="2437" class="Symbol">(</a> <a id="2439" href="Subalgebras.Subalgebras.html#2603" class="Function Operator">_â‰¤_</a> <a id="2443" class="Symbol">;</a> <a id="2445" href="Subalgebras.Subalgebras.html#2645" class="Function Operator">_IsSubalgebraOf_</a> <a id="2462" class="Symbol">;</a> <a id="2464" href="Subalgebras.Subalgebras.html#6132" class="Function Operator">_IsSubalgebraOfClass_</a>
                                                     <a id="2539" class="Symbol">;</a> <a id="2541" href="Subalgebras.Subalgebras.html#6483" class="Function">SubalgebraOfClass</a> <a id="2559" class="Symbol">)</a>
<a id="2561" class="Keyword">open</a> <a id="2566" class="Keyword">import</a> <a id="2573" href="Subalgebras.Properties.html" class="Module">Subalgebras.Properties</a>     <a id="2600" class="Symbol">{</a><a id="2601" class="Argument">ğ‘†</a> <a id="2603" class="Symbol">=</a> <a id="2605" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="2606" class="Symbol">}</a> <a id="2608" class="Keyword">using</a> <a id="2614" class="Symbol">(</a> <a id="2616" href="Subalgebras.Properties.html#5806" class="Function">â‰¤-Lift</a> <a id="2623" class="Symbol">;</a> <a id="2625" href="Subalgebras.Properties.html#6056" class="Function">Lift-â‰¤-Lift</a> <a id="2637" class="Symbol">)</a>
<a id="2639" class="Keyword">open</a> <a id="2644" class="Keyword">import</a> <a id="2651" href="Varieties.EquationalLogic.html" class="Module">Varieties.EquationalLogic</a>  <a id="2678" class="Symbol">{</a><a id="2679" class="Argument">ğ‘†</a> <a id="2681" class="Symbol">=</a> <a id="2683" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="2684" class="Symbol">}</a> <a id="2686" class="Keyword">using</a> <a id="2692" class="Symbol">(</a> <a id="2694" href="Varieties.EquationalLogic.html#2685" class="Function Operator">_âŠ«_â‰ˆ_</a> <a id="2700" class="Symbol">;</a> <a id="2702" href="Varieties.EquationalLogic.html#2607" class="Function Operator">_âŠ§_â‰ˆ_</a> <a id="2708" class="Symbol">;</a> <a id="2710" href="Varieties.EquationalLogic.html#3411" class="Function">Th</a><a id="2712" class="Symbol">)</a>
<a id="2714" class="Keyword">open</a> <a id="2719" class="Keyword">import</a> <a id="2726" href="Varieties.Properties.html" class="Module">Varieties.Properties</a>       <a id="2753" class="Symbol">{</a><a id="2754" class="Argument">ğ‘†</a> <a id="2756" class="Symbol">=</a> <a id="2758" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="2759" class="Symbol">}</a> <a id="2761" class="Keyword">using</a> <a id="2767" class="Symbol">(</a> <a id="2769" href="Varieties.Properties.html#4170" class="Function">âŠ§-Lift-invar</a> <a id="2782" class="Symbol">;</a> <a id="2784" href="Varieties.Properties.html#4304" class="Function">âŠ§-lower-invar</a> <a id="2798" class="Symbol">;</a> <a id="2800" href="Varieties.Properties.html#5457" class="Function">âŠ§-S-class-invar</a>
                                                     <a id="2869" class="Symbol">;</a> <a id="2871" href="Varieties.Properties.html#3227" class="Function">âŠ§-I-invar</a> <a id="2881" class="Symbol">;</a> <a id="2883" href="Varieties.Properties.html#7241" class="Function">âŠ§-P-lift-invar</a> <a id="2898" class="Symbol">;</a> <a id="2900" href="Varieties.Properties.html#6153" class="Function">âŠ§-P-invar</a> <a id="2910" class="Symbol">;</a> <a id="2912" href="Varieties.Properties.html#4730" class="Function">âŠ§-S-invar</a><a id="2921" class="Symbol">)</a>
<a id="2923" class="Keyword">open</a> <a id="2928" class="Keyword">import</a> <a id="2935" href="Varieties.Closure.html" class="Module">Varieties.Closure</a>          <a id="2962" class="Symbol">{</a><a id="2963" class="Argument">ğ‘†</a> <a id="2965" class="Symbol">=</a> <a id="2967" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="2968" class="Symbol">}</a> <a id="2970" class="Keyword">using</a> <a id="2976" class="Symbol">(</a> <a id="2978" href="Varieties.Closure.html#3321" class="Datatype">H</a> <a id="2980" class="Symbol">;</a> <a id="2982" href="Varieties.Closure.html#3772" class="Datatype">S</a> <a id="2984" class="Symbol">;</a> <a id="2986" href="Varieties.Closure.html#4356" class="Datatype">P</a> <a id="2988" class="Symbol">;</a> <a id="2990" href="Varieties.Closure.html#5314" class="Datatype">V</a> <a id="2992" class="Symbol">;</a> <a id="2994" href="Varieties.Closure.html#9501" class="Function">P-expa</a> <a id="3001" class="Symbol">;</a> <a id="3003" href="Varieties.Closure.html#7846" class="Function">Sâ†’subalgebra</a>
                                                     <a id="3069" class="Symbol">;</a> <a id="3071" href="Varieties.Closure.html#10808" class="Function">Lift-Alg-subP&#39;</a> <a id="3086" class="Symbol">;</a> <a id="3088" href="Varieties.Closure.html#7474" class="Function">subalgebraâ†’S</a> <a id="3101" class="Symbol">;</a> <a id="3103" href="Varieties.Closure.html#6895" class="Function">S-mono</a>
                                                     <a id="3163" class="Symbol">;</a> <a id="3165" href="Varieties.Closure.html#9664" class="Function">P-idemp</a> <a id="3173" class="Symbol">;</a> <a id="3175" class="Keyword">module</a> <a id="3182" href="Varieties.Closure.html#11718" class="Module">Vlift</a><a id="3187" class="Symbol">)</a>
<a id="3189" class="Keyword">open</a> <a id="3194" href="Varieties.Closure.html#3321" class="Module">H</a>
<a id="3196" class="Keyword">open</a> <a id="3201" href="Varieties.Closure.html#3772" class="Module">S</a>
<a id="3203" class="Keyword">open</a> <a id="3208" href="Varieties.Closure.html#4356" class="Module">P</a>
<a id="3210" class="Keyword">open</a> <a id="3215" href="Varieties.Closure.html#5314" class="Module">V</a>

<a id="3218" class="Keyword">private</a> <a id="3226" class="Keyword">variable</a> <a id="3235" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a> <a id="3237" href="Varieties.Preservation.html#3237" class="Generalizable">Î²</a> <a id="3239" class="Symbol">:</a> <a id="3241" href="Agda.Primitive.html#597" class="Postulate">Level</a>

</pre>



#### <a id="closure-properties">Closure properties</a>

The types defined above represent operators with useful closure properties. We now prove a handful of such properties that we need later.

The next lemma would be too obvious to care about were it not for the fact that we'll need it later, so it too must be formalized.

<pre class="Agda">

<a id="SâŠ†SP"></a><a id="3603" href="Varieties.Preservation.html#3603" class="Function">SâŠ†SP</a> <a id="3608" class="Symbol">:</a> <a id="3610" class="Symbol">(</a><a id="3611" href="Varieties.Preservation.html#3611" class="Bound">ğ’¦</a> <a id="3613" class="Symbol">:</a> <a id="3615" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3620" class="Symbol">(</a><a id="3621" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="3629" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a> <a id="3631" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="3632" class="Symbol">)(</a><a id="3634" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="3637" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a><a id="3638" class="Symbol">))</a>
 <a id="3642" class="Symbol">â†’</a>     <a id="3648" href="Varieties.Closure.html#3772" class="Datatype">S</a><a id="3649" class="Symbol">{</a><a id="3650" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a><a id="3651" class="Symbol">}{</a><a id="3653" href="Varieties.Preservation.html#3237" class="Generalizable">Î²</a><a id="3654" class="Symbol">}</a> <a id="3656" href="Varieties.Preservation.html#3611" class="Bound">ğ’¦</a> <a id="3658" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="3660" href="Varieties.Closure.html#3772" class="Datatype">S</a><a id="3661" class="Symbol">{</a><a id="3662" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a> <a id="3664" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3666" href="Varieties.Preservation.html#3237" class="Generalizable">Î²</a><a id="3667" class="Symbol">}{</a><a id="3669" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a> <a id="3671" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3673" href="Varieties.Preservation.html#3237" class="Generalizable">Î²</a><a id="3674" class="Symbol">}</a> <a id="3676" class="Symbol">(</a><a id="3677" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="3678" class="Symbol">{</a><a id="3679" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a><a id="3680" class="Symbol">}{</a><a id="3682" href="Varieties.Preservation.html#3237" class="Generalizable">Î²</a><a id="3683" class="Symbol">}</a> <a id="3685" href="Varieties.Preservation.html#3611" class="Bound">ğ’¦</a><a id="3686" class="Symbol">)</a>

<a id="3689" href="Varieties.Preservation.html#3603" class="Function">SâŠ†SP</a> <a id="3694" class="Symbol">{</a><a id="3695" href="Varieties.Preservation.html#3695" class="Bound">Î±</a><a id="3696" class="Symbol">}</a> <a id="3698" class="Symbol">{</a><a id="3699" href="Varieties.Preservation.html#3699" class="Bound">Î²</a><a id="3700" class="Symbol">}</a> <a id="3702" href="Varieties.Preservation.html#3702" class="Bound">ğ’¦</a> <a id="3704" class="Symbol">{</a><a id="3705" class="DottedPattern Symbol">.(</a><a id="3707" href="Algebras.Basic.html#10499" class="DottedPattern Function">Lift-Alg</a> <a id="3716" href="Varieties.Preservation.html#3728" class="DottedPattern Bound">ğ‘¨</a> <a id="3718" href="Varieties.Preservation.html#3699" class="DottedPattern Bound">Î²</a><a id="3719" class="DottedPattern Symbol">)</a><a id="3720" class="Symbol">}(</a><a id="3722" href="Varieties.Closure.html#3860" class="InductiveConstructor">sbase</a><a id="3727" class="Symbol">{</a><a id="3728" href="Varieties.Preservation.html#3728" class="Bound">ğ‘¨</a><a id="3729" class="Symbol">}</a> <a id="3731" href="Varieties.Preservation.html#3731" class="Bound">x</a><a id="3732" class="Symbol">)</a> <a id="3734" class="Symbol">=</a> <a id="3736" href="Varieties.Closure.html#4058" class="InductiveConstructor">siso</a> <a id="3741" href="Varieties.Preservation.html#3834" class="Function">spllA</a><a id="3746" class="Symbol">(</a><a id="3747" href="Homomorphisms.Isomorphisms.html#2909" class="Function">â‰…-sym</a> <a id="3753" href="Homomorphisms.Isomorphisms.html#4353" class="Function">Lift-â‰…</a><a id="3759" class="Symbol">)</a>
 <a id="3762" class="Keyword">where</a>
 <a id="3769" href="Varieties.Preservation.html#3769" class="Function">llA</a> <a id="3773" class="Symbol">:</a> <a id="3775" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="3783" class="Symbol">(</a><a id="3784" href="Varieties.Preservation.html#3695" class="Bound">Î±</a> <a id="3786" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3788" href="Varieties.Preservation.html#3699" class="Bound">Î²</a><a id="3789" class="Symbol">)</a> <a id="3791" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a>
 <a id="3794" href="Varieties.Preservation.html#3769" class="Function">llA</a> <a id="3798" class="Symbol">=</a> <a id="3800" href="Algebras.Basic.html#10499" class="Function">Lift-Alg</a> <a id="3809" class="Symbol">(</a><a id="3810" href="Algebras.Basic.html#10499" class="Function">Lift-Alg</a> <a id="3819" href="Varieties.Preservation.html#3728" class="Bound">ğ‘¨</a> <a id="3821" href="Varieties.Preservation.html#3699" class="Bound">Î²</a><a id="3822" class="Symbol">)</a> <a id="3824" class="Symbol">(</a><a id="3825" href="Varieties.Preservation.html#3695" class="Bound">Î±</a> <a id="3827" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3829" href="Varieties.Preservation.html#3699" class="Bound">Î²</a><a id="3830" class="Symbol">)</a>

 <a id="3834" href="Varieties.Preservation.html#3834" class="Function">spllA</a> <a id="3840" class="Symbol">:</a> <a id="3842" href="Varieties.Preservation.html#3769" class="Function">llA</a> <a id="3846" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="3848" href="Varieties.Closure.html#3772" class="Datatype">S</a> <a id="3850" class="Symbol">(</a><a id="3851" href="Varieties.Closure.html#4356" class="Datatype">P</a> <a id="3853" href="Varieties.Preservation.html#3702" class="Bound">ğ’¦</a><a id="3854" class="Symbol">)</a>
 <a id="3857" href="Varieties.Preservation.html#3834" class="Function">spllA</a> <a id="3863" class="Symbol">=</a> <a id="3865" href="Varieties.Closure.html#3860" class="InductiveConstructor">sbase</a><a id="3870" class="Symbol">{</a><a id="3871" href="Varieties.Preservation.html#3695" class="Bound">Î±</a> <a id="3873" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3875" href="Varieties.Preservation.html#3699" class="Bound">Î²</a><a id="3876" class="Symbol">}{</a><a id="3878" href="Varieties.Preservation.html#3695" class="Bound">Î±</a> <a id="3880" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3882" href="Varieties.Preservation.html#3699" class="Bound">Î²</a><a id="3883" class="Symbol">}</a> <a id="3885" class="Symbol">(</a><a id="3886" href="Varieties.Closure.html#4444" class="InductiveConstructor">pbase</a> <a id="3892" href="Varieties.Preservation.html#3731" class="Bound">x</a><a id="3893" class="Symbol">)</a>

<a id="3896" href="Varieties.Preservation.html#3603" class="Function">SâŠ†SP</a> <a id="3901" class="Symbol">{</a><a id="3902" href="Varieties.Preservation.html#3902" class="Bound">Î±</a><a id="3903" class="Symbol">}</a> <a id="3905" class="Symbol">{</a><a id="3906" href="Varieties.Preservation.html#3906" class="Bound">Î²</a><a id="3907" class="Symbol">}</a> <a id="3909" href="Varieties.Preservation.html#3909" class="Bound">ğ’¦</a> <a id="3911" class="Symbol">{</a><a id="3912" class="DottedPattern Symbol">.(</a><a id="3914" href="Algebras.Basic.html#10499" class="DottedPattern Function">Lift-Alg</a> <a id="3923" href="Varieties.Preservation.html#3935" class="DottedPattern Bound">ğ‘¨</a> <a id="3925" href="Varieties.Preservation.html#3906" class="DottedPattern Bound">Î²</a><a id="3926" class="DottedPattern Symbol">)</a><a id="3927" class="Symbol">}(</a><a id="3929" href="Varieties.Closure.html#3916" class="InductiveConstructor">slift</a><a id="3934" class="Symbol">{</a><a id="3935" href="Varieties.Preservation.html#3935" class="Bound">ğ‘¨</a><a id="3936" class="Symbol">}</a> <a id="3938" href="Varieties.Preservation.html#3938" class="Bound">x</a><a id="3939" class="Symbol">)</a> <a id="3941" class="Symbol">=</a> <a id="3943" href="Varieties.Closure.html#7474" class="Function">subalgebraâ†’S</a> <a id="3956" href="Varieties.Preservation.html#4093" class="Function">lAsc</a>
 <a id="3962" class="Keyword">where</a>
 <a id="3969" href="Varieties.Preservation.html#3969" class="Function">splAu</a> <a id="3975" class="Symbol">:</a> <a id="3977" href="Varieties.Preservation.html#3935" class="Bound">ğ‘¨</a> <a id="3979" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="3981" href="Varieties.Closure.html#3772" class="Datatype">S</a><a id="3982" class="Symbol">(</a><a id="3983" href="Varieties.Closure.html#4356" class="Datatype">P</a> <a id="3985" href="Varieties.Preservation.html#3909" class="Bound">ğ’¦</a><a id="3986" class="Symbol">)</a>
 <a id="3989" href="Varieties.Preservation.html#3969" class="Function">splAu</a> <a id="3995" class="Symbol">=</a> <a id="3997" href="Varieties.Preservation.html#3603" class="Function">SâŠ†SP</a><a id="4001" class="Symbol">{</a><a id="4002" href="Varieties.Preservation.html#3902" class="Bound">Î±</a><a id="4003" class="Symbol">}{</a><a id="4005" href="Varieties.Preservation.html#3902" class="Bound">Î±</a><a id="4006" class="Symbol">}</a> <a id="4008" href="Varieties.Preservation.html#3909" class="Bound">ğ’¦</a> <a id="4010" href="Varieties.Preservation.html#3938" class="Bound">x</a>

 <a id="4014" href="Varieties.Preservation.html#4014" class="Function">Asc</a> <a id="4018" class="Symbol">:</a> <a id="4020" href="Varieties.Preservation.html#3935" class="Bound">ğ‘¨</a> <a id="4022" href="Subalgebras.Subalgebras.html#6132" class="Function Operator">IsSubalgebraOfClass</a> <a id="4042" class="Symbol">(</a><a id="4043" href="Varieties.Closure.html#4356" class="Datatype">P</a> <a id="4045" href="Varieties.Preservation.html#3909" class="Bound">ğ’¦</a><a id="4046" class="Symbol">)</a>
 <a id="4049" href="Varieties.Preservation.html#4014" class="Function">Asc</a> <a id="4053" class="Symbol">=</a> <a id="4055" href="Varieties.Closure.html#7846" class="Function">Sâ†’subalgebra</a><a id="4067" class="Symbol">{</a><a id="4068" href="Varieties.Preservation.html#3902" class="Bound">Î±</a><a id="4069" class="Symbol">}{</a><a id="4071" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="4072" class="Symbol">{</a><a id="4073" href="Varieties.Preservation.html#3902" class="Bound">Î±</a><a id="4074" class="Symbol">}{</a><a id="4076" href="Varieties.Preservation.html#3902" class="Bound">Î±</a><a id="4077" class="Symbol">}</a> <a id="4079" href="Varieties.Preservation.html#3909" class="Bound">ğ’¦</a><a id="4080" class="Symbol">}{</a><a id="4082" href="Varieties.Preservation.html#3935" class="Bound">ğ‘¨</a><a id="4083" class="Symbol">}</a> <a id="4085" href="Varieties.Preservation.html#3969" class="Function">splAu</a>

 <a id="4093" href="Varieties.Preservation.html#4093" class="Function">lAsc</a> <a id="4098" class="Symbol">:</a> <a id="4100" class="Symbol">(</a><a id="4101" href="Algebras.Basic.html#10499" class="Function">Lift-Alg</a> <a id="4110" href="Varieties.Preservation.html#3935" class="Bound">ğ‘¨</a> <a id="4112" href="Varieties.Preservation.html#3906" class="Bound">Î²</a><a id="4113" class="Symbol">)</a> <a id="4115" href="Subalgebras.Subalgebras.html#6132" class="Function Operator">IsSubalgebraOfClass</a> <a id="4135" class="Symbol">(</a><a id="4136" href="Varieties.Closure.html#4356" class="Datatype">P</a> <a id="4138" href="Varieties.Preservation.html#3909" class="Bound">ğ’¦</a><a id="4139" class="Symbol">)</a>
 <a id="4142" href="Varieties.Preservation.html#4093" class="Function">lAsc</a> <a id="4147" class="Symbol">=</a> <a id="4149" href="Varieties.Closure.html#10808" class="Function">Lift-Alg-subP&#39;</a> <a id="4164" href="Varieties.Preservation.html#4014" class="Function">Asc</a>
<a id="4168" href="Varieties.Preservation.html#3603" class="Function">SâŠ†SP</a> <a id="4173" class="Symbol">{</a><a id="4174" href="Varieties.Preservation.html#4174" class="Bound">Î±</a><a id="4175" class="Symbol">}</a> <a id="4177" class="Symbol">{</a><a id="4178" href="Varieties.Preservation.html#4178" class="Bound">Î²</a><a id="4179" class="Symbol">}</a> <a id="4181" href="Varieties.Preservation.html#4181" class="Bound">ğ’¦</a> <a id="4183" class="Symbol">{</a><a id="4184" href="Varieties.Preservation.html#4184" class="Bound">ğ‘©</a><a id="4185" class="Symbol">}(</a><a id="4187" href="Varieties.Closure.html#3980" class="InductiveConstructor">ssub</a><a id="4191" class="Symbol">{</a><a id="4192" href="Varieties.Preservation.html#4192" class="Bound">ğ‘¨</a><a id="4193" class="Symbol">}</a> <a id="4195" href="Varieties.Preservation.html#4195" class="Bound">sA</a> <a id="4198" href="Varieties.Preservation.html#4198" class="Bound">Bâ‰¤A</a><a id="4201" class="Symbol">)</a> <a id="4203" class="Symbol">=</a> <a id="4205" href="Varieties.Closure.html#3980" class="InductiveConstructor">ssub</a> <a id="4210" class="Symbol">(</a><a id="4211" href="Varieties.Closure.html#7474" class="Function">subalgebraâ†’S</a> <a id="4224" href="Varieties.Preservation.html#4431" class="Function">lAsc</a><a id="4228" class="Symbol">)</a> <a id="4230" class="Symbol">(</a><a id="4231" href="Subalgebras.Properties.html#5806" class="Function">â‰¤-Lift</a> <a id="4238" href="Varieties.Preservation.html#4192" class="Bound">ğ‘¨</a> <a id="4240" href="Varieties.Preservation.html#4198" class="Bound">Bâ‰¤A</a> <a id="4244" class="Symbol">)</a>
 <a id="4247" class="Keyword">where</a>
  <a id="4255" href="Varieties.Preservation.html#4255" class="Function">lA</a> <a id="4258" class="Symbol">:</a> <a id="4260" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="4268" class="Symbol">(</a><a id="4269" href="Varieties.Preservation.html#4174" class="Bound">Î±</a> <a id="4271" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4273" href="Varieties.Preservation.html#4178" class="Bound">Î²</a><a id="4274" class="Symbol">)</a> <a id="4276" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a>
  <a id="4280" href="Varieties.Preservation.html#4255" class="Function">lA</a> <a id="4283" class="Symbol">=</a> <a id="4285" href="Algebras.Basic.html#10499" class="Function">Lift-Alg</a> <a id="4294" href="Varieties.Preservation.html#4192" class="Bound">ğ‘¨</a> <a id="4296" href="Varieties.Preservation.html#4178" class="Bound">Î²</a>

  <a id="4301" href="Varieties.Preservation.html#4301" class="Function">splAu</a> <a id="4307" class="Symbol">:</a> <a id="4309" href="Varieties.Preservation.html#4192" class="Bound">ğ‘¨</a> <a id="4311" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="4313" href="Varieties.Closure.html#3772" class="Datatype">S</a> <a id="4315" class="Symbol">(</a><a id="4316" href="Varieties.Closure.html#4356" class="Datatype">P</a> <a id="4318" href="Varieties.Preservation.html#4181" class="Bound">ğ’¦</a><a id="4319" class="Symbol">)</a>
  <a id="4323" href="Varieties.Preservation.html#4301" class="Function">splAu</a> <a id="4329" class="Symbol">=</a> <a id="4331" href="Varieties.Preservation.html#3603" class="Function">SâŠ†SP</a><a id="4335" class="Symbol">{</a><a id="4336" href="Varieties.Preservation.html#4174" class="Bound">Î±</a><a id="4337" class="Symbol">}{</a><a id="4339" href="Varieties.Preservation.html#4174" class="Bound">Î±</a><a id="4340" class="Symbol">}</a> <a id="4342" href="Varieties.Preservation.html#4181" class="Bound">ğ’¦</a> <a id="4344" href="Varieties.Preservation.html#4195" class="Bound">sA</a>

  <a id="4350" href="Varieties.Preservation.html#4350" class="Function">Asc</a> <a id="4354" class="Symbol">:</a> <a id="4356" href="Varieties.Preservation.html#4192" class="Bound">ğ‘¨</a> <a id="4358" href="Subalgebras.Subalgebras.html#6132" class="Function Operator">IsSubalgebraOfClass</a> <a id="4378" class="Symbol">(</a><a id="4379" href="Varieties.Closure.html#4356" class="Datatype">P</a> <a id="4381" href="Varieties.Preservation.html#4181" class="Bound">ğ’¦</a><a id="4382" class="Symbol">)</a>
  <a id="4386" href="Varieties.Preservation.html#4350" class="Function">Asc</a> <a id="4390" class="Symbol">=</a> <a id="4392" href="Varieties.Closure.html#7846" class="Function">Sâ†’subalgebra</a><a id="4404" class="Symbol">{</a><a id="4405" href="Varieties.Preservation.html#4174" class="Bound">Î±</a><a id="4406" class="Symbol">}{</a><a id="4408" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="4409" class="Symbol">{</a><a id="4410" href="Varieties.Preservation.html#4174" class="Bound">Î±</a><a id="4411" class="Symbol">}{</a><a id="4413" href="Varieties.Preservation.html#4174" class="Bound">Î±</a><a id="4414" class="Symbol">}</a> <a id="4416" href="Varieties.Preservation.html#4181" class="Bound">ğ’¦</a><a id="4417" class="Symbol">}{</a><a id="4419" href="Varieties.Preservation.html#4192" class="Bound">ğ‘¨</a><a id="4420" class="Symbol">}</a> <a id="4422" href="Varieties.Preservation.html#4301" class="Function">splAu</a>

  <a id="4431" href="Varieties.Preservation.html#4431" class="Function">lAsc</a> <a id="4436" class="Symbol">:</a> <a id="4438" href="Varieties.Preservation.html#4255" class="Function">lA</a> <a id="4441" href="Subalgebras.Subalgebras.html#6132" class="Function Operator">IsSubalgebraOfClass</a> <a id="4461" class="Symbol">(</a><a id="4462" href="Varieties.Closure.html#4356" class="Datatype">P</a> <a id="4464" href="Varieties.Preservation.html#4181" class="Bound">ğ’¦</a><a id="4465" class="Symbol">)</a>
  <a id="4469" href="Varieties.Preservation.html#4431" class="Function">lAsc</a> <a id="4474" class="Symbol">=</a> <a id="4476" href="Varieties.Closure.html#10808" class="Function">Lift-Alg-subP&#39;</a> <a id="4491" href="Varieties.Preservation.html#4350" class="Function">Asc</a>

<a id="4496" href="Varieties.Preservation.html#3603" class="Function">SâŠ†SP</a> <a id="4501" class="Symbol">{</a><a id="4502" class="Argument">Î±</a> <a id="4504" class="Symbol">=</a> <a id="4506" href="Varieties.Preservation.html#4506" class="Bound">Î±</a><a id="4507" class="Symbol">}{</a><a id="4509" href="Varieties.Preservation.html#4509" class="Bound">Î²</a><a id="4510" class="Symbol">}</a> <a id="4512" href="Varieties.Preservation.html#4512" class="Bound">ğ’¦</a> <a id="4514" class="Symbol">{</a><a id="4515" href="Varieties.Preservation.html#4515" class="Bound">ğ‘©</a><a id="4516" class="Symbol">}(</a><a id="4518" href="Varieties.Closure.html#4058" class="InductiveConstructor">siso</a><a id="4522" class="Symbol">{</a><a id="4523" href="Varieties.Preservation.html#4523" class="Bound">ğ‘¨</a><a id="4524" class="Symbol">}</a> <a id="4526" href="Varieties.Preservation.html#4526" class="Bound">sA</a> <a id="4529" href="Varieties.Preservation.html#4529" class="Bound">Aâ‰…B</a><a id="4532" class="Symbol">)</a> <a id="4534" class="Symbol">=</a> <a id="4536" href="Varieties.Closure.html#4058" class="InductiveConstructor">siso</a><a id="4540" class="Symbol">{</a><a id="4541" href="Varieties.Preservation.html#4506" class="Bound">Î±</a> <a id="4543" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4545" href="Varieties.Preservation.html#4509" class="Bound">Î²</a><a id="4546" class="Symbol">}{</a><a id="4548" href="Varieties.Preservation.html#4506" class="Bound">Î±</a> <a id="4550" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4552" href="Varieties.Preservation.html#4509" class="Bound">Î²</a><a id="4553" class="Symbol">}</a> <a id="4555" href="Varieties.Preservation.html#4722" class="Function">lAsp</a> <a id="4560" href="Varieties.Preservation.html#4798" class="Function">lAâ‰…B</a>
 <a id="4566" class="Keyword">where</a>
 <a id="4573" href="Varieties.Preservation.html#4573" class="Function">lA</a> <a id="4576" class="Symbol">:</a> <a id="4578" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="4586" class="Symbol">(</a><a id="4587" href="Varieties.Preservation.html#4506" class="Bound">Î±</a> <a id="4589" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4591" href="Varieties.Preservation.html#4509" class="Bound">Î²</a><a id="4592" class="Symbol">)</a> <a id="4594" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a>
 <a id="4597" href="Varieties.Preservation.html#4573" class="Function">lA</a> <a id="4600" class="Symbol">=</a> <a id="4602" href="Algebras.Basic.html#10499" class="Function">Lift-Alg</a> <a id="4611" href="Varieties.Preservation.html#4523" class="Bound">ğ‘¨</a> <a id="4613" href="Varieties.Preservation.html#4509" class="Bound">Î²</a>

 <a id="4617" href="Varieties.Preservation.html#4617" class="Function">lAsc</a> <a id="4622" class="Symbol">:</a> <a id="4624" href="Varieties.Preservation.html#4573" class="Function">lA</a> <a id="4627" href="Subalgebras.Subalgebras.html#6132" class="Function Operator">IsSubalgebraOfClass</a> <a id="4647" class="Symbol">(</a><a id="4648" href="Varieties.Closure.html#4356" class="Datatype">P</a> <a id="4650" href="Varieties.Preservation.html#4512" class="Bound">ğ’¦</a><a id="4651" class="Symbol">)</a>
 <a id="4654" href="Varieties.Preservation.html#4617" class="Function">lAsc</a> <a id="4659" class="Symbol">=</a> <a id="4661" href="Varieties.Closure.html#10808" class="Function">Lift-Alg-subP&#39;</a> <a id="4676" class="Symbol">(</a><a id="4677" href="Varieties.Closure.html#7846" class="Function">Sâ†’subalgebra</a><a id="4689" class="Symbol">{</a><a id="4690" href="Varieties.Preservation.html#4506" class="Bound">Î±</a><a id="4691" class="Symbol">}{</a><a id="4693" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="4694" class="Symbol">{</a><a id="4695" href="Varieties.Preservation.html#4506" class="Bound">Î±</a><a id="4696" class="Symbol">}{</a><a id="4698" href="Varieties.Preservation.html#4506" class="Bound">Î±</a><a id="4699" class="Symbol">}</a> <a id="4701" href="Varieties.Preservation.html#4512" class="Bound">ğ’¦</a><a id="4702" class="Symbol">}{</a><a id="4704" href="Varieties.Preservation.html#4523" class="Bound">ğ‘¨</a><a id="4705" class="Symbol">}</a> <a id="4707" class="Symbol">(</a><a id="4708" href="Varieties.Preservation.html#3603" class="Function">SâŠ†SP</a> <a id="4713" href="Varieties.Preservation.html#4512" class="Bound">ğ’¦</a> <a id="4715" href="Varieties.Preservation.html#4526" class="Bound">sA</a><a id="4717" class="Symbol">))</a>

 <a id="4722" href="Varieties.Preservation.html#4722" class="Function">lAsp</a> <a id="4727" class="Symbol">:</a> <a id="4729" href="Varieties.Preservation.html#4573" class="Function">lA</a> <a id="4732" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="4734" href="Varieties.Closure.html#3772" class="Datatype">S</a><a id="4735" class="Symbol">(</a><a id="4736" href="Varieties.Closure.html#4356" class="Datatype">P</a> <a id="4738" href="Varieties.Preservation.html#4512" class="Bound">ğ’¦</a><a id="4739" class="Symbol">)</a>
 <a id="4742" href="Varieties.Preservation.html#4722" class="Function">lAsp</a> <a id="4747" class="Symbol">=</a> <a id="4749" href="Varieties.Closure.html#7474" class="Function">subalgebraâ†’S</a><a id="4761" class="Symbol">{</a><a id="4762" href="Varieties.Preservation.html#4506" class="Bound">Î±</a> <a id="4764" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4766" href="Varieties.Preservation.html#4509" class="Bound">Î²</a><a id="4767" class="Symbol">}{</a><a id="4769" href="Varieties.Preservation.html#4506" class="Bound">Î±</a> <a id="4771" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4773" href="Varieties.Preservation.html#4509" class="Bound">Î²</a><a id="4774" class="Symbol">}{</a><a id="4776" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="4777" class="Symbol">{</a><a id="4778" href="Varieties.Preservation.html#4506" class="Bound">Î±</a><a id="4779" class="Symbol">}{</a><a id="4781" href="Varieties.Preservation.html#4509" class="Bound">Î²</a><a id="4782" class="Symbol">}</a> <a id="4784" href="Varieties.Preservation.html#4512" class="Bound">ğ’¦</a><a id="4785" class="Symbol">}{</a><a id="4787" href="Varieties.Preservation.html#4573" class="Function">lA</a><a id="4789" class="Symbol">}</a> <a id="4791" href="Varieties.Preservation.html#4617" class="Function">lAsc</a>

 <a id="4798" href="Varieties.Preservation.html#4798" class="Function">lAâ‰…B</a> <a id="4803" class="Symbol">:</a> <a id="4805" href="Varieties.Preservation.html#4573" class="Function">lA</a> <a id="4808" href="Homomorphisms.Isomorphisms.html#2278" class="Record Operator">â‰…</a> <a id="4810" href="Varieties.Preservation.html#4515" class="Bound">ğ‘©</a>
 <a id="4813" href="Varieties.Preservation.html#4798" class="Function">lAâ‰…B</a> <a id="4818" class="Symbol">=</a> <a id="4820" href="Homomorphisms.Isomorphisms.html#2998" class="Function">â‰…-trans</a> <a id="4828" class="Symbol">(</a><a id="4829" href="Homomorphisms.Isomorphisms.html#2909" class="Function">â‰…-sym</a> <a id="4835" href="Homomorphisms.Isomorphisms.html#4353" class="Function">Lift-â‰…</a><a id="4841" class="Symbol">)</a> <a id="4843" href="Varieties.Preservation.html#4529" class="Bound">Aâ‰…B</a>

</pre>


We need to formalize one more lemma before arriving the main objective of this section, which is the proof of the inclusion PSâŠ†SP.

<pre class="Agda">

<a id="5007" class="Keyword">module</a> <a id="5014" href="Varieties.Preservation.html#5014" class="Module">_</a> <a id="5016" class="Symbol">{</a><a id="5017" href="Varieties.Preservation.html#5017" class="Bound">Î±</a> <a id="5019" href="Varieties.Preservation.html#5019" class="Bound">Î²</a> <a id="5021" class="Symbol">:</a> <a id="5023" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="5028" class="Symbol">}</a> <a id="5030" class="Symbol">{</a><a id="5031" href="Varieties.Preservation.html#5031" class="Bound">ğ’¦</a> <a id="5033" class="Symbol">:</a> <a id="5035" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="5039" class="Symbol">(</a><a id="5040" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="5048" href="Varieties.Preservation.html#5017" class="Bound">Î±</a> <a id="5050" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="5051" class="Symbol">)(</a><a id="5053" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="5056" href="Varieties.Preservation.html#5017" class="Bound">Î±</a><a id="5057" class="Symbol">)}</a> <a id="5060" class="Keyword">where</a>

 <a id="5068" href="Varieties.Preservation.html#5068" class="Function">lemPSâŠ†SP</a> <a id="5077" class="Symbol">:</a> <a id="5079" href="Foundations.Truncation.html#3966" class="Function">hfunext</a> <a id="5087" href="Varieties.Preservation.html#5019" class="Bound">Î²</a> <a id="5089" href="Varieties.Preservation.html#5017" class="Bound">Î±</a> <a id="5091" class="Symbol">â†’</a> <a id="5093" href="Varieties.Preservation.html#932" class="Function">funext</a> <a id="5100" href="Varieties.Preservation.html#5019" class="Bound">Î²</a> <a id="5102" href="Varieties.Preservation.html#5017" class="Bound">Î±</a> <a id="5104" class="Symbol">â†’</a> <a id="5106" class="Symbol">{</a><a id="5107" href="Varieties.Preservation.html#5107" class="Bound">I</a> <a id="5109" class="Symbol">:</a> <a id="5111" href="Varieties.Preservation.html#813" class="Primitive">Type</a> <a id="5116" href="Varieties.Preservation.html#5019" class="Bound">Î²</a><a id="5117" class="Symbol">}{</a><a id="5119" href="Varieties.Preservation.html#5119" class="Bound">â„¬</a> <a id="5121" class="Symbol">:</a> <a id="5123" href="Varieties.Preservation.html#5107" class="Bound">I</a> <a id="5125" class="Symbol">â†’</a> <a id="5127" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="5135" href="Varieties.Preservation.html#5017" class="Bound">Î±</a> <a id="5137" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="5138" class="Symbol">}</a>
  <a id="5142" class="Symbol">â†’</a>         <a id="5152" class="Symbol">(âˆ€</a> <a id="5155" href="Varieties.Preservation.html#5155" class="Bound">i</a> <a id="5157" class="Symbol">â†’</a> <a id="5159" class="Symbol">(</a><a id="5160" href="Varieties.Preservation.html#5119" class="Bound">â„¬</a> <a id="5162" href="Varieties.Preservation.html#5155" class="Bound">i</a><a id="5163" class="Symbol">)</a> <a id="5165" href="Subalgebras.Subalgebras.html#6132" class="Function Operator">IsSubalgebraOfClass</a> <a id="5185" href="Varieties.Preservation.html#5031" class="Bound">ğ’¦</a><a id="5186" class="Symbol">)</a>
  <a id="5190" class="Symbol">â†’</a>         <a id="5200" href="Algebras.Products.html#1786" class="Function">â¨…</a> <a id="5202" href="Varieties.Preservation.html#5119" class="Bound">â„¬</a> <a id="5204" href="Subalgebras.Subalgebras.html#6132" class="Function Operator">IsSubalgebraOfClass</a> <a id="5224" class="Symbol">(</a><a id="5225" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="5226" class="Symbol">{</a><a id="5227" href="Varieties.Preservation.html#5017" class="Bound">Î±</a><a id="5228" class="Symbol">}{</a><a id="5230" href="Varieties.Preservation.html#5019" class="Bound">Î²</a><a id="5231" class="Symbol">}</a> <a id="5233" href="Varieties.Preservation.html#5031" class="Bound">ğ’¦</a><a id="5234" class="Symbol">)</a>

 <a id="5238" href="Varieties.Preservation.html#5068" class="Function">lemPSâŠ†SP</a> <a id="5247" href="Varieties.Preservation.html#5247" class="Bound">hwu</a> <a id="5251" href="Varieties.Preservation.html#5251" class="Bound">fwu</a> <a id="5255" class="Symbol">{</a><a id="5256" href="Varieties.Preservation.html#5256" class="Bound">I</a><a id="5257" class="Symbol">}{</a><a id="5259" href="Varieties.Preservation.html#5259" class="Bound">â„¬</a><a id="5260" class="Symbol">}</a> <a id="5262" href="Varieties.Preservation.html#5262" class="Bound">Bâ‰¤K</a> <a id="5266" class="Symbol">=</a> <a id="5268" href="Algebras.Products.html#1786" class="Function">â¨…</a> <a id="5270" href="Varieties.Preservation.html#5339" class="Function">ğ’œ</a> <a id="5272" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5274" class="Symbol">(</a><a id="5275" href="Algebras.Products.html#1786" class="Function">â¨…</a> <a id="5277" href="Varieties.Preservation.html#5384" class="Function">SA</a> <a id="5280" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5282" href="Varieties.Preservation.html#5928" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a><a id="5288" class="Symbol">)</a> <a id="5290" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5292" href="Varieties.Preservation.html#5977" class="Function">Î¾</a> <a id="5294" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5296" class="Symbol">(</a><a id="5297" href="Homomorphisms.Isomorphisms.html#5675" class="Function">â¨…â‰…</a> <a id="5300" class="Symbol">{</a><a id="5301" class="Argument">fiu</a> <a id="5305" class="Symbol">=</a> <a id="5307" href="Varieties.Preservation.html#5251" class="Bound">fwu</a><a id="5310" class="Symbol">}{</a><a id="5312" class="Argument">fiw</a> <a id="5316" class="Symbol">=</a> <a id="5318" href="Varieties.Preservation.html#5251" class="Bound">fwu</a><a id="5321" class="Symbol">}</a> <a id="5323" href="Varieties.Preservation.html#5439" class="Function">Bâ‰…SA</a><a id="5327" class="Symbol">)</a>
  <a id="5331" class="Keyword">where</a>
  <a id="5339" href="Varieties.Preservation.html#5339" class="Function">ğ’œ</a> <a id="5341" class="Symbol">:</a> <a id="5343" href="Varieties.Preservation.html#5256" class="Bound">I</a> <a id="5345" class="Symbol">â†’</a> <a id="5347" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="5355" href="Varieties.Preservation.html#5017" class="Bound">Î±</a> <a id="5357" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a>
  <a id="5361" href="Varieties.Preservation.html#5339" class="Function">ğ’œ</a> <a id="5363" class="Symbol">=</a> <a id="5365" class="Symbol">Î»</a> <a id="5367" href="Varieties.Preservation.html#5367" class="Bound">i</a> <a id="5369" class="Symbol">â†’</a> <a id="5371" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="5373" href="Varieties.Preservation.html#5262" class="Bound">Bâ‰¤K</a> <a id="5377" href="Varieties.Preservation.html#5367" class="Bound">i</a> <a id="5379" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a>

  <a id="5384" href="Varieties.Preservation.html#5384" class="Function">SA</a> <a id="5387" class="Symbol">:</a> <a id="5389" href="Varieties.Preservation.html#5256" class="Bound">I</a> <a id="5391" class="Symbol">â†’</a> <a id="5393" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="5401" href="Varieties.Preservation.html#5017" class="Bound">Î±</a> <a id="5403" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a>
  <a id="5407" href="Varieties.Preservation.html#5384" class="Function">SA</a> <a id="5410" class="Symbol">=</a> <a id="5412" class="Symbol">Î»</a> <a id="5414" href="Varieties.Preservation.html#5414" class="Bound">i</a> <a id="5416" class="Symbol">â†’</a> <a id="5418" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="5420" href="Varieties.Preservation.html#1019" class="Field">fst</a> <a id="5424" href="Overture.Preliminaries.html#4265" class="Function Operator">âˆ¥</a> <a id="5426" href="Varieties.Preservation.html#5262" class="Bound">Bâ‰¤K</a> <a id="5430" href="Varieties.Preservation.html#5414" class="Bound">i</a> <a id="5432" href="Overture.Preliminaries.html#4265" class="Function Operator">âˆ¥</a> <a id="5434" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a>

  <a id="5439" href="Varieties.Preservation.html#5439" class="Function">Bâ‰…SA</a> <a id="5444" class="Symbol">:</a> <a id="5446" class="Symbol">âˆ€</a> <a id="5448" href="Varieties.Preservation.html#5448" class="Bound">i</a> <a id="5450" class="Symbol">â†’</a> <a id="5452" href="Varieties.Preservation.html#5259" class="Bound">â„¬</a> <a id="5454" href="Varieties.Preservation.html#5448" class="Bound">i</a> <a id="5456" href="Homomorphisms.Isomorphisms.html#2278" class="Record Operator">â‰…</a> <a id="5458" href="Varieties.Preservation.html#5384" class="Function">SA</a> <a id="5461" href="Varieties.Preservation.html#5448" class="Bound">i</a>
  <a id="5465" href="Varieties.Preservation.html#5439" class="Function">Bâ‰…SA</a> <a id="5470" class="Symbol">=</a> <a id="5472" class="Symbol">Î»</a> <a id="5474" href="Varieties.Preservation.html#5474" class="Bound">i</a> <a id="5476" class="Symbol">â†’</a> <a id="5478" href="Overture.Preliminaries.html#4265" class="Function Operator">âˆ¥</a> <a id="5480" href="Varieties.Preservation.html#1034" class="Field">snd</a> <a id="5484" href="Overture.Preliminaries.html#4265" class="Function Operator">âˆ¥</a> <a id="5486" href="Varieties.Preservation.html#5262" class="Bound">Bâ‰¤K</a> <a id="5490" href="Varieties.Preservation.html#5474" class="Bound">i</a> <a id="5492" href="Overture.Preliminaries.html#4265" class="Function Operator">âˆ¥</a> <a id="5494" href="Overture.Preliminaries.html#4265" class="Function Operator">âˆ¥</a>

  <a id="5499" href="Varieties.Preservation.html#5499" class="Function">SAâ‰¤ğ’œ</a> <a id="5504" class="Symbol">:</a> <a id="5506" class="Symbol">âˆ€</a> <a id="5508" href="Varieties.Preservation.html#5508" class="Bound">i</a> <a id="5510" class="Symbol">â†’</a> <a id="5512" class="Symbol">(</a><a id="5513" href="Varieties.Preservation.html#5384" class="Function">SA</a> <a id="5516" href="Varieties.Preservation.html#5508" class="Bound">i</a><a id="5517" class="Symbol">)</a> <a id="5519" href="Subalgebras.Subalgebras.html#2645" class="Function Operator">IsSubalgebraOf</a> <a id="5534" class="Symbol">(</a><a id="5535" href="Varieties.Preservation.html#5339" class="Function">ğ’œ</a> <a id="5537" href="Varieties.Preservation.html#5508" class="Bound">i</a><a id="5538" class="Symbol">)</a>
  <a id="5542" href="Varieties.Preservation.html#5499" class="Function">SAâ‰¤ğ’œ</a> <a id="5547" class="Symbol">=</a> <a id="5549" class="Symbol">Î»</a> <a id="5551" href="Varieties.Preservation.html#5551" class="Bound">i</a> <a id="5553" class="Symbol">â†’</a> <a id="5555" href="Varieties.Preservation.html#1034" class="Field">snd</a> <a id="5559" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="5561" href="Overture.Preliminaries.html#4265" class="Function Operator">âˆ¥</a> <a id="5563" href="Varieties.Preservation.html#5262" class="Bound">Bâ‰¤K</a> <a id="5567" href="Varieties.Preservation.html#5551" class="Bound">i</a> <a id="5569" href="Overture.Preliminaries.html#4265" class="Function Operator">âˆ¥</a> <a id="5571" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a>

  <a id="5576" href="Varieties.Preservation.html#5576" class="Function">h</a> <a id="5578" class="Symbol">:</a> <a id="5580" class="Symbol">âˆ€</a> <a id="5582" href="Varieties.Preservation.html#5582" class="Bound">i</a> <a id="5584" class="Symbol">â†’</a> <a id="5586" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="5588" href="Varieties.Preservation.html#5384" class="Function">SA</a> <a id="5591" href="Varieties.Preservation.html#5582" class="Bound">i</a> <a id="5593" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="5595" class="Symbol">â†’</a> <a id="5597" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="5599" href="Varieties.Preservation.html#5339" class="Function">ğ’œ</a> <a id="5601" href="Varieties.Preservation.html#5582" class="Bound">i</a> <a id="5603" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a>
  <a id="5607" href="Varieties.Preservation.html#5576" class="Function">h</a> <a id="5609" class="Symbol">=</a> <a id="5611" class="Symbol">Î»</a> <a id="5613" href="Varieties.Preservation.html#5613" class="Bound">i</a> <a id="5615" class="Symbol">â†’</a> <a id="5617" href="Varieties.Preservation.html#1019" class="Field">fst</a> <a id="5621" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="5623" href="Varieties.Preservation.html#5499" class="Function">SAâ‰¤ğ’œ</a> <a id="5628" href="Varieties.Preservation.html#5613" class="Bound">i</a> <a id="5630" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a>

  <a id="5635" href="Varieties.Preservation.html#5635" class="Function">hinj</a> <a id="5640" class="Symbol">:</a> <a id="5642" class="Symbol">âˆ€</a> <a id="5644" href="Varieties.Preservation.html#5644" class="Bound">i</a> <a id="5646" class="Symbol">â†’</a> <a id="5648" href="Overture.Inverses.html#2442" class="Function">IsInjective</a> <a id="5660" class="Symbol">(</a><a id="5661" href="Varieties.Preservation.html#5576" class="Function">h</a> <a id="5663" href="Varieties.Preservation.html#5644" class="Bound">i</a><a id="5664" class="Symbol">)</a>
  <a id="5668" href="Varieties.Preservation.html#5635" class="Function">hinj</a> <a id="5673" class="Symbol">=</a> <a id="5675" class="Symbol">Î»</a> <a id="5677" href="Varieties.Preservation.html#5677" class="Bound">i</a> <a id="5679" class="Symbol">â†’</a> <a id="5681" href="Varieties.Preservation.html#1034" class="Field">snd</a> <a id="5685" class="Symbol">(</a><a id="5686" href="Varieties.Preservation.html#1034" class="Field">snd</a> <a id="5690" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="5692" href="Overture.Preliminaries.html#4265" class="Function Operator">âˆ¥</a> <a id="5694" href="Varieties.Preservation.html#5262" class="Bound">Bâ‰¤K</a> <a id="5698" href="Varieties.Preservation.html#5677" class="Bound">i</a> <a id="5700" href="Overture.Preliminaries.html#4265" class="Function Operator">âˆ¥</a> <a id="5702" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a><a id="5703" class="Symbol">)</a>

  <a id="5708" href="Varieties.Preservation.html#5708" class="Function">Ïƒ</a> <a id="5710" class="Symbol">:</a> <a id="5712" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="5714" href="Algebras.Products.html#1786" class="Function">â¨…</a> <a id="5716" href="Varieties.Preservation.html#5384" class="Function">SA</a> <a id="5719" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="5721" class="Symbol">â†’</a> <a id="5723" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="5725" href="Algebras.Products.html#1786" class="Function">â¨…</a> <a id="5727" href="Varieties.Preservation.html#5339" class="Function">ğ’œ</a> <a id="5729" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a>
  <a id="5733" href="Varieties.Preservation.html#5708" class="Function">Ïƒ</a> <a id="5735" class="Symbol">=</a> <a id="5737" class="Symbol">Î»</a> <a id="5739" href="Varieties.Preservation.html#5739" class="Bound">x</a> <a id="5741" href="Varieties.Preservation.html#5741" class="Bound">i</a> <a id="5743" class="Symbol">â†’</a> <a id="5745" class="Symbol">(</a><a id="5746" href="Varieties.Preservation.html#5576" class="Function">h</a> <a id="5748" href="Varieties.Preservation.html#5741" class="Bound">i</a><a id="5749" class="Symbol">)</a> <a id="5751" class="Symbol">(</a><a id="5752" href="Varieties.Preservation.html#5739" class="Bound">x</a> <a id="5754" href="Varieties.Preservation.html#5741" class="Bound">i</a><a id="5755" class="Symbol">)</a>
  <a id="5759" href="Varieties.Preservation.html#5759" class="Function">Î½</a> <a id="5761" class="Symbol">:</a> <a id="5763" href="Homomorphisms.Basic.html#2987" class="Function">is-homomorphism</a> <a id="5779" class="Symbol">(</a><a id="5780" href="Algebras.Products.html#1786" class="Function">â¨…</a> <a id="5782" href="Varieties.Preservation.html#5384" class="Function">SA</a><a id="5784" class="Symbol">)</a> <a id="5786" class="Symbol">(</a><a id="5787" href="Algebras.Products.html#1786" class="Function">â¨…</a> <a id="5789" href="Varieties.Preservation.html#5339" class="Function">ğ’œ</a><a id="5790" class="Symbol">)</a> <a id="5792" href="Varieties.Preservation.html#5708" class="Function">Ïƒ</a>
  <a id="5796" href="Varieties.Preservation.html#5759" class="Function">Î½</a> <a id="5798" class="Symbol">=</a> <a id="5800" class="Symbol">Î»</a> <a id="5802" href="Varieties.Preservation.html#5802" class="Bound">ğ‘“</a> <a id="5804" href="Varieties.Preservation.html#5804" class="Bound">ğ’‚</a> <a id="5806" class="Symbol">â†’</a> <a id="5808" href="Varieties.Preservation.html#5251" class="Bound">fwu</a> <a id="5812" class="Symbol">Î»</a> <a id="5814" href="Varieties.Preservation.html#5814" class="Bound">i</a> <a id="5816" class="Symbol">â†’</a> <a id="5818" class="Symbol">(</a><a id="5819" href="Varieties.Preservation.html#1034" class="Field">snd</a> <a id="5823" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="5825" href="Varieties.Preservation.html#5499" class="Function">SAâ‰¤ğ’œ</a> <a id="5830" href="Varieties.Preservation.html#5814" class="Bound">i</a> <a id="5832" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a><a id="5833" class="Symbol">)</a> <a id="5835" href="Varieties.Preservation.html#5802" class="Bound">ğ‘“</a> <a id="5837" class="Symbol">(Î»</a> <a id="5840" href="Varieties.Preservation.html#5840" class="Bound">x</a> <a id="5842" class="Symbol">â†’</a> <a id="5844" href="Varieties.Preservation.html#5804" class="Bound">ğ’‚</a> <a id="5846" href="Varieties.Preservation.html#5840" class="Bound">x</a> <a id="5848" href="Varieties.Preservation.html#5814" class="Bound">i</a><a id="5849" class="Symbol">)</a>

  <a id="5854" href="Varieties.Preservation.html#5854" class="Function">Ïƒinj</a> <a id="5859" class="Symbol">:</a> <a id="5861" href="Overture.Inverses.html#2442" class="Function">IsInjective</a> <a id="5873" href="Varieties.Preservation.html#5708" class="Function">Ïƒ</a>
  <a id="5877" href="Varieties.Preservation.html#5854" class="Function">Ïƒinj</a> <a id="5882" href="Varieties.Preservation.html#5882" class="Bound">ÏƒxÏƒy</a> <a id="5887" class="Symbol">=</a> <a id="5889" href="Varieties.Preservation.html#5251" class="Bound">fwu</a> <a id="5893" class="Symbol">Î»</a> <a id="5895" href="Varieties.Preservation.html#5895" class="Bound">i</a> <a id="5897" class="Symbol">â†’</a> <a id="5899" class="Symbol">(</a><a id="5900" href="Varieties.Preservation.html#5635" class="Function">hinj</a> <a id="5905" href="Varieties.Preservation.html#5895" class="Bound">i</a><a id="5906" class="Symbol">)(</a><a id="5908" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="5917" href="Varieties.Preservation.html#5882" class="Bound">ÏƒxÏƒy</a> <a id="5922" href="Varieties.Preservation.html#5895" class="Bound">i</a><a id="5923" class="Symbol">)</a>

  <a id="5928" href="Varieties.Preservation.html#5928" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a> <a id="5935" class="Symbol">:</a> <a id="5937" href="Algebras.Products.html#1786" class="Function">â¨…</a> <a id="5939" href="Varieties.Preservation.html#5384" class="Function">SA</a> <a id="5942" href="Subalgebras.Subalgebras.html#2603" class="Function Operator">â‰¤</a> <a id="5944" href="Algebras.Products.html#1786" class="Function">â¨…</a> <a id="5946" href="Varieties.Preservation.html#5339" class="Function">ğ’œ</a>
  <a id="5950" href="Varieties.Preservation.html#5928" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a> <a id="5957" class="Symbol">=</a> <a id="5959" class="Symbol">(</a><a id="5960" href="Varieties.Preservation.html#5708" class="Function">Ïƒ</a> <a id="5962" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5964" href="Varieties.Preservation.html#5759" class="Function">Î½</a><a id="5965" class="Symbol">)</a> <a id="5967" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5969" href="Varieties.Preservation.html#5854" class="Function">Ïƒinj</a>

  <a id="5977" href="Varieties.Preservation.html#5977" class="Function">Î¾</a> <a id="5979" class="Symbol">:</a> <a id="5981" href="Algebras.Products.html#1786" class="Function">â¨…</a> <a id="5983" href="Varieties.Preservation.html#5339" class="Function">ğ’œ</a> <a id="5985" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="5987" href="Varieties.Closure.html#4356" class="Datatype">P</a> <a id="5989" href="Varieties.Preservation.html#5031" class="Bound">ğ’¦</a>
  <a id="5993" href="Varieties.Preservation.html#5977" class="Function">Î¾</a> <a id="5995" class="Symbol">=</a> <a id="5997" href="Varieties.Closure.html#4643" class="InductiveConstructor">produ</a> <a id="6003" class="Symbol">(Î»</a> <a id="6006" href="Varieties.Preservation.html#6006" class="Bound">i</a> <a id="6008" class="Symbol">â†’</a> <a id="6010" href="Varieties.Closure.html#9501" class="Function">P-expa</a> <a id="6017" class="Symbol">(</a><a id="6018" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="6020" href="Varieties.Preservation.html#1034" class="Field">snd</a> <a id="6024" href="Overture.Preliminaries.html#4265" class="Function Operator">âˆ¥</a> <a id="6026" href="Varieties.Preservation.html#5262" class="Bound">Bâ‰¤K</a> <a id="6030" href="Varieties.Preservation.html#6006" class="Bound">i</a> <a id="6032" href="Overture.Preliminaries.html#4265" class="Function Operator">âˆ¥</a> <a id="6034" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a><a id="6035" class="Symbol">))</a>


</pre>



#### <a id="PS-in-SP">PS(ğ’¦) âŠ† SP(ğ’¦)</a>

Finally, we are in a position to prove that a product of subalgebras of algebras in a class ğ’¦ is a subalgebra of a product of algebras in ğ’¦.

<pre class="Agda">

<a id="6251" class="Keyword">module</a> <a id="6258" href="Varieties.Preservation.html#6258" class="Module">_</a> <a id="6260" class="Symbol">{</a><a id="6261" href="Varieties.Preservation.html#6261" class="Bound">Î±</a> <a id="6263" class="Symbol">:</a> <a id="6265" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="6270" class="Symbol">}</a> <a id="6272" class="Symbol">{</a><a id="6273" href="Varieties.Preservation.html#6273" class="Bound">fovu</a> <a id="6278" class="Symbol">:</a> <a id="6280" href="Varieties.Preservation.html#932" class="Function">funext</a> <a id="6287" class="Symbol">(</a><a id="6288" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="6291" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6292" class="Symbol">)</a> <a id="6294" class="Symbol">(</a><a id="6295" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="6298" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6299" class="Symbol">)}{</a><a id="6302" href="Varieties.Preservation.html#6302" class="Bound">ğ’¦</a> <a id="6304" class="Symbol">:</a> <a id="6306" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="6311" class="Symbol">(</a><a id="6312" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="6320" href="Varieties.Preservation.html#6261" class="Bound">Î±</a> <a id="6322" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="6323" class="Symbol">)(</a><a id="6325" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="6328" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6329" class="Symbol">)}</a> <a id="6332" class="Keyword">where</a>

 <a id="6340" href="Varieties.Preservation.html#6340" class="Function">PSâŠ†SP</a> <a id="6346" class="Symbol">:</a> <a id="6348" class="Comment">-- extensionality assumptions:</a>
            <a id="6391" href="Foundations.Truncation.html#3966" class="Function">hfunext</a> <a id="6399" class="Symbol">(</a><a id="6400" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="6403" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6404" class="Symbol">)(</a><a id="6406" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="6409" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6410" class="Symbol">)</a>

  <a id="6415" class="Symbol">â†’</a>      <a id="6422" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="6423" class="Symbol">{</a><a id="6424" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="6427" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6428" class="Symbol">}{</a><a id="6430" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="6433" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6434" class="Symbol">}</a> <a id="6436" class="Symbol">(</a><a id="6437" href="Varieties.Closure.html#3772" class="Datatype">S</a><a id="6438" class="Symbol">{</a><a id="6439" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6440" class="Symbol">}{</a><a id="6442" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="6445" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6446" class="Symbol">}</a> <a id="6448" href="Varieties.Preservation.html#6302" class="Bound">ğ’¦</a><a id="6449" class="Symbol">)</a> <a id="6451" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="6453" href="Varieties.Closure.html#3772" class="Datatype">S</a><a id="6454" class="Symbol">{</a><a id="6455" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="6458" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6459" class="Symbol">}{</a><a id="6461" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="6464" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6465" class="Symbol">}</a> <a id="6467" class="Symbol">(</a><a id="6468" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="6469" class="Symbol">{</a><a id="6470" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6471" class="Symbol">}{</a><a id="6473" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="6476" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6477" class="Symbol">}</a> <a id="6479" href="Varieties.Preservation.html#6302" class="Bound">ğ’¦</a><a id="6480" class="Symbol">)</a>

 <a id="6484" href="Varieties.Preservation.html#6340" class="Function">PSâŠ†SP</a> <a id="6490" class="Symbol">_</a> <a id="6492" class="Symbol">(</a><a id="6493" href="Varieties.Closure.html#4444" class="InductiveConstructor">pbase</a> <a id="6499" class="Symbol">(</a><a id="6500" href="Varieties.Closure.html#3860" class="InductiveConstructor">sbase</a> <a id="6506" href="Varieties.Preservation.html#6506" class="Bound">x</a><a id="6507" class="Symbol">))</a> <a id="6510" class="Symbol">=</a> <a id="6512" href="Varieties.Closure.html#3860" class="InductiveConstructor">sbase</a> <a id="6518" class="Symbol">(</a><a id="6519" href="Varieties.Closure.html#4444" class="InductiveConstructor">pbase</a> <a id="6525" href="Varieties.Preservation.html#6506" class="Bound">x</a><a id="6526" class="Symbol">)</a>
 <a id="6529" href="Varieties.Preservation.html#6340" class="Function">PSâŠ†SP</a> <a id="6535" class="Symbol">_</a> <a id="6537" class="Symbol">(</a><a id="6538" href="Varieties.Closure.html#4444" class="InductiveConstructor">pbase</a> <a id="6544" class="Symbol">(</a><a id="6545" href="Varieties.Closure.html#3916" class="InductiveConstructor">slift</a><a id="6550" class="Symbol">{</a><a id="6551" href="Varieties.Preservation.html#6551" class="Bound">ğ‘¨</a><a id="6552" class="Symbol">}</a> <a id="6554" href="Varieties.Preservation.html#6554" class="Bound">x</a><a id="6555" class="Symbol">))</a> <a id="6558" class="Symbol">=</a> <a id="6560" href="Varieties.Closure.html#3916" class="InductiveConstructor">slift</a> <a id="6566" class="Symbol">(</a><a id="6567" href="Varieties.Preservation.html#3603" class="Function">SâŠ†SP</a><a id="6571" class="Symbol">{</a><a id="6572" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6573" class="Symbol">}{</a><a id="6575" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="6578" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6579" class="Symbol">}</a> <a id="6581" href="Varieties.Preservation.html#6302" class="Bound">ğ’¦</a> <a id="6583" class="Symbol">(</a><a id="6584" href="Varieties.Closure.html#3916" class="InductiveConstructor">slift</a> <a id="6590" href="Varieties.Preservation.html#6554" class="Bound">x</a><a id="6591" class="Symbol">))</a>
 <a id="6595" href="Varieties.Preservation.html#6340" class="Function">PSâŠ†SP</a> <a id="6601" class="Symbol">_</a> <a id="6603" class="Symbol">(</a><a id="6604" href="Varieties.Closure.html#4444" class="InductiveConstructor">pbase</a><a id="6609" class="Symbol">{</a><a id="6610" href="Varieties.Preservation.html#6610" class="Bound">ğ‘©</a><a id="6611" class="Symbol">}(</a><a id="6613" href="Varieties.Closure.html#3980" class="InductiveConstructor">ssub</a><a id="6617" class="Symbol">{</a><a id="6618" href="Varieties.Preservation.html#6618" class="Bound">ğ‘¨</a><a id="6619" class="Symbol">}</a> <a id="6621" href="Varieties.Preservation.html#6621" class="Bound">sA</a> <a id="6624" href="Varieties.Preservation.html#6624" class="Bound">Bâ‰¤A</a><a id="6627" class="Symbol">))</a> <a id="6630" class="Symbol">=</a> <a id="6632" href="Varieties.Closure.html#4058" class="InductiveConstructor">siso</a><a id="6636" class="Symbol">(</a><a id="6637" href="Varieties.Closure.html#3980" class="InductiveConstructor">ssub</a><a id="6641" class="Symbol">(</a><a id="6642" href="Varieties.Preservation.html#3603" class="Function">SâŠ†SP</a> <a id="6647" href="Varieties.Preservation.html#6302" class="Bound">ğ’¦</a> <a id="6649" class="Symbol">(</a><a id="6650" href="Varieties.Closure.html#3916" class="InductiveConstructor">slift</a> <a id="6656" href="Varieties.Preservation.html#6621" class="Bound">sA</a><a id="6658" class="Symbol">))(</a><a id="6661" href="Subalgebras.Properties.html#6056" class="Function">Lift-â‰¤-Lift</a> <a id="6673" class="Symbol">(</a><a id="6674" href="Algebras.Products.html#2982" class="Function">ov</a><a id="6676" class="Symbol">(</a><a id="6677" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6678" class="Symbol">)){</a><a id="6681" href="Varieties.Preservation.html#6618" class="Bound">ğ‘¨</a><a id="6682" class="Symbol">}(</a><a id="6684" href="Algebras.Products.html#2982" class="Function">ov</a><a id="6686" class="Symbol">(</a><a id="6687" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6688" class="Symbol">))</a><a id="6690" href="Varieties.Preservation.html#6624" class="Bound">Bâ‰¤A</a><a id="6693" class="Symbol">))</a> <a id="6696" href="Homomorphisms.Isomorphisms.html#2819" class="Function">â‰…-refl</a>
 <a id="6704" href="Varieties.Preservation.html#6340" class="Function">PSâŠ†SP</a> <a id="6710" class="Symbol">_</a> <a id="6712" class="Symbol">(</a><a id="6713" href="Varieties.Closure.html#4444" class="InductiveConstructor">pbase</a> <a id="6719" class="Symbol">(</a><a id="6720" href="Varieties.Closure.html#4058" class="InductiveConstructor">siso</a><a id="6724" class="Symbol">{</a><a id="6725" href="Varieties.Preservation.html#6725" class="Bound">ğ‘¨</a><a id="6726" class="Symbol">}{</a><a id="6728" href="Varieties.Preservation.html#6728" class="Bound">ğ‘©</a><a id="6729" class="Symbol">}</a> <a id="6731" href="Varieties.Preservation.html#6731" class="Bound">x</a> <a id="6733" href="Varieties.Preservation.html#6733" class="Bound">Aâ‰…B</a><a id="6736" class="Symbol">))</a> <a id="6739" class="Symbol">=</a> <a id="6741" href="Varieties.Closure.html#4058" class="InductiveConstructor">siso</a> <a id="6746" class="Symbol">(</a><a id="6747" href="Varieties.Preservation.html#3603" class="Function">SâŠ†SP</a> <a id="6752" href="Varieties.Preservation.html#6302" class="Bound">ğ’¦</a> <a id="6754" class="Symbol">(</a><a id="6755" href="Varieties.Closure.html#3916" class="InductiveConstructor">slift</a> <a id="6761" href="Varieties.Preservation.html#6731" class="Bound">x</a><a id="6762" class="Symbol">))</a> <a id="6765" class="Symbol">(</a> <a id="6767" href="Homomorphisms.Isomorphisms.html#4672" class="Function">Lift-Alg-iso</a> <a id="6780" href="Varieties.Preservation.html#6733" class="Bound">Aâ‰…B</a> <a id="6784" class="Symbol">)</a>
 <a id="6787" href="Varieties.Preservation.html#6340" class="Function">PSâŠ†SP</a> <a id="6793" href="Varieties.Preservation.html#6793" class="Bound">hfe</a> <a id="6797" class="Symbol">(</a><a id="6798" href="Varieties.Closure.html#4501" class="InductiveConstructor">pliftu</a> <a id="6805" href="Varieties.Preservation.html#6805" class="Bound">x</a><a id="6806" class="Symbol">)</a> <a id="6808" class="Symbol">=</a> <a id="6810" href="Varieties.Closure.html#3916" class="InductiveConstructor">slift</a> <a id="6816" class="Symbol">(</a><a id="6817" href="Varieties.Preservation.html#6340" class="Function">PSâŠ†SP</a> <a id="6823" href="Varieties.Preservation.html#6793" class="Bound">hfe</a> <a id="6827" href="Varieties.Preservation.html#6805" class="Bound">x</a><a id="6828" class="Symbol">)</a>
 <a id="6831" href="Varieties.Preservation.html#6340" class="Function">PSâŠ†SP</a> <a id="6837" href="Varieties.Preservation.html#6837" class="Bound">hfe</a> <a id="6841" class="Symbol">(</a><a id="6842" href="Varieties.Closure.html#4566" class="InductiveConstructor">pliftw</a> <a id="6849" href="Varieties.Preservation.html#6849" class="Bound">x</a><a id="6850" class="Symbol">)</a> <a id="6852" class="Symbol">=</a> <a id="6854" href="Varieties.Closure.html#3916" class="InductiveConstructor">slift</a> <a id="6860" class="Symbol">(</a><a id="6861" href="Varieties.Preservation.html#6340" class="Function">PSâŠ†SP</a> <a id="6867" href="Varieties.Preservation.html#6837" class="Bound">hfe</a> <a id="6871" href="Varieties.Preservation.html#6849" class="Bound">x</a><a id="6872" class="Symbol">)</a>

 <a id="6876" href="Varieties.Preservation.html#6340" class="Function">PSâŠ†SP</a> <a id="6882" href="Varieties.Preservation.html#6882" class="Bound">hfe</a> <a id="6886" class="Symbol">(</a><a id="6887" href="Varieties.Closure.html#4643" class="InductiveConstructor">produ</a><a id="6892" class="Symbol">{</a><a id="6893" href="Varieties.Preservation.html#6893" class="Bound">I</a><a id="6894" class="Symbol">}{</a><a id="6896" href="Varieties.Preservation.html#6896" class="Bound">ğ’œ</a><a id="6897" class="Symbol">}</a> <a id="6899" href="Varieties.Preservation.html#6899" class="Bound">x</a><a id="6900" class="Symbol">)</a> <a id="6902" class="Symbol">=</a> <a id="6904" class="Symbol">(</a><a id="6905" href="Varieties.Closure.html#6895" class="Function">S-mono</a> <a id="6912" class="Symbol">(</a><a id="6913" href="Varieties.Closure.html#9664" class="Function">P-idemp</a><a id="6920" class="Symbol">))</a> <a id="6923" class="Symbol">(</a><a id="6924" href="Varieties.Closure.html#7474" class="Function">subalgebraâ†’S</a> <a id="6937" href="Varieties.Preservation.html#7050" class="Function">Î·</a><a id="6938" class="Symbol">)</a>
  <a id="6942" class="Keyword">where</a>
   <a id="6951" href="Varieties.Preservation.html#6951" class="Function">Î¾</a> <a id="6953" class="Symbol">:</a> <a id="6955" class="Symbol">(</a><a id="6956" href="Varieties.Preservation.html#6956" class="Bound">i</a> <a id="6958" class="Symbol">:</a> <a id="6960" href="Varieties.Preservation.html#6893" class="Bound">I</a><a id="6961" class="Symbol">)</a> <a id="6963" class="Symbol">â†’</a> <a id="6965" class="Symbol">(</a><a id="6966" href="Varieties.Preservation.html#6896" class="Bound">ğ’œ</a> <a id="6968" href="Varieties.Preservation.html#6956" class="Bound">i</a><a id="6969" class="Symbol">)</a> <a id="6971" href="Subalgebras.Subalgebras.html#6132" class="Function Operator">IsSubalgebraOfClass</a> <a id="6991" class="Symbol">(</a><a id="6992" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="6993" class="Symbol">{</a><a id="6994" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="6995" class="Symbol">}{</a><a id="6997" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="7000" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="7001" class="Symbol">}</a> <a id="7003" href="Varieties.Preservation.html#6302" class="Bound">ğ’¦</a><a id="7004" class="Symbol">)</a>
   <a id="7009" href="Varieties.Preservation.html#6951" class="Function">Î¾</a> <a id="7011" href="Varieties.Preservation.html#7011" class="Bound">i</a> <a id="7013" class="Symbol">=</a> <a id="7015" href="Varieties.Closure.html#7846" class="Function">Sâ†’subalgebra</a> <a id="7028" class="Symbol">(</a><a id="7029" href="Varieties.Preservation.html#6340" class="Function">PSâŠ†SP</a> <a id="7035" href="Varieties.Preservation.html#6882" class="Bound">hfe</a> <a id="7039" class="Symbol">(</a><a id="7040" href="Varieties.Preservation.html#6899" class="Bound">x</a> <a id="7042" href="Varieties.Preservation.html#7011" class="Bound">i</a><a id="7043" class="Symbol">))</a>

   <a id="7050" href="Varieties.Preservation.html#7050" class="Function">Î·</a> <a id="7052" class="Symbol">:</a> <a id="7054" href="Algebras.Products.html#1786" class="Function">â¨…</a> <a id="7056" href="Varieties.Preservation.html#6896" class="Bound">ğ’œ</a> <a id="7058" href="Subalgebras.Subalgebras.html#6132" class="Function Operator">IsSubalgebraOfClass</a> <a id="7078" class="Symbol">(</a><a id="7079" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="7080" class="Symbol">{</a><a id="7081" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="7084" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="7085" class="Symbol">}{</a><a id="7087" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="7090" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="7091" class="Symbol">}</a> <a id="7093" class="Symbol">(</a><a id="7094" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="7095" class="Symbol">{</a><a id="7096" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="7097" class="Symbol">}{</a><a id="7099" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="7102" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="7103" class="Symbol">}</a> <a id="7105" href="Varieties.Preservation.html#6302" class="Bound">ğ’¦</a><a id="7106" class="Symbol">))</a>
   <a id="7112" href="Varieties.Preservation.html#7050" class="Function">Î·</a> <a id="7114" class="Symbol">=</a> <a id="7116" href="Varieties.Preservation.html#5068" class="Function">lemPSâŠ†SP</a> <a id="7125" href="Varieties.Preservation.html#6882" class="Bound">hfe</a> <a id="7129" href="Varieties.Preservation.html#6273" class="Bound">fovu</a> <a id="7134" class="Symbol">{</a><a id="7135" href="Varieties.Preservation.html#6893" class="Bound">I</a><a id="7136" class="Symbol">}</a> <a id="7138" class="Symbol">{</a><a id="7139" href="Varieties.Preservation.html#6896" class="Bound">ğ’œ</a><a id="7140" class="Symbol">}</a> <a id="7142" href="Varieties.Preservation.html#6951" class="Function">Î¾</a>

 <a id="7146" href="Varieties.Preservation.html#6340" class="Function">PSâŠ†SP</a> <a id="7152" href="Varieties.Preservation.html#7152" class="Bound">hfe</a> <a id="7156" class="Symbol">(</a><a id="7157" href="Varieties.Closure.html#4728" class="InductiveConstructor">prodw</a><a id="7162" class="Symbol">{</a><a id="7163" href="Varieties.Preservation.html#7163" class="Bound">I</a><a id="7164" class="Symbol">}{</a><a id="7166" href="Varieties.Preservation.html#7166" class="Bound">ğ’œ</a><a id="7167" class="Symbol">}</a> <a id="7169" href="Varieties.Preservation.html#7169" class="Bound">x</a><a id="7170" class="Symbol">)</a> <a id="7172" class="Symbol">=</a> <a id="7174" class="Symbol">(</a><a id="7175" href="Varieties.Closure.html#6895" class="Function">S-mono</a> <a id="7182" class="Symbol">(</a><a id="7183" href="Varieties.Closure.html#9664" class="Function">P-idemp</a><a id="7190" class="Symbol">))</a> <a id="7193" class="Symbol">(</a><a id="7194" href="Varieties.Closure.html#7474" class="Function">subalgebraâ†’S</a> <a id="7207" href="Varieties.Preservation.html#7320" class="Function">Î·</a><a id="7208" class="Symbol">)</a>
  <a id="7212" class="Keyword">where</a>
   <a id="7221" href="Varieties.Preservation.html#7221" class="Function">Î¾</a> <a id="7223" class="Symbol">:</a> <a id="7225" class="Symbol">(</a><a id="7226" href="Varieties.Preservation.html#7226" class="Bound">i</a> <a id="7228" class="Symbol">:</a> <a id="7230" href="Varieties.Preservation.html#7163" class="Bound">I</a><a id="7231" class="Symbol">)</a> <a id="7233" class="Symbol">â†’</a> <a id="7235" class="Symbol">(</a><a id="7236" href="Varieties.Preservation.html#7166" class="Bound">ğ’œ</a> <a id="7238" href="Varieties.Preservation.html#7226" class="Bound">i</a><a id="7239" class="Symbol">)</a> <a id="7241" href="Subalgebras.Subalgebras.html#6132" class="Function Operator">IsSubalgebraOfClass</a> <a id="7261" class="Symbol">(</a><a id="7262" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="7263" class="Symbol">{</a><a id="7264" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="7265" class="Symbol">}{</a><a id="7267" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="7270" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="7271" class="Symbol">}</a> <a id="7273" href="Varieties.Preservation.html#6302" class="Bound">ğ’¦</a><a id="7274" class="Symbol">)</a>
   <a id="7279" href="Varieties.Preservation.html#7221" class="Function">Î¾</a> <a id="7281" href="Varieties.Preservation.html#7281" class="Bound">i</a> <a id="7283" class="Symbol">=</a> <a id="7285" href="Varieties.Closure.html#7846" class="Function">Sâ†’subalgebra</a> <a id="7298" class="Symbol">(</a><a id="7299" href="Varieties.Preservation.html#6340" class="Function">PSâŠ†SP</a> <a id="7305" href="Varieties.Preservation.html#7152" class="Bound">hfe</a> <a id="7309" class="Symbol">(</a><a id="7310" href="Varieties.Preservation.html#7169" class="Bound">x</a> <a id="7312" href="Varieties.Preservation.html#7281" class="Bound">i</a><a id="7313" class="Symbol">))</a>

   <a id="7320" href="Varieties.Preservation.html#7320" class="Function">Î·</a> <a id="7322" class="Symbol">:</a> <a id="7324" href="Algebras.Products.html#1786" class="Function">â¨…</a> <a id="7326" href="Varieties.Preservation.html#7166" class="Bound">ğ’œ</a> <a id="7328" href="Subalgebras.Subalgebras.html#6132" class="Function Operator">IsSubalgebraOfClass</a> <a id="7348" class="Symbol">(</a><a id="7349" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="7350" class="Symbol">{</a><a id="7351" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="7354" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="7355" class="Symbol">}{</a><a id="7357" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="7360" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="7361" class="Symbol">}</a> <a id="7363" class="Symbol">(</a><a id="7364" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="7365" class="Symbol">{</a><a id="7366" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="7367" class="Symbol">}{</a><a id="7369" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="7372" href="Varieties.Preservation.html#6261" class="Bound">Î±</a><a id="7373" class="Symbol">}</a> <a id="7375" href="Varieties.Preservation.html#6302" class="Bound">ğ’¦</a><a id="7376" class="Symbol">))</a>
   <a id="7382" href="Varieties.Preservation.html#7320" class="Function">Î·</a> <a id="7384" class="Symbol">=</a> <a id="7386" href="Varieties.Preservation.html#5068" class="Function">lemPSâŠ†SP</a> <a id="7395" href="Varieties.Preservation.html#7152" class="Bound">hfe</a> <a id="7399" href="Varieties.Preservation.html#6273" class="Bound">fovu</a>  <a id="7405" class="Symbol">{</a><a id="7406" href="Varieties.Preservation.html#7163" class="Bound">I</a><a id="7407" class="Symbol">}</a> <a id="7409" class="Symbol">{</a><a id="7410" href="Varieties.Preservation.html#7166" class="Bound">ğ’œ</a><a id="7411" class="Symbol">}</a> <a id="7413" href="Varieties.Preservation.html#7221" class="Function">Î¾</a>

 <a id="7417" href="Varieties.Preservation.html#6340" class="Function">PSâŠ†SP</a> <a id="7423" href="Varieties.Preservation.html#7423" class="Bound">hfe</a> <a id="7427" class="Symbol">(</a><a id="7428" href="Varieties.Closure.html#4813" class="InductiveConstructor">pisow</a><a id="7433" class="Symbol">{</a><a id="7434" href="Varieties.Preservation.html#7434" class="Bound">ğ‘¨</a><a id="7435" class="Symbol">}{</a><a id="7437" href="Varieties.Preservation.html#7437" class="Bound">ğ‘©</a><a id="7438" class="Symbol">}</a> <a id="7440" href="Varieties.Preservation.html#7440" class="Bound">pA</a> <a id="7443" href="Varieties.Preservation.html#7443" class="Bound">Aâ‰…B</a><a id="7446" class="Symbol">)</a> <a id="7448" class="Symbol">=</a> <a id="7450" href="Varieties.Closure.html#4058" class="InductiveConstructor">siso</a> <a id="7455" class="Symbol">(</a><a id="7456" href="Varieties.Preservation.html#6340" class="Function">PSâŠ†SP</a> <a id="7462" href="Varieties.Preservation.html#7423" class="Bound">hfe</a> <a id="7466" href="Varieties.Preservation.html#7440" class="Bound">pA</a><a id="7468" class="Symbol">)</a> <a id="7470" href="Varieties.Preservation.html#7443" class="Bound">Aâ‰…B</a>

</pre>



#### <a id="more-class-inclusions">More class inclusions</a>

We conclude this subsection with three more inclusion relations that will have bit parts to play later (e.g., in the formal proof of Birkhoff's Theorem).

<pre class="Agda">

<a id="PâŠ†V"></a><a id="7720" href="Varieties.Preservation.html#7720" class="Function">PâŠ†V</a> <a id="7724" class="Symbol">:</a> <a id="7726" class="Symbol">{</a><a id="7727" href="Varieties.Preservation.html#7727" class="Bound">Î±</a> <a id="7729" href="Varieties.Preservation.html#7729" class="Bound">Î²</a> <a id="7731" class="Symbol">:</a> <a id="7733" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="7738" class="Symbol">}{</a><a id="7740" href="Varieties.Preservation.html#7740" class="Bound">ğ’¦</a> <a id="7742" class="Symbol">:</a> <a id="7744" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="7749" class="Symbol">(</a><a id="7750" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="7758" href="Varieties.Preservation.html#7727" class="Bound">Î±</a> <a id="7760" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="7761" class="Symbol">)(</a><a id="7763" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="7766" href="Varieties.Preservation.html#7727" class="Bound">Î±</a><a id="7767" class="Symbol">)}</a> <a id="7770" class="Symbol">â†’</a> <a id="7772" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="7773" class="Symbol">{</a><a id="7774" href="Varieties.Preservation.html#7727" class="Bound">Î±</a><a id="7775" class="Symbol">}{</a><a id="7777" href="Varieties.Preservation.html#7729" class="Bound">Î²</a><a id="7778" class="Symbol">}</a> <a id="7780" href="Varieties.Preservation.html#7740" class="Bound">ğ’¦</a> <a id="7782" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="7784" href="Varieties.Closure.html#5314" class="Datatype">V</a><a id="7785" class="Symbol">{</a><a id="7786" href="Varieties.Preservation.html#7727" class="Bound">Î±</a><a id="7787" class="Symbol">}{</a><a id="7789" href="Varieties.Preservation.html#7729" class="Bound">Î²</a><a id="7790" class="Symbol">}</a> <a id="7792" href="Varieties.Preservation.html#7740" class="Bound">ğ’¦</a>

<a id="7795" href="Varieties.Preservation.html#7720" class="Function">PâŠ†V</a> <a id="7799" class="Symbol">(</a><a id="7800" href="Varieties.Closure.html#4444" class="InductiveConstructor">pbase</a> <a id="7806" href="Varieties.Preservation.html#7806" class="Bound">x</a><a id="7807" class="Symbol">)</a> <a id="7809" class="Symbol">=</a> <a id="7811" href="Varieties.Closure.html#5402" class="InductiveConstructor">vbase</a> <a id="7817" href="Varieties.Preservation.html#7806" class="Bound">x</a>
<a id="7819" href="Varieties.Preservation.html#7720" class="Function">PâŠ†V</a><a id="7822" class="Symbol">{</a><a id="7823" href="Varieties.Preservation.html#7823" class="Bound">Î±</a><a id="7824" class="Symbol">}</a> <a id="7826" class="Symbol">(</a><a id="7827" href="Varieties.Closure.html#4501" class="InductiveConstructor">pliftu</a> <a id="7834" href="Varieties.Preservation.html#7834" class="Bound">x</a><a id="7835" class="Symbol">)</a> <a id="7837" class="Symbol">=</a> <a id="7839" href="Varieties.Closure.html#5459" class="InductiveConstructor">vlift</a> <a id="7845" class="Symbol">(</a><a id="7846" href="Varieties.Preservation.html#7720" class="Function">PâŠ†V</a><a id="7849" class="Symbol">{</a><a id="7850" href="Varieties.Preservation.html#7823" class="Bound">Î±</a><a id="7851" class="Symbol">}{</a><a id="7853" href="Varieties.Preservation.html#7823" class="Bound">Î±</a><a id="7854" class="Symbol">}</a> <a id="7856" href="Varieties.Preservation.html#7834" class="Bound">x</a><a id="7857" class="Symbol">)</a>
<a id="7859" href="Varieties.Preservation.html#7720" class="Function">PâŠ†V</a><a id="7862" class="Symbol">{</a><a id="7863" href="Varieties.Preservation.html#7863" class="Bound">Î±</a><a id="7864" class="Symbol">}{</a><a id="7866" href="Varieties.Preservation.html#7866" class="Bound">Î²</a><a id="7867" class="Symbol">}</a> <a id="7869" class="Symbol">(</a><a id="7870" href="Varieties.Closure.html#4566" class="InductiveConstructor">pliftw</a> <a id="7877" href="Varieties.Preservation.html#7877" class="Bound">x</a><a id="7878" class="Symbol">)</a> <a id="7880" class="Symbol">=</a> <a id="7882" href="Varieties.Closure.html#5524" class="InductiveConstructor">vliftw</a> <a id="7889" class="Symbol">(</a><a id="7890" href="Varieties.Preservation.html#7720" class="Function">PâŠ†V</a><a id="7893" class="Symbol">{</a><a id="7894" href="Varieties.Preservation.html#7863" class="Bound">Î±</a><a id="7895" class="Symbol">}{</a><a id="7897" href="Varieties.Preservation.html#7866" class="Bound">Î²</a><a id="7898" class="Symbol">}</a> <a id="7900" href="Varieties.Preservation.html#7877" class="Bound">x</a><a id="7901" class="Symbol">)</a>
<a id="7903" href="Varieties.Preservation.html#7720" class="Function">PâŠ†V</a> <a id="7907" class="Symbol">(</a><a id="7908" href="Varieties.Closure.html#4643" class="InductiveConstructor">produ</a> <a id="7914" href="Varieties.Preservation.html#7914" class="Bound">x</a><a id="7915" class="Symbol">)</a> <a id="7917" class="Symbol">=</a> <a id="7919" href="Varieties.Closure.html#5741" class="InductiveConstructor">vprodu</a> <a id="7926" class="Symbol">(Î»</a> <a id="7929" href="Varieties.Preservation.html#7929" class="Bound">i</a> <a id="7931" class="Symbol">â†’</a> <a id="7933" href="Varieties.Preservation.html#7720" class="Function">PâŠ†V</a> <a id="7937" class="Symbol">(</a><a id="7938" href="Varieties.Preservation.html#7914" class="Bound">x</a> <a id="7940" href="Varieties.Preservation.html#7929" class="Bound">i</a><a id="7941" class="Symbol">))</a>
<a id="7944" href="Varieties.Preservation.html#7720" class="Function">PâŠ†V</a> <a id="7948" class="Symbol">(</a><a id="7949" href="Varieties.Closure.html#4728" class="InductiveConstructor">prodw</a> <a id="7955" href="Varieties.Preservation.html#7955" class="Bound">x</a><a id="7956" class="Symbol">)</a> <a id="7958" class="Symbol">=</a> <a id="7960" href="Varieties.Closure.html#5825" class="InductiveConstructor">vprodw</a> <a id="7967" class="Symbol">(Î»</a> <a id="7970" href="Varieties.Preservation.html#7970" class="Bound">i</a> <a id="7972" class="Symbol">â†’</a> <a id="7974" href="Varieties.Preservation.html#7720" class="Function">PâŠ†V</a> <a id="7978" class="Symbol">(</a><a id="7979" href="Varieties.Preservation.html#7955" class="Bound">x</a> <a id="7981" href="Varieties.Preservation.html#7970" class="Bound">i</a><a id="7982" class="Symbol">))</a>
<a id="7985" href="Varieties.Preservation.html#7720" class="Function">PâŠ†V</a> <a id="7989" class="Symbol">(</a><a id="7990" href="Varieties.Closure.html#4813" class="InductiveConstructor">pisow</a> <a id="7996" href="Varieties.Preservation.html#7996" class="Bound">x</a> <a id="7998" href="Varieties.Preservation.html#7998" class="Bound">xâ‚</a><a id="8000" class="Symbol">)</a> <a id="8002" class="Symbol">=</a> <a id="8004" href="Varieties.Closure.html#5988" class="InductiveConstructor">visow</a> <a id="8010" class="Symbol">(</a><a id="8011" href="Varieties.Preservation.html#7720" class="Function">PâŠ†V</a> <a id="8015" href="Varieties.Preservation.html#7996" class="Bound">x</a><a id="8016" class="Symbol">)</a> <a id="8018" href="Varieties.Preservation.html#7998" class="Bound">xâ‚</a>


<a id="SPâŠ†V"></a><a id="8023" href="Varieties.Preservation.html#8023" class="Function">SPâŠ†V</a> <a id="8028" class="Symbol">:</a> <a id="8030" class="Symbol">{</a><a id="8031" href="Varieties.Preservation.html#8031" class="Bound">Î±</a> <a id="8033" href="Varieties.Preservation.html#8033" class="Bound">Î²</a> <a id="8035" class="Symbol">:</a> <a id="8037" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="8042" class="Symbol">}{</a><a id="8044" href="Varieties.Preservation.html#8044" class="Bound">ğ’¦</a> <a id="8046" class="Symbol">:</a> <a id="8048" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="8053" class="Symbol">(</a><a id="8054" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="8062" href="Varieties.Preservation.html#8031" class="Bound">Î±</a> <a id="8064" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="8065" class="Symbol">)(</a><a id="8067" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="8070" href="Varieties.Preservation.html#8031" class="Bound">Î±</a><a id="8071" class="Symbol">)}</a>
 <a id="8075" class="Symbol">â†’</a>     <a id="8081" href="Varieties.Closure.html#3772" class="Datatype">S</a><a id="8082" class="Symbol">{</a><a id="8083" href="Varieties.Preservation.html#8031" class="Bound">Î±</a> <a id="8085" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="8087" href="Varieties.Preservation.html#8033" class="Bound">Î²</a><a id="8088" class="Symbol">}{</a><a id="8090" href="Varieties.Preservation.html#8031" class="Bound">Î±</a> <a id="8092" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="8094" href="Varieties.Preservation.html#8033" class="Bound">Î²</a><a id="8095" class="Symbol">}</a> <a id="8097" class="Symbol">(</a><a id="8098" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="8099" class="Symbol">{</a><a id="8100" href="Varieties.Preservation.html#8031" class="Bound">Î±</a><a id="8101" class="Symbol">}{</a><a id="8103" href="Varieties.Preservation.html#8033" class="Bound">Î²</a><a id="8104" class="Symbol">}</a> <a id="8106" href="Varieties.Preservation.html#8044" class="Bound">ğ’¦</a><a id="8107" class="Symbol">)</a> <a id="8109" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="8111" href="Varieties.Closure.html#5314" class="Datatype">V</a> <a id="8113" href="Varieties.Preservation.html#8044" class="Bound">ğ’¦</a>

<a id="8116" href="Varieties.Preservation.html#8023" class="Function">SPâŠ†V</a> <a id="8121" class="Symbol">(</a><a id="8122" href="Varieties.Closure.html#3860" class="InductiveConstructor">sbase</a><a id="8127" class="Symbol">{</a><a id="8128" href="Varieties.Preservation.html#8128" class="Bound">ğ‘¨</a><a id="8129" class="Symbol">}</a> <a id="8131" href="Varieties.Preservation.html#8131" class="Bound">PCloA</a><a id="8136" class="Symbol">)</a> <a id="8138" class="Symbol">=</a> <a id="8140" href="Varieties.Preservation.html#7720" class="Function">PâŠ†V</a> <a id="8144" class="Symbol">(</a><a id="8145" href="Varieties.Closure.html#4813" class="InductiveConstructor">pisow</a> <a id="8151" href="Varieties.Preservation.html#8131" class="Bound">PCloA</a> <a id="8157" href="Homomorphisms.Isomorphisms.html#4353" class="Function">Lift-â‰…</a><a id="8163" class="Symbol">)</a>
<a id="8165" href="Varieties.Preservation.html#8023" class="Function">SPâŠ†V</a> <a id="8170" class="Symbol">(</a><a id="8171" href="Varieties.Closure.html#3916" class="InductiveConstructor">slift</a><a id="8176" class="Symbol">{</a><a id="8177" href="Varieties.Preservation.html#8177" class="Bound">ğ‘¨</a><a id="8178" class="Symbol">}</a> <a id="8180" href="Varieties.Preservation.html#8180" class="Bound">x</a><a id="8181" class="Symbol">)</a> <a id="8183" class="Symbol">=</a> <a id="8185" href="Varieties.Closure.html#5524" class="InductiveConstructor">vliftw</a> <a id="8192" class="Symbol">(</a><a id="8193" href="Varieties.Preservation.html#8023" class="Function">SPâŠ†V</a> <a id="8198" href="Varieties.Preservation.html#8180" class="Bound">x</a><a id="8199" class="Symbol">)</a>
<a id="8201" href="Varieties.Preservation.html#8023" class="Function">SPâŠ†V</a> <a id="8206" class="Symbol">(</a><a id="8207" href="Varieties.Closure.html#3980" class="InductiveConstructor">ssub</a><a id="8211" class="Symbol">{</a><a id="8212" href="Varieties.Preservation.html#8212" class="Bound">ğ‘¨</a><a id="8213" class="Symbol">}{</a><a id="8215" href="Varieties.Preservation.html#8215" class="Bound">ğ‘©</a><a id="8216" class="Symbol">}</a> <a id="8218" href="Varieties.Preservation.html#8218" class="Bound">spA</a> <a id="8222" href="Varieties.Preservation.html#8222" class="Bound">Bâ‰¤A</a><a id="8225" class="Symbol">)</a> <a id="8227" class="Symbol">=</a> <a id="8229" href="Varieties.Closure.html#5677" class="InductiveConstructor">vssubw</a> <a id="8236" class="Symbol">(</a><a id="8237" href="Varieties.Preservation.html#8023" class="Function">SPâŠ†V</a> <a id="8242" href="Varieties.Preservation.html#8218" class="Bound">spA</a><a id="8245" class="Symbol">)</a> <a id="8247" href="Varieties.Preservation.html#8222" class="Bound">Bâ‰¤A</a>
<a id="8251" href="Varieties.Preservation.html#8023" class="Function">SPâŠ†V</a> <a id="8256" class="Symbol">(</a><a id="8257" href="Varieties.Closure.html#4058" class="InductiveConstructor">siso</a> <a id="8262" href="Varieties.Preservation.html#8262" class="Bound">x</a> <a id="8264" href="Varieties.Preservation.html#8264" class="Bound">xâ‚</a><a id="8266" class="Symbol">)</a> <a id="8268" class="Symbol">=</a> <a id="8270" href="Varieties.Closure.html#5988" class="InductiveConstructor">visow</a> <a id="8276" class="Symbol">(</a><a id="8277" href="Varieties.Preservation.html#8023" class="Function">SPâŠ†V</a> <a id="8282" href="Varieties.Preservation.html#8262" class="Bound">x</a><a id="8283" class="Symbol">)</a> <a id="8285" href="Varieties.Preservation.html#8264" class="Bound">xâ‚</a>

</pre>


#### <a id="V-is-closed-under-lift">V is closed under lift</a>

As mentioned earlier, a technical hurdle that must be overcome when formalizing proofs in Agda is the proper handling of universe levels. In particular, in the proof of the Birkhoff's theorem, for example, we will need to know that if an algebra ğ‘¨ belongs to the variety V ğ’¦, then so does the lift of ğ‘¨.  Let us get the tedious proof of this technical lemma out of the way.

Above we proved that `SP(ğ’¦) âŠ† V(ğ’¦)`, and we did so under fairly general assumptions about the universe level parameters.  Unfortunately, this is sometimes not quite general enough, so we now prove the inclusion again for the specific universe parameters that align with subsequent applications of this result.


<pre class="Agda">

<a id="9067" class="Keyword">module</a> <a id="9074" href="Varieties.Preservation.html#9074" class="Module">_</a> <a id="9076" class="Symbol">{</a><a id="9077" href="Varieties.Preservation.html#9077" class="Bound">Î±</a> <a id="9079" class="Symbol">:</a> <a id="9081" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="9086" class="Symbol">}</a>  <a id="9089" class="Symbol">{</a><a id="9090" href="Varieties.Preservation.html#9090" class="Bound">feâ‚€</a> <a id="9094" class="Symbol">:</a> <a id="9096" href="Varieties.Preservation.html#932" class="Function">funext</a> <a id="9103" class="Symbol">(</a><a id="9104" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="9107" href="Varieties.Preservation.html#9077" class="Bound">Î±</a><a id="9108" class="Symbol">)</a> <a id="9110" href="Varieties.Preservation.html#9077" class="Bound">Î±</a><a id="9111" class="Symbol">}</a>
         <a id="9122" class="Symbol">{</a><a id="9123" href="Varieties.Preservation.html#9123" class="Bound">feâ‚</a> <a id="9127" class="Symbol">:</a> <a id="9129" href="Varieties.Preservation.html#932" class="Function">funext</a> <a id="9136" class="Symbol">((</a><a id="9138" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="9141" href="Varieties.Preservation.html#9077" class="Bound">Î±</a><a id="9142" class="Symbol">)</a> <a id="9144" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="9146" class="Symbol">(</a><a id="9147" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9152" class="Symbol">(</a><a id="9153" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="9156" href="Varieties.Preservation.html#9077" class="Bound">Î±</a><a id="9157" class="Symbol">)))</a> <a id="9161" class="Symbol">(</a><a id="9162" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9167" class="Symbol">(</a><a id="9168" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="9171" href="Varieties.Preservation.html#9077" class="Bound">Î±</a><a id="9172" class="Symbol">))}</a>
         <a id="9185" class="Symbol">{</a><a id="9186" href="Varieties.Preservation.html#9186" class="Bound">feâ‚‚</a> <a id="9190" class="Symbol">:</a> <a id="9192" href="Varieties.Preservation.html#932" class="Function">funext</a> <a id="9199" class="Symbol">(</a><a id="9200" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="9203" href="Varieties.Preservation.html#9077" class="Bound">Î±</a><a id="9204" class="Symbol">)</a> <a id="9206" class="Symbol">(</a><a id="9207" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="9210" href="Varieties.Preservation.html#9077" class="Bound">Î±</a><a id="9211" class="Symbol">)}</a>
         <a id="9223" class="Symbol">{</a><a id="9224" href="Varieties.Preservation.html#9224" class="Bound">ğ’¦</a> <a id="9226" class="Symbol">:</a> <a id="9228" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="9233" class="Symbol">(</a><a id="9234" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="9242" href="Varieties.Preservation.html#9077" class="Bound">Î±</a> <a id="9244" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="9245" class="Symbol">)(</a><a id="9247" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="9250" href="Varieties.Preservation.html#9077" class="Bound">Î±</a><a id="9251" class="Symbol">)}</a> <a id="9254" class="Keyword">where</a>

 <a id="9262" class="Keyword">open</a> <a id="9267" href="Varieties.Closure.html#11718" class="Module">Vlift</a> <a id="9273" class="Symbol">{</a><a id="9274" href="Varieties.Preservation.html#9077" class="Bound">Î±</a><a id="9275" class="Symbol">}{</a><a id="9277" href="Varieties.Preservation.html#9090" class="Bound">feâ‚€</a><a id="9280" class="Symbol">}{</a><a id="9282" href="Varieties.Preservation.html#9123" class="Bound">feâ‚</a><a id="9285" class="Symbol">}{</a><a id="9287" href="Varieties.Preservation.html#9186" class="Bound">feâ‚‚</a><a id="9290" class="Symbol">}{</a><a id="9292" href="Varieties.Preservation.html#9224" class="Bound">ğ’¦</a><a id="9293" class="Symbol">}</a>

 <a id="9297" href="Varieties.Preservation.html#9297" class="Function">SPâŠ†V&#39;</a> <a id="9303" class="Symbol">:</a> <a id="9305" href="Varieties.Closure.html#3772" class="Datatype">S</a><a id="9306" class="Symbol">{</a><a id="9307" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="9310" href="Varieties.Preservation.html#9077" class="Bound">Î±</a><a id="9311" class="Symbol">}{</a><a id="9313" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9318" class="Symbol">(</a><a id="9319" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="9322" href="Varieties.Preservation.html#9077" class="Bound">Î±</a><a id="9323" class="Symbol">)}</a> <a id="9326" class="Symbol">(</a><a id="9327" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="9328" class="Symbol">{</a><a id="9329" href="Varieties.Preservation.html#9077" class="Bound">Î±</a><a id="9330" class="Symbol">}{</a><a id="9332" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="9335" href="Varieties.Preservation.html#9077" class="Bound">Î±</a><a id="9336" class="Symbol">}</a> <a id="9338" href="Varieties.Preservation.html#9224" class="Bound">ğ’¦</a><a id="9339" class="Symbol">)</a> <a id="9341" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="9343" href="Varieties.Closure.html#5314" class="Datatype">V</a> <a id="9345" href="Varieties.Preservation.html#9224" class="Bound">ğ’¦</a>

 <a id="9349" href="Varieties.Preservation.html#9297" class="Function">SPâŠ†V&#39;</a> <a id="9355" class="Symbol">(</a><a id="9356" href="Varieties.Closure.html#3860" class="InductiveConstructor">sbase</a><a id="9361" class="Symbol">{</a><a id="9362" href="Varieties.Preservation.html#9362" class="Bound">ğ‘¨</a><a id="9363" class="Symbol">}</a> <a id="9365" href="Varieties.Preservation.html#9365" class="Bound">x</a><a id="9366" class="Symbol">)</a> <a id="9368" class="Symbol">=</a> <a id="9370" href="Varieties.Closure.html#5988" class="InductiveConstructor">visow</a> <a id="9376" class="Symbol">(</a><a id="9377" href="Varieties.Closure.html#11921" class="Function">VlA</a> <a id="9381" class="Symbol">(</a><a id="9382" href="Varieties.Preservation.html#8023" class="Function">SPâŠ†V</a> <a id="9387" class="Symbol">(</a><a id="9388" href="Varieties.Closure.html#3860" class="InductiveConstructor">sbase</a> <a id="9394" href="Varieties.Preservation.html#9365" class="Bound">x</a><a id="9395" class="Symbol">)))</a> <a id="9399" class="Symbol">(</a><a id="9400" href="Homomorphisms.Isomorphisms.html#2909" class="Function">â‰…-sym</a> <a id="9406" class="Symbol">(</a><a id="9407" href="Homomorphisms.Isomorphisms.html#5094" class="Function">Lift-Alg-assoc</a> <a id="9422" class="Symbol">_</a> <a id="9424" class="Symbol">_{</a><a id="9426" href="Varieties.Preservation.html#9362" class="Bound">ğ‘¨</a><a id="9427" class="Symbol">}))</a>
 <a id="9432" href="Varieties.Preservation.html#9297" class="Function">SPâŠ†V&#39;</a> <a id="9438" class="Symbol">(</a><a id="9439" href="Varieties.Closure.html#3916" class="InductiveConstructor">slift</a> <a id="9445" href="Varieties.Preservation.html#9445" class="Bound">x</a><a id="9446" class="Symbol">)</a> <a id="9448" class="Symbol">=</a> <a id="9450" href="Varieties.Closure.html#11921" class="Function">VlA</a> <a id="9454" class="Symbol">(</a><a id="9455" href="Varieties.Preservation.html#8023" class="Function">SPâŠ†V</a> <a id="9460" href="Varieties.Preservation.html#9445" class="Bound">x</a><a id="9461" class="Symbol">)</a>

 <a id="9465" href="Varieties.Preservation.html#9297" class="Function">SPâŠ†V&#39;</a> <a id="9471" class="Symbol">(</a><a id="9472" href="Varieties.Closure.html#3980" class="InductiveConstructor">ssub</a><a id="9476" class="Symbol">{</a><a id="9477" href="Varieties.Preservation.html#9477" class="Bound">ğ‘¨</a><a id="9478" class="Symbol">}{</a><a id="9480" href="Varieties.Preservation.html#9480" class="Bound">ğ‘©</a><a id="9481" class="Symbol">}</a> <a id="9483" href="Varieties.Preservation.html#9483" class="Bound">spA</a> <a id="9487" href="Varieties.Preservation.html#9487" class="Bound">Bâ‰¤A</a><a id="9490" class="Symbol">)</a> <a id="9492" class="Symbol">=</a> <a id="9494" href="Varieties.Closure.html#5677" class="InductiveConstructor">vssubw</a> <a id="9501" class="Symbol">(</a><a id="9502" href="Varieties.Closure.html#11921" class="Function">VlA</a> <a id="9506" class="Symbol">(</a><a id="9507" href="Varieties.Preservation.html#8023" class="Function">SPâŠ†V</a> <a id="9512" href="Varieties.Preservation.html#9483" class="Bound">spA</a><a id="9515" class="Symbol">))</a> <a id="9518" href="Varieties.Preservation.html#9534" class="Function">Bâ‰¤lA</a>
  <a id="9525" class="Keyword">where</a>
   <a id="9534" href="Varieties.Preservation.html#9534" class="Function">Bâ‰¤lA</a> <a id="9539" class="Symbol">:</a> <a id="9541" href="Varieties.Preservation.html#9480" class="Bound">ğ‘©</a> <a id="9543" href="Subalgebras.Subalgebras.html#2603" class="Function Operator">â‰¤</a> <a id="9545" href="Algebras.Basic.html#10499" class="Function">Lift-Alg</a> <a id="9554" href="Varieties.Preservation.html#9477" class="Bound">ğ‘¨</a> <a id="9556" class="Symbol">(</a><a id="9557" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9562" class="Symbol">(</a><a id="9563" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="9566" href="Varieties.Preservation.html#9077" class="Bound">Î±</a><a id="9567" class="Symbol">))</a>
   <a id="9573" href="Varieties.Preservation.html#9534" class="Function">Bâ‰¤lA</a> <a id="9578" class="Symbol">=</a> <a id="9580" href="Subalgebras.Properties.html#5806" class="Function">â‰¤-Lift</a> <a id="9587" href="Varieties.Preservation.html#9477" class="Bound">ğ‘¨</a> <a id="9589" href="Varieties.Preservation.html#9487" class="Bound">Bâ‰¤A</a>

 <a id="9595" href="Varieties.Preservation.html#9297" class="Function">SPâŠ†V&#39;</a> <a id="9601" class="Symbol">(</a><a id="9602" href="Varieties.Closure.html#4058" class="InductiveConstructor">siso</a><a id="9606" class="Symbol">{</a><a id="9607" href="Varieties.Preservation.html#9607" class="Bound">ğ‘¨</a><a id="9608" class="Symbol">}{</a><a id="9610" href="Varieties.Preservation.html#9610" class="Bound">ğ‘©</a><a id="9611" class="Symbol">}</a> <a id="9613" href="Varieties.Preservation.html#9613" class="Bound">x</a> <a id="9615" href="Varieties.Preservation.html#9615" class="Bound">Aâ‰…B</a><a id="9618" class="Symbol">)</a> <a id="9620" class="Symbol">=</a> <a id="9622" href="Varieties.Closure.html#5988" class="InductiveConstructor">visow</a> <a id="9628" class="Symbol">(</a><a id="9629" href="Varieties.Closure.html#11921" class="Function">VlA</a> <a id="9633" class="Symbol">(</a><a id="9634" href="Varieties.Preservation.html#8023" class="Function">SPâŠ†V</a> <a id="9639" href="Varieties.Preservation.html#9613" class="Bound">x</a><a id="9640" class="Symbol">))</a> <a id="9643" href="Varieties.Preservation.html#9659" class="Function">Goal</a>
  <a id="9650" class="Keyword">where</a>
   <a id="9659" href="Varieties.Preservation.html#9659" class="Function">Goal</a> <a id="9664" class="Symbol">:</a> <a id="9666" href="Algebras.Basic.html#10499" class="Function">Lift-Alg</a> <a id="9675" href="Varieties.Preservation.html#9607" class="Bound">ğ‘¨</a> <a id="9677" class="Symbol">(</a><a id="9678" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9683" class="Symbol">(</a><a id="9684" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="9687" href="Varieties.Preservation.html#9077" class="Bound">Î±</a><a id="9688" class="Symbol">))</a> <a id="9691" href="Homomorphisms.Isomorphisms.html#2278" class="Record Operator">â‰…</a> <a id="9693" href="Varieties.Preservation.html#9610" class="Bound">ğ‘©</a>
   <a id="9698" href="Varieties.Preservation.html#9659" class="Function">Goal</a> <a id="9703" class="Symbol">=</a> <a id="9705" href="Homomorphisms.Isomorphisms.html#2998" class="Function">â‰…-trans</a> <a id="9713" class="Symbol">(</a><a id="9714" href="Homomorphisms.Isomorphisms.html#2909" class="Function">â‰…-sym</a> <a id="9720" href="Homomorphisms.Isomorphisms.html#4353" class="Function">Lift-â‰…</a><a id="9726" class="Symbol">)</a> <a id="9728" href="Varieties.Preservation.html#9615" class="Bound">Aâ‰…B</a>

</pre>


#### <a id="S-in-SP">â¨… S(ğ’¦) âˆˆ SP(ğ’¦)</a>

Finally, we prove a result that plays an important role, e.g., in the formal proof of Birkhoff's Theorem. As we saw in [Algebras.Products][], the (informal) product `â¨… S(ğ’¦)` of all subalgebras of algebras in ğ’¦ is implemented (formally) in the [UniversalAlgebra][] library as `â¨… ğ”„ S(ğ’¦)`. Our goal is to prove that this product belongs to `SP(ğ’¦)`. We do so by first proving that the product belongs to `PS(ğ’¦)` and then applying the `PSâŠ†SP` lemma.

Before doing so, we need to redefine the class product so that each factor comes with a map from the type `X` of variable symbols into that factor.  We will explain the reason for this below.

<pre class="Agda">

<a id="10440" class="Keyword">module</a> <a id="class-products-with-maps"></a><a id="10447" href="Varieties.Preservation.html#10447" class="Module">class-products-with-maps</a> <a id="10472" class="Symbol">{</a><a id="10473" href="Varieties.Preservation.html#10473" class="Bound">Î±</a> <a id="10475" class="Symbol">:</a> <a id="10477" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="10482" class="Symbol">}</a>
 <a id="10485" class="Symbol">{</a><a id="10486" href="Varieties.Preservation.html#10486" class="Bound">X</a> <a id="10488" class="Symbol">:</a> <a id="10490" href="Varieties.Preservation.html#813" class="Primitive">Type</a> <a id="10495" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="10496" class="Symbol">}</a>
 <a id="10499" class="Symbol">{</a><a id="10500" href="Varieties.Preservation.html#10500" class="Bound">feğ“•Î±</a> <a id="10505" class="Symbol">:</a> <a id="10507" href="Varieties.Preservation.html#932" class="Function">funext</a> <a id="10514" class="Symbol">(</a><a id="10515" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="10518" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="10519" class="Symbol">)</a> <a id="10521" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="10522" class="Symbol">}</a>
 <a id="10525" class="Symbol">{</a><a id="10526" href="Varieties.Preservation.html#10526" class="Bound">feâ‚</a> <a id="10530" class="Symbol">:</a> <a id="10532" href="Varieties.Preservation.html#932" class="Function">funext</a> <a id="10539" class="Symbol">((</a><a id="10541" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="10544" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="10545" class="Symbol">)</a> <a id="10547" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="10549" class="Symbol">(</a><a id="10550" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="10555" class="Symbol">(</a><a id="10556" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="10559" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="10560" class="Symbol">)))</a> <a id="10564" class="Symbol">(</a><a id="10565" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="10570" class="Symbol">(</a><a id="10571" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="10574" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="10575" class="Symbol">))}</a>
 <a id="10580" class="Symbol">{</a><a id="10581" href="Varieties.Preservation.html#10581" class="Bound">feâ‚‚</a> <a id="10585" class="Symbol">:</a> <a id="10587" href="Varieties.Preservation.html#932" class="Function">funext</a> <a id="10594" class="Symbol">(</a><a id="10595" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="10598" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="10599" class="Symbol">)</a> <a id="10601" class="Symbol">(</a><a id="10602" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="10605" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="10606" class="Symbol">)}</a>
 <a id="10610" class="Symbol">(</a><a id="10611" href="Varieties.Preservation.html#10611" class="Bound">ğ’¦</a> <a id="10613" class="Symbol">:</a> <a id="10615" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="10620" class="Symbol">(</a><a id="10621" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="10629" href="Varieties.Preservation.html#10473" class="Bound">Î±</a> <a id="10631" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="10632" class="Symbol">)(</a><a id="10634" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="10637" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="10638" class="Symbol">))</a>
 <a id="10642" class="Keyword">where</a>

 <a id="class-products-with-maps.â„‘&#39;"></a><a id="10650" href="Varieties.Preservation.html#10650" class="Function">â„‘&#39;</a> <a id="10653" class="Symbol">:</a> <a id="10655" href="Varieties.Preservation.html#813" class="Primitive">Type</a> <a id="10660" class="Symbol">(</a><a id="10661" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="10664" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="10665" class="Symbol">)</a>
 <a id="10668" href="Varieties.Preservation.html#10650" class="Function">â„‘&#39;</a> <a id="10671" class="Symbol">=</a> <a id="10673" href="Data.Product.html#916" class="Function">Î£[</a> <a id="10676" href="Varieties.Preservation.html#10676" class="Bound">ğ‘¨</a> <a id="10678" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="10680" class="Symbol">(</a><a id="10681" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="10689" href="Varieties.Preservation.html#10473" class="Bound">Î±</a> <a id="10691" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="10692" class="Symbol">)</a> <a id="10694" href="Data.Product.html#916" class="Function">]</a> <a id="10696" class="Symbol">((</a><a id="10698" href="Varieties.Preservation.html#10676" class="Bound">ğ‘¨</a> <a id="10700" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="10702" href="Varieties.Closure.html#3772" class="Datatype">S</a><a id="10703" class="Symbol">{</a><a id="10704" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="10705" class="Symbol">}{</a><a id="10707" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="10708" class="Symbol">}</a> <a id="10710" href="Varieties.Preservation.html#10611" class="Bound">ğ’¦</a><a id="10711" class="Symbol">)</a> <a id="10713" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="10715" class="Symbol">(</a><a id="10716" href="Varieties.Preservation.html#10486" class="Bound">X</a> <a id="10718" class="Symbol">â†’</a> <a id="10720" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="10722" href="Varieties.Preservation.html#10676" class="Bound">ğ‘¨</a> <a id="10724" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a><a id="10725" class="Symbol">))</a>

</pre>

Notice that the second component of this dependent pair type is  `(ğ‘¨ âˆˆ ğ’¦) Ã— (X â†’ âˆ£ ğ‘¨ âˆ£)`. In previous versions of the [UALib][] this second component was simply `ğ‘¨ âˆˆ ğ’¦`, until we realized that adding the type `X â†’ âˆ£ ğ‘¨ âˆ£` is quite useful. Later we will see exactly why, but for now suffice it to say that a map of type `X â†’ âˆ£ ğ‘¨ âˆ£` may be viewed abstractly as an *ambient context*, or more concretely, as an assignment of *values* in `âˆ£ ğ‘¨ âˆ£` to *variable symbols* in `X`.  When computing with or reasoning about products, while we don't want to rigidly impose a context in advance, want do want to lay our hands on whatever context is ultimately assumed.  Including the "context map" inside the index type `â„‘` of the product turns out to be a convenient way to achieve this flexibility.


Taking the product over the index type `â„‘` requires a function that maps an index `i : â„‘` to the corresponding algebra.  Each `i : â„‘` is a triple, say, `(ğ‘¨ , p , h)`, where `ğ‘¨ : Algebra Î± ğ‘†`, `p : ğ‘¨ âˆˆ ğ’¦`, and `h : X â†’ âˆ£ ğ‘¨ âˆ£`, so the function mapping an index to the corresponding algebra is simply the first projection.

<pre class="Agda">

 <a id="class-products-with-maps.ğ”„&#39;"></a><a id="11864" href="Varieties.Preservation.html#11864" class="Function">ğ”„&#39;</a> <a id="11867" class="Symbol">:</a> <a id="11869" href="Varieties.Preservation.html#10650" class="Function">â„‘&#39;</a> <a id="11872" class="Symbol">â†’</a> <a id="11874" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="11882" href="Varieties.Preservation.html#10473" class="Bound">Î±</a> <a id="11884" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a>
 <a id="11887" href="Varieties.Preservation.html#11864" class="Function">ğ”„&#39;</a> <a id="11890" class="Symbol">=</a> <a id="11892" class="Symbol">Î»</a> <a id="11894" class="Symbol">(</a><a id="11895" href="Varieties.Preservation.html#11895" class="Bound">i</a> <a id="11897" class="Symbol">:</a> <a id="11899" href="Varieties.Preservation.html#10650" class="Function">â„‘&#39;</a><a id="11901" class="Symbol">)</a> <a id="11903" class="Symbol">â†’</a> <a id="11905" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="11907" href="Varieties.Preservation.html#11895" class="Bound">i</a> <a id="11909" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a>

</pre>

Finally, we define `class-product` which represents the product of all members of ğ’¦.

<pre class="Agda">

 <a id="class-products-with-maps.class-product&#39;"></a><a id="12025" href="Varieties.Preservation.html#12025" class="Function">class-product&#39;</a> <a id="12040" class="Symbol">:</a> <a id="12042" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="12050" class="Symbol">(</a><a id="12051" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="12054" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="12055" class="Symbol">)</a> <a id="12057" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a>
 <a id="12060" href="Varieties.Preservation.html#12025" class="Function">class-product&#39;</a> <a id="12075" class="Symbol">=</a> <a id="12077" href="Algebras.Products.html#1786" class="Function">â¨…</a> <a id="12079" href="Varieties.Preservation.html#11864" class="Function">ğ”„&#39;</a>

</pre>

If `p : ğ‘¨ âˆˆ ğ’¦` and `h : X â†’ âˆ£ ğ‘¨ âˆ£`, we view the triple `(ğ‘¨ , p , h) âˆˆ â„‘` as an index over the class, and so we can think of `ğ”„ (ğ‘¨ , p , h)` (which is simply `ğ‘¨`) as the projection of the product `â¨… ğ”„` onto the `(ğ‘¨ , p, h)`-th component.

<pre class="Agda">

 <a id="class-products-with-maps.class-prod-s-âˆˆ-ps"></a><a id="12348" href="Varieties.Preservation.html#12348" class="Function">class-prod-s-âˆˆ-ps</a> <a id="12366" class="Symbol">:</a> <a id="12368" href="Varieties.Preservation.html#12025" class="Function">class-product&#39;</a> <a id="12383" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12385" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="12386" class="Symbol">{</a><a id="12387" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="12390" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="12391" class="Symbol">}{</a><a id="12393" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="12396" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="12397" class="Symbol">}(</a><a id="12399" href="Varieties.Closure.html#3772" class="Datatype">S</a> <a id="12401" href="Varieties.Preservation.html#10611" class="Bound">ğ’¦</a><a id="12402" class="Symbol">)</a>
 <a id="12405" href="Varieties.Preservation.html#12348" class="Function">class-prod-s-âˆˆ-ps</a> <a id="12423" class="Symbol">=</a> <a id="12425" href="Varieties.Closure.html#4813" class="InductiveConstructor">pisow</a> <a id="12431" href="Varieties.Preservation.html#12706" class="Function">psPllA</a> <a id="12438" class="Symbol">(</a><a id="12439" href="Homomorphisms.Isomorphisms.html#5675" class="Function">â¨…â‰…</a> <a id="12442" class="Symbol">{</a><a id="12443" class="Argument">fiu</a> <a id="12447" class="Symbol">=</a> <a id="12449" href="Varieties.Preservation.html#10581" class="Bound">feâ‚‚</a><a id="12452" class="Symbol">}{</a><a id="12454" class="Argument">fiw</a> <a id="12458" class="Symbol">=</a> <a id="12460" href="Varieties.Preservation.html#10500" class="Bound">feğ“•Î±</a><a id="12464" class="Symbol">}</a> <a id="12466" href="Varieties.Preservation.html#12757" class="Function">llAâ‰…A</a><a id="12471" class="Symbol">)</a>

  <a id="12476" class="Keyword">where</a>
  <a id="12484" href="Varieties.Preservation.html#12484" class="Function">lA</a> <a id="12487" href="Varieties.Preservation.html#12487" class="Function">llA</a> <a id="12491" class="Symbol">:</a> <a id="12493" href="Varieties.Preservation.html#10650" class="Function">â„‘&#39;</a> <a id="12496" class="Symbol">â†’</a> <a id="12498" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="12506" class="Symbol">(</a><a id="12507" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="12510" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="12511" class="Symbol">)</a> <a id="12513" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a>
  <a id="12517" href="Varieties.Preservation.html#12484" class="Function">lA</a> <a id="12520" href="Varieties.Preservation.html#12520" class="Bound">i</a> <a id="12522" class="Symbol">=</a>  <a id="12525" href="Algebras.Basic.html#10499" class="Function">Lift-Alg</a> <a id="12534" class="Symbol">(</a><a id="12535" href="Algebras.Products.html#5234" class="Function">ğ”„</a> <a id="12537" href="Varieties.Preservation.html#12520" class="Bound">i</a><a id="12538" class="Symbol">)</a> <a id="12540" class="Symbol">(</a><a id="12541" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="12544" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="12545" class="Symbol">)</a>
  <a id="12549" href="Varieties.Preservation.html#12487" class="Function">llA</a> <a id="12553" href="Varieties.Preservation.html#12553" class="Bound">i</a> <a id="12555" class="Symbol">=</a> <a id="12557" href="Algebras.Basic.html#10499" class="Function">Lift-Alg</a> <a id="12566" class="Symbol">(</a><a id="12567" href="Varieties.Preservation.html#12484" class="Function">lA</a> <a id="12570" href="Varieties.Preservation.html#12553" class="Bound">i</a><a id="12571" class="Symbol">)</a> <a id="12573" class="Symbol">(</a><a id="12574" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="12577" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="12578" class="Symbol">)</a>

  <a id="12583" href="Varieties.Preservation.html#12583" class="Function">slA</a> <a id="12587" class="Symbol">:</a> <a id="12589" class="Symbol">âˆ€</a> <a id="12591" href="Varieties.Preservation.html#12591" class="Bound">i</a> <a id="12593" class="Symbol">â†’</a> <a id="12595" class="Symbol">(</a><a id="12596" href="Varieties.Preservation.html#12484" class="Function">lA</a> <a id="12599" href="Varieties.Preservation.html#12591" class="Bound">i</a><a id="12600" class="Symbol">)</a> <a id="12602" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12604" href="Varieties.Closure.html#3772" class="Datatype">S</a> <a id="12606" href="Varieties.Preservation.html#10611" class="Bound">ğ’¦</a>
  <a id="12610" href="Varieties.Preservation.html#12583" class="Function">slA</a> <a id="12614" href="Varieties.Preservation.html#12614" class="Bound">i</a> <a id="12616" class="Symbol">=</a> <a id="12618" href="Varieties.Closure.html#4058" class="InductiveConstructor">siso</a> <a id="12623" class="Symbol">(</a><a id="12624" href="Varieties.Preservation.html#1019" class="Field">fst</a> <a id="12628" href="Overture.Preliminaries.html#4265" class="Function Operator">âˆ¥</a> <a id="12630" href="Varieties.Preservation.html#12614" class="Bound">i</a> <a id="12632" href="Overture.Preliminaries.html#4265" class="Function Operator">âˆ¥</a><a id="12633" class="Symbol">)</a> <a id="12635" href="Homomorphisms.Isomorphisms.html#4353" class="Function">Lift-â‰…</a>

  <a id="12645" href="Varieties.Preservation.html#12645" class="Function">psllA</a> <a id="12651" class="Symbol">:</a> <a id="12653" class="Symbol">âˆ€</a> <a id="12655" href="Varieties.Preservation.html#12655" class="Bound">i</a> <a id="12657" class="Symbol">â†’</a> <a id="12659" class="Symbol">(</a><a id="12660" href="Varieties.Preservation.html#12487" class="Function">llA</a> <a id="12664" href="Varieties.Preservation.html#12655" class="Bound">i</a><a id="12665" class="Symbol">)</a> <a id="12667" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12669" href="Varieties.Closure.html#4356" class="Datatype">P</a> <a id="12671" class="Symbol">(</a><a id="12672" href="Varieties.Closure.html#3772" class="Datatype">S</a> <a id="12674" href="Varieties.Preservation.html#10611" class="Bound">ğ’¦</a><a id="12675" class="Symbol">)</a>
  <a id="12679" href="Varieties.Preservation.html#12645" class="Function">psllA</a> <a id="12685" href="Varieties.Preservation.html#12685" class="Bound">i</a> <a id="12687" class="Symbol">=</a> <a id="12689" href="Varieties.Closure.html#4444" class="InductiveConstructor">pbase</a> <a id="12695" class="Symbol">(</a><a id="12696" href="Varieties.Preservation.html#12583" class="Function">slA</a> <a id="12700" href="Varieties.Preservation.html#12685" class="Bound">i</a><a id="12701" class="Symbol">)</a>

  <a id="12706" href="Varieties.Preservation.html#12706" class="Function">psPllA</a> <a id="12713" class="Symbol">:</a> <a id="12715" href="Algebras.Products.html#1786" class="Function">â¨…</a> <a id="12717" href="Varieties.Preservation.html#12487" class="Function">llA</a> <a id="12721" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12723" href="Varieties.Closure.html#4356" class="Datatype">P</a> <a id="12725" class="Symbol">(</a><a id="12726" href="Varieties.Closure.html#3772" class="Datatype">S</a> <a id="12728" href="Varieties.Preservation.html#10611" class="Bound">ğ’¦</a><a id="12729" class="Symbol">)</a>
  <a id="12733" href="Varieties.Preservation.html#12706" class="Function">psPllA</a> <a id="12740" class="Symbol">=</a> <a id="12742" href="Varieties.Closure.html#4643" class="InductiveConstructor">produ</a> <a id="12748" href="Varieties.Preservation.html#12645" class="Function">psllA</a>

  <a id="12757" href="Varieties.Preservation.html#12757" class="Function">llAâ‰…A</a> <a id="12763" class="Symbol">:</a> <a id="12765" class="Symbol">âˆ€</a> <a id="12767" href="Varieties.Preservation.html#12767" class="Bound">i</a> <a id="12769" class="Symbol">â†’</a> <a id="12771" class="Symbol">(</a><a id="12772" href="Varieties.Preservation.html#12487" class="Function">llA</a> <a id="12776" href="Varieties.Preservation.html#12767" class="Bound">i</a><a id="12777" class="Symbol">)</a> <a id="12779" href="Homomorphisms.Isomorphisms.html#2278" class="Record Operator">â‰…</a> <a id="12781" class="Symbol">(</a><a id="12782" href="Varieties.Preservation.html#11864" class="Function">ğ”„&#39;</a> <a id="12785" href="Varieties.Preservation.html#12767" class="Bound">i</a><a id="12786" class="Symbol">)</a>
  <a id="12790" href="Varieties.Preservation.html#12757" class="Function">llAâ‰…A</a> <a id="12796" href="Varieties.Preservation.html#12796" class="Bound">i</a> <a id="12798" class="Symbol">=</a> <a id="12800" href="Homomorphisms.Isomorphisms.html#2998" class="Function">â‰…-trans</a> <a id="12808" class="Symbol">(</a><a id="12809" href="Homomorphisms.Isomorphisms.html#2909" class="Function">â‰…-sym</a> <a id="12815" href="Homomorphisms.Isomorphisms.html#4353" class="Function">Lift-â‰…</a><a id="12821" class="Symbol">)(</a><a id="12823" href="Homomorphisms.Isomorphisms.html#2909" class="Function">â‰…-sym</a> <a id="12829" href="Homomorphisms.Isomorphisms.html#4353" class="Function">Lift-â‰…</a><a id="12835" class="Symbol">)</a>

</pre>


So, since `PSâŠ†SP`, we see that that the product of all subalgebras of a class `ğ’¦` belongs to `SP(ğ’¦)`.

<pre class="Agda">

 <a id="class-products-with-maps.class-prod-s-âˆˆ-sp"></a><a id="12969" href="Varieties.Preservation.html#12969" class="Function">class-prod-s-âˆˆ-sp</a> <a id="12987" class="Symbol">:</a> <a id="12989" href="Foundations.Truncation.html#3966" class="Function">hfunext</a> <a id="12997" class="Symbol">(</a><a id="12998" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="13001" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="13002" class="Symbol">)</a> <a id="13004" class="Symbol">(</a><a id="13005" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="13008" href="Varieties.Preservation.html#10473" class="Bound">Î±</a><a id="13009" class="Symbol">)</a> <a id="13011" class="Symbol">â†’</a> <a id="13013" href="Algebras.Products.html#5381" class="Function">class-product</a> <a id="13027" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="13029" href="Varieties.Closure.html#3772" class="Datatype">S</a><a id="13030" class="Symbol">(</a><a id="13031" href="Varieties.Closure.html#4356" class="Datatype">P</a> <a id="13033" href="Varieties.Preservation.html#10611" class="Bound">ğ’¦</a><a id="13034" class="Symbol">)</a>
 <a id="13037" href="Varieties.Preservation.html#12969" class="Function">class-prod-s-âˆˆ-sp</a> <a id="13055" href="Varieties.Preservation.html#13055" class="Bound">hfe</a> <a id="13059" class="Symbol">=</a> <a id="13061" href="Varieties.Preservation.html#6340" class="Function">PSâŠ†SP</a> <a id="13067" class="Symbol">{</a><a id="13068" class="Argument">fovu</a> <a id="13073" class="Symbol">=</a> <a id="13075" href="Varieties.Preservation.html#10581" class="Bound">feâ‚‚</a><a id="13078" class="Symbol">}</a> <a id="13080" href="Varieties.Preservation.html#13055" class="Bound">hfe</a> <a id="13084" href="Varieties.Preservation.html#12348" class="Function">class-prod-s-âˆˆ-ps</a>

</pre>


#### <a id="h-preserves-identities">H preserves identities</a>

First we prove that the closure operator H is compatible with identities that hold in the given class.

<pre class="Agda">

<a id="13298" class="Keyword">open</a> <a id="13303" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">â‰¡-Reasoning</a>

<a id="13316" class="Keyword">private</a> <a id="13324" class="Keyword">variable</a> <a id="13333" href="Varieties.Preservation.html#13333" class="Generalizable">ğ“§</a> <a id="13335" class="Symbol">:</a> <a id="13337" href="Agda.Primitive.html#597" class="Postulate">Level</a>
<a id="13343" class="Keyword">open</a> <a id="13348" href="Terms.Basic.html#1989" class="Module">Term</a>

<a id="13354" class="Keyword">module</a> <a id="13361" href="Varieties.Preservation.html#13361" class="Module">_</a> <a id="13363" class="Symbol">(</a><a id="13364" href="Varieties.Preservation.html#13364" class="Bound">wd</a> <a id="13367" class="Symbol">:</a> <a id="13369" href="Foundations.Welldefined.html#2948" class="Function">SwellDef</a><a id="13377" class="Symbol">){</a><a id="13379" href="Varieties.Preservation.html#13379" class="Bound">X</a> <a id="13381" class="Symbol">:</a> <a id="13383" href="Varieties.Preservation.html#813" class="Primitive">Type</a> <a id="13388" href="Varieties.Preservation.html#13333" class="Generalizable">ğ“§</a><a id="13389" class="Symbol">}</a> <a id="13391" class="Symbol">{</a><a id="13392" href="Varieties.Preservation.html#13392" class="Bound">ğ’¦</a> <a id="13394" class="Symbol">:</a> <a id="13396" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="13401" class="Symbol">(</a><a id="13402" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="13410" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a> <a id="13412" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="13413" class="Symbol">)(</a><a id="13415" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="13418" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a><a id="13419" class="Symbol">)}</a> <a id="13422" class="Keyword">where</a>

 <a id="13430" href="Varieties.Preservation.html#13430" class="Function">H-id1</a> <a id="13436" class="Symbol">:</a> <a id="13438" class="Symbol">(</a><a id="13439" href="Varieties.Preservation.html#13439" class="Bound">p</a> <a id="13441" href="Varieties.Preservation.html#13441" class="Bound">q</a> <a id="13443" class="Symbol">:</a> <a id="13445" href="Terms.Basic.html#1989" class="Datatype">Term</a> <a id="13450" href="Varieties.Preservation.html#13379" class="Bound">X</a><a id="13451" class="Symbol">)</a> <a id="13453" class="Symbol">â†’</a> <a id="13455" href="Varieties.Preservation.html#13392" class="Bound">ğ’¦</a> <a id="13457" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="13459" href="Varieties.Preservation.html#13439" class="Bound">p</a> <a id="13461" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="13463" href="Varieties.Preservation.html#13441" class="Bound">q</a> <a id="13465" class="Symbol">â†’</a> <a id="13467" href="Varieties.Closure.html#3321" class="Datatype">H</a><a id="13468" class="Symbol">{</a><a id="13469" class="Argument">Î²</a> <a id="13471" class="Symbol">=</a> <a id="13473" href="Varieties.Preservation.html#13410" class="Bound">Î±</a><a id="13474" class="Symbol">}</a> <a id="13476" href="Varieties.Preservation.html#13392" class="Bound">ğ’¦</a> <a id="13478" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="13480" href="Varieties.Preservation.html#13439" class="Bound">p</a> <a id="13482" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="13484" href="Varieties.Preservation.html#13441" class="Bound">q</a>
 <a id="13487" href="Varieties.Preservation.html#13430" class="Function">H-id1</a> <a id="13493" href="Varieties.Preservation.html#13493" class="Bound">p</a> <a id="13495" href="Varieties.Preservation.html#13495" class="Bound">q</a> <a id="13497" href="Varieties.Preservation.html#13497" class="Bound">Ïƒ</a> <a id="13499" class="Symbol">(</a><a id="13500" href="Varieties.Closure.html#3416" class="InductiveConstructor">hbase</a> <a id="13506" href="Varieties.Preservation.html#13506" class="Bound">x</a><a id="13507" class="Symbol">)</a> <a id="13509" class="Symbol">=</a> <a id="13511" href="Varieties.Properties.html#4170" class="Function">âŠ§-Lift-invar</a> <a id="13524" href="Varieties.Preservation.html#13364" class="Bound">wd</a> <a id="13527" href="Varieties.Preservation.html#13493" class="Bound">p</a> <a id="13529" href="Varieties.Preservation.html#13495" class="Bound">q</a> <a id="13531" class="Symbol">(</a><a id="13532" href="Varieties.Preservation.html#13497" class="Bound">Ïƒ</a> <a id="13534" href="Varieties.Preservation.html#13506" class="Bound">x</a><a id="13535" class="Symbol">)</a>
 <a id="13538" href="Varieties.Preservation.html#13430" class="Function">H-id1</a> <a id="13544" href="Varieties.Preservation.html#13544" class="Bound">p</a> <a id="13546" href="Varieties.Preservation.html#13546" class="Bound">q</a> <a id="13548" href="Varieties.Preservation.html#13548" class="Bound">Ïƒ</a> <a id="13550" class="Symbol">(</a><a id="13551" href="Varieties.Closure.html#3472" class="InductiveConstructor">hhimg</a><a id="13556" class="Symbol">{</a><a id="13557" href="Varieties.Preservation.html#13557" class="Bound">ğ‘¨</a><a id="13558" class="Symbol">}{</a><a id="13560" href="Varieties.Preservation.html#13560" class="Bound">ğ‘ª</a><a id="13561" class="Symbol">}</a> <a id="13563" href="Varieties.Preservation.html#13563" class="Bound">HA</a> <a id="13566" class="Symbol">(</a><a id="13567" href="Varieties.Preservation.html#13567" class="Bound">ğ‘©</a> <a id="13569" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13571" class="Symbol">((</a><a id="13573" href="Varieties.Preservation.html#13573" class="Bound">Ï†</a> <a id="13575" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13577" href="Varieties.Preservation.html#13577" class="Bound">Ï†h</a><a id="13579" class="Symbol">)</a> <a id="13581" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13583" href="Varieties.Preservation.html#13583" class="Bound">Ï†E</a><a id="13585" class="Symbol">)))</a> <a id="13589" href="Varieties.Preservation.html#13589" class="Bound">b</a> <a id="13591" class="Symbol">=</a> <a id="13593" href="Varieties.Preservation.html#13761" class="Function">goal</a>
  <a id="13600" class="Keyword">where</a>
  <a id="13608" href="Varieties.Preservation.html#13608" class="Function">IH</a> <a id="13611" class="Symbol">:</a> <a id="13613" href="Varieties.Preservation.html#13557" class="Bound">ğ‘¨</a> <a id="13615" href="Varieties.EquationalLogic.html#2607" class="Function Operator">âŠ§</a> <a id="13617" href="Varieties.Preservation.html#13544" class="Bound">p</a> <a id="13619" href="Varieties.EquationalLogic.html#2607" class="Function Operator">â‰ˆ</a> <a id="13621" href="Varieties.Preservation.html#13546" class="Bound">q</a>
  <a id="13625" href="Varieties.Preservation.html#13608" class="Function">IH</a> <a id="13628" class="Symbol">=</a> <a id="13630" class="Symbol">(</a><a id="13631" href="Varieties.Preservation.html#13430" class="Function">H-id1</a> <a id="13637" href="Varieties.Preservation.html#13544" class="Bound">p</a> <a id="13639" href="Varieties.Preservation.html#13546" class="Bound">q</a> <a id="13641" href="Varieties.Preservation.html#13548" class="Bound">Ïƒ</a><a id="13642" class="Symbol">)</a> <a id="13644" href="Varieties.Preservation.html#13563" class="Bound">HA</a>

  <a id="13650" href="Varieties.Preservation.html#13650" class="Function">preim</a> <a id="13656" class="Symbol">:</a> <a id="13658" href="Varieties.Preservation.html#13379" class="Bound">X</a> <a id="13660" class="Symbol">â†’</a> <a id="13662" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="13664" href="Varieties.Preservation.html#13557" class="Bound">ğ‘¨</a> <a id="13666" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a>
  <a id="13670" href="Varieties.Preservation.html#13650" class="Function">preim</a> <a id="13676" href="Varieties.Preservation.html#13676" class="Bound">x</a> <a id="13678" class="Symbol">=</a> <a id="13680" href="Overture.Inverses.html#1861" class="Function">Inv</a> <a id="13684" href="Varieties.Preservation.html#13573" class="Bound">Ï†</a> <a id="13686" class="Symbol">(</a><a id="13687" href="Varieties.Preservation.html#13583" class="Bound">Ï†E</a> <a id="13690" class="Symbol">(</a><a id="13691" href="Varieties.Preservation.html#13589" class="Bound">b</a> <a id="13693" href="Varieties.Preservation.html#13676" class="Bound">x</a><a id="13694" class="Symbol">))</a>

  <a id="13700" href="Varieties.Preservation.html#13700" class="Function">Î¶</a> <a id="13702" class="Symbol">:</a> <a id="13704" class="Symbol">âˆ€</a> <a id="13706" href="Varieties.Preservation.html#13706" class="Bound">x</a> <a id="13708" class="Symbol">â†’</a> <a id="13710" href="Varieties.Preservation.html#13573" class="Bound">Ï†</a> <a id="13712" class="Symbol">(</a><a id="13713" href="Varieties.Preservation.html#13650" class="Function">preim</a> <a id="13719" href="Varieties.Preservation.html#13706" class="Bound">x</a><a id="13720" class="Symbol">)</a> <a id="13722" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="13724" href="Varieties.Preservation.html#13589" class="Bound">b</a> <a id="13726" href="Varieties.Preservation.html#13706" class="Bound">x</a>
  <a id="13730" href="Varieties.Preservation.html#13700" class="Function">Î¶</a> <a id="13732" href="Varieties.Preservation.html#13732" class="Bound">x</a> <a id="13734" class="Symbol">=</a> <a id="13736" href="Overture.Inverses.html#2024" class="Function">InvIsInv</a> <a id="13745" href="Varieties.Preservation.html#13573" class="Bound">Ï†</a> <a id="13747" class="Symbol">(</a><a id="13748" href="Varieties.Preservation.html#13583" class="Bound">Ï†E</a> <a id="13751" class="Symbol">(</a><a id="13752" href="Varieties.Preservation.html#13589" class="Bound">b</a> <a id="13754" href="Varieties.Preservation.html#13732" class="Bound">x</a><a id="13755" class="Symbol">))</a>

  <a id="13761" href="Varieties.Preservation.html#13761" class="Function">goal</a> <a id="13766" class="Symbol">:</a> <a id="13768" class="Symbol">(</a><a id="13769" href="Varieties.Preservation.html#13567" class="Bound">ğ‘©</a> <a id="13771" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="13773" href="Varieties.Preservation.html#13544" class="Bound">p</a> <a id="13775" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="13776" class="Symbol">)</a> <a id="13778" href="Varieties.Preservation.html#13589" class="Bound">b</a> <a id="13780" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="13782" class="Symbol">(</a><a id="13783" href="Varieties.Preservation.html#13567" class="Bound">ğ‘©</a> <a id="13785" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="13787" href="Varieties.Preservation.html#13546" class="Bound">q</a> <a id="13789" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="13790" class="Symbol">)</a> <a id="13792" href="Varieties.Preservation.html#13589" class="Bound">b</a>
  <a id="13796" href="Varieties.Preservation.html#13761" class="Function">goal</a> <a id="13801" class="Symbol">=</a> <a id="13803" class="Symbol">(</a><a id="13804" href="Varieties.Preservation.html#13567" class="Bound">ğ‘©</a> <a id="13806" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="13808" href="Varieties.Preservation.html#13544" class="Bound">p</a> <a id="13810" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="13811" class="Symbol">)</a> <a id="13813" href="Varieties.Preservation.html#13589" class="Bound">b</a>          <a id="13824" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="13827" href="Varieties.Preservation.html#13364" class="Bound">wd</a> <a id="13830" href="Varieties.Preservation.html#13388" class="Bound">ğ“§</a> <a id="13832" href="Varieties.Preservation.html#13410" class="Bound">Î±</a> <a id="13834" class="Symbol">(</a><a id="13835" href="Varieties.Preservation.html#13567" class="Bound">ğ‘©</a> <a id="13837" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="13839" href="Varieties.Preservation.html#13544" class="Bound">p</a> <a id="13841" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="13842" class="Symbol">)</a> <a id="13844" href="Varieties.Preservation.html#13589" class="Bound">b</a> <a id="13846" class="Symbol">(</a><a id="13847" href="Varieties.Preservation.html#13573" class="Bound">Ï†</a> <a id="13849" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="13851" href="Varieties.Preservation.html#13650" class="Function">preim</a> <a id="13857" class="Symbol">)(Î»</a> <a id="13861" href="Varieties.Preservation.html#13861" class="Bound">i</a> <a id="13863" class="Symbol">â†’</a> <a id="13865" class="Symbol">(</a><a id="13866" href="Varieties.Preservation.html#13700" class="Function">Î¶</a> <a id="13868" href="Varieties.Preservation.html#13861" class="Bound">i</a><a id="13869" class="Symbol">)</a><a id="13870" href="Overture.Preliminaries.html#4931" class="Function Operator">â»Â¹</a><a id="13872" class="Symbol">)</a><a id="13873" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="13881" class="Symbol">(</a><a id="13882" href="Varieties.Preservation.html#13567" class="Bound">ğ‘©</a> <a id="13884" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="13886" href="Varieties.Preservation.html#13544" class="Bound">p</a> <a id="13888" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="13889" class="Symbol">)(</a><a id="13891" href="Varieties.Preservation.html#13573" class="Bound">Ï†</a> <a id="13893" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="13895" href="Varieties.Preservation.html#13650" class="Function">preim</a><a id="13900" class="Symbol">)</a> <a id="13902" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="13904" class="Symbol">(</a><a id="13905" href="Terms.Operations.html#6535" class="Function">comm-hom-term</a> <a id="13919" class="Symbol">(</a><a id="13920" href="Varieties.Preservation.html#13364" class="Bound">wd</a> <a id="13923" href="Varieties.Preservation.html#627" class="Bound">ğ“¥</a> <a id="13925" href="Varieties.Preservation.html#13410" class="Bound">Î±</a><a id="13926" class="Symbol">)</a> <a id="13928" href="Varieties.Preservation.html#13567" class="Bound">ğ‘©</a> <a id="13930" class="Symbol">(</a><a id="13931" href="Varieties.Preservation.html#13573" class="Bound">Ï†</a> <a id="13933" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13935" href="Varieties.Preservation.html#13577" class="Bound">Ï†h</a><a id="13937" class="Symbol">)</a> <a id="13939" href="Varieties.Preservation.html#13544" class="Bound">p</a> <a id="13941" href="Varieties.Preservation.html#13650" class="Function">preim</a><a id="13946" class="Symbol">)</a><a id="13947" href="Overture.Preliminaries.html#4931" class="Function Operator">â»Â¹</a> <a id="13950" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="13958" href="Varieties.Preservation.html#13573" class="Bound">Ï†</a><a id="13959" class="Symbol">((</a><a id="13961" href="Varieties.Preservation.html#13557" class="Bound">ğ‘¨</a> <a id="13963" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="13965" href="Varieties.Preservation.html#13544" class="Bound">p</a> <a id="13967" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="13968" class="Symbol">)</a> <a id="13970" href="Varieties.Preservation.html#13650" class="Function">preim</a><a id="13975" class="Symbol">)</a>   <a id="13979" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="13982" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="13987" href="Varieties.Preservation.html#13573" class="Bound">Ï†</a> <a id="13989" class="Symbol">(</a><a id="13990" href="Varieties.Preservation.html#13608" class="Function">IH</a> <a id="13993" href="Varieties.Preservation.html#13650" class="Function">preim</a><a id="13998" class="Symbol">)</a> <a id="14000" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14008" href="Varieties.Preservation.html#13573" class="Bound">Ï†</a><a id="14009" class="Symbol">((</a><a id="14011" href="Varieties.Preservation.html#13557" class="Bound">ğ‘¨</a> <a id="14013" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="14015" href="Varieties.Preservation.html#13546" class="Bound">q</a> <a id="14017" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="14018" class="Symbol">)</a> <a id="14020" href="Varieties.Preservation.html#13650" class="Function">preim</a><a id="14025" class="Symbol">)</a>   <a id="14029" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14032" href="Terms.Operations.html#6535" class="Function">comm-hom-term</a> <a id="14046" class="Symbol">(</a><a id="14047" href="Varieties.Preservation.html#13364" class="Bound">wd</a> <a id="14050" href="Varieties.Preservation.html#627" class="Bound">ğ“¥</a> <a id="14052" href="Varieties.Preservation.html#13410" class="Bound">Î±</a><a id="14053" class="Symbol">)</a> <a id="14055" href="Varieties.Preservation.html#13567" class="Bound">ğ‘©</a> <a id="14057" class="Symbol">(</a><a id="14058" href="Varieties.Preservation.html#13573" class="Bound">Ï†</a> <a id="14060" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14062" href="Varieties.Preservation.html#13577" class="Bound">Ï†h</a><a id="14064" class="Symbol">)</a> <a id="14066" href="Varieties.Preservation.html#13546" class="Bound">q</a> <a id="14068" href="Varieties.Preservation.html#13650" class="Function">preim</a> <a id="14074" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14082" class="Symbol">(</a><a id="14083" href="Varieties.Preservation.html#13567" class="Bound">ğ‘©</a> <a id="14085" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="14087" href="Varieties.Preservation.html#13546" class="Bound">q</a> <a id="14089" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="14090" class="Symbol">)(</a><a id="14092" href="Varieties.Preservation.html#13573" class="Bound">Ï†</a> <a id="14094" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="14096" href="Varieties.Preservation.html#13650" class="Function">preim</a><a id="14101" class="Symbol">)</a> <a id="14103" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14106" href="Varieties.Preservation.html#13364" class="Bound">wd</a> <a id="14109" href="Varieties.Preservation.html#13388" class="Bound">ğ“§</a> <a id="14111" href="Varieties.Preservation.html#13410" class="Bound">Î±</a> <a id="14113" class="Symbol">(</a><a id="14114" href="Varieties.Preservation.html#13567" class="Bound">ğ‘©</a> <a id="14116" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="14118" href="Varieties.Preservation.html#13546" class="Bound">q</a> <a id="14120" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="14121" class="Symbol">)(</a><a id="14123" href="Varieties.Preservation.html#13573" class="Bound">Ï†</a> <a id="14125" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="14127" href="Varieties.Preservation.html#13650" class="Function">preim</a><a id="14132" class="Symbol">)</a> <a id="14134" href="Varieties.Preservation.html#13589" class="Bound">b</a> <a id="14136" href="Varieties.Preservation.html#13700" class="Function">Î¶</a> <a id="14138" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14146" class="Symbol">(</a><a id="14147" href="Varieties.Preservation.html#13567" class="Bound">ğ‘©</a> <a id="14149" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="14151" href="Varieties.Preservation.html#13546" class="Bound">q</a> <a id="14153" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="14154" class="Symbol">)</a> <a id="14156" href="Varieties.Preservation.html#13589" class="Bound">b</a>          <a id="14167" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

</pre>

The converse of the foregoing result is almost too obvious to bother with. Nonetheless, we formalize it for completeness.

<pre class="Agda">

 <a id="14320" href="Varieties.Preservation.html#14320" class="Function">H-id2</a> <a id="14326" class="Symbol">:</a> <a id="14328" class="Symbol">âˆ€</a> <a id="14330" class="Symbol">{</a><a id="14331" href="Varieties.Preservation.html#14331" class="Bound">Î²</a><a id="14332" class="Symbol">}</a> <a id="14334" class="Symbol">â†’</a> <a id="14336" class="Symbol">(</a><a id="14337" href="Varieties.Preservation.html#14337" class="Bound">p</a> <a id="14339" href="Varieties.Preservation.html#14339" class="Bound">q</a> <a id="14341" class="Symbol">:</a> <a id="14343" href="Terms.Basic.html#1989" class="Datatype">Term</a> <a id="14348" href="Varieties.Preservation.html#13379" class="Bound">X</a><a id="14349" class="Symbol">)</a> <a id="14351" class="Symbol">â†’</a> <a id="14353" href="Varieties.Closure.html#3321" class="Datatype">H</a><a id="14354" class="Symbol">{</a><a id="14355" class="Argument">Î²</a> <a id="14357" class="Symbol">=</a> <a id="14359" href="Varieties.Preservation.html#14331" class="Bound">Î²</a><a id="14360" class="Symbol">}</a> <a id="14362" href="Varieties.Preservation.html#13392" class="Bound">ğ’¦</a> <a id="14364" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="14366" href="Varieties.Preservation.html#14337" class="Bound">p</a> <a id="14368" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="14370" href="Varieties.Preservation.html#14339" class="Bound">q</a> <a id="14372" class="Symbol">â†’</a> <a id="14374" href="Varieties.Preservation.html#13392" class="Bound">ğ’¦</a> <a id="14376" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="14378" href="Varieties.Preservation.html#14337" class="Bound">p</a> <a id="14380" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="14382" href="Varieties.Preservation.html#14339" class="Bound">q</a>

 <a id="14386" href="Varieties.Preservation.html#14320" class="Function">H-id2</a> <a id="14392" href="Varieties.Preservation.html#14392" class="Bound">p</a> <a id="14394" href="Varieties.Preservation.html#14394" class="Bound">q</a> <a id="14396" href="Varieties.Preservation.html#14396" class="Bound">Hpq</a> <a id="14400" href="Varieties.Preservation.html#14400" class="Bound">KA</a> <a id="14403" class="Symbol">=</a> <a id="14405" href="Varieties.Properties.html#4304" class="Function">âŠ§-lower-invar</a> <a id="14419" href="Varieties.Preservation.html#13364" class="Bound">wd</a> <a id="14422" href="Varieties.Preservation.html#14392" class="Bound">p</a> <a id="14424" href="Varieties.Preservation.html#14394" class="Bound">q</a> <a id="14426" class="Symbol">(</a><a id="14427" href="Varieties.Preservation.html#14396" class="Bound">Hpq</a> <a id="14431" class="Symbol">(</a><a id="14432" href="Varieties.Closure.html#3416" class="InductiveConstructor">hbase</a> <a id="14438" href="Varieties.Preservation.html#14400" class="Bound">KA</a><a id="14440" class="Symbol">))</a>

</pre>


#### <a id="s-preserves-identities">S preserves identities</a>

<pre class="Agda">

 <a id="14536" href="Varieties.Preservation.html#14536" class="Function">S-id1</a> <a id="14542" class="Symbol">:</a> <a id="14544" class="Symbol">(</a><a id="14545" href="Varieties.Preservation.html#14545" class="Bound">p</a> <a id="14547" href="Varieties.Preservation.html#14547" class="Bound">q</a> <a id="14549" class="Symbol">:</a> <a id="14551" href="Terms.Basic.html#1989" class="Datatype">Term</a> <a id="14556" href="Varieties.Preservation.html#13379" class="Bound">X</a><a id="14557" class="Symbol">)</a> <a id="14559" class="Symbol">â†’</a> <a id="14561" href="Varieties.Preservation.html#13392" class="Bound">ğ’¦</a> <a id="14563" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="14565" href="Varieties.Preservation.html#14545" class="Bound">p</a> <a id="14567" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="14569" href="Varieties.Preservation.html#14547" class="Bound">q</a> <a id="14571" class="Symbol">â†’</a> <a id="14573" href="Varieties.Closure.html#3772" class="Datatype">S</a><a id="14574" class="Symbol">{</a><a id="14575" class="Argument">Î²</a> <a id="14577" class="Symbol">=</a> <a id="14579" href="Varieties.Preservation.html#13410" class="Bound">Î±</a><a id="14580" class="Symbol">}</a> <a id="14582" href="Varieties.Preservation.html#13392" class="Bound">ğ’¦</a> <a id="14584" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="14586" href="Varieties.Preservation.html#14545" class="Bound">p</a> <a id="14588" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="14590" href="Varieties.Preservation.html#14547" class="Bound">q</a>

 <a id="14594" href="Varieties.Preservation.html#14536" class="Function">S-id1</a> <a id="14600" href="Varieties.Preservation.html#14600" class="Bound">p</a> <a id="14602" href="Varieties.Preservation.html#14602" class="Bound">q</a> <a id="14604" href="Varieties.Preservation.html#14604" class="Bound">Ïƒ</a> <a id="14606" class="Symbol">(</a><a id="14607" href="Varieties.Closure.html#3860" class="InductiveConstructor">sbase</a> <a id="14613" href="Varieties.Preservation.html#14613" class="Bound">x</a><a id="14614" class="Symbol">)</a> <a id="14616" class="Symbol">=</a> <a id="14618" href="Varieties.Properties.html#4170" class="Function">âŠ§-Lift-invar</a> <a id="14631" href="Varieties.Preservation.html#13364" class="Bound">wd</a> <a id="14634" href="Varieties.Preservation.html#14600" class="Bound">p</a> <a id="14636" href="Varieties.Preservation.html#14602" class="Bound">q</a> <a id="14638" class="Symbol">(</a><a id="14639" href="Varieties.Preservation.html#14604" class="Bound">Ïƒ</a> <a id="14641" href="Varieties.Preservation.html#14613" class="Bound">x</a><a id="14642" class="Symbol">)</a>
 <a id="14645" href="Varieties.Preservation.html#14536" class="Function">S-id1</a> <a id="14651" href="Varieties.Preservation.html#14651" class="Bound">p</a> <a id="14653" href="Varieties.Preservation.html#14653" class="Bound">q</a> <a id="14655" href="Varieties.Preservation.html#14655" class="Bound">Ïƒ</a> <a id="14657" class="Symbol">(</a><a id="14658" href="Varieties.Closure.html#3916" class="InductiveConstructor">slift</a> <a id="14664" href="Varieties.Preservation.html#14664" class="Bound">x</a><a id="14665" class="Symbol">)</a> <a id="14667" class="Symbol">=</a> <a id="14669" href="Varieties.Properties.html#4170" class="Function">âŠ§-Lift-invar</a> <a id="14682" href="Varieties.Preservation.html#13364" class="Bound">wd</a> <a id="14685" href="Varieties.Preservation.html#14651" class="Bound">p</a> <a id="14687" href="Varieties.Preservation.html#14653" class="Bound">q</a> <a id="14689" class="Symbol">((</a><a id="14691" href="Varieties.Preservation.html#14536" class="Function">S-id1</a> <a id="14697" href="Varieties.Preservation.html#14651" class="Bound">p</a> <a id="14699" href="Varieties.Preservation.html#14653" class="Bound">q</a> <a id="14701" href="Varieties.Preservation.html#14655" class="Bound">Ïƒ</a><a id="14702" class="Symbol">)</a> <a id="14704" href="Varieties.Preservation.html#14664" class="Bound">x</a><a id="14705" class="Symbol">)</a>

 <a id="14709" href="Varieties.Preservation.html#14536" class="Function">S-id1</a> <a id="14715" href="Varieties.Preservation.html#14715" class="Bound">p</a> <a id="14717" href="Varieties.Preservation.html#14717" class="Bound">q</a> <a id="14719" href="Varieties.Preservation.html#14719" class="Bound">Ïƒ</a> <a id="14721" class="Symbol">(</a><a id="14722" href="Varieties.Closure.html#3980" class="InductiveConstructor">ssub</a><a id="14726" class="Symbol">{</a><a id="14727" href="Varieties.Preservation.html#14727" class="Bound">ğ‘¨</a><a id="14728" class="Symbol">}{</a><a id="14730" href="Varieties.Preservation.html#14730" class="Bound">ğ‘©</a><a id="14731" class="Symbol">}</a> <a id="14733" href="Varieties.Preservation.html#14733" class="Bound">sA</a> <a id="14736" href="Varieties.Preservation.html#14736" class="Bound">Bâ‰¤A</a><a id="14739" class="Symbol">)</a> <a id="14741" class="Symbol">=</a> <a id="14743" href="Varieties.Properties.html#5457" class="Function">âŠ§-S-class-invar</a> <a id="14759" href="Varieties.Preservation.html#13364" class="Bound">wd</a> <a id="14762" href="Varieties.Preservation.html#14715" class="Bound">p</a> <a id="14764" href="Varieties.Preservation.html#14717" class="Bound">q</a> <a id="14766" href="Varieties.Preservation.html#14894" class="Function">goal</a> <a id="14771" href="Varieties.Preservation.html#14976" class="Function">Î½</a>
  <a id="14775" class="Keyword">where</a> <a id="14781" class="Comment">--Apply S-âŠ§ to the class ğ’¦ âˆª ï½› ğ‘¨ ï½</a>
  <a id="14818" href="Varieties.Preservation.html#14818" class="Function">Ï„</a> <a id="14820" class="Symbol">:</a> <a id="14822" href="Varieties.Preservation.html#14727" class="Bound">ğ‘¨</a> <a id="14824" href="Varieties.EquationalLogic.html#2607" class="Function Operator">âŠ§</a> <a id="14826" href="Varieties.Preservation.html#14715" class="Bound">p</a> <a id="14828" href="Varieties.EquationalLogic.html#2607" class="Function Operator">â‰ˆ</a> <a id="14830" href="Varieties.Preservation.html#14717" class="Bound">q</a>
  <a id="14834" href="Varieties.Preservation.html#14818" class="Function">Ï„</a> <a id="14836" class="Symbol">=</a> <a id="14838" href="Varieties.Preservation.html#14536" class="Function">S-id1</a> <a id="14844" href="Varieties.Preservation.html#14715" class="Bound">p</a> <a id="14846" href="Varieties.Preservation.html#14717" class="Bound">q</a> <a id="14848" href="Varieties.Preservation.html#14719" class="Bound">Ïƒ</a> <a id="14850" href="Varieties.Preservation.html#14733" class="Bound">sA</a>

  <a id="14856" href="Varieties.Preservation.html#14856" class="Function">Apq</a> <a id="14860" class="Symbol">:</a> <a id="14862" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="14864" href="Varieties.Preservation.html#14727" class="Bound">ğ‘¨</a> <a id="14866" href="Relation.Unary.html#1335" class="Function Operator">ï½</a> <a id="14868" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="14870" href="Varieties.Preservation.html#14715" class="Bound">p</a> <a id="14872" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="14874" href="Varieties.Preservation.html#14717" class="Bound">q</a>
  <a id="14878" href="Varieties.Preservation.html#14856" class="Function">Apq</a> <a id="14882" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="14887" class="Symbol">=</a> <a id="14889" href="Varieties.Preservation.html#14818" class="Function">Ï„</a>

  <a id="14894" href="Varieties.Preservation.html#14894" class="Function">goal</a> <a id="14899" class="Symbol">:</a> <a id="14901" class="Symbol">(</a><a id="14902" href="Varieties.Preservation.html#13392" class="Bound">ğ’¦</a> <a id="14904" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="14906" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="14908" href="Varieties.Preservation.html#14727" class="Bound">ğ‘¨</a> <a id="14910" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="14911" class="Symbol">)</a> <a id="14913" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="14915" href="Varieties.Preservation.html#14715" class="Bound">p</a> <a id="14917" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="14919" href="Varieties.Preservation.html#14717" class="Bound">q</a>
  <a id="14923" href="Varieties.Preservation.html#14894" class="Function">goal</a> <a id="14928" class="Symbol">{</a><a id="14929" href="Varieties.Preservation.html#14929" class="Bound">ğ‘©</a><a id="14930" class="Symbol">}</a> <a id="14932" class="Symbol">(</a><a id="14933" href="Varieties.Preservation.html#1102" class="InductiveConstructor">inl</a> <a id="14937" href="Varieties.Preservation.html#14937" class="Bound">x</a><a id="14938" class="Symbol">)</a> <a id="14940" class="Symbol">=</a> <a id="14942" href="Varieties.Preservation.html#14719" class="Bound">Ïƒ</a> <a id="14944" href="Varieties.Preservation.html#14937" class="Bound">x</a>
  <a id="14948" href="Varieties.Preservation.html#14894" class="Function">goal</a> <a id="14953" class="Symbol">{</a><a id="14954" href="Varieties.Preservation.html#14954" class="Bound">ğ‘©</a><a id="14955" class="Symbol">}</a> <a id="14957" class="Symbol">(</a><a id="14958" href="Varieties.Preservation.html#1117" class="InductiveConstructor">inr</a> <a id="14962" href="Varieties.Preservation.html#14962" class="Bound">y</a><a id="14963" class="Symbol">)</a> <a id="14965" class="Symbol">=</a> <a id="14967" href="Varieties.Preservation.html#14856" class="Function">Apq</a> <a id="14971" href="Varieties.Preservation.html#14962" class="Bound">y</a>

  <a id="14976" href="Varieties.Preservation.html#14976" class="Function">Î½</a> <a id="14978" class="Symbol">:</a> <a id="14980" href="Subalgebras.Subalgebras.html#6483" class="Function">SubalgebraOfClass</a> <a id="14998" class="Symbol">(Î»</a> <a id="15001" href="Varieties.Preservation.html#15001" class="Bound">z</a> <a id="15003" class="Symbol">â†’</a> <a id="15005" class="Symbol">(</a><a id="15006" href="Varieties.Preservation.html#13392" class="Bound">ğ’¦</a> <a id="15008" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="15010" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="15012" href="Varieties.Preservation.html#14727" class="Bound">ğ‘¨</a> <a id="15014" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="15015" class="Symbol">)</a> <a id="15017" class="Symbol">(</a><a id="15018" href="Agda.Builtin.Sigma.html#252" class="Field">Data.Product.projâ‚</a> <a id="15037" href="Varieties.Preservation.html#15001" class="Bound">z</a> <a id="15039" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15041" href="Agda.Builtin.Sigma.html#264" class="Field">Data.Product.projâ‚‚</a> <a id="15060" href="Varieties.Preservation.html#15001" class="Bound">z</a><a id="15061" class="Symbol">))</a>
  <a id="15066" href="Varieties.Preservation.html#14976" class="Function">Î½</a> <a id="15068" class="Symbol">=</a> <a id="15070" class="Symbol">(</a><a id="15071" href="Varieties.Preservation.html#14730" class="Bound">ğ‘©</a> <a id="15073" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15075" href="Varieties.Preservation.html#14727" class="Bound">ğ‘¨</a> <a id="15077" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15079" class="Symbol">(</a><a id="15080" href="Varieties.Preservation.html#14730" class="Bound">ğ‘©</a> <a id="15082" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15084" href="Varieties.Preservation.html#14736" class="Bound">Bâ‰¤A</a><a id="15087" class="Symbol">)</a> <a id="15089" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15091" href="Data.Sum.Base.html#809" class="InductiveConstructor">_âŠ_.injâ‚‚</a> <a id="15100" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="15105" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15107" href="Homomorphisms.Isomorphisms.html#2819" class="Function">â‰…-refl</a><a id="15113" class="Symbol">)</a>

 <a id="15117" href="Varieties.Preservation.html#14536" class="Function">S-id1</a> <a id="15123" href="Varieties.Preservation.html#15123" class="Bound">p</a> <a id="15125" href="Varieties.Preservation.html#15125" class="Bound">q</a> <a id="15127" href="Varieties.Preservation.html#15127" class="Bound">Ïƒ</a> <a id="15129" class="Symbol">(</a><a id="15130" href="Varieties.Closure.html#4058" class="InductiveConstructor">siso</a><a id="15134" class="Symbol">{</a><a id="15135" href="Varieties.Preservation.html#15135" class="Bound">ğ‘¨</a><a id="15136" class="Symbol">}{</a><a id="15138" href="Varieties.Preservation.html#15138" class="Bound">ğ‘©</a><a id="15139" class="Symbol">}</a> <a id="15141" href="Varieties.Preservation.html#15141" class="Bound">x</a> <a id="15143" href="Varieties.Preservation.html#15143" class="Bound">xâ‚</a><a id="15145" class="Symbol">)</a> <a id="15147" class="Symbol">=</a> <a id="15149" href="Varieties.Properties.html#3227" class="Function">âŠ§-I-invar</a> <a id="15159" href="Varieties.Preservation.html#13364" class="Bound">wd</a> <a id="15162" href="Varieties.Preservation.html#15138" class="Bound">ğ‘©</a> <a id="15164" href="Varieties.Preservation.html#15123" class="Bound">p</a> <a id="15166" href="Varieties.Preservation.html#15125" class="Bound">q</a> <a id="15168" class="Symbol">(</a><a id="15169" href="Varieties.Preservation.html#14536" class="Function">S-id1</a> <a id="15175" href="Varieties.Preservation.html#15123" class="Bound">p</a> <a id="15177" href="Varieties.Preservation.html#15125" class="Bound">q</a> <a id="15179" href="Varieties.Preservation.html#15127" class="Bound">Ïƒ</a> <a id="15181" href="Varieties.Preservation.html#15141" class="Bound">x</a><a id="15182" class="Symbol">)</a> <a id="15184" href="Varieties.Preservation.html#15143" class="Bound">xâ‚</a>

</pre>

Again, the obvious converse is barely worth the bits needed to formalize it.

<pre class="Agda">

 <a id="15293" href="Varieties.Preservation.html#15293" class="Function">S-id2</a> <a id="15299" class="Symbol">:</a> <a id="15301" class="Symbol">âˆ€{</a><a id="15303" href="Varieties.Preservation.html#15303" class="Bound">Î²</a><a id="15304" class="Symbol">}(</a><a id="15306" href="Varieties.Preservation.html#15306" class="Bound">p</a> <a id="15308" href="Varieties.Preservation.html#15308" class="Bound">q</a> <a id="15310" class="Symbol">:</a> <a id="15312" href="Terms.Basic.html#1989" class="Datatype">Term</a> <a id="15317" href="Varieties.Preservation.html#13379" class="Bound">X</a><a id="15318" class="Symbol">)</a> <a id="15320" class="Symbol">â†’</a> <a id="15322" href="Varieties.Closure.html#3772" class="Datatype">S</a><a id="15323" class="Symbol">{</a><a id="15324" class="Argument">Î²</a> <a id="15326" class="Symbol">=</a> <a id="15328" href="Varieties.Preservation.html#15303" class="Bound">Î²</a><a id="15329" class="Symbol">}</a><a id="15330" href="Varieties.Preservation.html#13392" class="Bound">ğ’¦</a> <a id="15332" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="15334" href="Varieties.Preservation.html#15306" class="Bound">p</a> <a id="15336" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="15338" href="Varieties.Preservation.html#15308" class="Bound">q</a> <a id="15340" class="Symbol">â†’</a> <a id="15342" href="Varieties.Preservation.html#13392" class="Bound">ğ’¦</a> <a id="15344" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="15346" href="Varieties.Preservation.html#15306" class="Bound">p</a> <a id="15348" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="15350" href="Varieties.Preservation.html#15308" class="Bound">q</a>

 <a id="15354" href="Varieties.Preservation.html#15293" class="Function">S-id2</a> <a id="15360" href="Varieties.Preservation.html#15360" class="Bound">p</a> <a id="15362" href="Varieties.Preservation.html#15362" class="Bound">q</a> <a id="15364" href="Varieties.Preservation.html#15364" class="Bound">Spq</a> <a id="15368" class="Symbol">{</a><a id="15369" href="Varieties.Preservation.html#15369" class="Bound">ğ‘¨</a><a id="15370" class="Symbol">}</a> <a id="15372" href="Varieties.Preservation.html#15372" class="Bound">KA</a> <a id="15375" class="Symbol">=</a> <a id="15377" href="Varieties.Properties.html#4304" class="Function">âŠ§-lower-invar</a> <a id="15391" href="Varieties.Preservation.html#13364" class="Bound">wd</a> <a id="15394" href="Varieties.Preservation.html#15360" class="Bound">p</a> <a id="15396" href="Varieties.Preservation.html#15362" class="Bound">q</a> <a id="15398" class="Symbol">(</a><a id="15399" href="Varieties.Preservation.html#15364" class="Bound">Spq</a> <a id="15403" class="Symbol">(</a><a id="15404" href="Varieties.Closure.html#3860" class="InductiveConstructor">sbase</a> <a id="15410" href="Varieties.Preservation.html#15372" class="Bound">KA</a><a id="15412" class="Symbol">))</a>

</pre>



#### <a id="p-preserves-identities">P preserves identities</a>

<pre class="Agda">

<a id="15508" class="Keyword">module</a> <a id="15515" href="Varieties.Preservation.html#15515" class="Module">_</a> <a id="15517" class="Symbol">(</a><a id="15518" href="Varieties.Preservation.html#15518" class="Bound">fe</a> <a id="15521" class="Symbol">:</a> <a id="15523" href="Foundations.Extensionality.html#2465" class="Function">DFunExt</a><a id="15530" class="Symbol">)</a> <a id="15532" class="Symbol">(</a><a id="15533" href="Varieties.Preservation.html#15533" class="Bound">wd</a> <a id="15536" class="Symbol">:</a> <a id="15538" href="Foundations.Welldefined.html#2948" class="Function">SwellDef</a><a id="15546" class="Symbol">){</a><a id="15548" href="Varieties.Preservation.html#15548" class="Bound">X</a> <a id="15550" class="Symbol">:</a> <a id="15552" href="Varieties.Preservation.html#813" class="Primitive">Type</a> <a id="15557" href="Varieties.Preservation.html#13333" class="Generalizable">ğ“§</a><a id="15558" class="Symbol">}</a> <a id="15560" class="Symbol">{</a><a id="15561" href="Varieties.Preservation.html#15561" class="Bound">ğ’¦</a> <a id="15563" class="Symbol">:</a> <a id="15565" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="15570" class="Symbol">(</a><a id="15571" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="15579" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a> <a id="15581" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="15582" class="Symbol">)(</a><a id="15584" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="15587" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a><a id="15588" class="Symbol">)}</a> <a id="15591" class="Keyword">where</a>

 <a id="15599" href="Varieties.Preservation.html#15599" class="Function">P-id1</a> <a id="15605" class="Symbol">:</a> <a id="15607" class="Symbol">(</a><a id="15608" href="Varieties.Preservation.html#15608" class="Bound">p</a> <a id="15610" href="Varieties.Preservation.html#15610" class="Bound">q</a> <a id="15612" class="Symbol">:</a> <a id="15614" href="Terms.Basic.html#1989" class="Datatype">Term</a> <a id="15619" href="Varieties.Preservation.html#15548" class="Bound">X</a><a id="15620" class="Symbol">)</a> <a id="15622" class="Symbol">â†’</a> <a id="15624" href="Varieties.Preservation.html#15561" class="Bound">ğ’¦</a> <a id="15626" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="15628" href="Varieties.Preservation.html#15608" class="Bound">p</a> <a id="15630" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="15632" href="Varieties.Preservation.html#15610" class="Bound">q</a> <a id="15634" class="Symbol">â†’</a> <a id="15636" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="15637" class="Symbol">{</a><a id="15638" class="Argument">Î²</a> <a id="15640" class="Symbol">=</a> <a id="15642" href="Varieties.Preservation.html#15579" class="Bound">Î±</a><a id="15643" class="Symbol">}</a> <a id="15645" href="Varieties.Preservation.html#15561" class="Bound">ğ’¦</a> <a id="15647" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="15649" href="Varieties.Preservation.html#15608" class="Bound">p</a> <a id="15651" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="15653" href="Varieties.Preservation.html#15610" class="Bound">q</a>

 <a id="15657" href="Varieties.Preservation.html#15599" class="Function">P-id1</a> <a id="15663" href="Varieties.Preservation.html#15663" class="Bound">p</a> <a id="15665" href="Varieties.Preservation.html#15665" class="Bound">q</a> <a id="15667" href="Varieties.Preservation.html#15667" class="Bound">Ïƒ</a> <a id="15669" class="Symbol">(</a><a id="15670" href="Varieties.Closure.html#4444" class="InductiveConstructor">pbase</a> <a id="15676" href="Varieties.Preservation.html#15676" class="Bound">x</a><a id="15677" class="Symbol">)</a> <a id="15679" class="Symbol">=</a> <a id="15681" href="Varieties.Properties.html#4170" class="Function">âŠ§-Lift-invar</a> <a id="15694" href="Varieties.Preservation.html#15533" class="Bound">wd</a> <a id="15697" href="Varieties.Preservation.html#15663" class="Bound">p</a> <a id="15699" href="Varieties.Preservation.html#15665" class="Bound">q</a> <a id="15701" class="Symbol">(</a><a id="15702" href="Varieties.Preservation.html#15667" class="Bound">Ïƒ</a> <a id="15704" href="Varieties.Preservation.html#15676" class="Bound">x</a><a id="15705" class="Symbol">)</a>
 <a id="15708" href="Varieties.Preservation.html#15599" class="Function">P-id1</a> <a id="15714" href="Varieties.Preservation.html#15714" class="Bound">p</a> <a id="15716" href="Varieties.Preservation.html#15716" class="Bound">q</a> <a id="15718" href="Varieties.Preservation.html#15718" class="Bound">Ïƒ</a> <a id="15720" class="Symbol">(</a><a id="15721" href="Varieties.Closure.html#4501" class="InductiveConstructor">pliftu</a> <a id="15728" href="Varieties.Preservation.html#15728" class="Bound">x</a><a id="15729" class="Symbol">)</a> <a id="15731" class="Symbol">=</a> <a id="15733" href="Varieties.Properties.html#4170" class="Function">âŠ§-Lift-invar</a> <a id="15746" href="Varieties.Preservation.html#15533" class="Bound">wd</a> <a id="15749" href="Varieties.Preservation.html#15714" class="Bound">p</a> <a id="15751" href="Varieties.Preservation.html#15716" class="Bound">q</a> <a id="15753" class="Symbol">((</a><a id="15755" href="Varieties.Preservation.html#15599" class="Function">P-id1</a> <a id="15761" href="Varieties.Preservation.html#15714" class="Bound">p</a> <a id="15763" href="Varieties.Preservation.html#15716" class="Bound">q</a> <a id="15765" href="Varieties.Preservation.html#15718" class="Bound">Ïƒ</a><a id="15766" class="Symbol">)</a> <a id="15768" href="Varieties.Preservation.html#15728" class="Bound">x</a><a id="15769" class="Symbol">)</a>
 <a id="15772" href="Varieties.Preservation.html#15599" class="Function">P-id1</a> <a id="15778" href="Varieties.Preservation.html#15778" class="Bound">p</a> <a id="15780" href="Varieties.Preservation.html#15780" class="Bound">q</a> <a id="15782" href="Varieties.Preservation.html#15782" class="Bound">Ïƒ</a> <a id="15784" class="Symbol">(</a><a id="15785" href="Varieties.Closure.html#4566" class="InductiveConstructor">pliftw</a> <a id="15792" href="Varieties.Preservation.html#15792" class="Bound">x</a><a id="15793" class="Symbol">)</a> <a id="15795" class="Symbol">=</a> <a id="15797" href="Varieties.Properties.html#4170" class="Function">âŠ§-Lift-invar</a> <a id="15810" href="Varieties.Preservation.html#15533" class="Bound">wd</a> <a id="15813" href="Varieties.Preservation.html#15778" class="Bound">p</a> <a id="15815" href="Varieties.Preservation.html#15780" class="Bound">q</a> <a id="15817" class="Symbol">((</a><a id="15819" href="Varieties.Preservation.html#15599" class="Function">P-id1</a> <a id="15825" href="Varieties.Preservation.html#15778" class="Bound">p</a> <a id="15827" href="Varieties.Preservation.html#15780" class="Bound">q</a> <a id="15829" href="Varieties.Preservation.html#15782" class="Bound">Ïƒ</a><a id="15830" class="Symbol">)</a> <a id="15832" href="Varieties.Preservation.html#15792" class="Bound">x</a><a id="15833" class="Symbol">)</a>

 <a id="15837" href="Varieties.Preservation.html#15599" class="Function">P-id1</a> <a id="15843" href="Varieties.Preservation.html#15843" class="Bound">p</a> <a id="15845" href="Varieties.Preservation.html#15845" class="Bound">q</a> <a id="15847" href="Varieties.Preservation.html#15847" class="Bound">Ïƒ</a> <a id="15849" class="Symbol">(</a><a id="15850" href="Varieties.Closure.html#4643" class="InductiveConstructor">produ</a><a id="15855" class="Symbol">{</a><a id="15856" href="Varieties.Preservation.html#15856" class="Bound">I</a><a id="15857" class="Symbol">}{</a><a id="15859" href="Varieties.Preservation.html#15859" class="Bound">ğ’œ</a><a id="15860" class="Symbol">}</a> <a id="15862" href="Varieties.Preservation.html#15862" class="Bound">x</a><a id="15863" class="Symbol">)</a> <a id="15865" class="Symbol">=</a> <a id="15867" href="Varieties.Properties.html#7241" class="Function">âŠ§-P-lift-invar</a> <a id="15882" href="Varieties.Preservation.html#15518" class="Bound">fe</a> <a id="15885" href="Varieties.Preservation.html#15533" class="Bound">wd</a> <a id="15888" href="Varieties.Preservation.html#15859" class="Bound">ğ’œ</a>  <a id="15891" href="Varieties.Preservation.html#15843" class="Bound">p</a> <a id="15893" href="Varieties.Preservation.html#15845" class="Bound">q</a> <a id="15895" href="Varieties.Preservation.html#15908" class="Function">IH</a>
  <a id="15900" class="Keyword">where</a>
  <a id="15908" href="Varieties.Preservation.html#15908" class="Function">IH</a> <a id="15911" class="Symbol">:</a> <a id="15913" class="Symbol">âˆ€</a> <a id="15915" href="Varieties.Preservation.html#15915" class="Bound">i</a> <a id="15917" class="Symbol">â†’</a> <a id="15919" class="Symbol">(</a><a id="15920" href="Algebras.Basic.html#10499" class="Function">Lift-Alg</a> <a id="15929" class="Symbol">(</a><a id="15930" href="Varieties.Preservation.html#15859" class="Bound">ğ’œ</a> <a id="15932" href="Varieties.Preservation.html#15915" class="Bound">i</a><a id="15933" class="Symbol">)</a> <a id="15935" href="Varieties.Preservation.html#15579" class="Bound">Î±</a><a id="15936" class="Symbol">)</a> <a id="15938" href="Varieties.EquationalLogic.html#2607" class="Function Operator">âŠ§</a> <a id="15940" href="Varieties.Preservation.html#15843" class="Bound">p</a> <a id="15942" href="Varieties.EquationalLogic.html#2607" class="Function Operator">â‰ˆ</a> <a id="15944" href="Varieties.Preservation.html#15845" class="Bound">q</a>
  <a id="15948" href="Varieties.Preservation.html#15908" class="Function">IH</a> <a id="15951" href="Varieties.Preservation.html#15951" class="Bound">i</a> <a id="15953" class="Symbol">=</a> <a id="15955" href="Varieties.Properties.html#4170" class="Function">âŠ§-Lift-invar</a> <a id="15968" href="Varieties.Preservation.html#15533" class="Bound">wd</a>  <a id="15972" href="Varieties.Preservation.html#15843" class="Bound">p</a> <a id="15974" href="Varieties.Preservation.html#15845" class="Bound">q</a> <a id="15976" class="Symbol">((</a><a id="15978" href="Varieties.Preservation.html#15599" class="Function">P-id1</a> <a id="15984" href="Varieties.Preservation.html#15843" class="Bound">p</a> <a id="15986" href="Varieties.Preservation.html#15845" class="Bound">q</a> <a id="15988" href="Varieties.Preservation.html#15847" class="Bound">Ïƒ</a><a id="15989" class="Symbol">)</a> <a id="15991" class="Symbol">(</a><a id="15992" href="Varieties.Preservation.html#15862" class="Bound">x</a> <a id="15994" href="Varieties.Preservation.html#15951" class="Bound">i</a><a id="15995" class="Symbol">))</a>

 <a id="16000" href="Varieties.Preservation.html#15599" class="Function">P-id1</a> <a id="16006" href="Varieties.Preservation.html#16006" class="Bound">p</a> <a id="16008" href="Varieties.Preservation.html#16008" class="Bound">q</a> <a id="16010" href="Varieties.Preservation.html#16010" class="Bound">Ïƒ</a> <a id="16012" class="Symbol">(</a><a id="16013" href="Varieties.Closure.html#4728" class="InductiveConstructor">prodw</a><a id="16018" class="Symbol">{</a><a id="16019" href="Varieties.Preservation.html#16019" class="Bound">I</a><a id="16020" class="Symbol">}{</a><a id="16022" href="Varieties.Preservation.html#16022" class="Bound">ğ’œ</a><a id="16023" class="Symbol">}</a> <a id="16025" href="Varieties.Preservation.html#16025" class="Bound">x</a><a id="16026" class="Symbol">)</a> <a id="16028" class="Symbol">=</a> <a id="16030" href="Varieties.Properties.html#7241" class="Function">âŠ§-P-lift-invar</a> <a id="16045" href="Varieties.Preservation.html#15518" class="Bound">fe</a> <a id="16048" href="Varieties.Preservation.html#15533" class="Bound">wd</a> <a id="16051" href="Varieties.Preservation.html#16022" class="Bound">ğ’œ</a>  <a id="16054" href="Varieties.Preservation.html#16006" class="Bound">p</a> <a id="16056" href="Varieties.Preservation.html#16008" class="Bound">q</a> <a id="16058" href="Varieties.Preservation.html#16071" class="Function">IH</a>
  <a id="16063" class="Keyword">where</a>
  <a id="16071" href="Varieties.Preservation.html#16071" class="Function">IH</a> <a id="16074" class="Symbol">:</a> <a id="16076" class="Symbol">âˆ€</a> <a id="16078" href="Varieties.Preservation.html#16078" class="Bound">i</a> <a id="16080" class="Symbol">â†’</a> <a id="16082" class="Symbol">(</a><a id="16083" href="Algebras.Basic.html#10499" class="Function">Lift-Alg</a> <a id="16092" class="Symbol">(</a><a id="16093" href="Varieties.Preservation.html#16022" class="Bound">ğ’œ</a> <a id="16095" href="Varieties.Preservation.html#16078" class="Bound">i</a><a id="16096" class="Symbol">)</a> <a id="16098" href="Varieties.Preservation.html#15579" class="Bound">Î±</a><a id="16099" class="Symbol">)</a> <a id="16101" href="Varieties.EquationalLogic.html#2607" class="Function Operator">âŠ§</a> <a id="16103" href="Varieties.Preservation.html#16006" class="Bound">p</a> <a id="16105" href="Varieties.EquationalLogic.html#2607" class="Function Operator">â‰ˆ</a> <a id="16107" href="Varieties.Preservation.html#16008" class="Bound">q</a>
  <a id="16111" href="Varieties.Preservation.html#16071" class="Function">IH</a> <a id="16114" href="Varieties.Preservation.html#16114" class="Bound">i</a> <a id="16116" class="Symbol">=</a> <a id="16118" href="Varieties.Properties.html#4170" class="Function">âŠ§-Lift-invar</a> <a id="16131" href="Varieties.Preservation.html#15533" class="Bound">wd</a>  <a id="16135" href="Varieties.Preservation.html#16006" class="Bound">p</a> <a id="16137" href="Varieties.Preservation.html#16008" class="Bound">q</a> <a id="16139" class="Symbol">((</a><a id="16141" href="Varieties.Preservation.html#15599" class="Function">P-id1</a> <a id="16147" href="Varieties.Preservation.html#16006" class="Bound">p</a> <a id="16149" href="Varieties.Preservation.html#16008" class="Bound">q</a> <a id="16151" href="Varieties.Preservation.html#16010" class="Bound">Ïƒ</a><a id="16152" class="Symbol">)</a> <a id="16154" class="Symbol">(</a><a id="16155" href="Varieties.Preservation.html#16025" class="Bound">x</a> <a id="16157" href="Varieties.Preservation.html#16114" class="Bound">i</a><a id="16158" class="Symbol">))</a>

 <a id="16163" href="Varieties.Preservation.html#15599" class="Function">P-id1</a> <a id="16169" href="Varieties.Preservation.html#16169" class="Bound">p</a> <a id="16171" href="Varieties.Preservation.html#16171" class="Bound">q</a> <a id="16173" href="Varieties.Preservation.html#16173" class="Bound">Ïƒ</a> <a id="16175" class="Symbol">(</a><a id="16176" href="Varieties.Closure.html#4813" class="InductiveConstructor">pisow</a><a id="16181" class="Symbol">{</a><a id="16182" href="Varieties.Preservation.html#16182" class="Bound">ğ‘¨</a><a id="16183" class="Symbol">}{</a><a id="16185" href="Varieties.Preservation.html#16185" class="Bound">ğ‘©</a><a id="16186" class="Symbol">}</a> <a id="16188" href="Varieties.Preservation.html#16188" class="Bound">x</a> <a id="16190" href="Varieties.Preservation.html#16190" class="Bound">y</a><a id="16191" class="Symbol">)</a> <a id="16193" class="Symbol">=</a> <a id="16195" href="Varieties.Properties.html#3227" class="Function">âŠ§-I-invar</a> <a id="16205" href="Varieties.Preservation.html#15533" class="Bound">wd</a> <a id="16208" href="Varieties.Preservation.html#16185" class="Bound">ğ‘©</a> <a id="16210" href="Varieties.Preservation.html#16169" class="Bound">p</a> <a id="16212" href="Varieties.Preservation.html#16171" class="Bound">q</a> <a id="16214" class="Symbol">(</a><a id="16215" href="Varieties.Preservation.html#15599" class="Function">P-id1</a> <a id="16221" href="Varieties.Preservation.html#16169" class="Bound">p</a> <a id="16223" href="Varieties.Preservation.html#16171" class="Bound">q</a> <a id="16225" href="Varieties.Preservation.html#16173" class="Bound">Ïƒ</a> <a id="16227" href="Varieties.Preservation.html#16188" class="Bound">x</a><a id="16228" class="Symbol">)</a> <a id="16230" href="Varieties.Preservation.html#16190" class="Bound">y</a>

</pre>

...and conversely...

<pre class="Agda">

<a id="16281" class="Keyword">module</a> <a id="16288" href="Varieties.Preservation.html#16288" class="Module">_</a>  <a id="16291" class="Symbol">(</a><a id="16292" href="Varieties.Preservation.html#16292" class="Bound">wd</a> <a id="16295" class="Symbol">:</a> <a id="16297" href="Foundations.Welldefined.html#2948" class="Function">SwellDef</a><a id="16305" class="Symbol">){</a><a id="16307" href="Varieties.Preservation.html#16307" class="Bound">X</a> <a id="16309" class="Symbol">:</a> <a id="16311" href="Varieties.Preservation.html#813" class="Primitive">Type</a> <a id="16316" href="Varieties.Preservation.html#13333" class="Generalizable">ğ“§</a><a id="16317" class="Symbol">}</a> <a id="16319" class="Symbol">{</a><a id="16320" href="Varieties.Preservation.html#16320" class="Bound">ğ’¦</a> <a id="16322" class="Symbol">:</a> <a id="16324" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="16329" class="Symbol">(</a><a id="16330" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="16338" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a> <a id="16340" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="16341" class="Symbol">)(</a><a id="16343" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="16346" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a><a id="16347" class="Symbol">)}</a> <a id="16350" class="Keyword">where</a>

 <a id="16358" href="Varieties.Preservation.html#16358" class="Function">P-id2</a> <a id="16364" class="Symbol">:</a> <a id="16366" class="Symbol">âˆ€</a> <a id="16368" class="Symbol">{</a><a id="16369" href="Varieties.Preservation.html#16369" class="Bound">Î²</a><a id="16370" class="Symbol">}(</a><a id="16372" href="Varieties.Preservation.html#16372" class="Bound">p</a> <a id="16374" href="Varieties.Preservation.html#16374" class="Bound">q</a> <a id="16376" class="Symbol">:</a> <a id="16378" href="Terms.Basic.html#1989" class="Datatype">Term</a> <a id="16383" href="Varieties.Preservation.html#16307" class="Bound">X</a><a id="16384" class="Symbol">)</a> <a id="16386" class="Symbol">â†’</a> <a id="16388" href="Varieties.Closure.html#4356" class="Datatype">P</a><a id="16389" class="Symbol">{</a><a id="16390" class="Argument">Î²</a> <a id="16392" class="Symbol">=</a> <a id="16394" href="Varieties.Preservation.html#16369" class="Bound">Î²</a><a id="16395" class="Symbol">}</a> <a id="16397" href="Varieties.Preservation.html#16320" class="Bound">ğ’¦</a> <a id="16399" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="16401" href="Varieties.Preservation.html#16372" class="Bound">p</a> <a id="16403" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="16405" href="Varieties.Preservation.html#16374" class="Bound">q</a> <a id="16407" class="Symbol">â†’</a> <a id="16409" href="Varieties.Preservation.html#16320" class="Bound">ğ’¦</a> <a id="16411" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="16413" href="Varieties.Preservation.html#16372" class="Bound">p</a> <a id="16415" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="16417" href="Varieties.Preservation.html#16374" class="Bound">q</a>
 <a id="16420" href="Varieties.Preservation.html#16358" class="Function">P-id2</a> <a id="16426" href="Varieties.Preservation.html#16426" class="Bound">p</a> <a id="16428" href="Varieties.Preservation.html#16428" class="Bound">q</a> <a id="16430" href="Varieties.Preservation.html#16430" class="Bound">PKpq</a> <a id="16435" href="Varieties.Preservation.html#16435" class="Bound">KA</a> <a id="16438" class="Symbol">=</a> <a id="16440" href="Varieties.Properties.html#4304" class="Function">âŠ§-lower-invar</a> <a id="16454" href="Varieties.Preservation.html#16292" class="Bound">wd</a> <a id="16457" href="Varieties.Preservation.html#16426" class="Bound">p</a> <a id="16459" href="Varieties.Preservation.html#16428" class="Bound">q</a> <a id="16461" class="Symbol">(</a><a id="16462" href="Varieties.Preservation.html#16430" class="Bound">PKpq</a> <a id="16467" class="Symbol">(</a><a id="16468" href="Varieties.Closure.html#4444" class="InductiveConstructor">pbase</a> <a id="16474" href="Varieties.Preservation.html#16435" class="Bound">KA</a><a id="16476" class="Symbol">))</a>

</pre>


#### <a id="v-preserves-identities">V preserves identities</a>

Finally, we prove the analogous preservation lemmas for the closure operator `V`.

<pre class="Agda">

<a id="16654" class="Keyword">module</a> <a id="Vid"></a><a id="16661" href="Varieties.Preservation.html#16661" class="Module">Vid</a> <a id="16665" class="Symbol">(</a><a id="16666" href="Varieties.Preservation.html#16666" class="Bound">fe</a> <a id="16669" class="Symbol">:</a> <a id="16671" href="Foundations.Extensionality.html#2465" class="Function">DFunExt</a><a id="16678" class="Symbol">)(</a><a id="16680" href="Varieties.Preservation.html#16680" class="Bound">wd</a> <a id="16683" class="Symbol">:</a> <a id="16685" href="Foundations.Welldefined.html#2948" class="Function">SwellDef</a><a id="16693" class="Symbol">){</a><a id="16695" href="Varieties.Preservation.html#16695" class="Bound">ğ“§</a> <a id="16697" class="Symbol">:</a> <a id="16699" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="16704" class="Symbol">}</a> <a id="16706" class="Symbol">{</a><a id="16707" href="Varieties.Preservation.html#16707" class="Bound">X</a> <a id="16709" class="Symbol">:</a> <a id="16711" href="Varieties.Preservation.html#813" class="Primitive">Type</a> <a id="16716" href="Varieties.Preservation.html#16695" class="Bound">ğ“§</a><a id="16717" class="Symbol">}</a> <a id="16719" class="Symbol">{</a><a id="16720" href="Varieties.Preservation.html#16720" class="Bound">ğ’¦</a> <a id="16722" class="Symbol">:</a> <a id="16724" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="16729" class="Symbol">(</a><a id="16730" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="16738" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a> <a id="16740" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="16741" class="Symbol">)(</a><a id="16743" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="16746" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a><a id="16747" class="Symbol">)}</a> <a id="16750" class="Keyword">where</a>

 <a id="Vid.V-id1"></a><a id="16758" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="16764" class="Symbol">:</a> <a id="16766" class="Symbol">(</a><a id="16767" href="Varieties.Preservation.html#16767" class="Bound">p</a> <a id="16769" href="Varieties.Preservation.html#16769" class="Bound">q</a> <a id="16771" class="Symbol">:</a> <a id="16773" href="Terms.Basic.html#1989" class="Datatype">Term</a> <a id="16778" href="Varieties.Preservation.html#16707" class="Bound">X</a><a id="16779" class="Symbol">)</a> <a id="16781" class="Symbol">â†’</a> <a id="16783" href="Varieties.Preservation.html#16720" class="Bound">ğ’¦</a> <a id="16785" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="16787" href="Varieties.Preservation.html#16767" class="Bound">p</a> <a id="16789" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="16791" href="Varieties.Preservation.html#16769" class="Bound">q</a> <a id="16793" class="Symbol">â†’</a> <a id="16795" href="Varieties.Closure.html#5314" class="Datatype">V</a><a id="16796" class="Symbol">{</a><a id="16797" class="Argument">Î²</a> <a id="16799" class="Symbol">=</a> <a id="16801" href="Varieties.Preservation.html#16738" class="Bound">Î±</a><a id="16802" class="Symbol">}</a> <a id="16804" href="Varieties.Preservation.html#16720" class="Bound">ğ’¦</a> <a id="16806" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="16808" href="Varieties.Preservation.html#16767" class="Bound">p</a> <a id="16810" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="16812" href="Varieties.Preservation.html#16769" class="Bound">q</a>
 <a id="16815" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="16821" href="Varieties.Preservation.html#16821" class="Bound">p</a> <a id="16823" href="Varieties.Preservation.html#16823" class="Bound">q</a> <a id="16825" href="Varieties.Preservation.html#16825" class="Bound">Ïƒ</a> <a id="16827" class="Symbol">(</a><a id="16828" href="Varieties.Closure.html#5402" class="InductiveConstructor">vbase</a> <a id="16834" href="Varieties.Preservation.html#16834" class="Bound">x</a><a id="16835" class="Symbol">)</a> <a id="16837" class="Symbol">=</a> <a id="16839" href="Varieties.Properties.html#4170" class="Function">âŠ§-Lift-invar</a> <a id="16852" href="Varieties.Preservation.html#16680" class="Bound">wd</a> <a id="16855" href="Varieties.Preservation.html#16821" class="Bound">p</a> <a id="16857" href="Varieties.Preservation.html#16823" class="Bound">q</a> <a id="16859" class="Symbol">(</a><a id="16860" href="Varieties.Preservation.html#16825" class="Bound">Ïƒ</a> <a id="16862" href="Varieties.Preservation.html#16834" class="Bound">x</a><a id="16863" class="Symbol">)</a>
 <a id="16866" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="16872" href="Varieties.Preservation.html#16872" class="Bound">p</a> <a id="16874" href="Varieties.Preservation.html#16874" class="Bound">q</a> <a id="16876" href="Varieties.Preservation.html#16876" class="Bound">Ïƒ</a> <a id="16878" class="Symbol">(</a><a id="16879" href="Varieties.Closure.html#5459" class="InductiveConstructor">vlift</a><a id="16884" class="Symbol">{</a><a id="16885" href="Varieties.Preservation.html#16885" class="Bound">ğ‘¨</a><a id="16886" class="Symbol">}</a> <a id="16888" href="Varieties.Preservation.html#16888" class="Bound">x</a><a id="16889" class="Symbol">)</a> <a id="16891" class="Symbol">=</a> <a id="16893" href="Varieties.Properties.html#4170" class="Function">âŠ§-Lift-invar</a> <a id="16906" href="Varieties.Preservation.html#16680" class="Bound">wd</a> <a id="16909" href="Varieties.Preservation.html#16872" class="Bound">p</a> <a id="16911" href="Varieties.Preservation.html#16874" class="Bound">q</a> <a id="16913" class="Symbol">((</a><a id="16915" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="16921" href="Varieties.Preservation.html#16872" class="Bound">p</a> <a id="16923" href="Varieties.Preservation.html#16874" class="Bound">q</a> <a id="16925" href="Varieties.Preservation.html#16876" class="Bound">Ïƒ</a><a id="16926" class="Symbol">)</a> <a id="16928" href="Varieties.Preservation.html#16888" class="Bound">x</a><a id="16929" class="Symbol">)</a>
 <a id="16932" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="16938" href="Varieties.Preservation.html#16938" class="Bound">p</a> <a id="16940" href="Varieties.Preservation.html#16940" class="Bound">q</a> <a id="16942" href="Varieties.Preservation.html#16942" class="Bound">Ïƒ</a> <a id="16944" class="Symbol">(</a><a id="16945" href="Varieties.Closure.html#5524" class="InductiveConstructor">vliftw</a><a id="16951" class="Symbol">{</a><a id="16952" href="Varieties.Preservation.html#16952" class="Bound">ğ‘¨</a><a id="16953" class="Symbol">}</a> <a id="16955" href="Varieties.Preservation.html#16955" class="Bound">x</a><a id="16956" class="Symbol">)</a> <a id="16958" class="Symbol">=</a> <a id="16960" href="Varieties.Properties.html#4170" class="Function">âŠ§-Lift-invar</a> <a id="16973" href="Varieties.Preservation.html#16680" class="Bound">wd</a> <a id="16976" href="Varieties.Preservation.html#16938" class="Bound">p</a> <a id="16978" href="Varieties.Preservation.html#16940" class="Bound">q</a> <a id="16980" class="Symbol">((</a><a id="16982" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="16988" href="Varieties.Preservation.html#16938" class="Bound">p</a> <a id="16990" href="Varieties.Preservation.html#16940" class="Bound">q</a> <a id="16992" href="Varieties.Preservation.html#16942" class="Bound">Ïƒ</a><a id="16993" class="Symbol">)</a> <a id="16995" href="Varieties.Preservation.html#16955" class="Bound">x</a><a id="16996" class="Symbol">)</a>

 <a id="17000" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="17006" href="Varieties.Preservation.html#17006" class="Bound">p</a> <a id="17008" href="Varieties.Preservation.html#17008" class="Bound">q</a> <a id="17010" href="Varieties.Preservation.html#17010" class="Bound">Ïƒ</a> <a id="17012" class="Symbol">(</a><a id="17013" href="Varieties.Closure.html#5595" class="InductiveConstructor">vhimg</a><a id="17018" class="Symbol">{</a><a id="17019" href="Varieties.Preservation.html#17019" class="Bound">ğ‘¨</a><a id="17020" class="Symbol">}{</a><a id="17022" href="Varieties.Preservation.html#17022" class="Bound">ğ‘ª</a><a id="17023" class="Symbol">}</a><a id="17024" href="Varieties.Preservation.html#17024" class="Bound">VA</a> <a id="17027" class="Symbol">(</a><a id="17028" href="Varieties.Preservation.html#17028" class="Bound">ğ‘©</a> <a id="17030" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17032" class="Symbol">((</a><a id="17034" href="Varieties.Preservation.html#17034" class="Bound">Ï†</a> <a id="17036" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17038" href="Varieties.Preservation.html#17038" class="Bound">Ï†h</a><a id="17040" class="Symbol">)</a> <a id="17042" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17044" href="Varieties.Preservation.html#17044" class="Bound">Ï†E</a><a id="17046" class="Symbol">)))</a> <a id="17050" href="Varieties.Preservation.html#17050" class="Bound">b</a> <a id="17052" class="Symbol">=</a> <a id="17054" href="Varieties.Preservation.html#17220" class="Function">goal</a>
  <a id="17061" class="Keyword">where</a>
  <a id="17069" href="Varieties.Preservation.html#17069" class="Function">IH</a> <a id="17072" class="Symbol">:</a> <a id="17074" href="Varieties.Preservation.html#17019" class="Bound">ğ‘¨</a> <a id="17076" href="Varieties.EquationalLogic.html#2607" class="Function Operator">âŠ§</a> <a id="17078" href="Varieties.Preservation.html#17006" class="Bound">p</a> <a id="17080" href="Varieties.EquationalLogic.html#2607" class="Function Operator">â‰ˆ</a> <a id="17082" href="Varieties.Preservation.html#17008" class="Bound">q</a>
  <a id="17086" href="Varieties.Preservation.html#17069" class="Function">IH</a> <a id="17089" class="Symbol">=</a> <a id="17091" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="17097" href="Varieties.Preservation.html#17006" class="Bound">p</a> <a id="17099" href="Varieties.Preservation.html#17008" class="Bound">q</a> <a id="17101" href="Varieties.Preservation.html#17010" class="Bound">Ïƒ</a> <a id="17103" href="Varieties.Preservation.html#17024" class="Bound">VA</a>

  <a id="17109" href="Varieties.Preservation.html#17109" class="Function">preim</a> <a id="17115" class="Symbol">:</a> <a id="17117" href="Varieties.Preservation.html#16707" class="Bound">X</a> <a id="17119" class="Symbol">â†’</a> <a id="17121" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="17123" href="Varieties.Preservation.html#17019" class="Bound">ğ‘¨</a> <a id="17125" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a>
  <a id="17129" href="Varieties.Preservation.html#17109" class="Function">preim</a> <a id="17135" href="Varieties.Preservation.html#17135" class="Bound">x</a> <a id="17137" class="Symbol">=</a> <a id="17139" href="Overture.Inverses.html#1861" class="Function">Inv</a> <a id="17143" href="Varieties.Preservation.html#17034" class="Bound">Ï†</a> <a id="17145" class="Symbol">(</a><a id="17146" href="Varieties.Preservation.html#17044" class="Bound">Ï†E</a> <a id="17149" class="Symbol">(</a><a id="17150" href="Varieties.Preservation.html#17050" class="Bound">b</a> <a id="17152" href="Varieties.Preservation.html#17135" class="Bound">x</a><a id="17153" class="Symbol">))</a>

  <a id="17159" href="Varieties.Preservation.html#17159" class="Function">Î¶</a> <a id="17161" class="Symbol">:</a> <a id="17163" class="Symbol">âˆ€</a> <a id="17165" href="Varieties.Preservation.html#17165" class="Bound">x</a> <a id="17167" class="Symbol">â†’</a> <a id="17169" href="Varieties.Preservation.html#17034" class="Bound">Ï†</a> <a id="17171" class="Symbol">(</a><a id="17172" href="Varieties.Preservation.html#17109" class="Function">preim</a> <a id="17178" href="Varieties.Preservation.html#17165" class="Bound">x</a><a id="17179" class="Symbol">)</a> <a id="17181" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="17183" href="Varieties.Preservation.html#17050" class="Bound">b</a> <a id="17185" href="Varieties.Preservation.html#17165" class="Bound">x</a>
  <a id="17189" href="Varieties.Preservation.html#17159" class="Function">Î¶</a> <a id="17191" href="Varieties.Preservation.html#17191" class="Bound">x</a> <a id="17193" class="Symbol">=</a> <a id="17195" href="Overture.Inverses.html#2024" class="Function">InvIsInv</a> <a id="17204" href="Varieties.Preservation.html#17034" class="Bound">Ï†</a> <a id="17206" class="Symbol">(</a><a id="17207" href="Varieties.Preservation.html#17044" class="Bound">Ï†E</a> <a id="17210" class="Symbol">(</a><a id="17211" href="Varieties.Preservation.html#17050" class="Bound">b</a> <a id="17213" href="Varieties.Preservation.html#17191" class="Bound">x</a><a id="17214" class="Symbol">))</a>

  <a id="17220" href="Varieties.Preservation.html#17220" class="Function">goal</a> <a id="17225" class="Symbol">:</a> <a id="17227" class="Symbol">(</a><a id="17228" href="Varieties.Preservation.html#17028" class="Bound">ğ‘©</a> <a id="17230" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="17232" href="Varieties.Preservation.html#17006" class="Bound">p</a> <a id="17234" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="17235" class="Symbol">)</a> <a id="17237" href="Varieties.Preservation.html#17050" class="Bound">b</a> <a id="17239" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="17241" class="Symbol">(</a><a id="17242" href="Varieties.Preservation.html#17028" class="Bound">ğ‘©</a> <a id="17244" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="17246" href="Varieties.Preservation.html#17008" class="Bound">q</a> <a id="17248" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="17249" class="Symbol">)</a> <a id="17251" href="Varieties.Preservation.html#17050" class="Bound">b</a>
  <a id="17255" href="Varieties.Preservation.html#17220" class="Function">goal</a> <a id="17260" class="Symbol">=</a> <a id="17262" class="Symbol">(</a><a id="17263" href="Varieties.Preservation.html#17028" class="Bound">ğ‘©</a> <a id="17265" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="17267" href="Varieties.Preservation.html#17006" class="Bound">p</a> <a id="17269" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="17270" class="Symbol">)</a> <a id="17272" href="Varieties.Preservation.html#17050" class="Bound">b</a>          <a id="17283" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17286" href="Varieties.Preservation.html#16680" class="Bound">wd</a> <a id="17289" href="Varieties.Preservation.html#16695" class="Bound">ğ“§</a> <a id="17291" href="Varieties.Preservation.html#16738" class="Bound">Î±</a> <a id="17293" class="Symbol">(</a><a id="17294" href="Varieties.Preservation.html#17028" class="Bound">ğ‘©</a> <a id="17296" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="17298" href="Varieties.Preservation.html#17006" class="Bound">p</a> <a id="17300" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="17301" class="Symbol">)</a> <a id="17303" href="Varieties.Preservation.html#17050" class="Bound">b</a> <a id="17305" class="Symbol">(</a><a id="17306" href="Varieties.Preservation.html#17034" class="Bound">Ï†</a> <a id="17308" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17310" href="Varieties.Preservation.html#17109" class="Function">preim</a> <a id="17316" class="Symbol">)(Î»</a> <a id="17320" href="Varieties.Preservation.html#17320" class="Bound">i</a> <a id="17322" class="Symbol">â†’</a> <a id="17324" class="Symbol">(</a><a id="17325" href="Varieties.Preservation.html#17159" class="Function">Î¶</a> <a id="17327" href="Varieties.Preservation.html#17320" class="Bound">i</a><a id="17328" class="Symbol">)</a><a id="17329" href="Overture.Preliminaries.html#4931" class="Function Operator">â»Â¹</a><a id="17331" class="Symbol">)</a><a id="17332" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17340" class="Symbol">(</a><a id="17341" href="Varieties.Preservation.html#17028" class="Bound">ğ‘©</a> <a id="17343" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="17345" href="Varieties.Preservation.html#17006" class="Bound">p</a> <a id="17347" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="17348" class="Symbol">)(</a><a id="17350" href="Varieties.Preservation.html#17034" class="Bound">Ï†</a> <a id="17352" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17354" href="Varieties.Preservation.html#17109" class="Function">preim</a><a id="17359" class="Symbol">)</a> <a id="17361" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="17363" class="Symbol">(</a><a id="17364" href="Terms.Operations.html#6535" class="Function">comm-hom-term</a> <a id="17378" class="Symbol">(</a><a id="17379" href="Varieties.Preservation.html#16680" class="Bound">wd</a> <a id="17382" href="Varieties.Preservation.html#627" class="Bound">ğ“¥</a> <a id="17384" href="Varieties.Preservation.html#16738" class="Bound">Î±</a><a id="17385" class="Symbol">)</a> <a id="17387" href="Varieties.Preservation.html#17028" class="Bound">ğ‘©</a> <a id="17389" class="Symbol">(</a><a id="17390" href="Varieties.Preservation.html#17034" class="Bound">Ï†</a> <a id="17392" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17394" href="Varieties.Preservation.html#17038" class="Bound">Ï†h</a><a id="17396" class="Symbol">)</a> <a id="17398" href="Varieties.Preservation.html#17006" class="Bound">p</a> <a id="17400" href="Varieties.Preservation.html#17109" class="Function">preim</a><a id="17405" class="Symbol">)</a><a id="17406" href="Overture.Preliminaries.html#4931" class="Function Operator">â»Â¹</a> <a id="17409" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17417" href="Varieties.Preservation.html#17034" class="Bound">Ï†</a><a id="17418" class="Symbol">((</a><a id="17420" href="Varieties.Preservation.html#17019" class="Bound">ğ‘¨</a> <a id="17422" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="17424" href="Varieties.Preservation.html#17006" class="Bound">p</a> <a id="17426" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="17427" class="Symbol">)</a> <a id="17429" href="Varieties.Preservation.html#17109" class="Function">preim</a><a id="17434" class="Symbol">)</a>   <a id="17438" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17441" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="17446" href="Varieties.Preservation.html#17034" class="Bound">Ï†</a> <a id="17448" class="Symbol">(</a><a id="17449" href="Varieties.Preservation.html#17069" class="Function">IH</a> <a id="17452" href="Varieties.Preservation.html#17109" class="Function">preim</a><a id="17457" class="Symbol">)</a> <a id="17459" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17467" href="Varieties.Preservation.html#17034" class="Bound">Ï†</a><a id="17468" class="Symbol">((</a><a id="17470" href="Varieties.Preservation.html#17019" class="Bound">ğ‘¨</a> <a id="17472" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="17474" href="Varieties.Preservation.html#17008" class="Bound">q</a> <a id="17476" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="17477" class="Symbol">)</a> <a id="17479" href="Varieties.Preservation.html#17109" class="Function">preim</a><a id="17484" class="Symbol">)</a>   <a id="17488" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17491" href="Terms.Operations.html#6535" class="Function">comm-hom-term</a> <a id="17505" class="Symbol">(</a><a id="17506" href="Varieties.Preservation.html#16680" class="Bound">wd</a> <a id="17509" href="Varieties.Preservation.html#627" class="Bound">ğ“¥</a> <a id="17511" href="Varieties.Preservation.html#16738" class="Bound">Î±</a><a id="17512" class="Symbol">)</a> <a id="17514" href="Varieties.Preservation.html#17028" class="Bound">ğ‘©</a> <a id="17516" class="Symbol">(</a><a id="17517" href="Varieties.Preservation.html#17034" class="Bound">Ï†</a> <a id="17519" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17521" href="Varieties.Preservation.html#17038" class="Bound">Ï†h</a><a id="17523" class="Symbol">)</a> <a id="17525" href="Varieties.Preservation.html#17008" class="Bound">q</a> <a id="17527" href="Varieties.Preservation.html#17109" class="Function">preim</a> <a id="17533" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17541" class="Symbol">(</a><a id="17542" href="Varieties.Preservation.html#17028" class="Bound">ğ‘©</a> <a id="17544" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="17546" href="Varieties.Preservation.html#17008" class="Bound">q</a> <a id="17548" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="17549" class="Symbol">)(</a><a id="17551" href="Varieties.Preservation.html#17034" class="Bound">Ï†</a> <a id="17553" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17555" href="Varieties.Preservation.html#17109" class="Function">preim</a><a id="17560" class="Symbol">)</a> <a id="17562" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17565" href="Varieties.Preservation.html#16680" class="Bound">wd</a> <a id="17568" href="Varieties.Preservation.html#16695" class="Bound">ğ“§</a> <a id="17570" href="Varieties.Preservation.html#16738" class="Bound">Î±</a> <a id="17572" class="Symbol">(</a><a id="17573" href="Varieties.Preservation.html#17028" class="Bound">ğ‘©</a> <a id="17575" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="17577" href="Varieties.Preservation.html#17008" class="Bound">q</a> <a id="17579" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="17580" class="Symbol">)(</a><a id="17582" href="Varieties.Preservation.html#17034" class="Bound">Ï†</a> <a id="17584" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17586" href="Varieties.Preservation.html#17109" class="Function">preim</a><a id="17591" class="Symbol">)</a> <a id="17593" href="Varieties.Preservation.html#17050" class="Bound">b</a> <a id="17595" href="Varieties.Preservation.html#17159" class="Function">Î¶</a> <a id="17597" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17605" class="Symbol">(</a><a id="17606" href="Varieties.Preservation.html#17028" class="Bound">ğ‘©</a> <a id="17608" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="17610" href="Varieties.Preservation.html#17008" class="Bound">q</a> <a id="17612" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="17613" class="Symbol">)</a> <a id="17615" href="Varieties.Preservation.html#17050" class="Bound">b</a>          <a id="17626" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

 <a id="17630" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="17636" href="Varieties.Preservation.html#17636" class="Bound">p</a> <a id="17638" href="Varieties.Preservation.html#17638" class="Bound">q</a> <a id="17640" href="Varieties.Preservation.html#17640" class="Bound">Ïƒ</a> <a id="17642" class="Symbol">(</a> <a id="17644" href="Varieties.Closure.html#5677" class="InductiveConstructor">vssubw</a> <a id="17651" class="Symbol">{</a><a id="17652" href="Varieties.Preservation.html#17652" class="Bound">ğ‘¨</a><a id="17653" class="Symbol">}{</a><a id="17655" href="Varieties.Preservation.html#17655" class="Bound">ğ‘©</a><a id="17656" class="Symbol">}</a> <a id="17658" href="Varieties.Preservation.html#17658" class="Bound">VA</a> <a id="17661" href="Varieties.Preservation.html#17661" class="Bound">Bâ‰¤A</a> <a id="17665" class="Symbol">)</a> <a id="17667" class="Symbol">=</a>
  <a id="17671" href="Varieties.Properties.html#5457" class="Function">âŠ§-S-class-invar</a> <a id="17687" href="Varieties.Preservation.html#16680" class="Bound">wd</a> <a id="17690" href="Varieties.Preservation.html#17636" class="Bound">p</a> <a id="17692" href="Varieties.Preservation.html#17638" class="Bound">q</a> <a id="17694" href="Varieties.Preservation.html#17846" class="Function">goal</a> <a id="17699" class="Symbol">(</a><a id="17700" href="Varieties.Preservation.html#17655" class="Bound">ğ‘©</a> <a id="17702" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17704" href="Varieties.Preservation.html#17652" class="Bound">ğ‘¨</a> <a id="17706" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17708" class="Symbol">(</a><a id="17709" href="Varieties.Preservation.html#17655" class="Bound">ğ‘©</a> <a id="17711" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17713" href="Varieties.Preservation.html#17661" class="Bound">Bâ‰¤A</a><a id="17716" class="Symbol">)</a> <a id="17718" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17720" href="Varieties.Preservation.html#1117" class="InductiveConstructor">inr</a> <a id="17724" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17729" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17731" href="Homomorphisms.Isomorphisms.html#2819" class="Function">â‰…-refl</a><a id="17737" class="Symbol">)</a>
   <a id="17742" class="Keyword">where</a>
   <a id="17751" href="Varieties.Preservation.html#17751" class="Function">IH</a> <a id="17754" class="Symbol">:</a> <a id="17756" href="Varieties.Preservation.html#17652" class="Bound">ğ‘¨</a> <a id="17758" href="Varieties.EquationalLogic.html#2607" class="Function Operator">âŠ§</a> <a id="17760" href="Varieties.Preservation.html#17636" class="Bound">p</a> <a id="17762" href="Varieties.EquationalLogic.html#2607" class="Function Operator">â‰ˆ</a> <a id="17764" href="Varieties.Preservation.html#17638" class="Bound">q</a>
   <a id="17769" href="Varieties.Preservation.html#17751" class="Function">IH</a> <a id="17772" class="Symbol">=</a> <a id="17774" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="17780" href="Varieties.Preservation.html#17636" class="Bound">p</a> <a id="17782" href="Varieties.Preservation.html#17638" class="Bound">q</a> <a id="17784" href="Varieties.Preservation.html#17640" class="Bound">Ïƒ</a> <a id="17786" href="Varieties.Preservation.html#17658" class="Bound">VA</a>

   <a id="17793" href="Varieties.Preservation.html#17793" class="Function">Asinglepq</a> <a id="17803" class="Symbol">:</a> <a id="17805" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="17807" href="Varieties.Preservation.html#17652" class="Bound">ğ‘¨</a> <a id="17809" href="Relation.Unary.html#1335" class="Function Operator">ï½</a> <a id="17811" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="17813" href="Varieties.Preservation.html#17636" class="Bound">p</a> <a id="17815" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="17817" href="Varieties.Preservation.html#17638" class="Bound">q</a>
   <a id="17822" href="Varieties.Preservation.html#17793" class="Function">Asinglepq</a> <a id="17832" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17837" class="Symbol">=</a> <a id="17839" href="Varieties.Preservation.html#17751" class="Function">IH</a>

   <a id="17846" href="Varieties.Preservation.html#17846" class="Function">goal</a> <a id="17851" class="Symbol">:</a> <a id="17853" class="Symbol">(</a><a id="17854" href="Varieties.Preservation.html#16720" class="Bound">ğ’¦</a> <a id="17856" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="17858" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="17860" href="Varieties.Preservation.html#17652" class="Bound">ğ‘¨</a> <a id="17862" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="17863" class="Symbol">)</a> <a id="17865" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="17867" href="Varieties.Preservation.html#17636" class="Bound">p</a> <a id="17869" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="17871" href="Varieties.Preservation.html#17638" class="Bound">q</a>
   <a id="17876" href="Varieties.Preservation.html#17846" class="Function">goal</a> <a id="17881" class="Symbol">{</a><a id="17882" href="Varieties.Preservation.html#17882" class="Bound">ğ‘©</a><a id="17883" class="Symbol">}</a> <a id="17885" class="Symbol">(</a><a id="17886" href="Varieties.Preservation.html#1102" class="InductiveConstructor">inl</a> <a id="17890" href="Varieties.Preservation.html#17890" class="Bound">x</a><a id="17891" class="Symbol">)</a> <a id="17893" class="Symbol">=</a> <a id="17895" href="Varieties.Preservation.html#17640" class="Bound">Ïƒ</a> <a id="17897" href="Varieties.Preservation.html#17890" class="Bound">x</a>
   <a id="17902" href="Varieties.Preservation.html#17846" class="Function">goal</a> <a id="17907" class="Symbol">{</a><a id="17908" href="Varieties.Preservation.html#17908" class="Bound">ğ‘©</a><a id="17909" class="Symbol">}</a> <a id="17911" class="Symbol">(</a><a id="17912" href="Varieties.Preservation.html#1117" class="InductiveConstructor">inr</a> <a id="17916" href="Varieties.Preservation.html#17916" class="Bound">y</a><a id="17917" class="Symbol">)</a> <a id="17919" class="Symbol">=</a> <a id="17921" href="Varieties.Preservation.html#17793" class="Function">Asinglepq</a> <a id="17931" href="Varieties.Preservation.html#17916" class="Bound">y</a>

 <a id="17935" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="17941" href="Varieties.Preservation.html#17941" class="Bound">p</a> <a id="17943" href="Varieties.Preservation.html#17943" class="Bound">q</a> <a id="17945" href="Varieties.Preservation.html#17945" class="Bound">Ïƒ</a> <a id="17947" class="Symbol">(</a><a id="17948" href="Varieties.Closure.html#5741" class="InductiveConstructor">vprodu</a><a id="17954" class="Symbol">{</a><a id="17955" href="Varieties.Preservation.html#17955" class="Bound">I</a><a id="17956" class="Symbol">}{</a><a id="17958" href="Varieties.Preservation.html#17958" class="Bound">ğ’œ</a><a id="17959" class="Symbol">}</a> <a id="17961" href="Varieties.Preservation.html#17961" class="Bound">Vğ’œ</a><a id="17963" class="Symbol">)</a> <a id="17965" class="Symbol">=</a> <a id="17967" href="Varieties.Properties.html#6153" class="Function">âŠ§-P-invar</a> <a id="17977" href="Varieties.Preservation.html#16666" class="Bound">fe</a> <a id="17980" href="Varieties.Preservation.html#16680" class="Bound">wd</a> <a id="17983" href="Varieties.Preservation.html#17958" class="Bound">ğ’œ</a>  <a id="17986" href="Varieties.Preservation.html#17941" class="Bound">p</a> <a id="17988" href="Varieties.Preservation.html#17943" class="Bound">q</a> <a id="17990" class="Symbol">Î»</a> <a id="17992" href="Varieties.Preservation.html#17992" class="Bound">i</a> <a id="17994" class="Symbol">â†’</a> <a id="17996" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="18002" href="Varieties.Preservation.html#17941" class="Bound">p</a> <a id="18004" href="Varieties.Preservation.html#17943" class="Bound">q</a> <a id="18006" href="Varieties.Preservation.html#17945" class="Bound">Ïƒ</a> <a id="18008" class="Symbol">(</a><a id="18009" href="Varieties.Preservation.html#17961" class="Bound">Vğ’œ</a> <a id="18012" href="Varieties.Preservation.html#17992" class="Bound">i</a><a id="18013" class="Symbol">)</a>
 <a id="18016" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="18022" href="Varieties.Preservation.html#18022" class="Bound">p</a> <a id="18024" href="Varieties.Preservation.html#18024" class="Bound">q</a> <a id="18026" href="Varieties.Preservation.html#18026" class="Bound">Ïƒ</a> <a id="18028" class="Symbol">(</a><a id="18029" href="Varieties.Closure.html#5825" class="InductiveConstructor">vprodw</a><a id="18035" class="Symbol">{</a><a id="18036" href="Varieties.Preservation.html#18036" class="Bound">I</a><a id="18037" class="Symbol">}{</a><a id="18039" href="Varieties.Preservation.html#18039" class="Bound">ğ’œ</a><a id="18040" class="Symbol">}</a> <a id="18042" href="Varieties.Preservation.html#18042" class="Bound">Vğ’œ</a><a id="18044" class="Symbol">)</a> <a id="18046" class="Symbol">=</a> <a id="18048" href="Varieties.Properties.html#6153" class="Function">âŠ§-P-invar</a> <a id="18058" href="Varieties.Preservation.html#16666" class="Bound">fe</a> <a id="18061" href="Varieties.Preservation.html#16680" class="Bound">wd</a> <a id="18064" href="Varieties.Preservation.html#18039" class="Bound">ğ’œ</a>  <a id="18067" href="Varieties.Preservation.html#18022" class="Bound">p</a> <a id="18069" href="Varieties.Preservation.html#18024" class="Bound">q</a> <a id="18071" class="Symbol">Î»</a> <a id="18073" href="Varieties.Preservation.html#18073" class="Bound">i</a> <a id="18075" class="Symbol">â†’</a> <a id="18077" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="18083" href="Varieties.Preservation.html#18022" class="Bound">p</a> <a id="18085" href="Varieties.Preservation.html#18024" class="Bound">q</a> <a id="18087" href="Varieties.Preservation.html#18026" class="Bound">Ïƒ</a> <a id="18089" class="Symbol">(</a><a id="18090" href="Varieties.Preservation.html#18042" class="Bound">Vğ’œ</a> <a id="18093" href="Varieties.Preservation.html#18073" class="Bound">i</a><a id="18094" class="Symbol">)</a>
 <a id="18097" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="18103" href="Varieties.Preservation.html#18103" class="Bound">p</a> <a id="18105" href="Varieties.Preservation.html#18105" class="Bound">q</a> <a id="18107" href="Varieties.Preservation.html#18107" class="Bound">Ïƒ</a> <a id="18109" class="Symbol">(</a><a id="18110" href="Varieties.Closure.html#5909" class="InductiveConstructor">visou</a><a id="18115" class="Symbol">{</a><a id="18116" href="Varieties.Preservation.html#18116" class="Bound">ğ‘¨</a><a id="18117" class="Symbol">}{</a><a id="18119" href="Varieties.Preservation.html#18119" class="Bound">ğ‘©</a><a id="18120" class="Symbol">}</a> <a id="18122" href="Varieties.Preservation.html#18122" class="Bound">VA</a> <a id="18125" href="Varieties.Preservation.html#18125" class="Bound">Aâ‰…B</a><a id="18128" class="Symbol">)</a> <a id="18130" class="Symbol">=</a> <a id="18132" href="Varieties.Properties.html#3227" class="Function">âŠ§-I-invar</a> <a id="18142" href="Varieties.Preservation.html#16680" class="Bound">wd</a> <a id="18145" href="Varieties.Preservation.html#18119" class="Bound">ğ‘©</a> <a id="18147" href="Varieties.Preservation.html#18103" class="Bound">p</a> <a id="18149" href="Varieties.Preservation.html#18105" class="Bound">q</a> <a id="18151" class="Symbol">(</a><a id="18152" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="18158" href="Varieties.Preservation.html#18103" class="Bound">p</a> <a id="18160" href="Varieties.Preservation.html#18105" class="Bound">q</a> <a id="18162" href="Varieties.Preservation.html#18107" class="Bound">Ïƒ</a> <a id="18164" href="Varieties.Preservation.html#18122" class="Bound">VA</a><a id="18166" class="Symbol">)</a> <a id="18168" href="Varieties.Preservation.html#18125" class="Bound">Aâ‰…B</a>
 <a id="18173" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="18179" href="Varieties.Preservation.html#18179" class="Bound">p</a> <a id="18181" href="Varieties.Preservation.html#18181" class="Bound">q</a> <a id="18183" href="Varieties.Preservation.html#18183" class="Bound">Ïƒ</a> <a id="18185" class="Symbol">(</a><a id="18186" href="Varieties.Closure.html#5988" class="InductiveConstructor">visow</a><a id="18191" class="Symbol">{</a><a id="18192" href="Varieties.Preservation.html#18192" class="Bound">ğ‘¨</a><a id="18193" class="Symbol">}{</a><a id="18195" href="Varieties.Preservation.html#18195" class="Bound">ğ‘©</a><a id="18196" class="Symbol">}</a> <a id="18198" href="Varieties.Preservation.html#18198" class="Bound">VA</a> <a id="18201" href="Varieties.Preservation.html#18201" class="Bound">Aâ‰…B</a><a id="18204" class="Symbol">)</a> <a id="18206" class="Symbol">=</a> <a id="18208" href="Varieties.Properties.html#3227" class="Function">âŠ§-I-invar</a> <a id="18218" href="Varieties.Preservation.html#16680" class="Bound">wd</a> <a id="18221" href="Varieties.Preservation.html#18195" class="Bound">ğ‘©</a> <a id="18223" href="Varieties.Preservation.html#18179" class="Bound">p</a> <a id="18225" href="Varieties.Preservation.html#18181" class="Bound">q</a> <a id="18227" class="Symbol">(</a><a id="18228" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="18234" href="Varieties.Preservation.html#18179" class="Bound">p</a> <a id="18236" href="Varieties.Preservation.html#18181" class="Bound">q</a> <a id="18238" href="Varieties.Preservation.html#18183" class="Bound">Ïƒ</a> <a id="18240" href="Varieties.Preservation.html#18198" class="Bound">VA</a><a id="18242" class="Symbol">)</a> <a id="18244" href="Varieties.Preservation.html#18201" class="Bound">Aâ‰…B</a>

<a id="18249" class="Keyword">module</a> <a id="Vid&#39;"></a><a id="18256" href="Varieties.Preservation.html#18256" class="Module">Vid&#39;</a> <a id="18261" class="Symbol">(</a><a id="18262" href="Varieties.Preservation.html#18262" class="Bound">fe</a> <a id="18265" class="Symbol">:</a> <a id="18267" href="Foundations.Extensionality.html#2465" class="Function">DFunExt</a><a id="18274" class="Symbol">)(</a><a id="18276" href="Varieties.Preservation.html#18276" class="Bound">wd</a> <a id="18279" class="Symbol">:</a> <a id="18281" href="Foundations.Welldefined.html#2948" class="Function">SwellDef</a><a id="18289" class="Symbol">){</a><a id="18291" href="Varieties.Preservation.html#18291" class="Bound">ğ“§</a> <a id="18293" class="Symbol">:</a> <a id="18295" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="18300" class="Symbol">}</a> <a id="18302" class="Symbol">{</a><a id="18303" href="Varieties.Preservation.html#18303" class="Bound">X</a> <a id="18305" class="Symbol">:</a> <a id="18307" href="Varieties.Preservation.html#813" class="Primitive">Type</a> <a id="18312" href="Varieties.Preservation.html#18291" class="Bound">ğ“§</a><a id="18313" class="Symbol">}</a> <a id="18315" class="Symbol">{</a><a id="18316" href="Varieties.Preservation.html#18316" class="Bound">ğ’¦</a> <a id="18318" class="Symbol">:</a> <a id="18320" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="18325" class="Symbol">(</a><a id="18326" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="18334" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a> <a id="18336" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="18337" class="Symbol">)(</a><a id="18339" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="18342" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a><a id="18343" class="Symbol">)}</a> <a id="18346" class="Keyword">where</a>

 <a id="18354" class="Keyword">open</a> <a id="18359" href="Varieties.Preservation.html#16661" class="Module">Vid</a> <a id="18363" href="Varieties.Preservation.html#18262" class="Bound">fe</a> <a id="18366" href="Varieties.Preservation.html#18276" class="Bound">wd</a> <a id="18369" class="Symbol">{</a><a id="18370" href="Varieties.Preservation.html#18291" class="Bound">ğ“§</a><a id="18371" class="Symbol">}{</a><a id="18373" href="Varieties.Preservation.html#18303" class="Bound">X</a><a id="18374" class="Symbol">}{</a><a id="18376" href="Varieties.Preservation.html#18316" class="Bound">ğ’¦</a><a id="18377" class="Symbol">}</a> <a id="18379" class="Keyword">public</a>
 <a id="Vid&#39;.V-id1&#39;"></a><a id="18387" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="18394" class="Symbol">:</a> <a id="18396" class="Symbol">(</a><a id="18397" href="Varieties.Preservation.html#18397" class="Bound">p</a> <a id="18399" href="Varieties.Preservation.html#18399" class="Bound">q</a> <a id="18401" class="Symbol">:</a> <a id="18403" href="Terms.Basic.html#1989" class="Datatype">Term</a> <a id="18408" href="Varieties.Preservation.html#18303" class="Bound">X</a><a id="18409" class="Symbol">)</a> <a id="18411" class="Symbol">â†’</a> <a id="18413" href="Varieties.Preservation.html#18316" class="Bound">ğ’¦</a> <a id="18415" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="18417" href="Varieties.Preservation.html#18397" class="Bound">p</a> <a id="18419" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="18421" href="Varieties.Preservation.html#18399" class="Bound">q</a> <a id="18423" class="Symbol">â†’</a> <a id="18425" href="Varieties.Closure.html#5314" class="Datatype">V</a><a id="18426" class="Symbol">{</a><a id="18427" class="Argument">Î²</a> <a id="18429" class="Symbol">=</a> <a id="18431" href="Varieties.Preservation.html#3237" class="Generalizable">Î²</a><a id="18432" class="Symbol">}</a> <a id="18434" href="Varieties.Preservation.html#18316" class="Bound">ğ’¦</a> <a id="18436" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="18438" href="Varieties.Preservation.html#18397" class="Bound">p</a> <a id="18440" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="18442" href="Varieties.Preservation.html#18399" class="Bound">q</a>
 <a id="18445" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="18452" href="Varieties.Preservation.html#18452" class="Bound">p</a> <a id="18454" href="Varieties.Preservation.html#18454" class="Bound">q</a> <a id="18456" href="Varieties.Preservation.html#18456" class="Bound">Ïƒ</a> <a id="18458" class="Symbol">(</a><a id="18459" href="Varieties.Closure.html#5402" class="InductiveConstructor">vbase</a> <a id="18465" href="Varieties.Preservation.html#18465" class="Bound">x</a><a id="18466" class="Symbol">)</a> <a id="18468" class="Symbol">=</a> <a id="18470" href="Varieties.Properties.html#4170" class="Function">âŠ§-Lift-invar</a> <a id="18483" href="Varieties.Preservation.html#18276" class="Bound">wd</a> <a id="18486" href="Varieties.Preservation.html#18452" class="Bound">p</a> <a id="18488" href="Varieties.Preservation.html#18454" class="Bound">q</a> <a id="18490" class="Symbol">(</a><a id="18491" href="Varieties.Preservation.html#18456" class="Bound">Ïƒ</a> <a id="18493" href="Varieties.Preservation.html#18465" class="Bound">x</a><a id="18494" class="Symbol">)</a>
 <a id="18497" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="18504" href="Varieties.Preservation.html#18504" class="Bound">p</a> <a id="18506" href="Varieties.Preservation.html#18506" class="Bound">q</a> <a id="18508" href="Varieties.Preservation.html#18508" class="Bound">Ïƒ</a> <a id="18510" class="Symbol">(</a><a id="18511" href="Varieties.Closure.html#5459" class="InductiveConstructor">vlift</a><a id="18516" class="Symbol">{</a><a id="18517" href="Varieties.Preservation.html#18517" class="Bound">ğ‘¨</a><a id="18518" class="Symbol">}</a> <a id="18520" href="Varieties.Preservation.html#18520" class="Bound">x</a><a id="18521" class="Symbol">)</a> <a id="18523" class="Symbol">=</a> <a id="18525" href="Varieties.Properties.html#4170" class="Function">âŠ§-Lift-invar</a> <a id="18538" href="Varieties.Preservation.html#18276" class="Bound">wd</a> <a id="18541" href="Varieties.Preservation.html#18504" class="Bound">p</a> <a id="18543" href="Varieties.Preservation.html#18506" class="Bound">q</a> <a id="18545" class="Symbol">((</a><a id="18547" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="18553" href="Varieties.Preservation.html#18504" class="Bound">p</a> <a id="18555" href="Varieties.Preservation.html#18506" class="Bound">q</a> <a id="18557" href="Varieties.Preservation.html#18508" class="Bound">Ïƒ</a><a id="18558" class="Symbol">)</a> <a id="18560" href="Varieties.Preservation.html#18520" class="Bound">x</a><a id="18561" class="Symbol">)</a>
 <a id="18564" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="18571" href="Varieties.Preservation.html#18571" class="Bound">p</a> <a id="18573" href="Varieties.Preservation.html#18573" class="Bound">q</a> <a id="18575" href="Varieties.Preservation.html#18575" class="Bound">Ïƒ</a> <a id="18577" class="Symbol">(</a><a id="18578" href="Varieties.Closure.html#5524" class="InductiveConstructor">vliftw</a><a id="18584" class="Symbol">{</a><a id="18585" href="Varieties.Preservation.html#18585" class="Bound">ğ‘¨</a><a id="18586" class="Symbol">}</a> <a id="18588" href="Varieties.Preservation.html#18588" class="Bound">x</a><a id="18589" class="Symbol">)</a> <a id="18591" class="Symbol">=</a> <a id="18593" href="Varieties.Properties.html#4170" class="Function">âŠ§-Lift-invar</a> <a id="18606" href="Varieties.Preservation.html#18276" class="Bound">wd</a> <a id="18609" href="Varieties.Preservation.html#18571" class="Bound">p</a> <a id="18611" href="Varieties.Preservation.html#18573" class="Bound">q</a> <a id="18613" class="Symbol">((</a><a id="18615" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="18622" href="Varieties.Preservation.html#18571" class="Bound">p</a> <a id="18624" href="Varieties.Preservation.html#18573" class="Bound">q</a> <a id="18626" href="Varieties.Preservation.html#18575" class="Bound">Ïƒ</a><a id="18627" class="Symbol">)</a> <a id="18629" href="Varieties.Preservation.html#18588" class="Bound">x</a><a id="18630" class="Symbol">)</a>
 <a id="18633" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="18640" href="Varieties.Preservation.html#18640" class="Bound">p</a> <a id="18642" href="Varieties.Preservation.html#18642" class="Bound">q</a> <a id="18644" href="Varieties.Preservation.html#18644" class="Bound">Ïƒ</a> <a id="18646" class="Symbol">(</a><a id="18647" href="Varieties.Closure.html#5595" class="InductiveConstructor">vhimg</a><a id="18652" class="Symbol">{</a><a id="18653" href="Varieties.Preservation.html#18653" class="Bound">ğ‘¨</a><a id="18654" class="Symbol">}{</a><a id="18656" href="Varieties.Preservation.html#18656" class="Bound">ğ‘ª</a><a id="18657" class="Symbol">}</a> <a id="18659" href="Varieties.Preservation.html#18659" class="Bound">VA</a> <a id="18662" class="Symbol">(</a><a id="18663" href="Varieties.Preservation.html#18663" class="Bound">ğ‘©</a> <a id="18665" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18667" class="Symbol">((</a><a id="18669" href="Varieties.Preservation.html#18669" class="Bound">Ï†</a> <a id="18671" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18673" href="Varieties.Preservation.html#18673" class="Bound">Ï†h</a><a id="18675" class="Symbol">)</a> <a id="18677" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18679" href="Varieties.Preservation.html#18679" class="Bound">Ï†E</a><a id="18681" class="Symbol">)))</a> <a id="18685" href="Varieties.Preservation.html#18685" class="Bound">b</a> <a id="18687" class="Symbol">=</a> <a id="18689" href="Varieties.Preservation.html#18856" class="Function">goal</a>
  <a id="18696" class="Keyword">where</a>
  <a id="18704" href="Varieties.Preservation.html#18704" class="Function">IH</a> <a id="18707" class="Symbol">:</a> <a id="18709" href="Varieties.Preservation.html#18653" class="Bound">ğ‘¨</a> <a id="18711" href="Varieties.EquationalLogic.html#2607" class="Function Operator">âŠ§</a> <a id="18713" href="Varieties.Preservation.html#18640" class="Bound">p</a> <a id="18715" href="Varieties.EquationalLogic.html#2607" class="Function Operator">â‰ˆ</a> <a id="18717" href="Varieties.Preservation.html#18642" class="Bound">q</a>
  <a id="18721" href="Varieties.Preservation.html#18704" class="Function">IH</a> <a id="18724" class="Symbol">=</a> <a id="18726" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="18733" href="Varieties.Preservation.html#18640" class="Bound">p</a> <a id="18735" href="Varieties.Preservation.html#18642" class="Bound">q</a> <a id="18737" href="Varieties.Preservation.html#18644" class="Bound">Ïƒ</a> <a id="18739" href="Varieties.Preservation.html#18659" class="Bound">VA</a>

  <a id="18745" href="Varieties.Preservation.html#18745" class="Function">preim</a> <a id="18751" class="Symbol">:</a> <a id="18753" href="Varieties.Preservation.html#18303" class="Bound">X</a> <a id="18755" class="Symbol">â†’</a> <a id="18757" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="18759" href="Varieties.Preservation.html#18653" class="Bound">ğ‘¨</a> <a id="18761" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a>
  <a id="18765" href="Varieties.Preservation.html#18745" class="Function">preim</a> <a id="18771" href="Varieties.Preservation.html#18771" class="Bound">x</a> <a id="18773" class="Symbol">=</a> <a id="18775" href="Overture.Inverses.html#1861" class="Function">Inv</a> <a id="18779" href="Varieties.Preservation.html#18669" class="Bound">Ï†</a> <a id="18781" class="Symbol">(</a><a id="18782" href="Varieties.Preservation.html#18679" class="Bound">Ï†E</a> <a id="18785" class="Symbol">(</a><a id="18786" href="Varieties.Preservation.html#18685" class="Bound">b</a> <a id="18788" href="Varieties.Preservation.html#18771" class="Bound">x</a><a id="18789" class="Symbol">))</a>

  <a id="18795" href="Varieties.Preservation.html#18795" class="Function">Î¶</a> <a id="18797" class="Symbol">:</a> <a id="18799" class="Symbol">âˆ€</a> <a id="18801" href="Varieties.Preservation.html#18801" class="Bound">x</a> <a id="18803" class="Symbol">â†’</a> <a id="18805" href="Varieties.Preservation.html#18669" class="Bound">Ï†</a> <a id="18807" class="Symbol">(</a><a id="18808" href="Varieties.Preservation.html#18745" class="Function">preim</a> <a id="18814" href="Varieties.Preservation.html#18801" class="Bound">x</a><a id="18815" class="Symbol">)</a> <a id="18817" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="18819" href="Varieties.Preservation.html#18685" class="Bound">b</a> <a id="18821" href="Varieties.Preservation.html#18801" class="Bound">x</a>
  <a id="18825" href="Varieties.Preservation.html#18795" class="Function">Î¶</a> <a id="18827" href="Varieties.Preservation.html#18827" class="Bound">x</a> <a id="18829" class="Symbol">=</a> <a id="18831" href="Overture.Inverses.html#2024" class="Function">InvIsInv</a> <a id="18840" href="Varieties.Preservation.html#18669" class="Bound">Ï†</a> <a id="18842" class="Symbol">(</a><a id="18843" href="Varieties.Preservation.html#18679" class="Bound">Ï†E</a> <a id="18846" class="Symbol">(</a><a id="18847" href="Varieties.Preservation.html#18685" class="Bound">b</a> <a id="18849" href="Varieties.Preservation.html#18827" class="Bound">x</a><a id="18850" class="Symbol">))</a>

  <a id="18856" href="Varieties.Preservation.html#18856" class="Function">goal</a> <a id="18861" class="Symbol">:</a> <a id="18863" class="Symbol">(</a><a id="18864" href="Varieties.Preservation.html#18663" class="Bound">ğ‘©</a> <a id="18866" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="18868" href="Varieties.Preservation.html#18640" class="Bound">p</a> <a id="18870" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="18871" class="Symbol">)</a> <a id="18873" href="Varieties.Preservation.html#18685" class="Bound">b</a> <a id="18875" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="18877" class="Symbol">(</a><a id="18878" href="Varieties.Preservation.html#18663" class="Bound">ğ‘©</a> <a id="18880" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="18882" href="Varieties.Preservation.html#18642" class="Bound">q</a> <a id="18884" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="18885" class="Symbol">)</a> <a id="18887" href="Varieties.Preservation.html#18685" class="Bound">b</a>
  <a id="18891" href="Varieties.Preservation.html#18856" class="Function">goal</a> <a id="18896" class="Symbol">=</a> <a id="18898" class="Symbol">(</a><a id="18899" href="Varieties.Preservation.html#18663" class="Bound">ğ‘©</a> <a id="18901" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="18903" href="Varieties.Preservation.html#18640" class="Bound">p</a> <a id="18905" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="18906" class="Symbol">)</a> <a id="18908" href="Varieties.Preservation.html#18685" class="Bound">b</a>          <a id="18919" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="18922" href="Varieties.Preservation.html#18276" class="Bound">wd</a> <a id="18925" href="Varieties.Preservation.html#18291" class="Bound">ğ“§</a> <a id="18927" class="Symbol">_</a> <a id="18929" class="Symbol">(</a><a id="18930" href="Varieties.Preservation.html#18663" class="Bound">ğ‘©</a> <a id="18932" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="18934" href="Varieties.Preservation.html#18640" class="Bound">p</a> <a id="18936" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="18937" class="Symbol">)</a> <a id="18939" href="Varieties.Preservation.html#18685" class="Bound">b</a> <a id="18941" class="Symbol">(</a><a id="18942" href="Varieties.Preservation.html#18669" class="Bound">Ï†</a> <a id="18944" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="18946" href="Varieties.Preservation.html#18745" class="Function">preim</a> <a id="18952" class="Symbol">)(Î»</a> <a id="18956" href="Varieties.Preservation.html#18956" class="Bound">i</a> <a id="18958" class="Symbol">â†’</a> <a id="18960" class="Symbol">(</a><a id="18961" href="Varieties.Preservation.html#18795" class="Function">Î¶</a> <a id="18963" href="Varieties.Preservation.html#18956" class="Bound">i</a><a id="18964" class="Symbol">)</a><a id="18965" href="Overture.Preliminaries.html#4931" class="Function Operator">â»Â¹</a><a id="18967" class="Symbol">)</a><a id="18968" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="18976" class="Symbol">(</a><a id="18977" href="Varieties.Preservation.html#18663" class="Bound">ğ‘©</a> <a id="18979" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="18981" href="Varieties.Preservation.html#18640" class="Bound">p</a> <a id="18983" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="18984" class="Symbol">)(</a><a id="18986" href="Varieties.Preservation.html#18669" class="Bound">Ï†</a> <a id="18988" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="18990" href="Varieties.Preservation.html#18745" class="Function">preim</a><a id="18995" class="Symbol">)</a> <a id="18997" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="18999" class="Symbol">(</a><a id="19000" href="Terms.Operations.html#6535" class="Function">comm-hom-term</a> <a id="19014" class="Symbol">(</a><a id="19015" href="Varieties.Preservation.html#18276" class="Bound">wd</a> <a id="19018" href="Varieties.Preservation.html#627" class="Bound">ğ“¥</a> <a id="19020" class="Symbol">_)</a> <a id="19023" href="Varieties.Preservation.html#18663" class="Bound">ğ‘©</a> <a id="19025" class="Symbol">(</a><a id="19026" href="Varieties.Preservation.html#18669" class="Bound">Ï†</a> <a id="19028" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19030" href="Varieties.Preservation.html#18673" class="Bound">Ï†h</a><a id="19032" class="Symbol">)</a> <a id="19034" href="Varieties.Preservation.html#18640" class="Bound">p</a> <a id="19036" href="Varieties.Preservation.html#18745" class="Function">preim</a><a id="19041" class="Symbol">)</a><a id="19042" href="Overture.Preliminaries.html#4931" class="Function Operator">â»Â¹</a> <a id="19045" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19053" href="Varieties.Preservation.html#18669" class="Bound">Ï†</a><a id="19054" class="Symbol">((</a><a id="19056" href="Varieties.Preservation.html#18653" class="Bound">ğ‘¨</a> <a id="19058" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="19060" href="Varieties.Preservation.html#18640" class="Bound">p</a> <a id="19062" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="19063" class="Symbol">)</a> <a id="19065" href="Varieties.Preservation.html#18745" class="Function">preim</a><a id="19070" class="Symbol">)</a>   <a id="19074" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19077" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="19082" href="Varieties.Preservation.html#18669" class="Bound">Ï†</a> <a id="19084" class="Symbol">(</a><a id="19085" href="Varieties.Preservation.html#18704" class="Function">IH</a> <a id="19088" href="Varieties.Preservation.html#18745" class="Function">preim</a><a id="19093" class="Symbol">)</a> <a id="19095" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19103" href="Varieties.Preservation.html#18669" class="Bound">Ï†</a><a id="19104" class="Symbol">((</a><a id="19106" href="Varieties.Preservation.html#18653" class="Bound">ğ‘¨</a> <a id="19108" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="19110" href="Varieties.Preservation.html#18642" class="Bound">q</a> <a id="19112" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="19113" class="Symbol">)</a> <a id="19115" href="Varieties.Preservation.html#18745" class="Function">preim</a><a id="19120" class="Symbol">)</a>   <a id="19124" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19127" href="Terms.Operations.html#6535" class="Function">comm-hom-term</a> <a id="19141" class="Symbol">(</a><a id="19142" href="Varieties.Preservation.html#18276" class="Bound">wd</a> <a id="19145" href="Varieties.Preservation.html#627" class="Bound">ğ“¥</a> <a id="19147" class="Symbol">_)</a> <a id="19150" href="Varieties.Preservation.html#18663" class="Bound">ğ‘©</a> <a id="19152" class="Symbol">(</a><a id="19153" href="Varieties.Preservation.html#18669" class="Bound">Ï†</a> <a id="19155" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19157" href="Varieties.Preservation.html#18673" class="Bound">Ï†h</a><a id="19159" class="Symbol">)</a> <a id="19161" href="Varieties.Preservation.html#18642" class="Bound">q</a> <a id="19163" href="Varieties.Preservation.html#18745" class="Function">preim</a> <a id="19169" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19177" class="Symbol">(</a><a id="19178" href="Varieties.Preservation.html#18663" class="Bound">ğ‘©</a> <a id="19180" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="19182" href="Varieties.Preservation.html#18642" class="Bound">q</a> <a id="19184" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="19185" class="Symbol">)(</a><a id="19187" href="Varieties.Preservation.html#18669" class="Bound">Ï†</a> <a id="19189" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19191" href="Varieties.Preservation.html#18745" class="Function">preim</a><a id="19196" class="Symbol">)</a> <a id="19198" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19201" href="Varieties.Preservation.html#18276" class="Bound">wd</a> <a id="19204" href="Varieties.Preservation.html#18291" class="Bound">ğ“§</a> <a id="19206" class="Symbol">_</a> <a id="19208" class="Symbol">(</a><a id="19209" href="Varieties.Preservation.html#18663" class="Bound">ğ‘©</a> <a id="19211" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="19213" href="Varieties.Preservation.html#18642" class="Bound">q</a> <a id="19215" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="19216" class="Symbol">)(</a><a id="19218" href="Varieties.Preservation.html#18669" class="Bound">Ï†</a> <a id="19220" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19222" href="Varieties.Preservation.html#18745" class="Function">preim</a><a id="19227" class="Symbol">)</a> <a id="19229" href="Varieties.Preservation.html#18685" class="Bound">b</a> <a id="19231" href="Varieties.Preservation.html#18795" class="Function">Î¶</a> <a id="19233" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19241" class="Symbol">(</a><a id="19242" href="Varieties.Preservation.html#18663" class="Bound">ğ‘©</a> <a id="19244" href="Terms.Operations.html#2528" class="Function Operator">âŸ¦</a> <a id="19246" href="Varieties.Preservation.html#18642" class="Bound">q</a> <a id="19248" href="Terms.Operations.html#2528" class="Function Operator">âŸ§</a><a id="19249" class="Symbol">)</a> <a id="19251" href="Varieties.Preservation.html#18685" class="Bound">b</a>          <a id="19262" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

 <a id="19266" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="19273" href="Varieties.Preservation.html#19273" class="Bound">p</a> <a id="19275" href="Varieties.Preservation.html#19275" class="Bound">q</a> <a id="19277" href="Varieties.Preservation.html#19277" class="Bound">Ïƒ</a> <a id="19279" class="Symbol">(</a><a id="19280" href="Varieties.Closure.html#5677" class="InductiveConstructor">vssubw</a> <a id="19287" class="Symbol">{</a><a id="19288" href="Varieties.Preservation.html#19288" class="Bound">ğ‘¨</a><a id="19289" class="Symbol">}{</a><a id="19291" href="Varieties.Preservation.html#19291" class="Bound">ğ‘©</a><a id="19292" class="Symbol">}</a> <a id="19294" href="Varieties.Preservation.html#19294" class="Bound">VA</a> <a id="19297" href="Varieties.Preservation.html#19297" class="Bound">Bâ‰¤A</a><a id="19300" class="Symbol">)</a> <a id="19302" class="Symbol">=</a> <a id="19304" href="Varieties.Properties.html#4730" class="Function">âŠ§-S-invar</a> <a id="19314" href="Varieties.Preservation.html#18276" class="Bound">wd</a> <a id="19317" href="Varieties.Preservation.html#19291" class="Bound">ğ‘©</a> <a id="19319" class="Symbol">{</a><a id="19320" href="Varieties.Preservation.html#19273" class="Bound">p</a><a id="19321" class="Symbol">}{</a><a id="19323" href="Varieties.Preservation.html#19275" class="Bound">q</a><a id="19324" class="Symbol">}(</a><a id="19326" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="19333" href="Varieties.Preservation.html#19273" class="Bound">p</a> <a id="19335" href="Varieties.Preservation.html#19275" class="Bound">q</a> <a id="19337" href="Varieties.Preservation.html#19277" class="Bound">Ïƒ</a> <a id="19339" href="Varieties.Preservation.html#19294" class="Bound">VA</a><a id="19341" class="Symbol">)</a> <a id="19343" href="Varieties.Preservation.html#19297" class="Bound">Bâ‰¤A</a>
 <a id="19348" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="19355" href="Varieties.Preservation.html#19355" class="Bound">p</a> <a id="19357" href="Varieties.Preservation.html#19357" class="Bound">q</a> <a id="19359" href="Varieties.Preservation.html#19359" class="Bound">Ïƒ</a> <a id="19361" class="Symbol">(</a><a id="19362" href="Varieties.Closure.html#5741" class="InductiveConstructor">vprodu</a><a id="19368" class="Symbol">{</a><a id="19369" href="Varieties.Preservation.html#19369" class="Bound">I</a><a id="19370" class="Symbol">}{</a><a id="19372" href="Varieties.Preservation.html#19372" class="Bound">ğ’œ</a><a id="19373" class="Symbol">}</a> <a id="19375" href="Varieties.Preservation.html#19375" class="Bound">Vğ’œ</a><a id="19377" class="Symbol">)</a> <a id="19379" class="Symbol">=</a> <a id="19381" href="Varieties.Properties.html#6153" class="Function">âŠ§-P-invar</a> <a id="19391" href="Varieties.Preservation.html#18262" class="Bound">fe</a> <a id="19394" href="Varieties.Preservation.html#18276" class="Bound">wd</a> <a id="19397" href="Varieties.Preservation.html#19372" class="Bound">ğ’œ</a>  <a id="19400" href="Varieties.Preservation.html#19355" class="Bound">p</a> <a id="19402" href="Varieties.Preservation.html#19357" class="Bound">q</a> <a id="19404" class="Symbol">Î»</a> <a id="19406" href="Varieties.Preservation.html#19406" class="Bound">i</a> <a id="19408" class="Symbol">â†’</a> <a id="19410" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="19416" href="Varieties.Preservation.html#19355" class="Bound">p</a> <a id="19418" href="Varieties.Preservation.html#19357" class="Bound">q</a> <a id="19420" href="Varieties.Preservation.html#19359" class="Bound">Ïƒ</a> <a id="19422" class="Symbol">(</a><a id="19423" href="Varieties.Preservation.html#19375" class="Bound">Vğ’œ</a> <a id="19426" href="Varieties.Preservation.html#19406" class="Bound">i</a><a id="19427" class="Symbol">)</a>
 <a id="19430" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="19437" href="Varieties.Preservation.html#19437" class="Bound">p</a> <a id="19439" href="Varieties.Preservation.html#19439" class="Bound">q</a> <a id="19441" href="Varieties.Preservation.html#19441" class="Bound">Ïƒ</a> <a id="19443" class="Symbol">(</a><a id="19444" href="Varieties.Closure.html#5825" class="InductiveConstructor">vprodw</a><a id="19450" class="Symbol">{</a><a id="19451" href="Varieties.Preservation.html#19451" class="Bound">I</a><a id="19452" class="Symbol">}{</a><a id="19454" href="Varieties.Preservation.html#19454" class="Bound">ğ’œ</a><a id="19455" class="Symbol">}</a> <a id="19457" href="Varieties.Preservation.html#19457" class="Bound">Vğ’œ</a><a id="19459" class="Symbol">)</a> <a id="19461" class="Symbol">=</a> <a id="19463" href="Varieties.Properties.html#6153" class="Function">âŠ§-P-invar</a> <a id="19473" href="Varieties.Preservation.html#18262" class="Bound">fe</a> <a id="19476" href="Varieties.Preservation.html#18276" class="Bound">wd</a> <a id="19479" href="Varieties.Preservation.html#19454" class="Bound">ğ’œ</a>  <a id="19482" href="Varieties.Preservation.html#19437" class="Bound">p</a> <a id="19484" href="Varieties.Preservation.html#19439" class="Bound">q</a> <a id="19486" class="Symbol">Î»</a> <a id="19488" href="Varieties.Preservation.html#19488" class="Bound">i</a> <a id="19490" class="Symbol">â†’</a> <a id="19492" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="19499" href="Varieties.Preservation.html#19437" class="Bound">p</a> <a id="19501" href="Varieties.Preservation.html#19439" class="Bound">q</a> <a id="19503" href="Varieties.Preservation.html#19441" class="Bound">Ïƒ</a> <a id="19505" class="Symbol">(</a><a id="19506" href="Varieties.Preservation.html#19457" class="Bound">Vğ’œ</a> <a id="19509" href="Varieties.Preservation.html#19488" class="Bound">i</a><a id="19510" class="Symbol">)</a>
 <a id="19513" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="19520" href="Varieties.Preservation.html#19520" class="Bound">p</a> <a id="19522" href="Varieties.Preservation.html#19522" class="Bound">q</a> <a id="19524" href="Varieties.Preservation.html#19524" class="Bound">Ïƒ</a> <a id="19526" class="Symbol">(</a><a id="19527" href="Varieties.Closure.html#5909" class="InductiveConstructor">visou</a> <a id="19533" class="Symbol">{</a><a id="19534" href="Varieties.Preservation.html#19534" class="Bound">ğ‘¨</a><a id="19535" class="Symbol">}{</a><a id="19537" href="Varieties.Preservation.html#19537" class="Bound">ğ‘©</a><a id="19538" class="Symbol">}</a> <a id="19540" href="Varieties.Preservation.html#19540" class="Bound">VA</a> <a id="19543" href="Varieties.Preservation.html#19543" class="Bound">Aâ‰…B</a><a id="19546" class="Symbol">)</a> <a id="19548" class="Symbol">=</a> <a id="19550" href="Varieties.Properties.html#3227" class="Function">âŠ§-I-invar</a> <a id="19560" href="Varieties.Preservation.html#18276" class="Bound">wd</a> <a id="19563" href="Varieties.Preservation.html#19537" class="Bound">ğ‘©</a> <a id="19565" href="Varieties.Preservation.html#19520" class="Bound">p</a> <a id="19567" href="Varieties.Preservation.html#19522" class="Bound">q</a> <a id="19569" class="Symbol">(</a><a id="19570" href="Varieties.Preservation.html#16758" class="Function">V-id1</a> <a id="19576" href="Varieties.Preservation.html#19520" class="Bound">p</a> <a id="19578" href="Varieties.Preservation.html#19522" class="Bound">q</a> <a id="19580" href="Varieties.Preservation.html#19524" class="Bound">Ïƒ</a> <a id="19582" href="Varieties.Preservation.html#19540" class="Bound">VA</a><a id="19584" class="Symbol">)</a> <a id="19586" href="Varieties.Preservation.html#19543" class="Bound">Aâ‰…B</a>
 <a id="19591" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="19598" href="Varieties.Preservation.html#19598" class="Bound">p</a> <a id="19600" href="Varieties.Preservation.html#19600" class="Bound">q</a> <a id="19602" href="Varieties.Preservation.html#19602" class="Bound">Ïƒ</a> <a id="19604" class="Symbol">(</a><a id="19605" href="Varieties.Closure.html#5988" class="InductiveConstructor">visow</a><a id="19610" class="Symbol">{</a><a id="19611" href="Varieties.Preservation.html#19611" class="Bound">ğ‘¨</a><a id="19612" class="Symbol">}{</a><a id="19614" href="Varieties.Preservation.html#19614" class="Bound">ğ‘©</a><a id="19615" class="Symbol">}</a> <a id="19617" href="Varieties.Preservation.html#19617" class="Bound">VA</a> <a id="19620" href="Varieties.Preservation.html#19620" class="Bound">Aâ‰…B</a><a id="19623" class="Symbol">)</a> <a id="19625" class="Symbol">=</a> <a id="19627" href="Varieties.Properties.html#3227" class="Function">âŠ§-I-invar</a> <a id="19637" href="Varieties.Preservation.html#18276" class="Bound">wd</a> <a id="19640" href="Varieties.Preservation.html#19614" class="Bound">ğ‘©</a> <a id="19642" href="Varieties.Preservation.html#19598" class="Bound">p</a> <a id="19644" href="Varieties.Preservation.html#19600" class="Bound">q</a> <a id="19646" class="Symbol">(</a><a id="19647" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="19654" href="Varieties.Preservation.html#19598" class="Bound">p</a> <a id="19656" href="Varieties.Preservation.html#19600" class="Bound">q</a> <a id="19658" href="Varieties.Preservation.html#19602" class="Bound">Ïƒ</a> <a id="19660" href="Varieties.Preservation.html#19617" class="Bound">VA</a><a id="19662" class="Symbol">)</a><a id="19663" href="Varieties.Preservation.html#19620" class="Bound">Aâ‰…B</a>

</pre>


#### <a id="class-identities">Class identities</a>

From `V-id1` it follows that if ğ’¦ is a class of structures, then the set of identities modeled by all structures in `ğ’¦` is equivalent to the set of identities modeled by all structures in `V ğ’¦`.  In other terms, `Th (V ğ’¦)` is precisely the set of identities modeled by `ğ’¦`.   We formalize this observation as follows.

<pre class="Agda">

<a id="20066" class="Keyword">module</a> <a id="20073" href="Varieties.Preservation.html#20073" class="Module">_</a> <a id="20075" class="Symbol">(</a><a id="20076" href="Varieties.Preservation.html#20076" class="Bound">fe</a> <a id="20079" class="Symbol">:</a> <a id="20081" href="Foundations.Extensionality.html#2465" class="Function">DFunExt</a><a id="20088" class="Symbol">)(</a><a id="20090" href="Varieties.Preservation.html#20090" class="Bound">wd</a> <a id="20093" class="Symbol">:</a> <a id="20095" href="Foundations.Welldefined.html#2948" class="Function">SwellDef</a><a id="20103" class="Symbol">){</a><a id="20105" href="Varieties.Preservation.html#20105" class="Bound">ğ“§</a> <a id="20107" class="Symbol">:</a> <a id="20109" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="20114" class="Symbol">}</a> <a id="20116" class="Symbol">{</a><a id="20117" href="Varieties.Preservation.html#20117" class="Bound">X</a> <a id="20119" class="Symbol">:</a> <a id="20121" href="Varieties.Preservation.html#813" class="Primitive">Type</a> <a id="20126" href="Varieties.Preservation.html#20105" class="Bound">ğ“§</a><a id="20127" class="Symbol">}</a> <a id="20129" class="Symbol">{</a><a id="20130" href="Varieties.Preservation.html#20130" class="Bound">ğ’¦</a> <a id="20132" class="Symbol">:</a> <a id="20134" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20139" class="Symbol">(</a><a id="20140" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="20148" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a> <a id="20150" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="20151" class="Symbol">)(</a><a id="20153" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="20156" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a><a id="20157" class="Symbol">)}</a> <a id="20160" class="Keyword">where</a>

 <a id="20168" href="Varieties.Preservation.html#20168" class="Function">ovu</a> <a id="20172" href="Varieties.Preservation.html#20172" class="Function">lovu</a> <a id="20177" class="Symbol">:</a> <a id="20179" href="Agda.Primitive.html#597" class="Postulate">Level</a>
 <a id="20186" href="Varieties.Preservation.html#20168" class="Function">ovu</a> <a id="20190" class="Symbol">=</a> <a id="20192" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="20195" href="Varieties.Preservation.html#20148" class="Bound">Î±</a>
 <a id="20198" href="Varieties.Preservation.html#20172" class="Function">lovu</a> <a id="20203" class="Symbol">=</a> <a id="20205" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="20210" class="Symbol">(</a><a id="20211" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="20214" href="Varieties.Preservation.html#20148" class="Bound">Î±</a><a id="20215" class="Symbol">)</a>
 <a id="20218" href="Varieties.Preservation.html#20218" class="Function">ğ•</a> <a id="20220" class="Symbol">:</a> <a id="20222" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20227" class="Symbol">(</a><a id="20228" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="20236" href="Varieties.Preservation.html#20172" class="Function">lovu</a> <a id="20241" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="20242" class="Symbol">)</a> <a id="20244" class="Symbol">(</a><a id="20245" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="20250" href="Varieties.Preservation.html#20172" class="Function">lovu</a><a id="20254" class="Symbol">)</a>
 <a id="20257" href="Varieties.Preservation.html#20218" class="Function">ğ•</a> <a id="20259" class="Symbol">=</a> <a id="20261" href="Varieties.Closure.html#5314" class="Datatype">V</a><a id="20262" class="Symbol">{</a><a id="20263" href="Varieties.Preservation.html#20148" class="Bound">Î±</a><a id="20264" class="Symbol">}{</a><a id="20266" href="Varieties.Preservation.html#20172" class="Function">lovu</a><a id="20270" class="Symbol">}</a> <a id="20272" href="Varieties.Preservation.html#20130" class="Bound">ğ’¦</a>
 <a id="20275" href="Varieties.Preservation.html#20275" class="Function">ğ’±</a> <a id="20277" class="Symbol">:</a> <a id="20279" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20284" class="Symbol">(</a><a id="20285" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="20293" href="Varieties.Preservation.html#20168" class="Function">ovu</a> <a id="20297" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="20298" class="Symbol">)</a> <a id="20300" href="Varieties.Preservation.html#20172" class="Function">lovu</a>
 <a id="20306" href="Varieties.Preservation.html#20275" class="Function">ğ’±</a> <a id="20308" class="Symbol">=</a> <a id="20310" href="Varieties.Closure.html#5314" class="Datatype">V</a><a id="20311" class="Symbol">{</a><a id="20312" class="Argument">Î²</a> <a id="20314" class="Symbol">=</a> <a id="20316" href="Varieties.Preservation.html#20168" class="Function">ovu</a><a id="20319" class="Symbol">}</a> <a id="20321" href="Varieties.Preservation.html#20130" class="Bound">ğ’¦</a>

 <a id="20325" class="Keyword">open</a> <a id="20330" href="Varieties.Preservation.html#18256" class="Module">Vid&#39;</a> <a id="20335" href="Varieties.Preservation.html#20076" class="Bound">fe</a> <a id="20338" href="Varieties.Preservation.html#20090" class="Bound">wd</a> <a id="20341" class="Symbol">{</a><a id="20342" href="Varieties.Preservation.html#20105" class="Bound">ğ“§</a><a id="20343" class="Symbol">}{</a><a id="20345" href="Varieties.Preservation.html#20117" class="Bound">X</a><a id="20346" class="Symbol">}{</a><a id="20348" href="Varieties.Preservation.html#20130" class="Bound">ğ’¦</a><a id="20349" class="Symbol">}</a> <a id="20351" class="Keyword">public</a>
 <a id="20359" href="Varieties.Preservation.html#20359" class="Function">class-ids-â‡’</a> <a id="20371" class="Symbol">:</a> <a id="20373" class="Symbol">(</a><a id="20374" href="Varieties.Preservation.html#20374" class="Bound">p</a> <a id="20376" href="Varieties.Preservation.html#20376" class="Bound">q</a> <a id="20378" class="Symbol">:</a> <a id="20380" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="20382" href="Terms.Basic.html#3261" class="Function">ğ‘»</a> <a id="20384" href="Varieties.Preservation.html#20117" class="Bound">X</a> <a id="20386" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a><a id="20387" class="Symbol">)</a> <a id="20389" class="Symbol">â†’</a> <a id="20391" href="Varieties.Preservation.html#20130" class="Bound">ğ’¦</a> <a id="20393" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="20395" href="Varieties.Preservation.html#20374" class="Bound">p</a> <a id="20397" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="20399" href="Varieties.Preservation.html#20376" class="Bound">q</a>  <a id="20402" class="Symbol">â†’</a>  <a id="20405" class="Symbol">(</a><a id="20406" href="Varieties.Preservation.html#20374" class="Bound">p</a> <a id="20408" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20410" href="Varieties.Preservation.html#20376" class="Bound">q</a><a id="20411" class="Symbol">)</a> <a id="20413" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20415" href="Varieties.EquationalLogic.html#3411" class="Function">Th</a> <a id="20418" href="Varieties.Preservation.html#20275" class="Function">ğ’±</a>
 <a id="20421" href="Varieties.Preservation.html#20359" class="Function">class-ids-â‡’</a> <a id="20433" href="Varieties.Preservation.html#20433" class="Bound">p</a> <a id="20435" href="Varieties.Preservation.html#20435" class="Bound">q</a> <a id="20437" href="Varieties.Preservation.html#20437" class="Bound">pKq</a> <a id="20441" href="Varieties.Preservation.html#20441" class="Bound">VCloA</a> <a id="20447" class="Symbol">=</a> <a id="20449" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="20456" href="Varieties.Preservation.html#20433" class="Bound">p</a> <a id="20458" href="Varieties.Preservation.html#20435" class="Bound">q</a> <a id="20460" href="Varieties.Preservation.html#20437" class="Bound">pKq</a> <a id="20464" href="Varieties.Preservation.html#20441" class="Bound">VCloA</a>

 <a id="20472" href="Varieties.Preservation.html#20472" class="Function">class-ids</a> <a id="20482" class="Symbol">:</a> <a id="20484" class="Symbol">(</a><a id="20485" href="Varieties.Preservation.html#20485" class="Bound">p</a> <a id="20487" href="Varieties.Preservation.html#20487" class="Bound">q</a> <a id="20489" class="Symbol">:</a> <a id="20491" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="20493" href="Terms.Basic.html#3261" class="Function">ğ‘»</a> <a id="20495" href="Varieties.Preservation.html#20117" class="Bound">X</a> <a id="20497" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a><a id="20498" class="Symbol">)</a> <a id="20500" class="Symbol">â†’</a> <a id="20502" href="Varieties.Preservation.html#20130" class="Bound">ğ’¦</a> <a id="20504" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="20506" href="Varieties.Preservation.html#20485" class="Bound">p</a> <a id="20508" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="20510" href="Varieties.Preservation.html#20487" class="Bound">q</a>  <a id="20513" class="Symbol">â†’</a>  <a id="20516" class="Symbol">(</a><a id="20517" href="Varieties.Preservation.html#20485" class="Bound">p</a> <a id="20519" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20521" href="Varieties.Preservation.html#20487" class="Bound">q</a><a id="20522" class="Symbol">)</a> <a id="20524" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20526" href="Varieties.EquationalLogic.html#3411" class="Function">Th</a> <a id="20529" href="Varieties.Preservation.html#20218" class="Function">ğ•</a>
 <a id="20532" href="Varieties.Preservation.html#20472" class="Function">class-ids</a> <a id="20542" href="Varieties.Preservation.html#20542" class="Bound">p</a> <a id="20544" href="Varieties.Preservation.html#20544" class="Bound">q</a> <a id="20546" href="Varieties.Preservation.html#20546" class="Bound">pKq</a> <a id="20550" href="Varieties.Preservation.html#20550" class="Bound">VCloA</a> <a id="20556" class="Symbol">=</a> <a id="20558" href="Varieties.Preservation.html#18387" class="Function">V-id1&#39;</a> <a id="20565" href="Varieties.Preservation.html#20542" class="Bound">p</a> <a id="20567" href="Varieties.Preservation.html#20544" class="Bound">q</a> <a id="20569" href="Varieties.Preservation.html#20546" class="Bound">pKq</a> <a id="20573" href="Varieties.Preservation.html#20550" class="Bound">VCloA</a>


 <a id="20582" href="Varieties.Preservation.html#20582" class="Function">class-ids-â‡</a> <a id="20594" class="Symbol">:</a> <a id="20596" class="Symbol">(</a><a id="20597" href="Varieties.Preservation.html#20597" class="Bound">p</a> <a id="20599" href="Varieties.Preservation.html#20599" class="Bound">q</a> <a id="20601" class="Symbol">:</a> <a id="20603" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a> <a id="20605" href="Terms.Basic.html#3261" class="Function">ğ‘»</a> <a id="20607" href="Varieties.Preservation.html#20117" class="Bound">X</a> <a id="20609" href="Overture.Preliminaries.html#4227" class="Function Operator">âˆ£</a><a id="20610" class="Symbol">)</a> <a id="20612" class="Symbol">â†’</a> <a id="20614" class="Symbol">(</a><a id="20615" href="Varieties.Preservation.html#20597" class="Bound">p</a> <a id="20617" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20619" href="Varieties.Preservation.html#20599" class="Bound">q</a><a id="20620" class="Symbol">)</a> <a id="20622" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20624" href="Varieties.EquationalLogic.html#3411" class="Function">Th</a> <a id="20627" href="Varieties.Preservation.html#20275" class="Function">ğ’±</a> <a id="20629" class="Symbol">â†’</a>  <a id="20632" href="Varieties.Preservation.html#20130" class="Bound">ğ’¦</a> <a id="20634" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="20636" href="Varieties.Preservation.html#20597" class="Bound">p</a> <a id="20638" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="20640" href="Varieties.Preservation.html#20599" class="Bound">q</a>
 <a id="20643" href="Varieties.Preservation.html#20582" class="Function">class-ids-â‡</a> <a id="20655" href="Varieties.Preservation.html#20655" class="Bound">p</a> <a id="20657" href="Varieties.Preservation.html#20657" class="Bound">q</a> <a id="20659" href="Varieties.Preservation.html#20659" class="Bound">Thpq</a> <a id="20664" class="Symbol">{</a><a id="20665" href="Varieties.Preservation.html#20665" class="Bound">ğ‘¨</a><a id="20666" class="Symbol">}</a> <a id="20668" href="Varieties.Preservation.html#20668" class="Bound">KA</a> <a id="20671" class="Symbol">=</a> <a id="20673" href="Varieties.Properties.html#4304" class="Function">âŠ§-lower-invar</a> <a id="20687" href="Varieties.Preservation.html#20090" class="Bound">wd</a> <a id="20690" href="Varieties.Preservation.html#20655" class="Bound">p</a> <a id="20692" href="Varieties.Preservation.html#20657" class="Bound">q</a> <a id="20694" class="Symbol">(</a><a id="20695" href="Varieties.Preservation.html#20659" class="Bound">Thpq</a> <a id="20700" class="Symbol">(</a><a id="20701" href="Varieties.Closure.html#5402" class="InductiveConstructor">vbase</a> <a id="20707" href="Varieties.Preservation.html#20668" class="Bound">KA</a><a id="20709" class="Symbol">))</a>


</pre>


Once again, and for the last time, completeness dictates that we formalize the coverse of `V-id1`, however obvious it may be.

<pre class="Agda">

<a id="20868" class="Keyword">module</a> <a id="20875" href="Varieties.Preservation.html#20875" class="Module">_</a> <a id="20877" class="Symbol">(</a><a id="20878" href="Varieties.Preservation.html#20878" class="Bound">wd</a> <a id="20881" class="Symbol">:</a> <a id="20883" href="Foundations.Welldefined.html#2948" class="Function">SwellDef</a><a id="20891" class="Symbol">){</a><a id="20893" href="Varieties.Preservation.html#20893" class="Bound">X</a> <a id="20895" class="Symbol">:</a> <a id="20897" href="Varieties.Preservation.html#813" class="Primitive">Type</a> <a id="20902" href="Varieties.Preservation.html#13333" class="Generalizable">ğ“§</a><a id="20903" class="Symbol">}{</a><a id="20905" href="Varieties.Preservation.html#20905" class="Bound">ğ’¦</a> <a id="20907" class="Symbol">:</a> <a id="20909" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20914" class="Symbol">(</a><a id="20915" href="Algebras.Basic.html#6008" class="Function">Algebra</a> <a id="20923" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a> <a id="20925" href="Varieties.Preservation.html#611" class="Bound">ğ‘†</a><a id="20926" class="Symbol">)(</a><a id="20928" href="Algebras.Products.html#2982" class="Function">ov</a> <a id="20931" href="Varieties.Preservation.html#3235" class="Generalizable">Î±</a><a id="20932" class="Symbol">)}</a> <a id="20935" class="Keyword">where</a>

 <a id="20943" href="Varieties.Preservation.html#20943" class="Function">V-id2</a> <a id="20949" class="Symbol">:</a> <a id="20951" class="Symbol">(</a><a id="20952" href="Varieties.Preservation.html#20952" class="Bound">p</a> <a id="20954" href="Varieties.Preservation.html#20954" class="Bound">q</a> <a id="20956" class="Symbol">:</a> <a id="20958" href="Terms.Basic.html#1989" class="Datatype">Term</a> <a id="20963" href="Varieties.Preservation.html#20893" class="Bound">X</a><a id="20964" class="Symbol">)</a> <a id="20966" class="Symbol">â†’</a> <a id="20968" class="Symbol">(</a><a id="20969" href="Varieties.Closure.html#5314" class="Datatype">V</a><a id="20970" class="Symbol">{</a><a id="20971" class="Argument">Î²</a> <a id="20973" class="Symbol">=</a> <a id="20975" href="Varieties.Preservation.html#3237" class="Generalizable">Î²</a><a id="20976" class="Symbol">}</a> <a id="20978" href="Varieties.Preservation.html#20905" class="Bound">ğ’¦</a> <a id="20980" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="20982" href="Varieties.Preservation.html#20952" class="Bound">p</a> <a id="20984" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="20986" href="Varieties.Preservation.html#20954" class="Bound">q</a><a id="20987" class="Symbol">)</a> <a id="20989" class="Symbol">â†’</a> <a id="20991" class="Symbol">(</a><a id="20992" href="Varieties.Preservation.html#20905" class="Bound">ğ’¦</a> <a id="20994" href="Varieties.EquationalLogic.html#2685" class="Function Operator">âŠ«</a> <a id="20996" href="Varieties.Preservation.html#20952" class="Bound">p</a> <a id="20998" href="Varieties.EquationalLogic.html#2685" class="Function Operator">â‰ˆ</a> <a id="21000" href="Varieties.Preservation.html#20954" class="Bound">q</a><a id="21001" class="Symbol">)</a>
 <a id="21004" href="Varieties.Preservation.html#20943" class="Function">V-id2</a> <a id="21010" href="Varieties.Preservation.html#21010" class="Bound">p</a> <a id="21012" href="Varieties.Preservation.html#21012" class="Bound">q</a> <a id="21014" href="Varieties.Preservation.html#21014" class="Bound">Vpq</a> <a id="21018" class="Symbol">{</a><a id="21019" href="Varieties.Preservation.html#21019" class="Bound">ğ‘¨</a><a id="21020" class="Symbol">}</a> <a id="21022" href="Varieties.Preservation.html#21022" class="Bound">KA</a> <a id="21025" class="Symbol">=</a> <a id="21027" href="Varieties.Properties.html#4304" class="Function">âŠ§-lower-invar</a> <a id="21041" href="Varieties.Preservation.html#20878" class="Bound">wd</a> <a id="21044" href="Varieties.Preservation.html#21010" class="Bound">p</a> <a id="21046" href="Varieties.Preservation.html#21012" class="Bound">q</a> <a id="21048" class="Symbol">(</a><a id="21049" href="Varieties.Preservation.html#21014" class="Bound">Vpq</a> <a id="21053" class="Symbol">(</a><a id="21054" href="Varieties.Closure.html#5402" class="InductiveConstructor">vbase</a> <a id="21060" href="Varieties.Preservation.html#21022" class="Bound">KA</a><a id="21062" class="Symbol">))</a>

</pre>


----------------------------

[â† Varieties.Properties](Varieties.Properties.html)
<span style="float:right;">[Varieties.FreeAlgebras â†’](Varieties.FreeAlgebras.html)</span>

{% include UALib.Links.md %}

[agda-algebras development team]: https://github.com/ualib/agda-algebras#the-agda-algebras-development-team

