---
layout: default
title : Varieties.Preservation (The Agda Universal Algebra Library)
date : 2021-01-14
author: [agda-algebras development team][]
---

## <a id="Equation preservation">Equation preservation</a>

This is the [Varieties.Preservation][] module of the [Agda Universal Algebra Library][]. In this module we show that identities are preserved by closure operators H, S, and P.  This will establish the easy direction of Birkhoff's HSP Theorem.

<pre class="Agda">

<a id="473" class="Symbol">{-#</a> <a id="477" class="Keyword">OPTIONS</a> <a id="485" class="Pragma">--without-K</a> <a id="497" class="Pragma">--exact-split</a> <a id="511" class="Pragma">--safe</a> <a id="518" class="Symbol">#-}</a>

<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="Algebras.Basic.html" class="Module">Algebras.Basic</a> <a id="550" class="Keyword">using</a> <a id="556" class="Symbol">(</a> <a id="558" href="Algebras.Basic.html#1139" class="Generalizable">ğ“</a> <a id="560" class="Symbol">;</a> <a id="562" href="Algebras.Basic.html#1141" class="Generalizable">ğ“¥</a> <a id="564" class="Symbol">;</a> <a id="566" href="Algebras.Basic.html#3865" class="Function">Signature</a> <a id="576" class="Symbol">)</a>

<a id="579" class="Keyword">module</a> <a id="586" href="Varieties.Preservation.html" class="Module">Varieties.Preservation</a> <a id="609" class="Symbol">{</a><a id="610" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a> <a id="612" class="Symbol">:</a> <a id="614" href="Algebras.Basic.html#3865" class="Function">Signature</a> <a id="624" href="Algebras.Basic.html#1139" class="Generalizable">ğ“</a> <a id="626" href="Algebras.Basic.html#1141" class="Generalizable">ğ“¥</a><a id="627" class="Symbol">}</a> <a id="629" class="Keyword">where</a>

<a id="636" class="Comment">-- Imports from Agda and the Agda Standard Library -----------------------------------------------</a>
<a id="735" class="Keyword">open</a> <a id="740" class="Keyword">import</a> <a id="747" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>  <a id="763" class="Keyword">using</a> <a id="769" class="Symbol">(</a> <a id="771" href="Agda.Primitive.html#810" class="Primitive Operator">_âŠ”_</a> <a id="775" class="Symbol">;</a> <a id="777" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="782" class="Symbol">;</a> <a id="784" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="790" class="Symbol">)</a> <a id="792" class="Keyword">renaming</a> <a id="801" class="Symbol">(</a> <a id="803" href="Agda.Primitive.html#326" class="Primitive">Set</a>   <a id="809" class="Symbol">to</a> <a id="812" class="Primitive">Type</a> <a id="817" class="Symbol">)</a>
<a id="819" class="Keyword">open</a> <a id="824" class="Keyword">import</a> <a id="831" href="Axiom.Extensionality.Propositional.html" class="Module">Axiom.Extensionality.Propositional</a>
                            <a id="894" class="Keyword">using</a> <a id="900" class="Symbol">()</a> <a id="903" class="Keyword">renaming</a> <a id="912" class="Symbol">(</a><a id="913" href="Axiom.Extensionality.Propositional.html#741" class="Function">Extensionality</a> <a id="928" class="Symbol">to</a> <a id="931" class="Function">funext</a><a id="937" class="Symbol">)</a>
<a id="939" class="Keyword">open</a> <a id="944" class="Keyword">import</a> <a id="951" href="Data.Product.html" class="Module">Data.Product</a>    <a id="967" class="Keyword">using</a> <a id="973" class="Symbol">(</a> <a id="975" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="979" class="Symbol">;</a> <a id="981" href="Data.Product.html#916" class="Function">Î£-syntax</a> <a id="990" class="Symbol">;</a> <a id="992" href="Data.Product.html#1167" class="Function Operator">_Ã—_</a> <a id="996" class="Symbol">)</a> <a id="998" class="Keyword">renaming</a> <a id="1007" class="Symbol">(</a> <a id="1009" href="Agda.Builtin.Sigma.html#252" class="Field">projâ‚</a> <a id="1015" class="Symbol">to</a> <a id="1018" class="Field">fst</a> <a id="1022" class="Symbol">;</a> <a id="1024" href="Agda.Builtin.Sigma.html#264" class="Field">projâ‚‚</a> <a id="1030" class="Symbol">to</a> <a id="1033" class="Field">snd</a> <a id="1037" class="Symbol">)</a>
<a id="1039" class="Keyword">open</a> <a id="1044" class="Keyword">import</a> <a id="1051" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a>   <a id="1067" class="Keyword">using</a> <a id="1073" class="Symbol">(</a> <a id="1075" href="Data.Sum.Base.html#734" class="Datatype Operator">_âŠ_</a> <a id="1079" class="Symbol">)</a> <a id="1081" class="Keyword">renaming</a> <a id="1090" class="Symbol">(</a> <a id="1092" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ‚</a>  <a id="1098" class="Symbol">to</a> <a id="1101" class="InductiveConstructor">inl</a> <a id="1105" class="Symbol">;</a> <a id="1107" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ‚‚</a>  <a id="1113" class="Symbol">to</a> <a id="1116" class="InductiveConstructor">inr</a> <a id="1120" class="Symbol">)</a>
<a id="1122" class="Keyword">open</a> <a id="1127" class="Keyword">import</a> <a id="1134" href="Function.Base.html" class="Module">Function.Base</a>   <a id="1150" class="Keyword">using</a> <a id="1156" class="Symbol">(</a> <a id="1158" href="Function.Base.html#1031" class="Function Operator">_âˆ˜_</a> <a id="1162" class="Symbol">)</a>
<a id="1164" class="Keyword">open</a> <a id="1169" class="Keyword">import</a> <a id="1176" href="Relation.Unary.html" class="Module">Relation.Unary</a>  <a id="1192" class="Keyword">using</a> <a id="1198" class="Symbol">(</a> <a id="1200" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="1205" class="Symbol">;</a> <a id="1207" href="Relation.Unary.html#1742" class="Function Operator">_âŠ†_</a> <a id="1211" class="Symbol">;</a> <a id="1213" href="Relation.Unary.html#1523" class="Function Operator">_âˆˆ_</a> <a id="1217" class="Symbol">;</a> <a id="1219" href="Relation.Unary.html#1335" class="Function Operator">ï½›_ï½</a> <a id="1223" class="Symbol">;</a> <a id="1225" href="Relation.Unary.html#4417" class="Function Operator">_âˆª_</a> <a id="1229" class="Symbol">)</a>
<a id="1231" class="Keyword">open</a> <a id="1236" class="Keyword">import</a> <a id="1243" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
                            <a id="1309" class="Keyword">using</a> <a id="1315" class="Symbol">(</a> <a id="1317" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_â‰¡_</a> <a id="1321" class="Symbol">;</a> <a id="1323" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1328" class="Symbol">;</a> <a id="1330" class="Keyword">module</a> <a id="1337" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">â‰¡-Reasoning</a> <a id="1349" class="Symbol">;</a> <a id="1351" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="1360" class="Symbol">;</a> <a id="1362" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1367" class="Symbol">)</a>

<a id="1370" class="Comment">-- Imports from the Agda Universal Algebra Library ---------------------------------------------</a>
<a id="1467" class="Keyword">open</a> <a id="1472" class="Keyword">import</a> <a id="1479" href="Overture.Preliminaries.html" class="Module">Overture.Preliminaries</a>             <a id="1514" class="Keyword">using</a> <a id="1520" class="Symbol">(</a> <a id="1522" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£_âˆ£</a> <a id="1526" class="Symbol">;</a> <a id="1528" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥_âˆ¥</a> <a id="1532" class="Symbol">;</a> <a id="1534" href="Overture.Preliminaries.html#5228" class="Function Operator">_â»Â¹</a> <a id="1538" class="Symbol">)</a>
<a id="1540" class="Keyword">open</a> <a id="1545" class="Keyword">import</a> <a id="1552" href="Overture.Inverses.html" class="Module">Overture.Inverses</a>                  <a id="1587" class="Keyword">using</a> <a id="1593" class="Symbol">(</a> <a id="1595" href="Overture.Inverses.html#1860" class="Function">Inv</a> <a id="1599" class="Symbol">;</a> <a id="1601" href="Overture.Inverses.html#2440" class="Function">IsInjective</a> <a id="1613" class="Symbol">;</a> <a id="1615" href="Overture.Inverses.html#2023" class="Function">InvIsInv</a> <a id="1624" class="Symbol">)</a>
<a id="1626" class="Keyword">open</a> <a id="1631" class="Keyword">import</a> <a id="1638" href="Foundations.Truncation.html" class="Module">Foundations.Truncation</a>             <a id="1673" class="Keyword">using</a> <a id="1679" class="Symbol">(</a> <a id="1681" href="Foundations.Truncation.html#3965" class="Function">hfunext</a> <a id="1689" class="Symbol">)</a>
<a id="1691" class="Keyword">open</a> <a id="1696" class="Keyword">import</a> <a id="1703" href="Foundations.Welldefined.html" class="Module">Foundations.Welldefined</a>            <a id="1738" class="Keyword">using</a> <a id="1744" class="Symbol">(</a> <a id="1746" href="Foundations.Welldefined.html#2946" class="Function">SwellDef</a> <a id="1755" class="Symbol">)</a>
<a id="1757" class="Keyword">open</a> <a id="1762" class="Keyword">import</a> <a id="1769" href="Foundations.Extensionality.html" class="Module">Foundations.Extensionality</a>         <a id="1804" class="Keyword">using</a> <a id="1810" class="Symbol">(</a> <a id="1812" href="Foundations.Extensionality.html#2463" class="Function">DFunExt</a> <a id="1820" class="Symbol">)</a>
<a id="1822" class="Keyword">open</a> <a id="1827" class="Keyword">import</a> <a id="1834" href="Algebras.Basic.html" class="Module">Algebras.Basic</a>                     <a id="1869" class="Keyword">using</a> <a id="1875" class="Symbol">(</a> <a id="1877" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="1885" class="Symbol">;</a> <a id="1887" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="1896" class="Symbol">)</a>
<a id="1898" class="Keyword">open</a> <a id="1903" class="Keyword">import</a> <a id="1910" href="Algebras.Products.html" class="Module">Algebras.Products</a>          <a id="1937" class="Symbol">{</a><a id="1938" class="Argument">ğ‘†</a> <a id="1940" class="Symbol">=</a> <a id="1942" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="1943" class="Symbol">}</a> <a id="1945" class="Keyword">using</a> <a id="1951" class="Symbol">(</a> <a id="1953" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="1956" class="Symbol">;</a> <a id="1958" href="Algebras.Products.html#1867" class="Function">â¨…</a> <a id="1960" class="Symbol">;</a> <a id="1962" href="Algebras.Products.html#5301" class="Function">ğ”„</a> <a id="1964" class="Symbol">;</a> <a id="1966" href="Algebras.Products.html#5448" class="Function">class-product</a><a id="1979" class="Symbol">)</a>
<a id="1981" class="Keyword">open</a> <a id="1986" class="Keyword">import</a> <a id="1993" href="Homomorphisms.Basic.html" class="Module">Homomorphisms.Basic</a>        <a id="2020" class="Symbol">{</a><a id="2021" class="Argument">ğ‘†</a> <a id="2023" class="Symbol">=</a> <a id="2025" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2026" class="Symbol">}</a> <a id="2028" class="Keyword">using</a> <a id="2034" class="Symbol">(</a> <a id="2036" href="Homomorphisms.Basic.html#3061" class="Function">is-homomorphism</a> <a id="2052" class="Symbol">)</a>
<a id="2054" class="Keyword">open</a> <a id="2059" class="Keyword">import</a> <a id="2066" href="Homomorphisms.Isomorphisms.html" class="Module">Homomorphisms.Isomorphisms</a> <a id="2093" class="Symbol">{</a><a id="2094" class="Argument">ğ‘†</a> <a id="2096" class="Symbol">=</a> <a id="2098" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2099" class="Symbol">}</a> <a id="2101" class="Keyword">using</a> <a id="2107" class="Symbol">(</a> <a id="2109" href="Homomorphisms.Isomorphisms.html#2276" class="Record Operator">_â‰…_</a> <a id="2113" class="Symbol">;</a> <a id="2115" href="Homomorphisms.Isomorphisms.html#2906" class="Function">â‰…-sym</a> <a id="2121" class="Symbol">;</a> <a id="2123" href="Homomorphisms.Isomorphisms.html#4349" class="Function">Lift-â‰…</a> <a id="2130" class="Symbol">;</a> <a id="2132" href="Homomorphisms.Isomorphisms.html#2995" class="Function">â‰…-trans</a> <a id="2140" class="Symbol">;</a> <a id="2142" href="Homomorphisms.Isomorphisms.html#5669" class="Function">â¨…â‰…</a> <a id="2145" class="Symbol">;</a> <a id="2147" href="Homomorphisms.Isomorphisms.html#2816" class="Function">â‰…-refl</a>
                                                     <a id="2207" class="Symbol">;</a> <a id="2209" href="Homomorphisms.Isomorphisms.html#4668" class="Function">Lift-Alg-iso</a> <a id="2222" class="Symbol">;</a> <a id="2224" href="Homomorphisms.Isomorphisms.html#5089" class="Function">Lift-Alg-assoc</a> <a id="2239" class="Symbol">)</a>
<a id="2241" class="Keyword">open</a> <a id="2246" class="Keyword">import</a> <a id="2253" href="Terms.Basic.html" class="Module">Terms.Basic</a>                <a id="2280" class="Symbol">{</a><a id="2281" class="Argument">ğ‘†</a> <a id="2283" class="Symbol">=</a> <a id="2285" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2286" class="Symbol">}</a> <a id="2288" class="Keyword">using</a> <a id="2294" class="Symbol">(</a> <a id="2296" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="2301" class="Symbol">;</a> <a id="2303" href="Terms.Basic.html#3258" class="Function">ğ‘»</a> <a id="2305" class="Symbol">)</a>
<a id="2307" class="Keyword">open</a> <a id="2312" class="Keyword">import</a> <a id="2319" href="Terms.Operations.html" class="Module">Terms.Operations</a>           <a id="2346" class="Symbol">{</a><a id="2347" class="Argument">ğ‘†</a> <a id="2349" class="Symbol">=</a> <a id="2351" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2352" class="Symbol">}</a> <a id="2354" class="Keyword">using</a> <a id="2360" class="Symbol">(</a> <a id="2362" href="Terms.Operations.html#2574" class="Function Operator">_âŸ¦_âŸ§</a><a id="2366" class="Symbol">;</a> <a id="2368" href="Terms.Operations.html#6579" class="Function">comm-hom-term</a><a id="2381" class="Symbol">)</a>
<a id="2383" class="Keyword">open</a> <a id="2388" class="Keyword">import</a> <a id="2395" href="Subalgebras.Subalgebras.html" class="Module">Subalgebras.Subalgebras</a>    <a id="2422" class="Symbol">{</a><a id="2423" class="Argument">ğ‘†</a> <a id="2425" class="Symbol">=</a> <a id="2427" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2428" class="Symbol">}</a> <a id="2430" class="Keyword">using</a> <a id="2436" class="Symbol">(</a> <a id="2438" href="Subalgebras.Subalgebras.html#2553" class="Function Operator">_â‰¤_</a> <a id="2442" class="Symbol">;</a> <a id="2444" href="Subalgebras.Subalgebras.html#2595" class="Function Operator">_IsSubalgebraOf_</a> <a id="2461" class="Symbol">;</a> <a id="2463" href="Subalgebras.Subalgebras.html#6115" class="Function Operator">_IsSubalgebraOfClass_</a>
                                                     <a id="2538" class="Symbol">;</a> <a id="2540" href="Subalgebras.Subalgebras.html#6466" class="Function">SubalgebraOfClass</a> <a id="2558" class="Symbol">)</a>
<a id="2560" class="Keyword">open</a> <a id="2565" class="Keyword">import</a> <a id="2572" href="Subalgebras.Properties.html" class="Module">Subalgebras.Properties</a>     <a id="2599" class="Symbol">{</a><a id="2600" class="Argument">ğ‘†</a> <a id="2602" class="Symbol">=</a> <a id="2604" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2605" class="Symbol">}</a> <a id="2607" class="Keyword">using</a> <a id="2613" class="Symbol">(</a> <a id="2615" href="Subalgebras.Properties.html#5802" class="Function">â‰¤-Lift</a> <a id="2622" class="Symbol">;</a> <a id="2624" href="Subalgebras.Properties.html#6052" class="Function">Lift-â‰¤-Lift</a> <a id="2636" class="Symbol">)</a>
<a id="2638" class="Keyword">open</a> <a id="2643" class="Keyword">import</a> <a id="2650" href="Varieties.EquationalLogic.html" class="Module">Varieties.EquationalLogic</a>  <a id="2677" class="Symbol">{</a><a id="2678" class="Argument">ğ‘†</a> <a id="2680" class="Symbol">=</a> <a id="2682" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2683" class="Symbol">}</a> <a id="2685" class="Keyword">using</a> <a id="2691" class="Symbol">(</a> <a id="2693" href="Varieties.EquationalLogic.html#2683" class="Function Operator">_âŠ«_â‰ˆ_</a> <a id="2699" class="Symbol">;</a> <a id="2701" href="Varieties.EquationalLogic.html#2605" class="Function Operator">_âŠ§_â‰ˆ_</a> <a id="2707" class="Symbol">;</a> <a id="2709" href="Varieties.EquationalLogic.html#3408" class="Function">Th</a><a id="2711" class="Symbol">)</a>
<a id="2713" class="Keyword">open</a> <a id="2718" class="Keyword">import</a> <a id="2725" href="Varieties.Properties.html" class="Module">Varieties.Properties</a>       <a id="2752" class="Symbol">{</a><a id="2753" class="Argument">ğ‘†</a> <a id="2755" class="Symbol">=</a> <a id="2757" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2758" class="Symbol">}</a> <a id="2760" class="Keyword">using</a> <a id="2766" class="Symbol">(</a> <a id="2768" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="2781" class="Symbol">;</a> <a id="2783" href="Varieties.Properties.html#4301" class="Function">âŠ§-lower-invar</a> <a id="2797" class="Symbol">;</a> <a id="2799" href="Varieties.Properties.html#5453" class="Function">âŠ§-S-class-invar</a>
                                                     <a id="2868" class="Symbol">;</a> <a id="2870" href="Varieties.Properties.html#3225" class="Function">âŠ§-I-invar</a> <a id="2880" class="Symbol">;</a> <a id="2882" href="Varieties.Properties.html#7236" class="Function">âŠ§-P-lift-invar</a> <a id="2897" class="Symbol">;</a> <a id="2899" href="Varieties.Properties.html#6148" class="Function">âŠ§-P-invar</a> <a id="2909" class="Symbol">;</a> <a id="2911" href="Varieties.Properties.html#4726" class="Function">âŠ§-S-invar</a><a id="2920" class="Symbol">)</a>
<a id="2922" class="Keyword">open</a> <a id="2927" class="Keyword">import</a> <a id="2934" href="Varieties.Closure.html" class="Module">Varieties.Closure</a>          <a id="2961" class="Symbol">{</a><a id="2962" class="Argument">ğ‘†</a> <a id="2964" class="Symbol">=</a> <a id="2966" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="2967" class="Symbol">}</a> <a id="2969" class="Keyword">using</a> <a id="2975" class="Symbol">(</a> <a id="2977" href="Varieties.Closure.html#3319" class="Datatype">H</a> <a id="2979" class="Symbol">;</a> <a id="2981" href="Varieties.Closure.html#3769" class="Datatype">S</a> <a id="2983" class="Symbol">;</a> <a id="2985" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="2987" class="Symbol">;</a> <a id="2989" href="Varieties.Closure.html#5309" class="Datatype">V</a> <a id="2991" class="Symbol">;</a> <a id="2993" href="Varieties.Closure.html#9494" class="Function">P-expa</a> <a id="3000" class="Symbol">;</a> <a id="3002" href="Varieties.Closure.html#7840" class="Function">Sâ†’subalgebra</a>
                                                     <a id="3068" class="Symbol">;</a> <a id="3070" href="Varieties.Closure.html#10801" class="Function">Lift-Alg-subP&#39;</a> <a id="3085" class="Symbol">;</a> <a id="3087" href="Varieties.Closure.html#7468" class="Function">subalgebraâ†’S</a> <a id="3100" class="Symbol">;</a> <a id="3102" href="Varieties.Closure.html#6889" class="Function">S-mono</a>
                                                     <a id="3162" class="Symbol">;</a> <a id="3164" href="Varieties.Closure.html#9657" class="Function">P-idemp</a> <a id="3172" class="Symbol">;</a> <a id="3174" class="Keyword">module</a> <a id="3181" href="Varieties.Closure.html#11710" class="Module">Vlift</a><a id="3186" class="Symbol">)</a>
<a id="3188" class="Keyword">open</a> <a id="3193" href="Varieties.Closure.html#3319" class="Module">H</a>
<a id="3195" class="Keyword">open</a> <a id="3200" href="Varieties.Closure.html#3769" class="Module">S</a>
<a id="3202" class="Keyword">open</a> <a id="3207" href="Varieties.Closure.html#4352" class="Module">P</a>
<a id="3209" class="Keyword">open</a> <a id="3214" href="Varieties.Closure.html#5309" class="Module">V</a>

<a id="3217" class="Keyword">private</a> <a id="3225" class="Keyword">variable</a> <a id="3234" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="3236" href="Varieties.Preservation.html#3236" class="Generalizable">Î²</a> <a id="3238" class="Symbol">:</a> <a id="3240" href="Agda.Primitive.html#597" class="Postulate">Level</a>

</pre>



### <a id="closure-properties">Closure properties</a>

The types defined above represent operators with useful closure properties. We now prove a handful of such properties that we need later.

The next lemma would be too obvious to care about were it not for the fact that we'll need it later, so it too must be formalized.

<pre class="Agda">

<a id="SâŠ†SP"></a><a id="3601" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a> <a id="3606" class="Symbol">:</a> <a id="3608" class="Symbol">(</a><a id="3609" href="Varieties.Preservation.html#3609" class="Bound">ğ’¦</a> <a id="3611" class="Symbol">:</a> <a id="3613" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3618" class="Symbol">(</a><a id="3619" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="3627" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="3629" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="3630" class="Symbol">)(</a><a id="3632" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="3635" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="3636" class="Symbol">))</a>
 <a id="3640" class="Symbol">â†’</a>     <a id="3646" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="3647" class="Symbol">{</a><a id="3648" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="3649" class="Symbol">}{</a><a id="3651" href="Varieties.Preservation.html#3236" class="Generalizable">Î²</a><a id="3652" class="Symbol">}</a> <a id="3654" href="Varieties.Preservation.html#3609" class="Bound">ğ’¦</a> <a id="3656" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="3658" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="3659" class="Symbol">{</a><a id="3660" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="3662" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3664" href="Varieties.Preservation.html#3236" class="Generalizable">Î²</a><a id="3665" class="Symbol">}{</a><a id="3667" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="3669" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3671" href="Varieties.Preservation.html#3236" class="Generalizable">Î²</a><a id="3672" class="Symbol">}</a> <a id="3674" class="Symbol">(</a><a id="3675" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="3676" class="Symbol">{</a><a id="3677" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="3678" class="Symbol">}{</a><a id="3680" href="Varieties.Preservation.html#3236" class="Generalizable">Î²</a><a id="3681" class="Symbol">}</a> <a id="3683" href="Varieties.Preservation.html#3609" class="Bound">ğ’¦</a><a id="3684" class="Symbol">)</a>

<a id="3687" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a> <a id="3692" class="Symbol">{</a><a id="3693" href="Varieties.Preservation.html#3693" class="Bound">Î±</a><a id="3694" class="Symbol">}</a> <a id="3696" class="Symbol">{</a><a id="3697" href="Varieties.Preservation.html#3697" class="Bound">Î²</a><a id="3698" class="Symbol">}</a> <a id="3700" href="Varieties.Preservation.html#3700" class="Bound">ğ’¦</a> <a id="3702" class="Symbol">{</a><a id="3703" class="DottedPattern Symbol">.(</a><a id="3705" href="Algebras.Basic.html#10869" class="DottedPattern Function">Lift-Alg</a> <a id="3714" href="Varieties.Preservation.html#3726" class="DottedPattern Bound">ğ‘¨</a> <a id="3716" href="Varieties.Preservation.html#3697" class="DottedPattern Bound">Î²</a><a id="3717" class="DottedPattern Symbol">)</a><a id="3718" class="Symbol">}(</a><a id="3720" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a><a id="3725" class="Symbol">{</a><a id="3726" href="Varieties.Preservation.html#3726" class="Bound">ğ‘¨</a><a id="3727" class="Symbol">}</a> <a id="3729" href="Varieties.Preservation.html#3729" class="Bound">x</a><a id="3730" class="Symbol">)</a> <a id="3732" class="Symbol">=</a> <a id="3734" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a> <a id="3739" href="Varieties.Preservation.html#3832" class="Function">spllA</a><a id="3744" class="Symbol">(</a><a id="3745" href="Homomorphisms.Isomorphisms.html#2906" class="Function">â‰…-sym</a> <a id="3751" href="Homomorphisms.Isomorphisms.html#4349" class="Function">Lift-â‰…</a><a id="3757" class="Symbol">)</a>
 <a id="3760" class="Keyword">where</a>
 <a id="3767" href="Varieties.Preservation.html#3767" class="Function">llA</a> <a id="3771" class="Symbol">:</a> <a id="3773" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="3781" class="Symbol">(</a><a id="3782" href="Varieties.Preservation.html#3693" class="Bound">Î±</a> <a id="3784" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3786" href="Varieties.Preservation.html#3697" class="Bound">Î²</a><a id="3787" class="Symbol">)</a> <a id="3789" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a>
 <a id="3792" href="Varieties.Preservation.html#3767" class="Function">llA</a> <a id="3796" class="Symbol">=</a> <a id="3798" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="3807" class="Symbol">(</a><a id="3808" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="3817" href="Varieties.Preservation.html#3726" class="Bound">ğ‘¨</a> <a id="3819" href="Varieties.Preservation.html#3697" class="Bound">Î²</a><a id="3820" class="Symbol">)</a> <a id="3822" class="Symbol">(</a><a id="3823" href="Varieties.Preservation.html#3693" class="Bound">Î±</a> <a id="3825" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3827" href="Varieties.Preservation.html#3697" class="Bound">Î²</a><a id="3828" class="Symbol">)</a>

 <a id="3832" href="Varieties.Preservation.html#3832" class="Function">spllA</a> <a id="3838" class="Symbol">:</a> <a id="3840" href="Varieties.Preservation.html#3767" class="Function">llA</a> <a id="3844" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="3846" href="Varieties.Closure.html#3769" class="Datatype">S</a> <a id="3848" class="Symbol">(</a><a id="3849" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="3851" href="Varieties.Preservation.html#3700" class="Bound">ğ’¦</a><a id="3852" class="Symbol">)</a>
 <a id="3855" href="Varieties.Preservation.html#3832" class="Function">spllA</a> <a id="3861" class="Symbol">=</a> <a id="3863" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a><a id="3868" class="Symbol">{</a><a id="3869" href="Varieties.Preservation.html#3693" class="Bound">Î±</a> <a id="3871" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3873" href="Varieties.Preservation.html#3697" class="Bound">Î²</a><a id="3874" class="Symbol">}{</a><a id="3876" href="Varieties.Preservation.html#3693" class="Bound">Î±</a> <a id="3878" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3880" href="Varieties.Preservation.html#3697" class="Bound">Î²</a><a id="3881" class="Symbol">}</a> <a id="3883" class="Symbol">(</a><a id="3884" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="3890" href="Varieties.Preservation.html#3729" class="Bound">x</a><a id="3891" class="Symbol">)</a>

<a id="3894" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a> <a id="3899" class="Symbol">{</a><a id="3900" href="Varieties.Preservation.html#3900" class="Bound">Î±</a><a id="3901" class="Symbol">}</a> <a id="3903" class="Symbol">{</a><a id="3904" href="Varieties.Preservation.html#3904" class="Bound">Î²</a><a id="3905" class="Symbol">}</a> <a id="3907" href="Varieties.Preservation.html#3907" class="Bound">ğ’¦</a> <a id="3909" class="Symbol">{</a><a id="3910" class="DottedPattern Symbol">.(</a><a id="3912" href="Algebras.Basic.html#10869" class="DottedPattern Function">Lift-Alg</a> <a id="3921" href="Varieties.Preservation.html#3933" class="DottedPattern Bound">ğ‘¨</a> <a id="3923" href="Varieties.Preservation.html#3904" class="DottedPattern Bound">Î²</a><a id="3924" class="DottedPattern Symbol">)</a><a id="3925" class="Symbol">}(</a><a id="3927" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a><a id="3932" class="Symbol">{</a><a id="3933" href="Varieties.Preservation.html#3933" class="Bound">ğ‘¨</a><a id="3934" class="Symbol">}</a> <a id="3936" href="Varieties.Preservation.html#3936" class="Bound">x</a><a id="3937" class="Symbol">)</a> <a id="3939" class="Symbol">=</a> <a id="3941" href="Varieties.Closure.html#7468" class="Function">subalgebraâ†’S</a> <a id="3954" href="Varieties.Preservation.html#4091" class="Function">lAsc</a>
 <a id="3960" class="Keyword">where</a>
 <a id="3967" href="Varieties.Preservation.html#3967" class="Function">splAu</a> <a id="3973" class="Symbol">:</a> <a id="3975" href="Varieties.Preservation.html#3933" class="Bound">ğ‘¨</a> <a id="3977" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="3979" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="3980" class="Symbol">(</a><a id="3981" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="3983" href="Varieties.Preservation.html#3907" class="Bound">ğ’¦</a><a id="3984" class="Symbol">)</a>
 <a id="3987" href="Varieties.Preservation.html#3967" class="Function">splAu</a> <a id="3993" class="Symbol">=</a> <a id="3995" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a><a id="3999" class="Symbol">{</a><a id="4000" href="Varieties.Preservation.html#3900" class="Bound">Î±</a><a id="4001" class="Symbol">}{</a><a id="4003" href="Varieties.Preservation.html#3900" class="Bound">Î±</a><a id="4004" class="Symbol">}</a> <a id="4006" href="Varieties.Preservation.html#3907" class="Bound">ğ’¦</a> <a id="4008" href="Varieties.Preservation.html#3936" class="Bound">x</a>

 <a id="4012" href="Varieties.Preservation.html#4012" class="Function">Asc</a> <a id="4016" class="Symbol">:</a> <a id="4018" href="Varieties.Preservation.html#3933" class="Bound">ğ‘¨</a> <a id="4020" href="Subalgebras.Subalgebras.html#6115" class="Function Operator">IsSubalgebraOfClass</a> <a id="4040" class="Symbol">(</a><a id="4041" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="4043" href="Varieties.Preservation.html#3907" class="Bound">ğ’¦</a><a id="4044" class="Symbol">)</a>
 <a id="4047" href="Varieties.Preservation.html#4012" class="Function">Asc</a> <a id="4051" class="Symbol">=</a> <a id="4053" href="Varieties.Closure.html#7840" class="Function">Sâ†’subalgebra</a><a id="4065" class="Symbol">{</a><a id="4066" href="Varieties.Preservation.html#3900" class="Bound">Î±</a><a id="4067" class="Symbol">}{</a><a id="4069" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="4070" class="Symbol">{</a><a id="4071" href="Varieties.Preservation.html#3900" class="Bound">Î±</a><a id="4072" class="Symbol">}{</a><a id="4074" href="Varieties.Preservation.html#3900" class="Bound">Î±</a><a id="4075" class="Symbol">}</a> <a id="4077" href="Varieties.Preservation.html#3907" class="Bound">ğ’¦</a><a id="4078" class="Symbol">}{</a><a id="4080" href="Varieties.Preservation.html#3933" class="Bound">ğ‘¨</a><a id="4081" class="Symbol">}</a> <a id="4083" href="Varieties.Preservation.html#3967" class="Function">splAu</a>

 <a id="4091" href="Varieties.Preservation.html#4091" class="Function">lAsc</a> <a id="4096" class="Symbol">:</a> <a id="4098" class="Symbol">(</a><a id="4099" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="4108" href="Varieties.Preservation.html#3933" class="Bound">ğ‘¨</a> <a id="4110" href="Varieties.Preservation.html#3904" class="Bound">Î²</a><a id="4111" class="Symbol">)</a> <a id="4113" href="Subalgebras.Subalgebras.html#6115" class="Function Operator">IsSubalgebraOfClass</a> <a id="4133" class="Symbol">(</a><a id="4134" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="4136" href="Varieties.Preservation.html#3907" class="Bound">ğ’¦</a><a id="4137" class="Symbol">)</a>
 <a id="4140" href="Varieties.Preservation.html#4091" class="Function">lAsc</a> <a id="4145" class="Symbol">=</a> <a id="4147" href="Varieties.Closure.html#10801" class="Function">Lift-Alg-subP&#39;</a> <a id="4162" href="Varieties.Preservation.html#4012" class="Function">Asc</a>
<a id="4166" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a> <a id="4171" class="Symbol">{</a><a id="4172" href="Varieties.Preservation.html#4172" class="Bound">Î±</a><a id="4173" class="Symbol">}</a> <a id="4175" class="Symbol">{</a><a id="4176" href="Varieties.Preservation.html#4176" class="Bound">Î²</a><a id="4177" class="Symbol">}</a> <a id="4179" href="Varieties.Preservation.html#4179" class="Bound">ğ’¦</a> <a id="4181" class="Symbol">{</a><a id="4182" href="Varieties.Preservation.html#4182" class="Bound">ğ‘©</a><a id="4183" class="Symbol">}(</a><a id="4185" href="Varieties.Closure.html#3977" class="InductiveConstructor">ssub</a><a id="4189" class="Symbol">{</a><a id="4190" href="Varieties.Preservation.html#4190" class="Bound">ğ‘¨</a><a id="4191" class="Symbol">}</a> <a id="4193" href="Varieties.Preservation.html#4193" class="Bound">sA</a> <a id="4196" href="Varieties.Preservation.html#4196" class="Bound">Bâ‰¤A</a><a id="4199" class="Symbol">)</a> <a id="4201" class="Symbol">=</a> <a id="4203" href="Varieties.Closure.html#3977" class="InductiveConstructor">ssub</a> <a id="4208" class="Symbol">(</a><a id="4209" href="Varieties.Closure.html#7468" class="Function">subalgebraâ†’S</a> <a id="4222" href="Varieties.Preservation.html#4429" class="Function">lAsc</a><a id="4226" class="Symbol">)</a> <a id="4228" class="Symbol">(</a><a id="4229" href="Subalgebras.Properties.html#5802" class="Function">â‰¤-Lift</a> <a id="4236" href="Varieties.Preservation.html#4190" class="Bound">ğ‘¨</a> <a id="4238" href="Varieties.Preservation.html#4196" class="Bound">Bâ‰¤A</a> <a id="4242" class="Symbol">)</a>
 <a id="4245" class="Keyword">where</a>
  <a id="4253" href="Varieties.Preservation.html#4253" class="Function">lA</a> <a id="4256" class="Symbol">:</a> <a id="4258" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="4266" class="Symbol">(</a><a id="4267" href="Varieties.Preservation.html#4172" class="Bound">Î±</a> <a id="4269" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4271" href="Varieties.Preservation.html#4176" class="Bound">Î²</a><a id="4272" class="Symbol">)</a> <a id="4274" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a>
  <a id="4278" href="Varieties.Preservation.html#4253" class="Function">lA</a> <a id="4281" class="Symbol">=</a> <a id="4283" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="4292" href="Varieties.Preservation.html#4190" class="Bound">ğ‘¨</a> <a id="4294" href="Varieties.Preservation.html#4176" class="Bound">Î²</a>

  <a id="4299" href="Varieties.Preservation.html#4299" class="Function">splAu</a> <a id="4305" class="Symbol">:</a> <a id="4307" href="Varieties.Preservation.html#4190" class="Bound">ğ‘¨</a> <a id="4309" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="4311" href="Varieties.Closure.html#3769" class="Datatype">S</a> <a id="4313" class="Symbol">(</a><a id="4314" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="4316" href="Varieties.Preservation.html#4179" class="Bound">ğ’¦</a><a id="4317" class="Symbol">)</a>
  <a id="4321" href="Varieties.Preservation.html#4299" class="Function">splAu</a> <a id="4327" class="Symbol">=</a> <a id="4329" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a><a id="4333" class="Symbol">{</a><a id="4334" href="Varieties.Preservation.html#4172" class="Bound">Î±</a><a id="4335" class="Symbol">}{</a><a id="4337" href="Varieties.Preservation.html#4172" class="Bound">Î±</a><a id="4338" class="Symbol">}</a> <a id="4340" href="Varieties.Preservation.html#4179" class="Bound">ğ’¦</a> <a id="4342" href="Varieties.Preservation.html#4193" class="Bound">sA</a>

  <a id="4348" href="Varieties.Preservation.html#4348" class="Function">Asc</a> <a id="4352" class="Symbol">:</a> <a id="4354" href="Varieties.Preservation.html#4190" class="Bound">ğ‘¨</a> <a id="4356" href="Subalgebras.Subalgebras.html#6115" class="Function Operator">IsSubalgebraOfClass</a> <a id="4376" class="Symbol">(</a><a id="4377" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="4379" href="Varieties.Preservation.html#4179" class="Bound">ğ’¦</a><a id="4380" class="Symbol">)</a>
  <a id="4384" href="Varieties.Preservation.html#4348" class="Function">Asc</a> <a id="4388" class="Symbol">=</a> <a id="4390" href="Varieties.Closure.html#7840" class="Function">Sâ†’subalgebra</a><a id="4402" class="Symbol">{</a><a id="4403" href="Varieties.Preservation.html#4172" class="Bound">Î±</a><a id="4404" class="Symbol">}{</a><a id="4406" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="4407" class="Symbol">{</a><a id="4408" href="Varieties.Preservation.html#4172" class="Bound">Î±</a><a id="4409" class="Symbol">}{</a><a id="4411" href="Varieties.Preservation.html#4172" class="Bound">Î±</a><a id="4412" class="Symbol">}</a> <a id="4414" href="Varieties.Preservation.html#4179" class="Bound">ğ’¦</a><a id="4415" class="Symbol">}{</a><a id="4417" href="Varieties.Preservation.html#4190" class="Bound">ğ‘¨</a><a id="4418" class="Symbol">}</a> <a id="4420" href="Varieties.Preservation.html#4299" class="Function">splAu</a>

  <a id="4429" href="Varieties.Preservation.html#4429" class="Function">lAsc</a> <a id="4434" class="Symbol">:</a> <a id="4436" href="Varieties.Preservation.html#4253" class="Function">lA</a> <a id="4439" href="Subalgebras.Subalgebras.html#6115" class="Function Operator">IsSubalgebraOfClass</a> <a id="4459" class="Symbol">(</a><a id="4460" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="4462" href="Varieties.Preservation.html#4179" class="Bound">ğ’¦</a><a id="4463" class="Symbol">)</a>
  <a id="4467" href="Varieties.Preservation.html#4429" class="Function">lAsc</a> <a id="4472" class="Symbol">=</a> <a id="4474" href="Varieties.Closure.html#10801" class="Function">Lift-Alg-subP&#39;</a> <a id="4489" href="Varieties.Preservation.html#4348" class="Function">Asc</a>

<a id="4494" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a> <a id="4499" class="Symbol">{</a><a id="4500" class="Argument">Î±</a> <a id="4502" class="Symbol">=</a> <a id="4504" href="Varieties.Preservation.html#4504" class="Bound">Î±</a><a id="4505" class="Symbol">}{</a><a id="4507" href="Varieties.Preservation.html#4507" class="Bound">Î²</a><a id="4508" class="Symbol">}</a> <a id="4510" href="Varieties.Preservation.html#4510" class="Bound">ğ’¦</a> <a id="4512" class="Symbol">{</a><a id="4513" href="Varieties.Preservation.html#4513" class="Bound">ğ‘©</a><a id="4514" class="Symbol">}(</a><a id="4516" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a><a id="4520" class="Symbol">{</a><a id="4521" href="Varieties.Preservation.html#4521" class="Bound">ğ‘¨</a><a id="4522" class="Symbol">}</a> <a id="4524" href="Varieties.Preservation.html#4524" class="Bound">sA</a> <a id="4527" href="Varieties.Preservation.html#4527" class="Bound">Aâ‰…B</a><a id="4530" class="Symbol">)</a> <a id="4532" class="Symbol">=</a> <a id="4534" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a><a id="4538" class="Symbol">{</a><a id="4539" href="Varieties.Preservation.html#4504" class="Bound">Î±</a> <a id="4541" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4543" href="Varieties.Preservation.html#4507" class="Bound">Î²</a><a id="4544" class="Symbol">}{</a><a id="4546" href="Varieties.Preservation.html#4504" class="Bound">Î±</a> <a id="4548" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4550" href="Varieties.Preservation.html#4507" class="Bound">Î²</a><a id="4551" class="Symbol">}</a> <a id="4553" href="Varieties.Preservation.html#4720" class="Function">lAsp</a> <a id="4558" href="Varieties.Preservation.html#4796" class="Function">lAâ‰…B</a>
 <a id="4564" class="Keyword">where</a>
 <a id="4571" href="Varieties.Preservation.html#4571" class="Function">lA</a> <a id="4574" class="Symbol">:</a> <a id="4576" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="4584" class="Symbol">(</a><a id="4585" href="Varieties.Preservation.html#4504" class="Bound">Î±</a> <a id="4587" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4589" href="Varieties.Preservation.html#4507" class="Bound">Î²</a><a id="4590" class="Symbol">)</a> <a id="4592" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a>
 <a id="4595" href="Varieties.Preservation.html#4571" class="Function">lA</a> <a id="4598" class="Symbol">=</a> <a id="4600" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="4609" href="Varieties.Preservation.html#4521" class="Bound">ğ‘¨</a> <a id="4611" href="Varieties.Preservation.html#4507" class="Bound">Î²</a>

 <a id="4615" href="Varieties.Preservation.html#4615" class="Function">lAsc</a> <a id="4620" class="Symbol">:</a> <a id="4622" href="Varieties.Preservation.html#4571" class="Function">lA</a> <a id="4625" href="Subalgebras.Subalgebras.html#6115" class="Function Operator">IsSubalgebraOfClass</a> <a id="4645" class="Symbol">(</a><a id="4646" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="4648" href="Varieties.Preservation.html#4510" class="Bound">ğ’¦</a><a id="4649" class="Symbol">)</a>
 <a id="4652" href="Varieties.Preservation.html#4615" class="Function">lAsc</a> <a id="4657" class="Symbol">=</a> <a id="4659" href="Varieties.Closure.html#10801" class="Function">Lift-Alg-subP&#39;</a> <a id="4674" class="Symbol">(</a><a id="4675" href="Varieties.Closure.html#7840" class="Function">Sâ†’subalgebra</a><a id="4687" class="Symbol">{</a><a id="4688" href="Varieties.Preservation.html#4504" class="Bound">Î±</a><a id="4689" class="Symbol">}{</a><a id="4691" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="4692" class="Symbol">{</a><a id="4693" href="Varieties.Preservation.html#4504" class="Bound">Î±</a><a id="4694" class="Symbol">}{</a><a id="4696" href="Varieties.Preservation.html#4504" class="Bound">Î±</a><a id="4697" class="Symbol">}</a> <a id="4699" href="Varieties.Preservation.html#4510" class="Bound">ğ’¦</a><a id="4700" class="Symbol">}{</a><a id="4702" href="Varieties.Preservation.html#4521" class="Bound">ğ‘¨</a><a id="4703" class="Symbol">}</a> <a id="4705" class="Symbol">(</a><a id="4706" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a> <a id="4711" href="Varieties.Preservation.html#4510" class="Bound">ğ’¦</a> <a id="4713" href="Varieties.Preservation.html#4524" class="Bound">sA</a><a id="4715" class="Symbol">))</a>

 <a id="4720" href="Varieties.Preservation.html#4720" class="Function">lAsp</a> <a id="4725" class="Symbol">:</a> <a id="4727" href="Varieties.Preservation.html#4571" class="Function">lA</a> <a id="4730" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="4732" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="4733" class="Symbol">(</a><a id="4734" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="4736" href="Varieties.Preservation.html#4510" class="Bound">ğ’¦</a><a id="4737" class="Symbol">)</a>
 <a id="4740" href="Varieties.Preservation.html#4720" class="Function">lAsp</a> <a id="4745" class="Symbol">=</a> <a id="4747" href="Varieties.Closure.html#7468" class="Function">subalgebraâ†’S</a><a id="4759" class="Symbol">{</a><a id="4760" href="Varieties.Preservation.html#4504" class="Bound">Î±</a> <a id="4762" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4764" href="Varieties.Preservation.html#4507" class="Bound">Î²</a><a id="4765" class="Symbol">}{</a><a id="4767" href="Varieties.Preservation.html#4504" class="Bound">Î±</a> <a id="4769" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4771" href="Varieties.Preservation.html#4507" class="Bound">Î²</a><a id="4772" class="Symbol">}{</a><a id="4774" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="4775" class="Symbol">{</a><a id="4776" href="Varieties.Preservation.html#4504" class="Bound">Î±</a><a id="4777" class="Symbol">}{</a><a id="4779" href="Varieties.Preservation.html#4507" class="Bound">Î²</a><a id="4780" class="Symbol">}</a> <a id="4782" href="Varieties.Preservation.html#4510" class="Bound">ğ’¦</a><a id="4783" class="Symbol">}{</a><a id="4785" href="Varieties.Preservation.html#4571" class="Function">lA</a><a id="4787" class="Symbol">}</a> <a id="4789" href="Varieties.Preservation.html#4615" class="Function">lAsc</a>

 <a id="4796" href="Varieties.Preservation.html#4796" class="Function">lAâ‰…B</a> <a id="4801" class="Symbol">:</a> <a id="4803" href="Varieties.Preservation.html#4571" class="Function">lA</a> <a id="4806" href="Homomorphisms.Isomorphisms.html#2276" class="Record Operator">â‰…</a> <a id="4808" href="Varieties.Preservation.html#4513" class="Bound">ğ‘©</a>
 <a id="4811" href="Varieties.Preservation.html#4796" class="Function">lAâ‰…B</a> <a id="4816" class="Symbol">=</a> <a id="4818" href="Homomorphisms.Isomorphisms.html#2995" class="Function">â‰…-trans</a> <a id="4826" class="Symbol">(</a><a id="4827" href="Homomorphisms.Isomorphisms.html#2906" class="Function">â‰…-sym</a> <a id="4833" href="Homomorphisms.Isomorphisms.html#4349" class="Function">Lift-â‰…</a><a id="4839" class="Symbol">)</a> <a id="4841" href="Varieties.Preservation.html#4527" class="Bound">Aâ‰…B</a>

</pre>


We need to formalize one more lemma before arriving the main objective of this section, which is the proof of the inclusion PSâŠ†SP.

<pre class="Agda">

<a id="5005" class="Keyword">module</a> <a id="5012" href="Varieties.Preservation.html#5012" class="Module">_</a> <a id="5014" class="Symbol">{</a><a id="5015" href="Varieties.Preservation.html#5015" class="Bound">Î±</a> <a id="5017" href="Varieties.Preservation.html#5017" class="Bound">Î²</a> <a id="5019" class="Symbol">:</a> <a id="5021" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="5026" class="Symbol">}</a> <a id="5028" class="Symbol">{</a><a id="5029" href="Varieties.Preservation.html#5029" class="Bound">ğ’¦</a> <a id="5031" class="Symbol">:</a> <a id="5033" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="5037" class="Symbol">(</a><a id="5038" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="5046" href="Varieties.Preservation.html#5015" class="Bound">Î±</a> <a id="5048" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="5049" class="Symbol">)(</a><a id="5051" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="5054" href="Varieties.Preservation.html#5015" class="Bound">Î±</a><a id="5055" class="Symbol">)}</a> <a id="5058" class="Keyword">where</a>

 <a id="5066" href="Varieties.Preservation.html#5066" class="Function">lemPSâŠ†SP</a> <a id="5075" class="Symbol">:</a> <a id="5077" href="Foundations.Truncation.html#3965" class="Function">hfunext</a> <a id="5085" href="Varieties.Preservation.html#5017" class="Bound">Î²</a> <a id="5087" href="Varieties.Preservation.html#5015" class="Bound">Î±</a> <a id="5089" class="Symbol">â†’</a> <a id="5091" href="Varieties.Preservation.html#931" class="Function">funext</a> <a id="5098" href="Varieties.Preservation.html#5017" class="Bound">Î²</a> <a id="5100" href="Varieties.Preservation.html#5015" class="Bound">Î±</a> <a id="5102" class="Symbol">â†’</a> <a id="5104" class="Symbol">{</a><a id="5105" href="Varieties.Preservation.html#5105" class="Bound">I</a> <a id="5107" class="Symbol">:</a> <a id="5109" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="5114" href="Varieties.Preservation.html#5017" class="Bound">Î²</a><a id="5115" class="Symbol">}{</a><a id="5117" href="Varieties.Preservation.html#5117" class="Bound">â„¬</a> <a id="5119" class="Symbol">:</a> <a id="5121" href="Varieties.Preservation.html#5105" class="Bound">I</a> <a id="5123" class="Symbol">â†’</a> <a id="5125" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="5133" href="Varieties.Preservation.html#5015" class="Bound">Î±</a> <a id="5135" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="5136" class="Symbol">}</a>
  <a id="5140" class="Symbol">â†’</a>         <a id="5150" class="Symbol">(âˆ€</a> <a id="5153" href="Varieties.Preservation.html#5153" class="Bound">i</a> <a id="5155" class="Symbol">â†’</a> <a id="5157" class="Symbol">(</a><a id="5158" href="Varieties.Preservation.html#5117" class="Bound">â„¬</a> <a id="5160" href="Varieties.Preservation.html#5153" class="Bound">i</a><a id="5161" class="Symbol">)</a> <a id="5163" href="Subalgebras.Subalgebras.html#6115" class="Function Operator">IsSubalgebraOfClass</a> <a id="5183" href="Varieties.Preservation.html#5029" class="Bound">ğ’¦</a><a id="5184" class="Symbol">)</a>
  <a id="5188" class="Symbol">â†’</a>         <a id="5198" href="Algebras.Products.html#1867" class="Function">â¨…</a> <a id="5200" href="Varieties.Preservation.html#5117" class="Bound">â„¬</a> <a id="5202" href="Subalgebras.Subalgebras.html#6115" class="Function Operator">IsSubalgebraOfClass</a> <a id="5222" class="Symbol">(</a><a id="5223" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="5224" class="Symbol">{</a><a id="5225" href="Varieties.Preservation.html#5015" class="Bound">Î±</a><a id="5226" class="Symbol">}{</a><a id="5228" href="Varieties.Preservation.html#5017" class="Bound">Î²</a><a id="5229" class="Symbol">}</a> <a id="5231" href="Varieties.Preservation.html#5029" class="Bound">ğ’¦</a><a id="5232" class="Symbol">)</a>

 <a id="5236" href="Varieties.Preservation.html#5066" class="Function">lemPSâŠ†SP</a> <a id="5245" href="Varieties.Preservation.html#5245" class="Bound">hwu</a> <a id="5249" href="Varieties.Preservation.html#5249" class="Bound">fwu</a> <a id="5253" class="Symbol">{</a><a id="5254" href="Varieties.Preservation.html#5254" class="Bound">I</a><a id="5255" class="Symbol">}{</a><a id="5257" href="Varieties.Preservation.html#5257" class="Bound">â„¬</a><a id="5258" class="Symbol">}</a> <a id="5260" href="Varieties.Preservation.html#5260" class="Bound">Bâ‰¤K</a> <a id="5264" class="Symbol">=</a> <a id="5266" href="Algebras.Products.html#1867" class="Function">â¨…</a> <a id="5268" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a> <a id="5270" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5272" class="Symbol">(</a><a id="5273" href="Algebras.Products.html#1867" class="Function">â¨…</a> <a id="5275" href="Varieties.Preservation.html#5382" class="Function">SA</a> <a id="5278" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5280" href="Varieties.Preservation.html#5926" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a><a id="5286" class="Symbol">)</a> <a id="5288" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5290" href="Varieties.Preservation.html#5975" class="Function">Î¾</a> <a id="5292" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5294" class="Symbol">(</a><a id="5295" href="Homomorphisms.Isomorphisms.html#5669" class="Function">â¨…â‰…</a> <a id="5298" class="Symbol">{</a><a id="5299" class="Argument">fiu</a> <a id="5303" class="Symbol">=</a> <a id="5305" href="Varieties.Preservation.html#5249" class="Bound">fwu</a><a id="5308" class="Symbol">}{</a><a id="5310" class="Argument">fiw</a> <a id="5314" class="Symbol">=</a> <a id="5316" href="Varieties.Preservation.html#5249" class="Bound">fwu</a><a id="5319" class="Symbol">}</a> <a id="5321" href="Varieties.Preservation.html#5437" class="Function">Bâ‰…SA</a><a id="5325" class="Symbol">)</a>
  <a id="5329" class="Keyword">where</a>
  <a id="5337" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a> <a id="5339" class="Symbol">:</a> <a id="5341" href="Varieties.Preservation.html#5254" class="Bound">I</a> <a id="5343" class="Symbol">â†’</a> <a id="5345" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="5353" href="Varieties.Preservation.html#5015" class="Bound">Î±</a> <a id="5355" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a>
  <a id="5359" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a> <a id="5361" class="Symbol">=</a> <a id="5363" class="Symbol">Î»</a> <a id="5365" href="Varieties.Preservation.html#5365" class="Bound">i</a> <a id="5367" class="Symbol">â†’</a> <a id="5369" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5371" href="Varieties.Preservation.html#5260" class="Bound">Bâ‰¤K</a> <a id="5375" href="Varieties.Preservation.html#5365" class="Bound">i</a> <a id="5377" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>

  <a id="5382" href="Varieties.Preservation.html#5382" class="Function">SA</a> <a id="5385" class="Symbol">:</a> <a id="5387" href="Varieties.Preservation.html#5254" class="Bound">I</a> <a id="5389" class="Symbol">â†’</a> <a id="5391" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="5399" href="Varieties.Preservation.html#5015" class="Bound">Î±</a> <a id="5401" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a>
  <a id="5405" href="Varieties.Preservation.html#5382" class="Function">SA</a> <a id="5408" class="Symbol">=</a> <a id="5410" class="Symbol">Î»</a> <a id="5412" href="Varieties.Preservation.html#5412" class="Bound">i</a> <a id="5414" class="Symbol">â†’</a> <a id="5416" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5418" href="Varieties.Preservation.html#1018" class="Field">fst</a> <a id="5422" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5424" href="Varieties.Preservation.html#5260" class="Bound">Bâ‰¤K</a> <a id="5428" href="Varieties.Preservation.html#5412" class="Bound">i</a> <a id="5430" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5432" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>

  <a id="5437" href="Varieties.Preservation.html#5437" class="Function">Bâ‰…SA</a> <a id="5442" class="Symbol">:</a> <a id="5444" class="Symbol">âˆ€</a> <a id="5446" href="Varieties.Preservation.html#5446" class="Bound">i</a> <a id="5448" class="Symbol">â†’</a> <a id="5450" href="Varieties.Preservation.html#5257" class="Bound">â„¬</a> <a id="5452" href="Varieties.Preservation.html#5446" class="Bound">i</a> <a id="5454" href="Homomorphisms.Isomorphisms.html#2276" class="Record Operator">â‰…</a> <a id="5456" href="Varieties.Preservation.html#5382" class="Function">SA</a> <a id="5459" href="Varieties.Preservation.html#5446" class="Bound">i</a>
  <a id="5463" href="Varieties.Preservation.html#5437" class="Function">Bâ‰…SA</a> <a id="5468" class="Symbol">=</a> <a id="5470" class="Symbol">Î»</a> <a id="5472" href="Varieties.Preservation.html#5472" class="Bound">i</a> <a id="5474" class="Symbol">â†’</a> <a id="5476" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5478" href="Varieties.Preservation.html#1033" class="Field">snd</a> <a id="5482" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5484" href="Varieties.Preservation.html#5260" class="Bound">Bâ‰¤K</a> <a id="5488" href="Varieties.Preservation.html#5472" class="Bound">i</a> <a id="5490" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5492" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a>

  <a id="5497" href="Varieties.Preservation.html#5497" class="Function">SAâ‰¤ğ’œ</a> <a id="5502" class="Symbol">:</a> <a id="5504" class="Symbol">âˆ€</a> <a id="5506" href="Varieties.Preservation.html#5506" class="Bound">i</a> <a id="5508" class="Symbol">â†’</a> <a id="5510" class="Symbol">(</a><a id="5511" href="Varieties.Preservation.html#5382" class="Function">SA</a> <a id="5514" href="Varieties.Preservation.html#5506" class="Bound">i</a><a id="5515" class="Symbol">)</a> <a id="5517" href="Subalgebras.Subalgebras.html#2595" class="Function Operator">IsSubalgebraOf</a> <a id="5532" class="Symbol">(</a><a id="5533" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a> <a id="5535" href="Varieties.Preservation.html#5506" class="Bound">i</a><a id="5536" class="Symbol">)</a>
  <a id="5540" href="Varieties.Preservation.html#5497" class="Function">SAâ‰¤ğ’œ</a> <a id="5545" class="Symbol">=</a> <a id="5547" class="Symbol">Î»</a> <a id="5549" href="Varieties.Preservation.html#5549" class="Bound">i</a> <a id="5551" class="Symbol">â†’</a> <a id="5553" href="Varieties.Preservation.html#1033" class="Field">snd</a> <a id="5557" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5559" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5561" href="Varieties.Preservation.html#5260" class="Bound">Bâ‰¤K</a> <a id="5565" href="Varieties.Preservation.html#5549" class="Bound">i</a> <a id="5567" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5569" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>

  <a id="5574" href="Varieties.Preservation.html#5574" class="Function">h</a> <a id="5576" class="Symbol">:</a> <a id="5578" class="Symbol">âˆ€</a> <a id="5580" href="Varieties.Preservation.html#5580" class="Bound">i</a> <a id="5582" class="Symbol">â†’</a> <a id="5584" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5586" href="Varieties.Preservation.html#5382" class="Function">SA</a> <a id="5589" href="Varieties.Preservation.html#5580" class="Bound">i</a> <a id="5591" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5593" class="Symbol">â†’</a> <a id="5595" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5597" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a> <a id="5599" href="Varieties.Preservation.html#5580" class="Bound">i</a> <a id="5601" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>
  <a id="5605" href="Varieties.Preservation.html#5574" class="Function">h</a> <a id="5607" class="Symbol">=</a> <a id="5609" class="Symbol">Î»</a> <a id="5611" href="Varieties.Preservation.html#5611" class="Bound">i</a> <a id="5613" class="Symbol">â†’</a> <a id="5615" href="Varieties.Preservation.html#1018" class="Field">fst</a> <a id="5619" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5621" href="Varieties.Preservation.html#5497" class="Function">SAâ‰¤ğ’œ</a> <a id="5626" href="Varieties.Preservation.html#5611" class="Bound">i</a> <a id="5628" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>

  <a id="5633" href="Varieties.Preservation.html#5633" class="Function">hinj</a> <a id="5638" class="Symbol">:</a> <a id="5640" class="Symbol">âˆ€</a> <a id="5642" href="Varieties.Preservation.html#5642" class="Bound">i</a> <a id="5644" class="Symbol">â†’</a> <a id="5646" href="Overture.Inverses.html#2440" class="Function">IsInjective</a> <a id="5658" class="Symbol">(</a><a id="5659" href="Varieties.Preservation.html#5574" class="Function">h</a> <a id="5661" href="Varieties.Preservation.html#5642" class="Bound">i</a><a id="5662" class="Symbol">)</a>
  <a id="5666" href="Varieties.Preservation.html#5633" class="Function">hinj</a> <a id="5671" class="Symbol">=</a> <a id="5673" class="Symbol">Î»</a> <a id="5675" href="Varieties.Preservation.html#5675" class="Bound">i</a> <a id="5677" class="Symbol">â†’</a> <a id="5679" href="Varieties.Preservation.html#1033" class="Field">snd</a> <a id="5683" class="Symbol">(</a><a id="5684" href="Varieties.Preservation.html#1033" class="Field">snd</a> <a id="5688" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5690" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5692" href="Varieties.Preservation.html#5260" class="Bound">Bâ‰¤K</a> <a id="5696" href="Varieties.Preservation.html#5675" class="Bound">i</a> <a id="5698" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="5700" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a><a id="5701" class="Symbol">)</a>

  <a id="5706" href="Varieties.Preservation.html#5706" class="Function">Ïƒ</a> <a id="5708" class="Symbol">:</a> <a id="5710" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5712" href="Algebras.Products.html#1867" class="Function">â¨…</a> <a id="5714" href="Varieties.Preservation.html#5382" class="Function">SA</a> <a id="5717" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5719" class="Symbol">â†’</a> <a id="5721" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5723" href="Algebras.Products.html#1867" class="Function">â¨…</a> <a id="5725" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a> <a id="5727" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>
  <a id="5731" href="Varieties.Preservation.html#5706" class="Function">Ïƒ</a> <a id="5733" class="Symbol">=</a> <a id="5735" class="Symbol">Î»</a> <a id="5737" href="Varieties.Preservation.html#5737" class="Bound">x</a> <a id="5739" href="Varieties.Preservation.html#5739" class="Bound">i</a> <a id="5741" class="Symbol">â†’</a> <a id="5743" class="Symbol">(</a><a id="5744" href="Varieties.Preservation.html#5574" class="Function">h</a> <a id="5746" href="Varieties.Preservation.html#5739" class="Bound">i</a><a id="5747" class="Symbol">)</a> <a id="5749" class="Symbol">(</a><a id="5750" href="Varieties.Preservation.html#5737" class="Bound">x</a> <a id="5752" href="Varieties.Preservation.html#5739" class="Bound">i</a><a id="5753" class="Symbol">)</a>
  <a id="5757" href="Varieties.Preservation.html#5757" class="Function">Î½</a> <a id="5759" class="Symbol">:</a> <a id="5761" href="Homomorphisms.Basic.html#3061" class="Function">is-homomorphism</a> <a id="5777" class="Symbol">(</a><a id="5778" href="Algebras.Products.html#1867" class="Function">â¨…</a> <a id="5780" href="Varieties.Preservation.html#5382" class="Function">SA</a><a id="5782" class="Symbol">)</a> <a id="5784" class="Symbol">(</a><a id="5785" href="Algebras.Products.html#1867" class="Function">â¨…</a> <a id="5787" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a><a id="5788" class="Symbol">)</a> <a id="5790" href="Varieties.Preservation.html#5706" class="Function">Ïƒ</a>
  <a id="5794" href="Varieties.Preservation.html#5757" class="Function">Î½</a> <a id="5796" class="Symbol">=</a> <a id="5798" class="Symbol">Î»</a> <a id="5800" href="Varieties.Preservation.html#5800" class="Bound">ğ‘“</a> <a id="5802" href="Varieties.Preservation.html#5802" class="Bound">ğ’‚</a> <a id="5804" class="Symbol">â†’</a> <a id="5806" href="Varieties.Preservation.html#5249" class="Bound">fwu</a> <a id="5810" class="Symbol">Î»</a> <a id="5812" href="Varieties.Preservation.html#5812" class="Bound">i</a> <a id="5814" class="Symbol">â†’</a> <a id="5816" class="Symbol">(</a><a id="5817" href="Varieties.Preservation.html#1033" class="Field">snd</a> <a id="5821" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="5823" href="Varieties.Preservation.html#5497" class="Function">SAâ‰¤ğ’œ</a> <a id="5828" href="Varieties.Preservation.html#5812" class="Bound">i</a> <a id="5830" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a><a id="5831" class="Symbol">)</a> <a id="5833" href="Varieties.Preservation.html#5800" class="Bound">ğ‘“</a> <a id="5835" class="Symbol">(Î»</a> <a id="5838" href="Varieties.Preservation.html#5838" class="Bound">x</a> <a id="5840" class="Symbol">â†’</a> <a id="5842" href="Varieties.Preservation.html#5802" class="Bound">ğ’‚</a> <a id="5844" href="Varieties.Preservation.html#5838" class="Bound">x</a> <a id="5846" href="Varieties.Preservation.html#5812" class="Bound">i</a><a id="5847" class="Symbol">)</a>

  <a id="5852" href="Varieties.Preservation.html#5852" class="Function">Ïƒinj</a> <a id="5857" class="Symbol">:</a> <a id="5859" href="Overture.Inverses.html#2440" class="Function">IsInjective</a> <a id="5871" href="Varieties.Preservation.html#5706" class="Function">Ïƒ</a>
  <a id="5875" href="Varieties.Preservation.html#5852" class="Function">Ïƒinj</a> <a id="5880" href="Varieties.Preservation.html#5880" class="Bound">ÏƒxÏƒy</a> <a id="5885" class="Symbol">=</a> <a id="5887" href="Varieties.Preservation.html#5249" class="Bound">fwu</a> <a id="5891" class="Symbol">Î»</a> <a id="5893" href="Varieties.Preservation.html#5893" class="Bound">i</a> <a id="5895" class="Symbol">â†’</a> <a id="5897" class="Symbol">(</a><a id="5898" href="Varieties.Preservation.html#5633" class="Function">hinj</a> <a id="5903" href="Varieties.Preservation.html#5893" class="Bound">i</a><a id="5904" class="Symbol">)(</a><a id="5906" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="5915" href="Varieties.Preservation.html#5880" class="Bound">ÏƒxÏƒy</a> <a id="5920" href="Varieties.Preservation.html#5893" class="Bound">i</a><a id="5921" class="Symbol">)</a>

  <a id="5926" href="Varieties.Preservation.html#5926" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a> <a id="5933" class="Symbol">:</a> <a id="5935" href="Algebras.Products.html#1867" class="Function">â¨…</a> <a id="5937" href="Varieties.Preservation.html#5382" class="Function">SA</a> <a id="5940" href="Subalgebras.Subalgebras.html#2553" class="Function Operator">â‰¤</a> <a id="5942" href="Algebras.Products.html#1867" class="Function">â¨…</a> <a id="5944" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a>
  <a id="5948" href="Varieties.Preservation.html#5926" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a> <a id="5955" class="Symbol">=</a> <a id="5957" class="Symbol">(</a><a id="5958" href="Varieties.Preservation.html#5706" class="Function">Ïƒ</a> <a id="5960" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5962" href="Varieties.Preservation.html#5757" class="Function">Î½</a><a id="5963" class="Symbol">)</a> <a id="5965" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5967" href="Varieties.Preservation.html#5852" class="Function">Ïƒinj</a>

  <a id="5975" href="Varieties.Preservation.html#5975" class="Function">Î¾</a> <a id="5977" class="Symbol">:</a> <a id="5979" href="Algebras.Products.html#1867" class="Function">â¨…</a> <a id="5981" href="Varieties.Preservation.html#5337" class="Function">ğ’œ</a> <a id="5983" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="5985" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="5987" href="Varieties.Preservation.html#5029" class="Bound">ğ’¦</a>
  <a id="5991" href="Varieties.Preservation.html#5975" class="Function">Î¾</a> <a id="5993" class="Symbol">=</a> <a id="5995" href="Varieties.Closure.html#4639" class="InductiveConstructor">produ</a> <a id="6001" class="Symbol">(Î»</a> <a id="6004" href="Varieties.Preservation.html#6004" class="Bound">i</a> <a id="6006" class="Symbol">â†’</a> <a id="6008" href="Varieties.Closure.html#9494" class="Function">P-expa</a> <a id="6015" class="Symbol">(</a><a id="6016" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="6018" href="Varieties.Preservation.html#1033" class="Field">snd</a> <a id="6022" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="6024" href="Varieties.Preservation.html#5260" class="Bound">Bâ‰¤K</a> <a id="6028" href="Varieties.Preservation.html#6004" class="Bound">i</a> <a id="6030" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="6032" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a><a id="6033" class="Symbol">))</a>


</pre>



### <a id="PS-in-SP">PS(ğ’¦) âŠ† SP(ğ’¦)</a>

Finally, we are in a position to prove that a product of subalgebras of algebras in a class ğ’¦ is a subalgebra of a product of algebras in ğ’¦.

<pre class="Agda">

<a id="6248" class="Keyword">module</a> <a id="6255" href="Varieties.Preservation.html#6255" class="Module">_</a> <a id="6257" class="Symbol">{</a><a id="6258" href="Varieties.Preservation.html#6258" class="Bound">Î±</a> <a id="6260" class="Symbol">:</a> <a id="6262" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="6267" class="Symbol">}</a> <a id="6269" class="Symbol">{</a><a id="6270" href="Varieties.Preservation.html#6270" class="Bound">fovu</a> <a id="6275" class="Symbol">:</a> <a id="6277" href="Varieties.Preservation.html#931" class="Function">funext</a> <a id="6284" class="Symbol">(</a><a id="6285" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="6288" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6289" class="Symbol">)</a> <a id="6291" class="Symbol">(</a><a id="6292" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="6295" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6296" class="Symbol">)}{</a><a id="6299" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a> <a id="6301" class="Symbol">:</a> <a id="6303" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="6308" class="Symbol">(</a><a id="6309" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="6317" href="Varieties.Preservation.html#6258" class="Bound">Î±</a> <a id="6319" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="6320" class="Symbol">)(</a><a id="6322" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="6325" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6326" class="Symbol">)}</a> <a id="6329" class="Keyword">where</a>

 <a id="6337" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6343" class="Symbol">:</a> <a id="6345" class="Comment">-- extensionality assumptions:</a>
            <a id="6388" href="Foundations.Truncation.html#3965" class="Function">hfunext</a> <a id="6396" class="Symbol">(</a><a id="6397" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="6400" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6401" class="Symbol">)(</a><a id="6403" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="6406" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6407" class="Symbol">)</a>

  <a id="6412" class="Symbol">â†’</a>      <a id="6419" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="6420" class="Symbol">{</a><a id="6421" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="6424" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6425" class="Symbol">}{</a><a id="6427" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="6430" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6431" class="Symbol">}</a> <a id="6433" class="Symbol">(</a><a id="6434" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="6435" class="Symbol">{</a><a id="6436" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6437" class="Symbol">}{</a><a id="6439" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="6442" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6443" class="Symbol">}</a> <a id="6445" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a><a id="6446" class="Symbol">)</a> <a id="6448" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="6450" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="6451" class="Symbol">{</a><a id="6452" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="6455" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6456" class="Symbol">}{</a><a id="6458" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="6461" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6462" class="Symbol">}</a> <a id="6464" class="Symbol">(</a><a id="6465" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="6466" class="Symbol">{</a><a id="6467" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6468" class="Symbol">}{</a><a id="6470" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="6473" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6474" class="Symbol">}</a> <a id="6476" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a><a id="6477" class="Symbol">)</a>

 <a id="6481" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6487" class="Symbol">_</a> <a id="6489" class="Symbol">(</a><a id="6490" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="6496" class="Symbol">(</a><a id="6497" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a> <a id="6503" href="Varieties.Preservation.html#6503" class="Bound">x</a><a id="6504" class="Symbol">))</a> <a id="6507" class="Symbol">=</a> <a id="6509" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a> <a id="6515" class="Symbol">(</a><a id="6516" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="6522" href="Varieties.Preservation.html#6503" class="Bound">x</a><a id="6523" class="Symbol">)</a>
 <a id="6526" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6532" class="Symbol">_</a> <a id="6534" class="Symbol">(</a><a id="6535" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="6541" class="Symbol">(</a><a id="6542" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a><a id="6547" class="Symbol">{</a><a id="6548" href="Varieties.Preservation.html#6548" class="Bound">ğ‘¨</a><a id="6549" class="Symbol">}</a> <a id="6551" href="Varieties.Preservation.html#6551" class="Bound">x</a><a id="6552" class="Symbol">))</a> <a id="6555" class="Symbol">=</a> <a id="6557" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a> <a id="6563" class="Symbol">(</a><a id="6564" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a><a id="6568" class="Symbol">{</a><a id="6569" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6570" class="Symbol">}{</a><a id="6572" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="6575" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6576" class="Symbol">}</a> <a id="6578" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a> <a id="6580" class="Symbol">(</a><a id="6581" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a> <a id="6587" href="Varieties.Preservation.html#6551" class="Bound">x</a><a id="6588" class="Symbol">))</a>
 <a id="6592" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6598" class="Symbol">_</a> <a id="6600" class="Symbol">(</a><a id="6601" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a><a id="6606" class="Symbol">{</a><a id="6607" href="Varieties.Preservation.html#6607" class="Bound">ğ‘©</a><a id="6608" class="Symbol">}(</a><a id="6610" href="Varieties.Closure.html#3977" class="InductiveConstructor">ssub</a><a id="6614" class="Symbol">{</a><a id="6615" href="Varieties.Preservation.html#6615" class="Bound">ğ‘¨</a><a id="6616" class="Symbol">}</a> <a id="6618" href="Varieties.Preservation.html#6618" class="Bound">sA</a> <a id="6621" href="Varieties.Preservation.html#6621" class="Bound">Bâ‰¤A</a><a id="6624" class="Symbol">))</a> <a id="6627" class="Symbol">=</a> <a id="6629" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a><a id="6633" class="Symbol">(</a><a id="6634" href="Varieties.Closure.html#3977" class="InductiveConstructor">ssub</a><a id="6638" class="Symbol">(</a><a id="6639" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a> <a id="6644" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a> <a id="6646" class="Symbol">(</a><a id="6647" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a> <a id="6653" href="Varieties.Preservation.html#6618" class="Bound">sA</a><a id="6655" class="Symbol">))(</a><a id="6658" href="Subalgebras.Properties.html#6052" class="Function">Lift-â‰¤-Lift</a> <a id="6670" class="Symbol">(</a><a id="6671" href="Algebras.Products.html#3133" class="Function">ov</a><a id="6673" class="Symbol">(</a><a id="6674" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6675" class="Symbol">)){</a><a id="6678" href="Varieties.Preservation.html#6615" class="Bound">ğ‘¨</a><a id="6679" class="Symbol">}(</a><a id="6681" href="Algebras.Products.html#3133" class="Function">ov</a><a id="6683" class="Symbol">(</a><a id="6684" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6685" class="Symbol">))</a><a id="6687" href="Varieties.Preservation.html#6621" class="Bound">Bâ‰¤A</a><a id="6690" class="Symbol">))</a> <a id="6693" href="Homomorphisms.Isomorphisms.html#2816" class="Function">â‰…-refl</a>
 <a id="6701" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6707" class="Symbol">_</a> <a id="6709" class="Symbol">(</a><a id="6710" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="6716" class="Symbol">(</a><a id="6717" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a><a id="6721" class="Symbol">{</a><a id="6722" href="Varieties.Preservation.html#6722" class="Bound">ğ‘¨</a><a id="6723" class="Symbol">}{</a><a id="6725" href="Varieties.Preservation.html#6725" class="Bound">ğ‘©</a><a id="6726" class="Symbol">}</a> <a id="6728" href="Varieties.Preservation.html#6728" class="Bound">x</a> <a id="6730" href="Varieties.Preservation.html#6730" class="Bound">Aâ‰…B</a><a id="6733" class="Symbol">))</a> <a id="6736" class="Symbol">=</a> <a id="6738" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a> <a id="6743" class="Symbol">(</a><a id="6744" href="Varieties.Preservation.html#3601" class="Function">SâŠ†SP</a> <a id="6749" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a> <a id="6751" class="Symbol">(</a><a id="6752" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a> <a id="6758" href="Varieties.Preservation.html#6728" class="Bound">x</a><a id="6759" class="Symbol">))</a> <a id="6762" class="Symbol">(</a> <a id="6764" href="Homomorphisms.Isomorphisms.html#4668" class="Function">Lift-Alg-iso</a> <a id="6777" href="Varieties.Preservation.html#6730" class="Bound">Aâ‰…B</a> <a id="6781" class="Symbol">)</a>
 <a id="6784" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6790" href="Varieties.Preservation.html#6790" class="Bound">hfe</a> <a id="6794" class="Symbol">(</a><a id="6795" href="Varieties.Closure.html#4497" class="InductiveConstructor">pliftu</a> <a id="6802" href="Varieties.Preservation.html#6802" class="Bound">x</a><a id="6803" class="Symbol">)</a> <a id="6805" class="Symbol">=</a> <a id="6807" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a> <a id="6813" class="Symbol">(</a><a id="6814" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6820" href="Varieties.Preservation.html#6790" class="Bound">hfe</a> <a id="6824" href="Varieties.Preservation.html#6802" class="Bound">x</a><a id="6825" class="Symbol">)</a>
 <a id="6828" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6834" href="Varieties.Preservation.html#6834" class="Bound">hfe</a> <a id="6838" class="Symbol">(</a><a id="6839" href="Varieties.Closure.html#4562" class="InductiveConstructor">pliftw</a> <a id="6846" href="Varieties.Preservation.html#6846" class="Bound">x</a><a id="6847" class="Symbol">)</a> <a id="6849" class="Symbol">=</a> <a id="6851" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a> <a id="6857" class="Symbol">(</a><a id="6858" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6864" href="Varieties.Preservation.html#6834" class="Bound">hfe</a> <a id="6868" href="Varieties.Preservation.html#6846" class="Bound">x</a><a id="6869" class="Symbol">)</a>

 <a id="6873" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="6879" href="Varieties.Preservation.html#6879" class="Bound">hfe</a> <a id="6883" class="Symbol">(</a><a id="6884" href="Varieties.Closure.html#4639" class="InductiveConstructor">produ</a><a id="6889" class="Symbol">{</a><a id="6890" href="Varieties.Preservation.html#6890" class="Bound">I</a><a id="6891" class="Symbol">}{</a><a id="6893" href="Varieties.Preservation.html#6893" class="Bound">ğ’œ</a><a id="6894" class="Symbol">}</a> <a id="6896" href="Varieties.Preservation.html#6896" class="Bound">x</a><a id="6897" class="Symbol">)</a> <a id="6899" class="Symbol">=</a> <a id="6901" class="Symbol">(</a><a id="6902" href="Varieties.Closure.html#6889" class="Function">S-mono</a> <a id="6909" class="Symbol">(</a><a id="6910" href="Varieties.Closure.html#9657" class="Function">P-idemp</a><a id="6917" class="Symbol">))</a> <a id="6920" class="Symbol">(</a><a id="6921" href="Varieties.Closure.html#7468" class="Function">subalgebraâ†’S</a> <a id="6934" href="Varieties.Preservation.html#7047" class="Function">Î·</a><a id="6935" class="Symbol">)</a>
  <a id="6939" class="Keyword">where</a>
   <a id="6948" href="Varieties.Preservation.html#6948" class="Function">Î¾</a> <a id="6950" class="Symbol">:</a> <a id="6952" class="Symbol">(</a><a id="6953" href="Varieties.Preservation.html#6953" class="Bound">i</a> <a id="6955" class="Symbol">:</a> <a id="6957" href="Varieties.Preservation.html#6890" class="Bound">I</a><a id="6958" class="Symbol">)</a> <a id="6960" class="Symbol">â†’</a> <a id="6962" class="Symbol">(</a><a id="6963" href="Varieties.Preservation.html#6893" class="Bound">ğ’œ</a> <a id="6965" href="Varieties.Preservation.html#6953" class="Bound">i</a><a id="6966" class="Symbol">)</a> <a id="6968" href="Subalgebras.Subalgebras.html#6115" class="Function Operator">IsSubalgebraOfClass</a> <a id="6988" class="Symbol">(</a><a id="6989" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="6990" class="Symbol">{</a><a id="6991" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6992" class="Symbol">}{</a><a id="6994" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="6997" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="6998" class="Symbol">}</a> <a id="7000" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a><a id="7001" class="Symbol">)</a>
   <a id="7006" href="Varieties.Preservation.html#6948" class="Function">Î¾</a> <a id="7008" href="Varieties.Preservation.html#7008" class="Bound">i</a> <a id="7010" class="Symbol">=</a> <a id="7012" href="Varieties.Closure.html#7840" class="Function">Sâ†’subalgebra</a> <a id="7025" class="Symbol">(</a><a id="7026" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="7032" href="Varieties.Preservation.html#6879" class="Bound">hfe</a> <a id="7036" class="Symbol">(</a><a id="7037" href="Varieties.Preservation.html#6896" class="Bound">x</a> <a id="7039" href="Varieties.Preservation.html#7008" class="Bound">i</a><a id="7040" class="Symbol">))</a>

   <a id="7047" href="Varieties.Preservation.html#7047" class="Function">Î·</a> <a id="7049" class="Symbol">:</a> <a id="7051" href="Algebras.Products.html#1867" class="Function">â¨…</a> <a id="7053" href="Varieties.Preservation.html#6893" class="Bound">ğ’œ</a> <a id="7055" href="Subalgebras.Subalgebras.html#6115" class="Function Operator">IsSubalgebraOfClass</a> <a id="7075" class="Symbol">(</a><a id="7076" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="7077" class="Symbol">{</a><a id="7078" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="7081" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7082" class="Symbol">}{</a><a id="7084" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="7087" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7088" class="Symbol">}</a> <a id="7090" class="Symbol">(</a><a id="7091" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="7092" class="Symbol">{</a><a id="7093" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7094" class="Symbol">}{</a><a id="7096" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="7099" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7100" class="Symbol">}</a> <a id="7102" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a><a id="7103" class="Symbol">))</a>
   <a id="7109" href="Varieties.Preservation.html#7047" class="Function">Î·</a> <a id="7111" class="Symbol">=</a> <a id="7113" href="Varieties.Preservation.html#5066" class="Function">lemPSâŠ†SP</a> <a id="7122" href="Varieties.Preservation.html#6879" class="Bound">hfe</a> <a id="7126" href="Varieties.Preservation.html#6270" class="Bound">fovu</a> <a id="7131" class="Symbol">{</a><a id="7132" href="Varieties.Preservation.html#6890" class="Bound">I</a><a id="7133" class="Symbol">}</a> <a id="7135" class="Symbol">{</a><a id="7136" href="Varieties.Preservation.html#6893" class="Bound">ğ’œ</a><a id="7137" class="Symbol">}</a> <a id="7139" href="Varieties.Preservation.html#6948" class="Function">Î¾</a>

 <a id="7143" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="7149" href="Varieties.Preservation.html#7149" class="Bound">hfe</a> <a id="7153" class="Symbol">(</a><a id="7154" href="Varieties.Closure.html#4724" class="InductiveConstructor">prodw</a><a id="7159" class="Symbol">{</a><a id="7160" href="Varieties.Preservation.html#7160" class="Bound">I</a><a id="7161" class="Symbol">}{</a><a id="7163" href="Varieties.Preservation.html#7163" class="Bound">ğ’œ</a><a id="7164" class="Symbol">}</a> <a id="7166" href="Varieties.Preservation.html#7166" class="Bound">x</a><a id="7167" class="Symbol">)</a> <a id="7169" class="Symbol">=</a> <a id="7171" class="Symbol">(</a><a id="7172" href="Varieties.Closure.html#6889" class="Function">S-mono</a> <a id="7179" class="Symbol">(</a><a id="7180" href="Varieties.Closure.html#9657" class="Function">P-idemp</a><a id="7187" class="Symbol">))</a> <a id="7190" class="Symbol">(</a><a id="7191" href="Varieties.Closure.html#7468" class="Function">subalgebraâ†’S</a> <a id="7204" href="Varieties.Preservation.html#7317" class="Function">Î·</a><a id="7205" class="Symbol">)</a>
  <a id="7209" class="Keyword">where</a>
   <a id="7218" href="Varieties.Preservation.html#7218" class="Function">Î¾</a> <a id="7220" class="Symbol">:</a> <a id="7222" class="Symbol">(</a><a id="7223" href="Varieties.Preservation.html#7223" class="Bound">i</a> <a id="7225" class="Symbol">:</a> <a id="7227" href="Varieties.Preservation.html#7160" class="Bound">I</a><a id="7228" class="Symbol">)</a> <a id="7230" class="Symbol">â†’</a> <a id="7232" class="Symbol">(</a><a id="7233" href="Varieties.Preservation.html#7163" class="Bound">ğ’œ</a> <a id="7235" href="Varieties.Preservation.html#7223" class="Bound">i</a><a id="7236" class="Symbol">)</a> <a id="7238" href="Subalgebras.Subalgebras.html#6115" class="Function Operator">IsSubalgebraOfClass</a> <a id="7258" class="Symbol">(</a><a id="7259" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="7260" class="Symbol">{</a><a id="7261" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7262" class="Symbol">}{</a><a id="7264" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="7267" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7268" class="Symbol">}</a> <a id="7270" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a><a id="7271" class="Symbol">)</a>
   <a id="7276" href="Varieties.Preservation.html#7218" class="Function">Î¾</a> <a id="7278" href="Varieties.Preservation.html#7278" class="Bound">i</a> <a id="7280" class="Symbol">=</a> <a id="7282" href="Varieties.Closure.html#7840" class="Function">Sâ†’subalgebra</a> <a id="7295" class="Symbol">(</a><a id="7296" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="7302" href="Varieties.Preservation.html#7149" class="Bound">hfe</a> <a id="7306" class="Symbol">(</a><a id="7307" href="Varieties.Preservation.html#7166" class="Bound">x</a> <a id="7309" href="Varieties.Preservation.html#7278" class="Bound">i</a><a id="7310" class="Symbol">))</a>

   <a id="7317" href="Varieties.Preservation.html#7317" class="Function">Î·</a> <a id="7319" class="Symbol">:</a> <a id="7321" href="Algebras.Products.html#1867" class="Function">â¨…</a> <a id="7323" href="Varieties.Preservation.html#7163" class="Bound">ğ’œ</a> <a id="7325" href="Subalgebras.Subalgebras.html#6115" class="Function Operator">IsSubalgebraOfClass</a> <a id="7345" class="Symbol">(</a><a id="7346" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="7347" class="Symbol">{</a><a id="7348" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="7351" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7352" class="Symbol">}{</a><a id="7354" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="7357" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7358" class="Symbol">}</a> <a id="7360" class="Symbol">(</a><a id="7361" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="7362" class="Symbol">{</a><a id="7363" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7364" class="Symbol">}{</a><a id="7366" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="7369" href="Varieties.Preservation.html#6258" class="Bound">Î±</a><a id="7370" class="Symbol">}</a> <a id="7372" href="Varieties.Preservation.html#6299" class="Bound">ğ’¦</a><a id="7373" class="Symbol">))</a>
   <a id="7379" href="Varieties.Preservation.html#7317" class="Function">Î·</a> <a id="7381" class="Symbol">=</a> <a id="7383" href="Varieties.Preservation.html#5066" class="Function">lemPSâŠ†SP</a> <a id="7392" href="Varieties.Preservation.html#7149" class="Bound">hfe</a> <a id="7396" href="Varieties.Preservation.html#6270" class="Bound">fovu</a>  <a id="7402" class="Symbol">{</a><a id="7403" href="Varieties.Preservation.html#7160" class="Bound">I</a><a id="7404" class="Symbol">}</a> <a id="7406" class="Symbol">{</a><a id="7407" href="Varieties.Preservation.html#7163" class="Bound">ğ’œ</a><a id="7408" class="Symbol">}</a> <a id="7410" href="Varieties.Preservation.html#7218" class="Function">Î¾</a>

 <a id="7414" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="7420" href="Varieties.Preservation.html#7420" class="Bound">hfe</a> <a id="7424" class="Symbol">(</a><a id="7425" href="Varieties.Closure.html#4809" class="InductiveConstructor">pisow</a><a id="7430" class="Symbol">{</a><a id="7431" href="Varieties.Preservation.html#7431" class="Bound">ğ‘¨</a><a id="7432" class="Symbol">}{</a><a id="7434" href="Varieties.Preservation.html#7434" class="Bound">ğ‘©</a><a id="7435" class="Symbol">}</a> <a id="7437" href="Varieties.Preservation.html#7437" class="Bound">pA</a> <a id="7440" href="Varieties.Preservation.html#7440" class="Bound">Aâ‰…B</a><a id="7443" class="Symbol">)</a> <a id="7445" class="Symbol">=</a> <a id="7447" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a> <a id="7452" class="Symbol">(</a><a id="7453" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="7459" href="Varieties.Preservation.html#7420" class="Bound">hfe</a> <a id="7463" href="Varieties.Preservation.html#7437" class="Bound">pA</a><a id="7465" class="Symbol">)</a> <a id="7467" href="Varieties.Preservation.html#7440" class="Bound">Aâ‰…B</a>

</pre>



### <a id="more-class-inclusions">More class inclusions</a>

We conclude this subsection with three more inclusion relations that will have bit parts to play later (e.g., in the formal proof of Birkhoff's Theorem).

<pre class="Agda">

<a id="PâŠ†V"></a><a id="7716" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="7720" class="Symbol">:</a> <a id="7722" class="Symbol">{</a><a id="7723" href="Varieties.Preservation.html#7723" class="Bound">Î±</a> <a id="7725" href="Varieties.Preservation.html#7725" class="Bound">Î²</a> <a id="7727" class="Symbol">:</a> <a id="7729" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="7734" class="Symbol">}{</a><a id="7736" href="Varieties.Preservation.html#7736" class="Bound">ğ’¦</a> <a id="7738" class="Symbol">:</a> <a id="7740" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="7745" class="Symbol">(</a><a id="7746" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="7754" href="Varieties.Preservation.html#7723" class="Bound">Î±</a> <a id="7756" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="7757" class="Symbol">)(</a><a id="7759" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="7762" href="Varieties.Preservation.html#7723" class="Bound">Î±</a><a id="7763" class="Symbol">)}</a> <a id="7766" class="Symbol">â†’</a> <a id="7768" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="7769" class="Symbol">{</a><a id="7770" href="Varieties.Preservation.html#7723" class="Bound">Î±</a><a id="7771" class="Symbol">}{</a><a id="7773" href="Varieties.Preservation.html#7725" class="Bound">Î²</a><a id="7774" class="Symbol">}</a> <a id="7776" href="Varieties.Preservation.html#7736" class="Bound">ğ’¦</a> <a id="7778" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="7780" href="Varieties.Closure.html#5309" class="Datatype">V</a><a id="7781" class="Symbol">{</a><a id="7782" href="Varieties.Preservation.html#7723" class="Bound">Î±</a><a id="7783" class="Symbol">}{</a><a id="7785" href="Varieties.Preservation.html#7725" class="Bound">Î²</a><a id="7786" class="Symbol">}</a> <a id="7788" href="Varieties.Preservation.html#7736" class="Bound">ğ’¦</a>

<a id="7791" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="7795" class="Symbol">(</a><a id="7796" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="7802" href="Varieties.Preservation.html#7802" class="Bound">x</a><a id="7803" class="Symbol">)</a> <a id="7805" class="Symbol">=</a> <a id="7807" href="Varieties.Closure.html#5397" class="InductiveConstructor">vbase</a> <a id="7813" href="Varieties.Preservation.html#7802" class="Bound">x</a>
<a id="7815" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a><a id="7818" class="Symbol">{</a><a id="7819" href="Varieties.Preservation.html#7819" class="Bound">Î±</a><a id="7820" class="Symbol">}</a> <a id="7822" class="Symbol">(</a><a id="7823" href="Varieties.Closure.html#4497" class="InductiveConstructor">pliftu</a> <a id="7830" href="Varieties.Preservation.html#7830" class="Bound">x</a><a id="7831" class="Symbol">)</a> <a id="7833" class="Symbol">=</a> <a id="7835" href="Varieties.Closure.html#5454" class="InductiveConstructor">vlift</a> <a id="7841" class="Symbol">(</a><a id="7842" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a><a id="7845" class="Symbol">{</a><a id="7846" href="Varieties.Preservation.html#7819" class="Bound">Î±</a><a id="7847" class="Symbol">}{</a><a id="7849" href="Varieties.Preservation.html#7819" class="Bound">Î±</a><a id="7850" class="Symbol">}</a> <a id="7852" href="Varieties.Preservation.html#7830" class="Bound">x</a><a id="7853" class="Symbol">)</a>
<a id="7855" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a><a id="7858" class="Symbol">{</a><a id="7859" href="Varieties.Preservation.html#7859" class="Bound">Î±</a><a id="7860" class="Symbol">}{</a><a id="7862" href="Varieties.Preservation.html#7862" class="Bound">Î²</a><a id="7863" class="Symbol">}</a> <a id="7865" class="Symbol">(</a><a id="7866" href="Varieties.Closure.html#4562" class="InductiveConstructor">pliftw</a> <a id="7873" href="Varieties.Preservation.html#7873" class="Bound">x</a><a id="7874" class="Symbol">)</a> <a id="7876" class="Symbol">=</a> <a id="7878" href="Varieties.Closure.html#5519" class="InductiveConstructor">vliftw</a> <a id="7885" class="Symbol">(</a><a id="7886" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a><a id="7889" class="Symbol">{</a><a id="7890" href="Varieties.Preservation.html#7859" class="Bound">Î±</a><a id="7891" class="Symbol">}{</a><a id="7893" href="Varieties.Preservation.html#7862" class="Bound">Î²</a><a id="7894" class="Symbol">}</a> <a id="7896" href="Varieties.Preservation.html#7873" class="Bound">x</a><a id="7897" class="Symbol">)</a>
<a id="7899" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="7903" class="Symbol">(</a><a id="7904" href="Varieties.Closure.html#4639" class="InductiveConstructor">produ</a> <a id="7910" href="Varieties.Preservation.html#7910" class="Bound">x</a><a id="7911" class="Symbol">)</a> <a id="7913" class="Symbol">=</a> <a id="7915" href="Varieties.Closure.html#5736" class="InductiveConstructor">vprodu</a> <a id="7922" class="Symbol">(Î»</a> <a id="7925" href="Varieties.Preservation.html#7925" class="Bound">i</a> <a id="7927" class="Symbol">â†’</a> <a id="7929" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="7933" class="Symbol">(</a><a id="7934" href="Varieties.Preservation.html#7910" class="Bound">x</a> <a id="7936" href="Varieties.Preservation.html#7925" class="Bound">i</a><a id="7937" class="Symbol">))</a>
<a id="7940" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="7944" class="Symbol">(</a><a id="7945" href="Varieties.Closure.html#4724" class="InductiveConstructor">prodw</a> <a id="7951" href="Varieties.Preservation.html#7951" class="Bound">x</a><a id="7952" class="Symbol">)</a> <a id="7954" class="Symbol">=</a> <a id="7956" href="Varieties.Closure.html#5820" class="InductiveConstructor">vprodw</a> <a id="7963" class="Symbol">(Î»</a> <a id="7966" href="Varieties.Preservation.html#7966" class="Bound">i</a> <a id="7968" class="Symbol">â†’</a> <a id="7970" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="7974" class="Symbol">(</a><a id="7975" href="Varieties.Preservation.html#7951" class="Bound">x</a> <a id="7977" href="Varieties.Preservation.html#7966" class="Bound">i</a><a id="7978" class="Symbol">))</a>
<a id="7981" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="7985" class="Symbol">(</a><a id="7986" href="Varieties.Closure.html#4809" class="InductiveConstructor">pisow</a> <a id="7992" href="Varieties.Preservation.html#7992" class="Bound">x</a> <a id="7994" href="Varieties.Preservation.html#7994" class="Bound">xâ‚</a><a id="7996" class="Symbol">)</a> <a id="7998" class="Symbol">=</a> <a id="8000" href="Varieties.Closure.html#5983" class="InductiveConstructor">visow</a> <a id="8006" class="Symbol">(</a><a id="8007" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="8011" href="Varieties.Preservation.html#7992" class="Bound">x</a><a id="8012" class="Symbol">)</a> <a id="8014" href="Varieties.Preservation.html#7994" class="Bound">xâ‚</a>


<a id="SPâŠ†V"></a><a id="8019" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="8024" class="Symbol">:</a> <a id="8026" class="Symbol">{</a><a id="8027" href="Varieties.Preservation.html#8027" class="Bound">Î±</a> <a id="8029" href="Varieties.Preservation.html#8029" class="Bound">Î²</a> <a id="8031" class="Symbol">:</a> <a id="8033" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="8038" class="Symbol">}{</a><a id="8040" href="Varieties.Preservation.html#8040" class="Bound">ğ’¦</a> <a id="8042" class="Symbol">:</a> <a id="8044" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="8049" class="Symbol">(</a><a id="8050" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="8058" href="Varieties.Preservation.html#8027" class="Bound">Î±</a> <a id="8060" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="8061" class="Symbol">)(</a><a id="8063" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="8066" href="Varieties.Preservation.html#8027" class="Bound">Î±</a><a id="8067" class="Symbol">)}</a>
 <a id="8071" class="Symbol">â†’</a>     <a id="8077" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="8078" class="Symbol">{</a><a id="8079" href="Varieties.Preservation.html#8027" class="Bound">Î±</a> <a id="8081" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="8083" href="Varieties.Preservation.html#8029" class="Bound">Î²</a><a id="8084" class="Symbol">}{</a><a id="8086" href="Varieties.Preservation.html#8027" class="Bound">Î±</a> <a id="8088" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="8090" href="Varieties.Preservation.html#8029" class="Bound">Î²</a><a id="8091" class="Symbol">}</a> <a id="8093" class="Symbol">(</a><a id="8094" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="8095" class="Symbol">{</a><a id="8096" href="Varieties.Preservation.html#8027" class="Bound">Î±</a><a id="8097" class="Symbol">}{</a><a id="8099" href="Varieties.Preservation.html#8029" class="Bound">Î²</a><a id="8100" class="Symbol">}</a> <a id="8102" href="Varieties.Preservation.html#8040" class="Bound">ğ’¦</a><a id="8103" class="Symbol">)</a> <a id="8105" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="8107" href="Varieties.Closure.html#5309" class="Datatype">V</a> <a id="8109" href="Varieties.Preservation.html#8040" class="Bound">ğ’¦</a>

<a id="8112" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="8117" class="Symbol">(</a><a id="8118" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a><a id="8123" class="Symbol">{</a><a id="8124" href="Varieties.Preservation.html#8124" class="Bound">ğ‘¨</a><a id="8125" class="Symbol">}</a> <a id="8127" href="Varieties.Preservation.html#8127" class="Bound">PCloA</a><a id="8132" class="Symbol">)</a> <a id="8134" class="Symbol">=</a> <a id="8136" href="Varieties.Preservation.html#7716" class="Function">PâŠ†V</a> <a id="8140" class="Symbol">(</a><a id="8141" href="Varieties.Closure.html#4809" class="InductiveConstructor">pisow</a> <a id="8147" href="Varieties.Preservation.html#8127" class="Bound">PCloA</a> <a id="8153" href="Homomorphisms.Isomorphisms.html#4349" class="Function">Lift-â‰…</a><a id="8159" class="Symbol">)</a>
<a id="8161" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="8166" class="Symbol">(</a><a id="8167" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a><a id="8172" class="Symbol">{</a><a id="8173" href="Varieties.Preservation.html#8173" class="Bound">ğ‘¨</a><a id="8174" class="Symbol">}</a> <a id="8176" href="Varieties.Preservation.html#8176" class="Bound">x</a><a id="8177" class="Symbol">)</a> <a id="8179" class="Symbol">=</a> <a id="8181" href="Varieties.Closure.html#5519" class="InductiveConstructor">vliftw</a> <a id="8188" class="Symbol">(</a><a id="8189" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="8194" href="Varieties.Preservation.html#8176" class="Bound">x</a><a id="8195" class="Symbol">)</a>
<a id="8197" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="8202" class="Symbol">(</a><a id="8203" href="Varieties.Closure.html#3977" class="InductiveConstructor">ssub</a><a id="8207" class="Symbol">{</a><a id="8208" href="Varieties.Preservation.html#8208" class="Bound">ğ‘¨</a><a id="8209" class="Symbol">}{</a><a id="8211" href="Varieties.Preservation.html#8211" class="Bound">ğ‘©</a><a id="8212" class="Symbol">}</a> <a id="8214" href="Varieties.Preservation.html#8214" class="Bound">spA</a> <a id="8218" href="Varieties.Preservation.html#8218" class="Bound">Bâ‰¤A</a><a id="8221" class="Symbol">)</a> <a id="8223" class="Symbol">=</a> <a id="8225" href="Varieties.Closure.html#5672" class="InductiveConstructor">vssubw</a> <a id="8232" class="Symbol">(</a><a id="8233" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="8238" href="Varieties.Preservation.html#8214" class="Bound">spA</a><a id="8241" class="Symbol">)</a> <a id="8243" href="Varieties.Preservation.html#8218" class="Bound">Bâ‰¤A</a>
<a id="8247" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="8252" class="Symbol">(</a><a id="8253" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a> <a id="8258" href="Varieties.Preservation.html#8258" class="Bound">x</a> <a id="8260" href="Varieties.Preservation.html#8260" class="Bound">xâ‚</a><a id="8262" class="Symbol">)</a> <a id="8264" class="Symbol">=</a> <a id="8266" href="Varieties.Closure.html#5983" class="InductiveConstructor">visow</a> <a id="8272" class="Symbol">(</a><a id="8273" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="8278" href="Varieties.Preservation.html#8258" class="Bound">x</a><a id="8279" class="Symbol">)</a> <a id="8281" href="Varieties.Preservation.html#8260" class="Bound">xâ‚</a>

</pre>


### <a id="V-is-closed-under-lift">V is closed under lift</a>

As mentioned earlier, a technical hurdle that must be overcome when formalizing proofs in Agda is the proper handling of universe levels. In particular, in the proof of the Birkhoff's theorem, for example, we will need to know that if an algebra ğ‘¨ belongs to the variety V ğ’¦, then so does the lift of ğ‘¨.  Let us get the tedious proof of this technical lemma out of the way.

Above we proved that `SP(ğ’¦) âŠ† V(ğ’¦)`, and we did so under fairly general assumptions about the universe level parameters.  Unfortunately, this is sometimes not quite general enough, so we now prove the inclusion again for the specific universe parameters that align with subsequent applications of this result.


<pre class="Agda">

<a id="9062" class="Keyword">module</a> <a id="9069" href="Varieties.Preservation.html#9069" class="Module">_</a> <a id="9071" class="Symbol">{</a><a id="9072" href="Varieties.Preservation.html#9072" class="Bound">Î±</a> <a id="9074" class="Symbol">:</a> <a id="9076" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="9081" class="Symbol">}</a>  <a id="9084" class="Symbol">{</a><a id="9085" href="Varieties.Preservation.html#9085" class="Bound">feâ‚€</a> <a id="9089" class="Symbol">:</a> <a id="9091" href="Varieties.Preservation.html#931" class="Function">funext</a> <a id="9098" class="Symbol">(</a><a id="9099" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="9102" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9103" class="Symbol">)</a> <a id="9105" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9106" class="Symbol">}</a>
         <a id="9117" class="Symbol">{</a><a id="9118" href="Varieties.Preservation.html#9118" class="Bound">feâ‚</a> <a id="9122" class="Symbol">:</a> <a id="9124" href="Varieties.Preservation.html#931" class="Function">funext</a> <a id="9131" class="Symbol">((</a><a id="9133" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="9136" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9137" class="Symbol">)</a> <a id="9139" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="9141" class="Symbol">(</a><a id="9142" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9147" class="Symbol">(</a><a id="9148" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="9151" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9152" class="Symbol">)))</a> <a id="9156" class="Symbol">(</a><a id="9157" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9162" class="Symbol">(</a><a id="9163" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="9166" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9167" class="Symbol">))}</a>
         <a id="9180" class="Symbol">{</a><a id="9181" href="Varieties.Preservation.html#9181" class="Bound">feâ‚‚</a> <a id="9185" class="Symbol">:</a> <a id="9187" href="Varieties.Preservation.html#931" class="Function">funext</a> <a id="9194" class="Symbol">(</a><a id="9195" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="9198" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9199" class="Symbol">)</a> <a id="9201" class="Symbol">(</a><a id="9202" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="9205" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9206" class="Symbol">)}</a>
         <a id="9218" class="Symbol">{</a><a id="9219" href="Varieties.Preservation.html#9219" class="Bound">ğ’¦</a> <a id="9221" class="Symbol">:</a> <a id="9223" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="9228" class="Symbol">(</a><a id="9229" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="9237" href="Varieties.Preservation.html#9072" class="Bound">Î±</a> <a id="9239" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="9240" class="Symbol">)(</a><a id="9242" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="9245" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9246" class="Symbol">)}</a> <a id="9249" class="Keyword">where</a>

 <a id="9257" class="Keyword">open</a> <a id="9262" href="Varieties.Closure.html#11710" class="Module">Vlift</a> <a id="9268" class="Symbol">{</a><a id="9269" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9270" class="Symbol">}{</a><a id="9272" href="Varieties.Preservation.html#9085" class="Bound">feâ‚€</a><a id="9275" class="Symbol">}{</a><a id="9277" href="Varieties.Preservation.html#9118" class="Bound">feâ‚</a><a id="9280" class="Symbol">}{</a><a id="9282" href="Varieties.Preservation.html#9181" class="Bound">feâ‚‚</a><a id="9285" class="Symbol">}{</a><a id="9287" href="Varieties.Preservation.html#9219" class="Bound">ğ’¦</a><a id="9288" class="Symbol">}</a>

 <a id="9292" href="Varieties.Preservation.html#9292" class="Function">SPâŠ†V&#39;</a> <a id="9298" class="Symbol">:</a> <a id="9300" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="9301" class="Symbol">{</a><a id="9302" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="9305" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9306" class="Symbol">}{</a><a id="9308" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9313" class="Symbol">(</a><a id="9314" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="9317" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9318" class="Symbol">)}</a> <a id="9321" class="Symbol">(</a><a id="9322" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="9323" class="Symbol">{</a><a id="9324" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9325" class="Symbol">}{</a><a id="9327" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="9330" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9331" class="Symbol">}</a> <a id="9333" href="Varieties.Preservation.html#9219" class="Bound">ğ’¦</a><a id="9334" class="Symbol">)</a> <a id="9336" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="9338" href="Varieties.Closure.html#5309" class="Datatype">V</a> <a id="9340" href="Varieties.Preservation.html#9219" class="Bound">ğ’¦</a>

 <a id="9344" href="Varieties.Preservation.html#9292" class="Function">SPâŠ†V&#39;</a> <a id="9350" class="Symbol">(</a><a id="9351" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a><a id="9356" class="Symbol">{</a><a id="9357" href="Varieties.Preservation.html#9357" class="Bound">ğ‘¨</a><a id="9358" class="Symbol">}</a> <a id="9360" href="Varieties.Preservation.html#9360" class="Bound">x</a><a id="9361" class="Symbol">)</a> <a id="9363" class="Symbol">=</a> <a id="9365" href="Varieties.Closure.html#5983" class="InductiveConstructor">visow</a> <a id="9371" class="Symbol">(</a><a id="9372" href="Varieties.Closure.html#11913" class="Function">VlA</a> <a id="9376" class="Symbol">(</a><a id="9377" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="9382" class="Symbol">(</a><a id="9383" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a> <a id="9389" href="Varieties.Preservation.html#9360" class="Bound">x</a><a id="9390" class="Symbol">)))</a> <a id="9394" class="Symbol">(</a><a id="9395" href="Homomorphisms.Isomorphisms.html#2906" class="Function">â‰…-sym</a> <a id="9401" class="Symbol">(</a><a id="9402" href="Homomorphisms.Isomorphisms.html#5089" class="Function">Lift-Alg-assoc</a> <a id="9417" class="Symbol">_</a> <a id="9419" class="Symbol">_{</a><a id="9421" href="Varieties.Preservation.html#9357" class="Bound">ğ‘¨</a><a id="9422" class="Symbol">}))</a>
 <a id="9427" href="Varieties.Preservation.html#9292" class="Function">SPâŠ†V&#39;</a> <a id="9433" class="Symbol">(</a><a id="9434" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a> <a id="9440" href="Varieties.Preservation.html#9440" class="Bound">x</a><a id="9441" class="Symbol">)</a> <a id="9443" class="Symbol">=</a> <a id="9445" href="Varieties.Closure.html#11913" class="Function">VlA</a> <a id="9449" class="Symbol">(</a><a id="9450" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="9455" href="Varieties.Preservation.html#9440" class="Bound">x</a><a id="9456" class="Symbol">)</a>

 <a id="9460" href="Varieties.Preservation.html#9292" class="Function">SPâŠ†V&#39;</a> <a id="9466" class="Symbol">(</a><a id="9467" href="Varieties.Closure.html#3977" class="InductiveConstructor">ssub</a><a id="9471" class="Symbol">{</a><a id="9472" href="Varieties.Preservation.html#9472" class="Bound">ğ‘¨</a><a id="9473" class="Symbol">}{</a><a id="9475" href="Varieties.Preservation.html#9475" class="Bound">ğ‘©</a><a id="9476" class="Symbol">}</a> <a id="9478" href="Varieties.Preservation.html#9478" class="Bound">spA</a> <a id="9482" href="Varieties.Preservation.html#9482" class="Bound">Bâ‰¤A</a><a id="9485" class="Symbol">)</a> <a id="9487" class="Symbol">=</a> <a id="9489" href="Varieties.Closure.html#5672" class="InductiveConstructor">vssubw</a> <a id="9496" class="Symbol">(</a><a id="9497" href="Varieties.Closure.html#11913" class="Function">VlA</a> <a id="9501" class="Symbol">(</a><a id="9502" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="9507" href="Varieties.Preservation.html#9478" class="Bound">spA</a><a id="9510" class="Symbol">))</a> <a id="9513" href="Varieties.Preservation.html#9529" class="Function">Bâ‰¤lA</a>
  <a id="9520" class="Keyword">where</a>
   <a id="9529" href="Varieties.Preservation.html#9529" class="Function">Bâ‰¤lA</a> <a id="9534" class="Symbol">:</a> <a id="9536" href="Varieties.Preservation.html#9475" class="Bound">ğ‘©</a> <a id="9538" href="Subalgebras.Subalgebras.html#2553" class="Function Operator">â‰¤</a> <a id="9540" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="9549" href="Varieties.Preservation.html#9472" class="Bound">ğ‘¨</a> <a id="9551" class="Symbol">(</a><a id="9552" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9557" class="Symbol">(</a><a id="9558" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="9561" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9562" class="Symbol">))</a>
   <a id="9568" href="Varieties.Preservation.html#9529" class="Function">Bâ‰¤lA</a> <a id="9573" class="Symbol">=</a> <a id="9575" href="Subalgebras.Properties.html#5802" class="Function">â‰¤-Lift</a> <a id="9582" href="Varieties.Preservation.html#9472" class="Bound">ğ‘¨</a> <a id="9584" href="Varieties.Preservation.html#9482" class="Bound">Bâ‰¤A</a>

 <a id="9590" href="Varieties.Preservation.html#9292" class="Function">SPâŠ†V&#39;</a> <a id="9596" class="Symbol">(</a><a id="9597" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a><a id="9601" class="Symbol">{</a><a id="9602" href="Varieties.Preservation.html#9602" class="Bound">ğ‘¨</a><a id="9603" class="Symbol">}{</a><a id="9605" href="Varieties.Preservation.html#9605" class="Bound">ğ‘©</a><a id="9606" class="Symbol">}</a> <a id="9608" href="Varieties.Preservation.html#9608" class="Bound">x</a> <a id="9610" href="Varieties.Preservation.html#9610" class="Bound">Aâ‰…B</a><a id="9613" class="Symbol">)</a> <a id="9615" class="Symbol">=</a> <a id="9617" href="Varieties.Closure.html#5983" class="InductiveConstructor">visow</a> <a id="9623" class="Symbol">(</a><a id="9624" href="Varieties.Closure.html#11913" class="Function">VlA</a> <a id="9628" class="Symbol">(</a><a id="9629" href="Varieties.Preservation.html#8019" class="Function">SPâŠ†V</a> <a id="9634" href="Varieties.Preservation.html#9608" class="Bound">x</a><a id="9635" class="Symbol">))</a> <a id="9638" href="Varieties.Preservation.html#9654" class="Function">Goal</a>
  <a id="9645" class="Keyword">where</a>
   <a id="9654" href="Varieties.Preservation.html#9654" class="Function">Goal</a> <a id="9659" class="Symbol">:</a> <a id="9661" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="9670" href="Varieties.Preservation.html#9602" class="Bound">ğ‘¨</a> <a id="9672" class="Symbol">(</a><a id="9673" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9678" class="Symbol">(</a><a id="9679" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="9682" href="Varieties.Preservation.html#9072" class="Bound">Î±</a><a id="9683" class="Symbol">))</a> <a id="9686" href="Homomorphisms.Isomorphisms.html#2276" class="Record Operator">â‰…</a> <a id="9688" href="Varieties.Preservation.html#9605" class="Bound">ğ‘©</a>
   <a id="9693" href="Varieties.Preservation.html#9654" class="Function">Goal</a> <a id="9698" class="Symbol">=</a> <a id="9700" href="Homomorphisms.Isomorphisms.html#2995" class="Function">â‰…-trans</a> <a id="9708" class="Symbol">(</a><a id="9709" href="Homomorphisms.Isomorphisms.html#2906" class="Function">â‰…-sym</a> <a id="9715" href="Homomorphisms.Isomorphisms.html#4349" class="Function">Lift-â‰…</a><a id="9721" class="Symbol">)</a> <a id="9723" href="Varieties.Preservation.html#9610" class="Bound">Aâ‰…B</a>

</pre>


### <a id="S-in-SP">â¨… S(ğ’¦) âˆˆ SP(ğ’¦)</a>

Finally, we prove a result that plays an important role, e.g., in the formal proof of Birkhoff's Theorem. As we saw in [Algebras.Products][], the (informal) product `â¨… S(ğ’¦)` of all subalgebras of algebras in ğ’¦ is implemented (formally) in the [agda-algebras](https://github.com/ualib/agda-algebras) library as `â¨… ğ”„ S(ğ’¦)`. Our goal is to prove that this product belongs to `SP(ğ’¦)`. We do so by first proving that the product belongs to `PS(ğ’¦)` and then applying the `PSâŠ†SP` lemma.

Before doing so, we need to redefine the class product so that each factor comes with a map from the type `X` of variable symbols into that factor.  We will explain the reason for this below.

<pre class="Agda">

<a id="10469" class="Keyword">module</a> <a id="class-products-with-maps"></a><a id="10476" href="Varieties.Preservation.html#10476" class="Module">class-products-with-maps</a> <a id="10501" class="Symbol">{</a><a id="10502" href="Varieties.Preservation.html#10502" class="Bound">Î±</a> <a id="10504" class="Symbol">:</a> <a id="10506" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="10511" class="Symbol">}</a>
 <a id="10514" class="Symbol">{</a><a id="10515" href="Varieties.Preservation.html#10515" class="Bound">X</a> <a id="10517" class="Symbol">:</a> <a id="10519" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="10524" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="10525" class="Symbol">}</a>
 <a id="10528" class="Symbol">{</a><a id="10529" href="Varieties.Preservation.html#10529" class="Bound">feğ“•Î±</a> <a id="10534" class="Symbol">:</a> <a id="10536" href="Varieties.Preservation.html#931" class="Function">funext</a> <a id="10543" class="Symbol">(</a><a id="10544" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="10547" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="10548" class="Symbol">)</a> <a id="10550" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="10551" class="Symbol">}</a>
 <a id="10554" class="Symbol">{</a><a id="10555" href="Varieties.Preservation.html#10555" class="Bound">feâ‚</a> <a id="10559" class="Symbol">:</a> <a id="10561" href="Varieties.Preservation.html#931" class="Function">funext</a> <a id="10568" class="Symbol">((</a><a id="10570" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="10573" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="10574" class="Symbol">)</a> <a id="10576" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="10578" class="Symbol">(</a><a id="10579" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="10584" class="Symbol">(</a><a id="10585" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="10588" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="10589" class="Symbol">)))</a> <a id="10593" class="Symbol">(</a><a id="10594" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="10599" class="Symbol">(</a><a id="10600" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="10603" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="10604" class="Symbol">))}</a>
 <a id="10609" class="Symbol">{</a><a id="10610" href="Varieties.Preservation.html#10610" class="Bound">feâ‚‚</a> <a id="10614" class="Symbol">:</a> <a id="10616" href="Varieties.Preservation.html#931" class="Function">funext</a> <a id="10623" class="Symbol">(</a><a id="10624" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="10627" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="10628" class="Symbol">)</a> <a id="10630" class="Symbol">(</a><a id="10631" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="10634" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="10635" class="Symbol">)}</a>
 <a id="10639" class="Symbol">(</a><a id="10640" href="Varieties.Preservation.html#10640" class="Bound">ğ’¦</a> <a id="10642" class="Symbol">:</a> <a id="10644" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="10649" class="Symbol">(</a><a id="10650" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="10658" href="Varieties.Preservation.html#10502" class="Bound">Î±</a> <a id="10660" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="10661" class="Symbol">)(</a><a id="10663" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="10666" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="10667" class="Symbol">))</a>
 <a id="10671" class="Keyword">where</a>

 <a id="class-products-with-maps.â„‘&#39;"></a><a id="10679" href="Varieties.Preservation.html#10679" class="Function">â„‘&#39;</a> <a id="10682" class="Symbol">:</a> <a id="10684" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="10689" class="Symbol">(</a><a id="10690" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="10693" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="10694" class="Symbol">)</a>
 <a id="10697" href="Varieties.Preservation.html#10679" class="Function">â„‘&#39;</a> <a id="10700" class="Symbol">=</a> <a id="10702" href="Data.Product.html#916" class="Function">Î£[</a> <a id="10705" href="Varieties.Preservation.html#10705" class="Bound">ğ‘¨</a> <a id="10707" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="10709" class="Symbol">(</a><a id="10710" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="10718" href="Varieties.Preservation.html#10502" class="Bound">Î±</a> <a id="10720" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="10721" class="Symbol">)</a> <a id="10723" href="Data.Product.html#916" class="Function">]</a> <a id="10725" class="Symbol">((</a><a id="10727" href="Varieties.Preservation.html#10705" class="Bound">ğ‘¨</a> <a id="10729" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="10731" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="10732" class="Symbol">{</a><a id="10733" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="10734" class="Symbol">}{</a><a id="10736" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="10737" class="Symbol">}</a> <a id="10739" href="Varieties.Preservation.html#10640" class="Bound">ğ’¦</a><a id="10740" class="Symbol">)</a> <a id="10742" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="10744" class="Symbol">(</a><a id="10745" href="Varieties.Preservation.html#10515" class="Bound">X</a> <a id="10747" class="Symbol">â†’</a> <a id="10749" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="10751" href="Varieties.Preservation.html#10705" class="Bound">ğ‘¨</a> <a id="10753" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a><a id="10754" class="Symbol">))</a>

</pre>

Notice that the second component of this dependent pair type is  `(ğ‘¨ âˆˆ ğ’¦) Ã— (X â†’ âˆ£ ğ‘¨ âˆ£)`. In previous versions of the [UALib][] this second component was simply `ğ‘¨ âˆˆ ğ’¦`, until we realized that adding the type `X â†’ âˆ£ ğ‘¨ âˆ£` is quite useful. Later we will see exactly why, but for now suffice it to say that a map of type `X â†’ âˆ£ ğ‘¨ âˆ£` may be viewed abstractly as an *ambient context*, or more concretely, as an assignment of *values* in `âˆ£ ğ‘¨ âˆ£` to *variable symbols* in `X`.  When computing with or reasoning about products, while we don't want to rigidly impose a context in advance, want do want to lay our hands on whatever context is ultimately assumed.  Including the "context map" inside the index type `â„‘` of the product turns out to be a convenient way to achieve this flexibility.


Taking the product over the index type `â„‘` requires a function that maps an index `i : â„‘` to the corresponding algebra.  Each `i : â„‘` is a triple, say, `(ğ‘¨ , p , h)`, where `ğ‘¨ : Algebra Î± ğ‘†`, `p : ğ‘¨ âˆˆ ğ’¦`, and `h : X â†’ âˆ£ ğ‘¨ âˆ£`, so the function mapping an index to the corresponding algebra is simply the first projection.

<pre class="Agda">

 <a id="class-products-with-maps.ğ”„&#39;"></a><a id="11893" href="Varieties.Preservation.html#11893" class="Function">ğ”„&#39;</a> <a id="11896" class="Symbol">:</a> <a id="11898" href="Varieties.Preservation.html#10679" class="Function">â„‘&#39;</a> <a id="11901" class="Symbol">â†’</a> <a id="11903" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="11911" href="Varieties.Preservation.html#10502" class="Bound">Î±</a> <a id="11913" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a>
 <a id="11916" href="Varieties.Preservation.html#11893" class="Function">ğ”„&#39;</a> <a id="11919" class="Symbol">=</a> <a id="11921" class="Symbol">Î»</a> <a id="11923" class="Symbol">(</a><a id="11924" href="Varieties.Preservation.html#11924" class="Bound">i</a> <a id="11926" class="Symbol">:</a> <a id="11928" href="Varieties.Preservation.html#10679" class="Function">â„‘&#39;</a><a id="11930" class="Symbol">)</a> <a id="11932" class="Symbol">â†’</a> <a id="11934" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="11936" href="Varieties.Preservation.html#11924" class="Bound">i</a> <a id="11938" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>

</pre>

Finally, we define `class-product` which represents the product of all members of ğ’¦.

<pre class="Agda">

 <a id="class-products-with-maps.class-product&#39;"></a><a id="12054" href="Varieties.Preservation.html#12054" class="Function">class-product&#39;</a> <a id="12069" class="Symbol">:</a> <a id="12071" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="12079" class="Symbol">(</a><a id="12080" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="12083" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="12084" class="Symbol">)</a> <a id="12086" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a>
 <a id="12089" href="Varieties.Preservation.html#12054" class="Function">class-product&#39;</a> <a id="12104" class="Symbol">=</a> <a id="12106" href="Algebras.Products.html#1867" class="Function">â¨…</a> <a id="12108" href="Varieties.Preservation.html#11893" class="Function">ğ”„&#39;</a>

</pre>

If `p : ğ‘¨ âˆˆ ğ’¦` and `h : X â†’ âˆ£ ğ‘¨ âˆ£`, we view the triple `(ğ‘¨ , p , h) âˆˆ â„‘` as an index over the class, and so we can think of `ğ”„ (ğ‘¨ , p , h)` (which is simply `ğ‘¨`) as the projection of the product `â¨… ğ”„` onto the `(ğ‘¨ , p, h)`-th component.

<pre class="Agda">

 <a id="class-products-with-maps.class-prod-s-âˆˆ-ps"></a><a id="12377" href="Varieties.Preservation.html#12377" class="Function">class-prod-s-âˆˆ-ps</a> <a id="12395" class="Symbol">:</a> <a id="12397" href="Varieties.Preservation.html#12054" class="Function">class-product&#39;</a> <a id="12412" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12414" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="12415" class="Symbol">{</a><a id="12416" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="12419" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="12420" class="Symbol">}{</a><a id="12422" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="12425" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="12426" class="Symbol">}(</a><a id="12428" href="Varieties.Closure.html#3769" class="Datatype">S</a> <a id="12430" href="Varieties.Preservation.html#10640" class="Bound">ğ’¦</a><a id="12431" class="Symbol">)</a>
 <a id="12434" href="Varieties.Preservation.html#12377" class="Function">class-prod-s-âˆˆ-ps</a> <a id="12452" class="Symbol">=</a> <a id="12454" href="Varieties.Closure.html#4809" class="InductiveConstructor">pisow</a> <a id="12460" href="Varieties.Preservation.html#12735" class="Function">psPllA</a> <a id="12467" class="Symbol">(</a><a id="12468" href="Homomorphisms.Isomorphisms.html#5669" class="Function">â¨…â‰…</a> <a id="12471" class="Symbol">{</a><a id="12472" class="Argument">fiu</a> <a id="12476" class="Symbol">=</a> <a id="12478" href="Varieties.Preservation.html#10610" class="Bound">feâ‚‚</a><a id="12481" class="Symbol">}{</a><a id="12483" class="Argument">fiw</a> <a id="12487" class="Symbol">=</a> <a id="12489" href="Varieties.Preservation.html#10529" class="Bound">feğ“•Î±</a><a id="12493" class="Symbol">}</a> <a id="12495" href="Varieties.Preservation.html#12786" class="Function">llAâ‰…A</a><a id="12500" class="Symbol">)</a>

  <a id="12505" class="Keyword">where</a>
  <a id="12513" href="Varieties.Preservation.html#12513" class="Function">lA</a> <a id="12516" href="Varieties.Preservation.html#12516" class="Function">llA</a> <a id="12520" class="Symbol">:</a> <a id="12522" href="Varieties.Preservation.html#10679" class="Function">â„‘&#39;</a> <a id="12525" class="Symbol">â†’</a> <a id="12527" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="12535" class="Symbol">(</a><a id="12536" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="12539" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="12540" class="Symbol">)</a> <a id="12542" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a>
  <a id="12546" href="Varieties.Preservation.html#12513" class="Function">lA</a> <a id="12549" href="Varieties.Preservation.html#12549" class="Bound">i</a> <a id="12551" class="Symbol">=</a>  <a id="12554" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="12563" class="Symbol">(</a><a id="12564" href="Algebras.Products.html#5301" class="Function">ğ”„</a> <a id="12566" href="Varieties.Preservation.html#12549" class="Bound">i</a><a id="12567" class="Symbol">)</a> <a id="12569" class="Symbol">(</a><a id="12570" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="12573" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="12574" class="Symbol">)</a>
  <a id="12578" href="Varieties.Preservation.html#12516" class="Function">llA</a> <a id="12582" href="Varieties.Preservation.html#12582" class="Bound">i</a> <a id="12584" class="Symbol">=</a> <a id="12586" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="12595" class="Symbol">(</a><a id="12596" href="Varieties.Preservation.html#12513" class="Function">lA</a> <a id="12599" href="Varieties.Preservation.html#12582" class="Bound">i</a><a id="12600" class="Symbol">)</a> <a id="12602" class="Symbol">(</a><a id="12603" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="12606" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="12607" class="Symbol">)</a>

  <a id="12612" href="Varieties.Preservation.html#12612" class="Function">slA</a> <a id="12616" class="Symbol">:</a> <a id="12618" class="Symbol">âˆ€</a> <a id="12620" href="Varieties.Preservation.html#12620" class="Bound">i</a> <a id="12622" class="Symbol">â†’</a> <a id="12624" class="Symbol">(</a><a id="12625" href="Varieties.Preservation.html#12513" class="Function">lA</a> <a id="12628" href="Varieties.Preservation.html#12620" class="Bound">i</a><a id="12629" class="Symbol">)</a> <a id="12631" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12633" href="Varieties.Closure.html#3769" class="Datatype">S</a> <a id="12635" href="Varieties.Preservation.html#10640" class="Bound">ğ’¦</a>
  <a id="12639" href="Varieties.Preservation.html#12612" class="Function">slA</a> <a id="12643" href="Varieties.Preservation.html#12643" class="Bound">i</a> <a id="12645" class="Symbol">=</a> <a id="12647" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a> <a id="12652" class="Symbol">(</a><a id="12653" href="Varieties.Preservation.html#1018" class="Field">fst</a> <a id="12657" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a> <a id="12659" href="Varieties.Preservation.html#12643" class="Bound">i</a> <a id="12661" href="Overture.Preliminaries.html#4562" class="Function Operator">âˆ¥</a><a id="12662" class="Symbol">)</a> <a id="12664" href="Homomorphisms.Isomorphisms.html#4349" class="Function">Lift-â‰…</a>

  <a id="12674" href="Varieties.Preservation.html#12674" class="Function">psllA</a> <a id="12680" class="Symbol">:</a> <a id="12682" class="Symbol">âˆ€</a> <a id="12684" href="Varieties.Preservation.html#12684" class="Bound">i</a> <a id="12686" class="Symbol">â†’</a> <a id="12688" class="Symbol">(</a><a id="12689" href="Varieties.Preservation.html#12516" class="Function">llA</a> <a id="12693" href="Varieties.Preservation.html#12684" class="Bound">i</a><a id="12694" class="Symbol">)</a> <a id="12696" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12698" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="12700" class="Symbol">(</a><a id="12701" href="Varieties.Closure.html#3769" class="Datatype">S</a> <a id="12703" href="Varieties.Preservation.html#10640" class="Bound">ğ’¦</a><a id="12704" class="Symbol">)</a>
  <a id="12708" href="Varieties.Preservation.html#12674" class="Function">psllA</a> <a id="12714" href="Varieties.Preservation.html#12714" class="Bound">i</a> <a id="12716" class="Symbol">=</a> <a id="12718" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="12724" class="Symbol">(</a><a id="12725" href="Varieties.Preservation.html#12612" class="Function">slA</a> <a id="12729" href="Varieties.Preservation.html#12714" class="Bound">i</a><a id="12730" class="Symbol">)</a>

  <a id="12735" href="Varieties.Preservation.html#12735" class="Function">psPllA</a> <a id="12742" class="Symbol">:</a> <a id="12744" href="Algebras.Products.html#1867" class="Function">â¨…</a> <a id="12746" href="Varieties.Preservation.html#12516" class="Function">llA</a> <a id="12750" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12752" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="12754" class="Symbol">(</a><a id="12755" href="Varieties.Closure.html#3769" class="Datatype">S</a> <a id="12757" href="Varieties.Preservation.html#10640" class="Bound">ğ’¦</a><a id="12758" class="Symbol">)</a>
  <a id="12762" href="Varieties.Preservation.html#12735" class="Function">psPllA</a> <a id="12769" class="Symbol">=</a> <a id="12771" href="Varieties.Closure.html#4639" class="InductiveConstructor">produ</a> <a id="12777" href="Varieties.Preservation.html#12674" class="Function">psllA</a>

  <a id="12786" href="Varieties.Preservation.html#12786" class="Function">llAâ‰…A</a> <a id="12792" class="Symbol">:</a> <a id="12794" class="Symbol">âˆ€</a> <a id="12796" href="Varieties.Preservation.html#12796" class="Bound">i</a> <a id="12798" class="Symbol">â†’</a> <a id="12800" class="Symbol">(</a><a id="12801" href="Varieties.Preservation.html#12516" class="Function">llA</a> <a id="12805" href="Varieties.Preservation.html#12796" class="Bound">i</a><a id="12806" class="Symbol">)</a> <a id="12808" href="Homomorphisms.Isomorphisms.html#2276" class="Record Operator">â‰…</a> <a id="12810" class="Symbol">(</a><a id="12811" href="Varieties.Preservation.html#11893" class="Function">ğ”„&#39;</a> <a id="12814" href="Varieties.Preservation.html#12796" class="Bound">i</a><a id="12815" class="Symbol">)</a>
  <a id="12819" href="Varieties.Preservation.html#12786" class="Function">llAâ‰…A</a> <a id="12825" href="Varieties.Preservation.html#12825" class="Bound">i</a> <a id="12827" class="Symbol">=</a> <a id="12829" href="Homomorphisms.Isomorphisms.html#2995" class="Function">â‰…-trans</a> <a id="12837" class="Symbol">(</a><a id="12838" href="Homomorphisms.Isomorphisms.html#2906" class="Function">â‰…-sym</a> <a id="12844" href="Homomorphisms.Isomorphisms.html#4349" class="Function">Lift-â‰…</a><a id="12850" class="Symbol">)(</a><a id="12852" href="Homomorphisms.Isomorphisms.html#2906" class="Function">â‰…-sym</a> <a id="12858" href="Homomorphisms.Isomorphisms.html#4349" class="Function">Lift-â‰…</a><a id="12864" class="Symbol">)</a>

</pre>


So, since `PSâŠ†SP`, we see that that the product of all subalgebras of a class `ğ’¦` belongs to `SP(ğ’¦)`.

<pre class="Agda">

 <a id="class-products-with-maps.class-prod-s-âˆˆ-sp"></a><a id="12998" href="Varieties.Preservation.html#12998" class="Function">class-prod-s-âˆˆ-sp</a> <a id="13016" class="Symbol">:</a> <a id="13018" href="Foundations.Truncation.html#3965" class="Function">hfunext</a> <a id="13026" class="Symbol">(</a><a id="13027" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="13030" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="13031" class="Symbol">)</a> <a id="13033" class="Symbol">(</a><a id="13034" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="13037" href="Varieties.Preservation.html#10502" class="Bound">Î±</a><a id="13038" class="Symbol">)</a> <a id="13040" class="Symbol">â†’</a> <a id="13042" href="Algebras.Products.html#5448" class="Function">class-product</a> <a id="13056" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="13058" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="13059" class="Symbol">(</a><a id="13060" href="Varieties.Closure.html#4352" class="Datatype">P</a> <a id="13062" href="Varieties.Preservation.html#10640" class="Bound">ğ’¦</a><a id="13063" class="Symbol">)</a>
 <a id="13066" href="Varieties.Preservation.html#12998" class="Function">class-prod-s-âˆˆ-sp</a> <a id="13084" href="Varieties.Preservation.html#13084" class="Bound">hfe</a> <a id="13088" class="Symbol">=</a> <a id="13090" href="Varieties.Preservation.html#6337" class="Function">PSâŠ†SP</a> <a id="13096" class="Symbol">{</a><a id="13097" class="Argument">fovu</a> <a id="13102" class="Symbol">=</a> <a id="13104" href="Varieties.Preservation.html#10610" class="Bound">feâ‚‚</a><a id="13107" class="Symbol">}</a> <a id="13109" href="Varieties.Preservation.html#13084" class="Bound">hfe</a> <a id="13113" href="Varieties.Preservation.html#12377" class="Function">class-prod-s-âˆˆ-ps</a>

</pre>


### <a id="h-preserves-identities">H preserves identities</a>

First we prove that the closure operator H is compatible with identities that hold in the given class.

<pre class="Agda">

<a id="13326" class="Keyword">open</a> <a id="13331" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">â‰¡-Reasoning</a>

<a id="13344" class="Keyword">private</a> <a id="13352" class="Keyword">variable</a> <a id="13361" href="Varieties.Preservation.html#13361" class="Generalizable">ğ“§</a> <a id="13363" class="Symbol">:</a> <a id="13365" href="Agda.Primitive.html#597" class="Postulate">Level</a>
<a id="13371" class="Keyword">open</a> <a id="13376" href="Terms.Basic.html#1987" class="Module">Term</a>

<a id="13382" class="Keyword">module</a> <a id="13389" href="Varieties.Preservation.html#13389" class="Module">_</a> <a id="13391" class="Symbol">(</a><a id="13392" href="Varieties.Preservation.html#13392" class="Bound">wd</a> <a id="13395" class="Symbol">:</a> <a id="13397" href="Foundations.Welldefined.html#2946" class="Function">SwellDef</a><a id="13405" class="Symbol">){</a><a id="13407" href="Varieties.Preservation.html#13407" class="Bound">X</a> <a id="13409" class="Symbol">:</a> <a id="13411" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="13416" href="Varieties.Preservation.html#13361" class="Generalizable">ğ“§</a><a id="13417" class="Symbol">}</a> <a id="13419" class="Symbol">{</a><a id="13420" href="Varieties.Preservation.html#13420" class="Bound">ğ’¦</a> <a id="13422" class="Symbol">:</a> <a id="13424" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="13429" class="Symbol">(</a><a id="13430" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="13438" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="13440" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="13441" class="Symbol">)(</a><a id="13443" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="13446" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="13447" class="Symbol">)}</a> <a id="13450" class="Keyword">where</a>

 <a id="13458" href="Varieties.Preservation.html#13458" class="Function">H-id1</a> <a id="13464" class="Symbol">:</a> <a id="13466" class="Symbol">(</a><a id="13467" href="Varieties.Preservation.html#13467" class="Bound">p</a> <a id="13469" href="Varieties.Preservation.html#13469" class="Bound">q</a> <a id="13471" class="Symbol">:</a> <a id="13473" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="13478" href="Varieties.Preservation.html#13407" class="Bound">X</a><a id="13479" class="Symbol">)</a> <a id="13481" class="Symbol">â†’</a> <a id="13483" href="Varieties.Preservation.html#13420" class="Bound">ğ’¦</a> <a id="13485" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="13487" href="Varieties.Preservation.html#13467" class="Bound">p</a> <a id="13489" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="13491" href="Varieties.Preservation.html#13469" class="Bound">q</a> <a id="13493" class="Symbol">â†’</a> <a id="13495" href="Varieties.Closure.html#3319" class="Datatype">H</a><a id="13496" class="Symbol">{</a><a id="13497" class="Argument">Î²</a> <a id="13499" class="Symbol">=</a> <a id="13501" href="Varieties.Preservation.html#13438" class="Bound">Î±</a><a id="13502" class="Symbol">}</a> <a id="13504" href="Varieties.Preservation.html#13420" class="Bound">ğ’¦</a> <a id="13506" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="13508" href="Varieties.Preservation.html#13467" class="Bound">p</a> <a id="13510" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="13512" href="Varieties.Preservation.html#13469" class="Bound">q</a>
 <a id="13515" href="Varieties.Preservation.html#13458" class="Function">H-id1</a> <a id="13521" href="Varieties.Preservation.html#13521" class="Bound">p</a> <a id="13523" href="Varieties.Preservation.html#13523" class="Bound">q</a> <a id="13525" href="Varieties.Preservation.html#13525" class="Bound">Ïƒ</a> <a id="13527" class="Symbol">(</a><a id="13528" href="Varieties.Closure.html#3414" class="InductiveConstructor">hbase</a> <a id="13534" href="Varieties.Preservation.html#13534" class="Bound">x</a><a id="13535" class="Symbol">)</a> <a id="13537" class="Symbol">=</a> <a id="13539" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="13552" href="Varieties.Preservation.html#13392" class="Bound">wd</a> <a id="13555" href="Varieties.Preservation.html#13521" class="Bound">p</a> <a id="13557" href="Varieties.Preservation.html#13523" class="Bound">q</a> <a id="13559" class="Symbol">(</a><a id="13560" href="Varieties.Preservation.html#13525" class="Bound">Ïƒ</a> <a id="13562" href="Varieties.Preservation.html#13534" class="Bound">x</a><a id="13563" class="Symbol">)</a>
 <a id="13566" href="Varieties.Preservation.html#13458" class="Function">H-id1</a> <a id="13572" href="Varieties.Preservation.html#13572" class="Bound">p</a> <a id="13574" href="Varieties.Preservation.html#13574" class="Bound">q</a> <a id="13576" href="Varieties.Preservation.html#13576" class="Bound">Ïƒ</a> <a id="13578" class="Symbol">(</a><a id="13579" href="Varieties.Closure.html#3470" class="InductiveConstructor">hhimg</a><a id="13584" class="Symbol">{</a><a id="13585" href="Varieties.Preservation.html#13585" class="Bound">ğ‘¨</a><a id="13586" class="Symbol">}{</a><a id="13588" href="Varieties.Preservation.html#13588" class="Bound">ğ‘ª</a><a id="13589" class="Symbol">}</a> <a id="13591" href="Varieties.Preservation.html#13591" class="Bound">HA</a> <a id="13594" class="Symbol">(</a><a id="13595" href="Varieties.Preservation.html#13595" class="Bound">ğ‘©</a> <a id="13597" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13599" class="Symbol">((</a><a id="13601" href="Varieties.Preservation.html#13601" class="Bound">Ï†</a> <a id="13603" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13605" href="Varieties.Preservation.html#13605" class="Bound">Ï†h</a><a id="13607" class="Symbol">)</a> <a id="13609" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13611" href="Varieties.Preservation.html#13611" class="Bound">Ï†E</a><a id="13613" class="Symbol">)))</a> <a id="13617" href="Varieties.Preservation.html#13617" class="Bound">b</a> <a id="13619" class="Symbol">=</a> <a id="13621" href="Varieties.Preservation.html#13789" class="Function">goal</a>
  <a id="13628" class="Keyword">where</a>
  <a id="13636" href="Varieties.Preservation.html#13636" class="Function">IH</a> <a id="13639" class="Symbol">:</a> <a id="13641" href="Varieties.Preservation.html#13585" class="Bound">ğ‘¨</a> <a id="13643" href="Varieties.EquationalLogic.html#2605" class="Function Operator">âŠ§</a> <a id="13645" href="Varieties.Preservation.html#13572" class="Bound">p</a> <a id="13647" href="Varieties.EquationalLogic.html#2605" class="Function Operator">â‰ˆ</a> <a id="13649" href="Varieties.Preservation.html#13574" class="Bound">q</a>
  <a id="13653" href="Varieties.Preservation.html#13636" class="Function">IH</a> <a id="13656" class="Symbol">=</a> <a id="13658" class="Symbol">(</a><a id="13659" href="Varieties.Preservation.html#13458" class="Function">H-id1</a> <a id="13665" href="Varieties.Preservation.html#13572" class="Bound">p</a> <a id="13667" href="Varieties.Preservation.html#13574" class="Bound">q</a> <a id="13669" href="Varieties.Preservation.html#13576" class="Bound">Ïƒ</a><a id="13670" class="Symbol">)</a> <a id="13672" href="Varieties.Preservation.html#13591" class="Bound">HA</a>

  <a id="13678" href="Varieties.Preservation.html#13678" class="Function">preim</a> <a id="13684" class="Symbol">:</a> <a id="13686" href="Varieties.Preservation.html#13407" class="Bound">X</a> <a id="13688" class="Symbol">â†’</a> <a id="13690" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="13692" href="Varieties.Preservation.html#13585" class="Bound">ğ‘¨</a> <a id="13694" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>
  <a id="13698" href="Varieties.Preservation.html#13678" class="Function">preim</a> <a id="13704" href="Varieties.Preservation.html#13704" class="Bound">x</a> <a id="13706" class="Symbol">=</a> <a id="13708" href="Overture.Inverses.html#1860" class="Function">Inv</a> <a id="13712" href="Varieties.Preservation.html#13601" class="Bound">Ï†</a> <a id="13714" class="Symbol">(</a><a id="13715" href="Varieties.Preservation.html#13611" class="Bound">Ï†E</a> <a id="13718" class="Symbol">(</a><a id="13719" href="Varieties.Preservation.html#13617" class="Bound">b</a> <a id="13721" href="Varieties.Preservation.html#13704" class="Bound">x</a><a id="13722" class="Symbol">))</a>

  <a id="13728" href="Varieties.Preservation.html#13728" class="Function">Î¶</a> <a id="13730" class="Symbol">:</a> <a id="13732" class="Symbol">âˆ€</a> <a id="13734" href="Varieties.Preservation.html#13734" class="Bound">x</a> <a id="13736" class="Symbol">â†’</a> <a id="13738" href="Varieties.Preservation.html#13601" class="Bound">Ï†</a> <a id="13740" class="Symbol">(</a><a id="13741" href="Varieties.Preservation.html#13678" class="Function">preim</a> <a id="13747" href="Varieties.Preservation.html#13734" class="Bound">x</a><a id="13748" class="Symbol">)</a> <a id="13750" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="13752" href="Varieties.Preservation.html#13617" class="Bound">b</a> <a id="13754" href="Varieties.Preservation.html#13734" class="Bound">x</a>
  <a id="13758" href="Varieties.Preservation.html#13728" class="Function">Î¶</a> <a id="13760" href="Varieties.Preservation.html#13760" class="Bound">x</a> <a id="13762" class="Symbol">=</a> <a id="13764" href="Overture.Inverses.html#2023" class="Function">InvIsInv</a> <a id="13773" href="Varieties.Preservation.html#13601" class="Bound">Ï†</a> <a id="13775" class="Symbol">(</a><a id="13776" href="Varieties.Preservation.html#13611" class="Bound">Ï†E</a> <a id="13779" class="Symbol">(</a><a id="13780" href="Varieties.Preservation.html#13617" class="Bound">b</a> <a id="13782" href="Varieties.Preservation.html#13760" class="Bound">x</a><a id="13783" class="Symbol">))</a>

  <a id="13789" href="Varieties.Preservation.html#13789" class="Function">goal</a> <a id="13794" class="Symbol">:</a> <a id="13796" class="Symbol">(</a><a id="13797" href="Varieties.Preservation.html#13595" class="Bound">ğ‘©</a> <a id="13799" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="13801" href="Varieties.Preservation.html#13572" class="Bound">p</a> <a id="13803" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="13804" class="Symbol">)</a> <a id="13806" href="Varieties.Preservation.html#13617" class="Bound">b</a> <a id="13808" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="13810" class="Symbol">(</a><a id="13811" href="Varieties.Preservation.html#13595" class="Bound">ğ‘©</a> <a id="13813" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="13815" href="Varieties.Preservation.html#13574" class="Bound">q</a> <a id="13817" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="13818" class="Symbol">)</a> <a id="13820" href="Varieties.Preservation.html#13617" class="Bound">b</a>
  <a id="13824" href="Varieties.Preservation.html#13789" class="Function">goal</a> <a id="13829" class="Symbol">=</a> <a id="13831" class="Symbol">(</a><a id="13832" href="Varieties.Preservation.html#13595" class="Bound">ğ‘©</a> <a id="13834" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="13836" href="Varieties.Preservation.html#13572" class="Bound">p</a> <a id="13838" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="13839" class="Symbol">)</a> <a id="13841" href="Varieties.Preservation.html#13617" class="Bound">b</a>          <a id="13852" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="13855" href="Varieties.Preservation.html#13392" class="Bound">wd</a> <a id="13858" href="Varieties.Preservation.html#13416" class="Bound">ğ“§</a> <a id="13860" href="Varieties.Preservation.html#13438" class="Bound">Î±</a> <a id="13862" class="Symbol">(</a><a id="13863" href="Varieties.Preservation.html#13595" class="Bound">ğ‘©</a> <a id="13865" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="13867" href="Varieties.Preservation.html#13572" class="Bound">p</a> <a id="13869" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="13870" class="Symbol">)</a> <a id="13872" href="Varieties.Preservation.html#13617" class="Bound">b</a> <a id="13874" class="Symbol">(</a><a id="13875" href="Varieties.Preservation.html#13601" class="Bound">Ï†</a> <a id="13877" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="13879" href="Varieties.Preservation.html#13678" class="Function">preim</a> <a id="13885" class="Symbol">)(Î»</a> <a id="13889" href="Varieties.Preservation.html#13889" class="Bound">i</a> <a id="13891" class="Symbol">â†’</a> <a id="13893" class="Symbol">(</a><a id="13894" href="Varieties.Preservation.html#13728" class="Function">Î¶</a> <a id="13896" href="Varieties.Preservation.html#13889" class="Bound">i</a><a id="13897" class="Symbol">)</a><a id="13898" href="Overture.Preliminaries.html#5228" class="Function Operator">â»Â¹</a><a id="13900" class="Symbol">)</a><a id="13901" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="13909" class="Symbol">(</a><a id="13910" href="Varieties.Preservation.html#13595" class="Bound">ğ‘©</a> <a id="13912" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="13914" href="Varieties.Preservation.html#13572" class="Bound">p</a> <a id="13916" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="13917" class="Symbol">)(</a><a id="13919" href="Varieties.Preservation.html#13601" class="Bound">Ï†</a> <a id="13921" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="13923" href="Varieties.Preservation.html#13678" class="Function">preim</a><a id="13928" class="Symbol">)</a> <a id="13930" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="13932" class="Symbol">(</a><a id="13933" href="Terms.Operations.html#6579" class="Function">comm-hom-term</a> <a id="13947" class="Symbol">(</a><a id="13948" href="Varieties.Preservation.html#13392" class="Bound">wd</a> <a id="13951" href="Varieties.Preservation.html#626" class="Bound">ğ“¥</a> <a id="13953" href="Varieties.Preservation.html#13438" class="Bound">Î±</a><a id="13954" class="Symbol">)</a> <a id="13956" href="Varieties.Preservation.html#13595" class="Bound">ğ‘©</a> <a id="13958" class="Symbol">(</a><a id="13959" href="Varieties.Preservation.html#13601" class="Bound">Ï†</a> <a id="13961" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13963" href="Varieties.Preservation.html#13605" class="Bound">Ï†h</a><a id="13965" class="Symbol">)</a> <a id="13967" href="Varieties.Preservation.html#13572" class="Bound">p</a> <a id="13969" href="Varieties.Preservation.html#13678" class="Function">preim</a><a id="13974" class="Symbol">)</a><a id="13975" href="Overture.Preliminaries.html#5228" class="Function Operator">â»Â¹</a> <a id="13978" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="13986" href="Varieties.Preservation.html#13601" class="Bound">Ï†</a><a id="13987" class="Symbol">((</a><a id="13989" href="Varieties.Preservation.html#13585" class="Bound">ğ‘¨</a> <a id="13991" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="13993" href="Varieties.Preservation.html#13572" class="Bound">p</a> <a id="13995" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="13996" class="Symbol">)</a> <a id="13998" href="Varieties.Preservation.html#13678" class="Function">preim</a><a id="14003" class="Symbol">)</a>   <a id="14007" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14010" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="14015" href="Varieties.Preservation.html#13601" class="Bound">Ï†</a> <a id="14017" class="Symbol">(</a><a id="14018" href="Varieties.Preservation.html#13636" class="Function">IH</a> <a id="14021" href="Varieties.Preservation.html#13678" class="Function">preim</a><a id="14026" class="Symbol">)</a> <a id="14028" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14036" href="Varieties.Preservation.html#13601" class="Bound">Ï†</a><a id="14037" class="Symbol">((</a><a id="14039" href="Varieties.Preservation.html#13585" class="Bound">ğ‘¨</a> <a id="14041" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="14043" href="Varieties.Preservation.html#13574" class="Bound">q</a> <a id="14045" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="14046" class="Symbol">)</a> <a id="14048" href="Varieties.Preservation.html#13678" class="Function">preim</a><a id="14053" class="Symbol">)</a>   <a id="14057" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14060" href="Terms.Operations.html#6579" class="Function">comm-hom-term</a> <a id="14074" class="Symbol">(</a><a id="14075" href="Varieties.Preservation.html#13392" class="Bound">wd</a> <a id="14078" href="Varieties.Preservation.html#626" class="Bound">ğ“¥</a> <a id="14080" href="Varieties.Preservation.html#13438" class="Bound">Î±</a><a id="14081" class="Symbol">)</a> <a id="14083" href="Varieties.Preservation.html#13595" class="Bound">ğ‘©</a> <a id="14085" class="Symbol">(</a><a id="14086" href="Varieties.Preservation.html#13601" class="Bound">Ï†</a> <a id="14088" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14090" href="Varieties.Preservation.html#13605" class="Bound">Ï†h</a><a id="14092" class="Symbol">)</a> <a id="14094" href="Varieties.Preservation.html#13574" class="Bound">q</a> <a id="14096" href="Varieties.Preservation.html#13678" class="Function">preim</a> <a id="14102" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14110" class="Symbol">(</a><a id="14111" href="Varieties.Preservation.html#13595" class="Bound">ğ‘©</a> <a id="14113" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="14115" href="Varieties.Preservation.html#13574" class="Bound">q</a> <a id="14117" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="14118" class="Symbol">)(</a><a id="14120" href="Varieties.Preservation.html#13601" class="Bound">Ï†</a> <a id="14122" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="14124" href="Varieties.Preservation.html#13678" class="Function">preim</a><a id="14129" class="Symbol">)</a> <a id="14131" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14134" href="Varieties.Preservation.html#13392" class="Bound">wd</a> <a id="14137" href="Varieties.Preservation.html#13416" class="Bound">ğ“§</a> <a id="14139" href="Varieties.Preservation.html#13438" class="Bound">Î±</a> <a id="14141" class="Symbol">(</a><a id="14142" href="Varieties.Preservation.html#13595" class="Bound">ğ‘©</a> <a id="14144" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="14146" href="Varieties.Preservation.html#13574" class="Bound">q</a> <a id="14148" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="14149" class="Symbol">)(</a><a id="14151" href="Varieties.Preservation.html#13601" class="Bound">Ï†</a> <a id="14153" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="14155" href="Varieties.Preservation.html#13678" class="Function">preim</a><a id="14160" class="Symbol">)</a> <a id="14162" href="Varieties.Preservation.html#13617" class="Bound">b</a> <a id="14164" href="Varieties.Preservation.html#13728" class="Function">Î¶</a> <a id="14166" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14174" class="Symbol">(</a><a id="14175" href="Varieties.Preservation.html#13595" class="Bound">ğ‘©</a> <a id="14177" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="14179" href="Varieties.Preservation.html#13574" class="Bound">q</a> <a id="14181" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="14182" class="Symbol">)</a> <a id="14184" href="Varieties.Preservation.html#13617" class="Bound">b</a>          <a id="14195" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

</pre>

The converse of the foregoing result is almost too obvious to bother with. Nonetheless, we formalize it for completeness.

<pre class="Agda">

 <a id="14348" href="Varieties.Preservation.html#14348" class="Function">H-id2</a> <a id="14354" class="Symbol">:</a> <a id="14356" class="Symbol">âˆ€</a> <a id="14358" class="Symbol">{</a><a id="14359" href="Varieties.Preservation.html#14359" class="Bound">Î²</a><a id="14360" class="Symbol">}</a> <a id="14362" class="Symbol">â†’</a> <a id="14364" class="Symbol">(</a><a id="14365" href="Varieties.Preservation.html#14365" class="Bound">p</a> <a id="14367" href="Varieties.Preservation.html#14367" class="Bound">q</a> <a id="14369" class="Symbol">:</a> <a id="14371" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="14376" href="Varieties.Preservation.html#13407" class="Bound">X</a><a id="14377" class="Symbol">)</a> <a id="14379" class="Symbol">â†’</a> <a id="14381" href="Varieties.Closure.html#3319" class="Datatype">H</a><a id="14382" class="Symbol">{</a><a id="14383" class="Argument">Î²</a> <a id="14385" class="Symbol">=</a> <a id="14387" href="Varieties.Preservation.html#14359" class="Bound">Î²</a><a id="14388" class="Symbol">}</a> <a id="14390" href="Varieties.Preservation.html#13420" class="Bound">ğ’¦</a> <a id="14392" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="14394" href="Varieties.Preservation.html#14365" class="Bound">p</a> <a id="14396" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="14398" href="Varieties.Preservation.html#14367" class="Bound">q</a> <a id="14400" class="Symbol">â†’</a> <a id="14402" href="Varieties.Preservation.html#13420" class="Bound">ğ’¦</a> <a id="14404" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="14406" href="Varieties.Preservation.html#14365" class="Bound">p</a> <a id="14408" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="14410" href="Varieties.Preservation.html#14367" class="Bound">q</a>

 <a id="14414" href="Varieties.Preservation.html#14348" class="Function">H-id2</a> <a id="14420" href="Varieties.Preservation.html#14420" class="Bound">p</a> <a id="14422" href="Varieties.Preservation.html#14422" class="Bound">q</a> <a id="14424" href="Varieties.Preservation.html#14424" class="Bound">Hpq</a> <a id="14428" href="Varieties.Preservation.html#14428" class="Bound">KA</a> <a id="14431" class="Symbol">=</a> <a id="14433" href="Varieties.Properties.html#4301" class="Function">âŠ§-lower-invar</a> <a id="14447" href="Varieties.Preservation.html#13392" class="Bound">wd</a> <a id="14450" href="Varieties.Preservation.html#14420" class="Bound">p</a> <a id="14452" href="Varieties.Preservation.html#14422" class="Bound">q</a> <a id="14454" class="Symbol">(</a><a id="14455" href="Varieties.Preservation.html#14424" class="Bound">Hpq</a> <a id="14459" class="Symbol">(</a><a id="14460" href="Varieties.Closure.html#3414" class="InductiveConstructor">hbase</a> <a id="14466" href="Varieties.Preservation.html#14428" class="Bound">KA</a><a id="14468" class="Symbol">))</a>

</pre>


### <a id="s-preserves-identities">S preserves identities</a>

<pre class="Agda">

 <a id="14563" href="Varieties.Preservation.html#14563" class="Function">S-id1</a> <a id="14569" class="Symbol">:</a> <a id="14571" class="Symbol">(</a><a id="14572" href="Varieties.Preservation.html#14572" class="Bound">p</a> <a id="14574" href="Varieties.Preservation.html#14574" class="Bound">q</a> <a id="14576" class="Symbol">:</a> <a id="14578" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="14583" href="Varieties.Preservation.html#13407" class="Bound">X</a><a id="14584" class="Symbol">)</a> <a id="14586" class="Symbol">â†’</a> <a id="14588" href="Varieties.Preservation.html#13420" class="Bound">ğ’¦</a> <a id="14590" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="14592" href="Varieties.Preservation.html#14572" class="Bound">p</a> <a id="14594" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="14596" href="Varieties.Preservation.html#14574" class="Bound">q</a> <a id="14598" class="Symbol">â†’</a> <a id="14600" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="14601" class="Symbol">{</a><a id="14602" class="Argument">Î²</a> <a id="14604" class="Symbol">=</a> <a id="14606" href="Varieties.Preservation.html#13438" class="Bound">Î±</a><a id="14607" class="Symbol">}</a> <a id="14609" href="Varieties.Preservation.html#13420" class="Bound">ğ’¦</a> <a id="14611" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="14613" href="Varieties.Preservation.html#14572" class="Bound">p</a> <a id="14615" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="14617" href="Varieties.Preservation.html#14574" class="Bound">q</a>

 <a id="14621" href="Varieties.Preservation.html#14563" class="Function">S-id1</a> <a id="14627" href="Varieties.Preservation.html#14627" class="Bound">p</a> <a id="14629" href="Varieties.Preservation.html#14629" class="Bound">q</a> <a id="14631" href="Varieties.Preservation.html#14631" class="Bound">Ïƒ</a> <a id="14633" class="Symbol">(</a><a id="14634" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a> <a id="14640" href="Varieties.Preservation.html#14640" class="Bound">x</a><a id="14641" class="Symbol">)</a> <a id="14643" class="Symbol">=</a> <a id="14645" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="14658" href="Varieties.Preservation.html#13392" class="Bound">wd</a> <a id="14661" href="Varieties.Preservation.html#14627" class="Bound">p</a> <a id="14663" href="Varieties.Preservation.html#14629" class="Bound">q</a> <a id="14665" class="Symbol">(</a><a id="14666" href="Varieties.Preservation.html#14631" class="Bound">Ïƒ</a> <a id="14668" href="Varieties.Preservation.html#14640" class="Bound">x</a><a id="14669" class="Symbol">)</a>
 <a id="14672" href="Varieties.Preservation.html#14563" class="Function">S-id1</a> <a id="14678" href="Varieties.Preservation.html#14678" class="Bound">p</a> <a id="14680" href="Varieties.Preservation.html#14680" class="Bound">q</a> <a id="14682" href="Varieties.Preservation.html#14682" class="Bound">Ïƒ</a> <a id="14684" class="Symbol">(</a><a id="14685" href="Varieties.Closure.html#3913" class="InductiveConstructor">slift</a> <a id="14691" href="Varieties.Preservation.html#14691" class="Bound">x</a><a id="14692" class="Symbol">)</a> <a id="14694" class="Symbol">=</a> <a id="14696" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="14709" href="Varieties.Preservation.html#13392" class="Bound">wd</a> <a id="14712" href="Varieties.Preservation.html#14678" class="Bound">p</a> <a id="14714" href="Varieties.Preservation.html#14680" class="Bound">q</a> <a id="14716" class="Symbol">((</a><a id="14718" href="Varieties.Preservation.html#14563" class="Function">S-id1</a> <a id="14724" href="Varieties.Preservation.html#14678" class="Bound">p</a> <a id="14726" href="Varieties.Preservation.html#14680" class="Bound">q</a> <a id="14728" href="Varieties.Preservation.html#14682" class="Bound">Ïƒ</a><a id="14729" class="Symbol">)</a> <a id="14731" href="Varieties.Preservation.html#14691" class="Bound">x</a><a id="14732" class="Symbol">)</a>

 <a id="14736" href="Varieties.Preservation.html#14563" class="Function">S-id1</a> <a id="14742" href="Varieties.Preservation.html#14742" class="Bound">p</a> <a id="14744" href="Varieties.Preservation.html#14744" class="Bound">q</a> <a id="14746" href="Varieties.Preservation.html#14746" class="Bound">Ïƒ</a> <a id="14748" class="Symbol">(</a><a id="14749" href="Varieties.Closure.html#3977" class="InductiveConstructor">ssub</a><a id="14753" class="Symbol">{</a><a id="14754" href="Varieties.Preservation.html#14754" class="Bound">ğ‘¨</a><a id="14755" class="Symbol">}{</a><a id="14757" href="Varieties.Preservation.html#14757" class="Bound">ğ‘©</a><a id="14758" class="Symbol">}</a> <a id="14760" href="Varieties.Preservation.html#14760" class="Bound">sA</a> <a id="14763" href="Varieties.Preservation.html#14763" class="Bound">Bâ‰¤A</a><a id="14766" class="Symbol">)</a> <a id="14768" class="Symbol">=</a> <a id="14770" href="Varieties.Properties.html#5453" class="Function">âŠ§-S-class-invar</a> <a id="14786" href="Varieties.Preservation.html#13392" class="Bound">wd</a> <a id="14789" href="Varieties.Preservation.html#14742" class="Bound">p</a> <a id="14791" href="Varieties.Preservation.html#14744" class="Bound">q</a> <a id="14793" href="Varieties.Preservation.html#14921" class="Function">goal</a> <a id="14798" href="Varieties.Preservation.html#15003" class="Function">Î½</a>
  <a id="14802" class="Keyword">where</a> <a id="14808" class="Comment">--Apply S-âŠ§ to the class ğ’¦ âˆª ï½› ğ‘¨ ï½</a>
  <a id="14845" href="Varieties.Preservation.html#14845" class="Function">Ï„</a> <a id="14847" class="Symbol">:</a> <a id="14849" href="Varieties.Preservation.html#14754" class="Bound">ğ‘¨</a> <a id="14851" href="Varieties.EquationalLogic.html#2605" class="Function Operator">âŠ§</a> <a id="14853" href="Varieties.Preservation.html#14742" class="Bound">p</a> <a id="14855" href="Varieties.EquationalLogic.html#2605" class="Function Operator">â‰ˆ</a> <a id="14857" href="Varieties.Preservation.html#14744" class="Bound">q</a>
  <a id="14861" href="Varieties.Preservation.html#14845" class="Function">Ï„</a> <a id="14863" class="Symbol">=</a> <a id="14865" href="Varieties.Preservation.html#14563" class="Function">S-id1</a> <a id="14871" href="Varieties.Preservation.html#14742" class="Bound">p</a> <a id="14873" href="Varieties.Preservation.html#14744" class="Bound">q</a> <a id="14875" href="Varieties.Preservation.html#14746" class="Bound">Ïƒ</a> <a id="14877" href="Varieties.Preservation.html#14760" class="Bound">sA</a>

  <a id="14883" href="Varieties.Preservation.html#14883" class="Function">Apq</a> <a id="14887" class="Symbol">:</a> <a id="14889" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="14891" href="Varieties.Preservation.html#14754" class="Bound">ğ‘¨</a> <a id="14893" href="Relation.Unary.html#1335" class="Function Operator">ï½</a> <a id="14895" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="14897" href="Varieties.Preservation.html#14742" class="Bound">p</a> <a id="14899" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="14901" href="Varieties.Preservation.html#14744" class="Bound">q</a>
  <a id="14905" href="Varieties.Preservation.html#14883" class="Function">Apq</a> <a id="14909" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="14914" class="Symbol">=</a> <a id="14916" href="Varieties.Preservation.html#14845" class="Function">Ï„</a>

  <a id="14921" href="Varieties.Preservation.html#14921" class="Function">goal</a> <a id="14926" class="Symbol">:</a> <a id="14928" class="Symbol">(</a><a id="14929" href="Varieties.Preservation.html#13420" class="Bound">ğ’¦</a> <a id="14931" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="14933" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="14935" href="Varieties.Preservation.html#14754" class="Bound">ğ‘¨</a> <a id="14937" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="14938" class="Symbol">)</a> <a id="14940" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="14942" href="Varieties.Preservation.html#14742" class="Bound">p</a> <a id="14944" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="14946" href="Varieties.Preservation.html#14744" class="Bound">q</a>
  <a id="14950" href="Varieties.Preservation.html#14921" class="Function">goal</a> <a id="14955" class="Symbol">{</a><a id="14956" href="Varieties.Preservation.html#14956" class="Bound">ğ‘©</a><a id="14957" class="Symbol">}</a> <a id="14959" class="Symbol">(</a><a id="14960" href="Varieties.Preservation.html#1101" class="InductiveConstructor">inl</a> <a id="14964" href="Varieties.Preservation.html#14964" class="Bound">x</a><a id="14965" class="Symbol">)</a> <a id="14967" class="Symbol">=</a> <a id="14969" href="Varieties.Preservation.html#14746" class="Bound">Ïƒ</a> <a id="14971" href="Varieties.Preservation.html#14964" class="Bound">x</a>
  <a id="14975" href="Varieties.Preservation.html#14921" class="Function">goal</a> <a id="14980" class="Symbol">{</a><a id="14981" href="Varieties.Preservation.html#14981" class="Bound">ğ‘©</a><a id="14982" class="Symbol">}</a> <a id="14984" class="Symbol">(</a><a id="14985" href="Varieties.Preservation.html#1116" class="InductiveConstructor">inr</a> <a id="14989" href="Varieties.Preservation.html#14989" class="Bound">y</a><a id="14990" class="Symbol">)</a> <a id="14992" class="Symbol">=</a> <a id="14994" href="Varieties.Preservation.html#14883" class="Function">Apq</a> <a id="14998" href="Varieties.Preservation.html#14989" class="Bound">y</a>

  <a id="15003" href="Varieties.Preservation.html#15003" class="Function">Î½</a> <a id="15005" class="Symbol">:</a> <a id="15007" href="Subalgebras.Subalgebras.html#6466" class="Function">SubalgebraOfClass</a> <a id="15025" class="Symbol">(Î»</a> <a id="15028" href="Varieties.Preservation.html#15028" class="Bound">z</a> <a id="15030" class="Symbol">â†’</a> <a id="15032" class="Symbol">(</a><a id="15033" href="Varieties.Preservation.html#13420" class="Bound">ğ’¦</a> <a id="15035" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="15037" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="15039" href="Varieties.Preservation.html#14754" class="Bound">ğ‘¨</a> <a id="15041" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="15042" class="Symbol">)</a> <a id="15044" class="Symbol">(</a><a id="15045" href="Agda.Builtin.Sigma.html#252" class="Field">Data.Product.projâ‚</a> <a id="15064" href="Varieties.Preservation.html#15028" class="Bound">z</a> <a id="15066" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15068" href="Agda.Builtin.Sigma.html#264" class="Field">Data.Product.projâ‚‚</a> <a id="15087" href="Varieties.Preservation.html#15028" class="Bound">z</a><a id="15088" class="Symbol">))</a>
  <a id="15093" href="Varieties.Preservation.html#15003" class="Function">Î½</a> <a id="15095" class="Symbol">=</a> <a id="15097" class="Symbol">(</a><a id="15098" href="Varieties.Preservation.html#14757" class="Bound">ğ‘©</a> <a id="15100" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15102" href="Varieties.Preservation.html#14754" class="Bound">ğ‘¨</a> <a id="15104" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15106" class="Symbol">(</a><a id="15107" href="Varieties.Preservation.html#14757" class="Bound">ğ‘©</a> <a id="15109" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15111" href="Varieties.Preservation.html#14763" class="Bound">Bâ‰¤A</a><a id="15114" class="Symbol">)</a> <a id="15116" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15118" href="Data.Sum.Base.html#809" class="InductiveConstructor">_âŠ_.injâ‚‚</a> <a id="15127" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="15132" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15134" href="Homomorphisms.Isomorphisms.html#2816" class="Function">â‰…-refl</a><a id="15140" class="Symbol">)</a>

 <a id="15144" href="Varieties.Preservation.html#14563" class="Function">S-id1</a> <a id="15150" href="Varieties.Preservation.html#15150" class="Bound">p</a> <a id="15152" href="Varieties.Preservation.html#15152" class="Bound">q</a> <a id="15154" href="Varieties.Preservation.html#15154" class="Bound">Ïƒ</a> <a id="15156" class="Symbol">(</a><a id="15157" href="Varieties.Closure.html#4055" class="InductiveConstructor">siso</a><a id="15161" class="Symbol">{</a><a id="15162" href="Varieties.Preservation.html#15162" class="Bound">ğ‘¨</a><a id="15163" class="Symbol">}{</a><a id="15165" href="Varieties.Preservation.html#15165" class="Bound">ğ‘©</a><a id="15166" class="Symbol">}</a> <a id="15168" href="Varieties.Preservation.html#15168" class="Bound">x</a> <a id="15170" href="Varieties.Preservation.html#15170" class="Bound">xâ‚</a><a id="15172" class="Symbol">)</a> <a id="15174" class="Symbol">=</a> <a id="15176" href="Varieties.Properties.html#3225" class="Function">âŠ§-I-invar</a> <a id="15186" href="Varieties.Preservation.html#13392" class="Bound">wd</a> <a id="15189" href="Varieties.Preservation.html#15165" class="Bound">ğ‘©</a> <a id="15191" href="Varieties.Preservation.html#15150" class="Bound">p</a> <a id="15193" href="Varieties.Preservation.html#15152" class="Bound">q</a> <a id="15195" class="Symbol">(</a><a id="15196" href="Varieties.Preservation.html#14563" class="Function">S-id1</a> <a id="15202" href="Varieties.Preservation.html#15150" class="Bound">p</a> <a id="15204" href="Varieties.Preservation.html#15152" class="Bound">q</a> <a id="15206" href="Varieties.Preservation.html#15154" class="Bound">Ïƒ</a> <a id="15208" href="Varieties.Preservation.html#15168" class="Bound">x</a><a id="15209" class="Symbol">)</a> <a id="15211" href="Varieties.Preservation.html#15170" class="Bound">xâ‚</a>

</pre>

Again, the obvious converse is barely worth the bits needed to formalize it.

<pre class="Agda">

 <a id="15320" href="Varieties.Preservation.html#15320" class="Function">S-id2</a> <a id="15326" class="Symbol">:</a> <a id="15328" class="Symbol">âˆ€{</a><a id="15330" href="Varieties.Preservation.html#15330" class="Bound">Î²</a><a id="15331" class="Symbol">}(</a><a id="15333" href="Varieties.Preservation.html#15333" class="Bound">p</a> <a id="15335" href="Varieties.Preservation.html#15335" class="Bound">q</a> <a id="15337" class="Symbol">:</a> <a id="15339" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="15344" href="Varieties.Preservation.html#13407" class="Bound">X</a><a id="15345" class="Symbol">)</a> <a id="15347" class="Symbol">â†’</a> <a id="15349" href="Varieties.Closure.html#3769" class="Datatype">S</a><a id="15350" class="Symbol">{</a><a id="15351" class="Argument">Î²</a> <a id="15353" class="Symbol">=</a> <a id="15355" href="Varieties.Preservation.html#15330" class="Bound">Î²</a><a id="15356" class="Symbol">}</a><a id="15357" href="Varieties.Preservation.html#13420" class="Bound">ğ’¦</a> <a id="15359" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="15361" href="Varieties.Preservation.html#15333" class="Bound">p</a> <a id="15363" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="15365" href="Varieties.Preservation.html#15335" class="Bound">q</a> <a id="15367" class="Symbol">â†’</a> <a id="15369" href="Varieties.Preservation.html#13420" class="Bound">ğ’¦</a> <a id="15371" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="15373" href="Varieties.Preservation.html#15333" class="Bound">p</a> <a id="15375" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="15377" href="Varieties.Preservation.html#15335" class="Bound">q</a>

 <a id="15381" href="Varieties.Preservation.html#15320" class="Function">S-id2</a> <a id="15387" href="Varieties.Preservation.html#15387" class="Bound">p</a> <a id="15389" href="Varieties.Preservation.html#15389" class="Bound">q</a> <a id="15391" href="Varieties.Preservation.html#15391" class="Bound">Spq</a> <a id="15395" class="Symbol">{</a><a id="15396" href="Varieties.Preservation.html#15396" class="Bound">ğ‘¨</a><a id="15397" class="Symbol">}</a> <a id="15399" href="Varieties.Preservation.html#15399" class="Bound">KA</a> <a id="15402" class="Symbol">=</a> <a id="15404" href="Varieties.Properties.html#4301" class="Function">âŠ§-lower-invar</a> <a id="15418" href="Varieties.Preservation.html#13392" class="Bound">wd</a> <a id="15421" href="Varieties.Preservation.html#15387" class="Bound">p</a> <a id="15423" href="Varieties.Preservation.html#15389" class="Bound">q</a> <a id="15425" class="Symbol">(</a><a id="15426" href="Varieties.Preservation.html#15391" class="Bound">Spq</a> <a id="15430" class="Symbol">(</a><a id="15431" href="Varieties.Closure.html#3857" class="InductiveConstructor">sbase</a> <a id="15437" href="Varieties.Preservation.html#15399" class="Bound">KA</a><a id="15439" class="Symbol">))</a>

</pre>



### <a id="p-preserves-identities">P preserves identities</a>

<pre class="Agda">

<a id="15534" class="Keyword">module</a> <a id="15541" href="Varieties.Preservation.html#15541" class="Module">_</a> <a id="15543" class="Symbol">(</a><a id="15544" href="Varieties.Preservation.html#15544" class="Bound">fe</a> <a id="15547" class="Symbol">:</a> <a id="15549" href="Foundations.Extensionality.html#2463" class="Function">DFunExt</a><a id="15556" class="Symbol">)</a> <a id="15558" class="Symbol">(</a><a id="15559" href="Varieties.Preservation.html#15559" class="Bound">wd</a> <a id="15562" class="Symbol">:</a> <a id="15564" href="Foundations.Welldefined.html#2946" class="Function">SwellDef</a><a id="15572" class="Symbol">){</a><a id="15574" href="Varieties.Preservation.html#15574" class="Bound">X</a> <a id="15576" class="Symbol">:</a> <a id="15578" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="15583" href="Varieties.Preservation.html#13361" class="Generalizable">ğ“§</a><a id="15584" class="Symbol">}</a> <a id="15586" class="Symbol">{</a><a id="15587" href="Varieties.Preservation.html#15587" class="Bound">ğ’¦</a> <a id="15589" class="Symbol">:</a> <a id="15591" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="15596" class="Symbol">(</a><a id="15597" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="15605" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="15607" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="15608" class="Symbol">)(</a><a id="15610" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="15613" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="15614" class="Symbol">)}</a> <a id="15617" class="Keyword">where</a>

 <a id="15625" href="Varieties.Preservation.html#15625" class="Function">P-id1</a> <a id="15631" class="Symbol">:</a> <a id="15633" class="Symbol">(</a><a id="15634" href="Varieties.Preservation.html#15634" class="Bound">p</a> <a id="15636" href="Varieties.Preservation.html#15636" class="Bound">q</a> <a id="15638" class="Symbol">:</a> <a id="15640" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="15645" href="Varieties.Preservation.html#15574" class="Bound">X</a><a id="15646" class="Symbol">)</a> <a id="15648" class="Symbol">â†’</a> <a id="15650" href="Varieties.Preservation.html#15587" class="Bound">ğ’¦</a> <a id="15652" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="15654" href="Varieties.Preservation.html#15634" class="Bound">p</a> <a id="15656" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="15658" href="Varieties.Preservation.html#15636" class="Bound">q</a> <a id="15660" class="Symbol">â†’</a> <a id="15662" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="15663" class="Symbol">{</a><a id="15664" class="Argument">Î²</a> <a id="15666" class="Symbol">=</a> <a id="15668" href="Varieties.Preservation.html#15605" class="Bound">Î±</a><a id="15669" class="Symbol">}</a> <a id="15671" href="Varieties.Preservation.html#15587" class="Bound">ğ’¦</a> <a id="15673" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="15675" href="Varieties.Preservation.html#15634" class="Bound">p</a> <a id="15677" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="15679" href="Varieties.Preservation.html#15636" class="Bound">q</a>

 <a id="15683" href="Varieties.Preservation.html#15625" class="Function">P-id1</a> <a id="15689" href="Varieties.Preservation.html#15689" class="Bound">p</a> <a id="15691" href="Varieties.Preservation.html#15691" class="Bound">q</a> <a id="15693" href="Varieties.Preservation.html#15693" class="Bound">Ïƒ</a> <a id="15695" class="Symbol">(</a><a id="15696" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="15702" href="Varieties.Preservation.html#15702" class="Bound">x</a><a id="15703" class="Symbol">)</a> <a id="15705" class="Symbol">=</a> <a id="15707" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="15720" href="Varieties.Preservation.html#15559" class="Bound">wd</a> <a id="15723" href="Varieties.Preservation.html#15689" class="Bound">p</a> <a id="15725" href="Varieties.Preservation.html#15691" class="Bound">q</a> <a id="15727" class="Symbol">(</a><a id="15728" href="Varieties.Preservation.html#15693" class="Bound">Ïƒ</a> <a id="15730" href="Varieties.Preservation.html#15702" class="Bound">x</a><a id="15731" class="Symbol">)</a>
 <a id="15734" href="Varieties.Preservation.html#15625" class="Function">P-id1</a> <a id="15740" href="Varieties.Preservation.html#15740" class="Bound">p</a> <a id="15742" href="Varieties.Preservation.html#15742" class="Bound">q</a> <a id="15744" href="Varieties.Preservation.html#15744" class="Bound">Ïƒ</a> <a id="15746" class="Symbol">(</a><a id="15747" href="Varieties.Closure.html#4497" class="InductiveConstructor">pliftu</a> <a id="15754" href="Varieties.Preservation.html#15754" class="Bound">x</a><a id="15755" class="Symbol">)</a> <a id="15757" class="Symbol">=</a> <a id="15759" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="15772" href="Varieties.Preservation.html#15559" class="Bound">wd</a> <a id="15775" href="Varieties.Preservation.html#15740" class="Bound">p</a> <a id="15777" href="Varieties.Preservation.html#15742" class="Bound">q</a> <a id="15779" class="Symbol">((</a><a id="15781" href="Varieties.Preservation.html#15625" class="Function">P-id1</a> <a id="15787" href="Varieties.Preservation.html#15740" class="Bound">p</a> <a id="15789" href="Varieties.Preservation.html#15742" class="Bound">q</a> <a id="15791" href="Varieties.Preservation.html#15744" class="Bound">Ïƒ</a><a id="15792" class="Symbol">)</a> <a id="15794" href="Varieties.Preservation.html#15754" class="Bound">x</a><a id="15795" class="Symbol">)</a>
 <a id="15798" href="Varieties.Preservation.html#15625" class="Function">P-id1</a> <a id="15804" href="Varieties.Preservation.html#15804" class="Bound">p</a> <a id="15806" href="Varieties.Preservation.html#15806" class="Bound">q</a> <a id="15808" href="Varieties.Preservation.html#15808" class="Bound">Ïƒ</a> <a id="15810" class="Symbol">(</a><a id="15811" href="Varieties.Closure.html#4562" class="InductiveConstructor">pliftw</a> <a id="15818" href="Varieties.Preservation.html#15818" class="Bound">x</a><a id="15819" class="Symbol">)</a> <a id="15821" class="Symbol">=</a> <a id="15823" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="15836" href="Varieties.Preservation.html#15559" class="Bound">wd</a> <a id="15839" href="Varieties.Preservation.html#15804" class="Bound">p</a> <a id="15841" href="Varieties.Preservation.html#15806" class="Bound">q</a> <a id="15843" class="Symbol">((</a><a id="15845" href="Varieties.Preservation.html#15625" class="Function">P-id1</a> <a id="15851" href="Varieties.Preservation.html#15804" class="Bound">p</a> <a id="15853" href="Varieties.Preservation.html#15806" class="Bound">q</a> <a id="15855" href="Varieties.Preservation.html#15808" class="Bound">Ïƒ</a><a id="15856" class="Symbol">)</a> <a id="15858" href="Varieties.Preservation.html#15818" class="Bound">x</a><a id="15859" class="Symbol">)</a>

 <a id="15863" href="Varieties.Preservation.html#15625" class="Function">P-id1</a> <a id="15869" href="Varieties.Preservation.html#15869" class="Bound">p</a> <a id="15871" href="Varieties.Preservation.html#15871" class="Bound">q</a> <a id="15873" href="Varieties.Preservation.html#15873" class="Bound">Ïƒ</a> <a id="15875" class="Symbol">(</a><a id="15876" href="Varieties.Closure.html#4639" class="InductiveConstructor">produ</a><a id="15881" class="Symbol">{</a><a id="15882" href="Varieties.Preservation.html#15882" class="Bound">I</a><a id="15883" class="Symbol">}{</a><a id="15885" href="Varieties.Preservation.html#15885" class="Bound">ğ’œ</a><a id="15886" class="Symbol">}</a> <a id="15888" href="Varieties.Preservation.html#15888" class="Bound">x</a><a id="15889" class="Symbol">)</a> <a id="15891" class="Symbol">=</a> <a id="15893" href="Varieties.Properties.html#7236" class="Function">âŠ§-P-lift-invar</a> <a id="15908" href="Varieties.Preservation.html#15544" class="Bound">fe</a> <a id="15911" href="Varieties.Preservation.html#15559" class="Bound">wd</a> <a id="15914" href="Varieties.Preservation.html#15885" class="Bound">ğ’œ</a>  <a id="15917" href="Varieties.Preservation.html#15869" class="Bound">p</a> <a id="15919" href="Varieties.Preservation.html#15871" class="Bound">q</a> <a id="15921" href="Varieties.Preservation.html#15934" class="Function">IH</a>
  <a id="15926" class="Keyword">where</a>
  <a id="15934" href="Varieties.Preservation.html#15934" class="Function">IH</a> <a id="15937" class="Symbol">:</a> <a id="15939" class="Symbol">âˆ€</a> <a id="15941" href="Varieties.Preservation.html#15941" class="Bound">i</a> <a id="15943" class="Symbol">â†’</a> <a id="15945" class="Symbol">(</a><a id="15946" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="15955" class="Symbol">(</a><a id="15956" href="Varieties.Preservation.html#15885" class="Bound">ğ’œ</a> <a id="15958" href="Varieties.Preservation.html#15941" class="Bound">i</a><a id="15959" class="Symbol">)</a> <a id="15961" href="Varieties.Preservation.html#15605" class="Bound">Î±</a><a id="15962" class="Symbol">)</a> <a id="15964" href="Varieties.EquationalLogic.html#2605" class="Function Operator">âŠ§</a> <a id="15966" href="Varieties.Preservation.html#15869" class="Bound">p</a> <a id="15968" href="Varieties.EquationalLogic.html#2605" class="Function Operator">â‰ˆ</a> <a id="15970" href="Varieties.Preservation.html#15871" class="Bound">q</a>
  <a id="15974" href="Varieties.Preservation.html#15934" class="Function">IH</a> <a id="15977" href="Varieties.Preservation.html#15977" class="Bound">i</a> <a id="15979" class="Symbol">=</a> <a id="15981" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="15994" href="Varieties.Preservation.html#15559" class="Bound">wd</a>  <a id="15998" href="Varieties.Preservation.html#15869" class="Bound">p</a> <a id="16000" href="Varieties.Preservation.html#15871" class="Bound">q</a> <a id="16002" class="Symbol">((</a><a id="16004" href="Varieties.Preservation.html#15625" class="Function">P-id1</a> <a id="16010" href="Varieties.Preservation.html#15869" class="Bound">p</a> <a id="16012" href="Varieties.Preservation.html#15871" class="Bound">q</a> <a id="16014" href="Varieties.Preservation.html#15873" class="Bound">Ïƒ</a><a id="16015" class="Symbol">)</a> <a id="16017" class="Symbol">(</a><a id="16018" href="Varieties.Preservation.html#15888" class="Bound">x</a> <a id="16020" href="Varieties.Preservation.html#15977" class="Bound">i</a><a id="16021" class="Symbol">))</a>

 <a id="16026" href="Varieties.Preservation.html#15625" class="Function">P-id1</a> <a id="16032" href="Varieties.Preservation.html#16032" class="Bound">p</a> <a id="16034" href="Varieties.Preservation.html#16034" class="Bound">q</a> <a id="16036" href="Varieties.Preservation.html#16036" class="Bound">Ïƒ</a> <a id="16038" class="Symbol">(</a><a id="16039" href="Varieties.Closure.html#4724" class="InductiveConstructor">prodw</a><a id="16044" class="Symbol">{</a><a id="16045" href="Varieties.Preservation.html#16045" class="Bound">I</a><a id="16046" class="Symbol">}{</a><a id="16048" href="Varieties.Preservation.html#16048" class="Bound">ğ’œ</a><a id="16049" class="Symbol">}</a> <a id="16051" href="Varieties.Preservation.html#16051" class="Bound">x</a><a id="16052" class="Symbol">)</a> <a id="16054" class="Symbol">=</a> <a id="16056" href="Varieties.Properties.html#7236" class="Function">âŠ§-P-lift-invar</a> <a id="16071" href="Varieties.Preservation.html#15544" class="Bound">fe</a> <a id="16074" href="Varieties.Preservation.html#15559" class="Bound">wd</a> <a id="16077" href="Varieties.Preservation.html#16048" class="Bound">ğ’œ</a>  <a id="16080" href="Varieties.Preservation.html#16032" class="Bound">p</a> <a id="16082" href="Varieties.Preservation.html#16034" class="Bound">q</a> <a id="16084" href="Varieties.Preservation.html#16097" class="Function">IH</a>
  <a id="16089" class="Keyword">where</a>
  <a id="16097" href="Varieties.Preservation.html#16097" class="Function">IH</a> <a id="16100" class="Symbol">:</a> <a id="16102" class="Symbol">âˆ€</a> <a id="16104" href="Varieties.Preservation.html#16104" class="Bound">i</a> <a id="16106" class="Symbol">â†’</a> <a id="16108" class="Symbol">(</a><a id="16109" href="Algebras.Basic.html#10869" class="Function">Lift-Alg</a> <a id="16118" class="Symbol">(</a><a id="16119" href="Varieties.Preservation.html#16048" class="Bound">ğ’œ</a> <a id="16121" href="Varieties.Preservation.html#16104" class="Bound">i</a><a id="16122" class="Symbol">)</a> <a id="16124" href="Varieties.Preservation.html#15605" class="Bound">Î±</a><a id="16125" class="Symbol">)</a> <a id="16127" href="Varieties.EquationalLogic.html#2605" class="Function Operator">âŠ§</a> <a id="16129" href="Varieties.Preservation.html#16032" class="Bound">p</a> <a id="16131" href="Varieties.EquationalLogic.html#2605" class="Function Operator">â‰ˆ</a> <a id="16133" href="Varieties.Preservation.html#16034" class="Bound">q</a>
  <a id="16137" href="Varieties.Preservation.html#16097" class="Function">IH</a> <a id="16140" href="Varieties.Preservation.html#16140" class="Bound">i</a> <a id="16142" class="Symbol">=</a> <a id="16144" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="16157" href="Varieties.Preservation.html#15559" class="Bound">wd</a>  <a id="16161" href="Varieties.Preservation.html#16032" class="Bound">p</a> <a id="16163" href="Varieties.Preservation.html#16034" class="Bound">q</a> <a id="16165" class="Symbol">((</a><a id="16167" href="Varieties.Preservation.html#15625" class="Function">P-id1</a> <a id="16173" href="Varieties.Preservation.html#16032" class="Bound">p</a> <a id="16175" href="Varieties.Preservation.html#16034" class="Bound">q</a> <a id="16177" href="Varieties.Preservation.html#16036" class="Bound">Ïƒ</a><a id="16178" class="Symbol">)</a> <a id="16180" class="Symbol">(</a><a id="16181" href="Varieties.Preservation.html#16051" class="Bound">x</a> <a id="16183" href="Varieties.Preservation.html#16140" class="Bound">i</a><a id="16184" class="Symbol">))</a>

 <a id="16189" href="Varieties.Preservation.html#15625" class="Function">P-id1</a> <a id="16195" href="Varieties.Preservation.html#16195" class="Bound">p</a> <a id="16197" href="Varieties.Preservation.html#16197" class="Bound">q</a> <a id="16199" href="Varieties.Preservation.html#16199" class="Bound">Ïƒ</a> <a id="16201" class="Symbol">(</a><a id="16202" href="Varieties.Closure.html#4809" class="InductiveConstructor">pisow</a><a id="16207" class="Symbol">{</a><a id="16208" href="Varieties.Preservation.html#16208" class="Bound">ğ‘¨</a><a id="16209" class="Symbol">}{</a><a id="16211" href="Varieties.Preservation.html#16211" class="Bound">ğ‘©</a><a id="16212" class="Symbol">}</a> <a id="16214" href="Varieties.Preservation.html#16214" class="Bound">x</a> <a id="16216" href="Varieties.Preservation.html#16216" class="Bound">y</a><a id="16217" class="Symbol">)</a> <a id="16219" class="Symbol">=</a> <a id="16221" href="Varieties.Properties.html#3225" class="Function">âŠ§-I-invar</a> <a id="16231" href="Varieties.Preservation.html#15559" class="Bound">wd</a> <a id="16234" href="Varieties.Preservation.html#16211" class="Bound">ğ‘©</a> <a id="16236" href="Varieties.Preservation.html#16195" class="Bound">p</a> <a id="16238" href="Varieties.Preservation.html#16197" class="Bound">q</a> <a id="16240" class="Symbol">(</a><a id="16241" href="Varieties.Preservation.html#15625" class="Function">P-id1</a> <a id="16247" href="Varieties.Preservation.html#16195" class="Bound">p</a> <a id="16249" href="Varieties.Preservation.html#16197" class="Bound">q</a> <a id="16251" href="Varieties.Preservation.html#16199" class="Bound">Ïƒ</a> <a id="16253" href="Varieties.Preservation.html#16214" class="Bound">x</a><a id="16254" class="Symbol">)</a> <a id="16256" href="Varieties.Preservation.html#16216" class="Bound">y</a>

</pre>

...and conversely...

<pre class="Agda">

<a id="16307" class="Keyword">module</a> <a id="16314" href="Varieties.Preservation.html#16314" class="Module">_</a>  <a id="16317" class="Symbol">(</a><a id="16318" href="Varieties.Preservation.html#16318" class="Bound">wd</a> <a id="16321" class="Symbol">:</a> <a id="16323" href="Foundations.Welldefined.html#2946" class="Function">SwellDef</a><a id="16331" class="Symbol">){</a><a id="16333" href="Varieties.Preservation.html#16333" class="Bound">X</a> <a id="16335" class="Symbol">:</a> <a id="16337" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="16342" href="Varieties.Preservation.html#13361" class="Generalizable">ğ“§</a><a id="16343" class="Symbol">}</a> <a id="16345" class="Symbol">{</a><a id="16346" href="Varieties.Preservation.html#16346" class="Bound">ğ’¦</a> <a id="16348" class="Symbol">:</a> <a id="16350" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="16355" class="Symbol">(</a><a id="16356" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="16364" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="16366" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="16367" class="Symbol">)(</a><a id="16369" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="16372" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="16373" class="Symbol">)}</a> <a id="16376" class="Keyword">where</a>

 <a id="16384" href="Varieties.Preservation.html#16384" class="Function">P-id2</a> <a id="16390" class="Symbol">:</a> <a id="16392" class="Symbol">âˆ€</a> <a id="16394" class="Symbol">{</a><a id="16395" href="Varieties.Preservation.html#16395" class="Bound">Î²</a><a id="16396" class="Symbol">}(</a><a id="16398" href="Varieties.Preservation.html#16398" class="Bound">p</a> <a id="16400" href="Varieties.Preservation.html#16400" class="Bound">q</a> <a id="16402" class="Symbol">:</a> <a id="16404" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="16409" href="Varieties.Preservation.html#16333" class="Bound">X</a><a id="16410" class="Symbol">)</a> <a id="16412" class="Symbol">â†’</a> <a id="16414" href="Varieties.Closure.html#4352" class="Datatype">P</a><a id="16415" class="Symbol">{</a><a id="16416" class="Argument">Î²</a> <a id="16418" class="Symbol">=</a> <a id="16420" href="Varieties.Preservation.html#16395" class="Bound">Î²</a><a id="16421" class="Symbol">}</a> <a id="16423" href="Varieties.Preservation.html#16346" class="Bound">ğ’¦</a> <a id="16425" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="16427" href="Varieties.Preservation.html#16398" class="Bound">p</a> <a id="16429" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="16431" href="Varieties.Preservation.html#16400" class="Bound">q</a> <a id="16433" class="Symbol">â†’</a> <a id="16435" href="Varieties.Preservation.html#16346" class="Bound">ğ’¦</a> <a id="16437" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="16439" href="Varieties.Preservation.html#16398" class="Bound">p</a> <a id="16441" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="16443" href="Varieties.Preservation.html#16400" class="Bound">q</a>
 <a id="16446" href="Varieties.Preservation.html#16384" class="Function">P-id2</a> <a id="16452" href="Varieties.Preservation.html#16452" class="Bound">p</a> <a id="16454" href="Varieties.Preservation.html#16454" class="Bound">q</a> <a id="16456" href="Varieties.Preservation.html#16456" class="Bound">PKpq</a> <a id="16461" href="Varieties.Preservation.html#16461" class="Bound">KA</a> <a id="16464" class="Symbol">=</a> <a id="16466" href="Varieties.Properties.html#4301" class="Function">âŠ§-lower-invar</a> <a id="16480" href="Varieties.Preservation.html#16318" class="Bound">wd</a> <a id="16483" href="Varieties.Preservation.html#16452" class="Bound">p</a> <a id="16485" href="Varieties.Preservation.html#16454" class="Bound">q</a> <a id="16487" class="Symbol">(</a><a id="16488" href="Varieties.Preservation.html#16456" class="Bound">PKpq</a> <a id="16493" class="Symbol">(</a><a id="16494" href="Varieties.Closure.html#4440" class="InductiveConstructor">pbase</a> <a id="16500" href="Varieties.Preservation.html#16461" class="Bound">KA</a><a id="16502" class="Symbol">))</a>

</pre>


### <a id="v-preserves-identities">V preserves identities</a>

Finally, we prove the analogous preservation lemmas for the closure operator `V`.

<pre class="Agda">

<a id="16679" class="Keyword">module</a> <a id="Vid"></a><a id="16686" href="Varieties.Preservation.html#16686" class="Module">Vid</a> <a id="16690" class="Symbol">(</a><a id="16691" href="Varieties.Preservation.html#16691" class="Bound">fe</a> <a id="16694" class="Symbol">:</a> <a id="16696" href="Foundations.Extensionality.html#2463" class="Function">DFunExt</a><a id="16703" class="Symbol">)(</a><a id="16705" href="Varieties.Preservation.html#16705" class="Bound">wd</a> <a id="16708" class="Symbol">:</a> <a id="16710" href="Foundations.Welldefined.html#2946" class="Function">SwellDef</a><a id="16718" class="Symbol">){</a><a id="16720" href="Varieties.Preservation.html#16720" class="Bound">ğ“§</a> <a id="16722" class="Symbol">:</a> <a id="16724" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="16729" class="Symbol">}</a> <a id="16731" class="Symbol">{</a><a id="16732" href="Varieties.Preservation.html#16732" class="Bound">X</a> <a id="16734" class="Symbol">:</a> <a id="16736" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="16741" href="Varieties.Preservation.html#16720" class="Bound">ğ“§</a><a id="16742" class="Symbol">}</a> <a id="16744" class="Symbol">{</a><a id="16745" href="Varieties.Preservation.html#16745" class="Bound">ğ’¦</a> <a id="16747" class="Symbol">:</a> <a id="16749" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="16754" class="Symbol">(</a><a id="16755" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="16763" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="16765" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="16766" class="Symbol">)(</a><a id="16768" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="16771" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="16772" class="Symbol">)}</a> <a id="16775" class="Keyword">where</a>

 <a id="Vid.V-id1"></a><a id="16783" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="16789" class="Symbol">:</a> <a id="16791" class="Symbol">(</a><a id="16792" href="Varieties.Preservation.html#16792" class="Bound">p</a> <a id="16794" href="Varieties.Preservation.html#16794" class="Bound">q</a> <a id="16796" class="Symbol">:</a> <a id="16798" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="16803" href="Varieties.Preservation.html#16732" class="Bound">X</a><a id="16804" class="Symbol">)</a> <a id="16806" class="Symbol">â†’</a> <a id="16808" href="Varieties.Preservation.html#16745" class="Bound">ğ’¦</a> <a id="16810" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="16812" href="Varieties.Preservation.html#16792" class="Bound">p</a> <a id="16814" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="16816" href="Varieties.Preservation.html#16794" class="Bound">q</a> <a id="16818" class="Symbol">â†’</a> <a id="16820" href="Varieties.Closure.html#5309" class="Datatype">V</a><a id="16821" class="Symbol">{</a><a id="16822" class="Argument">Î²</a> <a id="16824" class="Symbol">=</a> <a id="16826" href="Varieties.Preservation.html#16763" class="Bound">Î±</a><a id="16827" class="Symbol">}</a> <a id="16829" href="Varieties.Preservation.html#16745" class="Bound">ğ’¦</a> <a id="16831" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="16833" href="Varieties.Preservation.html#16792" class="Bound">p</a> <a id="16835" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="16837" href="Varieties.Preservation.html#16794" class="Bound">q</a>
 <a id="16840" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="16846" href="Varieties.Preservation.html#16846" class="Bound">p</a> <a id="16848" href="Varieties.Preservation.html#16848" class="Bound">q</a> <a id="16850" href="Varieties.Preservation.html#16850" class="Bound">Ïƒ</a> <a id="16852" class="Symbol">(</a><a id="16853" href="Varieties.Closure.html#5397" class="InductiveConstructor">vbase</a> <a id="16859" href="Varieties.Preservation.html#16859" class="Bound">x</a><a id="16860" class="Symbol">)</a> <a id="16862" class="Symbol">=</a> <a id="16864" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="16877" href="Varieties.Preservation.html#16705" class="Bound">wd</a> <a id="16880" href="Varieties.Preservation.html#16846" class="Bound">p</a> <a id="16882" href="Varieties.Preservation.html#16848" class="Bound">q</a> <a id="16884" class="Symbol">(</a><a id="16885" href="Varieties.Preservation.html#16850" class="Bound">Ïƒ</a> <a id="16887" href="Varieties.Preservation.html#16859" class="Bound">x</a><a id="16888" class="Symbol">)</a>
 <a id="16891" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="16897" href="Varieties.Preservation.html#16897" class="Bound">p</a> <a id="16899" href="Varieties.Preservation.html#16899" class="Bound">q</a> <a id="16901" href="Varieties.Preservation.html#16901" class="Bound">Ïƒ</a> <a id="16903" class="Symbol">(</a><a id="16904" href="Varieties.Closure.html#5454" class="InductiveConstructor">vlift</a><a id="16909" class="Symbol">{</a><a id="16910" href="Varieties.Preservation.html#16910" class="Bound">ğ‘¨</a><a id="16911" class="Symbol">}</a> <a id="16913" href="Varieties.Preservation.html#16913" class="Bound">x</a><a id="16914" class="Symbol">)</a> <a id="16916" class="Symbol">=</a> <a id="16918" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="16931" href="Varieties.Preservation.html#16705" class="Bound">wd</a> <a id="16934" href="Varieties.Preservation.html#16897" class="Bound">p</a> <a id="16936" href="Varieties.Preservation.html#16899" class="Bound">q</a> <a id="16938" class="Symbol">((</a><a id="16940" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="16946" href="Varieties.Preservation.html#16897" class="Bound">p</a> <a id="16948" href="Varieties.Preservation.html#16899" class="Bound">q</a> <a id="16950" href="Varieties.Preservation.html#16901" class="Bound">Ïƒ</a><a id="16951" class="Symbol">)</a> <a id="16953" href="Varieties.Preservation.html#16913" class="Bound">x</a><a id="16954" class="Symbol">)</a>
 <a id="16957" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="16963" href="Varieties.Preservation.html#16963" class="Bound">p</a> <a id="16965" href="Varieties.Preservation.html#16965" class="Bound">q</a> <a id="16967" href="Varieties.Preservation.html#16967" class="Bound">Ïƒ</a> <a id="16969" class="Symbol">(</a><a id="16970" href="Varieties.Closure.html#5519" class="InductiveConstructor">vliftw</a><a id="16976" class="Symbol">{</a><a id="16977" href="Varieties.Preservation.html#16977" class="Bound">ğ‘¨</a><a id="16978" class="Symbol">}</a> <a id="16980" href="Varieties.Preservation.html#16980" class="Bound">x</a><a id="16981" class="Symbol">)</a> <a id="16983" class="Symbol">=</a> <a id="16985" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="16998" href="Varieties.Preservation.html#16705" class="Bound">wd</a> <a id="17001" href="Varieties.Preservation.html#16963" class="Bound">p</a> <a id="17003" href="Varieties.Preservation.html#16965" class="Bound">q</a> <a id="17005" class="Symbol">((</a><a id="17007" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="17013" href="Varieties.Preservation.html#16963" class="Bound">p</a> <a id="17015" href="Varieties.Preservation.html#16965" class="Bound">q</a> <a id="17017" href="Varieties.Preservation.html#16967" class="Bound">Ïƒ</a><a id="17018" class="Symbol">)</a> <a id="17020" href="Varieties.Preservation.html#16980" class="Bound">x</a><a id="17021" class="Symbol">)</a>

 <a id="17025" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="17031" href="Varieties.Preservation.html#17031" class="Bound">p</a> <a id="17033" href="Varieties.Preservation.html#17033" class="Bound">q</a> <a id="17035" href="Varieties.Preservation.html#17035" class="Bound">Ïƒ</a> <a id="17037" class="Symbol">(</a><a id="17038" href="Varieties.Closure.html#5590" class="InductiveConstructor">vhimg</a><a id="17043" class="Symbol">{</a><a id="17044" href="Varieties.Preservation.html#17044" class="Bound">ğ‘¨</a><a id="17045" class="Symbol">}{</a><a id="17047" href="Varieties.Preservation.html#17047" class="Bound">ğ‘ª</a><a id="17048" class="Symbol">}</a><a id="17049" href="Varieties.Preservation.html#17049" class="Bound">VA</a> <a id="17052" class="Symbol">(</a><a id="17053" href="Varieties.Preservation.html#17053" class="Bound">ğ‘©</a> <a id="17055" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17057" class="Symbol">((</a><a id="17059" href="Varieties.Preservation.html#17059" class="Bound">Ï†</a> <a id="17061" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17063" href="Varieties.Preservation.html#17063" class="Bound">Ï†h</a><a id="17065" class="Symbol">)</a> <a id="17067" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17069" href="Varieties.Preservation.html#17069" class="Bound">Ï†E</a><a id="17071" class="Symbol">)))</a> <a id="17075" href="Varieties.Preservation.html#17075" class="Bound">b</a> <a id="17077" class="Symbol">=</a> <a id="17079" href="Varieties.Preservation.html#17245" class="Function">goal</a>
  <a id="17086" class="Keyword">where</a>
  <a id="17094" href="Varieties.Preservation.html#17094" class="Function">IH</a> <a id="17097" class="Symbol">:</a> <a id="17099" href="Varieties.Preservation.html#17044" class="Bound">ğ‘¨</a> <a id="17101" href="Varieties.EquationalLogic.html#2605" class="Function Operator">âŠ§</a> <a id="17103" href="Varieties.Preservation.html#17031" class="Bound">p</a> <a id="17105" href="Varieties.EquationalLogic.html#2605" class="Function Operator">â‰ˆ</a> <a id="17107" href="Varieties.Preservation.html#17033" class="Bound">q</a>
  <a id="17111" href="Varieties.Preservation.html#17094" class="Function">IH</a> <a id="17114" class="Symbol">=</a> <a id="17116" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="17122" href="Varieties.Preservation.html#17031" class="Bound">p</a> <a id="17124" href="Varieties.Preservation.html#17033" class="Bound">q</a> <a id="17126" href="Varieties.Preservation.html#17035" class="Bound">Ïƒ</a> <a id="17128" href="Varieties.Preservation.html#17049" class="Bound">VA</a>

  <a id="17134" href="Varieties.Preservation.html#17134" class="Function">preim</a> <a id="17140" class="Symbol">:</a> <a id="17142" href="Varieties.Preservation.html#16732" class="Bound">X</a> <a id="17144" class="Symbol">â†’</a> <a id="17146" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="17148" href="Varieties.Preservation.html#17044" class="Bound">ğ‘¨</a> <a id="17150" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>
  <a id="17154" href="Varieties.Preservation.html#17134" class="Function">preim</a> <a id="17160" href="Varieties.Preservation.html#17160" class="Bound">x</a> <a id="17162" class="Symbol">=</a> <a id="17164" href="Overture.Inverses.html#1860" class="Function">Inv</a> <a id="17168" href="Varieties.Preservation.html#17059" class="Bound">Ï†</a> <a id="17170" class="Symbol">(</a><a id="17171" href="Varieties.Preservation.html#17069" class="Bound">Ï†E</a> <a id="17174" class="Symbol">(</a><a id="17175" href="Varieties.Preservation.html#17075" class="Bound">b</a> <a id="17177" href="Varieties.Preservation.html#17160" class="Bound">x</a><a id="17178" class="Symbol">))</a>

  <a id="17184" href="Varieties.Preservation.html#17184" class="Function">Î¶</a> <a id="17186" class="Symbol">:</a> <a id="17188" class="Symbol">âˆ€</a> <a id="17190" href="Varieties.Preservation.html#17190" class="Bound">x</a> <a id="17192" class="Symbol">â†’</a> <a id="17194" href="Varieties.Preservation.html#17059" class="Bound">Ï†</a> <a id="17196" class="Symbol">(</a><a id="17197" href="Varieties.Preservation.html#17134" class="Function">preim</a> <a id="17203" href="Varieties.Preservation.html#17190" class="Bound">x</a><a id="17204" class="Symbol">)</a> <a id="17206" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="17208" href="Varieties.Preservation.html#17075" class="Bound">b</a> <a id="17210" href="Varieties.Preservation.html#17190" class="Bound">x</a>
  <a id="17214" href="Varieties.Preservation.html#17184" class="Function">Î¶</a> <a id="17216" href="Varieties.Preservation.html#17216" class="Bound">x</a> <a id="17218" class="Symbol">=</a> <a id="17220" href="Overture.Inverses.html#2023" class="Function">InvIsInv</a> <a id="17229" href="Varieties.Preservation.html#17059" class="Bound">Ï†</a> <a id="17231" class="Symbol">(</a><a id="17232" href="Varieties.Preservation.html#17069" class="Bound">Ï†E</a> <a id="17235" class="Symbol">(</a><a id="17236" href="Varieties.Preservation.html#17075" class="Bound">b</a> <a id="17238" href="Varieties.Preservation.html#17216" class="Bound">x</a><a id="17239" class="Symbol">))</a>

  <a id="17245" href="Varieties.Preservation.html#17245" class="Function">goal</a> <a id="17250" class="Symbol">:</a> <a id="17252" class="Symbol">(</a><a id="17253" href="Varieties.Preservation.html#17053" class="Bound">ğ‘©</a> <a id="17255" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="17257" href="Varieties.Preservation.html#17031" class="Bound">p</a> <a id="17259" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="17260" class="Symbol">)</a> <a id="17262" href="Varieties.Preservation.html#17075" class="Bound">b</a> <a id="17264" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="17266" class="Symbol">(</a><a id="17267" href="Varieties.Preservation.html#17053" class="Bound">ğ‘©</a> <a id="17269" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="17271" href="Varieties.Preservation.html#17033" class="Bound">q</a> <a id="17273" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="17274" class="Symbol">)</a> <a id="17276" href="Varieties.Preservation.html#17075" class="Bound">b</a>
  <a id="17280" href="Varieties.Preservation.html#17245" class="Function">goal</a> <a id="17285" class="Symbol">=</a> <a id="17287" class="Symbol">(</a><a id="17288" href="Varieties.Preservation.html#17053" class="Bound">ğ‘©</a> <a id="17290" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="17292" href="Varieties.Preservation.html#17031" class="Bound">p</a> <a id="17294" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="17295" class="Symbol">)</a> <a id="17297" href="Varieties.Preservation.html#17075" class="Bound">b</a>          <a id="17308" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17311" href="Varieties.Preservation.html#16705" class="Bound">wd</a> <a id="17314" href="Varieties.Preservation.html#16720" class="Bound">ğ“§</a> <a id="17316" href="Varieties.Preservation.html#16763" class="Bound">Î±</a> <a id="17318" class="Symbol">(</a><a id="17319" href="Varieties.Preservation.html#17053" class="Bound">ğ‘©</a> <a id="17321" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="17323" href="Varieties.Preservation.html#17031" class="Bound">p</a> <a id="17325" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="17326" class="Symbol">)</a> <a id="17328" href="Varieties.Preservation.html#17075" class="Bound">b</a> <a id="17330" class="Symbol">(</a><a id="17331" href="Varieties.Preservation.html#17059" class="Bound">Ï†</a> <a id="17333" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17335" href="Varieties.Preservation.html#17134" class="Function">preim</a> <a id="17341" class="Symbol">)(Î»</a> <a id="17345" href="Varieties.Preservation.html#17345" class="Bound">i</a> <a id="17347" class="Symbol">â†’</a> <a id="17349" class="Symbol">(</a><a id="17350" href="Varieties.Preservation.html#17184" class="Function">Î¶</a> <a id="17352" href="Varieties.Preservation.html#17345" class="Bound">i</a><a id="17353" class="Symbol">)</a><a id="17354" href="Overture.Preliminaries.html#5228" class="Function Operator">â»Â¹</a><a id="17356" class="Symbol">)</a><a id="17357" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17365" class="Symbol">(</a><a id="17366" href="Varieties.Preservation.html#17053" class="Bound">ğ‘©</a> <a id="17368" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="17370" href="Varieties.Preservation.html#17031" class="Bound">p</a> <a id="17372" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="17373" class="Symbol">)(</a><a id="17375" href="Varieties.Preservation.html#17059" class="Bound">Ï†</a> <a id="17377" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17379" href="Varieties.Preservation.html#17134" class="Function">preim</a><a id="17384" class="Symbol">)</a> <a id="17386" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="17388" class="Symbol">(</a><a id="17389" href="Terms.Operations.html#6579" class="Function">comm-hom-term</a> <a id="17403" class="Symbol">(</a><a id="17404" href="Varieties.Preservation.html#16705" class="Bound">wd</a> <a id="17407" href="Varieties.Preservation.html#626" class="Bound">ğ“¥</a> <a id="17409" href="Varieties.Preservation.html#16763" class="Bound">Î±</a><a id="17410" class="Symbol">)</a> <a id="17412" href="Varieties.Preservation.html#17053" class="Bound">ğ‘©</a> <a id="17414" class="Symbol">(</a><a id="17415" href="Varieties.Preservation.html#17059" class="Bound">Ï†</a> <a id="17417" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17419" href="Varieties.Preservation.html#17063" class="Bound">Ï†h</a><a id="17421" class="Symbol">)</a> <a id="17423" href="Varieties.Preservation.html#17031" class="Bound">p</a> <a id="17425" href="Varieties.Preservation.html#17134" class="Function">preim</a><a id="17430" class="Symbol">)</a><a id="17431" href="Overture.Preliminaries.html#5228" class="Function Operator">â»Â¹</a> <a id="17434" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17442" href="Varieties.Preservation.html#17059" class="Bound">Ï†</a><a id="17443" class="Symbol">((</a><a id="17445" href="Varieties.Preservation.html#17044" class="Bound">ğ‘¨</a> <a id="17447" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="17449" href="Varieties.Preservation.html#17031" class="Bound">p</a> <a id="17451" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="17452" class="Symbol">)</a> <a id="17454" href="Varieties.Preservation.html#17134" class="Function">preim</a><a id="17459" class="Symbol">)</a>   <a id="17463" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17466" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="17471" href="Varieties.Preservation.html#17059" class="Bound">Ï†</a> <a id="17473" class="Symbol">(</a><a id="17474" href="Varieties.Preservation.html#17094" class="Function">IH</a> <a id="17477" href="Varieties.Preservation.html#17134" class="Function">preim</a><a id="17482" class="Symbol">)</a> <a id="17484" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17492" href="Varieties.Preservation.html#17059" class="Bound">Ï†</a><a id="17493" class="Symbol">((</a><a id="17495" href="Varieties.Preservation.html#17044" class="Bound">ğ‘¨</a> <a id="17497" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="17499" href="Varieties.Preservation.html#17033" class="Bound">q</a> <a id="17501" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="17502" class="Symbol">)</a> <a id="17504" href="Varieties.Preservation.html#17134" class="Function">preim</a><a id="17509" class="Symbol">)</a>   <a id="17513" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17516" href="Terms.Operations.html#6579" class="Function">comm-hom-term</a> <a id="17530" class="Symbol">(</a><a id="17531" href="Varieties.Preservation.html#16705" class="Bound">wd</a> <a id="17534" href="Varieties.Preservation.html#626" class="Bound">ğ“¥</a> <a id="17536" href="Varieties.Preservation.html#16763" class="Bound">Î±</a><a id="17537" class="Symbol">)</a> <a id="17539" href="Varieties.Preservation.html#17053" class="Bound">ğ‘©</a> <a id="17541" class="Symbol">(</a><a id="17542" href="Varieties.Preservation.html#17059" class="Bound">Ï†</a> <a id="17544" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17546" href="Varieties.Preservation.html#17063" class="Bound">Ï†h</a><a id="17548" class="Symbol">)</a> <a id="17550" href="Varieties.Preservation.html#17033" class="Bound">q</a> <a id="17552" href="Varieties.Preservation.html#17134" class="Function">preim</a> <a id="17558" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17566" class="Symbol">(</a><a id="17567" href="Varieties.Preservation.html#17053" class="Bound">ğ‘©</a> <a id="17569" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="17571" href="Varieties.Preservation.html#17033" class="Bound">q</a> <a id="17573" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="17574" class="Symbol">)(</a><a id="17576" href="Varieties.Preservation.html#17059" class="Bound">Ï†</a> <a id="17578" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17580" href="Varieties.Preservation.html#17134" class="Function">preim</a><a id="17585" class="Symbol">)</a> <a id="17587" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17590" href="Varieties.Preservation.html#16705" class="Bound">wd</a> <a id="17593" href="Varieties.Preservation.html#16720" class="Bound">ğ“§</a> <a id="17595" href="Varieties.Preservation.html#16763" class="Bound">Î±</a> <a id="17597" class="Symbol">(</a><a id="17598" href="Varieties.Preservation.html#17053" class="Bound">ğ‘©</a> <a id="17600" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="17602" href="Varieties.Preservation.html#17033" class="Bound">q</a> <a id="17604" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="17605" class="Symbol">)(</a><a id="17607" href="Varieties.Preservation.html#17059" class="Bound">Ï†</a> <a id="17609" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17611" href="Varieties.Preservation.html#17134" class="Function">preim</a><a id="17616" class="Symbol">)</a> <a id="17618" href="Varieties.Preservation.html#17075" class="Bound">b</a> <a id="17620" href="Varieties.Preservation.html#17184" class="Function">Î¶</a> <a id="17622" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17630" class="Symbol">(</a><a id="17631" href="Varieties.Preservation.html#17053" class="Bound">ğ‘©</a> <a id="17633" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="17635" href="Varieties.Preservation.html#17033" class="Bound">q</a> <a id="17637" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="17638" class="Symbol">)</a> <a id="17640" href="Varieties.Preservation.html#17075" class="Bound">b</a>          <a id="17651" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

 <a id="17655" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="17661" href="Varieties.Preservation.html#17661" class="Bound">p</a> <a id="17663" href="Varieties.Preservation.html#17663" class="Bound">q</a> <a id="17665" href="Varieties.Preservation.html#17665" class="Bound">Ïƒ</a> <a id="17667" class="Symbol">(</a> <a id="17669" href="Varieties.Closure.html#5672" class="InductiveConstructor">vssubw</a> <a id="17676" class="Symbol">{</a><a id="17677" href="Varieties.Preservation.html#17677" class="Bound">ğ‘¨</a><a id="17678" class="Symbol">}{</a><a id="17680" href="Varieties.Preservation.html#17680" class="Bound">ğ‘©</a><a id="17681" class="Symbol">}</a> <a id="17683" href="Varieties.Preservation.html#17683" class="Bound">VA</a> <a id="17686" href="Varieties.Preservation.html#17686" class="Bound">Bâ‰¤A</a> <a id="17690" class="Symbol">)</a> <a id="17692" class="Symbol">=</a>
  <a id="17696" href="Varieties.Properties.html#5453" class="Function">âŠ§-S-class-invar</a> <a id="17712" href="Varieties.Preservation.html#16705" class="Bound">wd</a> <a id="17715" href="Varieties.Preservation.html#17661" class="Bound">p</a> <a id="17717" href="Varieties.Preservation.html#17663" class="Bound">q</a> <a id="17719" href="Varieties.Preservation.html#17871" class="Function">goal</a> <a id="17724" class="Symbol">(</a><a id="17725" href="Varieties.Preservation.html#17680" class="Bound">ğ‘©</a> <a id="17727" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17729" href="Varieties.Preservation.html#17677" class="Bound">ğ‘¨</a> <a id="17731" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17733" class="Symbol">(</a><a id="17734" href="Varieties.Preservation.html#17680" class="Bound">ğ‘©</a> <a id="17736" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17738" href="Varieties.Preservation.html#17686" class="Bound">Bâ‰¤A</a><a id="17741" class="Symbol">)</a> <a id="17743" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17745" href="Varieties.Preservation.html#1116" class="InductiveConstructor">inr</a> <a id="17749" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17754" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17756" href="Homomorphisms.Isomorphisms.html#2816" class="Function">â‰…-refl</a><a id="17762" class="Symbol">)</a>
   <a id="17767" class="Keyword">where</a>
   <a id="17776" href="Varieties.Preservation.html#17776" class="Function">IH</a> <a id="17779" class="Symbol">:</a> <a id="17781" href="Varieties.Preservation.html#17677" class="Bound">ğ‘¨</a> <a id="17783" href="Varieties.EquationalLogic.html#2605" class="Function Operator">âŠ§</a> <a id="17785" href="Varieties.Preservation.html#17661" class="Bound">p</a> <a id="17787" href="Varieties.EquationalLogic.html#2605" class="Function Operator">â‰ˆ</a> <a id="17789" href="Varieties.Preservation.html#17663" class="Bound">q</a>
   <a id="17794" href="Varieties.Preservation.html#17776" class="Function">IH</a> <a id="17797" class="Symbol">=</a> <a id="17799" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="17805" href="Varieties.Preservation.html#17661" class="Bound">p</a> <a id="17807" href="Varieties.Preservation.html#17663" class="Bound">q</a> <a id="17809" href="Varieties.Preservation.html#17665" class="Bound">Ïƒ</a> <a id="17811" href="Varieties.Preservation.html#17683" class="Bound">VA</a>

   <a id="17818" href="Varieties.Preservation.html#17818" class="Function">Asinglepq</a> <a id="17828" class="Symbol">:</a> <a id="17830" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="17832" href="Varieties.Preservation.html#17677" class="Bound">ğ‘¨</a> <a id="17834" href="Relation.Unary.html#1335" class="Function Operator">ï½</a> <a id="17836" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="17838" href="Varieties.Preservation.html#17661" class="Bound">p</a> <a id="17840" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="17842" href="Varieties.Preservation.html#17663" class="Bound">q</a>
   <a id="17847" href="Varieties.Preservation.html#17818" class="Function">Asinglepq</a> <a id="17857" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17862" class="Symbol">=</a> <a id="17864" href="Varieties.Preservation.html#17776" class="Function">IH</a>

   <a id="17871" href="Varieties.Preservation.html#17871" class="Function">goal</a> <a id="17876" class="Symbol">:</a> <a id="17878" class="Symbol">(</a><a id="17879" href="Varieties.Preservation.html#16745" class="Bound">ğ’¦</a> <a id="17881" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="17883" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="17885" href="Varieties.Preservation.html#17677" class="Bound">ğ‘¨</a> <a id="17887" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="17888" class="Symbol">)</a> <a id="17890" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="17892" href="Varieties.Preservation.html#17661" class="Bound">p</a> <a id="17894" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="17896" href="Varieties.Preservation.html#17663" class="Bound">q</a>
   <a id="17901" href="Varieties.Preservation.html#17871" class="Function">goal</a> <a id="17906" class="Symbol">{</a><a id="17907" href="Varieties.Preservation.html#17907" class="Bound">ğ‘©</a><a id="17908" class="Symbol">}</a> <a id="17910" class="Symbol">(</a><a id="17911" href="Varieties.Preservation.html#1101" class="InductiveConstructor">inl</a> <a id="17915" href="Varieties.Preservation.html#17915" class="Bound">x</a><a id="17916" class="Symbol">)</a> <a id="17918" class="Symbol">=</a> <a id="17920" href="Varieties.Preservation.html#17665" class="Bound">Ïƒ</a> <a id="17922" href="Varieties.Preservation.html#17915" class="Bound">x</a>
   <a id="17927" href="Varieties.Preservation.html#17871" class="Function">goal</a> <a id="17932" class="Symbol">{</a><a id="17933" href="Varieties.Preservation.html#17933" class="Bound">ğ‘©</a><a id="17934" class="Symbol">}</a> <a id="17936" class="Symbol">(</a><a id="17937" href="Varieties.Preservation.html#1116" class="InductiveConstructor">inr</a> <a id="17941" href="Varieties.Preservation.html#17941" class="Bound">y</a><a id="17942" class="Symbol">)</a> <a id="17944" class="Symbol">=</a> <a id="17946" href="Varieties.Preservation.html#17818" class="Function">Asinglepq</a> <a id="17956" href="Varieties.Preservation.html#17941" class="Bound">y</a>

 <a id="17960" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="17966" href="Varieties.Preservation.html#17966" class="Bound">p</a> <a id="17968" href="Varieties.Preservation.html#17968" class="Bound">q</a> <a id="17970" href="Varieties.Preservation.html#17970" class="Bound">Ïƒ</a> <a id="17972" class="Symbol">(</a><a id="17973" href="Varieties.Closure.html#5736" class="InductiveConstructor">vprodu</a><a id="17979" class="Symbol">{</a><a id="17980" href="Varieties.Preservation.html#17980" class="Bound">I</a><a id="17981" class="Symbol">}{</a><a id="17983" href="Varieties.Preservation.html#17983" class="Bound">ğ’œ</a><a id="17984" class="Symbol">}</a> <a id="17986" href="Varieties.Preservation.html#17986" class="Bound">Vğ’œ</a><a id="17988" class="Symbol">)</a> <a id="17990" class="Symbol">=</a> <a id="17992" href="Varieties.Properties.html#6148" class="Function">âŠ§-P-invar</a> <a id="18002" href="Varieties.Preservation.html#16691" class="Bound">fe</a> <a id="18005" href="Varieties.Preservation.html#16705" class="Bound">wd</a> <a id="18008" href="Varieties.Preservation.html#17983" class="Bound">ğ’œ</a>  <a id="18011" href="Varieties.Preservation.html#17966" class="Bound">p</a> <a id="18013" href="Varieties.Preservation.html#17968" class="Bound">q</a> <a id="18015" class="Symbol">Î»</a> <a id="18017" href="Varieties.Preservation.html#18017" class="Bound">i</a> <a id="18019" class="Symbol">â†’</a> <a id="18021" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="18027" href="Varieties.Preservation.html#17966" class="Bound">p</a> <a id="18029" href="Varieties.Preservation.html#17968" class="Bound">q</a> <a id="18031" href="Varieties.Preservation.html#17970" class="Bound">Ïƒ</a> <a id="18033" class="Symbol">(</a><a id="18034" href="Varieties.Preservation.html#17986" class="Bound">Vğ’œ</a> <a id="18037" href="Varieties.Preservation.html#18017" class="Bound">i</a><a id="18038" class="Symbol">)</a>
 <a id="18041" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="18047" href="Varieties.Preservation.html#18047" class="Bound">p</a> <a id="18049" href="Varieties.Preservation.html#18049" class="Bound">q</a> <a id="18051" href="Varieties.Preservation.html#18051" class="Bound">Ïƒ</a> <a id="18053" class="Symbol">(</a><a id="18054" href="Varieties.Closure.html#5820" class="InductiveConstructor">vprodw</a><a id="18060" class="Symbol">{</a><a id="18061" href="Varieties.Preservation.html#18061" class="Bound">I</a><a id="18062" class="Symbol">}{</a><a id="18064" href="Varieties.Preservation.html#18064" class="Bound">ğ’œ</a><a id="18065" class="Symbol">}</a> <a id="18067" href="Varieties.Preservation.html#18067" class="Bound">Vğ’œ</a><a id="18069" class="Symbol">)</a> <a id="18071" class="Symbol">=</a> <a id="18073" href="Varieties.Properties.html#6148" class="Function">âŠ§-P-invar</a> <a id="18083" href="Varieties.Preservation.html#16691" class="Bound">fe</a> <a id="18086" href="Varieties.Preservation.html#16705" class="Bound">wd</a> <a id="18089" href="Varieties.Preservation.html#18064" class="Bound">ğ’œ</a>  <a id="18092" href="Varieties.Preservation.html#18047" class="Bound">p</a> <a id="18094" href="Varieties.Preservation.html#18049" class="Bound">q</a> <a id="18096" class="Symbol">Î»</a> <a id="18098" href="Varieties.Preservation.html#18098" class="Bound">i</a> <a id="18100" class="Symbol">â†’</a> <a id="18102" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="18108" href="Varieties.Preservation.html#18047" class="Bound">p</a> <a id="18110" href="Varieties.Preservation.html#18049" class="Bound">q</a> <a id="18112" href="Varieties.Preservation.html#18051" class="Bound">Ïƒ</a> <a id="18114" class="Symbol">(</a><a id="18115" href="Varieties.Preservation.html#18067" class="Bound">Vğ’œ</a> <a id="18118" href="Varieties.Preservation.html#18098" class="Bound">i</a><a id="18119" class="Symbol">)</a>
 <a id="18122" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="18128" href="Varieties.Preservation.html#18128" class="Bound">p</a> <a id="18130" href="Varieties.Preservation.html#18130" class="Bound">q</a> <a id="18132" href="Varieties.Preservation.html#18132" class="Bound">Ïƒ</a> <a id="18134" class="Symbol">(</a><a id="18135" href="Varieties.Closure.html#5904" class="InductiveConstructor">visou</a><a id="18140" class="Symbol">{</a><a id="18141" href="Varieties.Preservation.html#18141" class="Bound">ğ‘¨</a><a id="18142" class="Symbol">}{</a><a id="18144" href="Varieties.Preservation.html#18144" class="Bound">ğ‘©</a><a id="18145" class="Symbol">}</a> <a id="18147" href="Varieties.Preservation.html#18147" class="Bound">VA</a> <a id="18150" href="Varieties.Preservation.html#18150" class="Bound">Aâ‰…B</a><a id="18153" class="Symbol">)</a> <a id="18155" class="Symbol">=</a> <a id="18157" href="Varieties.Properties.html#3225" class="Function">âŠ§-I-invar</a> <a id="18167" href="Varieties.Preservation.html#16705" class="Bound">wd</a> <a id="18170" href="Varieties.Preservation.html#18144" class="Bound">ğ‘©</a> <a id="18172" href="Varieties.Preservation.html#18128" class="Bound">p</a> <a id="18174" href="Varieties.Preservation.html#18130" class="Bound">q</a> <a id="18176" class="Symbol">(</a><a id="18177" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="18183" href="Varieties.Preservation.html#18128" class="Bound">p</a> <a id="18185" href="Varieties.Preservation.html#18130" class="Bound">q</a> <a id="18187" href="Varieties.Preservation.html#18132" class="Bound">Ïƒ</a> <a id="18189" href="Varieties.Preservation.html#18147" class="Bound">VA</a><a id="18191" class="Symbol">)</a> <a id="18193" href="Varieties.Preservation.html#18150" class="Bound">Aâ‰…B</a>
 <a id="18198" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="18204" href="Varieties.Preservation.html#18204" class="Bound">p</a> <a id="18206" href="Varieties.Preservation.html#18206" class="Bound">q</a> <a id="18208" href="Varieties.Preservation.html#18208" class="Bound">Ïƒ</a> <a id="18210" class="Symbol">(</a><a id="18211" href="Varieties.Closure.html#5983" class="InductiveConstructor">visow</a><a id="18216" class="Symbol">{</a><a id="18217" href="Varieties.Preservation.html#18217" class="Bound">ğ‘¨</a><a id="18218" class="Symbol">}{</a><a id="18220" href="Varieties.Preservation.html#18220" class="Bound">ğ‘©</a><a id="18221" class="Symbol">}</a> <a id="18223" href="Varieties.Preservation.html#18223" class="Bound">VA</a> <a id="18226" href="Varieties.Preservation.html#18226" class="Bound">Aâ‰…B</a><a id="18229" class="Symbol">)</a> <a id="18231" class="Symbol">=</a> <a id="18233" href="Varieties.Properties.html#3225" class="Function">âŠ§-I-invar</a> <a id="18243" href="Varieties.Preservation.html#16705" class="Bound">wd</a> <a id="18246" href="Varieties.Preservation.html#18220" class="Bound">ğ‘©</a> <a id="18248" href="Varieties.Preservation.html#18204" class="Bound">p</a> <a id="18250" href="Varieties.Preservation.html#18206" class="Bound">q</a> <a id="18252" class="Symbol">(</a><a id="18253" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="18259" href="Varieties.Preservation.html#18204" class="Bound">p</a> <a id="18261" href="Varieties.Preservation.html#18206" class="Bound">q</a> <a id="18263" href="Varieties.Preservation.html#18208" class="Bound">Ïƒ</a> <a id="18265" href="Varieties.Preservation.html#18223" class="Bound">VA</a><a id="18267" class="Symbol">)</a> <a id="18269" href="Varieties.Preservation.html#18226" class="Bound">Aâ‰…B</a>

<a id="18274" class="Keyword">module</a> <a id="Vid&#39;"></a><a id="18281" href="Varieties.Preservation.html#18281" class="Module">Vid&#39;</a> <a id="18286" class="Symbol">(</a><a id="18287" href="Varieties.Preservation.html#18287" class="Bound">fe</a> <a id="18290" class="Symbol">:</a> <a id="18292" href="Foundations.Extensionality.html#2463" class="Function">DFunExt</a><a id="18299" class="Symbol">)(</a><a id="18301" href="Varieties.Preservation.html#18301" class="Bound">wd</a> <a id="18304" class="Symbol">:</a> <a id="18306" href="Foundations.Welldefined.html#2946" class="Function">SwellDef</a><a id="18314" class="Symbol">){</a><a id="18316" href="Varieties.Preservation.html#18316" class="Bound">ğ“§</a> <a id="18318" class="Symbol">:</a> <a id="18320" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="18325" class="Symbol">}</a> <a id="18327" class="Symbol">{</a><a id="18328" href="Varieties.Preservation.html#18328" class="Bound">X</a> <a id="18330" class="Symbol">:</a> <a id="18332" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="18337" href="Varieties.Preservation.html#18316" class="Bound">ğ“§</a><a id="18338" class="Symbol">}</a> <a id="18340" class="Symbol">{</a><a id="18341" href="Varieties.Preservation.html#18341" class="Bound">ğ’¦</a> <a id="18343" class="Symbol">:</a> <a id="18345" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="18350" class="Symbol">(</a><a id="18351" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="18359" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="18361" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="18362" class="Symbol">)(</a><a id="18364" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="18367" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="18368" class="Symbol">)}</a> <a id="18371" class="Keyword">where</a>

 <a id="18379" class="Keyword">open</a> <a id="18384" href="Varieties.Preservation.html#16686" class="Module">Vid</a> <a id="18388" href="Varieties.Preservation.html#18287" class="Bound">fe</a> <a id="18391" href="Varieties.Preservation.html#18301" class="Bound">wd</a> <a id="18394" class="Symbol">{</a><a id="18395" href="Varieties.Preservation.html#18316" class="Bound">ğ“§</a><a id="18396" class="Symbol">}{</a><a id="18398" href="Varieties.Preservation.html#18328" class="Bound">X</a><a id="18399" class="Symbol">}{</a><a id="18401" href="Varieties.Preservation.html#18341" class="Bound">ğ’¦</a><a id="18402" class="Symbol">}</a> <a id="18404" class="Keyword">public</a>
 <a id="Vid&#39;.V-id1&#39;"></a><a id="18412" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="18419" class="Symbol">:</a> <a id="18421" class="Symbol">(</a><a id="18422" href="Varieties.Preservation.html#18422" class="Bound">p</a> <a id="18424" href="Varieties.Preservation.html#18424" class="Bound">q</a> <a id="18426" class="Symbol">:</a> <a id="18428" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="18433" href="Varieties.Preservation.html#18328" class="Bound">X</a><a id="18434" class="Symbol">)</a> <a id="18436" class="Symbol">â†’</a> <a id="18438" href="Varieties.Preservation.html#18341" class="Bound">ğ’¦</a> <a id="18440" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="18442" href="Varieties.Preservation.html#18422" class="Bound">p</a> <a id="18444" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="18446" href="Varieties.Preservation.html#18424" class="Bound">q</a> <a id="18448" class="Symbol">â†’</a> <a id="18450" href="Varieties.Closure.html#5309" class="Datatype">V</a><a id="18451" class="Symbol">{</a><a id="18452" class="Argument">Î²</a> <a id="18454" class="Symbol">=</a> <a id="18456" href="Varieties.Preservation.html#3236" class="Generalizable">Î²</a><a id="18457" class="Symbol">}</a> <a id="18459" href="Varieties.Preservation.html#18341" class="Bound">ğ’¦</a> <a id="18461" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="18463" href="Varieties.Preservation.html#18422" class="Bound">p</a> <a id="18465" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="18467" href="Varieties.Preservation.html#18424" class="Bound">q</a>
 <a id="18470" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="18477" href="Varieties.Preservation.html#18477" class="Bound">p</a> <a id="18479" href="Varieties.Preservation.html#18479" class="Bound">q</a> <a id="18481" href="Varieties.Preservation.html#18481" class="Bound">Ïƒ</a> <a id="18483" class="Symbol">(</a><a id="18484" href="Varieties.Closure.html#5397" class="InductiveConstructor">vbase</a> <a id="18490" href="Varieties.Preservation.html#18490" class="Bound">x</a><a id="18491" class="Symbol">)</a> <a id="18493" class="Symbol">=</a> <a id="18495" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="18508" href="Varieties.Preservation.html#18301" class="Bound">wd</a> <a id="18511" href="Varieties.Preservation.html#18477" class="Bound">p</a> <a id="18513" href="Varieties.Preservation.html#18479" class="Bound">q</a> <a id="18515" class="Symbol">(</a><a id="18516" href="Varieties.Preservation.html#18481" class="Bound">Ïƒ</a> <a id="18518" href="Varieties.Preservation.html#18490" class="Bound">x</a><a id="18519" class="Symbol">)</a>
 <a id="18522" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="18529" href="Varieties.Preservation.html#18529" class="Bound">p</a> <a id="18531" href="Varieties.Preservation.html#18531" class="Bound">q</a> <a id="18533" href="Varieties.Preservation.html#18533" class="Bound">Ïƒ</a> <a id="18535" class="Symbol">(</a><a id="18536" href="Varieties.Closure.html#5454" class="InductiveConstructor">vlift</a><a id="18541" class="Symbol">{</a><a id="18542" href="Varieties.Preservation.html#18542" class="Bound">ğ‘¨</a><a id="18543" class="Symbol">}</a> <a id="18545" href="Varieties.Preservation.html#18545" class="Bound">x</a><a id="18546" class="Symbol">)</a> <a id="18548" class="Symbol">=</a> <a id="18550" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="18563" href="Varieties.Preservation.html#18301" class="Bound">wd</a> <a id="18566" href="Varieties.Preservation.html#18529" class="Bound">p</a> <a id="18568" href="Varieties.Preservation.html#18531" class="Bound">q</a> <a id="18570" class="Symbol">((</a><a id="18572" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="18578" href="Varieties.Preservation.html#18529" class="Bound">p</a> <a id="18580" href="Varieties.Preservation.html#18531" class="Bound">q</a> <a id="18582" href="Varieties.Preservation.html#18533" class="Bound">Ïƒ</a><a id="18583" class="Symbol">)</a> <a id="18585" href="Varieties.Preservation.html#18545" class="Bound">x</a><a id="18586" class="Symbol">)</a>
 <a id="18589" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="18596" href="Varieties.Preservation.html#18596" class="Bound">p</a> <a id="18598" href="Varieties.Preservation.html#18598" class="Bound">q</a> <a id="18600" href="Varieties.Preservation.html#18600" class="Bound">Ïƒ</a> <a id="18602" class="Symbol">(</a><a id="18603" href="Varieties.Closure.html#5519" class="InductiveConstructor">vliftw</a><a id="18609" class="Symbol">{</a><a id="18610" href="Varieties.Preservation.html#18610" class="Bound">ğ‘¨</a><a id="18611" class="Symbol">}</a> <a id="18613" href="Varieties.Preservation.html#18613" class="Bound">x</a><a id="18614" class="Symbol">)</a> <a id="18616" class="Symbol">=</a> <a id="18618" href="Varieties.Properties.html#4167" class="Function">âŠ§-Lift-invar</a> <a id="18631" href="Varieties.Preservation.html#18301" class="Bound">wd</a> <a id="18634" href="Varieties.Preservation.html#18596" class="Bound">p</a> <a id="18636" href="Varieties.Preservation.html#18598" class="Bound">q</a> <a id="18638" class="Symbol">((</a><a id="18640" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="18647" href="Varieties.Preservation.html#18596" class="Bound">p</a> <a id="18649" href="Varieties.Preservation.html#18598" class="Bound">q</a> <a id="18651" href="Varieties.Preservation.html#18600" class="Bound">Ïƒ</a><a id="18652" class="Symbol">)</a> <a id="18654" href="Varieties.Preservation.html#18613" class="Bound">x</a><a id="18655" class="Symbol">)</a>
 <a id="18658" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="18665" href="Varieties.Preservation.html#18665" class="Bound">p</a> <a id="18667" href="Varieties.Preservation.html#18667" class="Bound">q</a> <a id="18669" href="Varieties.Preservation.html#18669" class="Bound">Ïƒ</a> <a id="18671" class="Symbol">(</a><a id="18672" href="Varieties.Closure.html#5590" class="InductiveConstructor">vhimg</a><a id="18677" class="Symbol">{</a><a id="18678" href="Varieties.Preservation.html#18678" class="Bound">ğ‘¨</a><a id="18679" class="Symbol">}{</a><a id="18681" href="Varieties.Preservation.html#18681" class="Bound">ğ‘ª</a><a id="18682" class="Symbol">}</a> <a id="18684" href="Varieties.Preservation.html#18684" class="Bound">VA</a> <a id="18687" class="Symbol">(</a><a id="18688" href="Varieties.Preservation.html#18688" class="Bound">ğ‘©</a> <a id="18690" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18692" class="Symbol">((</a><a id="18694" href="Varieties.Preservation.html#18694" class="Bound">Ï†</a> <a id="18696" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18698" href="Varieties.Preservation.html#18698" class="Bound">Ï†h</a><a id="18700" class="Symbol">)</a> <a id="18702" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18704" href="Varieties.Preservation.html#18704" class="Bound">Ï†E</a><a id="18706" class="Symbol">)))</a> <a id="18710" href="Varieties.Preservation.html#18710" class="Bound">b</a> <a id="18712" class="Symbol">=</a> <a id="18714" href="Varieties.Preservation.html#18881" class="Function">goal</a>
  <a id="18721" class="Keyword">where</a>
  <a id="18729" href="Varieties.Preservation.html#18729" class="Function">IH</a> <a id="18732" class="Symbol">:</a> <a id="18734" href="Varieties.Preservation.html#18678" class="Bound">ğ‘¨</a> <a id="18736" href="Varieties.EquationalLogic.html#2605" class="Function Operator">âŠ§</a> <a id="18738" href="Varieties.Preservation.html#18665" class="Bound">p</a> <a id="18740" href="Varieties.EquationalLogic.html#2605" class="Function Operator">â‰ˆ</a> <a id="18742" href="Varieties.Preservation.html#18667" class="Bound">q</a>
  <a id="18746" href="Varieties.Preservation.html#18729" class="Function">IH</a> <a id="18749" class="Symbol">=</a> <a id="18751" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="18758" href="Varieties.Preservation.html#18665" class="Bound">p</a> <a id="18760" href="Varieties.Preservation.html#18667" class="Bound">q</a> <a id="18762" href="Varieties.Preservation.html#18669" class="Bound">Ïƒ</a> <a id="18764" href="Varieties.Preservation.html#18684" class="Bound">VA</a>

  <a id="18770" href="Varieties.Preservation.html#18770" class="Function">preim</a> <a id="18776" class="Symbol">:</a> <a id="18778" href="Varieties.Preservation.html#18328" class="Bound">X</a> <a id="18780" class="Symbol">â†’</a> <a id="18782" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="18784" href="Varieties.Preservation.html#18678" class="Bound">ğ‘¨</a> <a id="18786" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a>
  <a id="18790" href="Varieties.Preservation.html#18770" class="Function">preim</a> <a id="18796" href="Varieties.Preservation.html#18796" class="Bound">x</a> <a id="18798" class="Symbol">=</a> <a id="18800" href="Overture.Inverses.html#1860" class="Function">Inv</a> <a id="18804" href="Varieties.Preservation.html#18694" class="Bound">Ï†</a> <a id="18806" class="Symbol">(</a><a id="18807" href="Varieties.Preservation.html#18704" class="Bound">Ï†E</a> <a id="18810" class="Symbol">(</a><a id="18811" href="Varieties.Preservation.html#18710" class="Bound">b</a> <a id="18813" href="Varieties.Preservation.html#18796" class="Bound">x</a><a id="18814" class="Symbol">))</a>

  <a id="18820" href="Varieties.Preservation.html#18820" class="Function">Î¶</a> <a id="18822" class="Symbol">:</a> <a id="18824" class="Symbol">âˆ€</a> <a id="18826" href="Varieties.Preservation.html#18826" class="Bound">x</a> <a id="18828" class="Symbol">â†’</a> <a id="18830" href="Varieties.Preservation.html#18694" class="Bound">Ï†</a> <a id="18832" class="Symbol">(</a><a id="18833" href="Varieties.Preservation.html#18770" class="Function">preim</a> <a id="18839" href="Varieties.Preservation.html#18826" class="Bound">x</a><a id="18840" class="Symbol">)</a> <a id="18842" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="18844" href="Varieties.Preservation.html#18710" class="Bound">b</a> <a id="18846" href="Varieties.Preservation.html#18826" class="Bound">x</a>
  <a id="18850" href="Varieties.Preservation.html#18820" class="Function">Î¶</a> <a id="18852" href="Varieties.Preservation.html#18852" class="Bound">x</a> <a id="18854" class="Symbol">=</a> <a id="18856" href="Overture.Inverses.html#2023" class="Function">InvIsInv</a> <a id="18865" href="Varieties.Preservation.html#18694" class="Bound">Ï†</a> <a id="18867" class="Symbol">(</a><a id="18868" href="Varieties.Preservation.html#18704" class="Bound">Ï†E</a> <a id="18871" class="Symbol">(</a><a id="18872" href="Varieties.Preservation.html#18710" class="Bound">b</a> <a id="18874" href="Varieties.Preservation.html#18852" class="Bound">x</a><a id="18875" class="Symbol">))</a>

  <a id="18881" href="Varieties.Preservation.html#18881" class="Function">goal</a> <a id="18886" class="Symbol">:</a> <a id="18888" class="Symbol">(</a><a id="18889" href="Varieties.Preservation.html#18688" class="Bound">ğ‘©</a> <a id="18891" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="18893" href="Varieties.Preservation.html#18665" class="Bound">p</a> <a id="18895" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="18896" class="Symbol">)</a> <a id="18898" href="Varieties.Preservation.html#18710" class="Bound">b</a> <a id="18900" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="18902" class="Symbol">(</a><a id="18903" href="Varieties.Preservation.html#18688" class="Bound">ğ‘©</a> <a id="18905" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="18907" href="Varieties.Preservation.html#18667" class="Bound">q</a> <a id="18909" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="18910" class="Symbol">)</a> <a id="18912" href="Varieties.Preservation.html#18710" class="Bound">b</a>
  <a id="18916" href="Varieties.Preservation.html#18881" class="Function">goal</a> <a id="18921" class="Symbol">=</a> <a id="18923" class="Symbol">(</a><a id="18924" href="Varieties.Preservation.html#18688" class="Bound">ğ‘©</a> <a id="18926" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="18928" href="Varieties.Preservation.html#18665" class="Bound">p</a> <a id="18930" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="18931" class="Symbol">)</a> <a id="18933" href="Varieties.Preservation.html#18710" class="Bound">b</a>          <a id="18944" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="18947" href="Varieties.Preservation.html#18301" class="Bound">wd</a> <a id="18950" href="Varieties.Preservation.html#18316" class="Bound">ğ“§</a> <a id="18952" class="Symbol">_</a> <a id="18954" class="Symbol">(</a><a id="18955" href="Varieties.Preservation.html#18688" class="Bound">ğ‘©</a> <a id="18957" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="18959" href="Varieties.Preservation.html#18665" class="Bound">p</a> <a id="18961" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="18962" class="Symbol">)</a> <a id="18964" href="Varieties.Preservation.html#18710" class="Bound">b</a> <a id="18966" class="Symbol">(</a><a id="18967" href="Varieties.Preservation.html#18694" class="Bound">Ï†</a> <a id="18969" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="18971" href="Varieties.Preservation.html#18770" class="Function">preim</a> <a id="18977" class="Symbol">)(Î»</a> <a id="18981" href="Varieties.Preservation.html#18981" class="Bound">i</a> <a id="18983" class="Symbol">â†’</a> <a id="18985" class="Symbol">(</a><a id="18986" href="Varieties.Preservation.html#18820" class="Function">Î¶</a> <a id="18988" href="Varieties.Preservation.html#18981" class="Bound">i</a><a id="18989" class="Symbol">)</a><a id="18990" href="Overture.Preliminaries.html#5228" class="Function Operator">â»Â¹</a><a id="18992" class="Symbol">)</a><a id="18993" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19001" class="Symbol">(</a><a id="19002" href="Varieties.Preservation.html#18688" class="Bound">ğ‘©</a> <a id="19004" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="19006" href="Varieties.Preservation.html#18665" class="Bound">p</a> <a id="19008" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="19009" class="Symbol">)(</a><a id="19011" href="Varieties.Preservation.html#18694" class="Bound">Ï†</a> <a id="19013" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19015" href="Varieties.Preservation.html#18770" class="Function">preim</a><a id="19020" class="Symbol">)</a> <a id="19022" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="19024" class="Symbol">(</a><a id="19025" href="Terms.Operations.html#6579" class="Function">comm-hom-term</a> <a id="19039" class="Symbol">(</a><a id="19040" href="Varieties.Preservation.html#18301" class="Bound">wd</a> <a id="19043" href="Varieties.Preservation.html#626" class="Bound">ğ“¥</a> <a id="19045" class="Symbol">_)</a> <a id="19048" href="Varieties.Preservation.html#18688" class="Bound">ğ‘©</a> <a id="19050" class="Symbol">(</a><a id="19051" href="Varieties.Preservation.html#18694" class="Bound">Ï†</a> <a id="19053" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19055" href="Varieties.Preservation.html#18698" class="Bound">Ï†h</a><a id="19057" class="Symbol">)</a> <a id="19059" href="Varieties.Preservation.html#18665" class="Bound">p</a> <a id="19061" href="Varieties.Preservation.html#18770" class="Function">preim</a><a id="19066" class="Symbol">)</a><a id="19067" href="Overture.Preliminaries.html#5228" class="Function Operator">â»Â¹</a> <a id="19070" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19078" href="Varieties.Preservation.html#18694" class="Bound">Ï†</a><a id="19079" class="Symbol">((</a><a id="19081" href="Varieties.Preservation.html#18678" class="Bound">ğ‘¨</a> <a id="19083" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="19085" href="Varieties.Preservation.html#18665" class="Bound">p</a> <a id="19087" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="19088" class="Symbol">)</a> <a id="19090" href="Varieties.Preservation.html#18770" class="Function">preim</a><a id="19095" class="Symbol">)</a>   <a id="19099" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19102" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="19107" href="Varieties.Preservation.html#18694" class="Bound">Ï†</a> <a id="19109" class="Symbol">(</a><a id="19110" href="Varieties.Preservation.html#18729" class="Function">IH</a> <a id="19113" href="Varieties.Preservation.html#18770" class="Function">preim</a><a id="19118" class="Symbol">)</a> <a id="19120" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19128" href="Varieties.Preservation.html#18694" class="Bound">Ï†</a><a id="19129" class="Symbol">((</a><a id="19131" href="Varieties.Preservation.html#18678" class="Bound">ğ‘¨</a> <a id="19133" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="19135" href="Varieties.Preservation.html#18667" class="Bound">q</a> <a id="19137" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="19138" class="Symbol">)</a> <a id="19140" href="Varieties.Preservation.html#18770" class="Function">preim</a><a id="19145" class="Symbol">)</a>   <a id="19149" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19152" href="Terms.Operations.html#6579" class="Function">comm-hom-term</a> <a id="19166" class="Symbol">(</a><a id="19167" href="Varieties.Preservation.html#18301" class="Bound">wd</a> <a id="19170" href="Varieties.Preservation.html#626" class="Bound">ğ“¥</a> <a id="19172" class="Symbol">_)</a> <a id="19175" href="Varieties.Preservation.html#18688" class="Bound">ğ‘©</a> <a id="19177" class="Symbol">(</a><a id="19178" href="Varieties.Preservation.html#18694" class="Bound">Ï†</a> <a id="19180" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19182" href="Varieties.Preservation.html#18698" class="Bound">Ï†h</a><a id="19184" class="Symbol">)</a> <a id="19186" href="Varieties.Preservation.html#18667" class="Bound">q</a> <a id="19188" href="Varieties.Preservation.html#18770" class="Function">preim</a> <a id="19194" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19202" class="Symbol">(</a><a id="19203" href="Varieties.Preservation.html#18688" class="Bound">ğ‘©</a> <a id="19205" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="19207" href="Varieties.Preservation.html#18667" class="Bound">q</a> <a id="19209" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="19210" class="Symbol">)(</a><a id="19212" href="Varieties.Preservation.html#18694" class="Bound">Ï†</a> <a id="19214" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19216" href="Varieties.Preservation.html#18770" class="Function">preim</a><a id="19221" class="Symbol">)</a> <a id="19223" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19226" href="Varieties.Preservation.html#18301" class="Bound">wd</a> <a id="19229" href="Varieties.Preservation.html#18316" class="Bound">ğ“§</a> <a id="19231" class="Symbol">_</a> <a id="19233" class="Symbol">(</a><a id="19234" href="Varieties.Preservation.html#18688" class="Bound">ğ‘©</a> <a id="19236" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="19238" href="Varieties.Preservation.html#18667" class="Bound">q</a> <a id="19240" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="19241" class="Symbol">)(</a><a id="19243" href="Varieties.Preservation.html#18694" class="Bound">Ï†</a> <a id="19245" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19247" href="Varieties.Preservation.html#18770" class="Function">preim</a><a id="19252" class="Symbol">)</a> <a id="19254" href="Varieties.Preservation.html#18710" class="Bound">b</a> <a id="19256" href="Varieties.Preservation.html#18820" class="Function">Î¶</a> <a id="19258" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19266" class="Symbol">(</a><a id="19267" href="Varieties.Preservation.html#18688" class="Bound">ğ‘©</a> <a id="19269" href="Terms.Operations.html#2574" class="Function Operator">âŸ¦</a> <a id="19271" href="Varieties.Preservation.html#18667" class="Bound">q</a> <a id="19273" href="Terms.Operations.html#2574" class="Function Operator">âŸ§</a><a id="19274" class="Symbol">)</a> <a id="19276" href="Varieties.Preservation.html#18710" class="Bound">b</a>          <a id="19287" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

 <a id="19291" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="19298" href="Varieties.Preservation.html#19298" class="Bound">p</a> <a id="19300" href="Varieties.Preservation.html#19300" class="Bound">q</a> <a id="19302" href="Varieties.Preservation.html#19302" class="Bound">Ïƒ</a> <a id="19304" class="Symbol">(</a><a id="19305" href="Varieties.Closure.html#5672" class="InductiveConstructor">vssubw</a> <a id="19312" class="Symbol">{</a><a id="19313" href="Varieties.Preservation.html#19313" class="Bound">ğ‘¨</a><a id="19314" class="Symbol">}{</a><a id="19316" href="Varieties.Preservation.html#19316" class="Bound">ğ‘©</a><a id="19317" class="Symbol">}</a> <a id="19319" href="Varieties.Preservation.html#19319" class="Bound">VA</a> <a id="19322" href="Varieties.Preservation.html#19322" class="Bound">Bâ‰¤A</a><a id="19325" class="Symbol">)</a> <a id="19327" class="Symbol">=</a> <a id="19329" href="Varieties.Properties.html#4726" class="Function">âŠ§-S-invar</a> <a id="19339" href="Varieties.Preservation.html#18301" class="Bound">wd</a> <a id="19342" href="Varieties.Preservation.html#19316" class="Bound">ğ‘©</a> <a id="19344" class="Symbol">{</a><a id="19345" href="Varieties.Preservation.html#19298" class="Bound">p</a><a id="19346" class="Symbol">}{</a><a id="19348" href="Varieties.Preservation.html#19300" class="Bound">q</a><a id="19349" class="Symbol">}(</a><a id="19351" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="19358" href="Varieties.Preservation.html#19298" class="Bound">p</a> <a id="19360" href="Varieties.Preservation.html#19300" class="Bound">q</a> <a id="19362" href="Varieties.Preservation.html#19302" class="Bound">Ïƒ</a> <a id="19364" href="Varieties.Preservation.html#19319" class="Bound">VA</a><a id="19366" class="Symbol">)</a> <a id="19368" href="Varieties.Preservation.html#19322" class="Bound">Bâ‰¤A</a>
 <a id="19373" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="19380" href="Varieties.Preservation.html#19380" class="Bound">p</a> <a id="19382" href="Varieties.Preservation.html#19382" class="Bound">q</a> <a id="19384" href="Varieties.Preservation.html#19384" class="Bound">Ïƒ</a> <a id="19386" class="Symbol">(</a><a id="19387" href="Varieties.Closure.html#5736" class="InductiveConstructor">vprodu</a><a id="19393" class="Symbol">{</a><a id="19394" href="Varieties.Preservation.html#19394" class="Bound">I</a><a id="19395" class="Symbol">}{</a><a id="19397" href="Varieties.Preservation.html#19397" class="Bound">ğ’œ</a><a id="19398" class="Symbol">}</a> <a id="19400" href="Varieties.Preservation.html#19400" class="Bound">Vğ’œ</a><a id="19402" class="Symbol">)</a> <a id="19404" class="Symbol">=</a> <a id="19406" href="Varieties.Properties.html#6148" class="Function">âŠ§-P-invar</a> <a id="19416" href="Varieties.Preservation.html#18287" class="Bound">fe</a> <a id="19419" href="Varieties.Preservation.html#18301" class="Bound">wd</a> <a id="19422" href="Varieties.Preservation.html#19397" class="Bound">ğ’œ</a>  <a id="19425" href="Varieties.Preservation.html#19380" class="Bound">p</a> <a id="19427" href="Varieties.Preservation.html#19382" class="Bound">q</a> <a id="19429" class="Symbol">Î»</a> <a id="19431" href="Varieties.Preservation.html#19431" class="Bound">i</a> <a id="19433" class="Symbol">â†’</a> <a id="19435" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="19441" href="Varieties.Preservation.html#19380" class="Bound">p</a> <a id="19443" href="Varieties.Preservation.html#19382" class="Bound">q</a> <a id="19445" href="Varieties.Preservation.html#19384" class="Bound">Ïƒ</a> <a id="19447" class="Symbol">(</a><a id="19448" href="Varieties.Preservation.html#19400" class="Bound">Vğ’œ</a> <a id="19451" href="Varieties.Preservation.html#19431" class="Bound">i</a><a id="19452" class="Symbol">)</a>
 <a id="19455" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="19462" href="Varieties.Preservation.html#19462" class="Bound">p</a> <a id="19464" href="Varieties.Preservation.html#19464" class="Bound">q</a> <a id="19466" href="Varieties.Preservation.html#19466" class="Bound">Ïƒ</a> <a id="19468" class="Symbol">(</a><a id="19469" href="Varieties.Closure.html#5820" class="InductiveConstructor">vprodw</a><a id="19475" class="Symbol">{</a><a id="19476" href="Varieties.Preservation.html#19476" class="Bound">I</a><a id="19477" class="Symbol">}{</a><a id="19479" href="Varieties.Preservation.html#19479" class="Bound">ğ’œ</a><a id="19480" class="Symbol">}</a> <a id="19482" href="Varieties.Preservation.html#19482" class="Bound">Vğ’œ</a><a id="19484" class="Symbol">)</a> <a id="19486" class="Symbol">=</a> <a id="19488" href="Varieties.Properties.html#6148" class="Function">âŠ§-P-invar</a> <a id="19498" href="Varieties.Preservation.html#18287" class="Bound">fe</a> <a id="19501" href="Varieties.Preservation.html#18301" class="Bound">wd</a> <a id="19504" href="Varieties.Preservation.html#19479" class="Bound">ğ’œ</a>  <a id="19507" href="Varieties.Preservation.html#19462" class="Bound">p</a> <a id="19509" href="Varieties.Preservation.html#19464" class="Bound">q</a> <a id="19511" class="Symbol">Î»</a> <a id="19513" href="Varieties.Preservation.html#19513" class="Bound">i</a> <a id="19515" class="Symbol">â†’</a> <a id="19517" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="19524" href="Varieties.Preservation.html#19462" class="Bound">p</a> <a id="19526" href="Varieties.Preservation.html#19464" class="Bound">q</a> <a id="19528" href="Varieties.Preservation.html#19466" class="Bound">Ïƒ</a> <a id="19530" class="Symbol">(</a><a id="19531" href="Varieties.Preservation.html#19482" class="Bound">Vğ’œ</a> <a id="19534" href="Varieties.Preservation.html#19513" class="Bound">i</a><a id="19535" class="Symbol">)</a>
 <a id="19538" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="19545" href="Varieties.Preservation.html#19545" class="Bound">p</a> <a id="19547" href="Varieties.Preservation.html#19547" class="Bound">q</a> <a id="19549" href="Varieties.Preservation.html#19549" class="Bound">Ïƒ</a> <a id="19551" class="Symbol">(</a><a id="19552" href="Varieties.Closure.html#5904" class="InductiveConstructor">visou</a> <a id="19558" class="Symbol">{</a><a id="19559" href="Varieties.Preservation.html#19559" class="Bound">ğ‘¨</a><a id="19560" class="Symbol">}{</a><a id="19562" href="Varieties.Preservation.html#19562" class="Bound">ğ‘©</a><a id="19563" class="Symbol">}</a> <a id="19565" href="Varieties.Preservation.html#19565" class="Bound">VA</a> <a id="19568" href="Varieties.Preservation.html#19568" class="Bound">Aâ‰…B</a><a id="19571" class="Symbol">)</a> <a id="19573" class="Symbol">=</a> <a id="19575" href="Varieties.Properties.html#3225" class="Function">âŠ§-I-invar</a> <a id="19585" href="Varieties.Preservation.html#18301" class="Bound">wd</a> <a id="19588" href="Varieties.Preservation.html#19562" class="Bound">ğ‘©</a> <a id="19590" href="Varieties.Preservation.html#19545" class="Bound">p</a> <a id="19592" href="Varieties.Preservation.html#19547" class="Bound">q</a> <a id="19594" class="Symbol">(</a><a id="19595" href="Varieties.Preservation.html#16783" class="Function">V-id1</a> <a id="19601" href="Varieties.Preservation.html#19545" class="Bound">p</a> <a id="19603" href="Varieties.Preservation.html#19547" class="Bound">q</a> <a id="19605" href="Varieties.Preservation.html#19549" class="Bound">Ïƒ</a> <a id="19607" href="Varieties.Preservation.html#19565" class="Bound">VA</a><a id="19609" class="Symbol">)</a> <a id="19611" href="Varieties.Preservation.html#19568" class="Bound">Aâ‰…B</a>
 <a id="19616" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="19623" href="Varieties.Preservation.html#19623" class="Bound">p</a> <a id="19625" href="Varieties.Preservation.html#19625" class="Bound">q</a> <a id="19627" href="Varieties.Preservation.html#19627" class="Bound">Ïƒ</a> <a id="19629" class="Symbol">(</a><a id="19630" href="Varieties.Closure.html#5983" class="InductiveConstructor">visow</a><a id="19635" class="Symbol">{</a><a id="19636" href="Varieties.Preservation.html#19636" class="Bound">ğ‘¨</a><a id="19637" class="Symbol">}{</a><a id="19639" href="Varieties.Preservation.html#19639" class="Bound">ğ‘©</a><a id="19640" class="Symbol">}</a> <a id="19642" href="Varieties.Preservation.html#19642" class="Bound">VA</a> <a id="19645" href="Varieties.Preservation.html#19645" class="Bound">Aâ‰…B</a><a id="19648" class="Symbol">)</a> <a id="19650" class="Symbol">=</a> <a id="19652" href="Varieties.Properties.html#3225" class="Function">âŠ§-I-invar</a> <a id="19662" href="Varieties.Preservation.html#18301" class="Bound">wd</a> <a id="19665" href="Varieties.Preservation.html#19639" class="Bound">ğ‘©</a> <a id="19667" href="Varieties.Preservation.html#19623" class="Bound">p</a> <a id="19669" href="Varieties.Preservation.html#19625" class="Bound">q</a> <a id="19671" class="Symbol">(</a><a id="19672" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="19679" href="Varieties.Preservation.html#19623" class="Bound">p</a> <a id="19681" href="Varieties.Preservation.html#19625" class="Bound">q</a> <a id="19683" href="Varieties.Preservation.html#19627" class="Bound">Ïƒ</a> <a id="19685" href="Varieties.Preservation.html#19642" class="Bound">VA</a><a id="19687" class="Symbol">)</a><a id="19688" href="Varieties.Preservation.html#19645" class="Bound">Aâ‰…B</a>

</pre>


### <a id="class-identities">Class identities</a>

From `V-id1` it follows that if ğ’¦ is a class of structures, then the set of identities modeled by all structures in `ğ’¦` is equivalent to the set of identities modeled by all structures in `V ğ’¦`.  In other terms, `Th (V ğ’¦)` is precisely the set of identities modeled by `ğ’¦`.   We formalize this observation as follows.

<pre class="Agda">

<a id="20090" class="Keyword">module</a> <a id="20097" href="Varieties.Preservation.html#20097" class="Module">_</a> <a id="20099" class="Symbol">(</a><a id="20100" href="Varieties.Preservation.html#20100" class="Bound">fe</a> <a id="20103" class="Symbol">:</a> <a id="20105" href="Foundations.Extensionality.html#2463" class="Function">DFunExt</a><a id="20112" class="Symbol">)(</a><a id="20114" href="Varieties.Preservation.html#20114" class="Bound">wd</a> <a id="20117" class="Symbol">:</a> <a id="20119" href="Foundations.Welldefined.html#2946" class="Function">SwellDef</a><a id="20127" class="Symbol">){</a><a id="20129" href="Varieties.Preservation.html#20129" class="Bound">ğ“§</a> <a id="20131" class="Symbol">:</a> <a id="20133" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="20138" class="Symbol">}</a> <a id="20140" class="Symbol">{</a><a id="20141" href="Varieties.Preservation.html#20141" class="Bound">X</a> <a id="20143" class="Symbol">:</a> <a id="20145" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="20150" href="Varieties.Preservation.html#20129" class="Bound">ğ“§</a><a id="20151" class="Symbol">}</a> <a id="20153" class="Symbol">{</a><a id="20154" href="Varieties.Preservation.html#20154" class="Bound">ğ’¦</a> <a id="20156" class="Symbol">:</a> <a id="20158" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20163" class="Symbol">(</a><a id="20164" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="20172" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="20174" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="20175" class="Symbol">)(</a><a id="20177" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="20180" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="20181" class="Symbol">)}</a> <a id="20184" class="Keyword">where</a>

 <a id="20192" href="Varieties.Preservation.html#20192" class="Function">ovu</a> <a id="20196" href="Varieties.Preservation.html#20196" class="Function">lovu</a> <a id="20201" class="Symbol">:</a> <a id="20203" href="Agda.Primitive.html#597" class="Postulate">Level</a>
 <a id="20210" href="Varieties.Preservation.html#20192" class="Function">ovu</a> <a id="20214" class="Symbol">=</a> <a id="20216" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="20219" href="Varieties.Preservation.html#20172" class="Bound">Î±</a>
 <a id="20222" href="Varieties.Preservation.html#20196" class="Function">lovu</a> <a id="20227" class="Symbol">=</a> <a id="20229" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="20234" class="Symbol">(</a><a id="20235" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="20238" href="Varieties.Preservation.html#20172" class="Bound">Î±</a><a id="20239" class="Symbol">)</a>
 <a id="20242" href="Varieties.Preservation.html#20242" class="Function">ğ•</a> <a id="20244" class="Symbol">:</a> <a id="20246" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20251" class="Symbol">(</a><a id="20252" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="20260" href="Varieties.Preservation.html#20196" class="Function">lovu</a> <a id="20265" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="20266" class="Symbol">)</a> <a id="20268" class="Symbol">(</a><a id="20269" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="20274" href="Varieties.Preservation.html#20196" class="Function">lovu</a><a id="20278" class="Symbol">)</a>
 <a id="20281" href="Varieties.Preservation.html#20242" class="Function">ğ•</a> <a id="20283" class="Symbol">=</a> <a id="20285" href="Varieties.Closure.html#5309" class="Datatype">V</a><a id="20286" class="Symbol">{</a><a id="20287" href="Varieties.Preservation.html#20172" class="Bound">Î±</a><a id="20288" class="Symbol">}{</a><a id="20290" href="Varieties.Preservation.html#20196" class="Function">lovu</a><a id="20294" class="Symbol">}</a> <a id="20296" href="Varieties.Preservation.html#20154" class="Bound">ğ’¦</a>
 <a id="20299" href="Varieties.Preservation.html#20299" class="Function">ğ’±</a> <a id="20301" class="Symbol">:</a> <a id="20303" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20308" class="Symbol">(</a><a id="20309" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="20317" href="Varieties.Preservation.html#20192" class="Function">ovu</a> <a id="20321" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="20322" class="Symbol">)</a> <a id="20324" href="Varieties.Preservation.html#20196" class="Function">lovu</a>
 <a id="20330" href="Varieties.Preservation.html#20299" class="Function">ğ’±</a> <a id="20332" class="Symbol">=</a> <a id="20334" href="Varieties.Closure.html#5309" class="Datatype">V</a><a id="20335" class="Symbol">{</a><a id="20336" class="Argument">Î²</a> <a id="20338" class="Symbol">=</a> <a id="20340" href="Varieties.Preservation.html#20192" class="Function">ovu</a><a id="20343" class="Symbol">}</a> <a id="20345" href="Varieties.Preservation.html#20154" class="Bound">ğ’¦</a>

 <a id="20349" class="Keyword">open</a> <a id="20354" href="Varieties.Preservation.html#18281" class="Module">Vid&#39;</a> <a id="20359" href="Varieties.Preservation.html#20100" class="Bound">fe</a> <a id="20362" href="Varieties.Preservation.html#20114" class="Bound">wd</a> <a id="20365" class="Symbol">{</a><a id="20366" href="Varieties.Preservation.html#20129" class="Bound">ğ“§</a><a id="20367" class="Symbol">}{</a><a id="20369" href="Varieties.Preservation.html#20141" class="Bound">X</a><a id="20370" class="Symbol">}{</a><a id="20372" href="Varieties.Preservation.html#20154" class="Bound">ğ’¦</a><a id="20373" class="Symbol">}</a> <a id="20375" class="Keyword">public</a>
 <a id="20383" href="Varieties.Preservation.html#20383" class="Function">class-ids-â‡’</a> <a id="20395" class="Symbol">:</a> <a id="20397" class="Symbol">(</a><a id="20398" href="Varieties.Preservation.html#20398" class="Bound">p</a> <a id="20400" href="Varieties.Preservation.html#20400" class="Bound">q</a> <a id="20402" class="Symbol">:</a> <a id="20404" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="20406" href="Terms.Basic.html#3258" class="Function">ğ‘»</a> <a id="20408" href="Varieties.Preservation.html#20141" class="Bound">X</a> <a id="20410" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a><a id="20411" class="Symbol">)</a> <a id="20413" class="Symbol">â†’</a> <a id="20415" href="Varieties.Preservation.html#20154" class="Bound">ğ’¦</a> <a id="20417" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="20419" href="Varieties.Preservation.html#20398" class="Bound">p</a> <a id="20421" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="20423" href="Varieties.Preservation.html#20400" class="Bound">q</a>  <a id="20426" class="Symbol">â†’</a>  <a id="20429" class="Symbol">(</a><a id="20430" href="Varieties.Preservation.html#20398" class="Bound">p</a> <a id="20432" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20434" href="Varieties.Preservation.html#20400" class="Bound">q</a><a id="20435" class="Symbol">)</a> <a id="20437" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20439" href="Varieties.EquationalLogic.html#3408" class="Function">Th</a> <a id="20442" href="Varieties.Preservation.html#20299" class="Function">ğ’±</a>
 <a id="20445" href="Varieties.Preservation.html#20383" class="Function">class-ids-â‡’</a> <a id="20457" href="Varieties.Preservation.html#20457" class="Bound">p</a> <a id="20459" href="Varieties.Preservation.html#20459" class="Bound">q</a> <a id="20461" href="Varieties.Preservation.html#20461" class="Bound">pKq</a> <a id="20465" href="Varieties.Preservation.html#20465" class="Bound">VCloA</a> <a id="20471" class="Symbol">=</a> <a id="20473" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="20480" href="Varieties.Preservation.html#20457" class="Bound">p</a> <a id="20482" href="Varieties.Preservation.html#20459" class="Bound">q</a> <a id="20484" href="Varieties.Preservation.html#20461" class="Bound">pKq</a> <a id="20488" href="Varieties.Preservation.html#20465" class="Bound">VCloA</a>

 <a id="20496" href="Varieties.Preservation.html#20496" class="Function">class-ids</a> <a id="20506" class="Symbol">:</a> <a id="20508" class="Symbol">(</a><a id="20509" href="Varieties.Preservation.html#20509" class="Bound">p</a> <a id="20511" href="Varieties.Preservation.html#20511" class="Bound">q</a> <a id="20513" class="Symbol">:</a> <a id="20515" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="20517" href="Terms.Basic.html#3258" class="Function">ğ‘»</a> <a id="20519" href="Varieties.Preservation.html#20141" class="Bound">X</a> <a id="20521" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a><a id="20522" class="Symbol">)</a> <a id="20524" class="Symbol">â†’</a> <a id="20526" href="Varieties.Preservation.html#20154" class="Bound">ğ’¦</a> <a id="20528" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="20530" href="Varieties.Preservation.html#20509" class="Bound">p</a> <a id="20532" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="20534" href="Varieties.Preservation.html#20511" class="Bound">q</a>  <a id="20537" class="Symbol">â†’</a>  <a id="20540" class="Symbol">(</a><a id="20541" href="Varieties.Preservation.html#20509" class="Bound">p</a> <a id="20543" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20545" href="Varieties.Preservation.html#20511" class="Bound">q</a><a id="20546" class="Symbol">)</a> <a id="20548" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20550" href="Varieties.EquationalLogic.html#3408" class="Function">Th</a> <a id="20553" href="Varieties.Preservation.html#20242" class="Function">ğ•</a>
 <a id="20556" href="Varieties.Preservation.html#20496" class="Function">class-ids</a> <a id="20566" href="Varieties.Preservation.html#20566" class="Bound">p</a> <a id="20568" href="Varieties.Preservation.html#20568" class="Bound">q</a> <a id="20570" href="Varieties.Preservation.html#20570" class="Bound">pKq</a> <a id="20574" href="Varieties.Preservation.html#20574" class="Bound">VCloA</a> <a id="20580" class="Symbol">=</a> <a id="20582" href="Varieties.Preservation.html#18412" class="Function">V-id1&#39;</a> <a id="20589" href="Varieties.Preservation.html#20566" class="Bound">p</a> <a id="20591" href="Varieties.Preservation.html#20568" class="Bound">q</a> <a id="20593" href="Varieties.Preservation.html#20570" class="Bound">pKq</a> <a id="20597" href="Varieties.Preservation.html#20574" class="Bound">VCloA</a>


 <a id="20606" href="Varieties.Preservation.html#20606" class="Function">class-ids-â‡</a> <a id="20618" class="Symbol">:</a> <a id="20620" class="Symbol">(</a><a id="20621" href="Varieties.Preservation.html#20621" class="Bound">p</a> <a id="20623" href="Varieties.Preservation.html#20623" class="Bound">q</a> <a id="20625" class="Symbol">:</a> <a id="20627" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a> <a id="20629" href="Terms.Basic.html#3258" class="Function">ğ‘»</a> <a id="20631" href="Varieties.Preservation.html#20141" class="Bound">X</a> <a id="20633" href="Overture.Preliminaries.html#4524" class="Function Operator">âˆ£</a><a id="20634" class="Symbol">)</a> <a id="20636" class="Symbol">â†’</a> <a id="20638" class="Symbol">(</a><a id="20639" href="Varieties.Preservation.html#20621" class="Bound">p</a> <a id="20641" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20643" href="Varieties.Preservation.html#20623" class="Bound">q</a><a id="20644" class="Symbol">)</a> <a id="20646" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20648" href="Varieties.EquationalLogic.html#3408" class="Function">Th</a> <a id="20651" href="Varieties.Preservation.html#20299" class="Function">ğ’±</a> <a id="20653" class="Symbol">â†’</a>  <a id="20656" href="Varieties.Preservation.html#20154" class="Bound">ğ’¦</a> <a id="20658" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="20660" href="Varieties.Preservation.html#20621" class="Bound">p</a> <a id="20662" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="20664" href="Varieties.Preservation.html#20623" class="Bound">q</a>
 <a id="20667" href="Varieties.Preservation.html#20606" class="Function">class-ids-â‡</a> <a id="20679" href="Varieties.Preservation.html#20679" class="Bound">p</a> <a id="20681" href="Varieties.Preservation.html#20681" class="Bound">q</a> <a id="20683" href="Varieties.Preservation.html#20683" class="Bound">Thpq</a> <a id="20688" class="Symbol">{</a><a id="20689" href="Varieties.Preservation.html#20689" class="Bound">ğ‘¨</a><a id="20690" class="Symbol">}</a> <a id="20692" href="Varieties.Preservation.html#20692" class="Bound">KA</a> <a id="20695" class="Symbol">=</a> <a id="20697" href="Varieties.Properties.html#4301" class="Function">âŠ§-lower-invar</a> <a id="20711" href="Varieties.Preservation.html#20114" class="Bound">wd</a> <a id="20714" href="Varieties.Preservation.html#20679" class="Bound">p</a> <a id="20716" href="Varieties.Preservation.html#20681" class="Bound">q</a> <a id="20718" class="Symbol">(</a><a id="20719" href="Varieties.Preservation.html#20683" class="Bound">Thpq</a> <a id="20724" class="Symbol">(</a><a id="20725" href="Varieties.Closure.html#5397" class="InductiveConstructor">vbase</a> <a id="20731" href="Varieties.Preservation.html#20692" class="Bound">KA</a><a id="20733" class="Symbol">))</a>


</pre>


Once again, and for the last time, completeness dictates that we formalize the coverse of `V-id1`, however obvious it may be.

<pre class="Agda">

<a id="20892" class="Keyword">module</a> <a id="20899" href="Varieties.Preservation.html#20899" class="Module">_</a> <a id="20901" class="Symbol">(</a><a id="20902" href="Varieties.Preservation.html#20902" class="Bound">wd</a> <a id="20905" class="Symbol">:</a> <a id="20907" href="Foundations.Welldefined.html#2946" class="Function">SwellDef</a><a id="20915" class="Symbol">){</a><a id="20917" href="Varieties.Preservation.html#20917" class="Bound">X</a> <a id="20919" class="Symbol">:</a> <a id="20921" href="Varieties.Preservation.html#812" class="Primitive">Type</a> <a id="20926" href="Varieties.Preservation.html#13361" class="Generalizable">ğ“§</a><a id="20927" class="Symbol">}{</a><a id="20929" href="Varieties.Preservation.html#20929" class="Bound">ğ’¦</a> <a id="20931" class="Symbol">:</a> <a id="20933" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20938" class="Symbol">(</a><a id="20939" href="Algebras.Basic.html#6228" class="Function">Algebra</a> <a id="20947" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a> <a id="20949" href="Varieties.Preservation.html#610" class="Bound">ğ‘†</a><a id="20950" class="Symbol">)(</a><a id="20952" href="Algebras.Products.html#3133" class="Function">ov</a> <a id="20955" href="Varieties.Preservation.html#3234" class="Generalizable">Î±</a><a id="20956" class="Symbol">)}</a> <a id="20959" class="Keyword">where</a>

 <a id="20967" href="Varieties.Preservation.html#20967" class="Function">V-id2</a> <a id="20973" class="Symbol">:</a> <a id="20975" class="Symbol">(</a><a id="20976" href="Varieties.Preservation.html#20976" class="Bound">p</a> <a id="20978" href="Varieties.Preservation.html#20978" class="Bound">q</a> <a id="20980" class="Symbol">:</a> <a id="20982" href="Terms.Basic.html#1987" class="Datatype">Term</a> <a id="20987" href="Varieties.Preservation.html#20917" class="Bound">X</a><a id="20988" class="Symbol">)</a> <a id="20990" class="Symbol">â†’</a> <a id="20992" class="Symbol">(</a><a id="20993" href="Varieties.Closure.html#5309" class="Datatype">V</a><a id="20994" class="Symbol">{</a><a id="20995" class="Argument">Î²</a> <a id="20997" class="Symbol">=</a> <a id="20999" href="Varieties.Preservation.html#3236" class="Generalizable">Î²</a><a id="21000" class="Symbol">}</a> <a id="21002" href="Varieties.Preservation.html#20929" class="Bound">ğ’¦</a> <a id="21004" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="21006" href="Varieties.Preservation.html#20976" class="Bound">p</a> <a id="21008" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="21010" href="Varieties.Preservation.html#20978" class="Bound">q</a><a id="21011" class="Symbol">)</a> <a id="21013" class="Symbol">â†’</a> <a id="21015" class="Symbol">(</a><a id="21016" href="Varieties.Preservation.html#20929" class="Bound">ğ’¦</a> <a id="21018" href="Varieties.EquationalLogic.html#2683" class="Function Operator">âŠ«</a> <a id="21020" href="Varieties.Preservation.html#20976" class="Bound">p</a> <a id="21022" href="Varieties.EquationalLogic.html#2683" class="Function Operator">â‰ˆ</a> <a id="21024" href="Varieties.Preservation.html#20978" class="Bound">q</a><a id="21025" class="Symbol">)</a>
 <a id="21028" href="Varieties.Preservation.html#20967" class="Function">V-id2</a> <a id="21034" href="Varieties.Preservation.html#21034" class="Bound">p</a> <a id="21036" href="Varieties.Preservation.html#21036" class="Bound">q</a> <a id="21038" href="Varieties.Preservation.html#21038" class="Bound">Vpq</a> <a id="21042" class="Symbol">{</a><a id="21043" href="Varieties.Preservation.html#21043" class="Bound">ğ‘¨</a><a id="21044" class="Symbol">}</a> <a id="21046" href="Varieties.Preservation.html#21046" class="Bound">KA</a> <a id="21049" class="Symbol">=</a> <a id="21051" href="Varieties.Properties.html#4301" class="Function">âŠ§-lower-invar</a> <a id="21065" href="Varieties.Preservation.html#20902" class="Bound">wd</a> <a id="21068" href="Varieties.Preservation.html#21034" class="Bound">p</a> <a id="21070" href="Varieties.Preservation.html#21036" class="Bound">q</a> <a id="21072" class="Symbol">(</a><a id="21073" href="Varieties.Preservation.html#21038" class="Bound">Vpq</a> <a id="21077" class="Symbol">(</a><a id="21078" href="Varieties.Closure.html#5397" class="InductiveConstructor">vbase</a> <a id="21084" href="Varieties.Preservation.html#21046" class="Bound">KA</a><a id="21086" class="Symbol">))</a>

</pre>


----------------------------

<span style="float:left;">[â† Varieties.Properties](Varieties.Properties.html)</span>
<span style="float:right;">[Varieties.FreeAlgebras â†’](Varieties.FreeAlgebras.html)</span>

{% include UALib.Links.md %}

[agda-algebras development team]: https://github.com/ualib/agda-algebras#the-agda-algebras-development-team

