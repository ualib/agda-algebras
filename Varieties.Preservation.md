---
layout: default
title : "Varieties.Preservation (The Agda Universal Algebra Library)"
date : "2021-01-14"
author: "agda-algebras development team"
---

### <a id="Equation preservation">Equation preservation</a>

This is the [Varieties.Preservation][] module of the [Agda Universal Algebra Library][]. In this module we show that identities are preserved by closure operators H, S, and P.  This will establish the easy direction of Birkhoff's HSP Theorem.

<pre class="Agda">

<a id="476" class="Symbol">{-#</a> <a id="480" class="Keyword">OPTIONS</a> <a id="488" class="Pragma">--without-K</a> <a id="500" class="Pragma">--exact-split</a> <a id="514" class="Pragma">--safe</a> <a id="521" class="Symbol">#-}</a>

<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="Algebras.Basic.html" class="Module">Algebras.Basic</a> <a id="553" class="Keyword">using</a> <a id="559" class="Symbol">(</a> <a id="561" href="Algebras.Basic.html#1130" class="Generalizable">ğ“</a> <a id="563" class="Symbol">;</a> <a id="565" href="Algebras.Basic.html#1132" class="Generalizable">ğ“¥</a> <a id="567" class="Symbol">;</a> <a id="569" href="Algebras.Basic.html#3858" class="Function">Signature</a> <a id="579" class="Symbol">)</a>

<a id="582" class="Keyword">module</a> <a id="589" href="Varieties.Preservation.html" class="Module">Varieties.Preservation</a> <a id="612" class="Symbol">{</a><a id="613" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a> <a id="615" class="Symbol">:</a> <a id="617" href="Algebras.Basic.html#3858" class="Function">Signature</a> <a id="627" href="Algebras.Basic.html#1130" class="Generalizable">ğ“</a> <a id="629" href="Algebras.Basic.html#1132" class="Generalizable">ğ“¥</a><a id="630" class="Symbol">}</a> <a id="632" class="Keyword">where</a>

<a id="639" class="Comment">-- Imports from Agda and the Agda Standard Library -----------------------------------------------</a>
<a id="738" class="Keyword">open</a> <a id="743" class="Keyword">import</a> <a id="750" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>  <a id="766" class="Keyword">using</a> <a id="772" class="Symbol">(</a> <a id="774" href="Agda.Primitive.html#810" class="Primitive Operator">_âŠ”_</a> <a id="778" class="Symbol">;</a> <a id="780" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="785" class="Symbol">;</a> <a id="787" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="793" class="Symbol">)</a> <a id="795" class="Keyword">renaming</a> <a id="804" class="Symbol">(</a> <a id="806" href="Agda.Primitive.html#326" class="Primitive">Set</a>   <a id="812" class="Symbol">to</a> <a id="815" class="Primitive">Type</a> <a id="820" class="Symbol">)</a>
<a id="822" class="Keyword">open</a> <a id="827" class="Keyword">import</a> <a id="834" href="Axiom.Extensionality.Propositional.html" class="Module">Axiom.Extensionality.Propositional</a>
                            <a id="897" class="Keyword">using</a> <a id="903" class="Symbol">()</a> <a id="906" class="Keyword">renaming</a> <a id="915" class="Symbol">(</a><a id="916" href="Axiom.Extensionality.Propositional.html#741" class="Function">Extensionality</a> <a id="931" class="Symbol">to</a> <a id="934" class="Function">funext</a><a id="940" class="Symbol">)</a>
<a id="942" class="Keyword">open</a> <a id="947" class="Keyword">import</a> <a id="954" href="Data.Product.html" class="Module">Data.Product</a>    <a id="970" class="Keyword">using</a> <a id="976" class="Symbol">(</a> <a id="978" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="982" class="Symbol">;</a> <a id="984" href="Data.Product.html#916" class="Function">Î£-syntax</a> <a id="993" class="Symbol">;</a> <a id="995" href="Data.Product.html#1167" class="Function Operator">_Ã—_</a> <a id="999" class="Symbol">)</a> <a id="1001" class="Keyword">renaming</a> <a id="1010" class="Symbol">(</a> <a id="1012" href="Agda.Builtin.Sigma.html#252" class="Field">projâ‚</a> <a id="1018" class="Symbol">to</a> <a id="1021" class="Field">fst</a> <a id="1025" class="Symbol">;</a> <a id="1027" href="Agda.Builtin.Sigma.html#264" class="Field">projâ‚‚</a> <a id="1033" class="Symbol">to</a> <a id="1036" class="Field">snd</a> <a id="1040" class="Symbol">)</a>
<a id="1042" class="Keyword">open</a> <a id="1047" class="Keyword">import</a> <a id="1054" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a>   <a id="1070" class="Keyword">using</a> <a id="1076" class="Symbol">(</a> <a id="1078" href="Data.Sum.Base.html#734" class="Datatype Operator">_âŠ_</a> <a id="1082" class="Symbol">)</a> <a id="1084" class="Keyword">renaming</a> <a id="1093" class="Symbol">(</a> <a id="1095" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ‚</a>  <a id="1101" class="Symbol">to</a> <a id="1104" class="InductiveConstructor">inl</a> <a id="1108" class="Symbol">;</a> <a id="1110" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ‚‚</a>  <a id="1116" class="Symbol">to</a> <a id="1119" class="InductiveConstructor">inr</a> <a id="1123" class="Symbol">)</a>
<a id="1125" class="Keyword">open</a> <a id="1130" class="Keyword">import</a> <a id="1137" href="Function.Base.html" class="Module">Function.Base</a>   <a id="1153" class="Keyword">using</a> <a id="1159" class="Symbol">(</a> <a id="1161" href="Function.Base.html#1031" class="Function Operator">_âˆ˜_</a> <a id="1165" class="Symbol">)</a>
<a id="1167" class="Keyword">open</a> <a id="1172" class="Keyword">import</a> <a id="1179" href="Relation.Unary.html" class="Module">Relation.Unary</a>  <a id="1195" class="Keyword">using</a> <a id="1201" class="Symbol">(</a> <a id="1203" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="1208" class="Symbol">;</a> <a id="1210" href="Relation.Unary.html#1742" class="Function Operator">_âŠ†_</a> <a id="1214" class="Symbol">;</a> <a id="1216" href="Relation.Unary.html#1523" class="Function Operator">_âˆˆ_</a> <a id="1220" class="Symbol">;</a> <a id="1222" href="Relation.Unary.html#1335" class="Function Operator">ï½›_ï½</a> <a id="1226" class="Symbol">;</a> <a id="1228" href="Relation.Unary.html#4417" class="Function Operator">_âˆª_</a> <a id="1232" class="Symbol">)</a>
<a id="1234" class="Keyword">open</a> <a id="1239" class="Keyword">import</a> <a id="1246" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
                            <a id="1312" class="Keyword">using</a> <a id="1318" class="Symbol">(</a> <a id="1320" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_â‰¡_</a> <a id="1324" class="Symbol">;</a> <a id="1326" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1331" class="Symbol">;</a> <a id="1333" class="Keyword">module</a> <a id="1340" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">â‰¡-Reasoning</a> <a id="1352" class="Symbol">;</a> <a id="1354" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="1363" class="Symbol">;</a> <a id="1365" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1370" class="Symbol">)</a>

<a id="1373" class="Comment">-- Imports from the Agda Universal Algebra Library ---------------------------------------------</a>
<a id="1470" class="Keyword">open</a> <a id="1475" class="Keyword">import</a> <a id="1482" href="Overture.Preliminaries.html" class="Module">Overture.Preliminaries</a>             <a id="1517" class="Keyword">using</a> <a id="1523" class="Symbol">(</a> <a id="1525" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£_âˆ£</a> <a id="1529" class="Symbol">;</a> <a id="1531" href="Overture.Preliminaries.html#4421" class="Function Operator">âˆ¥_âˆ¥</a> <a id="1535" class="Symbol">;</a> <a id="1537" href="Overture.Preliminaries.html#5086" class="Function Operator">_â»Â¹</a> <a id="1541" class="Symbol">)</a>
<a id="1543" class="Keyword">open</a> <a id="1548" class="Keyword">import</a> <a id="1555" href="Overture.Inverses.html" class="Module">Overture.Inverses</a>                  <a id="1590" class="Keyword">using</a> <a id="1596" class="Symbol">(</a> <a id="1598" href="Overture.Inverses.html#2190" class="Function">Inv</a> <a id="1602" class="Symbol">;</a> <a id="1604" href="Overture.Inverses.html#2437" class="Function">InvIsInverseÊ³</a> <a id="1618" class="Symbol">)</a>
<a id="1620" class="Keyword">open</a> <a id="1625" class="Keyword">import</a> <a id="1632" href="Overture.Injective.html" class="Module">Overture.Injective</a>                 <a id="1667" class="Keyword">using</a> <a id="1673" class="Symbol">(</a> <a id="1675" href="Overture.Injective.html#1265" class="Function">IsInjective</a> <a id="1687" class="Symbol">)</a>
<a id="1689" class="Keyword">open</a> <a id="1694" class="Keyword">import</a> <a id="1701" href="Equality.Welldefined.html" class="Module">Equality.Welldefined</a>               <a id="1736" class="Keyword">using</a> <a id="1742" class="Symbol">(</a> <a id="1744" href="Equality.Welldefined.html#2944" class="Function">SwellDef</a> <a id="1753" class="Symbol">)</a>
<a id="1755" class="Keyword">open</a> <a id="1760" class="Keyword">import</a> <a id="1767" href="Equality.Truncation.html" class="Module">Equality.Truncation</a>                <a id="1802" class="Keyword">using</a> <a id="1808" class="Symbol">(</a> <a id="1810" href="Equality.Truncation.html#3959" class="Function">hfunext</a> <a id="1818" class="Symbol">)</a>
<a id="1820" class="Keyword">open</a> <a id="1825" class="Keyword">import</a> <a id="1832" href="Equality.Extensionality.html" class="Module">Equality.Extensionality</a>            <a id="1867" class="Keyword">using</a> <a id="1873" class="Symbol">(</a> <a id="1875" href="Equality.Extensionality.html#2264" class="Function">DFunExt</a> <a id="1883" class="Symbol">)</a>
<a id="1885" class="Keyword">open</a> <a id="1890" class="Keyword">import</a> <a id="1897" href="Algebras.Basic.html" class="Module">Algebras.Basic</a>                     <a id="1932" class="Keyword">using</a> <a id="1938" class="Symbol">(</a> <a id="1940" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="1948" class="Symbol">;</a> <a id="1950" href="Algebras.Basic.html#10858" class="Function">Lift-Alg</a> <a id="1959" class="Symbol">)</a>
<a id="1961" class="Keyword">open</a> <a id="1966" class="Keyword">import</a> <a id="1973" href="Algebras.Products.html" class="Module">Algebras.Products</a>          <a id="2000" class="Symbol">{</a><a id="2001" class="Argument">ğ‘†</a> <a id="2003" class="Symbol">=</a> <a id="2005" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2006" class="Symbol">}</a> <a id="2008" class="Keyword">using</a> <a id="2014" class="Symbol">(</a> <a id="2016" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="2019" class="Symbol">;</a> <a id="2021" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="2023" class="Symbol">;</a> <a id="2025" href="Algebras.Products.html#5304" class="Function">ğ”„</a> <a id="2027" class="Symbol">;</a> <a id="2029" href="Algebras.Products.html#5451" class="Function">class-product</a><a id="2042" class="Symbol">)</a>
<a id="2044" class="Keyword">open</a> <a id="2049" class="Keyword">import</a> <a id="2056" href="Homomorphisms.Basic.html" class="Module">Homomorphisms.Basic</a>        <a id="2083" class="Symbol">{</a><a id="2084" class="Argument">ğ‘†</a> <a id="2086" class="Symbol">=</a> <a id="2088" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2089" class="Symbol">}</a> <a id="2091" class="Keyword">using</a> <a id="2097" class="Symbol">(</a> <a id="2099" href="Homomorphisms.Basic.html#2538" class="Function">is-homomorphism</a> <a id="2115" class="Symbol">)</a>
<a id="2117" class="Keyword">open</a> <a id="2122" class="Keyword">import</a> <a id="2129" href="Homomorphisms.Isomorphisms.html" class="Module">Homomorphisms.Isomorphisms</a> <a id="2156" class="Symbol">{</a><a id="2157" class="Argument">ğ‘†</a> <a id="2159" class="Symbol">=</a> <a id="2161" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2162" class="Symbol">}</a> <a id="2164" class="Keyword">using</a> <a id="2170" class="Symbol">(</a> <a id="2172" href="Homomorphisms.Isomorphisms.html#2333" class="Record Operator">_â‰…_</a> <a id="2176" class="Symbol">;</a> <a id="2178" href="Homomorphisms.Isomorphisms.html#2964" class="Function">â‰…-sym</a> <a id="2184" class="Symbol">;</a> <a id="2186" href="Homomorphisms.Isomorphisms.html#4408" class="Function">Lift-â‰…</a> <a id="2193" class="Symbol">;</a> <a id="2195" href="Homomorphisms.Isomorphisms.html#3053" class="Function">â‰…-trans</a> <a id="2203" class="Symbol">;</a> <a id="2205" href="Homomorphisms.Isomorphisms.html#5730" class="Function">â¨…â‰…</a> <a id="2208" class="Symbol">;</a> <a id="2210" href="Homomorphisms.Isomorphisms.html#2874" class="Function">â‰…-refl</a>
                                                     <a id="2270" class="Symbol">;</a> <a id="2272" href="Homomorphisms.Isomorphisms.html#4727" class="Function">Lift-Alg-iso</a> <a id="2285" class="Symbol">;</a> <a id="2287" href="Homomorphisms.Isomorphisms.html#5149" class="Function">Lift-Alg-assoc</a> <a id="2302" class="Symbol">)</a>
<a id="2304" class="Keyword">open</a> <a id="2309" class="Keyword">import</a> <a id="2316" href="Terms.Basic.html" class="Module">Terms.Basic</a>                <a id="2343" class="Symbol">{</a><a id="2344" class="Argument">ğ‘†</a> <a id="2346" class="Symbol">=</a> <a id="2348" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2349" class="Symbol">}</a> <a id="2351" class="Keyword">using</a> <a id="2357" class="Symbol">(</a> <a id="2359" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="2364" class="Symbol">;</a> <a id="2366" href="Terms.Basic.html#3263" class="Function">ğ‘»</a> <a id="2368" class="Symbol">)</a>
<a id="2370" class="Keyword">open</a> <a id="2375" class="Keyword">import</a> <a id="2382" href="Terms.Operations.html" class="Module">Terms.Operations</a>           <a id="2409" class="Symbol">{</a><a id="2410" class="Argument">ğ‘†</a> <a id="2412" class="Symbol">=</a> <a id="2414" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2415" class="Symbol">}</a> <a id="2417" class="Keyword">using</a> <a id="2423" class="Symbol">(</a> <a id="2425" href="Terms.Operations.html#2577" class="Function Operator">_âŸ¦_âŸ§</a><a id="2429" class="Symbol">;</a> <a id="2431" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a><a id="2444" class="Symbol">)</a>
<a id="2446" class="Keyword">open</a> <a id="2451" class="Keyword">import</a> <a id="2458" href="Subalgebras.Subalgebras.html" class="Module">Subalgebras.Subalgebras</a>    <a id="2485" class="Symbol">{</a><a id="2486" class="Argument">ğ‘†</a> <a id="2488" class="Symbol">=</a> <a id="2490" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2491" class="Symbol">}</a> <a id="2493" class="Keyword">using</a> <a id="2499" class="Symbol">(</a> <a id="2501" href="Subalgebras.Subalgebras.html#2186" class="Function Operator">_â‰¤_</a> <a id="2505" class="Symbol">;</a> <a id="2507" href="Subalgebras.Subalgebras.html#2228" class="Function Operator">_IsSubalgebraOf_</a> <a id="2524" class="Symbol">;</a> <a id="2526" href="Subalgebras.Subalgebras.html#5744" class="Function Operator">_IsSubalgebraOfClass_</a>
                                                     <a id="2601" class="Symbol">;</a> <a id="2603" href="Subalgebras.Subalgebras.html#6095" class="Function">SubalgebraOfClass</a> <a id="2621" class="Symbol">)</a>
<a id="2623" class="Keyword">open</a> <a id="2628" class="Keyword">import</a> <a id="2635" href="Subalgebras.Properties.html" class="Module">Subalgebras.Properties</a>     <a id="2662" class="Symbol">{</a><a id="2663" class="Argument">ğ‘†</a> <a id="2665" class="Symbol">=</a> <a id="2667" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2668" class="Symbol">}</a> <a id="2670" class="Keyword">using</a> <a id="2676" class="Symbol">(</a> <a id="2678" href="Subalgebras.Properties.html#5929" class="Function">â‰¤-Lift</a> <a id="2685" class="Symbol">;</a> <a id="2687" href="Subalgebras.Properties.html#6179" class="Function">Lift-â‰¤-Lift</a> <a id="2699" class="Symbol">)</a>
<a id="2701" class="Keyword">open</a> <a id="2706" class="Keyword">import</a> <a id="2713" href="Varieties.EquationalLogic.html" class="Module">Varieties.EquationalLogic</a>  <a id="2740" class="Symbol">{</a><a id="2741" class="Argument">ğ‘†</a> <a id="2743" class="Symbol">=</a> <a id="2745" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2746" class="Symbol">}</a> <a id="2748" class="Keyword">using</a> <a id="2754" class="Symbol">(</a> <a id="2756" href="Varieties.EquationalLogic.html#2716" class="Function Operator">_âŠ«_â‰ˆ_</a> <a id="2762" class="Symbol">;</a> <a id="2764" href="Varieties.EquationalLogic.html#2638" class="Function Operator">_âŠ§_â‰ˆ_</a> <a id="2770" class="Symbol">;</a> <a id="2772" href="Varieties.EquationalLogic.html#3442" class="Function">Th</a><a id="2774" class="Symbol">)</a>
<a id="2776" class="Keyword">open</a> <a id="2781" class="Keyword">import</a> <a id="2788" href="Varieties.Properties.html" class="Module">Varieties.Properties</a>       <a id="2815" class="Symbol">{</a><a id="2816" class="Argument">ğ‘†</a> <a id="2818" class="Symbol">=</a> <a id="2820" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="2821" class="Symbol">}</a> <a id="2823" class="Keyword">using</a> <a id="2829" class="Symbol">(</a> <a id="2831" href="Varieties.Properties.html#4142" class="Function">âŠ§-Lift-invar</a> <a id="2844" class="Symbol">;</a> <a id="2846" href="Varieties.Properties.html#4276" class="Function">âŠ§-lower-invar</a> <a id="2860" class="Symbol">;</a> <a id="2862" href="Varieties.Properties.html#5429" class="Function">âŠ§-S-class-invar</a>
                                                     <a id="2931" class="Symbol">;</a> <a id="2933" href="Varieties.Properties.html#3199" class="Function">âŠ§-I-invar</a> <a id="2943" class="Symbol">;</a> <a id="2945" href="Varieties.Properties.html#7212" class="Function">âŠ§-P-lift-invar</a> <a id="2960" class="Symbol">;</a> <a id="2962" href="Varieties.Properties.html#6125" class="Function">âŠ§-P-invar</a> <a id="2972" class="Symbol">;</a> <a id="2974" href="Varieties.Properties.html#4702" class="Function">âŠ§-S-invar</a><a id="2983" class="Symbol">)</a>
<a id="2985" class="Keyword">open</a> <a id="2990" class="Keyword">import</a> <a id="2997" href="Varieties.Closure.html" class="Module">Varieties.Closure</a>          <a id="3024" class="Symbol">{</a><a id="3025" class="Argument">ğ‘†</a> <a id="3027" class="Symbol">=</a> <a id="3029" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="3030" class="Symbol">}</a> <a id="3032" class="Keyword">using</a> <a id="3038" class="Symbol">(</a> <a id="3040" href="Varieties.Closure.html#3323" class="Datatype">H</a> <a id="3042" class="Symbol">;</a> <a id="3044" href="Varieties.Closure.html#3774" class="Datatype">S</a> <a id="3046" class="Symbol">;</a> <a id="3048" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="3050" class="Symbol">;</a> <a id="3052" href="Varieties.Closure.html#5316" class="Datatype">V</a> <a id="3054" class="Symbol">;</a> <a id="3056" href="Varieties.Closure.html#9503" class="Function">P-expa</a> <a id="3063" class="Symbol">;</a> <a id="3065" href="Varieties.Closure.html#7848" class="Function">Sâ†’subalgebra</a>
                                                     <a id="3131" class="Symbol">;</a> <a id="3133" href="Varieties.Closure.html#10810" class="Function">Lift-Alg-subP&#39;</a> <a id="3148" class="Symbol">;</a> <a id="3150" href="Varieties.Closure.html#7476" class="Function">subalgebraâ†’S</a> <a id="3163" class="Symbol">;</a> <a id="3165" href="Varieties.Closure.html#6897" class="Function">S-mono</a>
                                                     <a id="3225" class="Symbol">;</a> <a id="3227" href="Varieties.Closure.html#9666" class="Function">P-idemp</a> <a id="3235" class="Symbol">;</a> <a id="3237" class="Keyword">module</a> <a id="3244" href="Varieties.Closure.html#11720" class="Module">Vlift</a><a id="3249" class="Symbol">)</a>
<a id="3251" class="Keyword">open</a> <a id="3256" href="Varieties.Closure.html#3323" class="Module">H</a>
<a id="3258" class="Keyword">open</a> <a id="3263" href="Varieties.Closure.html#3774" class="Module">S</a>
<a id="3265" class="Keyword">open</a> <a id="3270" href="Varieties.Closure.html#4358" class="Module">P</a>
<a id="3272" class="Keyword">open</a> <a id="3277" href="Varieties.Closure.html#5316" class="Module">V</a>

<a id="3280" class="Keyword">private</a> <a id="3288" class="Keyword">variable</a> <a id="3297" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a> <a id="3299" href="Varieties.Preservation.html#3299" class="Generalizable">Î²</a> <a id="3301" class="Symbol">:</a> <a id="3303" href="Agda.Primitive.html#597" class="Postulate">Level</a>

</pre>



#### <a id="closure-properties">Closure properties</a>

The types defined above represent operators with useful closure properties. We now prove a handful of such properties that we need later.

The next lemma would be too obvious to care about were it not for the fact that we'll need it later, so it too must be formalized.

<pre class="Agda">

<a id="SâŠ†SP"></a><a id="3665" href="Varieties.Preservation.html#3665" class="Function">SâŠ†SP</a> <a id="3670" class="Symbol">:</a> <a id="3672" class="Symbol">(</a><a id="3673" href="Varieties.Preservation.html#3673" class="Bound">ğ’¦</a> <a id="3675" class="Symbol">:</a> <a id="3677" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3682" class="Symbol">(</a><a id="3683" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="3691" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a> <a id="3693" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="3694" class="Symbol">)(</a><a id="3696" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="3699" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a><a id="3700" class="Symbol">))</a>
 <a id="3704" class="Symbol">â†’</a>     <a id="3710" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="3711" class="Symbol">{</a><a id="3712" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a><a id="3713" class="Symbol">}{</a><a id="3715" href="Varieties.Preservation.html#3299" class="Generalizable">Î²</a><a id="3716" class="Symbol">}</a> <a id="3718" href="Varieties.Preservation.html#3673" class="Bound">ğ’¦</a> <a id="3720" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="3722" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="3723" class="Symbol">{</a><a id="3724" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a> <a id="3726" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3728" href="Varieties.Preservation.html#3299" class="Generalizable">Î²</a><a id="3729" class="Symbol">}{</a><a id="3731" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a> <a id="3733" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3735" href="Varieties.Preservation.html#3299" class="Generalizable">Î²</a><a id="3736" class="Symbol">}</a> <a id="3738" class="Symbol">(</a><a id="3739" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="3740" class="Symbol">{</a><a id="3741" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a><a id="3742" class="Symbol">}{</a><a id="3744" href="Varieties.Preservation.html#3299" class="Generalizable">Î²</a><a id="3745" class="Symbol">}</a> <a id="3747" href="Varieties.Preservation.html#3673" class="Bound">ğ’¦</a><a id="3748" class="Symbol">)</a>

<a id="3751" href="Varieties.Preservation.html#3665" class="Function">SâŠ†SP</a> <a id="3756" class="Symbol">{</a><a id="3757" href="Varieties.Preservation.html#3757" class="Bound">Î±</a><a id="3758" class="Symbol">}</a> <a id="3760" class="Symbol">{</a><a id="3761" href="Varieties.Preservation.html#3761" class="Bound">Î²</a><a id="3762" class="Symbol">}</a> <a id="3764" href="Varieties.Preservation.html#3764" class="Bound">ğ’¦</a> <a id="3766" class="Symbol">{</a><a id="3767" class="DottedPattern Symbol">.(</a><a id="3769" href="Algebras.Basic.html#10858" class="DottedPattern Function">Lift-Alg</a> <a id="3778" href="Varieties.Preservation.html#3790" class="DottedPattern Bound">ğ‘¨</a> <a id="3780" href="Varieties.Preservation.html#3761" class="DottedPattern Bound">Î²</a><a id="3781" class="DottedPattern Symbol">)</a><a id="3782" class="Symbol">}(</a><a id="3784" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a><a id="3789" class="Symbol">{</a><a id="3790" href="Varieties.Preservation.html#3790" class="Bound">ğ‘¨</a><a id="3791" class="Symbol">}</a> <a id="3793" href="Varieties.Preservation.html#3793" class="Bound">x</a><a id="3794" class="Symbol">)</a> <a id="3796" class="Symbol">=</a> <a id="3798" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a> <a id="3803" href="Varieties.Preservation.html#3896" class="Function">spllA</a><a id="3808" class="Symbol">(</a><a id="3809" href="Homomorphisms.Isomorphisms.html#2964" class="Function">â‰…-sym</a> <a id="3815" href="Homomorphisms.Isomorphisms.html#4408" class="Function">Lift-â‰…</a><a id="3821" class="Symbol">)</a>
 <a id="3824" class="Keyword">where</a>
 <a id="3831" href="Varieties.Preservation.html#3831" class="Function">llA</a> <a id="3835" class="Symbol">:</a> <a id="3837" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="3845" class="Symbol">(</a><a id="3846" href="Varieties.Preservation.html#3757" class="Bound">Î±</a> <a id="3848" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3850" href="Varieties.Preservation.html#3761" class="Bound">Î²</a><a id="3851" class="Symbol">)</a> <a id="3853" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a>
 <a id="3856" href="Varieties.Preservation.html#3831" class="Function">llA</a> <a id="3860" class="Symbol">=</a> <a id="3862" href="Algebras.Basic.html#10858" class="Function">Lift-Alg</a> <a id="3871" class="Symbol">(</a><a id="3872" href="Algebras.Basic.html#10858" class="Function">Lift-Alg</a> <a id="3881" href="Varieties.Preservation.html#3790" class="Bound">ğ‘¨</a> <a id="3883" href="Varieties.Preservation.html#3761" class="Bound">Î²</a><a id="3884" class="Symbol">)</a> <a id="3886" class="Symbol">(</a><a id="3887" href="Varieties.Preservation.html#3757" class="Bound">Î±</a> <a id="3889" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3891" href="Varieties.Preservation.html#3761" class="Bound">Î²</a><a id="3892" class="Symbol">)</a>

 <a id="3896" href="Varieties.Preservation.html#3896" class="Function">spllA</a> <a id="3902" class="Symbol">:</a> <a id="3904" href="Varieties.Preservation.html#3831" class="Function">llA</a> <a id="3908" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="3910" href="Varieties.Closure.html#3774" class="Datatype">S</a> <a id="3912" class="Symbol">(</a><a id="3913" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="3915" href="Varieties.Preservation.html#3764" class="Bound">ğ’¦</a><a id="3916" class="Symbol">)</a>
 <a id="3919" href="Varieties.Preservation.html#3896" class="Function">spllA</a> <a id="3925" class="Symbol">=</a> <a id="3927" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a><a id="3932" class="Symbol">{</a><a id="3933" href="Varieties.Preservation.html#3757" class="Bound">Î±</a> <a id="3935" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3937" href="Varieties.Preservation.html#3761" class="Bound">Î²</a><a id="3938" class="Symbol">}{</a><a id="3940" href="Varieties.Preservation.html#3757" class="Bound">Î±</a> <a id="3942" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3944" href="Varieties.Preservation.html#3761" class="Bound">Î²</a><a id="3945" class="Symbol">}</a> <a id="3947" class="Symbol">(</a><a id="3948" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="3954" href="Varieties.Preservation.html#3793" class="Bound">x</a><a id="3955" class="Symbol">)</a>

<a id="3958" href="Varieties.Preservation.html#3665" class="Function">SâŠ†SP</a> <a id="3963" class="Symbol">{</a><a id="3964" href="Varieties.Preservation.html#3964" class="Bound">Î±</a><a id="3965" class="Symbol">}</a> <a id="3967" class="Symbol">{</a><a id="3968" href="Varieties.Preservation.html#3968" class="Bound">Î²</a><a id="3969" class="Symbol">}</a> <a id="3971" href="Varieties.Preservation.html#3971" class="Bound">ğ’¦</a> <a id="3973" class="Symbol">{</a><a id="3974" class="DottedPattern Symbol">.(</a><a id="3976" href="Algebras.Basic.html#10858" class="DottedPattern Function">Lift-Alg</a> <a id="3985" href="Varieties.Preservation.html#3997" class="DottedPattern Bound">ğ‘¨</a> <a id="3987" href="Varieties.Preservation.html#3968" class="DottedPattern Bound">Î²</a><a id="3988" class="DottedPattern Symbol">)</a><a id="3989" class="Symbol">}(</a><a id="3991" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a><a id="3996" class="Symbol">{</a><a id="3997" href="Varieties.Preservation.html#3997" class="Bound">ğ‘¨</a><a id="3998" class="Symbol">}</a> <a id="4000" href="Varieties.Preservation.html#4000" class="Bound">x</a><a id="4001" class="Symbol">)</a> <a id="4003" class="Symbol">=</a> <a id="4005" href="Varieties.Closure.html#7476" class="Function">subalgebraâ†’S</a> <a id="4018" href="Varieties.Preservation.html#4155" class="Function">lAsc</a>
 <a id="4024" class="Keyword">where</a>
 <a id="4031" href="Varieties.Preservation.html#4031" class="Function">splAu</a> <a id="4037" class="Symbol">:</a> <a id="4039" href="Varieties.Preservation.html#3997" class="Bound">ğ‘¨</a> <a id="4041" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="4043" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="4044" class="Symbol">(</a><a id="4045" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="4047" href="Varieties.Preservation.html#3971" class="Bound">ğ’¦</a><a id="4048" class="Symbol">)</a>
 <a id="4051" href="Varieties.Preservation.html#4031" class="Function">splAu</a> <a id="4057" class="Symbol">=</a> <a id="4059" href="Varieties.Preservation.html#3665" class="Function">SâŠ†SP</a><a id="4063" class="Symbol">{</a><a id="4064" href="Varieties.Preservation.html#3964" class="Bound">Î±</a><a id="4065" class="Symbol">}{</a><a id="4067" href="Varieties.Preservation.html#3964" class="Bound">Î±</a><a id="4068" class="Symbol">}</a> <a id="4070" href="Varieties.Preservation.html#3971" class="Bound">ğ’¦</a> <a id="4072" href="Varieties.Preservation.html#4000" class="Bound">x</a>

 <a id="4076" href="Varieties.Preservation.html#4076" class="Function">Asc</a> <a id="4080" class="Symbol">:</a> <a id="4082" href="Varieties.Preservation.html#3997" class="Bound">ğ‘¨</a> <a id="4084" href="Subalgebras.Subalgebras.html#5744" class="Function Operator">IsSubalgebraOfClass</a> <a id="4104" class="Symbol">(</a><a id="4105" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="4107" href="Varieties.Preservation.html#3971" class="Bound">ğ’¦</a><a id="4108" class="Symbol">)</a>
 <a id="4111" href="Varieties.Preservation.html#4076" class="Function">Asc</a> <a id="4115" class="Symbol">=</a> <a id="4117" href="Varieties.Closure.html#7848" class="Function">Sâ†’subalgebra</a><a id="4129" class="Symbol">{</a><a id="4130" href="Varieties.Preservation.html#3964" class="Bound">Î±</a><a id="4131" class="Symbol">}{</a><a id="4133" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="4134" class="Symbol">{</a><a id="4135" href="Varieties.Preservation.html#3964" class="Bound">Î±</a><a id="4136" class="Symbol">}{</a><a id="4138" href="Varieties.Preservation.html#3964" class="Bound">Î±</a><a id="4139" class="Symbol">}</a> <a id="4141" href="Varieties.Preservation.html#3971" class="Bound">ğ’¦</a><a id="4142" class="Symbol">}{</a><a id="4144" href="Varieties.Preservation.html#3997" class="Bound">ğ‘¨</a><a id="4145" class="Symbol">}</a> <a id="4147" href="Varieties.Preservation.html#4031" class="Function">splAu</a>

 <a id="4155" href="Varieties.Preservation.html#4155" class="Function">lAsc</a> <a id="4160" class="Symbol">:</a> <a id="4162" class="Symbol">(</a><a id="4163" href="Algebras.Basic.html#10858" class="Function">Lift-Alg</a> <a id="4172" href="Varieties.Preservation.html#3997" class="Bound">ğ‘¨</a> <a id="4174" href="Varieties.Preservation.html#3968" class="Bound">Î²</a><a id="4175" class="Symbol">)</a> <a id="4177" href="Subalgebras.Subalgebras.html#5744" class="Function Operator">IsSubalgebraOfClass</a> <a id="4197" class="Symbol">(</a><a id="4198" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="4200" href="Varieties.Preservation.html#3971" class="Bound">ğ’¦</a><a id="4201" class="Symbol">)</a>
 <a id="4204" href="Varieties.Preservation.html#4155" class="Function">lAsc</a> <a id="4209" class="Symbol">=</a> <a id="4211" href="Varieties.Closure.html#10810" class="Function">Lift-Alg-subP&#39;</a> <a id="4226" href="Varieties.Preservation.html#4076" class="Function">Asc</a>
<a id="4230" href="Varieties.Preservation.html#3665" class="Function">SâŠ†SP</a> <a id="4235" class="Symbol">{</a><a id="4236" href="Varieties.Preservation.html#4236" class="Bound">Î±</a><a id="4237" class="Symbol">}</a> <a id="4239" class="Symbol">{</a><a id="4240" href="Varieties.Preservation.html#4240" class="Bound">Î²</a><a id="4241" class="Symbol">}</a> <a id="4243" href="Varieties.Preservation.html#4243" class="Bound">ğ’¦</a> <a id="4245" class="Symbol">{</a><a id="4246" href="Varieties.Preservation.html#4246" class="Bound">ğ‘©</a><a id="4247" class="Symbol">}(</a><a id="4249" href="Varieties.Closure.html#3982" class="InductiveConstructor">ssub</a><a id="4253" class="Symbol">{</a><a id="4254" href="Varieties.Preservation.html#4254" class="Bound">ğ‘¨</a><a id="4255" class="Symbol">}</a> <a id="4257" href="Varieties.Preservation.html#4257" class="Bound">sA</a> <a id="4260" href="Varieties.Preservation.html#4260" class="Bound">Bâ‰¤A</a><a id="4263" class="Symbol">)</a> <a id="4265" class="Symbol">=</a> <a id="4267" href="Varieties.Closure.html#3982" class="InductiveConstructor">ssub</a> <a id="4272" class="Symbol">(</a><a id="4273" href="Varieties.Closure.html#7476" class="Function">subalgebraâ†’S</a> <a id="4286" href="Varieties.Preservation.html#4493" class="Function">lAsc</a><a id="4290" class="Symbol">)</a> <a id="4292" class="Symbol">(</a><a id="4293" href="Subalgebras.Properties.html#5929" class="Function">â‰¤-Lift</a> <a id="4300" href="Varieties.Preservation.html#4254" class="Bound">ğ‘¨</a> <a id="4302" href="Varieties.Preservation.html#4260" class="Bound">Bâ‰¤A</a> <a id="4306" class="Symbol">)</a>
 <a id="4309" class="Keyword">where</a>
  <a id="4317" href="Varieties.Preservation.html#4317" class="Function">lA</a> <a id="4320" class="Symbol">:</a> <a id="4322" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="4330" class="Symbol">(</a><a id="4331" href="Varieties.Preservation.html#4236" class="Bound">Î±</a> <a id="4333" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4335" href="Varieties.Preservation.html#4240" class="Bound">Î²</a><a id="4336" class="Symbol">)</a> <a id="4338" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a>
  <a id="4342" href="Varieties.Preservation.html#4317" class="Function">lA</a> <a id="4345" class="Symbol">=</a> <a id="4347" href="Algebras.Basic.html#10858" class="Function">Lift-Alg</a> <a id="4356" href="Varieties.Preservation.html#4254" class="Bound">ğ‘¨</a> <a id="4358" href="Varieties.Preservation.html#4240" class="Bound">Î²</a>

  <a id="4363" href="Varieties.Preservation.html#4363" class="Function">splAu</a> <a id="4369" class="Symbol">:</a> <a id="4371" href="Varieties.Preservation.html#4254" class="Bound">ğ‘¨</a> <a id="4373" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="4375" href="Varieties.Closure.html#3774" class="Datatype">S</a> <a id="4377" class="Symbol">(</a><a id="4378" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="4380" href="Varieties.Preservation.html#4243" class="Bound">ğ’¦</a><a id="4381" class="Symbol">)</a>
  <a id="4385" href="Varieties.Preservation.html#4363" class="Function">splAu</a> <a id="4391" class="Symbol">=</a> <a id="4393" href="Varieties.Preservation.html#3665" class="Function">SâŠ†SP</a><a id="4397" class="Symbol">{</a><a id="4398" href="Varieties.Preservation.html#4236" class="Bound">Î±</a><a id="4399" class="Symbol">}{</a><a id="4401" href="Varieties.Preservation.html#4236" class="Bound">Î±</a><a id="4402" class="Symbol">}</a> <a id="4404" href="Varieties.Preservation.html#4243" class="Bound">ğ’¦</a> <a id="4406" href="Varieties.Preservation.html#4257" class="Bound">sA</a>

  <a id="4412" href="Varieties.Preservation.html#4412" class="Function">Asc</a> <a id="4416" class="Symbol">:</a> <a id="4418" href="Varieties.Preservation.html#4254" class="Bound">ğ‘¨</a> <a id="4420" href="Subalgebras.Subalgebras.html#5744" class="Function Operator">IsSubalgebraOfClass</a> <a id="4440" class="Symbol">(</a><a id="4441" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="4443" href="Varieties.Preservation.html#4243" class="Bound">ğ’¦</a><a id="4444" class="Symbol">)</a>
  <a id="4448" href="Varieties.Preservation.html#4412" class="Function">Asc</a> <a id="4452" class="Symbol">=</a> <a id="4454" href="Varieties.Closure.html#7848" class="Function">Sâ†’subalgebra</a><a id="4466" class="Symbol">{</a><a id="4467" href="Varieties.Preservation.html#4236" class="Bound">Î±</a><a id="4468" class="Symbol">}{</a><a id="4470" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="4471" class="Symbol">{</a><a id="4472" href="Varieties.Preservation.html#4236" class="Bound">Î±</a><a id="4473" class="Symbol">}{</a><a id="4475" href="Varieties.Preservation.html#4236" class="Bound">Î±</a><a id="4476" class="Symbol">}</a> <a id="4478" href="Varieties.Preservation.html#4243" class="Bound">ğ’¦</a><a id="4479" class="Symbol">}{</a><a id="4481" href="Varieties.Preservation.html#4254" class="Bound">ğ‘¨</a><a id="4482" class="Symbol">}</a> <a id="4484" href="Varieties.Preservation.html#4363" class="Function">splAu</a>

  <a id="4493" href="Varieties.Preservation.html#4493" class="Function">lAsc</a> <a id="4498" class="Symbol">:</a> <a id="4500" href="Varieties.Preservation.html#4317" class="Function">lA</a> <a id="4503" href="Subalgebras.Subalgebras.html#5744" class="Function Operator">IsSubalgebraOfClass</a> <a id="4523" class="Symbol">(</a><a id="4524" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="4526" href="Varieties.Preservation.html#4243" class="Bound">ğ’¦</a><a id="4527" class="Symbol">)</a>
  <a id="4531" href="Varieties.Preservation.html#4493" class="Function">lAsc</a> <a id="4536" class="Symbol">=</a> <a id="4538" href="Varieties.Closure.html#10810" class="Function">Lift-Alg-subP&#39;</a> <a id="4553" href="Varieties.Preservation.html#4412" class="Function">Asc</a>

<a id="4558" href="Varieties.Preservation.html#3665" class="Function">SâŠ†SP</a> <a id="4563" class="Symbol">{</a><a id="4564" class="Argument">Î±</a> <a id="4566" class="Symbol">=</a> <a id="4568" href="Varieties.Preservation.html#4568" class="Bound">Î±</a><a id="4569" class="Symbol">}{</a><a id="4571" href="Varieties.Preservation.html#4571" class="Bound">Î²</a><a id="4572" class="Symbol">}</a> <a id="4574" href="Varieties.Preservation.html#4574" class="Bound">ğ’¦</a> <a id="4576" class="Symbol">{</a><a id="4577" href="Varieties.Preservation.html#4577" class="Bound">ğ‘©</a><a id="4578" class="Symbol">}(</a><a id="4580" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a><a id="4584" class="Symbol">{</a><a id="4585" href="Varieties.Preservation.html#4585" class="Bound">ğ‘¨</a><a id="4586" class="Symbol">}</a> <a id="4588" href="Varieties.Preservation.html#4588" class="Bound">sA</a> <a id="4591" href="Varieties.Preservation.html#4591" class="Bound">Aâ‰…B</a><a id="4594" class="Symbol">)</a> <a id="4596" class="Symbol">=</a> <a id="4598" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a><a id="4602" class="Symbol">{</a><a id="4603" href="Varieties.Preservation.html#4568" class="Bound">Î±</a> <a id="4605" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4607" href="Varieties.Preservation.html#4571" class="Bound">Î²</a><a id="4608" class="Symbol">}{</a><a id="4610" href="Varieties.Preservation.html#4568" class="Bound">Î±</a> <a id="4612" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4614" href="Varieties.Preservation.html#4571" class="Bound">Î²</a><a id="4615" class="Symbol">}</a> <a id="4617" href="Varieties.Preservation.html#4784" class="Function">lAsp</a> <a id="4622" href="Varieties.Preservation.html#4860" class="Function">lAâ‰…B</a>
 <a id="4628" class="Keyword">where</a>
 <a id="4635" href="Varieties.Preservation.html#4635" class="Function">lA</a> <a id="4638" class="Symbol">:</a> <a id="4640" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="4648" class="Symbol">(</a><a id="4649" href="Varieties.Preservation.html#4568" class="Bound">Î±</a> <a id="4651" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4653" href="Varieties.Preservation.html#4571" class="Bound">Î²</a><a id="4654" class="Symbol">)</a> <a id="4656" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a>
 <a id="4659" href="Varieties.Preservation.html#4635" class="Function">lA</a> <a id="4662" class="Symbol">=</a> <a id="4664" href="Algebras.Basic.html#10858" class="Function">Lift-Alg</a> <a id="4673" href="Varieties.Preservation.html#4585" class="Bound">ğ‘¨</a> <a id="4675" href="Varieties.Preservation.html#4571" class="Bound">Î²</a>

 <a id="4679" href="Varieties.Preservation.html#4679" class="Function">lAsc</a> <a id="4684" class="Symbol">:</a> <a id="4686" href="Varieties.Preservation.html#4635" class="Function">lA</a> <a id="4689" href="Subalgebras.Subalgebras.html#5744" class="Function Operator">IsSubalgebraOfClass</a> <a id="4709" class="Symbol">(</a><a id="4710" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="4712" href="Varieties.Preservation.html#4574" class="Bound">ğ’¦</a><a id="4713" class="Symbol">)</a>
 <a id="4716" href="Varieties.Preservation.html#4679" class="Function">lAsc</a> <a id="4721" class="Symbol">=</a> <a id="4723" href="Varieties.Closure.html#10810" class="Function">Lift-Alg-subP&#39;</a> <a id="4738" class="Symbol">(</a><a id="4739" href="Varieties.Closure.html#7848" class="Function">Sâ†’subalgebra</a><a id="4751" class="Symbol">{</a><a id="4752" href="Varieties.Preservation.html#4568" class="Bound">Î±</a><a id="4753" class="Symbol">}{</a><a id="4755" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="4756" class="Symbol">{</a><a id="4757" href="Varieties.Preservation.html#4568" class="Bound">Î±</a><a id="4758" class="Symbol">}{</a><a id="4760" href="Varieties.Preservation.html#4568" class="Bound">Î±</a><a id="4761" class="Symbol">}</a> <a id="4763" href="Varieties.Preservation.html#4574" class="Bound">ğ’¦</a><a id="4764" class="Symbol">}{</a><a id="4766" href="Varieties.Preservation.html#4585" class="Bound">ğ‘¨</a><a id="4767" class="Symbol">}</a> <a id="4769" class="Symbol">(</a><a id="4770" href="Varieties.Preservation.html#3665" class="Function">SâŠ†SP</a> <a id="4775" href="Varieties.Preservation.html#4574" class="Bound">ğ’¦</a> <a id="4777" href="Varieties.Preservation.html#4588" class="Bound">sA</a><a id="4779" class="Symbol">))</a>

 <a id="4784" href="Varieties.Preservation.html#4784" class="Function">lAsp</a> <a id="4789" class="Symbol">:</a> <a id="4791" href="Varieties.Preservation.html#4635" class="Function">lA</a> <a id="4794" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="4796" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="4797" class="Symbol">(</a><a id="4798" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="4800" href="Varieties.Preservation.html#4574" class="Bound">ğ’¦</a><a id="4801" class="Symbol">)</a>
 <a id="4804" href="Varieties.Preservation.html#4784" class="Function">lAsp</a> <a id="4809" class="Symbol">=</a> <a id="4811" href="Varieties.Closure.html#7476" class="Function">subalgebraâ†’S</a><a id="4823" class="Symbol">{</a><a id="4824" href="Varieties.Preservation.html#4568" class="Bound">Î±</a> <a id="4826" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4828" href="Varieties.Preservation.html#4571" class="Bound">Î²</a><a id="4829" class="Symbol">}{</a><a id="4831" href="Varieties.Preservation.html#4568" class="Bound">Î±</a> <a id="4833" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4835" href="Varieties.Preservation.html#4571" class="Bound">Î²</a><a id="4836" class="Symbol">}{</a><a id="4838" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="4839" class="Symbol">{</a><a id="4840" href="Varieties.Preservation.html#4568" class="Bound">Î±</a><a id="4841" class="Symbol">}{</a><a id="4843" href="Varieties.Preservation.html#4571" class="Bound">Î²</a><a id="4844" class="Symbol">}</a> <a id="4846" href="Varieties.Preservation.html#4574" class="Bound">ğ’¦</a><a id="4847" class="Symbol">}{</a><a id="4849" href="Varieties.Preservation.html#4635" class="Function">lA</a><a id="4851" class="Symbol">}</a> <a id="4853" href="Varieties.Preservation.html#4679" class="Function">lAsc</a>

 <a id="4860" href="Varieties.Preservation.html#4860" class="Function">lAâ‰…B</a> <a id="4865" class="Symbol">:</a> <a id="4867" href="Varieties.Preservation.html#4635" class="Function">lA</a> <a id="4870" href="Homomorphisms.Isomorphisms.html#2333" class="Record Operator">â‰…</a> <a id="4872" href="Varieties.Preservation.html#4577" class="Bound">ğ‘©</a>
 <a id="4875" href="Varieties.Preservation.html#4860" class="Function">lAâ‰…B</a> <a id="4880" class="Symbol">=</a> <a id="4882" href="Homomorphisms.Isomorphisms.html#3053" class="Function">â‰…-trans</a> <a id="4890" class="Symbol">(</a><a id="4891" href="Homomorphisms.Isomorphisms.html#2964" class="Function">â‰…-sym</a> <a id="4897" href="Homomorphisms.Isomorphisms.html#4408" class="Function">Lift-â‰…</a><a id="4903" class="Symbol">)</a> <a id="4905" href="Varieties.Preservation.html#4591" class="Bound">Aâ‰…B</a>

</pre>


We need to formalize one more lemma before arriving the main objective of this section, which is the proof of the inclusion PSâŠ†SP.

<pre class="Agda">

<a id="5069" class="Keyword">module</a> <a id="5076" href="Varieties.Preservation.html#5076" class="Module">_</a> <a id="5078" class="Symbol">{</a><a id="5079" href="Varieties.Preservation.html#5079" class="Bound">Î±</a> <a id="5081" href="Varieties.Preservation.html#5081" class="Bound">Î²</a> <a id="5083" class="Symbol">:</a> <a id="5085" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="5090" class="Symbol">}</a> <a id="5092" class="Symbol">{</a><a id="5093" href="Varieties.Preservation.html#5093" class="Bound">ğ’¦</a> <a id="5095" class="Symbol">:</a> <a id="5097" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="5101" class="Symbol">(</a><a id="5102" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="5110" href="Varieties.Preservation.html#5079" class="Bound">Î±</a> <a id="5112" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="5113" class="Symbol">)(</a><a id="5115" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="5118" href="Varieties.Preservation.html#5079" class="Bound">Î±</a><a id="5119" class="Symbol">)}</a> <a id="5122" class="Keyword">where</a>

 <a id="5130" href="Varieties.Preservation.html#5130" class="Function">lemPSâŠ†SP</a> <a id="5139" class="Symbol">:</a> <a id="5141" href="Equality.Truncation.html#3959" class="Function">hfunext</a> <a id="5149" href="Varieties.Preservation.html#5081" class="Bound">Î²</a> <a id="5151" href="Varieties.Preservation.html#5079" class="Bound">Î±</a> <a id="5153" class="Symbol">â†’</a> <a id="5155" href="Varieties.Preservation.html#934" class="Function">funext</a> <a id="5162" href="Varieties.Preservation.html#5081" class="Bound">Î²</a> <a id="5164" href="Varieties.Preservation.html#5079" class="Bound">Î±</a> <a id="5166" class="Symbol">â†’</a> <a id="5168" class="Symbol">{</a><a id="5169" href="Varieties.Preservation.html#5169" class="Bound">I</a> <a id="5171" class="Symbol">:</a> <a id="5173" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="5178" href="Varieties.Preservation.html#5081" class="Bound">Î²</a><a id="5179" class="Symbol">}{</a><a id="5181" href="Varieties.Preservation.html#5181" class="Bound">â„¬</a> <a id="5183" class="Symbol">:</a> <a id="5185" href="Varieties.Preservation.html#5169" class="Bound">I</a> <a id="5187" class="Symbol">â†’</a> <a id="5189" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="5197" href="Varieties.Preservation.html#5079" class="Bound">Î±</a> <a id="5199" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="5200" class="Symbol">}</a>
  <a id="5204" class="Symbol">â†’</a>         <a id="5214" class="Symbol">(âˆ€</a> <a id="5217" href="Varieties.Preservation.html#5217" class="Bound">i</a> <a id="5219" class="Symbol">â†’</a> <a id="5221" class="Symbol">(</a><a id="5222" href="Varieties.Preservation.html#5181" class="Bound">â„¬</a> <a id="5224" href="Varieties.Preservation.html#5217" class="Bound">i</a><a id="5225" class="Symbol">)</a> <a id="5227" href="Subalgebras.Subalgebras.html#5744" class="Function Operator">IsSubalgebraOfClass</a> <a id="5247" href="Varieties.Preservation.html#5093" class="Bound">ğ’¦</a><a id="5248" class="Symbol">)</a>
  <a id="5252" class="Symbol">â†’</a>         <a id="5262" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5264" href="Varieties.Preservation.html#5181" class="Bound">â„¬</a> <a id="5266" href="Subalgebras.Subalgebras.html#5744" class="Function Operator">IsSubalgebraOfClass</a> <a id="5286" class="Symbol">(</a><a id="5287" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="5288" class="Symbol">{</a><a id="5289" href="Varieties.Preservation.html#5079" class="Bound">Î±</a><a id="5290" class="Symbol">}{</a><a id="5292" href="Varieties.Preservation.html#5081" class="Bound">Î²</a><a id="5293" class="Symbol">}</a> <a id="5295" href="Varieties.Preservation.html#5093" class="Bound">ğ’¦</a><a id="5296" class="Symbol">)</a>

 <a id="5300" href="Varieties.Preservation.html#5130" class="Function">lemPSâŠ†SP</a> <a id="5309" href="Varieties.Preservation.html#5309" class="Bound">hwu</a> <a id="5313" href="Varieties.Preservation.html#5313" class="Bound">fwu</a> <a id="5317" class="Symbol">{</a><a id="5318" href="Varieties.Preservation.html#5318" class="Bound">I</a><a id="5319" class="Symbol">}{</a><a id="5321" href="Varieties.Preservation.html#5321" class="Bound">â„¬</a><a id="5322" class="Symbol">}</a> <a id="5324" href="Varieties.Preservation.html#5324" class="Bound">Bâ‰¤K</a> <a id="5328" class="Symbol">=</a> <a id="5330" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5332" href="Varieties.Preservation.html#5401" class="Function">ğ’œ</a> <a id="5334" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5336" class="Symbol">(</a><a id="5337" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5339" href="Varieties.Preservation.html#5446" class="Function">SA</a> <a id="5342" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5344" href="Varieties.Preservation.html#5990" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a><a id="5350" class="Symbol">)</a> <a id="5352" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5354" href="Varieties.Preservation.html#6039" class="Function">Î¾</a> <a id="5356" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5358" class="Symbol">(</a><a id="5359" href="Homomorphisms.Isomorphisms.html#5730" class="Function">â¨…â‰…</a> <a id="5362" class="Symbol">{</a><a id="5363" class="Argument">fiu</a> <a id="5367" class="Symbol">=</a> <a id="5369" href="Varieties.Preservation.html#5313" class="Bound">fwu</a><a id="5372" class="Symbol">}{</a><a id="5374" class="Argument">fiw</a> <a id="5378" class="Symbol">=</a> <a id="5380" href="Varieties.Preservation.html#5313" class="Bound">fwu</a><a id="5383" class="Symbol">}</a> <a id="5385" href="Varieties.Preservation.html#5501" class="Function">Bâ‰…SA</a><a id="5389" class="Symbol">)</a>
  <a id="5393" class="Keyword">where</a>
  <a id="5401" href="Varieties.Preservation.html#5401" class="Function">ğ’œ</a> <a id="5403" class="Symbol">:</a> <a id="5405" href="Varieties.Preservation.html#5318" class="Bound">I</a> <a id="5407" class="Symbol">â†’</a> <a id="5409" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="5417" href="Varieties.Preservation.html#5079" class="Bound">Î±</a> <a id="5419" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a>
  <a id="5423" href="Varieties.Preservation.html#5401" class="Function">ğ’œ</a> <a id="5425" class="Symbol">=</a> <a id="5427" class="Symbol">Î»</a> <a id="5429" href="Varieties.Preservation.html#5429" class="Bound">i</a> <a id="5431" class="Symbol">â†’</a> <a id="5433" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="5435" href="Varieties.Preservation.html#5324" class="Bound">Bâ‰¤K</a> <a id="5439" href="Varieties.Preservation.html#5429" class="Bound">i</a> <a id="5441" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a>

  <a id="5446" href="Varieties.Preservation.html#5446" class="Function">SA</a> <a id="5449" class="Symbol">:</a> <a id="5451" href="Varieties.Preservation.html#5318" class="Bound">I</a> <a id="5453" class="Symbol">â†’</a> <a id="5455" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="5463" href="Varieties.Preservation.html#5079" class="Bound">Î±</a> <a id="5465" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a>
  <a id="5469" href="Varieties.Preservation.html#5446" class="Function">SA</a> <a id="5472" class="Symbol">=</a> <a id="5474" class="Symbol">Î»</a> <a id="5476" href="Varieties.Preservation.html#5476" class="Bound">i</a> <a id="5478" class="Symbol">â†’</a> <a id="5480" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="5482" href="Varieties.Preservation.html#1021" class="Field">fst</a> <a id="5486" href="Overture.Preliminaries.html#4421" class="Function Operator">âˆ¥</a> <a id="5488" href="Varieties.Preservation.html#5324" class="Bound">Bâ‰¤K</a> <a id="5492" href="Varieties.Preservation.html#5476" class="Bound">i</a> <a id="5494" href="Overture.Preliminaries.html#4421" class="Function Operator">âˆ¥</a> <a id="5496" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a>

  <a id="5501" href="Varieties.Preservation.html#5501" class="Function">Bâ‰…SA</a> <a id="5506" class="Symbol">:</a> <a id="5508" class="Symbol">âˆ€</a> <a id="5510" href="Varieties.Preservation.html#5510" class="Bound">i</a> <a id="5512" class="Symbol">â†’</a> <a id="5514" href="Varieties.Preservation.html#5321" class="Bound">â„¬</a> <a id="5516" href="Varieties.Preservation.html#5510" class="Bound">i</a> <a id="5518" href="Homomorphisms.Isomorphisms.html#2333" class="Record Operator">â‰…</a> <a id="5520" href="Varieties.Preservation.html#5446" class="Function">SA</a> <a id="5523" href="Varieties.Preservation.html#5510" class="Bound">i</a>
  <a id="5527" href="Varieties.Preservation.html#5501" class="Function">Bâ‰…SA</a> <a id="5532" class="Symbol">=</a> <a id="5534" class="Symbol">Î»</a> <a id="5536" href="Varieties.Preservation.html#5536" class="Bound">i</a> <a id="5538" class="Symbol">â†’</a> <a id="5540" href="Overture.Preliminaries.html#4421" class="Function Operator">âˆ¥</a> <a id="5542" href="Varieties.Preservation.html#1036" class="Field">snd</a> <a id="5546" href="Overture.Preliminaries.html#4421" class="Function Operator">âˆ¥</a> <a id="5548" href="Varieties.Preservation.html#5324" class="Bound">Bâ‰¤K</a> <a id="5552" href="Varieties.Preservation.html#5536" class="Bound">i</a> <a id="5554" href="Overture.Preliminaries.html#4421" class="Function Operator">âˆ¥</a> <a id="5556" href="Overture.Preliminaries.html#4421" class="Function Operator">âˆ¥</a>

  <a id="5561" href="Varieties.Preservation.html#5561" class="Function">SAâ‰¤ğ’œ</a> <a id="5566" class="Symbol">:</a> <a id="5568" class="Symbol">âˆ€</a> <a id="5570" href="Varieties.Preservation.html#5570" class="Bound">i</a> <a id="5572" class="Symbol">â†’</a> <a id="5574" class="Symbol">(</a><a id="5575" href="Varieties.Preservation.html#5446" class="Function">SA</a> <a id="5578" href="Varieties.Preservation.html#5570" class="Bound">i</a><a id="5579" class="Symbol">)</a> <a id="5581" href="Subalgebras.Subalgebras.html#2228" class="Function Operator">IsSubalgebraOf</a> <a id="5596" class="Symbol">(</a><a id="5597" href="Varieties.Preservation.html#5401" class="Function">ğ’œ</a> <a id="5599" href="Varieties.Preservation.html#5570" class="Bound">i</a><a id="5600" class="Symbol">)</a>
  <a id="5604" href="Varieties.Preservation.html#5561" class="Function">SAâ‰¤ğ’œ</a> <a id="5609" class="Symbol">=</a> <a id="5611" class="Symbol">Î»</a> <a id="5613" href="Varieties.Preservation.html#5613" class="Bound">i</a> <a id="5615" class="Symbol">â†’</a> <a id="5617" href="Varieties.Preservation.html#1036" class="Field">snd</a> <a id="5621" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="5623" href="Overture.Preliminaries.html#4421" class="Function Operator">âˆ¥</a> <a id="5625" href="Varieties.Preservation.html#5324" class="Bound">Bâ‰¤K</a> <a id="5629" href="Varieties.Preservation.html#5613" class="Bound">i</a> <a id="5631" href="Overture.Preliminaries.html#4421" class="Function Operator">âˆ¥</a> <a id="5633" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a>

  <a id="5638" href="Varieties.Preservation.html#5638" class="Function">h</a> <a id="5640" class="Symbol">:</a> <a id="5642" class="Symbol">âˆ€</a> <a id="5644" href="Varieties.Preservation.html#5644" class="Bound">i</a> <a id="5646" class="Symbol">â†’</a> <a id="5648" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="5650" href="Varieties.Preservation.html#5446" class="Function">SA</a> <a id="5653" href="Varieties.Preservation.html#5644" class="Bound">i</a> <a id="5655" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="5657" class="Symbol">â†’</a> <a id="5659" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="5661" href="Varieties.Preservation.html#5401" class="Function">ğ’œ</a> <a id="5663" href="Varieties.Preservation.html#5644" class="Bound">i</a> <a id="5665" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a>
  <a id="5669" href="Varieties.Preservation.html#5638" class="Function">h</a> <a id="5671" class="Symbol">=</a> <a id="5673" class="Symbol">Î»</a> <a id="5675" href="Varieties.Preservation.html#5675" class="Bound">i</a> <a id="5677" class="Symbol">â†’</a> <a id="5679" href="Varieties.Preservation.html#1021" class="Field">fst</a> <a id="5683" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="5685" href="Varieties.Preservation.html#5561" class="Function">SAâ‰¤ğ’œ</a> <a id="5690" href="Varieties.Preservation.html#5675" class="Bound">i</a> <a id="5692" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a>

  <a id="5697" href="Varieties.Preservation.html#5697" class="Function">hinj</a> <a id="5702" class="Symbol">:</a> <a id="5704" class="Symbol">âˆ€</a> <a id="5706" href="Varieties.Preservation.html#5706" class="Bound">i</a> <a id="5708" class="Symbol">â†’</a> <a id="5710" href="Overture.Injective.html#1265" class="Function">IsInjective</a> <a id="5722" class="Symbol">(</a><a id="5723" href="Varieties.Preservation.html#5638" class="Function">h</a> <a id="5725" href="Varieties.Preservation.html#5706" class="Bound">i</a><a id="5726" class="Symbol">)</a>
  <a id="5730" href="Varieties.Preservation.html#5697" class="Function">hinj</a> <a id="5735" class="Symbol">=</a> <a id="5737" class="Symbol">Î»</a> <a id="5739" href="Varieties.Preservation.html#5739" class="Bound">i</a> <a id="5741" class="Symbol">â†’</a> <a id="5743" href="Varieties.Preservation.html#1036" class="Field">snd</a> <a id="5747" class="Symbol">(</a><a id="5748" href="Varieties.Preservation.html#1036" class="Field">snd</a> <a id="5752" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="5754" href="Overture.Preliminaries.html#4421" class="Function Operator">âˆ¥</a> <a id="5756" href="Varieties.Preservation.html#5324" class="Bound">Bâ‰¤K</a> <a id="5760" href="Varieties.Preservation.html#5739" class="Bound">i</a> <a id="5762" href="Overture.Preliminaries.html#4421" class="Function Operator">âˆ¥</a> <a id="5764" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a><a id="5765" class="Symbol">)</a>

  <a id="5770" href="Varieties.Preservation.html#5770" class="Function">Ïƒ</a> <a id="5772" class="Symbol">:</a> <a id="5774" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="5776" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5778" href="Varieties.Preservation.html#5446" class="Function">SA</a> <a id="5781" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="5783" class="Symbol">â†’</a> <a id="5785" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="5787" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5789" href="Varieties.Preservation.html#5401" class="Function">ğ’œ</a> <a id="5791" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a>
  <a id="5795" href="Varieties.Preservation.html#5770" class="Function">Ïƒ</a> <a id="5797" class="Symbol">=</a> <a id="5799" class="Symbol">Î»</a> <a id="5801" href="Varieties.Preservation.html#5801" class="Bound">x</a> <a id="5803" href="Varieties.Preservation.html#5803" class="Bound">i</a> <a id="5805" class="Symbol">â†’</a> <a id="5807" class="Symbol">(</a><a id="5808" href="Varieties.Preservation.html#5638" class="Function">h</a> <a id="5810" href="Varieties.Preservation.html#5803" class="Bound">i</a><a id="5811" class="Symbol">)</a> <a id="5813" class="Symbol">(</a><a id="5814" href="Varieties.Preservation.html#5801" class="Bound">x</a> <a id="5816" href="Varieties.Preservation.html#5803" class="Bound">i</a><a id="5817" class="Symbol">)</a>
  <a id="5821" href="Varieties.Preservation.html#5821" class="Function">Î½</a> <a id="5823" class="Symbol">:</a> <a id="5825" href="Homomorphisms.Basic.html#2538" class="Function">is-homomorphism</a> <a id="5841" class="Symbol">(</a><a id="5842" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5844" href="Varieties.Preservation.html#5446" class="Function">SA</a><a id="5846" class="Symbol">)</a> <a id="5848" class="Symbol">(</a><a id="5849" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="5851" href="Varieties.Preservation.html#5401" class="Function">ğ’œ</a><a id="5852" class="Symbol">)</a> <a id="5854" href="Varieties.Preservation.html#5770" class="Function">Ïƒ</a>
  <a id="5858" href="Varieties.Preservation.html#5821" class="Function">Î½</a> <a id="5860" class="Symbol">=</a> <a id="5862" class="Symbol">Î»</a> <a id="5864" href="Varieties.Preservation.html#5864" class="Bound">ğ‘“</a> <a id="5866" href="Varieties.Preservation.html#5866" class="Bound">ğ’‚</a> <a id="5868" class="Symbol">â†’</a> <a id="5870" href="Varieties.Preservation.html#5313" class="Bound">fwu</a> <a id="5874" class="Symbol">Î»</a> <a id="5876" href="Varieties.Preservation.html#5876" class="Bound">i</a> <a id="5878" class="Symbol">â†’</a> <a id="5880" class="Symbol">(</a><a id="5881" href="Varieties.Preservation.html#1036" class="Field">snd</a> <a id="5885" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="5887" href="Varieties.Preservation.html#5561" class="Function">SAâ‰¤ğ’œ</a> <a id="5892" href="Varieties.Preservation.html#5876" class="Bound">i</a> <a id="5894" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a><a id="5895" class="Symbol">)</a> <a id="5897" href="Varieties.Preservation.html#5864" class="Bound">ğ‘“</a> <a id="5899" class="Symbol">(Î»</a> <a id="5902" href="Varieties.Preservation.html#5902" class="Bound">x</a> <a id="5904" class="Symbol">â†’</a> <a id="5906" href="Varieties.Preservation.html#5866" class="Bound">ğ’‚</a> <a id="5908" href="Varieties.Preservation.html#5902" class="Bound">x</a> <a id="5910" href="Varieties.Preservation.html#5876" class="Bound">i</a><a id="5911" class="Symbol">)</a>

  <a id="5916" href="Varieties.Preservation.html#5916" class="Function">Ïƒinj</a> <a id="5921" class="Symbol">:</a> <a id="5923" href="Overture.Injective.html#1265" class="Function">IsInjective</a> <a id="5935" href="Varieties.Preservation.html#5770" class="Function">Ïƒ</a>
  <a id="5939" href="Varieties.Preservation.html#5916" class="Function">Ïƒinj</a> <a id="5944" href="Varieties.Preservation.html#5944" class="Bound">ÏƒxÏƒy</a> <a id="5949" class="Symbol">=</a> <a id="5951" href="Varieties.Preservation.html#5313" class="Bound">fwu</a> <a id="5955" class="Symbol">Î»</a> <a id="5957" href="Varieties.Preservation.html#5957" class="Bound">i</a> <a id="5959" class="Symbol">â†’</a> <a id="5961" class="Symbol">(</a><a id="5962" href="Varieties.Preservation.html#5697" class="Function">hinj</a> <a id="5967" href="Varieties.Preservation.html#5957" class="Bound">i</a><a id="5968" class="Symbol">)(</a><a id="5970" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="5979" href="Varieties.Preservation.html#5944" class="Bound">ÏƒxÏƒy</a> <a id="5984" href="Varieties.Preservation.html#5957" class="Bound">i</a><a id="5985" class="Symbol">)</a>

  <a id="5990" href="Varieties.Preservation.html#5990" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a> <a id="5997" class="Symbol">:</a> <a id="5999" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="6001" href="Varieties.Preservation.html#5446" class="Function">SA</a> <a id="6004" href="Subalgebras.Subalgebras.html#2186" class="Function Operator">â‰¤</a> <a id="6006" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="6008" href="Varieties.Preservation.html#5401" class="Function">ğ’œ</a>
  <a id="6012" href="Varieties.Preservation.html#5990" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a> <a id="6019" class="Symbol">=</a> <a id="6021" class="Symbol">(</a><a id="6022" href="Varieties.Preservation.html#5770" class="Function">Ïƒ</a> <a id="6024" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6026" href="Varieties.Preservation.html#5821" class="Function">Î½</a><a id="6027" class="Symbol">)</a> <a id="6029" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6031" href="Varieties.Preservation.html#5916" class="Function">Ïƒinj</a>

  <a id="6039" href="Varieties.Preservation.html#6039" class="Function">Î¾</a> <a id="6041" class="Symbol">:</a> <a id="6043" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="6045" href="Varieties.Preservation.html#5401" class="Function">ğ’œ</a> <a id="6047" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="6049" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="6051" href="Varieties.Preservation.html#5093" class="Bound">ğ’¦</a>
  <a id="6055" href="Varieties.Preservation.html#6039" class="Function">Î¾</a> <a id="6057" class="Symbol">=</a> <a id="6059" href="Varieties.Closure.html#4645" class="InductiveConstructor">produ</a> <a id="6065" class="Symbol">(Î»</a> <a id="6068" href="Varieties.Preservation.html#6068" class="Bound">i</a> <a id="6070" class="Symbol">â†’</a> <a id="6072" href="Varieties.Closure.html#9503" class="Function">P-expa</a> <a id="6079" class="Symbol">(</a><a id="6080" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="6082" href="Varieties.Preservation.html#1036" class="Field">snd</a> <a id="6086" href="Overture.Preliminaries.html#4421" class="Function Operator">âˆ¥</a> <a id="6088" href="Varieties.Preservation.html#5324" class="Bound">Bâ‰¤K</a> <a id="6092" href="Varieties.Preservation.html#6068" class="Bound">i</a> <a id="6094" href="Overture.Preliminaries.html#4421" class="Function Operator">âˆ¥</a> <a id="6096" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a><a id="6097" class="Symbol">))</a>


</pre>



#### <a id="PS-in-SP">PS(ğ’¦) âŠ† SP(ğ’¦)</a>

Finally, we are in a position to prove that a product of subalgebras of algebras in a class ğ’¦ is a subalgebra of a product of algebras in ğ’¦.

<pre class="Agda">

<a id="6313" class="Keyword">module</a> <a id="6320" href="Varieties.Preservation.html#6320" class="Module">_</a> <a id="6322" class="Symbol">{</a><a id="6323" href="Varieties.Preservation.html#6323" class="Bound">Î±</a> <a id="6325" class="Symbol">:</a> <a id="6327" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="6332" class="Symbol">}</a> <a id="6334" class="Symbol">{</a><a id="6335" href="Varieties.Preservation.html#6335" class="Bound">fovu</a> <a id="6340" class="Symbol">:</a> <a id="6342" href="Varieties.Preservation.html#934" class="Function">funext</a> <a id="6349" class="Symbol">(</a><a id="6350" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6353" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6354" class="Symbol">)</a> <a id="6356" class="Symbol">(</a><a id="6357" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6360" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6361" class="Symbol">)}{</a><a id="6364" href="Varieties.Preservation.html#6364" class="Bound">ğ’¦</a> <a id="6366" class="Symbol">:</a> <a id="6368" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="6373" class="Symbol">(</a><a id="6374" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="6382" href="Varieties.Preservation.html#6323" class="Bound">Î±</a> <a id="6384" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="6385" class="Symbol">)(</a><a id="6387" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6390" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6391" class="Symbol">)}</a> <a id="6394" class="Keyword">where</a>

 <a id="6402" href="Varieties.Preservation.html#6402" class="Function">PSâŠ†SP</a> <a id="6408" class="Symbol">:</a> <a id="6410" class="Comment">-- extensionality assumptions:</a>
            <a id="6453" href="Equality.Truncation.html#3959" class="Function">hfunext</a> <a id="6461" class="Symbol">(</a><a id="6462" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6465" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6466" class="Symbol">)(</a><a id="6468" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6471" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6472" class="Symbol">)</a>

  <a id="6477" class="Symbol">â†’</a>      <a id="6484" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="6485" class="Symbol">{</a><a id="6486" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6489" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6490" class="Symbol">}{</a><a id="6492" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6495" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6496" class="Symbol">}</a> <a id="6498" class="Symbol">(</a><a id="6499" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="6500" class="Symbol">{</a><a id="6501" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6502" class="Symbol">}{</a><a id="6504" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6507" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6508" class="Symbol">}</a> <a id="6510" href="Varieties.Preservation.html#6364" class="Bound">ğ’¦</a><a id="6511" class="Symbol">)</a> <a id="6513" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="6515" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="6516" class="Symbol">{</a><a id="6517" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6520" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6521" class="Symbol">}{</a><a id="6523" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6526" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6527" class="Symbol">}</a> <a id="6529" class="Symbol">(</a><a id="6530" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="6531" class="Symbol">{</a><a id="6532" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6533" class="Symbol">}{</a><a id="6535" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6538" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6539" class="Symbol">}</a> <a id="6541" href="Varieties.Preservation.html#6364" class="Bound">ğ’¦</a><a id="6542" class="Symbol">)</a>

 <a id="6546" href="Varieties.Preservation.html#6402" class="Function">PSâŠ†SP</a> <a id="6552" class="Symbol">_</a> <a id="6554" class="Symbol">(</a><a id="6555" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="6561" class="Symbol">(</a><a id="6562" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a> <a id="6568" href="Varieties.Preservation.html#6568" class="Bound">x</a><a id="6569" class="Symbol">))</a> <a id="6572" class="Symbol">=</a> <a id="6574" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a> <a id="6580" class="Symbol">(</a><a id="6581" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="6587" href="Varieties.Preservation.html#6568" class="Bound">x</a><a id="6588" class="Symbol">)</a>
 <a id="6591" href="Varieties.Preservation.html#6402" class="Function">PSâŠ†SP</a> <a id="6597" class="Symbol">_</a> <a id="6599" class="Symbol">(</a><a id="6600" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="6606" class="Symbol">(</a><a id="6607" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a><a id="6612" class="Symbol">{</a><a id="6613" href="Varieties.Preservation.html#6613" class="Bound">ğ‘¨</a><a id="6614" class="Symbol">}</a> <a id="6616" href="Varieties.Preservation.html#6616" class="Bound">x</a><a id="6617" class="Symbol">))</a> <a id="6620" class="Symbol">=</a> <a id="6622" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a> <a id="6628" class="Symbol">(</a><a id="6629" href="Varieties.Preservation.html#3665" class="Function">SâŠ†SP</a><a id="6633" class="Symbol">{</a><a id="6634" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6635" class="Symbol">}{</a><a id="6637" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="6640" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6641" class="Symbol">}</a> <a id="6643" href="Varieties.Preservation.html#6364" class="Bound">ğ’¦</a> <a id="6645" class="Symbol">(</a><a id="6646" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a> <a id="6652" href="Varieties.Preservation.html#6616" class="Bound">x</a><a id="6653" class="Symbol">))</a>
 <a id="6657" href="Varieties.Preservation.html#6402" class="Function">PSâŠ†SP</a> <a id="6663" class="Symbol">_</a> <a id="6665" class="Symbol">(</a><a id="6666" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a><a id="6671" class="Symbol">{</a><a id="6672" href="Varieties.Preservation.html#6672" class="Bound">ğ‘©</a><a id="6673" class="Symbol">}(</a><a id="6675" href="Varieties.Closure.html#3982" class="InductiveConstructor">ssub</a><a id="6679" class="Symbol">{</a><a id="6680" href="Varieties.Preservation.html#6680" class="Bound">ğ‘¨</a><a id="6681" class="Symbol">}</a> <a id="6683" href="Varieties.Preservation.html#6683" class="Bound">sA</a> <a id="6686" href="Varieties.Preservation.html#6686" class="Bound">Bâ‰¤A</a><a id="6689" class="Symbol">))</a> <a id="6692" class="Symbol">=</a> <a id="6694" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a><a id="6698" class="Symbol">(</a><a id="6699" href="Varieties.Closure.html#3982" class="InductiveConstructor">ssub</a><a id="6703" class="Symbol">(</a><a id="6704" href="Varieties.Preservation.html#3665" class="Function">SâŠ†SP</a> <a id="6709" href="Varieties.Preservation.html#6364" class="Bound">ğ’¦</a> <a id="6711" class="Symbol">(</a><a id="6712" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a> <a id="6718" href="Varieties.Preservation.html#6683" class="Bound">sA</a><a id="6720" class="Symbol">))(</a><a id="6723" href="Subalgebras.Properties.html#6179" class="Function">Lift-â‰¤-Lift</a> <a id="6735" class="Symbol">(</a><a id="6736" href="Algebras.Products.html#3135" class="Function">ov</a><a id="6738" class="Symbol">(</a><a id="6739" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6740" class="Symbol">)){</a><a id="6743" href="Varieties.Preservation.html#6680" class="Bound">ğ‘¨</a><a id="6744" class="Symbol">}(</a><a id="6746" href="Algebras.Products.html#3135" class="Function">ov</a><a id="6748" class="Symbol">(</a><a id="6749" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="6750" class="Symbol">))</a><a id="6752" href="Varieties.Preservation.html#6686" class="Bound">Bâ‰¤A</a><a id="6755" class="Symbol">))</a> <a id="6758" href="Homomorphisms.Isomorphisms.html#2874" class="Function">â‰…-refl</a>
 <a id="6766" href="Varieties.Preservation.html#6402" class="Function">PSâŠ†SP</a> <a id="6772" class="Symbol">_</a> <a id="6774" class="Symbol">(</a><a id="6775" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="6781" class="Symbol">(</a><a id="6782" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a><a id="6786" class="Symbol">{</a><a id="6787" href="Varieties.Preservation.html#6787" class="Bound">ğ‘¨</a><a id="6788" class="Symbol">}{</a><a id="6790" href="Varieties.Preservation.html#6790" class="Bound">ğ‘©</a><a id="6791" class="Symbol">}</a> <a id="6793" href="Varieties.Preservation.html#6793" class="Bound">x</a> <a id="6795" href="Varieties.Preservation.html#6795" class="Bound">Aâ‰…B</a><a id="6798" class="Symbol">))</a> <a id="6801" class="Symbol">=</a> <a id="6803" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a> <a id="6808" class="Symbol">(</a><a id="6809" href="Varieties.Preservation.html#3665" class="Function">SâŠ†SP</a> <a id="6814" href="Varieties.Preservation.html#6364" class="Bound">ğ’¦</a> <a id="6816" class="Symbol">(</a><a id="6817" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a> <a id="6823" href="Varieties.Preservation.html#6793" class="Bound">x</a><a id="6824" class="Symbol">))</a> <a id="6827" class="Symbol">(</a> <a id="6829" href="Homomorphisms.Isomorphisms.html#4727" class="Function">Lift-Alg-iso</a> <a id="6842" href="Varieties.Preservation.html#6795" class="Bound">Aâ‰…B</a> <a id="6846" class="Symbol">)</a>
 <a id="6849" href="Varieties.Preservation.html#6402" class="Function">PSâŠ†SP</a> <a id="6855" href="Varieties.Preservation.html#6855" class="Bound">hfe</a> <a id="6859" class="Symbol">(</a><a id="6860" href="Varieties.Closure.html#4503" class="InductiveConstructor">pliftu</a> <a id="6867" href="Varieties.Preservation.html#6867" class="Bound">x</a><a id="6868" class="Symbol">)</a> <a id="6870" class="Symbol">=</a> <a id="6872" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a> <a id="6878" class="Symbol">(</a><a id="6879" href="Varieties.Preservation.html#6402" class="Function">PSâŠ†SP</a> <a id="6885" href="Varieties.Preservation.html#6855" class="Bound">hfe</a> <a id="6889" href="Varieties.Preservation.html#6867" class="Bound">x</a><a id="6890" class="Symbol">)</a>
 <a id="6893" href="Varieties.Preservation.html#6402" class="Function">PSâŠ†SP</a> <a id="6899" href="Varieties.Preservation.html#6899" class="Bound">hfe</a> <a id="6903" class="Symbol">(</a><a id="6904" href="Varieties.Closure.html#4568" class="InductiveConstructor">pliftw</a> <a id="6911" href="Varieties.Preservation.html#6911" class="Bound">x</a><a id="6912" class="Symbol">)</a> <a id="6914" class="Symbol">=</a> <a id="6916" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a> <a id="6922" class="Symbol">(</a><a id="6923" href="Varieties.Preservation.html#6402" class="Function">PSâŠ†SP</a> <a id="6929" href="Varieties.Preservation.html#6899" class="Bound">hfe</a> <a id="6933" href="Varieties.Preservation.html#6911" class="Bound">x</a><a id="6934" class="Symbol">)</a>

 <a id="6938" href="Varieties.Preservation.html#6402" class="Function">PSâŠ†SP</a> <a id="6944" href="Varieties.Preservation.html#6944" class="Bound">hfe</a> <a id="6948" class="Symbol">(</a><a id="6949" href="Varieties.Closure.html#4645" class="InductiveConstructor">produ</a><a id="6954" class="Symbol">{</a><a id="6955" href="Varieties.Preservation.html#6955" class="Bound">I</a><a id="6956" class="Symbol">}{</a><a id="6958" href="Varieties.Preservation.html#6958" class="Bound">ğ’œ</a><a id="6959" class="Symbol">}</a> <a id="6961" href="Varieties.Preservation.html#6961" class="Bound">x</a><a id="6962" class="Symbol">)</a> <a id="6964" class="Symbol">=</a> <a id="6966" class="Symbol">(</a><a id="6967" href="Varieties.Closure.html#6897" class="Function">S-mono</a> <a id="6974" class="Symbol">(</a><a id="6975" href="Varieties.Closure.html#9666" class="Function">P-idemp</a><a id="6982" class="Symbol">))</a> <a id="6985" class="Symbol">(</a><a id="6986" href="Varieties.Closure.html#7476" class="Function">subalgebraâ†’S</a> <a id="6999" href="Varieties.Preservation.html#7112" class="Function">Î·</a><a id="7000" class="Symbol">)</a>
  <a id="7004" class="Keyword">where</a>
   <a id="7013" href="Varieties.Preservation.html#7013" class="Function">Î¾</a> <a id="7015" class="Symbol">:</a> <a id="7017" class="Symbol">(</a><a id="7018" href="Varieties.Preservation.html#7018" class="Bound">i</a> <a id="7020" class="Symbol">:</a> <a id="7022" href="Varieties.Preservation.html#6955" class="Bound">I</a><a id="7023" class="Symbol">)</a> <a id="7025" class="Symbol">â†’</a> <a id="7027" class="Symbol">(</a><a id="7028" href="Varieties.Preservation.html#6958" class="Bound">ğ’œ</a> <a id="7030" href="Varieties.Preservation.html#7018" class="Bound">i</a><a id="7031" class="Symbol">)</a> <a id="7033" href="Subalgebras.Subalgebras.html#5744" class="Function Operator">IsSubalgebraOfClass</a> <a id="7053" class="Symbol">(</a><a id="7054" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="7055" class="Symbol">{</a><a id="7056" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="7057" class="Symbol">}{</a><a id="7059" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7062" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="7063" class="Symbol">}</a> <a id="7065" href="Varieties.Preservation.html#6364" class="Bound">ğ’¦</a><a id="7066" class="Symbol">)</a>
   <a id="7071" href="Varieties.Preservation.html#7013" class="Function">Î¾</a> <a id="7073" href="Varieties.Preservation.html#7073" class="Bound">i</a> <a id="7075" class="Symbol">=</a> <a id="7077" href="Varieties.Closure.html#7848" class="Function">Sâ†’subalgebra</a> <a id="7090" class="Symbol">(</a><a id="7091" href="Varieties.Preservation.html#6402" class="Function">PSâŠ†SP</a> <a id="7097" href="Varieties.Preservation.html#6944" class="Bound">hfe</a> <a id="7101" class="Symbol">(</a><a id="7102" href="Varieties.Preservation.html#6961" class="Bound">x</a> <a id="7104" href="Varieties.Preservation.html#7073" class="Bound">i</a><a id="7105" class="Symbol">))</a>

   <a id="7112" href="Varieties.Preservation.html#7112" class="Function">Î·</a> <a id="7114" class="Symbol">:</a> <a id="7116" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="7118" href="Varieties.Preservation.html#6958" class="Bound">ğ’œ</a> <a id="7120" href="Subalgebras.Subalgebras.html#5744" class="Function Operator">IsSubalgebraOfClass</a> <a id="7140" class="Symbol">(</a><a id="7141" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="7142" class="Symbol">{</a><a id="7143" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7146" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="7147" class="Symbol">}{</a><a id="7149" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7152" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="7153" class="Symbol">}</a> <a id="7155" class="Symbol">(</a><a id="7156" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="7157" class="Symbol">{</a><a id="7158" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="7159" class="Symbol">}{</a><a id="7161" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7164" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="7165" class="Symbol">}</a> <a id="7167" href="Varieties.Preservation.html#6364" class="Bound">ğ’¦</a><a id="7168" class="Symbol">))</a>
   <a id="7174" href="Varieties.Preservation.html#7112" class="Function">Î·</a> <a id="7176" class="Symbol">=</a> <a id="7178" href="Varieties.Preservation.html#5130" class="Function">lemPSâŠ†SP</a> <a id="7187" href="Varieties.Preservation.html#6944" class="Bound">hfe</a> <a id="7191" href="Varieties.Preservation.html#6335" class="Bound">fovu</a> <a id="7196" class="Symbol">{</a><a id="7197" href="Varieties.Preservation.html#6955" class="Bound">I</a><a id="7198" class="Symbol">}</a> <a id="7200" class="Symbol">{</a><a id="7201" href="Varieties.Preservation.html#6958" class="Bound">ğ’œ</a><a id="7202" class="Symbol">}</a> <a id="7204" href="Varieties.Preservation.html#7013" class="Function">Î¾</a>

 <a id="7208" href="Varieties.Preservation.html#6402" class="Function">PSâŠ†SP</a> <a id="7214" href="Varieties.Preservation.html#7214" class="Bound">hfe</a> <a id="7218" class="Symbol">(</a><a id="7219" href="Varieties.Closure.html#4730" class="InductiveConstructor">prodw</a><a id="7224" class="Symbol">{</a><a id="7225" href="Varieties.Preservation.html#7225" class="Bound">I</a><a id="7226" class="Symbol">}{</a><a id="7228" href="Varieties.Preservation.html#7228" class="Bound">ğ’œ</a><a id="7229" class="Symbol">}</a> <a id="7231" href="Varieties.Preservation.html#7231" class="Bound">x</a><a id="7232" class="Symbol">)</a> <a id="7234" class="Symbol">=</a> <a id="7236" class="Symbol">(</a><a id="7237" href="Varieties.Closure.html#6897" class="Function">S-mono</a> <a id="7244" class="Symbol">(</a><a id="7245" href="Varieties.Closure.html#9666" class="Function">P-idemp</a><a id="7252" class="Symbol">))</a> <a id="7255" class="Symbol">(</a><a id="7256" href="Varieties.Closure.html#7476" class="Function">subalgebraâ†’S</a> <a id="7269" href="Varieties.Preservation.html#7382" class="Function">Î·</a><a id="7270" class="Symbol">)</a>
  <a id="7274" class="Keyword">where</a>
   <a id="7283" href="Varieties.Preservation.html#7283" class="Function">Î¾</a> <a id="7285" class="Symbol">:</a> <a id="7287" class="Symbol">(</a><a id="7288" href="Varieties.Preservation.html#7288" class="Bound">i</a> <a id="7290" class="Symbol">:</a> <a id="7292" href="Varieties.Preservation.html#7225" class="Bound">I</a><a id="7293" class="Symbol">)</a> <a id="7295" class="Symbol">â†’</a> <a id="7297" class="Symbol">(</a><a id="7298" href="Varieties.Preservation.html#7228" class="Bound">ğ’œ</a> <a id="7300" href="Varieties.Preservation.html#7288" class="Bound">i</a><a id="7301" class="Symbol">)</a> <a id="7303" href="Subalgebras.Subalgebras.html#5744" class="Function Operator">IsSubalgebraOfClass</a> <a id="7323" class="Symbol">(</a><a id="7324" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="7325" class="Symbol">{</a><a id="7326" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="7327" class="Symbol">}{</a><a id="7329" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7332" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="7333" class="Symbol">}</a> <a id="7335" href="Varieties.Preservation.html#6364" class="Bound">ğ’¦</a><a id="7336" class="Symbol">)</a>
   <a id="7341" href="Varieties.Preservation.html#7283" class="Function">Î¾</a> <a id="7343" href="Varieties.Preservation.html#7343" class="Bound">i</a> <a id="7345" class="Symbol">=</a> <a id="7347" href="Varieties.Closure.html#7848" class="Function">Sâ†’subalgebra</a> <a id="7360" class="Symbol">(</a><a id="7361" href="Varieties.Preservation.html#6402" class="Function">PSâŠ†SP</a> <a id="7367" href="Varieties.Preservation.html#7214" class="Bound">hfe</a> <a id="7371" class="Symbol">(</a><a id="7372" href="Varieties.Preservation.html#7231" class="Bound">x</a> <a id="7374" href="Varieties.Preservation.html#7343" class="Bound">i</a><a id="7375" class="Symbol">))</a>

   <a id="7382" href="Varieties.Preservation.html#7382" class="Function">Î·</a> <a id="7384" class="Symbol">:</a> <a id="7386" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="7388" href="Varieties.Preservation.html#7228" class="Bound">ğ’œ</a> <a id="7390" href="Subalgebras.Subalgebras.html#5744" class="Function Operator">IsSubalgebraOfClass</a> <a id="7410" class="Symbol">(</a><a id="7411" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="7412" class="Symbol">{</a><a id="7413" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7416" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="7417" class="Symbol">}{</a><a id="7419" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7422" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="7423" class="Symbol">}</a> <a id="7425" class="Symbol">(</a><a id="7426" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="7427" class="Symbol">{</a><a id="7428" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="7429" class="Symbol">}{</a><a id="7431" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7434" href="Varieties.Preservation.html#6323" class="Bound">Î±</a><a id="7435" class="Symbol">}</a> <a id="7437" href="Varieties.Preservation.html#6364" class="Bound">ğ’¦</a><a id="7438" class="Symbol">))</a>
   <a id="7444" href="Varieties.Preservation.html#7382" class="Function">Î·</a> <a id="7446" class="Symbol">=</a> <a id="7448" href="Varieties.Preservation.html#5130" class="Function">lemPSâŠ†SP</a> <a id="7457" href="Varieties.Preservation.html#7214" class="Bound">hfe</a> <a id="7461" href="Varieties.Preservation.html#6335" class="Bound">fovu</a>  <a id="7467" class="Symbol">{</a><a id="7468" href="Varieties.Preservation.html#7225" class="Bound">I</a><a id="7469" class="Symbol">}</a> <a id="7471" class="Symbol">{</a><a id="7472" href="Varieties.Preservation.html#7228" class="Bound">ğ’œ</a><a id="7473" class="Symbol">}</a> <a id="7475" href="Varieties.Preservation.html#7283" class="Function">Î¾</a>

 <a id="7479" href="Varieties.Preservation.html#6402" class="Function">PSâŠ†SP</a> <a id="7485" href="Varieties.Preservation.html#7485" class="Bound">hfe</a> <a id="7489" class="Symbol">(</a><a id="7490" href="Varieties.Closure.html#4815" class="InductiveConstructor">pisow</a><a id="7495" class="Symbol">{</a><a id="7496" href="Varieties.Preservation.html#7496" class="Bound">ğ‘¨</a><a id="7497" class="Symbol">}{</a><a id="7499" href="Varieties.Preservation.html#7499" class="Bound">ğ‘©</a><a id="7500" class="Symbol">}</a> <a id="7502" href="Varieties.Preservation.html#7502" class="Bound">pA</a> <a id="7505" href="Varieties.Preservation.html#7505" class="Bound">Aâ‰…B</a><a id="7508" class="Symbol">)</a> <a id="7510" class="Symbol">=</a> <a id="7512" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a> <a id="7517" class="Symbol">(</a><a id="7518" href="Varieties.Preservation.html#6402" class="Function">PSâŠ†SP</a> <a id="7524" href="Varieties.Preservation.html#7485" class="Bound">hfe</a> <a id="7528" href="Varieties.Preservation.html#7502" class="Bound">pA</a><a id="7530" class="Symbol">)</a> <a id="7532" href="Varieties.Preservation.html#7505" class="Bound">Aâ‰…B</a>

</pre>



#### <a id="more-class-inclusions">More class inclusions</a>

We conclude this subsection with three more inclusion relations that will have bit parts to play later (e.g., in the formal proof of Birkhoff's Theorem).

<pre class="Agda">

<a id="PâŠ†V"></a><a id="7782" href="Varieties.Preservation.html#7782" class="Function">PâŠ†V</a> <a id="7786" class="Symbol">:</a> <a id="7788" class="Symbol">{</a><a id="7789" href="Varieties.Preservation.html#7789" class="Bound">Î±</a> <a id="7791" href="Varieties.Preservation.html#7791" class="Bound">Î²</a> <a id="7793" class="Symbol">:</a> <a id="7795" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="7800" class="Symbol">}{</a><a id="7802" href="Varieties.Preservation.html#7802" class="Bound">ğ’¦</a> <a id="7804" class="Symbol">:</a> <a id="7806" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="7811" class="Symbol">(</a><a id="7812" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="7820" href="Varieties.Preservation.html#7789" class="Bound">Î±</a> <a id="7822" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="7823" class="Symbol">)(</a><a id="7825" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="7828" href="Varieties.Preservation.html#7789" class="Bound">Î±</a><a id="7829" class="Symbol">)}</a> <a id="7832" class="Symbol">â†’</a> <a id="7834" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="7835" class="Symbol">{</a><a id="7836" href="Varieties.Preservation.html#7789" class="Bound">Î±</a><a id="7837" class="Symbol">}{</a><a id="7839" href="Varieties.Preservation.html#7791" class="Bound">Î²</a><a id="7840" class="Symbol">}</a> <a id="7842" href="Varieties.Preservation.html#7802" class="Bound">ğ’¦</a> <a id="7844" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="7846" href="Varieties.Closure.html#5316" class="Datatype">V</a><a id="7847" class="Symbol">{</a><a id="7848" href="Varieties.Preservation.html#7789" class="Bound">Î±</a><a id="7849" class="Symbol">}{</a><a id="7851" href="Varieties.Preservation.html#7791" class="Bound">Î²</a><a id="7852" class="Symbol">}</a> <a id="7854" href="Varieties.Preservation.html#7802" class="Bound">ğ’¦</a>

<a id="7857" href="Varieties.Preservation.html#7782" class="Function">PâŠ†V</a> <a id="7861" class="Symbol">(</a><a id="7862" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="7868" href="Varieties.Preservation.html#7868" class="Bound">x</a><a id="7869" class="Symbol">)</a> <a id="7871" class="Symbol">=</a> <a id="7873" href="Varieties.Closure.html#5404" class="InductiveConstructor">vbase</a> <a id="7879" href="Varieties.Preservation.html#7868" class="Bound">x</a>
<a id="7881" href="Varieties.Preservation.html#7782" class="Function">PâŠ†V</a><a id="7884" class="Symbol">{</a><a id="7885" href="Varieties.Preservation.html#7885" class="Bound">Î±</a><a id="7886" class="Symbol">}</a> <a id="7888" class="Symbol">(</a><a id="7889" href="Varieties.Closure.html#4503" class="InductiveConstructor">pliftu</a> <a id="7896" href="Varieties.Preservation.html#7896" class="Bound">x</a><a id="7897" class="Symbol">)</a> <a id="7899" class="Symbol">=</a> <a id="7901" href="Varieties.Closure.html#5461" class="InductiveConstructor">vlift</a> <a id="7907" class="Symbol">(</a><a id="7908" href="Varieties.Preservation.html#7782" class="Function">PâŠ†V</a><a id="7911" class="Symbol">{</a><a id="7912" href="Varieties.Preservation.html#7885" class="Bound">Î±</a><a id="7913" class="Symbol">}{</a><a id="7915" href="Varieties.Preservation.html#7885" class="Bound">Î±</a><a id="7916" class="Symbol">}</a> <a id="7918" href="Varieties.Preservation.html#7896" class="Bound">x</a><a id="7919" class="Symbol">)</a>
<a id="7921" href="Varieties.Preservation.html#7782" class="Function">PâŠ†V</a><a id="7924" class="Symbol">{</a><a id="7925" href="Varieties.Preservation.html#7925" class="Bound">Î±</a><a id="7926" class="Symbol">}{</a><a id="7928" href="Varieties.Preservation.html#7928" class="Bound">Î²</a><a id="7929" class="Symbol">}</a> <a id="7931" class="Symbol">(</a><a id="7932" href="Varieties.Closure.html#4568" class="InductiveConstructor">pliftw</a> <a id="7939" href="Varieties.Preservation.html#7939" class="Bound">x</a><a id="7940" class="Symbol">)</a> <a id="7942" class="Symbol">=</a> <a id="7944" href="Varieties.Closure.html#5526" class="InductiveConstructor">vliftw</a> <a id="7951" class="Symbol">(</a><a id="7952" href="Varieties.Preservation.html#7782" class="Function">PâŠ†V</a><a id="7955" class="Symbol">{</a><a id="7956" href="Varieties.Preservation.html#7925" class="Bound">Î±</a><a id="7957" class="Symbol">}{</a><a id="7959" href="Varieties.Preservation.html#7928" class="Bound">Î²</a><a id="7960" class="Symbol">}</a> <a id="7962" href="Varieties.Preservation.html#7939" class="Bound">x</a><a id="7963" class="Symbol">)</a>
<a id="7965" href="Varieties.Preservation.html#7782" class="Function">PâŠ†V</a> <a id="7969" class="Symbol">(</a><a id="7970" href="Varieties.Closure.html#4645" class="InductiveConstructor">produ</a> <a id="7976" href="Varieties.Preservation.html#7976" class="Bound">x</a><a id="7977" class="Symbol">)</a> <a id="7979" class="Symbol">=</a> <a id="7981" href="Varieties.Closure.html#5743" class="InductiveConstructor">vprodu</a> <a id="7988" class="Symbol">(Î»</a> <a id="7991" href="Varieties.Preservation.html#7991" class="Bound">i</a> <a id="7993" class="Symbol">â†’</a> <a id="7995" href="Varieties.Preservation.html#7782" class="Function">PâŠ†V</a> <a id="7999" class="Symbol">(</a><a id="8000" href="Varieties.Preservation.html#7976" class="Bound">x</a> <a id="8002" href="Varieties.Preservation.html#7991" class="Bound">i</a><a id="8003" class="Symbol">))</a>
<a id="8006" href="Varieties.Preservation.html#7782" class="Function">PâŠ†V</a> <a id="8010" class="Symbol">(</a><a id="8011" href="Varieties.Closure.html#4730" class="InductiveConstructor">prodw</a> <a id="8017" href="Varieties.Preservation.html#8017" class="Bound">x</a><a id="8018" class="Symbol">)</a> <a id="8020" class="Symbol">=</a> <a id="8022" href="Varieties.Closure.html#5827" class="InductiveConstructor">vprodw</a> <a id="8029" class="Symbol">(Î»</a> <a id="8032" href="Varieties.Preservation.html#8032" class="Bound">i</a> <a id="8034" class="Symbol">â†’</a> <a id="8036" href="Varieties.Preservation.html#7782" class="Function">PâŠ†V</a> <a id="8040" class="Symbol">(</a><a id="8041" href="Varieties.Preservation.html#8017" class="Bound">x</a> <a id="8043" href="Varieties.Preservation.html#8032" class="Bound">i</a><a id="8044" class="Symbol">))</a>
<a id="8047" href="Varieties.Preservation.html#7782" class="Function">PâŠ†V</a> <a id="8051" class="Symbol">(</a><a id="8052" href="Varieties.Closure.html#4815" class="InductiveConstructor">pisow</a> <a id="8058" href="Varieties.Preservation.html#8058" class="Bound">x</a> <a id="8060" href="Varieties.Preservation.html#8060" class="Bound">xâ‚</a><a id="8062" class="Symbol">)</a> <a id="8064" class="Symbol">=</a> <a id="8066" href="Varieties.Closure.html#5990" class="InductiveConstructor">visow</a> <a id="8072" class="Symbol">(</a><a id="8073" href="Varieties.Preservation.html#7782" class="Function">PâŠ†V</a> <a id="8077" href="Varieties.Preservation.html#8058" class="Bound">x</a><a id="8078" class="Symbol">)</a> <a id="8080" href="Varieties.Preservation.html#8060" class="Bound">xâ‚</a>


<a id="SPâŠ†V"></a><a id="8085" href="Varieties.Preservation.html#8085" class="Function">SPâŠ†V</a> <a id="8090" class="Symbol">:</a> <a id="8092" class="Symbol">{</a><a id="8093" href="Varieties.Preservation.html#8093" class="Bound">Î±</a> <a id="8095" href="Varieties.Preservation.html#8095" class="Bound">Î²</a> <a id="8097" class="Symbol">:</a> <a id="8099" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="8104" class="Symbol">}{</a><a id="8106" href="Varieties.Preservation.html#8106" class="Bound">ğ’¦</a> <a id="8108" class="Symbol">:</a> <a id="8110" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="8115" class="Symbol">(</a><a id="8116" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="8124" href="Varieties.Preservation.html#8093" class="Bound">Î±</a> <a id="8126" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="8127" class="Symbol">)(</a><a id="8129" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="8132" href="Varieties.Preservation.html#8093" class="Bound">Î±</a><a id="8133" class="Symbol">)}</a>
 <a id="8137" class="Symbol">â†’</a>     <a id="8143" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="8144" class="Symbol">{</a><a id="8145" href="Varieties.Preservation.html#8093" class="Bound">Î±</a> <a id="8147" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="8149" href="Varieties.Preservation.html#8095" class="Bound">Î²</a><a id="8150" class="Symbol">}{</a><a id="8152" href="Varieties.Preservation.html#8093" class="Bound">Î±</a> <a id="8154" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="8156" href="Varieties.Preservation.html#8095" class="Bound">Î²</a><a id="8157" class="Symbol">}</a> <a id="8159" class="Symbol">(</a><a id="8160" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="8161" class="Symbol">{</a><a id="8162" href="Varieties.Preservation.html#8093" class="Bound">Î±</a><a id="8163" class="Symbol">}{</a><a id="8165" href="Varieties.Preservation.html#8095" class="Bound">Î²</a><a id="8166" class="Symbol">}</a> <a id="8168" href="Varieties.Preservation.html#8106" class="Bound">ğ’¦</a><a id="8169" class="Symbol">)</a> <a id="8171" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="8173" href="Varieties.Closure.html#5316" class="Datatype">V</a> <a id="8175" href="Varieties.Preservation.html#8106" class="Bound">ğ’¦</a>

<a id="8178" href="Varieties.Preservation.html#8085" class="Function">SPâŠ†V</a> <a id="8183" class="Symbol">(</a><a id="8184" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a><a id="8189" class="Symbol">{</a><a id="8190" href="Varieties.Preservation.html#8190" class="Bound">ğ‘¨</a><a id="8191" class="Symbol">}</a> <a id="8193" href="Varieties.Preservation.html#8193" class="Bound">PCloA</a><a id="8198" class="Symbol">)</a> <a id="8200" class="Symbol">=</a> <a id="8202" href="Varieties.Preservation.html#7782" class="Function">PâŠ†V</a> <a id="8206" class="Symbol">(</a><a id="8207" href="Varieties.Closure.html#4815" class="InductiveConstructor">pisow</a> <a id="8213" href="Varieties.Preservation.html#8193" class="Bound">PCloA</a> <a id="8219" href="Homomorphisms.Isomorphisms.html#4408" class="Function">Lift-â‰…</a><a id="8225" class="Symbol">)</a>
<a id="8227" href="Varieties.Preservation.html#8085" class="Function">SPâŠ†V</a> <a id="8232" class="Symbol">(</a><a id="8233" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a><a id="8238" class="Symbol">{</a><a id="8239" href="Varieties.Preservation.html#8239" class="Bound">ğ‘¨</a><a id="8240" class="Symbol">}</a> <a id="8242" href="Varieties.Preservation.html#8242" class="Bound">x</a><a id="8243" class="Symbol">)</a> <a id="8245" class="Symbol">=</a> <a id="8247" href="Varieties.Closure.html#5526" class="InductiveConstructor">vliftw</a> <a id="8254" class="Symbol">(</a><a id="8255" href="Varieties.Preservation.html#8085" class="Function">SPâŠ†V</a> <a id="8260" href="Varieties.Preservation.html#8242" class="Bound">x</a><a id="8261" class="Symbol">)</a>
<a id="8263" href="Varieties.Preservation.html#8085" class="Function">SPâŠ†V</a> <a id="8268" class="Symbol">(</a><a id="8269" href="Varieties.Closure.html#3982" class="InductiveConstructor">ssub</a><a id="8273" class="Symbol">{</a><a id="8274" href="Varieties.Preservation.html#8274" class="Bound">ğ‘¨</a><a id="8275" class="Symbol">}{</a><a id="8277" href="Varieties.Preservation.html#8277" class="Bound">ğ‘©</a><a id="8278" class="Symbol">}</a> <a id="8280" href="Varieties.Preservation.html#8280" class="Bound">spA</a> <a id="8284" href="Varieties.Preservation.html#8284" class="Bound">Bâ‰¤A</a><a id="8287" class="Symbol">)</a> <a id="8289" class="Symbol">=</a> <a id="8291" href="Varieties.Closure.html#5679" class="InductiveConstructor">vssubw</a> <a id="8298" class="Symbol">(</a><a id="8299" href="Varieties.Preservation.html#8085" class="Function">SPâŠ†V</a> <a id="8304" href="Varieties.Preservation.html#8280" class="Bound">spA</a><a id="8307" class="Symbol">)</a> <a id="8309" href="Varieties.Preservation.html#8284" class="Bound">Bâ‰¤A</a>
<a id="8313" href="Varieties.Preservation.html#8085" class="Function">SPâŠ†V</a> <a id="8318" class="Symbol">(</a><a id="8319" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a> <a id="8324" href="Varieties.Preservation.html#8324" class="Bound">x</a> <a id="8326" href="Varieties.Preservation.html#8326" class="Bound">xâ‚</a><a id="8328" class="Symbol">)</a> <a id="8330" class="Symbol">=</a> <a id="8332" href="Varieties.Closure.html#5990" class="InductiveConstructor">visow</a> <a id="8338" class="Symbol">(</a><a id="8339" href="Varieties.Preservation.html#8085" class="Function">SPâŠ†V</a> <a id="8344" href="Varieties.Preservation.html#8324" class="Bound">x</a><a id="8345" class="Symbol">)</a> <a id="8347" href="Varieties.Preservation.html#8326" class="Bound">xâ‚</a>

</pre>


#### <a id="V-is-closed-under-lift">V is closed under lift</a>

As mentioned earlier, a technical hurdle that must be overcome when formalizing proofs in Agda is the proper handling of universe levels. In particular, in the proof of the Birkhoff's theorem, for example, we will need to know that if an algebra ğ‘¨ belongs to the variety V ğ’¦, then so does the lift of ğ‘¨.  Let us get the tedious proof of this technical lemma out of the way.

Above we proved that `SP(ğ’¦) âŠ† V(ğ’¦)`, and we did so under fairly general assumptions about the universe level parameters.  Unfortunately, this is sometimes not quite general enough, so we now prove the inclusion again for the specific universe parameters that align with subsequent applications of this result.


<pre class="Agda">

<a id="9129" class="Keyword">module</a> <a id="9136" href="Varieties.Preservation.html#9136" class="Module">_</a> <a id="9138" class="Symbol">{</a><a id="9139" href="Varieties.Preservation.html#9139" class="Bound">Î±</a> <a id="9141" class="Symbol">:</a> <a id="9143" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="9148" class="Symbol">}</a>  <a id="9151" class="Symbol">{</a><a id="9152" href="Varieties.Preservation.html#9152" class="Bound">feâ‚€</a> <a id="9156" class="Symbol">:</a> <a id="9158" href="Varieties.Preservation.html#934" class="Function">funext</a> <a id="9165" class="Symbol">(</a><a id="9166" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9169" href="Varieties.Preservation.html#9139" class="Bound">Î±</a><a id="9170" class="Symbol">)</a> <a id="9172" href="Varieties.Preservation.html#9139" class="Bound">Î±</a><a id="9173" class="Symbol">}</a>
         <a id="9184" class="Symbol">{</a><a id="9185" href="Varieties.Preservation.html#9185" class="Bound">feâ‚</a> <a id="9189" class="Symbol">:</a> <a id="9191" href="Varieties.Preservation.html#934" class="Function">funext</a> <a id="9198" class="Symbol">((</a><a id="9200" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9203" href="Varieties.Preservation.html#9139" class="Bound">Î±</a><a id="9204" class="Symbol">)</a> <a id="9206" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="9208" class="Symbol">(</a><a id="9209" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9214" class="Symbol">(</a><a id="9215" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9218" href="Varieties.Preservation.html#9139" class="Bound">Î±</a><a id="9219" class="Symbol">)))</a> <a id="9223" class="Symbol">(</a><a id="9224" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9229" class="Symbol">(</a><a id="9230" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9233" href="Varieties.Preservation.html#9139" class="Bound">Î±</a><a id="9234" class="Symbol">))}</a>
         <a id="9247" class="Symbol">{</a><a id="9248" href="Varieties.Preservation.html#9248" class="Bound">feâ‚‚</a> <a id="9252" class="Symbol">:</a> <a id="9254" href="Varieties.Preservation.html#934" class="Function">funext</a> <a id="9261" class="Symbol">(</a><a id="9262" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9265" href="Varieties.Preservation.html#9139" class="Bound">Î±</a><a id="9266" class="Symbol">)</a> <a id="9268" class="Symbol">(</a><a id="9269" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9272" href="Varieties.Preservation.html#9139" class="Bound">Î±</a><a id="9273" class="Symbol">)}</a>
         <a id="9285" class="Symbol">{</a><a id="9286" href="Varieties.Preservation.html#9286" class="Bound">ğ’¦</a> <a id="9288" class="Symbol">:</a> <a id="9290" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="9295" class="Symbol">(</a><a id="9296" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="9304" href="Varieties.Preservation.html#9139" class="Bound">Î±</a> <a id="9306" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="9307" class="Symbol">)(</a><a id="9309" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9312" href="Varieties.Preservation.html#9139" class="Bound">Î±</a><a id="9313" class="Symbol">)}</a> <a id="9316" class="Keyword">where</a>

 <a id="9324" class="Keyword">open</a> <a id="9329" href="Varieties.Closure.html#11720" class="Module">Vlift</a> <a id="9335" class="Symbol">{</a><a id="9336" href="Varieties.Preservation.html#9139" class="Bound">Î±</a><a id="9337" class="Symbol">}{</a><a id="9339" href="Varieties.Preservation.html#9152" class="Bound">feâ‚€</a><a id="9342" class="Symbol">}{</a><a id="9344" href="Varieties.Preservation.html#9185" class="Bound">feâ‚</a><a id="9347" class="Symbol">}{</a><a id="9349" href="Varieties.Preservation.html#9248" class="Bound">feâ‚‚</a><a id="9352" class="Symbol">}{</a><a id="9354" href="Varieties.Preservation.html#9286" class="Bound">ğ’¦</a><a id="9355" class="Symbol">}</a>

 <a id="9359" href="Varieties.Preservation.html#9359" class="Function">SPâŠ†V&#39;</a> <a id="9365" class="Symbol">:</a> <a id="9367" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="9368" class="Symbol">{</a><a id="9369" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9372" href="Varieties.Preservation.html#9139" class="Bound">Î±</a><a id="9373" class="Symbol">}{</a><a id="9375" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9380" class="Symbol">(</a><a id="9381" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9384" href="Varieties.Preservation.html#9139" class="Bound">Î±</a><a id="9385" class="Symbol">)}</a> <a id="9388" class="Symbol">(</a><a id="9389" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="9390" class="Symbol">{</a><a id="9391" href="Varieties.Preservation.html#9139" class="Bound">Î±</a><a id="9392" class="Symbol">}{</a><a id="9394" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9397" href="Varieties.Preservation.html#9139" class="Bound">Î±</a><a id="9398" class="Symbol">}</a> <a id="9400" href="Varieties.Preservation.html#9286" class="Bound">ğ’¦</a><a id="9401" class="Symbol">)</a> <a id="9403" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="9405" href="Varieties.Closure.html#5316" class="Datatype">V</a> <a id="9407" href="Varieties.Preservation.html#9286" class="Bound">ğ’¦</a>

 <a id="9411" href="Varieties.Preservation.html#9359" class="Function">SPâŠ†V&#39;</a> <a id="9417" class="Symbol">(</a><a id="9418" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a><a id="9423" class="Symbol">{</a><a id="9424" href="Varieties.Preservation.html#9424" class="Bound">ğ‘¨</a><a id="9425" class="Symbol">}</a> <a id="9427" href="Varieties.Preservation.html#9427" class="Bound">x</a><a id="9428" class="Symbol">)</a> <a id="9430" class="Symbol">=</a> <a id="9432" href="Varieties.Closure.html#5990" class="InductiveConstructor">visow</a> <a id="9438" class="Symbol">(</a><a id="9439" href="Varieties.Closure.html#11923" class="Function">VlA</a> <a id="9443" class="Symbol">(</a><a id="9444" href="Varieties.Preservation.html#8085" class="Function">SPâŠ†V</a> <a id="9449" class="Symbol">(</a><a id="9450" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a> <a id="9456" href="Varieties.Preservation.html#9427" class="Bound">x</a><a id="9457" class="Symbol">)))</a> <a id="9461" class="Symbol">(</a><a id="9462" href="Homomorphisms.Isomorphisms.html#2964" class="Function">â‰…-sym</a> <a id="9468" class="Symbol">(</a><a id="9469" href="Homomorphisms.Isomorphisms.html#5149" class="Function">Lift-Alg-assoc</a> <a id="9484" class="Symbol">_</a> <a id="9486" class="Symbol">_{</a><a id="9488" href="Varieties.Preservation.html#9424" class="Bound">ğ‘¨</a><a id="9489" class="Symbol">}))</a>
 <a id="9494" href="Varieties.Preservation.html#9359" class="Function">SPâŠ†V&#39;</a> <a id="9500" class="Symbol">(</a><a id="9501" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a> <a id="9507" href="Varieties.Preservation.html#9507" class="Bound">x</a><a id="9508" class="Symbol">)</a> <a id="9510" class="Symbol">=</a> <a id="9512" href="Varieties.Closure.html#11923" class="Function">VlA</a> <a id="9516" class="Symbol">(</a><a id="9517" href="Varieties.Preservation.html#8085" class="Function">SPâŠ†V</a> <a id="9522" href="Varieties.Preservation.html#9507" class="Bound">x</a><a id="9523" class="Symbol">)</a>

 <a id="9527" href="Varieties.Preservation.html#9359" class="Function">SPâŠ†V&#39;</a> <a id="9533" class="Symbol">(</a><a id="9534" href="Varieties.Closure.html#3982" class="InductiveConstructor">ssub</a><a id="9538" class="Symbol">{</a><a id="9539" href="Varieties.Preservation.html#9539" class="Bound">ğ‘¨</a><a id="9540" class="Symbol">}{</a><a id="9542" href="Varieties.Preservation.html#9542" class="Bound">ğ‘©</a><a id="9543" class="Symbol">}</a> <a id="9545" href="Varieties.Preservation.html#9545" class="Bound">spA</a> <a id="9549" href="Varieties.Preservation.html#9549" class="Bound">Bâ‰¤A</a><a id="9552" class="Symbol">)</a> <a id="9554" class="Symbol">=</a> <a id="9556" href="Varieties.Closure.html#5679" class="InductiveConstructor">vssubw</a> <a id="9563" class="Symbol">(</a><a id="9564" href="Varieties.Closure.html#11923" class="Function">VlA</a> <a id="9568" class="Symbol">(</a><a id="9569" href="Varieties.Preservation.html#8085" class="Function">SPâŠ†V</a> <a id="9574" href="Varieties.Preservation.html#9545" class="Bound">spA</a><a id="9577" class="Symbol">))</a> <a id="9580" href="Varieties.Preservation.html#9596" class="Function">Bâ‰¤lA</a>
  <a id="9587" class="Keyword">where</a>
   <a id="9596" href="Varieties.Preservation.html#9596" class="Function">Bâ‰¤lA</a> <a id="9601" class="Symbol">:</a> <a id="9603" href="Varieties.Preservation.html#9542" class="Bound">ğ‘©</a> <a id="9605" href="Subalgebras.Subalgebras.html#2186" class="Function Operator">â‰¤</a> <a id="9607" href="Algebras.Basic.html#10858" class="Function">Lift-Alg</a> <a id="9616" href="Varieties.Preservation.html#9539" class="Bound">ğ‘¨</a> <a id="9618" class="Symbol">(</a><a id="9619" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9624" class="Symbol">(</a><a id="9625" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9628" href="Varieties.Preservation.html#9139" class="Bound">Î±</a><a id="9629" class="Symbol">))</a>
   <a id="9635" href="Varieties.Preservation.html#9596" class="Function">Bâ‰¤lA</a> <a id="9640" class="Symbol">=</a> <a id="9642" href="Subalgebras.Properties.html#5929" class="Function">â‰¤-Lift</a> <a id="9649" href="Varieties.Preservation.html#9539" class="Bound">ğ‘¨</a> <a id="9651" href="Varieties.Preservation.html#9549" class="Bound">Bâ‰¤A</a>

 <a id="9657" href="Varieties.Preservation.html#9359" class="Function">SPâŠ†V&#39;</a> <a id="9663" class="Symbol">(</a><a id="9664" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a><a id="9668" class="Symbol">{</a><a id="9669" href="Varieties.Preservation.html#9669" class="Bound">ğ‘¨</a><a id="9670" class="Symbol">}{</a><a id="9672" href="Varieties.Preservation.html#9672" class="Bound">ğ‘©</a><a id="9673" class="Symbol">}</a> <a id="9675" href="Varieties.Preservation.html#9675" class="Bound">x</a> <a id="9677" href="Varieties.Preservation.html#9677" class="Bound">Aâ‰…B</a><a id="9680" class="Symbol">)</a> <a id="9682" class="Symbol">=</a> <a id="9684" href="Varieties.Closure.html#5990" class="InductiveConstructor">visow</a> <a id="9690" class="Symbol">(</a><a id="9691" href="Varieties.Closure.html#11923" class="Function">VlA</a> <a id="9695" class="Symbol">(</a><a id="9696" href="Varieties.Preservation.html#8085" class="Function">SPâŠ†V</a> <a id="9701" href="Varieties.Preservation.html#9675" class="Bound">x</a><a id="9702" class="Symbol">))</a> <a id="9705" href="Varieties.Preservation.html#9721" class="Function">Goal</a>
  <a id="9712" class="Keyword">where</a>
   <a id="9721" href="Varieties.Preservation.html#9721" class="Function">Goal</a> <a id="9726" class="Symbol">:</a> <a id="9728" href="Algebras.Basic.html#10858" class="Function">Lift-Alg</a> <a id="9737" href="Varieties.Preservation.html#9669" class="Bound">ğ‘¨</a> <a id="9739" class="Symbol">(</a><a id="9740" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9745" class="Symbol">(</a><a id="9746" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="9749" href="Varieties.Preservation.html#9139" class="Bound">Î±</a><a id="9750" class="Symbol">))</a> <a id="9753" href="Homomorphisms.Isomorphisms.html#2333" class="Record Operator">â‰…</a> <a id="9755" href="Varieties.Preservation.html#9672" class="Bound">ğ‘©</a>
   <a id="9760" href="Varieties.Preservation.html#9721" class="Function">Goal</a> <a id="9765" class="Symbol">=</a> <a id="9767" href="Homomorphisms.Isomorphisms.html#3053" class="Function">â‰…-trans</a> <a id="9775" class="Symbol">(</a><a id="9776" href="Homomorphisms.Isomorphisms.html#2964" class="Function">â‰…-sym</a> <a id="9782" href="Homomorphisms.Isomorphisms.html#4408" class="Function">Lift-â‰…</a><a id="9788" class="Symbol">)</a> <a id="9790" href="Varieties.Preservation.html#9677" class="Bound">Aâ‰…B</a>

</pre>


#### <a id="S-in-SP">â¨… S(ğ’¦) âˆˆ SP(ğ’¦)</a>

Finally, we prove a result that plays an important role, e.g., in the formal proof of Birkhoff's Theorem. As we saw in [Algebras.Products][], the (informal) product `â¨… S(ğ’¦)` of all subalgebras of algebras in ğ’¦ is implemented (formally) in the [agda-algebras](https://github.com/ualib/agda-algebras) library as `â¨… ğ”„ S(ğ’¦)`. Our goal is to prove that this product belongs to `SP(ğ’¦)`. We do so by first proving that the product belongs to `PS(ğ’¦)` and then applying the `PSâŠ†SP` lemma.

Before doing so, we need to redefine the class product so that each factor comes with a map from the type `X` of variable symbols into that factor.  We will explain the reason for this below.

<pre class="Agda">

<a id="10537" class="Keyword">module</a> <a id="class-products-with-maps"></a><a id="10544" href="Varieties.Preservation.html#10544" class="Module">class-products-with-maps</a> <a id="10569" class="Symbol">{</a><a id="10570" href="Varieties.Preservation.html#10570" class="Bound">Î±</a> <a id="10572" class="Symbol">:</a> <a id="10574" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="10579" class="Symbol">}</a>
 <a id="10582" class="Symbol">{</a><a id="10583" href="Varieties.Preservation.html#10583" class="Bound">X</a> <a id="10585" class="Symbol">:</a> <a id="10587" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="10592" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="10593" class="Symbol">}</a>
 <a id="10596" class="Symbol">{</a><a id="10597" href="Varieties.Preservation.html#10597" class="Bound">feğ“•Î±</a> <a id="10602" class="Symbol">:</a> <a id="10604" href="Varieties.Preservation.html#934" class="Function">funext</a> <a id="10611" class="Symbol">(</a><a id="10612" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="10615" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="10616" class="Symbol">)</a> <a id="10618" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="10619" class="Symbol">}</a>
 <a id="10622" class="Symbol">{</a><a id="10623" href="Varieties.Preservation.html#10623" class="Bound">feâ‚</a> <a id="10627" class="Symbol">:</a> <a id="10629" href="Varieties.Preservation.html#934" class="Function">funext</a> <a id="10636" class="Symbol">((</a><a id="10638" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="10641" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="10642" class="Symbol">)</a> <a id="10644" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="10646" class="Symbol">(</a><a id="10647" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="10652" class="Symbol">(</a><a id="10653" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="10656" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="10657" class="Symbol">)))</a> <a id="10661" class="Symbol">(</a><a id="10662" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="10667" class="Symbol">(</a><a id="10668" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="10671" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="10672" class="Symbol">))}</a>
 <a id="10677" class="Symbol">{</a><a id="10678" href="Varieties.Preservation.html#10678" class="Bound">feâ‚‚</a> <a id="10682" class="Symbol">:</a> <a id="10684" href="Varieties.Preservation.html#934" class="Function">funext</a> <a id="10691" class="Symbol">(</a><a id="10692" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="10695" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="10696" class="Symbol">)</a> <a id="10698" class="Symbol">(</a><a id="10699" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="10702" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="10703" class="Symbol">)}</a>
 <a id="10707" class="Symbol">(</a><a id="10708" href="Varieties.Preservation.html#10708" class="Bound">ğ’¦</a> <a id="10710" class="Symbol">:</a> <a id="10712" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="10717" class="Symbol">(</a><a id="10718" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="10726" href="Varieties.Preservation.html#10570" class="Bound">Î±</a> <a id="10728" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="10729" class="Symbol">)(</a><a id="10731" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="10734" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="10735" class="Symbol">))</a>
 <a id="10739" class="Keyword">where</a>

 <a id="class-products-with-maps.â„‘&#39;"></a><a id="10747" href="Varieties.Preservation.html#10747" class="Function">â„‘&#39;</a> <a id="10750" class="Symbol">:</a> <a id="10752" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="10757" class="Symbol">(</a><a id="10758" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="10761" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="10762" class="Symbol">)</a>
 <a id="10765" href="Varieties.Preservation.html#10747" class="Function">â„‘&#39;</a> <a id="10768" class="Symbol">=</a> <a id="10770" href="Data.Product.html#916" class="Function">Î£[</a> <a id="10773" href="Varieties.Preservation.html#10773" class="Bound">ğ‘¨</a> <a id="10775" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="10777" class="Symbol">(</a><a id="10778" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="10786" href="Varieties.Preservation.html#10570" class="Bound">Î±</a> <a id="10788" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="10789" class="Symbol">)</a> <a id="10791" href="Data.Product.html#916" class="Function">]</a> <a id="10793" class="Symbol">((</a><a id="10795" href="Varieties.Preservation.html#10773" class="Bound">ğ‘¨</a> <a id="10797" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="10799" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="10800" class="Symbol">{</a><a id="10801" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="10802" class="Symbol">}{</a><a id="10804" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="10805" class="Symbol">}</a> <a id="10807" href="Varieties.Preservation.html#10708" class="Bound">ğ’¦</a><a id="10808" class="Symbol">)</a> <a id="10810" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="10812" class="Symbol">(</a><a id="10813" href="Varieties.Preservation.html#10583" class="Bound">X</a> <a id="10815" class="Symbol">â†’</a> <a id="10817" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="10819" href="Varieties.Preservation.html#10773" class="Bound">ğ‘¨</a> <a id="10821" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a><a id="10822" class="Symbol">))</a>

</pre>

Notice that the second component of this dependent pair type is  `(ğ‘¨ âˆˆ ğ’¦) Ã— (X â†’ âˆ£ ğ‘¨ âˆ£)`. In previous versions of the [UALib][] this second component was simply `ğ‘¨ âˆˆ ğ’¦`, until we realized that adding the type `X â†’ âˆ£ ğ‘¨ âˆ£` is quite useful. Later we will see exactly why, but for now suffice it to say that a map of type `X â†’ âˆ£ ğ‘¨ âˆ£` may be viewed abstractly as an *ambient context*, or more concretely, as an assignment of *values* in `âˆ£ ğ‘¨ âˆ£` to *variable symbols* in `X`.  When computing with or reasoning about products, while we don't want to rigidly impose a context in advance, want do want to lay our hands on whatever context is ultimately assumed.  Including the "context map" inside the index type `â„‘` of the product turns out to be a convenient way to achieve this flexibility.


Taking the product over the index type `â„‘` requires a function that maps an index `i : â„‘` to the corresponding algebra.  Each `i : â„‘` is a triple, say, `(ğ‘¨ , p , h)`, where `ğ‘¨ : Algebra Î± ğ‘†`, `p : ğ‘¨ âˆˆ ğ’¦`, and `h : X â†’ âˆ£ ğ‘¨ âˆ£`, so the function mapping an index to the corresponding algebra is simply the first projection.

<pre class="Agda">

 <a id="class-products-with-maps.ğ”„&#39;"></a><a id="11961" href="Varieties.Preservation.html#11961" class="Function">ğ”„&#39;</a> <a id="11964" class="Symbol">:</a> <a id="11966" href="Varieties.Preservation.html#10747" class="Function">â„‘&#39;</a> <a id="11969" class="Symbol">â†’</a> <a id="11971" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="11979" href="Varieties.Preservation.html#10570" class="Bound">Î±</a> <a id="11981" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a>
 <a id="11984" href="Varieties.Preservation.html#11961" class="Function">ğ”„&#39;</a> <a id="11987" class="Symbol">=</a> <a id="11989" class="Symbol">Î»</a> <a id="11991" class="Symbol">(</a><a id="11992" href="Varieties.Preservation.html#11992" class="Bound">i</a> <a id="11994" class="Symbol">:</a> <a id="11996" href="Varieties.Preservation.html#10747" class="Function">â„‘&#39;</a><a id="11998" class="Symbol">)</a> <a id="12000" class="Symbol">â†’</a> <a id="12002" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="12004" href="Varieties.Preservation.html#11992" class="Bound">i</a> <a id="12006" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a>

</pre>

Finally, we define `class-product` which represents the product of all members of ğ’¦.

<pre class="Agda">

 <a id="class-products-with-maps.class-product&#39;"></a><a id="12122" href="Varieties.Preservation.html#12122" class="Function">class-product&#39;</a> <a id="12137" class="Symbol">:</a> <a id="12139" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="12147" class="Symbol">(</a><a id="12148" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="12151" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="12152" class="Symbol">)</a> <a id="12154" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a>
 <a id="12157" href="Varieties.Preservation.html#12122" class="Function">class-product&#39;</a> <a id="12172" class="Symbol">=</a> <a id="12174" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="12176" href="Varieties.Preservation.html#11961" class="Function">ğ”„&#39;</a>

</pre>

If `p : ğ‘¨ âˆˆ ğ’¦` and `h : X â†’ âˆ£ ğ‘¨ âˆ£`, we view the triple `(ğ‘¨ , p , h) âˆˆ â„‘` as an index over the class, and so we can think of `ğ”„ (ğ‘¨ , p , h)` (which is simply `ğ‘¨`) as the projection of the product `â¨… ğ”„` onto the `(ğ‘¨ , p, h)`-th component.

<pre class="Agda">

 <a id="class-products-with-maps.class-prod-s-âˆˆ-ps"></a><a id="12445" href="Varieties.Preservation.html#12445" class="Function">class-prod-s-âˆˆ-ps</a> <a id="12463" class="Symbol">:</a> <a id="12465" href="Varieties.Preservation.html#12122" class="Function">class-product&#39;</a> <a id="12480" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12482" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="12483" class="Symbol">{</a><a id="12484" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="12487" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="12488" class="Symbol">}{</a><a id="12490" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="12493" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="12494" class="Symbol">}(</a><a id="12496" href="Varieties.Closure.html#3774" class="Datatype">S</a> <a id="12498" href="Varieties.Preservation.html#10708" class="Bound">ğ’¦</a><a id="12499" class="Symbol">)</a>
 <a id="12502" href="Varieties.Preservation.html#12445" class="Function">class-prod-s-âˆˆ-ps</a> <a id="12520" class="Symbol">=</a> <a id="12522" href="Varieties.Closure.html#4815" class="InductiveConstructor">pisow</a> <a id="12528" href="Varieties.Preservation.html#12803" class="Function">psPllA</a> <a id="12535" class="Symbol">(</a><a id="12536" href="Homomorphisms.Isomorphisms.html#5730" class="Function">â¨…â‰…</a> <a id="12539" class="Symbol">{</a><a id="12540" class="Argument">fiu</a> <a id="12544" class="Symbol">=</a> <a id="12546" href="Varieties.Preservation.html#10678" class="Bound">feâ‚‚</a><a id="12549" class="Symbol">}{</a><a id="12551" class="Argument">fiw</a> <a id="12555" class="Symbol">=</a> <a id="12557" href="Varieties.Preservation.html#10597" class="Bound">feğ“•Î±</a><a id="12561" class="Symbol">}</a> <a id="12563" href="Varieties.Preservation.html#12854" class="Function">llAâ‰…A</a><a id="12568" class="Symbol">)</a>

  <a id="12573" class="Keyword">where</a>
  <a id="12581" href="Varieties.Preservation.html#12581" class="Function">lA</a> <a id="12584" href="Varieties.Preservation.html#12584" class="Function">llA</a> <a id="12588" class="Symbol">:</a> <a id="12590" href="Varieties.Preservation.html#10747" class="Function">â„‘&#39;</a> <a id="12593" class="Symbol">â†’</a> <a id="12595" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="12603" class="Symbol">(</a><a id="12604" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="12607" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="12608" class="Symbol">)</a> <a id="12610" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a>
  <a id="12614" href="Varieties.Preservation.html#12581" class="Function">lA</a> <a id="12617" href="Varieties.Preservation.html#12617" class="Bound">i</a> <a id="12619" class="Symbol">=</a>  <a id="12622" href="Algebras.Basic.html#10858" class="Function">Lift-Alg</a> <a id="12631" class="Symbol">(</a><a id="12632" href="Algebras.Products.html#5304" class="Function">ğ”„</a> <a id="12634" href="Varieties.Preservation.html#12617" class="Bound">i</a><a id="12635" class="Symbol">)</a> <a id="12637" class="Symbol">(</a><a id="12638" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="12641" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="12642" class="Symbol">)</a>
  <a id="12646" href="Varieties.Preservation.html#12584" class="Function">llA</a> <a id="12650" href="Varieties.Preservation.html#12650" class="Bound">i</a> <a id="12652" class="Symbol">=</a> <a id="12654" href="Algebras.Basic.html#10858" class="Function">Lift-Alg</a> <a id="12663" class="Symbol">(</a><a id="12664" href="Varieties.Preservation.html#12581" class="Function">lA</a> <a id="12667" href="Varieties.Preservation.html#12650" class="Bound">i</a><a id="12668" class="Symbol">)</a> <a id="12670" class="Symbol">(</a><a id="12671" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="12674" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="12675" class="Symbol">)</a>

  <a id="12680" href="Varieties.Preservation.html#12680" class="Function">slA</a> <a id="12684" class="Symbol">:</a> <a id="12686" class="Symbol">âˆ€</a> <a id="12688" href="Varieties.Preservation.html#12688" class="Bound">i</a> <a id="12690" class="Symbol">â†’</a> <a id="12692" class="Symbol">(</a><a id="12693" href="Varieties.Preservation.html#12581" class="Function">lA</a> <a id="12696" href="Varieties.Preservation.html#12688" class="Bound">i</a><a id="12697" class="Symbol">)</a> <a id="12699" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12701" href="Varieties.Closure.html#3774" class="Datatype">S</a> <a id="12703" href="Varieties.Preservation.html#10708" class="Bound">ğ’¦</a>
  <a id="12707" href="Varieties.Preservation.html#12680" class="Function">slA</a> <a id="12711" href="Varieties.Preservation.html#12711" class="Bound">i</a> <a id="12713" class="Symbol">=</a> <a id="12715" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a> <a id="12720" class="Symbol">(</a><a id="12721" href="Varieties.Preservation.html#1021" class="Field">fst</a> <a id="12725" href="Overture.Preliminaries.html#4421" class="Function Operator">âˆ¥</a> <a id="12727" href="Varieties.Preservation.html#12711" class="Bound">i</a> <a id="12729" href="Overture.Preliminaries.html#4421" class="Function Operator">âˆ¥</a><a id="12730" class="Symbol">)</a> <a id="12732" href="Homomorphisms.Isomorphisms.html#4408" class="Function">Lift-â‰…</a>

  <a id="12742" href="Varieties.Preservation.html#12742" class="Function">psllA</a> <a id="12748" class="Symbol">:</a> <a id="12750" class="Symbol">âˆ€</a> <a id="12752" href="Varieties.Preservation.html#12752" class="Bound">i</a> <a id="12754" class="Symbol">â†’</a> <a id="12756" class="Symbol">(</a><a id="12757" href="Varieties.Preservation.html#12584" class="Function">llA</a> <a id="12761" href="Varieties.Preservation.html#12752" class="Bound">i</a><a id="12762" class="Symbol">)</a> <a id="12764" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12766" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="12768" class="Symbol">(</a><a id="12769" href="Varieties.Closure.html#3774" class="Datatype">S</a> <a id="12771" href="Varieties.Preservation.html#10708" class="Bound">ğ’¦</a><a id="12772" class="Symbol">)</a>
  <a id="12776" href="Varieties.Preservation.html#12742" class="Function">psllA</a> <a id="12782" href="Varieties.Preservation.html#12782" class="Bound">i</a> <a id="12784" class="Symbol">=</a> <a id="12786" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="12792" class="Symbol">(</a><a id="12793" href="Varieties.Preservation.html#12680" class="Function">slA</a> <a id="12797" href="Varieties.Preservation.html#12782" class="Bound">i</a><a id="12798" class="Symbol">)</a>

  <a id="12803" href="Varieties.Preservation.html#12803" class="Function">psPllA</a> <a id="12810" class="Symbol">:</a> <a id="12812" href="Algebras.Products.html#1869" class="Function">â¨…</a> <a id="12814" href="Varieties.Preservation.html#12584" class="Function">llA</a> <a id="12818" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12820" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="12822" class="Symbol">(</a><a id="12823" href="Varieties.Closure.html#3774" class="Datatype">S</a> <a id="12825" href="Varieties.Preservation.html#10708" class="Bound">ğ’¦</a><a id="12826" class="Symbol">)</a>
  <a id="12830" href="Varieties.Preservation.html#12803" class="Function">psPllA</a> <a id="12837" class="Symbol">=</a> <a id="12839" href="Varieties.Closure.html#4645" class="InductiveConstructor">produ</a> <a id="12845" href="Varieties.Preservation.html#12742" class="Function">psllA</a>

  <a id="12854" href="Varieties.Preservation.html#12854" class="Function">llAâ‰…A</a> <a id="12860" class="Symbol">:</a> <a id="12862" class="Symbol">âˆ€</a> <a id="12864" href="Varieties.Preservation.html#12864" class="Bound">i</a> <a id="12866" class="Symbol">â†’</a> <a id="12868" class="Symbol">(</a><a id="12869" href="Varieties.Preservation.html#12584" class="Function">llA</a> <a id="12873" href="Varieties.Preservation.html#12864" class="Bound">i</a><a id="12874" class="Symbol">)</a> <a id="12876" href="Homomorphisms.Isomorphisms.html#2333" class="Record Operator">â‰…</a> <a id="12878" class="Symbol">(</a><a id="12879" href="Varieties.Preservation.html#11961" class="Function">ğ”„&#39;</a> <a id="12882" href="Varieties.Preservation.html#12864" class="Bound">i</a><a id="12883" class="Symbol">)</a>
  <a id="12887" href="Varieties.Preservation.html#12854" class="Function">llAâ‰…A</a> <a id="12893" href="Varieties.Preservation.html#12893" class="Bound">i</a> <a id="12895" class="Symbol">=</a> <a id="12897" href="Homomorphisms.Isomorphisms.html#3053" class="Function">â‰…-trans</a> <a id="12905" class="Symbol">(</a><a id="12906" href="Homomorphisms.Isomorphisms.html#2964" class="Function">â‰…-sym</a> <a id="12912" href="Homomorphisms.Isomorphisms.html#4408" class="Function">Lift-â‰…</a><a id="12918" class="Symbol">)(</a><a id="12920" href="Homomorphisms.Isomorphisms.html#2964" class="Function">â‰…-sym</a> <a id="12926" href="Homomorphisms.Isomorphisms.html#4408" class="Function">Lift-â‰…</a><a id="12932" class="Symbol">)</a>

</pre>


So, since `PSâŠ†SP`, we see that that the product of all subalgebras of a class `ğ’¦` belongs to `SP(ğ’¦)`.

<pre class="Agda">

 <a id="class-products-with-maps.class-prod-s-âˆˆ-sp"></a><a id="13066" href="Varieties.Preservation.html#13066" class="Function">class-prod-s-âˆˆ-sp</a> <a id="13084" class="Symbol">:</a> <a id="13086" href="Equality.Truncation.html#3959" class="Function">hfunext</a> <a id="13094" class="Symbol">(</a><a id="13095" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="13098" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="13099" class="Symbol">)</a> <a id="13101" class="Symbol">(</a><a id="13102" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="13105" href="Varieties.Preservation.html#10570" class="Bound">Î±</a><a id="13106" class="Symbol">)</a> <a id="13108" class="Symbol">â†’</a> <a id="13110" href="Algebras.Products.html#5451" class="Function">class-product</a> <a id="13124" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="13126" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="13127" class="Symbol">(</a><a id="13128" href="Varieties.Closure.html#4358" class="Datatype">P</a> <a id="13130" href="Varieties.Preservation.html#10708" class="Bound">ğ’¦</a><a id="13131" class="Symbol">)</a>
 <a id="13134" href="Varieties.Preservation.html#13066" class="Function">class-prod-s-âˆˆ-sp</a> <a id="13152" href="Varieties.Preservation.html#13152" class="Bound">hfe</a> <a id="13156" class="Symbol">=</a> <a id="13158" href="Varieties.Preservation.html#6402" class="Function">PSâŠ†SP</a> <a id="13164" class="Symbol">{</a><a id="13165" class="Argument">fovu</a> <a id="13170" class="Symbol">=</a> <a id="13172" href="Varieties.Preservation.html#10678" class="Bound">feâ‚‚</a><a id="13175" class="Symbol">}</a> <a id="13177" href="Varieties.Preservation.html#13152" class="Bound">hfe</a> <a id="13181" href="Varieties.Preservation.html#12445" class="Function">class-prod-s-âˆˆ-ps</a>

</pre>


#### <a id="h-preserves-identities">H preserves identities</a>

First we prove that the closure operator H is compatible with identities that hold in the given class.

<pre class="Agda">

<a id="13395" class="Keyword">open</a> <a id="13400" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">â‰¡-Reasoning</a>

<a id="13413" class="Keyword">private</a> <a id="13421" class="Keyword">variable</a> <a id="13430" href="Varieties.Preservation.html#13430" class="Generalizable">ğ“§</a> <a id="13432" class="Symbol">:</a> <a id="13434" href="Agda.Primitive.html#597" class="Postulate">Level</a>
<a id="13440" class="Keyword">open</a> <a id="13445" href="Terms.Basic.html#1991" class="Module">Term</a>

<a id="13451" class="Keyword">module</a> <a id="13458" href="Varieties.Preservation.html#13458" class="Module">_</a> <a id="13460" class="Symbol">(</a><a id="13461" href="Varieties.Preservation.html#13461" class="Bound">wd</a> <a id="13464" class="Symbol">:</a> <a id="13466" href="Equality.Welldefined.html#2944" class="Function">SwellDef</a><a id="13474" class="Symbol">){</a><a id="13476" href="Varieties.Preservation.html#13476" class="Bound">X</a> <a id="13478" class="Symbol">:</a> <a id="13480" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="13485" href="Varieties.Preservation.html#13430" class="Generalizable">ğ“§</a><a id="13486" class="Symbol">}</a> <a id="13488" class="Symbol">{</a><a id="13489" href="Varieties.Preservation.html#13489" class="Bound">ğ’¦</a> <a id="13491" class="Symbol">:</a> <a id="13493" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="13498" class="Symbol">(</a><a id="13499" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="13507" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a> <a id="13509" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="13510" class="Symbol">)(</a><a id="13512" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="13515" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a><a id="13516" class="Symbol">)}</a> <a id="13519" class="Keyword">where</a>

 <a id="13527" href="Varieties.Preservation.html#13527" class="Function">H-id1</a> <a id="13533" class="Symbol">:</a> <a id="13535" class="Symbol">(</a><a id="13536" href="Varieties.Preservation.html#13536" class="Bound">p</a> <a id="13538" href="Varieties.Preservation.html#13538" class="Bound">q</a> <a id="13540" class="Symbol">:</a> <a id="13542" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="13547" href="Varieties.Preservation.html#13476" class="Bound">X</a><a id="13548" class="Symbol">)</a> <a id="13550" class="Symbol">â†’</a> <a id="13552" href="Varieties.Preservation.html#13489" class="Bound">ğ’¦</a> <a id="13554" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="13556" href="Varieties.Preservation.html#13536" class="Bound">p</a> <a id="13558" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="13560" href="Varieties.Preservation.html#13538" class="Bound">q</a> <a id="13562" class="Symbol">â†’</a> <a id="13564" href="Varieties.Closure.html#3323" class="Datatype">H</a><a id="13565" class="Symbol">{</a><a id="13566" class="Argument">Î²</a> <a id="13568" class="Symbol">=</a> <a id="13570" href="Varieties.Preservation.html#13507" class="Bound">Î±</a><a id="13571" class="Symbol">}</a> <a id="13573" href="Varieties.Preservation.html#13489" class="Bound">ğ’¦</a> <a id="13575" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="13577" href="Varieties.Preservation.html#13536" class="Bound">p</a> <a id="13579" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="13581" href="Varieties.Preservation.html#13538" class="Bound">q</a>
 <a id="13584" href="Varieties.Preservation.html#13527" class="Function">H-id1</a> <a id="13590" href="Varieties.Preservation.html#13590" class="Bound">p</a> <a id="13592" href="Varieties.Preservation.html#13592" class="Bound">q</a> <a id="13594" href="Varieties.Preservation.html#13594" class="Bound">Ïƒ</a> <a id="13596" class="Symbol">(</a><a id="13597" href="Varieties.Closure.html#3418" class="InductiveConstructor">hbase</a> <a id="13603" href="Varieties.Preservation.html#13603" class="Bound">x</a><a id="13604" class="Symbol">)</a> <a id="13606" class="Symbol">=</a> <a id="13608" href="Varieties.Properties.html#4142" class="Function">âŠ§-Lift-invar</a> <a id="13621" href="Varieties.Preservation.html#13461" class="Bound">wd</a> <a id="13624" href="Varieties.Preservation.html#13590" class="Bound">p</a> <a id="13626" href="Varieties.Preservation.html#13592" class="Bound">q</a> <a id="13628" class="Symbol">(</a><a id="13629" href="Varieties.Preservation.html#13594" class="Bound">Ïƒ</a> <a id="13631" href="Varieties.Preservation.html#13603" class="Bound">x</a><a id="13632" class="Symbol">)</a>
 <a id="13635" href="Varieties.Preservation.html#13527" class="Function">H-id1</a> <a id="13641" href="Varieties.Preservation.html#13641" class="Bound">p</a> <a id="13643" href="Varieties.Preservation.html#13643" class="Bound">q</a> <a id="13645" href="Varieties.Preservation.html#13645" class="Bound">Ïƒ</a> <a id="13647" class="Symbol">(</a><a id="13648" href="Varieties.Closure.html#3474" class="InductiveConstructor">hhimg</a><a id="13653" class="Symbol">{</a><a id="13654" href="Varieties.Preservation.html#13654" class="Bound">ğ‘¨</a><a id="13655" class="Symbol">}{</a><a id="13657" href="Varieties.Preservation.html#13657" class="Bound">ğ‘ª</a><a id="13658" class="Symbol">}</a> <a id="13660" href="Varieties.Preservation.html#13660" class="Bound">HA</a> <a id="13663" class="Symbol">(</a><a id="13664" href="Varieties.Preservation.html#13664" class="Bound">ğ‘©</a> <a id="13666" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13668" class="Symbol">((</a><a id="13670" href="Varieties.Preservation.html#13670" class="Bound">Ï†</a> <a id="13672" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13674" href="Varieties.Preservation.html#13674" class="Bound">Ï†h</a><a id="13676" class="Symbol">)</a> <a id="13678" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13680" href="Varieties.Preservation.html#13680" class="Bound">Ï†E</a><a id="13682" class="Symbol">)))</a> <a id="13686" href="Varieties.Preservation.html#13686" class="Bound">b</a> <a id="13688" class="Symbol">=</a> <a id="13690" href="Varieties.Preservation.html#13861" class="Function">goal</a>
  <a id="13697" class="Keyword">where</a>
  <a id="13705" href="Varieties.Preservation.html#13705" class="Function">IH</a> <a id="13708" class="Symbol">:</a> <a id="13710" href="Varieties.Preservation.html#13654" class="Bound">ğ‘¨</a> <a id="13712" href="Varieties.EquationalLogic.html#2638" class="Function Operator">âŠ§</a> <a id="13714" href="Varieties.Preservation.html#13641" class="Bound">p</a> <a id="13716" href="Varieties.EquationalLogic.html#2638" class="Function Operator">â‰ˆ</a> <a id="13718" href="Varieties.Preservation.html#13643" class="Bound">q</a>
  <a id="13722" href="Varieties.Preservation.html#13705" class="Function">IH</a> <a id="13725" class="Symbol">=</a> <a id="13727" class="Symbol">(</a><a id="13728" href="Varieties.Preservation.html#13527" class="Function">H-id1</a> <a id="13734" href="Varieties.Preservation.html#13641" class="Bound">p</a> <a id="13736" href="Varieties.Preservation.html#13643" class="Bound">q</a> <a id="13738" href="Varieties.Preservation.html#13645" class="Bound">Ïƒ</a><a id="13739" class="Symbol">)</a> <a id="13741" href="Varieties.Preservation.html#13660" class="Bound">HA</a>

  <a id="13747" href="Varieties.Preservation.html#13747" class="Function">preim</a> <a id="13753" class="Symbol">:</a> <a id="13755" href="Varieties.Preservation.html#13476" class="Bound">X</a> <a id="13757" class="Symbol">â†’</a> <a id="13759" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="13761" href="Varieties.Preservation.html#13654" class="Bound">ğ‘¨</a> <a id="13763" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a>
  <a id="13767" href="Varieties.Preservation.html#13747" class="Function">preim</a> <a id="13773" href="Varieties.Preservation.html#13773" class="Bound">x</a> <a id="13775" class="Symbol">=</a> <a id="13777" href="Overture.Inverses.html#2190" class="Function">Inv</a> <a id="13781" href="Varieties.Preservation.html#13670" class="Bound">Ï†</a> <a id="13783" class="Symbol">(</a><a id="13784" href="Varieties.Preservation.html#13680" class="Bound">Ï†E</a> <a id="13787" class="Symbol">(</a><a id="13788" href="Varieties.Preservation.html#13686" class="Bound">b</a> <a id="13790" href="Varieties.Preservation.html#13773" class="Bound">x</a><a id="13791" class="Symbol">))</a>

  <a id="13797" href="Varieties.Preservation.html#13797" class="Function">Î¶</a> <a id="13799" class="Symbol">:</a> <a id="13801" class="Symbol">âˆ€</a> <a id="13803" href="Varieties.Preservation.html#13803" class="Bound">x</a> <a id="13805" class="Symbol">â†’</a> <a id="13807" href="Varieties.Preservation.html#13670" class="Bound">Ï†</a> <a id="13809" class="Symbol">(</a><a id="13810" href="Varieties.Preservation.html#13747" class="Function">preim</a> <a id="13816" href="Varieties.Preservation.html#13803" class="Bound">x</a><a id="13817" class="Symbol">)</a> <a id="13819" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="13821" href="Varieties.Preservation.html#13686" class="Bound">b</a> <a id="13823" href="Varieties.Preservation.html#13803" class="Bound">x</a>
  <a id="13827" href="Varieties.Preservation.html#13797" class="Function">Î¶</a> <a id="13829" href="Varieties.Preservation.html#13829" class="Bound">x</a> <a id="13831" class="Symbol">=</a> <a id="13833" href="Overture.Inverses.html#2437" class="Function">InvIsInverseÊ³</a> <a id="13847" class="Symbol">(</a><a id="13848" href="Varieties.Preservation.html#13680" class="Bound">Ï†E</a> <a id="13851" class="Symbol">(</a><a id="13852" href="Varieties.Preservation.html#13686" class="Bound">b</a> <a id="13854" href="Varieties.Preservation.html#13829" class="Bound">x</a><a id="13855" class="Symbol">))</a>

  <a id="13861" href="Varieties.Preservation.html#13861" class="Function">goal</a> <a id="13866" class="Symbol">:</a> <a id="13868" class="Symbol">(</a><a id="13869" href="Varieties.Preservation.html#13664" class="Bound">ğ‘©</a> <a id="13871" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="13873" href="Varieties.Preservation.html#13641" class="Bound">p</a> <a id="13875" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="13876" class="Symbol">)</a> <a id="13878" href="Varieties.Preservation.html#13686" class="Bound">b</a> <a id="13880" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="13882" class="Symbol">(</a><a id="13883" href="Varieties.Preservation.html#13664" class="Bound">ğ‘©</a> <a id="13885" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="13887" href="Varieties.Preservation.html#13643" class="Bound">q</a> <a id="13889" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="13890" class="Symbol">)</a> <a id="13892" href="Varieties.Preservation.html#13686" class="Bound">b</a>
  <a id="13896" href="Varieties.Preservation.html#13861" class="Function">goal</a> <a id="13901" class="Symbol">=</a> <a id="13903" class="Symbol">(</a><a id="13904" href="Varieties.Preservation.html#13664" class="Bound">ğ‘©</a> <a id="13906" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="13908" href="Varieties.Preservation.html#13641" class="Bound">p</a> <a id="13910" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="13911" class="Symbol">)</a> <a id="13913" href="Varieties.Preservation.html#13686" class="Bound">b</a>          <a id="13924" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="13927" href="Varieties.Preservation.html#13461" class="Bound">wd</a> <a id="13930" href="Varieties.Preservation.html#13485" class="Bound">ğ“§</a> <a id="13932" href="Varieties.Preservation.html#13507" class="Bound">Î±</a> <a id="13934" class="Symbol">(</a><a id="13935" href="Varieties.Preservation.html#13664" class="Bound">ğ‘©</a> <a id="13937" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="13939" href="Varieties.Preservation.html#13641" class="Bound">p</a> <a id="13941" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="13942" class="Symbol">)</a> <a id="13944" href="Varieties.Preservation.html#13686" class="Bound">b</a> <a id="13946" class="Symbol">(</a><a id="13947" href="Varieties.Preservation.html#13670" class="Bound">Ï†</a> <a id="13949" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="13951" href="Varieties.Preservation.html#13747" class="Function">preim</a> <a id="13957" class="Symbol">)(Î»</a> <a id="13961" href="Varieties.Preservation.html#13961" class="Bound">i</a> <a id="13963" class="Symbol">â†’</a> <a id="13965" class="Symbol">(</a><a id="13966" href="Varieties.Preservation.html#13797" class="Function">Î¶</a> <a id="13968" href="Varieties.Preservation.html#13961" class="Bound">i</a><a id="13969" class="Symbol">)</a><a id="13970" href="Overture.Preliminaries.html#5086" class="Function Operator">â»Â¹</a><a id="13972" class="Symbol">)</a><a id="13973" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="13981" class="Symbol">(</a><a id="13982" href="Varieties.Preservation.html#13664" class="Bound">ğ‘©</a> <a id="13984" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="13986" href="Varieties.Preservation.html#13641" class="Bound">p</a> <a id="13988" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="13989" class="Symbol">)(</a><a id="13991" href="Varieties.Preservation.html#13670" class="Bound">Ï†</a> <a id="13993" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="13995" href="Varieties.Preservation.html#13747" class="Function">preim</a><a id="14000" class="Symbol">)</a> <a id="14002" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="14004" class="Symbol">(</a><a id="14005" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a> <a id="14019" class="Symbol">(</a><a id="14020" href="Varieties.Preservation.html#13461" class="Bound">wd</a> <a id="14023" href="Varieties.Preservation.html#629" class="Bound">ğ“¥</a> <a id="14025" href="Varieties.Preservation.html#13507" class="Bound">Î±</a><a id="14026" class="Symbol">)</a> <a id="14028" href="Varieties.Preservation.html#13664" class="Bound">ğ‘©</a> <a id="14030" class="Symbol">(</a><a id="14031" href="Varieties.Preservation.html#13670" class="Bound">Ï†</a> <a id="14033" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14035" href="Varieties.Preservation.html#13674" class="Bound">Ï†h</a><a id="14037" class="Symbol">)</a> <a id="14039" href="Varieties.Preservation.html#13641" class="Bound">p</a> <a id="14041" href="Varieties.Preservation.html#13747" class="Function">preim</a><a id="14046" class="Symbol">)</a><a id="14047" href="Overture.Preliminaries.html#5086" class="Function Operator">â»Â¹</a> <a id="14050" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14058" href="Varieties.Preservation.html#13670" class="Bound">Ï†</a><a id="14059" class="Symbol">((</a><a id="14061" href="Varieties.Preservation.html#13654" class="Bound">ğ‘¨</a> <a id="14063" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="14065" href="Varieties.Preservation.html#13641" class="Bound">p</a> <a id="14067" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="14068" class="Symbol">)</a> <a id="14070" href="Varieties.Preservation.html#13747" class="Function">preim</a><a id="14075" class="Symbol">)</a>   <a id="14079" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14082" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="14087" href="Varieties.Preservation.html#13670" class="Bound">Ï†</a> <a id="14089" class="Symbol">(</a><a id="14090" href="Varieties.Preservation.html#13705" class="Function">IH</a> <a id="14093" href="Varieties.Preservation.html#13747" class="Function">preim</a><a id="14098" class="Symbol">)</a> <a id="14100" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14108" href="Varieties.Preservation.html#13670" class="Bound">Ï†</a><a id="14109" class="Symbol">((</a><a id="14111" href="Varieties.Preservation.html#13654" class="Bound">ğ‘¨</a> <a id="14113" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="14115" href="Varieties.Preservation.html#13643" class="Bound">q</a> <a id="14117" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="14118" class="Symbol">)</a> <a id="14120" href="Varieties.Preservation.html#13747" class="Function">preim</a><a id="14125" class="Symbol">)</a>   <a id="14129" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14132" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a> <a id="14146" class="Symbol">(</a><a id="14147" href="Varieties.Preservation.html#13461" class="Bound">wd</a> <a id="14150" href="Varieties.Preservation.html#629" class="Bound">ğ“¥</a> <a id="14152" href="Varieties.Preservation.html#13507" class="Bound">Î±</a><a id="14153" class="Symbol">)</a> <a id="14155" href="Varieties.Preservation.html#13664" class="Bound">ğ‘©</a> <a id="14157" class="Symbol">(</a><a id="14158" href="Varieties.Preservation.html#13670" class="Bound">Ï†</a> <a id="14160" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14162" href="Varieties.Preservation.html#13674" class="Bound">Ï†h</a><a id="14164" class="Symbol">)</a> <a id="14166" href="Varieties.Preservation.html#13643" class="Bound">q</a> <a id="14168" href="Varieties.Preservation.html#13747" class="Function">preim</a> <a id="14174" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14182" class="Symbol">(</a><a id="14183" href="Varieties.Preservation.html#13664" class="Bound">ğ‘©</a> <a id="14185" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="14187" href="Varieties.Preservation.html#13643" class="Bound">q</a> <a id="14189" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="14190" class="Symbol">)(</a><a id="14192" href="Varieties.Preservation.html#13670" class="Bound">Ï†</a> <a id="14194" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="14196" href="Varieties.Preservation.html#13747" class="Function">preim</a><a id="14201" class="Symbol">)</a> <a id="14203" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14206" href="Varieties.Preservation.html#13461" class="Bound">wd</a> <a id="14209" href="Varieties.Preservation.html#13485" class="Bound">ğ“§</a> <a id="14211" href="Varieties.Preservation.html#13507" class="Bound">Î±</a> <a id="14213" class="Symbol">(</a><a id="14214" href="Varieties.Preservation.html#13664" class="Bound">ğ‘©</a> <a id="14216" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="14218" href="Varieties.Preservation.html#13643" class="Bound">q</a> <a id="14220" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="14221" class="Symbol">)(</a><a id="14223" href="Varieties.Preservation.html#13670" class="Bound">Ï†</a> <a id="14225" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="14227" href="Varieties.Preservation.html#13747" class="Function">preim</a><a id="14232" class="Symbol">)</a> <a id="14234" href="Varieties.Preservation.html#13686" class="Bound">b</a> <a id="14236" href="Varieties.Preservation.html#13797" class="Function">Î¶</a> <a id="14238" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14246" class="Symbol">(</a><a id="14247" href="Varieties.Preservation.html#13664" class="Bound">ğ‘©</a> <a id="14249" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="14251" href="Varieties.Preservation.html#13643" class="Bound">q</a> <a id="14253" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="14254" class="Symbol">)</a> <a id="14256" href="Varieties.Preservation.html#13686" class="Bound">b</a>          <a id="14267" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

</pre>

The converse of the foregoing result is almost too obvious to bother with. Nonetheless, we formalize it for completeness.

<pre class="Agda">

 <a id="14420" href="Varieties.Preservation.html#14420" class="Function">H-id2</a> <a id="14426" class="Symbol">:</a> <a id="14428" class="Symbol">âˆ€</a> <a id="14430" class="Symbol">{</a><a id="14431" href="Varieties.Preservation.html#14431" class="Bound">Î²</a><a id="14432" class="Symbol">}</a> <a id="14434" class="Symbol">â†’</a> <a id="14436" class="Symbol">(</a><a id="14437" href="Varieties.Preservation.html#14437" class="Bound">p</a> <a id="14439" href="Varieties.Preservation.html#14439" class="Bound">q</a> <a id="14441" class="Symbol">:</a> <a id="14443" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="14448" href="Varieties.Preservation.html#13476" class="Bound">X</a><a id="14449" class="Symbol">)</a> <a id="14451" class="Symbol">â†’</a> <a id="14453" href="Varieties.Closure.html#3323" class="Datatype">H</a><a id="14454" class="Symbol">{</a><a id="14455" class="Argument">Î²</a> <a id="14457" class="Symbol">=</a> <a id="14459" href="Varieties.Preservation.html#14431" class="Bound">Î²</a><a id="14460" class="Symbol">}</a> <a id="14462" href="Varieties.Preservation.html#13489" class="Bound">ğ’¦</a> <a id="14464" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="14466" href="Varieties.Preservation.html#14437" class="Bound">p</a> <a id="14468" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="14470" href="Varieties.Preservation.html#14439" class="Bound">q</a> <a id="14472" class="Symbol">â†’</a> <a id="14474" href="Varieties.Preservation.html#13489" class="Bound">ğ’¦</a> <a id="14476" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="14478" href="Varieties.Preservation.html#14437" class="Bound">p</a> <a id="14480" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="14482" href="Varieties.Preservation.html#14439" class="Bound">q</a>

 <a id="14486" href="Varieties.Preservation.html#14420" class="Function">H-id2</a> <a id="14492" href="Varieties.Preservation.html#14492" class="Bound">p</a> <a id="14494" href="Varieties.Preservation.html#14494" class="Bound">q</a> <a id="14496" href="Varieties.Preservation.html#14496" class="Bound">Hpq</a> <a id="14500" href="Varieties.Preservation.html#14500" class="Bound">KA</a> <a id="14503" class="Symbol">=</a> <a id="14505" href="Varieties.Properties.html#4276" class="Function">âŠ§-lower-invar</a> <a id="14519" href="Varieties.Preservation.html#13461" class="Bound">wd</a> <a id="14522" href="Varieties.Preservation.html#14492" class="Bound">p</a> <a id="14524" href="Varieties.Preservation.html#14494" class="Bound">q</a> <a id="14526" class="Symbol">(</a><a id="14527" href="Varieties.Preservation.html#14496" class="Bound">Hpq</a> <a id="14531" class="Symbol">(</a><a id="14532" href="Varieties.Closure.html#3418" class="InductiveConstructor">hbase</a> <a id="14538" href="Varieties.Preservation.html#14500" class="Bound">KA</a><a id="14540" class="Symbol">))</a>

</pre>


#### <a id="s-preserves-identities">S preserves identities</a>

<pre class="Agda">

 <a id="14636" href="Varieties.Preservation.html#14636" class="Function">S-id1</a> <a id="14642" class="Symbol">:</a> <a id="14644" class="Symbol">(</a><a id="14645" href="Varieties.Preservation.html#14645" class="Bound">p</a> <a id="14647" href="Varieties.Preservation.html#14647" class="Bound">q</a> <a id="14649" class="Symbol">:</a> <a id="14651" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="14656" href="Varieties.Preservation.html#13476" class="Bound">X</a><a id="14657" class="Symbol">)</a> <a id="14659" class="Symbol">â†’</a> <a id="14661" href="Varieties.Preservation.html#13489" class="Bound">ğ’¦</a> <a id="14663" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="14665" href="Varieties.Preservation.html#14645" class="Bound">p</a> <a id="14667" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="14669" href="Varieties.Preservation.html#14647" class="Bound">q</a> <a id="14671" class="Symbol">â†’</a> <a id="14673" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="14674" class="Symbol">{</a><a id="14675" class="Argument">Î²</a> <a id="14677" class="Symbol">=</a> <a id="14679" href="Varieties.Preservation.html#13507" class="Bound">Î±</a><a id="14680" class="Symbol">}</a> <a id="14682" href="Varieties.Preservation.html#13489" class="Bound">ğ’¦</a> <a id="14684" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="14686" href="Varieties.Preservation.html#14645" class="Bound">p</a> <a id="14688" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="14690" href="Varieties.Preservation.html#14647" class="Bound">q</a>

 <a id="14694" href="Varieties.Preservation.html#14636" class="Function">S-id1</a> <a id="14700" href="Varieties.Preservation.html#14700" class="Bound">p</a> <a id="14702" href="Varieties.Preservation.html#14702" class="Bound">q</a> <a id="14704" href="Varieties.Preservation.html#14704" class="Bound">Ïƒ</a> <a id="14706" class="Symbol">(</a><a id="14707" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a> <a id="14713" href="Varieties.Preservation.html#14713" class="Bound">x</a><a id="14714" class="Symbol">)</a> <a id="14716" class="Symbol">=</a> <a id="14718" href="Varieties.Properties.html#4142" class="Function">âŠ§-Lift-invar</a> <a id="14731" href="Varieties.Preservation.html#13461" class="Bound">wd</a> <a id="14734" href="Varieties.Preservation.html#14700" class="Bound">p</a> <a id="14736" href="Varieties.Preservation.html#14702" class="Bound">q</a> <a id="14738" class="Symbol">(</a><a id="14739" href="Varieties.Preservation.html#14704" class="Bound">Ïƒ</a> <a id="14741" href="Varieties.Preservation.html#14713" class="Bound">x</a><a id="14742" class="Symbol">)</a>
 <a id="14745" href="Varieties.Preservation.html#14636" class="Function">S-id1</a> <a id="14751" href="Varieties.Preservation.html#14751" class="Bound">p</a> <a id="14753" href="Varieties.Preservation.html#14753" class="Bound">q</a> <a id="14755" href="Varieties.Preservation.html#14755" class="Bound">Ïƒ</a> <a id="14757" class="Symbol">(</a><a id="14758" href="Varieties.Closure.html#3918" class="InductiveConstructor">slift</a> <a id="14764" href="Varieties.Preservation.html#14764" class="Bound">x</a><a id="14765" class="Symbol">)</a> <a id="14767" class="Symbol">=</a> <a id="14769" href="Varieties.Properties.html#4142" class="Function">âŠ§-Lift-invar</a> <a id="14782" href="Varieties.Preservation.html#13461" class="Bound">wd</a> <a id="14785" href="Varieties.Preservation.html#14751" class="Bound">p</a> <a id="14787" href="Varieties.Preservation.html#14753" class="Bound">q</a> <a id="14789" class="Symbol">((</a><a id="14791" href="Varieties.Preservation.html#14636" class="Function">S-id1</a> <a id="14797" href="Varieties.Preservation.html#14751" class="Bound">p</a> <a id="14799" href="Varieties.Preservation.html#14753" class="Bound">q</a> <a id="14801" href="Varieties.Preservation.html#14755" class="Bound">Ïƒ</a><a id="14802" class="Symbol">)</a> <a id="14804" href="Varieties.Preservation.html#14764" class="Bound">x</a><a id="14805" class="Symbol">)</a>

 <a id="14809" href="Varieties.Preservation.html#14636" class="Function">S-id1</a> <a id="14815" href="Varieties.Preservation.html#14815" class="Bound">p</a> <a id="14817" href="Varieties.Preservation.html#14817" class="Bound">q</a> <a id="14819" href="Varieties.Preservation.html#14819" class="Bound">Ïƒ</a> <a id="14821" class="Symbol">(</a><a id="14822" href="Varieties.Closure.html#3982" class="InductiveConstructor">ssub</a><a id="14826" class="Symbol">{</a><a id="14827" href="Varieties.Preservation.html#14827" class="Bound">ğ‘¨</a><a id="14828" class="Symbol">}{</a><a id="14830" href="Varieties.Preservation.html#14830" class="Bound">ğ‘©</a><a id="14831" class="Symbol">}</a> <a id="14833" href="Varieties.Preservation.html#14833" class="Bound">sA</a> <a id="14836" href="Varieties.Preservation.html#14836" class="Bound">Bâ‰¤A</a><a id="14839" class="Symbol">)</a> <a id="14841" class="Symbol">=</a> <a id="14843" href="Varieties.Properties.html#5429" class="Function">âŠ§-S-class-invar</a> <a id="14859" href="Varieties.Preservation.html#13461" class="Bound">wd</a> <a id="14862" href="Varieties.Preservation.html#14815" class="Bound">p</a> <a id="14864" href="Varieties.Preservation.html#14817" class="Bound">q</a> <a id="14866" href="Varieties.Preservation.html#14994" class="Function">goal</a> <a id="14871" href="Varieties.Preservation.html#15076" class="Function">Î½</a>
  <a id="14875" class="Keyword">where</a> <a id="14881" class="Comment">--Apply S-âŠ§ to the class ğ’¦ âˆª ï½› ğ‘¨ ï½</a>
  <a id="14918" href="Varieties.Preservation.html#14918" class="Function">Ï„</a> <a id="14920" class="Symbol">:</a> <a id="14922" href="Varieties.Preservation.html#14827" class="Bound">ğ‘¨</a> <a id="14924" href="Varieties.EquationalLogic.html#2638" class="Function Operator">âŠ§</a> <a id="14926" href="Varieties.Preservation.html#14815" class="Bound">p</a> <a id="14928" href="Varieties.EquationalLogic.html#2638" class="Function Operator">â‰ˆ</a> <a id="14930" href="Varieties.Preservation.html#14817" class="Bound">q</a>
  <a id="14934" href="Varieties.Preservation.html#14918" class="Function">Ï„</a> <a id="14936" class="Symbol">=</a> <a id="14938" href="Varieties.Preservation.html#14636" class="Function">S-id1</a> <a id="14944" href="Varieties.Preservation.html#14815" class="Bound">p</a> <a id="14946" href="Varieties.Preservation.html#14817" class="Bound">q</a> <a id="14948" href="Varieties.Preservation.html#14819" class="Bound">Ïƒ</a> <a id="14950" href="Varieties.Preservation.html#14833" class="Bound">sA</a>

  <a id="14956" href="Varieties.Preservation.html#14956" class="Function">Apq</a> <a id="14960" class="Symbol">:</a> <a id="14962" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="14964" href="Varieties.Preservation.html#14827" class="Bound">ğ‘¨</a> <a id="14966" href="Relation.Unary.html#1335" class="Function Operator">ï½</a> <a id="14968" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="14970" href="Varieties.Preservation.html#14815" class="Bound">p</a> <a id="14972" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="14974" href="Varieties.Preservation.html#14817" class="Bound">q</a>
  <a id="14978" href="Varieties.Preservation.html#14956" class="Function">Apq</a> <a id="14982" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="14987" class="Symbol">=</a> <a id="14989" href="Varieties.Preservation.html#14918" class="Function">Ï„</a>

  <a id="14994" href="Varieties.Preservation.html#14994" class="Function">goal</a> <a id="14999" class="Symbol">:</a> <a id="15001" class="Symbol">(</a><a id="15002" href="Varieties.Preservation.html#13489" class="Bound">ğ’¦</a> <a id="15004" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="15006" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="15008" href="Varieties.Preservation.html#14827" class="Bound">ğ‘¨</a> <a id="15010" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="15011" class="Symbol">)</a> <a id="15013" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="15015" href="Varieties.Preservation.html#14815" class="Bound">p</a> <a id="15017" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="15019" href="Varieties.Preservation.html#14817" class="Bound">q</a>
  <a id="15023" href="Varieties.Preservation.html#14994" class="Function">goal</a> <a id="15028" class="Symbol">{</a><a id="15029" href="Varieties.Preservation.html#15029" class="Bound">ğ‘©</a><a id="15030" class="Symbol">}</a> <a id="15032" class="Symbol">(</a><a id="15033" href="Varieties.Preservation.html#1104" class="InductiveConstructor">inl</a> <a id="15037" href="Varieties.Preservation.html#15037" class="Bound">x</a><a id="15038" class="Symbol">)</a> <a id="15040" class="Symbol">=</a> <a id="15042" href="Varieties.Preservation.html#14819" class="Bound">Ïƒ</a> <a id="15044" href="Varieties.Preservation.html#15037" class="Bound">x</a>
  <a id="15048" href="Varieties.Preservation.html#14994" class="Function">goal</a> <a id="15053" class="Symbol">{</a><a id="15054" href="Varieties.Preservation.html#15054" class="Bound">ğ‘©</a><a id="15055" class="Symbol">}</a> <a id="15057" class="Symbol">(</a><a id="15058" href="Varieties.Preservation.html#1119" class="InductiveConstructor">inr</a> <a id="15062" href="Varieties.Preservation.html#15062" class="Bound">y</a><a id="15063" class="Symbol">)</a> <a id="15065" class="Symbol">=</a> <a id="15067" href="Varieties.Preservation.html#14956" class="Function">Apq</a> <a id="15071" href="Varieties.Preservation.html#15062" class="Bound">y</a>

  <a id="15076" href="Varieties.Preservation.html#15076" class="Function">Î½</a> <a id="15078" class="Symbol">:</a> <a id="15080" href="Subalgebras.Subalgebras.html#6095" class="Function">SubalgebraOfClass</a> <a id="15098" class="Symbol">(Î»</a> <a id="15101" href="Varieties.Preservation.html#15101" class="Bound">z</a> <a id="15103" class="Symbol">â†’</a> <a id="15105" class="Symbol">(</a><a id="15106" href="Varieties.Preservation.html#13489" class="Bound">ğ’¦</a> <a id="15108" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="15110" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="15112" href="Varieties.Preservation.html#14827" class="Bound">ğ‘¨</a> <a id="15114" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="15115" class="Symbol">)</a> <a id="15117" class="Symbol">(</a><a id="15118" href="Agda.Builtin.Sigma.html#252" class="Field">Data.Product.projâ‚</a> <a id="15137" href="Varieties.Preservation.html#15101" class="Bound">z</a> <a id="15139" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15141" href="Agda.Builtin.Sigma.html#264" class="Field">Data.Product.projâ‚‚</a> <a id="15160" href="Varieties.Preservation.html#15101" class="Bound">z</a><a id="15161" class="Symbol">))</a>
  <a id="15166" href="Varieties.Preservation.html#15076" class="Function">Î½</a> <a id="15168" class="Symbol">=</a> <a id="15170" class="Symbol">(</a><a id="15171" href="Varieties.Preservation.html#14830" class="Bound">ğ‘©</a> <a id="15173" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15175" href="Varieties.Preservation.html#14827" class="Bound">ğ‘¨</a> <a id="15177" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15179" class="Symbol">(</a><a id="15180" href="Varieties.Preservation.html#14830" class="Bound">ğ‘©</a> <a id="15182" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15184" href="Varieties.Preservation.html#14836" class="Bound">Bâ‰¤A</a><a id="15187" class="Symbol">)</a> <a id="15189" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15191" href="Data.Sum.Base.html#809" class="InductiveConstructor">_âŠ_.injâ‚‚</a> <a id="15200" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="15205" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15207" href="Homomorphisms.Isomorphisms.html#2874" class="Function">â‰…-refl</a><a id="15213" class="Symbol">)</a>

 <a id="15217" href="Varieties.Preservation.html#14636" class="Function">S-id1</a> <a id="15223" href="Varieties.Preservation.html#15223" class="Bound">p</a> <a id="15225" href="Varieties.Preservation.html#15225" class="Bound">q</a> <a id="15227" href="Varieties.Preservation.html#15227" class="Bound">Ïƒ</a> <a id="15229" class="Symbol">(</a><a id="15230" href="Varieties.Closure.html#4060" class="InductiveConstructor">siso</a><a id="15234" class="Symbol">{</a><a id="15235" href="Varieties.Preservation.html#15235" class="Bound">ğ‘¨</a><a id="15236" class="Symbol">}{</a><a id="15238" href="Varieties.Preservation.html#15238" class="Bound">ğ‘©</a><a id="15239" class="Symbol">}</a> <a id="15241" href="Varieties.Preservation.html#15241" class="Bound">x</a> <a id="15243" href="Varieties.Preservation.html#15243" class="Bound">xâ‚</a><a id="15245" class="Symbol">)</a> <a id="15247" class="Symbol">=</a> <a id="15249" href="Varieties.Properties.html#3199" class="Function">âŠ§-I-invar</a> <a id="15259" href="Varieties.Preservation.html#13461" class="Bound">wd</a> <a id="15262" href="Varieties.Preservation.html#15238" class="Bound">ğ‘©</a> <a id="15264" href="Varieties.Preservation.html#15223" class="Bound">p</a> <a id="15266" href="Varieties.Preservation.html#15225" class="Bound">q</a> <a id="15268" class="Symbol">(</a><a id="15269" href="Varieties.Preservation.html#14636" class="Function">S-id1</a> <a id="15275" href="Varieties.Preservation.html#15223" class="Bound">p</a> <a id="15277" href="Varieties.Preservation.html#15225" class="Bound">q</a> <a id="15279" href="Varieties.Preservation.html#15227" class="Bound">Ïƒ</a> <a id="15281" href="Varieties.Preservation.html#15241" class="Bound">x</a><a id="15282" class="Symbol">)</a> <a id="15284" href="Varieties.Preservation.html#15243" class="Bound">xâ‚</a>

</pre>

Again, the obvious converse is barely worth the bits needed to formalize it.

<pre class="Agda">

 <a id="15393" href="Varieties.Preservation.html#15393" class="Function">S-id2</a> <a id="15399" class="Symbol">:</a> <a id="15401" class="Symbol">âˆ€{</a><a id="15403" href="Varieties.Preservation.html#15403" class="Bound">Î²</a><a id="15404" class="Symbol">}(</a><a id="15406" href="Varieties.Preservation.html#15406" class="Bound">p</a> <a id="15408" href="Varieties.Preservation.html#15408" class="Bound">q</a> <a id="15410" class="Symbol">:</a> <a id="15412" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="15417" href="Varieties.Preservation.html#13476" class="Bound">X</a><a id="15418" class="Symbol">)</a> <a id="15420" class="Symbol">â†’</a> <a id="15422" href="Varieties.Closure.html#3774" class="Datatype">S</a><a id="15423" class="Symbol">{</a><a id="15424" class="Argument">Î²</a> <a id="15426" class="Symbol">=</a> <a id="15428" href="Varieties.Preservation.html#15403" class="Bound">Î²</a><a id="15429" class="Symbol">}</a><a id="15430" href="Varieties.Preservation.html#13489" class="Bound">ğ’¦</a> <a id="15432" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="15434" href="Varieties.Preservation.html#15406" class="Bound">p</a> <a id="15436" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="15438" href="Varieties.Preservation.html#15408" class="Bound">q</a> <a id="15440" class="Symbol">â†’</a> <a id="15442" href="Varieties.Preservation.html#13489" class="Bound">ğ’¦</a> <a id="15444" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="15446" href="Varieties.Preservation.html#15406" class="Bound">p</a> <a id="15448" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="15450" href="Varieties.Preservation.html#15408" class="Bound">q</a>

 <a id="15454" href="Varieties.Preservation.html#15393" class="Function">S-id2</a> <a id="15460" href="Varieties.Preservation.html#15460" class="Bound">p</a> <a id="15462" href="Varieties.Preservation.html#15462" class="Bound">q</a> <a id="15464" href="Varieties.Preservation.html#15464" class="Bound">Spq</a> <a id="15468" class="Symbol">{</a><a id="15469" href="Varieties.Preservation.html#15469" class="Bound">ğ‘¨</a><a id="15470" class="Symbol">}</a> <a id="15472" href="Varieties.Preservation.html#15472" class="Bound">KA</a> <a id="15475" class="Symbol">=</a> <a id="15477" href="Varieties.Properties.html#4276" class="Function">âŠ§-lower-invar</a> <a id="15491" href="Varieties.Preservation.html#13461" class="Bound">wd</a> <a id="15494" href="Varieties.Preservation.html#15460" class="Bound">p</a> <a id="15496" href="Varieties.Preservation.html#15462" class="Bound">q</a> <a id="15498" class="Symbol">(</a><a id="15499" href="Varieties.Preservation.html#15464" class="Bound">Spq</a> <a id="15503" class="Symbol">(</a><a id="15504" href="Varieties.Closure.html#3862" class="InductiveConstructor">sbase</a> <a id="15510" href="Varieties.Preservation.html#15472" class="Bound">KA</a><a id="15512" class="Symbol">))</a>

</pre>



#### <a id="p-preserves-identities">P preserves identities</a>

<pre class="Agda">

<a id="15608" class="Keyword">module</a> <a id="15615" href="Varieties.Preservation.html#15615" class="Module">_</a> <a id="15617" class="Symbol">(</a><a id="15618" href="Varieties.Preservation.html#15618" class="Bound">fe</a> <a id="15621" class="Symbol">:</a> <a id="15623" href="Equality.Extensionality.html#2264" class="Function">DFunExt</a><a id="15630" class="Symbol">)</a> <a id="15632" class="Symbol">(</a><a id="15633" href="Varieties.Preservation.html#15633" class="Bound">wd</a> <a id="15636" class="Symbol">:</a> <a id="15638" href="Equality.Welldefined.html#2944" class="Function">SwellDef</a><a id="15646" class="Symbol">){</a><a id="15648" href="Varieties.Preservation.html#15648" class="Bound">X</a> <a id="15650" class="Symbol">:</a> <a id="15652" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="15657" href="Varieties.Preservation.html#13430" class="Generalizable">ğ“§</a><a id="15658" class="Symbol">}</a> <a id="15660" class="Symbol">{</a><a id="15661" href="Varieties.Preservation.html#15661" class="Bound">ğ’¦</a> <a id="15663" class="Symbol">:</a> <a id="15665" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="15670" class="Symbol">(</a><a id="15671" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="15679" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a> <a id="15681" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="15682" class="Symbol">)(</a><a id="15684" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="15687" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a><a id="15688" class="Symbol">)}</a> <a id="15691" class="Keyword">where</a>

 <a id="15699" href="Varieties.Preservation.html#15699" class="Function">P-id1</a> <a id="15705" class="Symbol">:</a> <a id="15707" class="Symbol">(</a><a id="15708" href="Varieties.Preservation.html#15708" class="Bound">p</a> <a id="15710" href="Varieties.Preservation.html#15710" class="Bound">q</a> <a id="15712" class="Symbol">:</a> <a id="15714" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="15719" href="Varieties.Preservation.html#15648" class="Bound">X</a><a id="15720" class="Symbol">)</a> <a id="15722" class="Symbol">â†’</a> <a id="15724" href="Varieties.Preservation.html#15661" class="Bound">ğ’¦</a> <a id="15726" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="15728" href="Varieties.Preservation.html#15708" class="Bound">p</a> <a id="15730" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="15732" href="Varieties.Preservation.html#15710" class="Bound">q</a> <a id="15734" class="Symbol">â†’</a> <a id="15736" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="15737" class="Symbol">{</a><a id="15738" class="Argument">Î²</a> <a id="15740" class="Symbol">=</a> <a id="15742" href="Varieties.Preservation.html#15679" class="Bound">Î±</a><a id="15743" class="Symbol">}</a> <a id="15745" href="Varieties.Preservation.html#15661" class="Bound">ğ’¦</a> <a id="15747" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="15749" href="Varieties.Preservation.html#15708" class="Bound">p</a> <a id="15751" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="15753" href="Varieties.Preservation.html#15710" class="Bound">q</a>

 <a id="15757" href="Varieties.Preservation.html#15699" class="Function">P-id1</a> <a id="15763" href="Varieties.Preservation.html#15763" class="Bound">p</a> <a id="15765" href="Varieties.Preservation.html#15765" class="Bound">q</a> <a id="15767" href="Varieties.Preservation.html#15767" class="Bound">Ïƒ</a> <a id="15769" class="Symbol">(</a><a id="15770" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="15776" href="Varieties.Preservation.html#15776" class="Bound">x</a><a id="15777" class="Symbol">)</a> <a id="15779" class="Symbol">=</a> <a id="15781" href="Varieties.Properties.html#4142" class="Function">âŠ§-Lift-invar</a> <a id="15794" href="Varieties.Preservation.html#15633" class="Bound">wd</a> <a id="15797" href="Varieties.Preservation.html#15763" class="Bound">p</a> <a id="15799" href="Varieties.Preservation.html#15765" class="Bound">q</a> <a id="15801" class="Symbol">(</a><a id="15802" href="Varieties.Preservation.html#15767" class="Bound">Ïƒ</a> <a id="15804" href="Varieties.Preservation.html#15776" class="Bound">x</a><a id="15805" class="Symbol">)</a>
 <a id="15808" href="Varieties.Preservation.html#15699" class="Function">P-id1</a> <a id="15814" href="Varieties.Preservation.html#15814" class="Bound">p</a> <a id="15816" href="Varieties.Preservation.html#15816" class="Bound">q</a> <a id="15818" href="Varieties.Preservation.html#15818" class="Bound">Ïƒ</a> <a id="15820" class="Symbol">(</a><a id="15821" href="Varieties.Closure.html#4503" class="InductiveConstructor">pliftu</a> <a id="15828" href="Varieties.Preservation.html#15828" class="Bound">x</a><a id="15829" class="Symbol">)</a> <a id="15831" class="Symbol">=</a> <a id="15833" href="Varieties.Properties.html#4142" class="Function">âŠ§-Lift-invar</a> <a id="15846" href="Varieties.Preservation.html#15633" class="Bound">wd</a> <a id="15849" href="Varieties.Preservation.html#15814" class="Bound">p</a> <a id="15851" href="Varieties.Preservation.html#15816" class="Bound">q</a> <a id="15853" class="Symbol">((</a><a id="15855" href="Varieties.Preservation.html#15699" class="Function">P-id1</a> <a id="15861" href="Varieties.Preservation.html#15814" class="Bound">p</a> <a id="15863" href="Varieties.Preservation.html#15816" class="Bound">q</a> <a id="15865" href="Varieties.Preservation.html#15818" class="Bound">Ïƒ</a><a id="15866" class="Symbol">)</a> <a id="15868" href="Varieties.Preservation.html#15828" class="Bound">x</a><a id="15869" class="Symbol">)</a>
 <a id="15872" href="Varieties.Preservation.html#15699" class="Function">P-id1</a> <a id="15878" href="Varieties.Preservation.html#15878" class="Bound">p</a> <a id="15880" href="Varieties.Preservation.html#15880" class="Bound">q</a> <a id="15882" href="Varieties.Preservation.html#15882" class="Bound">Ïƒ</a> <a id="15884" class="Symbol">(</a><a id="15885" href="Varieties.Closure.html#4568" class="InductiveConstructor">pliftw</a> <a id="15892" href="Varieties.Preservation.html#15892" class="Bound">x</a><a id="15893" class="Symbol">)</a> <a id="15895" class="Symbol">=</a> <a id="15897" href="Varieties.Properties.html#4142" class="Function">âŠ§-Lift-invar</a> <a id="15910" href="Varieties.Preservation.html#15633" class="Bound">wd</a> <a id="15913" href="Varieties.Preservation.html#15878" class="Bound">p</a> <a id="15915" href="Varieties.Preservation.html#15880" class="Bound">q</a> <a id="15917" class="Symbol">((</a><a id="15919" href="Varieties.Preservation.html#15699" class="Function">P-id1</a> <a id="15925" href="Varieties.Preservation.html#15878" class="Bound">p</a> <a id="15927" href="Varieties.Preservation.html#15880" class="Bound">q</a> <a id="15929" href="Varieties.Preservation.html#15882" class="Bound">Ïƒ</a><a id="15930" class="Symbol">)</a> <a id="15932" href="Varieties.Preservation.html#15892" class="Bound">x</a><a id="15933" class="Symbol">)</a>

 <a id="15937" href="Varieties.Preservation.html#15699" class="Function">P-id1</a> <a id="15943" href="Varieties.Preservation.html#15943" class="Bound">p</a> <a id="15945" href="Varieties.Preservation.html#15945" class="Bound">q</a> <a id="15947" href="Varieties.Preservation.html#15947" class="Bound">Ïƒ</a> <a id="15949" class="Symbol">(</a><a id="15950" href="Varieties.Closure.html#4645" class="InductiveConstructor">produ</a><a id="15955" class="Symbol">{</a><a id="15956" href="Varieties.Preservation.html#15956" class="Bound">I</a><a id="15957" class="Symbol">}{</a><a id="15959" href="Varieties.Preservation.html#15959" class="Bound">ğ’œ</a><a id="15960" class="Symbol">}</a> <a id="15962" href="Varieties.Preservation.html#15962" class="Bound">x</a><a id="15963" class="Symbol">)</a> <a id="15965" class="Symbol">=</a> <a id="15967" href="Varieties.Properties.html#7212" class="Function">âŠ§-P-lift-invar</a> <a id="15982" href="Varieties.Preservation.html#15618" class="Bound">fe</a> <a id="15985" href="Varieties.Preservation.html#15633" class="Bound">wd</a> <a id="15988" href="Varieties.Preservation.html#15959" class="Bound">ğ’œ</a>  <a id="15991" href="Varieties.Preservation.html#15943" class="Bound">p</a> <a id="15993" href="Varieties.Preservation.html#15945" class="Bound">q</a> <a id="15995" href="Varieties.Preservation.html#16008" class="Function">IH</a>
  <a id="16000" class="Keyword">where</a>
  <a id="16008" href="Varieties.Preservation.html#16008" class="Function">IH</a> <a id="16011" class="Symbol">:</a> <a id="16013" class="Symbol">âˆ€</a> <a id="16015" href="Varieties.Preservation.html#16015" class="Bound">i</a> <a id="16017" class="Symbol">â†’</a> <a id="16019" class="Symbol">(</a><a id="16020" href="Algebras.Basic.html#10858" class="Function">Lift-Alg</a> <a id="16029" class="Symbol">(</a><a id="16030" href="Varieties.Preservation.html#15959" class="Bound">ğ’œ</a> <a id="16032" href="Varieties.Preservation.html#16015" class="Bound">i</a><a id="16033" class="Symbol">)</a> <a id="16035" href="Varieties.Preservation.html#15679" class="Bound">Î±</a><a id="16036" class="Symbol">)</a> <a id="16038" href="Varieties.EquationalLogic.html#2638" class="Function Operator">âŠ§</a> <a id="16040" href="Varieties.Preservation.html#15943" class="Bound">p</a> <a id="16042" href="Varieties.EquationalLogic.html#2638" class="Function Operator">â‰ˆ</a> <a id="16044" href="Varieties.Preservation.html#15945" class="Bound">q</a>
  <a id="16048" href="Varieties.Preservation.html#16008" class="Function">IH</a> <a id="16051" href="Varieties.Preservation.html#16051" class="Bound">i</a> <a id="16053" class="Symbol">=</a> <a id="16055" href="Varieties.Properties.html#4142" class="Function">âŠ§-Lift-invar</a> <a id="16068" href="Varieties.Preservation.html#15633" class="Bound">wd</a>  <a id="16072" href="Varieties.Preservation.html#15943" class="Bound">p</a> <a id="16074" href="Varieties.Preservation.html#15945" class="Bound">q</a> <a id="16076" class="Symbol">((</a><a id="16078" href="Varieties.Preservation.html#15699" class="Function">P-id1</a> <a id="16084" href="Varieties.Preservation.html#15943" class="Bound">p</a> <a id="16086" href="Varieties.Preservation.html#15945" class="Bound">q</a> <a id="16088" href="Varieties.Preservation.html#15947" class="Bound">Ïƒ</a><a id="16089" class="Symbol">)</a> <a id="16091" class="Symbol">(</a><a id="16092" href="Varieties.Preservation.html#15962" class="Bound">x</a> <a id="16094" href="Varieties.Preservation.html#16051" class="Bound">i</a><a id="16095" class="Symbol">))</a>

 <a id="16100" href="Varieties.Preservation.html#15699" class="Function">P-id1</a> <a id="16106" href="Varieties.Preservation.html#16106" class="Bound">p</a> <a id="16108" href="Varieties.Preservation.html#16108" class="Bound">q</a> <a id="16110" href="Varieties.Preservation.html#16110" class="Bound">Ïƒ</a> <a id="16112" class="Symbol">(</a><a id="16113" href="Varieties.Closure.html#4730" class="InductiveConstructor">prodw</a><a id="16118" class="Symbol">{</a><a id="16119" href="Varieties.Preservation.html#16119" class="Bound">I</a><a id="16120" class="Symbol">}{</a><a id="16122" href="Varieties.Preservation.html#16122" class="Bound">ğ’œ</a><a id="16123" class="Symbol">}</a> <a id="16125" href="Varieties.Preservation.html#16125" class="Bound">x</a><a id="16126" class="Symbol">)</a> <a id="16128" class="Symbol">=</a> <a id="16130" href="Varieties.Properties.html#7212" class="Function">âŠ§-P-lift-invar</a> <a id="16145" href="Varieties.Preservation.html#15618" class="Bound">fe</a> <a id="16148" href="Varieties.Preservation.html#15633" class="Bound">wd</a> <a id="16151" href="Varieties.Preservation.html#16122" class="Bound">ğ’œ</a>  <a id="16154" href="Varieties.Preservation.html#16106" class="Bound">p</a> <a id="16156" href="Varieties.Preservation.html#16108" class="Bound">q</a> <a id="16158" href="Varieties.Preservation.html#16171" class="Function">IH</a>
  <a id="16163" class="Keyword">where</a>
  <a id="16171" href="Varieties.Preservation.html#16171" class="Function">IH</a> <a id="16174" class="Symbol">:</a> <a id="16176" class="Symbol">âˆ€</a> <a id="16178" href="Varieties.Preservation.html#16178" class="Bound">i</a> <a id="16180" class="Symbol">â†’</a> <a id="16182" class="Symbol">(</a><a id="16183" href="Algebras.Basic.html#10858" class="Function">Lift-Alg</a> <a id="16192" class="Symbol">(</a><a id="16193" href="Varieties.Preservation.html#16122" class="Bound">ğ’œ</a> <a id="16195" href="Varieties.Preservation.html#16178" class="Bound">i</a><a id="16196" class="Symbol">)</a> <a id="16198" href="Varieties.Preservation.html#15679" class="Bound">Î±</a><a id="16199" class="Symbol">)</a> <a id="16201" href="Varieties.EquationalLogic.html#2638" class="Function Operator">âŠ§</a> <a id="16203" href="Varieties.Preservation.html#16106" class="Bound">p</a> <a id="16205" href="Varieties.EquationalLogic.html#2638" class="Function Operator">â‰ˆ</a> <a id="16207" href="Varieties.Preservation.html#16108" class="Bound">q</a>
  <a id="16211" href="Varieties.Preservation.html#16171" class="Function">IH</a> <a id="16214" href="Varieties.Preservation.html#16214" class="Bound">i</a> <a id="16216" class="Symbol">=</a> <a id="16218" href="Varieties.Properties.html#4142" class="Function">âŠ§-Lift-invar</a> <a id="16231" href="Varieties.Preservation.html#15633" class="Bound">wd</a>  <a id="16235" href="Varieties.Preservation.html#16106" class="Bound">p</a> <a id="16237" href="Varieties.Preservation.html#16108" class="Bound">q</a> <a id="16239" class="Symbol">((</a><a id="16241" href="Varieties.Preservation.html#15699" class="Function">P-id1</a> <a id="16247" href="Varieties.Preservation.html#16106" class="Bound">p</a> <a id="16249" href="Varieties.Preservation.html#16108" class="Bound">q</a> <a id="16251" href="Varieties.Preservation.html#16110" class="Bound">Ïƒ</a><a id="16252" class="Symbol">)</a> <a id="16254" class="Symbol">(</a><a id="16255" href="Varieties.Preservation.html#16125" class="Bound">x</a> <a id="16257" href="Varieties.Preservation.html#16214" class="Bound">i</a><a id="16258" class="Symbol">))</a>

 <a id="16263" href="Varieties.Preservation.html#15699" class="Function">P-id1</a> <a id="16269" href="Varieties.Preservation.html#16269" class="Bound">p</a> <a id="16271" href="Varieties.Preservation.html#16271" class="Bound">q</a> <a id="16273" href="Varieties.Preservation.html#16273" class="Bound">Ïƒ</a> <a id="16275" class="Symbol">(</a><a id="16276" href="Varieties.Closure.html#4815" class="InductiveConstructor">pisow</a><a id="16281" class="Symbol">{</a><a id="16282" href="Varieties.Preservation.html#16282" class="Bound">ğ‘¨</a><a id="16283" class="Symbol">}{</a><a id="16285" href="Varieties.Preservation.html#16285" class="Bound">ğ‘©</a><a id="16286" class="Symbol">}</a> <a id="16288" href="Varieties.Preservation.html#16288" class="Bound">x</a> <a id="16290" href="Varieties.Preservation.html#16290" class="Bound">y</a><a id="16291" class="Symbol">)</a> <a id="16293" class="Symbol">=</a> <a id="16295" href="Varieties.Properties.html#3199" class="Function">âŠ§-I-invar</a> <a id="16305" href="Varieties.Preservation.html#15633" class="Bound">wd</a> <a id="16308" href="Varieties.Preservation.html#16285" class="Bound">ğ‘©</a> <a id="16310" href="Varieties.Preservation.html#16269" class="Bound">p</a> <a id="16312" href="Varieties.Preservation.html#16271" class="Bound">q</a> <a id="16314" class="Symbol">(</a><a id="16315" href="Varieties.Preservation.html#15699" class="Function">P-id1</a> <a id="16321" href="Varieties.Preservation.html#16269" class="Bound">p</a> <a id="16323" href="Varieties.Preservation.html#16271" class="Bound">q</a> <a id="16325" href="Varieties.Preservation.html#16273" class="Bound">Ïƒ</a> <a id="16327" href="Varieties.Preservation.html#16288" class="Bound">x</a><a id="16328" class="Symbol">)</a> <a id="16330" href="Varieties.Preservation.html#16290" class="Bound">y</a>

</pre>

...and conversely...

<pre class="Agda">

<a id="16381" class="Keyword">module</a> <a id="16388" href="Varieties.Preservation.html#16388" class="Module">_</a>  <a id="16391" class="Symbol">(</a><a id="16392" href="Varieties.Preservation.html#16392" class="Bound">wd</a> <a id="16395" class="Symbol">:</a> <a id="16397" href="Equality.Welldefined.html#2944" class="Function">SwellDef</a><a id="16405" class="Symbol">){</a><a id="16407" href="Varieties.Preservation.html#16407" class="Bound">X</a> <a id="16409" class="Symbol">:</a> <a id="16411" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="16416" href="Varieties.Preservation.html#13430" class="Generalizable">ğ“§</a><a id="16417" class="Symbol">}</a> <a id="16419" class="Symbol">{</a><a id="16420" href="Varieties.Preservation.html#16420" class="Bound">ğ’¦</a> <a id="16422" class="Symbol">:</a> <a id="16424" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="16429" class="Symbol">(</a><a id="16430" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="16438" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a> <a id="16440" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="16441" class="Symbol">)(</a><a id="16443" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="16446" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a><a id="16447" class="Symbol">)}</a> <a id="16450" class="Keyword">where</a>

 <a id="16458" href="Varieties.Preservation.html#16458" class="Function">P-id2</a> <a id="16464" class="Symbol">:</a> <a id="16466" class="Symbol">âˆ€</a> <a id="16468" class="Symbol">{</a><a id="16469" href="Varieties.Preservation.html#16469" class="Bound">Î²</a><a id="16470" class="Symbol">}(</a><a id="16472" href="Varieties.Preservation.html#16472" class="Bound">p</a> <a id="16474" href="Varieties.Preservation.html#16474" class="Bound">q</a> <a id="16476" class="Symbol">:</a> <a id="16478" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="16483" href="Varieties.Preservation.html#16407" class="Bound">X</a><a id="16484" class="Symbol">)</a> <a id="16486" class="Symbol">â†’</a> <a id="16488" href="Varieties.Closure.html#4358" class="Datatype">P</a><a id="16489" class="Symbol">{</a><a id="16490" class="Argument">Î²</a> <a id="16492" class="Symbol">=</a> <a id="16494" href="Varieties.Preservation.html#16469" class="Bound">Î²</a><a id="16495" class="Symbol">}</a> <a id="16497" href="Varieties.Preservation.html#16420" class="Bound">ğ’¦</a> <a id="16499" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="16501" href="Varieties.Preservation.html#16472" class="Bound">p</a> <a id="16503" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="16505" href="Varieties.Preservation.html#16474" class="Bound">q</a> <a id="16507" class="Symbol">â†’</a> <a id="16509" href="Varieties.Preservation.html#16420" class="Bound">ğ’¦</a> <a id="16511" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="16513" href="Varieties.Preservation.html#16472" class="Bound">p</a> <a id="16515" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="16517" href="Varieties.Preservation.html#16474" class="Bound">q</a>
 <a id="16520" href="Varieties.Preservation.html#16458" class="Function">P-id2</a> <a id="16526" href="Varieties.Preservation.html#16526" class="Bound">p</a> <a id="16528" href="Varieties.Preservation.html#16528" class="Bound">q</a> <a id="16530" href="Varieties.Preservation.html#16530" class="Bound">PKpq</a> <a id="16535" href="Varieties.Preservation.html#16535" class="Bound">KA</a> <a id="16538" class="Symbol">=</a> <a id="16540" href="Varieties.Properties.html#4276" class="Function">âŠ§-lower-invar</a> <a id="16554" href="Varieties.Preservation.html#16392" class="Bound">wd</a> <a id="16557" href="Varieties.Preservation.html#16526" class="Bound">p</a> <a id="16559" href="Varieties.Preservation.html#16528" class="Bound">q</a> <a id="16561" class="Symbol">(</a><a id="16562" href="Varieties.Preservation.html#16530" class="Bound">PKpq</a> <a id="16567" class="Symbol">(</a><a id="16568" href="Varieties.Closure.html#4446" class="InductiveConstructor">pbase</a> <a id="16574" href="Varieties.Preservation.html#16535" class="Bound">KA</a><a id="16576" class="Symbol">))</a>

</pre>


#### <a id="v-preserves-identities">V preserves identities</a>

Finally, we prove the analogous preservation lemmas for the closure operator `V`.

<pre class="Agda">

<a id="16754" class="Keyword">module</a> <a id="Vid"></a><a id="16761" href="Varieties.Preservation.html#16761" class="Module">Vid</a> <a id="16765" class="Symbol">(</a><a id="16766" href="Varieties.Preservation.html#16766" class="Bound">fe</a> <a id="16769" class="Symbol">:</a> <a id="16771" href="Equality.Extensionality.html#2264" class="Function">DFunExt</a><a id="16778" class="Symbol">)(</a><a id="16780" href="Varieties.Preservation.html#16780" class="Bound">wd</a> <a id="16783" class="Symbol">:</a> <a id="16785" href="Equality.Welldefined.html#2944" class="Function">SwellDef</a><a id="16793" class="Symbol">){</a><a id="16795" href="Varieties.Preservation.html#16795" class="Bound">ğ“§</a> <a id="16797" class="Symbol">:</a> <a id="16799" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="16804" class="Symbol">}</a> <a id="16806" class="Symbol">{</a><a id="16807" href="Varieties.Preservation.html#16807" class="Bound">X</a> <a id="16809" class="Symbol">:</a> <a id="16811" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="16816" href="Varieties.Preservation.html#16795" class="Bound">ğ“§</a><a id="16817" class="Symbol">}</a> <a id="16819" class="Symbol">{</a><a id="16820" href="Varieties.Preservation.html#16820" class="Bound">ğ’¦</a> <a id="16822" class="Symbol">:</a> <a id="16824" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="16829" class="Symbol">(</a><a id="16830" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="16838" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a> <a id="16840" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="16841" class="Symbol">)(</a><a id="16843" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="16846" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a><a id="16847" class="Symbol">)}</a> <a id="16850" class="Keyword">where</a>

 <a id="Vid.V-id1"></a><a id="16858" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="16864" class="Symbol">:</a> <a id="16866" class="Symbol">(</a><a id="16867" href="Varieties.Preservation.html#16867" class="Bound">p</a> <a id="16869" href="Varieties.Preservation.html#16869" class="Bound">q</a> <a id="16871" class="Symbol">:</a> <a id="16873" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="16878" href="Varieties.Preservation.html#16807" class="Bound">X</a><a id="16879" class="Symbol">)</a> <a id="16881" class="Symbol">â†’</a> <a id="16883" href="Varieties.Preservation.html#16820" class="Bound">ğ’¦</a> <a id="16885" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="16887" href="Varieties.Preservation.html#16867" class="Bound">p</a> <a id="16889" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="16891" href="Varieties.Preservation.html#16869" class="Bound">q</a> <a id="16893" class="Symbol">â†’</a> <a id="16895" href="Varieties.Closure.html#5316" class="Datatype">V</a><a id="16896" class="Symbol">{</a><a id="16897" class="Argument">Î²</a> <a id="16899" class="Symbol">=</a> <a id="16901" href="Varieties.Preservation.html#16838" class="Bound">Î±</a><a id="16902" class="Symbol">}</a> <a id="16904" href="Varieties.Preservation.html#16820" class="Bound">ğ’¦</a> <a id="16906" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="16908" href="Varieties.Preservation.html#16867" class="Bound">p</a> <a id="16910" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="16912" href="Varieties.Preservation.html#16869" class="Bound">q</a>
 <a id="16915" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="16921" href="Varieties.Preservation.html#16921" class="Bound">p</a> <a id="16923" href="Varieties.Preservation.html#16923" class="Bound">q</a> <a id="16925" href="Varieties.Preservation.html#16925" class="Bound">Ïƒ</a> <a id="16927" class="Symbol">(</a><a id="16928" href="Varieties.Closure.html#5404" class="InductiveConstructor">vbase</a> <a id="16934" href="Varieties.Preservation.html#16934" class="Bound">x</a><a id="16935" class="Symbol">)</a> <a id="16937" class="Symbol">=</a> <a id="16939" href="Varieties.Properties.html#4142" class="Function">âŠ§-Lift-invar</a> <a id="16952" href="Varieties.Preservation.html#16780" class="Bound">wd</a> <a id="16955" href="Varieties.Preservation.html#16921" class="Bound">p</a> <a id="16957" href="Varieties.Preservation.html#16923" class="Bound">q</a> <a id="16959" class="Symbol">(</a><a id="16960" href="Varieties.Preservation.html#16925" class="Bound">Ïƒ</a> <a id="16962" href="Varieties.Preservation.html#16934" class="Bound">x</a><a id="16963" class="Symbol">)</a>
 <a id="16966" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="16972" href="Varieties.Preservation.html#16972" class="Bound">p</a> <a id="16974" href="Varieties.Preservation.html#16974" class="Bound">q</a> <a id="16976" href="Varieties.Preservation.html#16976" class="Bound">Ïƒ</a> <a id="16978" class="Symbol">(</a><a id="16979" href="Varieties.Closure.html#5461" class="InductiveConstructor">vlift</a><a id="16984" class="Symbol">{</a><a id="16985" href="Varieties.Preservation.html#16985" class="Bound">ğ‘¨</a><a id="16986" class="Symbol">}</a> <a id="16988" href="Varieties.Preservation.html#16988" class="Bound">x</a><a id="16989" class="Symbol">)</a> <a id="16991" class="Symbol">=</a> <a id="16993" href="Varieties.Properties.html#4142" class="Function">âŠ§-Lift-invar</a> <a id="17006" href="Varieties.Preservation.html#16780" class="Bound">wd</a> <a id="17009" href="Varieties.Preservation.html#16972" class="Bound">p</a> <a id="17011" href="Varieties.Preservation.html#16974" class="Bound">q</a> <a id="17013" class="Symbol">((</a><a id="17015" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="17021" href="Varieties.Preservation.html#16972" class="Bound">p</a> <a id="17023" href="Varieties.Preservation.html#16974" class="Bound">q</a> <a id="17025" href="Varieties.Preservation.html#16976" class="Bound">Ïƒ</a><a id="17026" class="Symbol">)</a> <a id="17028" href="Varieties.Preservation.html#16988" class="Bound">x</a><a id="17029" class="Symbol">)</a>
 <a id="17032" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="17038" href="Varieties.Preservation.html#17038" class="Bound">p</a> <a id="17040" href="Varieties.Preservation.html#17040" class="Bound">q</a> <a id="17042" href="Varieties.Preservation.html#17042" class="Bound">Ïƒ</a> <a id="17044" class="Symbol">(</a><a id="17045" href="Varieties.Closure.html#5526" class="InductiveConstructor">vliftw</a><a id="17051" class="Symbol">{</a><a id="17052" href="Varieties.Preservation.html#17052" class="Bound">ğ‘¨</a><a id="17053" class="Symbol">}</a> <a id="17055" href="Varieties.Preservation.html#17055" class="Bound">x</a><a id="17056" class="Symbol">)</a> <a id="17058" class="Symbol">=</a> <a id="17060" href="Varieties.Properties.html#4142" class="Function">âŠ§-Lift-invar</a> <a id="17073" href="Varieties.Preservation.html#16780" class="Bound">wd</a> <a id="17076" href="Varieties.Preservation.html#17038" class="Bound">p</a> <a id="17078" href="Varieties.Preservation.html#17040" class="Bound">q</a> <a id="17080" class="Symbol">((</a><a id="17082" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="17088" href="Varieties.Preservation.html#17038" class="Bound">p</a> <a id="17090" href="Varieties.Preservation.html#17040" class="Bound">q</a> <a id="17092" href="Varieties.Preservation.html#17042" class="Bound">Ïƒ</a><a id="17093" class="Symbol">)</a> <a id="17095" href="Varieties.Preservation.html#17055" class="Bound">x</a><a id="17096" class="Symbol">)</a>

 <a id="17100" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="17106" href="Varieties.Preservation.html#17106" class="Bound">p</a> <a id="17108" href="Varieties.Preservation.html#17108" class="Bound">q</a> <a id="17110" href="Varieties.Preservation.html#17110" class="Bound">Ïƒ</a> <a id="17112" class="Symbol">(</a><a id="17113" href="Varieties.Closure.html#5597" class="InductiveConstructor">vhimg</a><a id="17118" class="Symbol">{</a><a id="17119" href="Varieties.Preservation.html#17119" class="Bound">ğ‘¨</a><a id="17120" class="Symbol">}{</a><a id="17122" href="Varieties.Preservation.html#17122" class="Bound">ğ‘ª</a><a id="17123" class="Symbol">}</a><a id="17124" href="Varieties.Preservation.html#17124" class="Bound">VA</a> <a id="17127" class="Symbol">(</a><a id="17128" href="Varieties.Preservation.html#17128" class="Bound">ğ‘©</a> <a id="17130" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17132" class="Symbol">((</a><a id="17134" href="Varieties.Preservation.html#17134" class="Bound">Ï†</a> <a id="17136" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17138" href="Varieties.Preservation.html#17138" class="Bound">Ï†h</a><a id="17140" class="Symbol">)</a> <a id="17142" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17144" href="Varieties.Preservation.html#17144" class="Bound">Ï†E</a><a id="17146" class="Symbol">)))</a> <a id="17150" href="Varieties.Preservation.html#17150" class="Bound">b</a> <a id="17152" class="Symbol">=</a> <a id="17154" href="Varieties.Preservation.html#17323" class="Function">goal</a>
  <a id="17161" class="Keyword">where</a>
  <a id="17169" href="Varieties.Preservation.html#17169" class="Function">IH</a> <a id="17172" class="Symbol">:</a> <a id="17174" href="Varieties.Preservation.html#17119" class="Bound">ğ‘¨</a> <a id="17176" href="Varieties.EquationalLogic.html#2638" class="Function Operator">âŠ§</a> <a id="17178" href="Varieties.Preservation.html#17106" class="Bound">p</a> <a id="17180" href="Varieties.EquationalLogic.html#2638" class="Function Operator">â‰ˆ</a> <a id="17182" href="Varieties.Preservation.html#17108" class="Bound">q</a>
  <a id="17186" href="Varieties.Preservation.html#17169" class="Function">IH</a> <a id="17189" class="Symbol">=</a> <a id="17191" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="17197" href="Varieties.Preservation.html#17106" class="Bound">p</a> <a id="17199" href="Varieties.Preservation.html#17108" class="Bound">q</a> <a id="17201" href="Varieties.Preservation.html#17110" class="Bound">Ïƒ</a> <a id="17203" href="Varieties.Preservation.html#17124" class="Bound">VA</a>

  <a id="17209" href="Varieties.Preservation.html#17209" class="Function">preim</a> <a id="17215" class="Symbol">:</a> <a id="17217" href="Varieties.Preservation.html#16807" class="Bound">X</a> <a id="17219" class="Symbol">â†’</a> <a id="17221" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="17223" href="Varieties.Preservation.html#17119" class="Bound">ğ‘¨</a> <a id="17225" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a>
  <a id="17229" href="Varieties.Preservation.html#17209" class="Function">preim</a> <a id="17235" href="Varieties.Preservation.html#17235" class="Bound">x</a> <a id="17237" class="Symbol">=</a> <a id="17239" href="Overture.Inverses.html#2190" class="Function">Inv</a> <a id="17243" href="Varieties.Preservation.html#17134" class="Bound">Ï†</a> <a id="17245" class="Symbol">(</a><a id="17246" href="Varieties.Preservation.html#17144" class="Bound">Ï†E</a> <a id="17249" class="Symbol">(</a><a id="17250" href="Varieties.Preservation.html#17150" class="Bound">b</a> <a id="17252" href="Varieties.Preservation.html#17235" class="Bound">x</a><a id="17253" class="Symbol">))</a>

  <a id="17259" href="Varieties.Preservation.html#17259" class="Function">Î¶</a> <a id="17261" class="Symbol">:</a> <a id="17263" class="Symbol">âˆ€</a> <a id="17265" href="Varieties.Preservation.html#17265" class="Bound">x</a> <a id="17267" class="Symbol">â†’</a> <a id="17269" href="Varieties.Preservation.html#17134" class="Bound">Ï†</a> <a id="17271" class="Symbol">(</a><a id="17272" href="Varieties.Preservation.html#17209" class="Function">preim</a> <a id="17278" href="Varieties.Preservation.html#17265" class="Bound">x</a><a id="17279" class="Symbol">)</a> <a id="17281" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="17283" href="Varieties.Preservation.html#17150" class="Bound">b</a> <a id="17285" href="Varieties.Preservation.html#17265" class="Bound">x</a>
  <a id="17289" href="Varieties.Preservation.html#17259" class="Function">Î¶</a> <a id="17291" href="Varieties.Preservation.html#17291" class="Bound">x</a> <a id="17293" class="Symbol">=</a> <a id="17295" href="Overture.Inverses.html#2437" class="Function">InvIsInverseÊ³</a> <a id="17309" class="Symbol">(</a><a id="17310" href="Varieties.Preservation.html#17144" class="Bound">Ï†E</a> <a id="17313" class="Symbol">(</a><a id="17314" href="Varieties.Preservation.html#17150" class="Bound">b</a> <a id="17316" href="Varieties.Preservation.html#17291" class="Bound">x</a><a id="17317" class="Symbol">))</a>

  <a id="17323" href="Varieties.Preservation.html#17323" class="Function">goal</a> <a id="17328" class="Symbol">:</a> <a id="17330" class="Symbol">(</a><a id="17331" href="Varieties.Preservation.html#17128" class="Bound">ğ‘©</a> <a id="17333" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17335" href="Varieties.Preservation.html#17106" class="Bound">p</a> <a id="17337" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17338" class="Symbol">)</a> <a id="17340" href="Varieties.Preservation.html#17150" class="Bound">b</a> <a id="17342" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="17344" class="Symbol">(</a><a id="17345" href="Varieties.Preservation.html#17128" class="Bound">ğ‘©</a> <a id="17347" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17349" href="Varieties.Preservation.html#17108" class="Bound">q</a> <a id="17351" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17352" class="Symbol">)</a> <a id="17354" href="Varieties.Preservation.html#17150" class="Bound">b</a>
  <a id="17358" href="Varieties.Preservation.html#17323" class="Function">goal</a> <a id="17363" class="Symbol">=</a> <a id="17365" class="Symbol">(</a><a id="17366" href="Varieties.Preservation.html#17128" class="Bound">ğ‘©</a> <a id="17368" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17370" href="Varieties.Preservation.html#17106" class="Bound">p</a> <a id="17372" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17373" class="Symbol">)</a> <a id="17375" href="Varieties.Preservation.html#17150" class="Bound">b</a>          <a id="17386" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17389" href="Varieties.Preservation.html#16780" class="Bound">wd</a> <a id="17392" href="Varieties.Preservation.html#16795" class="Bound">ğ“§</a> <a id="17394" href="Varieties.Preservation.html#16838" class="Bound">Î±</a> <a id="17396" class="Symbol">(</a><a id="17397" href="Varieties.Preservation.html#17128" class="Bound">ğ‘©</a> <a id="17399" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17401" href="Varieties.Preservation.html#17106" class="Bound">p</a> <a id="17403" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17404" class="Symbol">)</a> <a id="17406" href="Varieties.Preservation.html#17150" class="Bound">b</a> <a id="17408" class="Symbol">(</a><a id="17409" href="Varieties.Preservation.html#17134" class="Bound">Ï†</a> <a id="17411" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17413" href="Varieties.Preservation.html#17209" class="Function">preim</a> <a id="17419" class="Symbol">)(Î»</a> <a id="17423" href="Varieties.Preservation.html#17423" class="Bound">i</a> <a id="17425" class="Symbol">â†’</a> <a id="17427" class="Symbol">(</a><a id="17428" href="Varieties.Preservation.html#17259" class="Function">Î¶</a> <a id="17430" href="Varieties.Preservation.html#17423" class="Bound">i</a><a id="17431" class="Symbol">)</a><a id="17432" href="Overture.Preliminaries.html#5086" class="Function Operator">â»Â¹</a><a id="17434" class="Symbol">)</a><a id="17435" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17443" class="Symbol">(</a><a id="17444" href="Varieties.Preservation.html#17128" class="Bound">ğ‘©</a> <a id="17446" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17448" href="Varieties.Preservation.html#17106" class="Bound">p</a> <a id="17450" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17451" class="Symbol">)(</a><a id="17453" href="Varieties.Preservation.html#17134" class="Bound">Ï†</a> <a id="17455" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17457" href="Varieties.Preservation.html#17209" class="Function">preim</a><a id="17462" class="Symbol">)</a> <a id="17464" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="17466" class="Symbol">(</a><a id="17467" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a> <a id="17481" class="Symbol">(</a><a id="17482" href="Varieties.Preservation.html#16780" class="Bound">wd</a> <a id="17485" href="Varieties.Preservation.html#629" class="Bound">ğ“¥</a> <a id="17487" href="Varieties.Preservation.html#16838" class="Bound">Î±</a><a id="17488" class="Symbol">)</a> <a id="17490" href="Varieties.Preservation.html#17128" class="Bound">ğ‘©</a> <a id="17492" class="Symbol">(</a><a id="17493" href="Varieties.Preservation.html#17134" class="Bound">Ï†</a> <a id="17495" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17497" href="Varieties.Preservation.html#17138" class="Bound">Ï†h</a><a id="17499" class="Symbol">)</a> <a id="17501" href="Varieties.Preservation.html#17106" class="Bound">p</a> <a id="17503" href="Varieties.Preservation.html#17209" class="Function">preim</a><a id="17508" class="Symbol">)</a><a id="17509" href="Overture.Preliminaries.html#5086" class="Function Operator">â»Â¹</a> <a id="17512" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17520" href="Varieties.Preservation.html#17134" class="Bound">Ï†</a><a id="17521" class="Symbol">((</a><a id="17523" href="Varieties.Preservation.html#17119" class="Bound">ğ‘¨</a> <a id="17525" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17527" href="Varieties.Preservation.html#17106" class="Bound">p</a> <a id="17529" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17530" class="Symbol">)</a> <a id="17532" href="Varieties.Preservation.html#17209" class="Function">preim</a><a id="17537" class="Symbol">)</a>   <a id="17541" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17544" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="17549" href="Varieties.Preservation.html#17134" class="Bound">Ï†</a> <a id="17551" class="Symbol">(</a><a id="17552" href="Varieties.Preservation.html#17169" class="Function">IH</a> <a id="17555" href="Varieties.Preservation.html#17209" class="Function">preim</a><a id="17560" class="Symbol">)</a> <a id="17562" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17570" href="Varieties.Preservation.html#17134" class="Bound">Ï†</a><a id="17571" class="Symbol">((</a><a id="17573" href="Varieties.Preservation.html#17119" class="Bound">ğ‘¨</a> <a id="17575" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17577" href="Varieties.Preservation.html#17108" class="Bound">q</a> <a id="17579" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17580" class="Symbol">)</a> <a id="17582" href="Varieties.Preservation.html#17209" class="Function">preim</a><a id="17587" class="Symbol">)</a>   <a id="17591" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17594" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a> <a id="17608" class="Symbol">(</a><a id="17609" href="Varieties.Preservation.html#16780" class="Bound">wd</a> <a id="17612" href="Varieties.Preservation.html#629" class="Bound">ğ“¥</a> <a id="17614" href="Varieties.Preservation.html#16838" class="Bound">Î±</a><a id="17615" class="Symbol">)</a> <a id="17617" href="Varieties.Preservation.html#17128" class="Bound">ğ‘©</a> <a id="17619" class="Symbol">(</a><a id="17620" href="Varieties.Preservation.html#17134" class="Bound">Ï†</a> <a id="17622" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17624" href="Varieties.Preservation.html#17138" class="Bound">Ï†h</a><a id="17626" class="Symbol">)</a> <a id="17628" href="Varieties.Preservation.html#17108" class="Bound">q</a> <a id="17630" href="Varieties.Preservation.html#17209" class="Function">preim</a> <a id="17636" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17644" class="Symbol">(</a><a id="17645" href="Varieties.Preservation.html#17128" class="Bound">ğ‘©</a> <a id="17647" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17649" href="Varieties.Preservation.html#17108" class="Bound">q</a> <a id="17651" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17652" class="Symbol">)(</a><a id="17654" href="Varieties.Preservation.html#17134" class="Bound">Ï†</a> <a id="17656" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17658" href="Varieties.Preservation.html#17209" class="Function">preim</a><a id="17663" class="Symbol">)</a> <a id="17665" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17668" href="Varieties.Preservation.html#16780" class="Bound">wd</a> <a id="17671" href="Varieties.Preservation.html#16795" class="Bound">ğ“§</a> <a id="17673" href="Varieties.Preservation.html#16838" class="Bound">Î±</a> <a id="17675" class="Symbol">(</a><a id="17676" href="Varieties.Preservation.html#17128" class="Bound">ğ‘©</a> <a id="17678" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17680" href="Varieties.Preservation.html#17108" class="Bound">q</a> <a id="17682" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17683" class="Symbol">)(</a><a id="17685" href="Varieties.Preservation.html#17134" class="Bound">Ï†</a> <a id="17687" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17689" href="Varieties.Preservation.html#17209" class="Function">preim</a><a id="17694" class="Symbol">)</a> <a id="17696" href="Varieties.Preservation.html#17150" class="Bound">b</a> <a id="17698" href="Varieties.Preservation.html#17259" class="Function">Î¶</a> <a id="17700" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17708" class="Symbol">(</a><a id="17709" href="Varieties.Preservation.html#17128" class="Bound">ğ‘©</a> <a id="17711" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="17713" href="Varieties.Preservation.html#17108" class="Bound">q</a> <a id="17715" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="17716" class="Symbol">)</a> <a id="17718" href="Varieties.Preservation.html#17150" class="Bound">b</a>          <a id="17729" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

 <a id="17733" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="17739" href="Varieties.Preservation.html#17739" class="Bound">p</a> <a id="17741" href="Varieties.Preservation.html#17741" class="Bound">q</a> <a id="17743" href="Varieties.Preservation.html#17743" class="Bound">Ïƒ</a> <a id="17745" class="Symbol">(</a> <a id="17747" href="Varieties.Closure.html#5679" class="InductiveConstructor">vssubw</a> <a id="17754" class="Symbol">{</a><a id="17755" href="Varieties.Preservation.html#17755" class="Bound">ğ‘¨</a><a id="17756" class="Symbol">}{</a><a id="17758" href="Varieties.Preservation.html#17758" class="Bound">ğ‘©</a><a id="17759" class="Symbol">}</a> <a id="17761" href="Varieties.Preservation.html#17761" class="Bound">VA</a> <a id="17764" href="Varieties.Preservation.html#17764" class="Bound">Bâ‰¤A</a> <a id="17768" class="Symbol">)</a> <a id="17770" class="Symbol">=</a>
  <a id="17774" href="Varieties.Properties.html#5429" class="Function">âŠ§-S-class-invar</a> <a id="17790" href="Varieties.Preservation.html#16780" class="Bound">wd</a> <a id="17793" href="Varieties.Preservation.html#17739" class="Bound">p</a> <a id="17795" href="Varieties.Preservation.html#17741" class="Bound">q</a> <a id="17797" href="Varieties.Preservation.html#17949" class="Function">goal</a> <a id="17802" class="Symbol">(</a><a id="17803" href="Varieties.Preservation.html#17758" class="Bound">ğ‘©</a> <a id="17805" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17807" href="Varieties.Preservation.html#17755" class="Bound">ğ‘¨</a> <a id="17809" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17811" class="Symbol">(</a><a id="17812" href="Varieties.Preservation.html#17758" class="Bound">ğ‘©</a> <a id="17814" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17816" href="Varieties.Preservation.html#17764" class="Bound">Bâ‰¤A</a><a id="17819" class="Symbol">)</a> <a id="17821" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17823" href="Varieties.Preservation.html#1119" class="InductiveConstructor">inr</a> <a id="17827" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17832" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17834" href="Homomorphisms.Isomorphisms.html#2874" class="Function">â‰…-refl</a><a id="17840" class="Symbol">)</a>
   <a id="17845" class="Keyword">where</a>
   <a id="17854" href="Varieties.Preservation.html#17854" class="Function">IH</a> <a id="17857" class="Symbol">:</a> <a id="17859" href="Varieties.Preservation.html#17755" class="Bound">ğ‘¨</a> <a id="17861" href="Varieties.EquationalLogic.html#2638" class="Function Operator">âŠ§</a> <a id="17863" href="Varieties.Preservation.html#17739" class="Bound">p</a> <a id="17865" href="Varieties.EquationalLogic.html#2638" class="Function Operator">â‰ˆ</a> <a id="17867" href="Varieties.Preservation.html#17741" class="Bound">q</a>
   <a id="17872" href="Varieties.Preservation.html#17854" class="Function">IH</a> <a id="17875" class="Symbol">=</a> <a id="17877" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="17883" href="Varieties.Preservation.html#17739" class="Bound">p</a> <a id="17885" href="Varieties.Preservation.html#17741" class="Bound">q</a> <a id="17887" href="Varieties.Preservation.html#17743" class="Bound">Ïƒ</a> <a id="17889" href="Varieties.Preservation.html#17761" class="Bound">VA</a>

   <a id="17896" href="Varieties.Preservation.html#17896" class="Function">Asinglepq</a> <a id="17906" class="Symbol">:</a> <a id="17908" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="17910" href="Varieties.Preservation.html#17755" class="Bound">ğ‘¨</a> <a id="17912" href="Relation.Unary.html#1335" class="Function Operator">ï½</a> <a id="17914" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="17916" href="Varieties.Preservation.html#17739" class="Bound">p</a> <a id="17918" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="17920" href="Varieties.Preservation.html#17741" class="Bound">q</a>
   <a id="17925" href="Varieties.Preservation.html#17896" class="Function">Asinglepq</a> <a id="17935" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17940" class="Symbol">=</a> <a id="17942" href="Varieties.Preservation.html#17854" class="Function">IH</a>

   <a id="17949" href="Varieties.Preservation.html#17949" class="Function">goal</a> <a id="17954" class="Symbol">:</a> <a id="17956" class="Symbol">(</a><a id="17957" href="Varieties.Preservation.html#16820" class="Bound">ğ’¦</a> <a id="17959" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="17961" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="17963" href="Varieties.Preservation.html#17755" class="Bound">ğ‘¨</a> <a id="17965" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="17966" class="Symbol">)</a> <a id="17968" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="17970" href="Varieties.Preservation.html#17739" class="Bound">p</a> <a id="17972" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="17974" href="Varieties.Preservation.html#17741" class="Bound">q</a>
   <a id="17979" href="Varieties.Preservation.html#17949" class="Function">goal</a> <a id="17984" class="Symbol">{</a><a id="17985" href="Varieties.Preservation.html#17985" class="Bound">ğ‘©</a><a id="17986" class="Symbol">}</a> <a id="17988" class="Symbol">(</a><a id="17989" href="Varieties.Preservation.html#1104" class="InductiveConstructor">inl</a> <a id="17993" href="Varieties.Preservation.html#17993" class="Bound">x</a><a id="17994" class="Symbol">)</a> <a id="17996" class="Symbol">=</a> <a id="17998" href="Varieties.Preservation.html#17743" class="Bound">Ïƒ</a> <a id="18000" href="Varieties.Preservation.html#17993" class="Bound">x</a>
   <a id="18005" href="Varieties.Preservation.html#17949" class="Function">goal</a> <a id="18010" class="Symbol">{</a><a id="18011" href="Varieties.Preservation.html#18011" class="Bound">ğ‘©</a><a id="18012" class="Symbol">}</a> <a id="18014" class="Symbol">(</a><a id="18015" href="Varieties.Preservation.html#1119" class="InductiveConstructor">inr</a> <a id="18019" href="Varieties.Preservation.html#18019" class="Bound">y</a><a id="18020" class="Symbol">)</a> <a id="18022" class="Symbol">=</a> <a id="18024" href="Varieties.Preservation.html#17896" class="Function">Asinglepq</a> <a id="18034" href="Varieties.Preservation.html#18019" class="Bound">y</a>

 <a id="18038" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="18044" href="Varieties.Preservation.html#18044" class="Bound">p</a> <a id="18046" href="Varieties.Preservation.html#18046" class="Bound">q</a> <a id="18048" href="Varieties.Preservation.html#18048" class="Bound">Ïƒ</a> <a id="18050" class="Symbol">(</a><a id="18051" href="Varieties.Closure.html#5743" class="InductiveConstructor">vprodu</a><a id="18057" class="Symbol">{</a><a id="18058" href="Varieties.Preservation.html#18058" class="Bound">I</a><a id="18059" class="Symbol">}{</a><a id="18061" href="Varieties.Preservation.html#18061" class="Bound">ğ’œ</a><a id="18062" class="Symbol">}</a> <a id="18064" href="Varieties.Preservation.html#18064" class="Bound">Vğ’œ</a><a id="18066" class="Symbol">)</a> <a id="18068" class="Symbol">=</a> <a id="18070" href="Varieties.Properties.html#6125" class="Function">âŠ§-P-invar</a> <a id="18080" href="Varieties.Preservation.html#16766" class="Bound">fe</a> <a id="18083" href="Varieties.Preservation.html#16780" class="Bound">wd</a> <a id="18086" href="Varieties.Preservation.html#18061" class="Bound">ğ’œ</a>  <a id="18089" href="Varieties.Preservation.html#18044" class="Bound">p</a> <a id="18091" href="Varieties.Preservation.html#18046" class="Bound">q</a> <a id="18093" class="Symbol">Î»</a> <a id="18095" href="Varieties.Preservation.html#18095" class="Bound">i</a> <a id="18097" class="Symbol">â†’</a> <a id="18099" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="18105" href="Varieties.Preservation.html#18044" class="Bound">p</a> <a id="18107" href="Varieties.Preservation.html#18046" class="Bound">q</a> <a id="18109" href="Varieties.Preservation.html#18048" class="Bound">Ïƒ</a> <a id="18111" class="Symbol">(</a><a id="18112" href="Varieties.Preservation.html#18064" class="Bound">Vğ’œ</a> <a id="18115" href="Varieties.Preservation.html#18095" class="Bound">i</a><a id="18116" class="Symbol">)</a>
 <a id="18119" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="18125" href="Varieties.Preservation.html#18125" class="Bound">p</a> <a id="18127" href="Varieties.Preservation.html#18127" class="Bound">q</a> <a id="18129" href="Varieties.Preservation.html#18129" class="Bound">Ïƒ</a> <a id="18131" class="Symbol">(</a><a id="18132" href="Varieties.Closure.html#5827" class="InductiveConstructor">vprodw</a><a id="18138" class="Symbol">{</a><a id="18139" href="Varieties.Preservation.html#18139" class="Bound">I</a><a id="18140" class="Symbol">}{</a><a id="18142" href="Varieties.Preservation.html#18142" class="Bound">ğ’œ</a><a id="18143" class="Symbol">}</a> <a id="18145" href="Varieties.Preservation.html#18145" class="Bound">Vğ’œ</a><a id="18147" class="Symbol">)</a> <a id="18149" class="Symbol">=</a> <a id="18151" href="Varieties.Properties.html#6125" class="Function">âŠ§-P-invar</a> <a id="18161" href="Varieties.Preservation.html#16766" class="Bound">fe</a> <a id="18164" href="Varieties.Preservation.html#16780" class="Bound">wd</a> <a id="18167" href="Varieties.Preservation.html#18142" class="Bound">ğ’œ</a>  <a id="18170" href="Varieties.Preservation.html#18125" class="Bound">p</a> <a id="18172" href="Varieties.Preservation.html#18127" class="Bound">q</a> <a id="18174" class="Symbol">Î»</a> <a id="18176" href="Varieties.Preservation.html#18176" class="Bound">i</a> <a id="18178" class="Symbol">â†’</a> <a id="18180" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="18186" href="Varieties.Preservation.html#18125" class="Bound">p</a> <a id="18188" href="Varieties.Preservation.html#18127" class="Bound">q</a> <a id="18190" href="Varieties.Preservation.html#18129" class="Bound">Ïƒ</a> <a id="18192" class="Symbol">(</a><a id="18193" href="Varieties.Preservation.html#18145" class="Bound">Vğ’œ</a> <a id="18196" href="Varieties.Preservation.html#18176" class="Bound">i</a><a id="18197" class="Symbol">)</a>
 <a id="18200" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="18206" href="Varieties.Preservation.html#18206" class="Bound">p</a> <a id="18208" href="Varieties.Preservation.html#18208" class="Bound">q</a> <a id="18210" href="Varieties.Preservation.html#18210" class="Bound">Ïƒ</a> <a id="18212" class="Symbol">(</a><a id="18213" href="Varieties.Closure.html#5911" class="InductiveConstructor">visou</a><a id="18218" class="Symbol">{</a><a id="18219" href="Varieties.Preservation.html#18219" class="Bound">ğ‘¨</a><a id="18220" class="Symbol">}{</a><a id="18222" href="Varieties.Preservation.html#18222" class="Bound">ğ‘©</a><a id="18223" class="Symbol">}</a> <a id="18225" href="Varieties.Preservation.html#18225" class="Bound">VA</a> <a id="18228" href="Varieties.Preservation.html#18228" class="Bound">Aâ‰…B</a><a id="18231" class="Symbol">)</a> <a id="18233" class="Symbol">=</a> <a id="18235" href="Varieties.Properties.html#3199" class="Function">âŠ§-I-invar</a> <a id="18245" href="Varieties.Preservation.html#16780" class="Bound">wd</a> <a id="18248" href="Varieties.Preservation.html#18222" class="Bound">ğ‘©</a> <a id="18250" href="Varieties.Preservation.html#18206" class="Bound">p</a> <a id="18252" href="Varieties.Preservation.html#18208" class="Bound">q</a> <a id="18254" class="Symbol">(</a><a id="18255" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="18261" href="Varieties.Preservation.html#18206" class="Bound">p</a> <a id="18263" href="Varieties.Preservation.html#18208" class="Bound">q</a> <a id="18265" href="Varieties.Preservation.html#18210" class="Bound">Ïƒ</a> <a id="18267" href="Varieties.Preservation.html#18225" class="Bound">VA</a><a id="18269" class="Symbol">)</a> <a id="18271" href="Varieties.Preservation.html#18228" class="Bound">Aâ‰…B</a>
 <a id="18276" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="18282" href="Varieties.Preservation.html#18282" class="Bound">p</a> <a id="18284" href="Varieties.Preservation.html#18284" class="Bound">q</a> <a id="18286" href="Varieties.Preservation.html#18286" class="Bound">Ïƒ</a> <a id="18288" class="Symbol">(</a><a id="18289" href="Varieties.Closure.html#5990" class="InductiveConstructor">visow</a><a id="18294" class="Symbol">{</a><a id="18295" href="Varieties.Preservation.html#18295" class="Bound">ğ‘¨</a><a id="18296" class="Symbol">}{</a><a id="18298" href="Varieties.Preservation.html#18298" class="Bound">ğ‘©</a><a id="18299" class="Symbol">}</a> <a id="18301" href="Varieties.Preservation.html#18301" class="Bound">VA</a> <a id="18304" href="Varieties.Preservation.html#18304" class="Bound">Aâ‰…B</a><a id="18307" class="Symbol">)</a> <a id="18309" class="Symbol">=</a> <a id="18311" href="Varieties.Properties.html#3199" class="Function">âŠ§-I-invar</a> <a id="18321" href="Varieties.Preservation.html#16780" class="Bound">wd</a> <a id="18324" href="Varieties.Preservation.html#18298" class="Bound">ğ‘©</a> <a id="18326" href="Varieties.Preservation.html#18282" class="Bound">p</a> <a id="18328" href="Varieties.Preservation.html#18284" class="Bound">q</a> <a id="18330" class="Symbol">(</a><a id="18331" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="18337" href="Varieties.Preservation.html#18282" class="Bound">p</a> <a id="18339" href="Varieties.Preservation.html#18284" class="Bound">q</a> <a id="18341" href="Varieties.Preservation.html#18286" class="Bound">Ïƒ</a> <a id="18343" href="Varieties.Preservation.html#18301" class="Bound">VA</a><a id="18345" class="Symbol">)</a> <a id="18347" href="Varieties.Preservation.html#18304" class="Bound">Aâ‰…B</a>

<a id="18352" class="Keyword">module</a> <a id="Vid&#39;"></a><a id="18359" href="Varieties.Preservation.html#18359" class="Module">Vid&#39;</a> <a id="18364" class="Symbol">(</a><a id="18365" href="Varieties.Preservation.html#18365" class="Bound">fe</a> <a id="18368" class="Symbol">:</a> <a id="18370" href="Equality.Extensionality.html#2264" class="Function">DFunExt</a><a id="18377" class="Symbol">)(</a><a id="18379" href="Varieties.Preservation.html#18379" class="Bound">wd</a> <a id="18382" class="Symbol">:</a> <a id="18384" href="Equality.Welldefined.html#2944" class="Function">SwellDef</a><a id="18392" class="Symbol">){</a><a id="18394" href="Varieties.Preservation.html#18394" class="Bound">ğ“§</a> <a id="18396" class="Symbol">:</a> <a id="18398" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="18403" class="Symbol">}</a> <a id="18405" class="Symbol">{</a><a id="18406" href="Varieties.Preservation.html#18406" class="Bound">X</a> <a id="18408" class="Symbol">:</a> <a id="18410" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="18415" href="Varieties.Preservation.html#18394" class="Bound">ğ“§</a><a id="18416" class="Symbol">}</a> <a id="18418" class="Symbol">{</a><a id="18419" href="Varieties.Preservation.html#18419" class="Bound">ğ’¦</a> <a id="18421" class="Symbol">:</a> <a id="18423" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="18428" class="Symbol">(</a><a id="18429" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="18437" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a> <a id="18439" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="18440" class="Symbol">)(</a><a id="18442" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="18445" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a><a id="18446" class="Symbol">)}</a> <a id="18449" class="Keyword">where</a>

 <a id="18457" class="Keyword">open</a> <a id="18462" href="Varieties.Preservation.html#16761" class="Module">Vid</a> <a id="18466" href="Varieties.Preservation.html#18365" class="Bound">fe</a> <a id="18469" href="Varieties.Preservation.html#18379" class="Bound">wd</a> <a id="18472" class="Symbol">{</a><a id="18473" href="Varieties.Preservation.html#18394" class="Bound">ğ“§</a><a id="18474" class="Symbol">}{</a><a id="18476" href="Varieties.Preservation.html#18406" class="Bound">X</a><a id="18477" class="Symbol">}{</a><a id="18479" href="Varieties.Preservation.html#18419" class="Bound">ğ’¦</a><a id="18480" class="Symbol">}</a> <a id="18482" class="Keyword">public</a>
 <a id="Vid&#39;.V-id1&#39;"></a><a id="18490" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="18497" class="Symbol">:</a> <a id="18499" class="Symbol">(</a><a id="18500" href="Varieties.Preservation.html#18500" class="Bound">p</a> <a id="18502" href="Varieties.Preservation.html#18502" class="Bound">q</a> <a id="18504" class="Symbol">:</a> <a id="18506" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="18511" href="Varieties.Preservation.html#18406" class="Bound">X</a><a id="18512" class="Symbol">)</a> <a id="18514" class="Symbol">â†’</a> <a id="18516" href="Varieties.Preservation.html#18419" class="Bound">ğ’¦</a> <a id="18518" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="18520" href="Varieties.Preservation.html#18500" class="Bound">p</a> <a id="18522" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="18524" href="Varieties.Preservation.html#18502" class="Bound">q</a> <a id="18526" class="Symbol">â†’</a> <a id="18528" href="Varieties.Closure.html#5316" class="Datatype">V</a><a id="18529" class="Symbol">{</a><a id="18530" class="Argument">Î²</a> <a id="18532" class="Symbol">=</a> <a id="18534" href="Varieties.Preservation.html#3299" class="Generalizable">Î²</a><a id="18535" class="Symbol">}</a> <a id="18537" href="Varieties.Preservation.html#18419" class="Bound">ğ’¦</a> <a id="18539" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="18541" href="Varieties.Preservation.html#18500" class="Bound">p</a> <a id="18543" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="18545" href="Varieties.Preservation.html#18502" class="Bound">q</a>
 <a id="18548" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="18555" href="Varieties.Preservation.html#18555" class="Bound">p</a> <a id="18557" href="Varieties.Preservation.html#18557" class="Bound">q</a> <a id="18559" href="Varieties.Preservation.html#18559" class="Bound">Ïƒ</a> <a id="18561" class="Symbol">(</a><a id="18562" href="Varieties.Closure.html#5404" class="InductiveConstructor">vbase</a> <a id="18568" href="Varieties.Preservation.html#18568" class="Bound">x</a><a id="18569" class="Symbol">)</a> <a id="18571" class="Symbol">=</a> <a id="18573" href="Varieties.Properties.html#4142" class="Function">âŠ§-Lift-invar</a> <a id="18586" href="Varieties.Preservation.html#18379" class="Bound">wd</a> <a id="18589" href="Varieties.Preservation.html#18555" class="Bound">p</a> <a id="18591" href="Varieties.Preservation.html#18557" class="Bound">q</a> <a id="18593" class="Symbol">(</a><a id="18594" href="Varieties.Preservation.html#18559" class="Bound">Ïƒ</a> <a id="18596" href="Varieties.Preservation.html#18568" class="Bound">x</a><a id="18597" class="Symbol">)</a>
 <a id="18600" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="18607" href="Varieties.Preservation.html#18607" class="Bound">p</a> <a id="18609" href="Varieties.Preservation.html#18609" class="Bound">q</a> <a id="18611" href="Varieties.Preservation.html#18611" class="Bound">Ïƒ</a> <a id="18613" class="Symbol">(</a><a id="18614" href="Varieties.Closure.html#5461" class="InductiveConstructor">vlift</a><a id="18619" class="Symbol">{</a><a id="18620" href="Varieties.Preservation.html#18620" class="Bound">ğ‘¨</a><a id="18621" class="Symbol">}</a> <a id="18623" href="Varieties.Preservation.html#18623" class="Bound">x</a><a id="18624" class="Symbol">)</a> <a id="18626" class="Symbol">=</a> <a id="18628" href="Varieties.Properties.html#4142" class="Function">âŠ§-Lift-invar</a> <a id="18641" href="Varieties.Preservation.html#18379" class="Bound">wd</a> <a id="18644" href="Varieties.Preservation.html#18607" class="Bound">p</a> <a id="18646" href="Varieties.Preservation.html#18609" class="Bound">q</a> <a id="18648" class="Symbol">((</a><a id="18650" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="18656" href="Varieties.Preservation.html#18607" class="Bound">p</a> <a id="18658" href="Varieties.Preservation.html#18609" class="Bound">q</a> <a id="18660" href="Varieties.Preservation.html#18611" class="Bound">Ïƒ</a><a id="18661" class="Symbol">)</a> <a id="18663" href="Varieties.Preservation.html#18623" class="Bound">x</a><a id="18664" class="Symbol">)</a>
 <a id="18667" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="18674" href="Varieties.Preservation.html#18674" class="Bound">p</a> <a id="18676" href="Varieties.Preservation.html#18676" class="Bound">q</a> <a id="18678" href="Varieties.Preservation.html#18678" class="Bound">Ïƒ</a> <a id="18680" class="Symbol">(</a><a id="18681" href="Varieties.Closure.html#5526" class="InductiveConstructor">vliftw</a><a id="18687" class="Symbol">{</a><a id="18688" href="Varieties.Preservation.html#18688" class="Bound">ğ‘¨</a><a id="18689" class="Symbol">}</a> <a id="18691" href="Varieties.Preservation.html#18691" class="Bound">x</a><a id="18692" class="Symbol">)</a> <a id="18694" class="Symbol">=</a> <a id="18696" href="Varieties.Properties.html#4142" class="Function">âŠ§-Lift-invar</a> <a id="18709" href="Varieties.Preservation.html#18379" class="Bound">wd</a> <a id="18712" href="Varieties.Preservation.html#18674" class="Bound">p</a> <a id="18714" href="Varieties.Preservation.html#18676" class="Bound">q</a> <a id="18716" class="Symbol">((</a><a id="18718" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="18725" href="Varieties.Preservation.html#18674" class="Bound">p</a> <a id="18727" href="Varieties.Preservation.html#18676" class="Bound">q</a> <a id="18729" href="Varieties.Preservation.html#18678" class="Bound">Ïƒ</a><a id="18730" class="Symbol">)</a> <a id="18732" href="Varieties.Preservation.html#18691" class="Bound">x</a><a id="18733" class="Symbol">)</a>
 <a id="18736" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="18743" href="Varieties.Preservation.html#18743" class="Bound">p</a> <a id="18745" href="Varieties.Preservation.html#18745" class="Bound">q</a> <a id="18747" href="Varieties.Preservation.html#18747" class="Bound">Ïƒ</a> <a id="18749" class="Symbol">(</a><a id="18750" href="Varieties.Closure.html#5597" class="InductiveConstructor">vhimg</a><a id="18755" class="Symbol">{</a><a id="18756" href="Varieties.Preservation.html#18756" class="Bound">ğ‘¨</a><a id="18757" class="Symbol">}{</a><a id="18759" href="Varieties.Preservation.html#18759" class="Bound">ğ‘ª</a><a id="18760" class="Symbol">}</a> <a id="18762" href="Varieties.Preservation.html#18762" class="Bound">VA</a> <a id="18765" class="Symbol">(</a><a id="18766" href="Varieties.Preservation.html#18766" class="Bound">ğ‘©</a> <a id="18768" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18770" class="Symbol">((</a><a id="18772" href="Varieties.Preservation.html#18772" class="Bound">Ï†</a> <a id="18774" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18776" href="Varieties.Preservation.html#18776" class="Bound">Ï†h</a><a id="18778" class="Symbol">)</a> <a id="18780" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18782" href="Varieties.Preservation.html#18782" class="Bound">Ï†E</a><a id="18784" class="Symbol">)))</a> <a id="18788" href="Varieties.Preservation.html#18788" class="Bound">b</a> <a id="18790" class="Symbol">=</a> <a id="18792" href="Varieties.Preservation.html#18962" class="Function">goal</a>
  <a id="18799" class="Keyword">where</a>
  <a id="18807" href="Varieties.Preservation.html#18807" class="Function">IH</a> <a id="18810" class="Symbol">:</a> <a id="18812" href="Varieties.Preservation.html#18756" class="Bound">ğ‘¨</a> <a id="18814" href="Varieties.EquationalLogic.html#2638" class="Function Operator">âŠ§</a> <a id="18816" href="Varieties.Preservation.html#18743" class="Bound">p</a> <a id="18818" href="Varieties.EquationalLogic.html#2638" class="Function Operator">â‰ˆ</a> <a id="18820" href="Varieties.Preservation.html#18745" class="Bound">q</a>
  <a id="18824" href="Varieties.Preservation.html#18807" class="Function">IH</a> <a id="18827" class="Symbol">=</a> <a id="18829" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="18836" href="Varieties.Preservation.html#18743" class="Bound">p</a> <a id="18838" href="Varieties.Preservation.html#18745" class="Bound">q</a> <a id="18840" href="Varieties.Preservation.html#18747" class="Bound">Ïƒ</a> <a id="18842" href="Varieties.Preservation.html#18762" class="Bound">VA</a>

  <a id="18848" href="Varieties.Preservation.html#18848" class="Function">preim</a> <a id="18854" class="Symbol">:</a> <a id="18856" href="Varieties.Preservation.html#18406" class="Bound">X</a> <a id="18858" class="Symbol">â†’</a> <a id="18860" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="18862" href="Varieties.Preservation.html#18756" class="Bound">ğ‘¨</a> <a id="18864" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a>
  <a id="18868" href="Varieties.Preservation.html#18848" class="Function">preim</a> <a id="18874" href="Varieties.Preservation.html#18874" class="Bound">x</a> <a id="18876" class="Symbol">=</a> <a id="18878" href="Overture.Inverses.html#2190" class="Function">Inv</a> <a id="18882" href="Varieties.Preservation.html#18772" class="Bound">Ï†</a> <a id="18884" class="Symbol">(</a><a id="18885" href="Varieties.Preservation.html#18782" class="Bound">Ï†E</a> <a id="18888" class="Symbol">(</a><a id="18889" href="Varieties.Preservation.html#18788" class="Bound">b</a> <a id="18891" href="Varieties.Preservation.html#18874" class="Bound">x</a><a id="18892" class="Symbol">))</a>

  <a id="18898" href="Varieties.Preservation.html#18898" class="Function">Î¶</a> <a id="18900" class="Symbol">:</a> <a id="18902" class="Symbol">âˆ€</a> <a id="18904" href="Varieties.Preservation.html#18904" class="Bound">x</a> <a id="18906" class="Symbol">â†’</a> <a id="18908" href="Varieties.Preservation.html#18772" class="Bound">Ï†</a> <a id="18910" class="Symbol">(</a><a id="18911" href="Varieties.Preservation.html#18848" class="Function">preim</a> <a id="18917" href="Varieties.Preservation.html#18904" class="Bound">x</a><a id="18918" class="Symbol">)</a> <a id="18920" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="18922" href="Varieties.Preservation.html#18788" class="Bound">b</a> <a id="18924" href="Varieties.Preservation.html#18904" class="Bound">x</a>
  <a id="18928" href="Varieties.Preservation.html#18898" class="Function">Î¶</a> <a id="18930" href="Varieties.Preservation.html#18930" class="Bound">x</a> <a id="18932" class="Symbol">=</a> <a id="18934" href="Overture.Inverses.html#2437" class="Function">InvIsInverseÊ³</a> <a id="18948" class="Symbol">(</a><a id="18949" href="Varieties.Preservation.html#18782" class="Bound">Ï†E</a> <a id="18952" class="Symbol">(</a><a id="18953" href="Varieties.Preservation.html#18788" class="Bound">b</a> <a id="18955" href="Varieties.Preservation.html#18930" class="Bound">x</a><a id="18956" class="Symbol">))</a>

  <a id="18962" href="Varieties.Preservation.html#18962" class="Function">goal</a> <a id="18967" class="Symbol">:</a> <a id="18969" class="Symbol">(</a><a id="18970" href="Varieties.Preservation.html#18766" class="Bound">ğ‘©</a> <a id="18972" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="18974" href="Varieties.Preservation.html#18743" class="Bound">p</a> <a id="18976" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="18977" class="Symbol">)</a> <a id="18979" href="Varieties.Preservation.html#18788" class="Bound">b</a> <a id="18981" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="18983" class="Symbol">(</a><a id="18984" href="Varieties.Preservation.html#18766" class="Bound">ğ‘©</a> <a id="18986" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="18988" href="Varieties.Preservation.html#18745" class="Bound">q</a> <a id="18990" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="18991" class="Symbol">)</a> <a id="18993" href="Varieties.Preservation.html#18788" class="Bound">b</a>
  <a id="18997" href="Varieties.Preservation.html#18962" class="Function">goal</a> <a id="19002" class="Symbol">=</a> <a id="19004" class="Symbol">(</a><a id="19005" href="Varieties.Preservation.html#18766" class="Bound">ğ‘©</a> <a id="19007" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="19009" href="Varieties.Preservation.html#18743" class="Bound">p</a> <a id="19011" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="19012" class="Symbol">)</a> <a id="19014" href="Varieties.Preservation.html#18788" class="Bound">b</a>          <a id="19025" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19028" href="Varieties.Preservation.html#18379" class="Bound">wd</a> <a id="19031" href="Varieties.Preservation.html#18394" class="Bound">ğ“§</a> <a id="19033" class="Symbol">_</a> <a id="19035" class="Symbol">(</a><a id="19036" href="Varieties.Preservation.html#18766" class="Bound">ğ‘©</a> <a id="19038" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="19040" href="Varieties.Preservation.html#18743" class="Bound">p</a> <a id="19042" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="19043" class="Symbol">)</a> <a id="19045" href="Varieties.Preservation.html#18788" class="Bound">b</a> <a id="19047" class="Symbol">(</a><a id="19048" href="Varieties.Preservation.html#18772" class="Bound">Ï†</a> <a id="19050" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19052" href="Varieties.Preservation.html#18848" class="Function">preim</a> <a id="19058" class="Symbol">)(Î»</a> <a id="19062" href="Varieties.Preservation.html#19062" class="Bound">i</a> <a id="19064" class="Symbol">â†’</a> <a id="19066" class="Symbol">(</a><a id="19067" href="Varieties.Preservation.html#18898" class="Function">Î¶</a> <a id="19069" href="Varieties.Preservation.html#19062" class="Bound">i</a><a id="19070" class="Symbol">)</a><a id="19071" href="Overture.Preliminaries.html#5086" class="Function Operator">â»Â¹</a><a id="19073" class="Symbol">)</a><a id="19074" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19082" class="Symbol">(</a><a id="19083" href="Varieties.Preservation.html#18766" class="Bound">ğ‘©</a> <a id="19085" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="19087" href="Varieties.Preservation.html#18743" class="Bound">p</a> <a id="19089" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="19090" class="Symbol">)(</a><a id="19092" href="Varieties.Preservation.html#18772" class="Bound">Ï†</a> <a id="19094" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19096" href="Varieties.Preservation.html#18848" class="Function">preim</a><a id="19101" class="Symbol">)</a> <a id="19103" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="19105" class="Symbol">(</a><a id="19106" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a> <a id="19120" class="Symbol">(</a><a id="19121" href="Varieties.Preservation.html#18379" class="Bound">wd</a> <a id="19124" href="Varieties.Preservation.html#629" class="Bound">ğ“¥</a> <a id="19126" class="Symbol">_)</a> <a id="19129" href="Varieties.Preservation.html#18766" class="Bound">ğ‘©</a> <a id="19131" class="Symbol">(</a><a id="19132" href="Varieties.Preservation.html#18772" class="Bound">Ï†</a> <a id="19134" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19136" href="Varieties.Preservation.html#18776" class="Bound">Ï†h</a><a id="19138" class="Symbol">)</a> <a id="19140" href="Varieties.Preservation.html#18743" class="Bound">p</a> <a id="19142" href="Varieties.Preservation.html#18848" class="Function">preim</a><a id="19147" class="Symbol">)</a><a id="19148" href="Overture.Preliminaries.html#5086" class="Function Operator">â»Â¹</a> <a id="19151" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19159" href="Varieties.Preservation.html#18772" class="Bound">Ï†</a><a id="19160" class="Symbol">((</a><a id="19162" href="Varieties.Preservation.html#18756" class="Bound">ğ‘¨</a> <a id="19164" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="19166" href="Varieties.Preservation.html#18743" class="Bound">p</a> <a id="19168" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="19169" class="Symbol">)</a> <a id="19171" href="Varieties.Preservation.html#18848" class="Function">preim</a><a id="19176" class="Symbol">)</a>   <a id="19180" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19183" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="19188" href="Varieties.Preservation.html#18772" class="Bound">Ï†</a> <a id="19190" class="Symbol">(</a><a id="19191" href="Varieties.Preservation.html#18807" class="Function">IH</a> <a id="19194" href="Varieties.Preservation.html#18848" class="Function">preim</a><a id="19199" class="Symbol">)</a> <a id="19201" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19209" href="Varieties.Preservation.html#18772" class="Bound">Ï†</a><a id="19210" class="Symbol">((</a><a id="19212" href="Varieties.Preservation.html#18756" class="Bound">ğ‘¨</a> <a id="19214" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="19216" href="Varieties.Preservation.html#18745" class="Bound">q</a> <a id="19218" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="19219" class="Symbol">)</a> <a id="19221" href="Varieties.Preservation.html#18848" class="Function">preim</a><a id="19226" class="Symbol">)</a>   <a id="19230" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19233" href="Terms.Operations.html#6584" class="Function">comm-hom-term</a> <a id="19247" class="Symbol">(</a><a id="19248" href="Varieties.Preservation.html#18379" class="Bound">wd</a> <a id="19251" href="Varieties.Preservation.html#629" class="Bound">ğ“¥</a> <a id="19253" class="Symbol">_)</a> <a id="19256" href="Varieties.Preservation.html#18766" class="Bound">ğ‘©</a> <a id="19258" class="Symbol">(</a><a id="19259" href="Varieties.Preservation.html#18772" class="Bound">Ï†</a> <a id="19261" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19263" href="Varieties.Preservation.html#18776" class="Bound">Ï†h</a><a id="19265" class="Symbol">)</a> <a id="19267" href="Varieties.Preservation.html#18745" class="Bound">q</a> <a id="19269" href="Varieties.Preservation.html#18848" class="Function">preim</a> <a id="19275" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19283" class="Symbol">(</a><a id="19284" href="Varieties.Preservation.html#18766" class="Bound">ğ‘©</a> <a id="19286" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="19288" href="Varieties.Preservation.html#18745" class="Bound">q</a> <a id="19290" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="19291" class="Symbol">)(</a><a id="19293" href="Varieties.Preservation.html#18772" class="Bound">Ï†</a> <a id="19295" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19297" href="Varieties.Preservation.html#18848" class="Function">preim</a><a id="19302" class="Symbol">)</a> <a id="19304" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19307" href="Varieties.Preservation.html#18379" class="Bound">wd</a> <a id="19310" href="Varieties.Preservation.html#18394" class="Bound">ğ“§</a> <a id="19312" class="Symbol">_</a> <a id="19314" class="Symbol">(</a><a id="19315" href="Varieties.Preservation.html#18766" class="Bound">ğ‘©</a> <a id="19317" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="19319" href="Varieties.Preservation.html#18745" class="Bound">q</a> <a id="19321" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="19322" class="Symbol">)(</a><a id="19324" href="Varieties.Preservation.html#18772" class="Bound">Ï†</a> <a id="19326" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19328" href="Varieties.Preservation.html#18848" class="Function">preim</a><a id="19333" class="Symbol">)</a> <a id="19335" href="Varieties.Preservation.html#18788" class="Bound">b</a> <a id="19337" href="Varieties.Preservation.html#18898" class="Function">Î¶</a> <a id="19339" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19347" class="Symbol">(</a><a id="19348" href="Varieties.Preservation.html#18766" class="Bound">ğ‘©</a> <a id="19350" href="Terms.Operations.html#2577" class="Function Operator">âŸ¦</a> <a id="19352" href="Varieties.Preservation.html#18745" class="Bound">q</a> <a id="19354" href="Terms.Operations.html#2577" class="Function Operator">âŸ§</a><a id="19355" class="Symbol">)</a> <a id="19357" href="Varieties.Preservation.html#18788" class="Bound">b</a>          <a id="19368" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

 <a id="19372" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="19379" href="Varieties.Preservation.html#19379" class="Bound">p</a> <a id="19381" href="Varieties.Preservation.html#19381" class="Bound">q</a> <a id="19383" href="Varieties.Preservation.html#19383" class="Bound">Ïƒ</a> <a id="19385" class="Symbol">(</a><a id="19386" href="Varieties.Closure.html#5679" class="InductiveConstructor">vssubw</a> <a id="19393" class="Symbol">{</a><a id="19394" href="Varieties.Preservation.html#19394" class="Bound">ğ‘¨</a><a id="19395" class="Symbol">}{</a><a id="19397" href="Varieties.Preservation.html#19397" class="Bound">ğ‘©</a><a id="19398" class="Symbol">}</a> <a id="19400" href="Varieties.Preservation.html#19400" class="Bound">VA</a> <a id="19403" href="Varieties.Preservation.html#19403" class="Bound">Bâ‰¤A</a><a id="19406" class="Symbol">)</a> <a id="19408" class="Symbol">=</a> <a id="19410" href="Varieties.Properties.html#4702" class="Function">âŠ§-S-invar</a> <a id="19420" href="Varieties.Preservation.html#18379" class="Bound">wd</a> <a id="19423" href="Varieties.Preservation.html#19397" class="Bound">ğ‘©</a> <a id="19425" class="Symbol">{</a><a id="19426" href="Varieties.Preservation.html#19379" class="Bound">p</a><a id="19427" class="Symbol">}{</a><a id="19429" href="Varieties.Preservation.html#19381" class="Bound">q</a><a id="19430" class="Symbol">}(</a><a id="19432" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="19439" href="Varieties.Preservation.html#19379" class="Bound">p</a> <a id="19441" href="Varieties.Preservation.html#19381" class="Bound">q</a> <a id="19443" href="Varieties.Preservation.html#19383" class="Bound">Ïƒ</a> <a id="19445" href="Varieties.Preservation.html#19400" class="Bound">VA</a><a id="19447" class="Symbol">)</a> <a id="19449" href="Varieties.Preservation.html#19403" class="Bound">Bâ‰¤A</a>
 <a id="19454" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="19461" href="Varieties.Preservation.html#19461" class="Bound">p</a> <a id="19463" href="Varieties.Preservation.html#19463" class="Bound">q</a> <a id="19465" href="Varieties.Preservation.html#19465" class="Bound">Ïƒ</a> <a id="19467" class="Symbol">(</a><a id="19468" href="Varieties.Closure.html#5743" class="InductiveConstructor">vprodu</a><a id="19474" class="Symbol">{</a><a id="19475" href="Varieties.Preservation.html#19475" class="Bound">I</a><a id="19476" class="Symbol">}{</a><a id="19478" href="Varieties.Preservation.html#19478" class="Bound">ğ’œ</a><a id="19479" class="Symbol">}</a> <a id="19481" href="Varieties.Preservation.html#19481" class="Bound">Vğ’œ</a><a id="19483" class="Symbol">)</a> <a id="19485" class="Symbol">=</a> <a id="19487" href="Varieties.Properties.html#6125" class="Function">âŠ§-P-invar</a> <a id="19497" href="Varieties.Preservation.html#18365" class="Bound">fe</a> <a id="19500" href="Varieties.Preservation.html#18379" class="Bound">wd</a> <a id="19503" href="Varieties.Preservation.html#19478" class="Bound">ğ’œ</a>  <a id="19506" href="Varieties.Preservation.html#19461" class="Bound">p</a> <a id="19508" href="Varieties.Preservation.html#19463" class="Bound">q</a> <a id="19510" class="Symbol">Î»</a> <a id="19512" href="Varieties.Preservation.html#19512" class="Bound">i</a> <a id="19514" class="Symbol">â†’</a> <a id="19516" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="19522" href="Varieties.Preservation.html#19461" class="Bound">p</a> <a id="19524" href="Varieties.Preservation.html#19463" class="Bound">q</a> <a id="19526" href="Varieties.Preservation.html#19465" class="Bound">Ïƒ</a> <a id="19528" class="Symbol">(</a><a id="19529" href="Varieties.Preservation.html#19481" class="Bound">Vğ’œ</a> <a id="19532" href="Varieties.Preservation.html#19512" class="Bound">i</a><a id="19533" class="Symbol">)</a>
 <a id="19536" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="19543" href="Varieties.Preservation.html#19543" class="Bound">p</a> <a id="19545" href="Varieties.Preservation.html#19545" class="Bound">q</a> <a id="19547" href="Varieties.Preservation.html#19547" class="Bound">Ïƒ</a> <a id="19549" class="Symbol">(</a><a id="19550" href="Varieties.Closure.html#5827" class="InductiveConstructor">vprodw</a><a id="19556" class="Symbol">{</a><a id="19557" href="Varieties.Preservation.html#19557" class="Bound">I</a><a id="19558" class="Symbol">}{</a><a id="19560" href="Varieties.Preservation.html#19560" class="Bound">ğ’œ</a><a id="19561" class="Symbol">}</a> <a id="19563" href="Varieties.Preservation.html#19563" class="Bound">Vğ’œ</a><a id="19565" class="Symbol">)</a> <a id="19567" class="Symbol">=</a> <a id="19569" href="Varieties.Properties.html#6125" class="Function">âŠ§-P-invar</a> <a id="19579" href="Varieties.Preservation.html#18365" class="Bound">fe</a> <a id="19582" href="Varieties.Preservation.html#18379" class="Bound">wd</a> <a id="19585" href="Varieties.Preservation.html#19560" class="Bound">ğ’œ</a>  <a id="19588" href="Varieties.Preservation.html#19543" class="Bound">p</a> <a id="19590" href="Varieties.Preservation.html#19545" class="Bound">q</a> <a id="19592" class="Symbol">Î»</a> <a id="19594" href="Varieties.Preservation.html#19594" class="Bound">i</a> <a id="19596" class="Symbol">â†’</a> <a id="19598" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="19605" href="Varieties.Preservation.html#19543" class="Bound">p</a> <a id="19607" href="Varieties.Preservation.html#19545" class="Bound">q</a> <a id="19609" href="Varieties.Preservation.html#19547" class="Bound">Ïƒ</a> <a id="19611" class="Symbol">(</a><a id="19612" href="Varieties.Preservation.html#19563" class="Bound">Vğ’œ</a> <a id="19615" href="Varieties.Preservation.html#19594" class="Bound">i</a><a id="19616" class="Symbol">)</a>
 <a id="19619" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="19626" href="Varieties.Preservation.html#19626" class="Bound">p</a> <a id="19628" href="Varieties.Preservation.html#19628" class="Bound">q</a> <a id="19630" href="Varieties.Preservation.html#19630" class="Bound">Ïƒ</a> <a id="19632" class="Symbol">(</a><a id="19633" href="Varieties.Closure.html#5911" class="InductiveConstructor">visou</a> <a id="19639" class="Symbol">{</a><a id="19640" href="Varieties.Preservation.html#19640" class="Bound">ğ‘¨</a><a id="19641" class="Symbol">}{</a><a id="19643" href="Varieties.Preservation.html#19643" class="Bound">ğ‘©</a><a id="19644" class="Symbol">}</a> <a id="19646" href="Varieties.Preservation.html#19646" class="Bound">VA</a> <a id="19649" href="Varieties.Preservation.html#19649" class="Bound">Aâ‰…B</a><a id="19652" class="Symbol">)</a> <a id="19654" class="Symbol">=</a> <a id="19656" href="Varieties.Properties.html#3199" class="Function">âŠ§-I-invar</a> <a id="19666" href="Varieties.Preservation.html#18379" class="Bound">wd</a> <a id="19669" href="Varieties.Preservation.html#19643" class="Bound">ğ‘©</a> <a id="19671" href="Varieties.Preservation.html#19626" class="Bound">p</a> <a id="19673" href="Varieties.Preservation.html#19628" class="Bound">q</a> <a id="19675" class="Symbol">(</a><a id="19676" href="Varieties.Preservation.html#16858" class="Function">V-id1</a> <a id="19682" href="Varieties.Preservation.html#19626" class="Bound">p</a> <a id="19684" href="Varieties.Preservation.html#19628" class="Bound">q</a> <a id="19686" href="Varieties.Preservation.html#19630" class="Bound">Ïƒ</a> <a id="19688" href="Varieties.Preservation.html#19646" class="Bound">VA</a><a id="19690" class="Symbol">)</a> <a id="19692" href="Varieties.Preservation.html#19649" class="Bound">Aâ‰…B</a>
 <a id="19697" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="19704" href="Varieties.Preservation.html#19704" class="Bound">p</a> <a id="19706" href="Varieties.Preservation.html#19706" class="Bound">q</a> <a id="19708" href="Varieties.Preservation.html#19708" class="Bound">Ïƒ</a> <a id="19710" class="Symbol">(</a><a id="19711" href="Varieties.Closure.html#5990" class="InductiveConstructor">visow</a><a id="19716" class="Symbol">{</a><a id="19717" href="Varieties.Preservation.html#19717" class="Bound">ğ‘¨</a><a id="19718" class="Symbol">}{</a><a id="19720" href="Varieties.Preservation.html#19720" class="Bound">ğ‘©</a><a id="19721" class="Symbol">}</a> <a id="19723" href="Varieties.Preservation.html#19723" class="Bound">VA</a> <a id="19726" href="Varieties.Preservation.html#19726" class="Bound">Aâ‰…B</a><a id="19729" class="Symbol">)</a> <a id="19731" class="Symbol">=</a> <a id="19733" href="Varieties.Properties.html#3199" class="Function">âŠ§-I-invar</a> <a id="19743" href="Varieties.Preservation.html#18379" class="Bound">wd</a> <a id="19746" href="Varieties.Preservation.html#19720" class="Bound">ğ‘©</a> <a id="19748" href="Varieties.Preservation.html#19704" class="Bound">p</a> <a id="19750" href="Varieties.Preservation.html#19706" class="Bound">q</a> <a id="19752" class="Symbol">(</a><a id="19753" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="19760" href="Varieties.Preservation.html#19704" class="Bound">p</a> <a id="19762" href="Varieties.Preservation.html#19706" class="Bound">q</a> <a id="19764" href="Varieties.Preservation.html#19708" class="Bound">Ïƒ</a> <a id="19766" href="Varieties.Preservation.html#19723" class="Bound">VA</a><a id="19768" class="Symbol">)</a><a id="19769" href="Varieties.Preservation.html#19726" class="Bound">Aâ‰…B</a>

</pre>


#### <a id="class-identities">Class identities</a>

From `V-id1` it follows that if ğ’¦ is a class of structures, then the set of identities modeled by all structures in `ğ’¦` is equivalent to the set of identities modeled by all structures in `V ğ’¦`.  In other terms, `Th (V ğ’¦)` is precisely the set of identities modeled by `ğ’¦`.   We formalize this observation as follows.

<pre class="Agda">

<a id="20172" class="Keyword">module</a> <a id="20179" href="Varieties.Preservation.html#20179" class="Module">_</a> <a id="20181" class="Symbol">(</a><a id="20182" href="Varieties.Preservation.html#20182" class="Bound">fe</a> <a id="20185" class="Symbol">:</a> <a id="20187" href="Equality.Extensionality.html#2264" class="Function">DFunExt</a><a id="20194" class="Symbol">)(</a><a id="20196" href="Varieties.Preservation.html#20196" class="Bound">wd</a> <a id="20199" class="Symbol">:</a> <a id="20201" href="Equality.Welldefined.html#2944" class="Function">SwellDef</a><a id="20209" class="Symbol">){</a><a id="20211" href="Varieties.Preservation.html#20211" class="Bound">ğ“§</a> <a id="20213" class="Symbol">:</a> <a id="20215" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="20220" class="Symbol">}</a> <a id="20222" class="Symbol">{</a><a id="20223" href="Varieties.Preservation.html#20223" class="Bound">X</a> <a id="20225" class="Symbol">:</a> <a id="20227" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="20232" href="Varieties.Preservation.html#20211" class="Bound">ğ“§</a><a id="20233" class="Symbol">}</a> <a id="20235" class="Symbol">{</a><a id="20236" href="Varieties.Preservation.html#20236" class="Bound">ğ’¦</a> <a id="20238" class="Symbol">:</a> <a id="20240" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20245" class="Symbol">(</a><a id="20246" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="20254" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a> <a id="20256" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="20257" class="Symbol">)(</a><a id="20259" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="20262" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a><a id="20263" class="Symbol">)}</a> <a id="20266" class="Keyword">where</a>

 <a id="20274" href="Varieties.Preservation.html#20274" class="Function">ovu</a> <a id="20278" href="Varieties.Preservation.html#20278" class="Function">lovu</a> <a id="20283" class="Symbol">:</a> <a id="20285" href="Agda.Primitive.html#597" class="Postulate">Level</a>
 <a id="20292" href="Varieties.Preservation.html#20274" class="Function">ovu</a> <a id="20296" class="Symbol">=</a> <a id="20298" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="20301" href="Varieties.Preservation.html#20254" class="Bound">Î±</a>
 <a id="20304" href="Varieties.Preservation.html#20278" class="Function">lovu</a> <a id="20309" class="Symbol">=</a> <a id="20311" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="20316" class="Symbol">(</a><a id="20317" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="20320" href="Varieties.Preservation.html#20254" class="Bound">Î±</a><a id="20321" class="Symbol">)</a>
 <a id="20324" href="Varieties.Preservation.html#20324" class="Function">ğ•</a> <a id="20326" class="Symbol">:</a> <a id="20328" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20333" class="Symbol">(</a><a id="20334" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="20342" href="Varieties.Preservation.html#20278" class="Function">lovu</a> <a id="20347" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="20348" class="Symbol">)</a> <a id="20350" class="Symbol">(</a><a id="20351" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="20356" href="Varieties.Preservation.html#20278" class="Function">lovu</a><a id="20360" class="Symbol">)</a>
 <a id="20363" href="Varieties.Preservation.html#20324" class="Function">ğ•</a> <a id="20365" class="Symbol">=</a> <a id="20367" href="Varieties.Closure.html#5316" class="Datatype">V</a><a id="20368" class="Symbol">{</a><a id="20369" href="Varieties.Preservation.html#20254" class="Bound">Î±</a><a id="20370" class="Symbol">}{</a><a id="20372" href="Varieties.Preservation.html#20278" class="Function">lovu</a><a id="20376" class="Symbol">}</a> <a id="20378" href="Varieties.Preservation.html#20236" class="Bound">ğ’¦</a>
 <a id="20381" href="Varieties.Preservation.html#20381" class="Function">ğ’±</a> <a id="20383" class="Symbol">:</a> <a id="20385" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20390" class="Symbol">(</a><a id="20391" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="20399" href="Varieties.Preservation.html#20274" class="Function">ovu</a> <a id="20403" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="20404" class="Symbol">)</a> <a id="20406" href="Varieties.Preservation.html#20278" class="Function">lovu</a>
 <a id="20412" href="Varieties.Preservation.html#20381" class="Function">ğ’±</a> <a id="20414" class="Symbol">=</a> <a id="20416" href="Varieties.Closure.html#5316" class="Datatype">V</a><a id="20417" class="Symbol">{</a><a id="20418" class="Argument">Î²</a> <a id="20420" class="Symbol">=</a> <a id="20422" href="Varieties.Preservation.html#20274" class="Function">ovu</a><a id="20425" class="Symbol">}</a> <a id="20427" href="Varieties.Preservation.html#20236" class="Bound">ğ’¦</a>

 <a id="20431" class="Keyword">open</a> <a id="20436" href="Varieties.Preservation.html#18359" class="Module">Vid&#39;</a> <a id="20441" href="Varieties.Preservation.html#20182" class="Bound">fe</a> <a id="20444" href="Varieties.Preservation.html#20196" class="Bound">wd</a> <a id="20447" class="Symbol">{</a><a id="20448" href="Varieties.Preservation.html#20211" class="Bound">ğ“§</a><a id="20449" class="Symbol">}{</a><a id="20451" href="Varieties.Preservation.html#20223" class="Bound">X</a><a id="20452" class="Symbol">}{</a><a id="20454" href="Varieties.Preservation.html#20236" class="Bound">ğ’¦</a><a id="20455" class="Symbol">}</a> <a id="20457" class="Keyword">public</a>
 <a id="20465" href="Varieties.Preservation.html#20465" class="Function">class-ids-â‡’</a> <a id="20477" class="Symbol">:</a> <a id="20479" class="Symbol">(</a><a id="20480" href="Varieties.Preservation.html#20480" class="Bound">p</a> <a id="20482" href="Varieties.Preservation.html#20482" class="Bound">q</a> <a id="20484" class="Symbol">:</a> <a id="20486" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="20488" href="Terms.Basic.html#3263" class="Function">ğ‘»</a> <a id="20490" href="Varieties.Preservation.html#20223" class="Bound">X</a> <a id="20492" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a><a id="20493" class="Symbol">)</a> <a id="20495" class="Symbol">â†’</a> <a id="20497" href="Varieties.Preservation.html#20236" class="Bound">ğ’¦</a> <a id="20499" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="20501" href="Varieties.Preservation.html#20480" class="Bound">p</a> <a id="20503" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="20505" href="Varieties.Preservation.html#20482" class="Bound">q</a>  <a id="20508" class="Symbol">â†’</a>  <a id="20511" class="Symbol">(</a><a id="20512" href="Varieties.Preservation.html#20480" class="Bound">p</a> <a id="20514" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20516" href="Varieties.Preservation.html#20482" class="Bound">q</a><a id="20517" class="Symbol">)</a> <a id="20519" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20521" href="Varieties.EquationalLogic.html#3442" class="Function">Th</a> <a id="20524" href="Varieties.Preservation.html#20381" class="Function">ğ’±</a>
 <a id="20527" href="Varieties.Preservation.html#20465" class="Function">class-ids-â‡’</a> <a id="20539" href="Varieties.Preservation.html#20539" class="Bound">p</a> <a id="20541" href="Varieties.Preservation.html#20541" class="Bound">q</a> <a id="20543" href="Varieties.Preservation.html#20543" class="Bound">pKq</a> <a id="20547" href="Varieties.Preservation.html#20547" class="Bound">VCloA</a> <a id="20553" class="Symbol">=</a> <a id="20555" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="20562" href="Varieties.Preservation.html#20539" class="Bound">p</a> <a id="20564" href="Varieties.Preservation.html#20541" class="Bound">q</a> <a id="20566" href="Varieties.Preservation.html#20543" class="Bound">pKq</a> <a id="20570" href="Varieties.Preservation.html#20547" class="Bound">VCloA</a>

 <a id="20578" href="Varieties.Preservation.html#20578" class="Function">class-ids</a> <a id="20588" class="Symbol">:</a> <a id="20590" class="Symbol">(</a><a id="20591" href="Varieties.Preservation.html#20591" class="Bound">p</a> <a id="20593" href="Varieties.Preservation.html#20593" class="Bound">q</a> <a id="20595" class="Symbol">:</a> <a id="20597" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="20599" href="Terms.Basic.html#3263" class="Function">ğ‘»</a> <a id="20601" href="Varieties.Preservation.html#20223" class="Bound">X</a> <a id="20603" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a><a id="20604" class="Symbol">)</a> <a id="20606" class="Symbol">â†’</a> <a id="20608" href="Varieties.Preservation.html#20236" class="Bound">ğ’¦</a> <a id="20610" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="20612" href="Varieties.Preservation.html#20591" class="Bound">p</a> <a id="20614" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="20616" href="Varieties.Preservation.html#20593" class="Bound">q</a>  <a id="20619" class="Symbol">â†’</a>  <a id="20622" class="Symbol">(</a><a id="20623" href="Varieties.Preservation.html#20591" class="Bound">p</a> <a id="20625" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20627" href="Varieties.Preservation.html#20593" class="Bound">q</a><a id="20628" class="Symbol">)</a> <a id="20630" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20632" href="Varieties.EquationalLogic.html#3442" class="Function">Th</a> <a id="20635" href="Varieties.Preservation.html#20324" class="Function">ğ•</a>
 <a id="20638" href="Varieties.Preservation.html#20578" class="Function">class-ids</a> <a id="20648" href="Varieties.Preservation.html#20648" class="Bound">p</a> <a id="20650" href="Varieties.Preservation.html#20650" class="Bound">q</a> <a id="20652" href="Varieties.Preservation.html#20652" class="Bound">pKq</a> <a id="20656" href="Varieties.Preservation.html#20656" class="Bound">VCloA</a> <a id="20662" class="Symbol">=</a> <a id="20664" href="Varieties.Preservation.html#18490" class="Function">V-id1&#39;</a> <a id="20671" href="Varieties.Preservation.html#20648" class="Bound">p</a> <a id="20673" href="Varieties.Preservation.html#20650" class="Bound">q</a> <a id="20675" href="Varieties.Preservation.html#20652" class="Bound">pKq</a> <a id="20679" href="Varieties.Preservation.html#20656" class="Bound">VCloA</a>


 <a id="20688" href="Varieties.Preservation.html#20688" class="Function">class-ids-â‡</a> <a id="20700" class="Symbol">:</a> <a id="20702" class="Symbol">(</a><a id="20703" href="Varieties.Preservation.html#20703" class="Bound">p</a> <a id="20705" href="Varieties.Preservation.html#20705" class="Bound">q</a> <a id="20707" class="Symbol">:</a> <a id="20709" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a> <a id="20711" href="Terms.Basic.html#3263" class="Function">ğ‘»</a> <a id="20713" href="Varieties.Preservation.html#20223" class="Bound">X</a> <a id="20715" href="Overture.Preliminaries.html#4383" class="Function Operator">âˆ£</a><a id="20716" class="Symbol">)</a> <a id="20718" class="Symbol">â†’</a> <a id="20720" class="Symbol">(</a><a id="20721" href="Varieties.Preservation.html#20703" class="Bound">p</a> <a id="20723" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20725" href="Varieties.Preservation.html#20705" class="Bound">q</a><a id="20726" class="Symbol">)</a> <a id="20728" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20730" href="Varieties.EquationalLogic.html#3442" class="Function">Th</a> <a id="20733" href="Varieties.Preservation.html#20381" class="Function">ğ’±</a> <a id="20735" class="Symbol">â†’</a>  <a id="20738" href="Varieties.Preservation.html#20236" class="Bound">ğ’¦</a> <a id="20740" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="20742" href="Varieties.Preservation.html#20703" class="Bound">p</a> <a id="20744" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="20746" href="Varieties.Preservation.html#20705" class="Bound">q</a>
 <a id="20749" href="Varieties.Preservation.html#20688" class="Function">class-ids-â‡</a> <a id="20761" href="Varieties.Preservation.html#20761" class="Bound">p</a> <a id="20763" href="Varieties.Preservation.html#20763" class="Bound">q</a> <a id="20765" href="Varieties.Preservation.html#20765" class="Bound">Thpq</a> <a id="20770" class="Symbol">{</a><a id="20771" href="Varieties.Preservation.html#20771" class="Bound">ğ‘¨</a><a id="20772" class="Symbol">}</a> <a id="20774" href="Varieties.Preservation.html#20774" class="Bound">KA</a> <a id="20777" class="Symbol">=</a> <a id="20779" href="Varieties.Properties.html#4276" class="Function">âŠ§-lower-invar</a> <a id="20793" href="Varieties.Preservation.html#20196" class="Bound">wd</a> <a id="20796" href="Varieties.Preservation.html#20761" class="Bound">p</a> <a id="20798" href="Varieties.Preservation.html#20763" class="Bound">q</a> <a id="20800" class="Symbol">(</a><a id="20801" href="Varieties.Preservation.html#20765" class="Bound">Thpq</a> <a id="20806" class="Symbol">(</a><a id="20807" href="Varieties.Closure.html#5404" class="InductiveConstructor">vbase</a> <a id="20813" href="Varieties.Preservation.html#20774" class="Bound">KA</a><a id="20815" class="Symbol">))</a>


</pre>


Once again, and for the last time, completeness dictates that we formalize the coverse of `V-id1`, however obvious it may be.

<pre class="Agda">

<a id="20974" class="Keyword">module</a> <a id="20981" href="Varieties.Preservation.html#20981" class="Module">_</a> <a id="20983" class="Symbol">(</a><a id="20984" href="Varieties.Preservation.html#20984" class="Bound">wd</a> <a id="20987" class="Symbol">:</a> <a id="20989" href="Equality.Welldefined.html#2944" class="Function">SwellDef</a><a id="20997" class="Symbol">){</a><a id="20999" href="Varieties.Preservation.html#20999" class="Bound">X</a> <a id="21001" class="Symbol">:</a> <a id="21003" href="Varieties.Preservation.html#815" class="Primitive">Type</a> <a id="21008" href="Varieties.Preservation.html#13430" class="Generalizable">ğ“§</a><a id="21009" class="Symbol">}{</a><a id="21011" href="Varieties.Preservation.html#21011" class="Bound">ğ’¦</a> <a id="21013" class="Symbol">:</a> <a id="21015" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="21020" class="Symbol">(</a><a id="21021" href="Algebras.Basic.html#6222" class="Function">Algebra</a> <a id="21029" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a> <a id="21031" href="Varieties.Preservation.html#613" class="Bound">ğ‘†</a><a id="21032" class="Symbol">)(</a><a id="21034" href="Algebras.Products.html#3135" class="Function">ov</a> <a id="21037" href="Varieties.Preservation.html#3297" class="Generalizable">Î±</a><a id="21038" class="Symbol">)}</a> <a id="21041" class="Keyword">where</a>

 <a id="21049" href="Varieties.Preservation.html#21049" class="Function">V-id2</a> <a id="21055" class="Symbol">:</a> <a id="21057" class="Symbol">(</a><a id="21058" href="Varieties.Preservation.html#21058" class="Bound">p</a> <a id="21060" href="Varieties.Preservation.html#21060" class="Bound">q</a> <a id="21062" class="Symbol">:</a> <a id="21064" href="Terms.Basic.html#1991" class="Datatype">Term</a> <a id="21069" href="Varieties.Preservation.html#20999" class="Bound">X</a><a id="21070" class="Symbol">)</a> <a id="21072" class="Symbol">â†’</a> <a id="21074" class="Symbol">(</a><a id="21075" href="Varieties.Closure.html#5316" class="Datatype">V</a><a id="21076" class="Symbol">{</a><a id="21077" class="Argument">Î²</a> <a id="21079" class="Symbol">=</a> <a id="21081" href="Varieties.Preservation.html#3299" class="Generalizable">Î²</a><a id="21082" class="Symbol">}</a> <a id="21084" href="Varieties.Preservation.html#21011" class="Bound">ğ’¦</a> <a id="21086" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="21088" href="Varieties.Preservation.html#21058" class="Bound">p</a> <a id="21090" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="21092" href="Varieties.Preservation.html#21060" class="Bound">q</a><a id="21093" class="Symbol">)</a> <a id="21095" class="Symbol">â†’</a> <a id="21097" class="Symbol">(</a><a id="21098" href="Varieties.Preservation.html#21011" class="Bound">ğ’¦</a> <a id="21100" href="Varieties.EquationalLogic.html#2716" class="Function Operator">âŠ«</a> <a id="21102" href="Varieties.Preservation.html#21058" class="Bound">p</a> <a id="21104" href="Varieties.EquationalLogic.html#2716" class="Function Operator">â‰ˆ</a> <a id="21106" href="Varieties.Preservation.html#21060" class="Bound">q</a><a id="21107" class="Symbol">)</a>
 <a id="21110" href="Varieties.Preservation.html#21049" class="Function">V-id2</a> <a id="21116" href="Varieties.Preservation.html#21116" class="Bound">p</a> <a id="21118" href="Varieties.Preservation.html#21118" class="Bound">q</a> <a id="21120" href="Varieties.Preservation.html#21120" class="Bound">Vpq</a> <a id="21124" class="Symbol">{</a><a id="21125" href="Varieties.Preservation.html#21125" class="Bound">ğ‘¨</a><a id="21126" class="Symbol">}</a> <a id="21128" href="Varieties.Preservation.html#21128" class="Bound">KA</a> <a id="21131" class="Symbol">=</a> <a id="21133" href="Varieties.Properties.html#4276" class="Function">âŠ§-lower-invar</a> <a id="21147" href="Varieties.Preservation.html#20984" class="Bound">wd</a> <a id="21150" href="Varieties.Preservation.html#21116" class="Bound">p</a> <a id="21152" href="Varieties.Preservation.html#21118" class="Bound">q</a> <a id="21154" class="Symbol">(</a><a id="21155" href="Varieties.Preservation.html#21120" class="Bound">Vpq</a> <a id="21159" class="Symbol">(</a><a id="21160" href="Varieties.Closure.html#5404" class="InductiveConstructor">vbase</a> <a id="21166" href="Varieties.Preservation.html#21128" class="Bound">KA</a><a id="21168" class="Symbol">))</a>

</pre>

----------------------------

<span style="float:left;">[â† Varieties.Properties](Varieties.Properties.html)</span>
<span style="float:right;">[Varieties.FreeAlgebras â†’](Varieties.FreeAlgebras.html)</span>

{% include UALib.Links.md %}
