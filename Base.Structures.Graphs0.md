---
layout: default
title : "Base.Structures.Graphs0"
date : "2021-06-22"
author: "agda-algebras development team"
---

### <a id="graph-structures-again">Graph Structures (again)</a>

This is the [Base.Structures.Graphs0][] module of the [Agda Universal Algebra Library][].

N.B. This module differs from Graphs.lagda in that here we assume some universes are level zero (i.e., ℓ₀). This simplifies some things; e.g., we avoid having to use lift and lower (cf. [Base/Structures/Graphs.lagda][])

Definition [Graph of a structure]. Let `𝑨` be an `(𝑅,𝐹)`-structure (relations from `𝑅` and operations from `𝐹`).
The *graph* of `𝑨` is the structure `Gr 𝑨` with the same domain as `𝑨` with relations from `𝑅` and together with a `(k+1)`-ary relation symbol `G 𝑓` for each `𝑓 ∈ 𝐹` of arity `k`, which is interpreted in `Gr 𝑨` as all tuples `(t , y) ∈ Aᵏ⁺¹` such that `𝑓 t ≡ y`. (See also Definition 2 of https://arxiv.org/pdf/2010.04958v2.pdf)


<pre class="Agda">

<a id="956" class="Symbol">{-#</a> <a id="960" class="Keyword">OPTIONS</a> <a id="968" class="Pragma">--without-K</a> <a id="980" class="Pragma">--exact-split</a> <a id="994" class="Pragma">--safe</a> <a id="1001" class="Symbol">#-}</a>

<a id="1006" class="Keyword">module</a> <a id="1013" href="Base.Structures.Graphs0.html" class="Module">Base.Structures.Graphs0</a> <a id="1037" class="Keyword">where</a>

<a id="1044" class="Comment">-- Imports from Agda and the Agda Standard Library -------------------------------------------</a>
<a id="1139" class="Keyword">open</a> <a id="1144" class="Keyword">import</a> <a id="1151" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>  <a id="1167" class="Keyword">using</a> <a id="1173" class="Symbol">()</a> <a id="1176" class="Keyword">renaming</a> <a id="1185" class="Symbol">(</a> <a id="1187" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1191" class="Symbol">to</a> <a id="1194" class="Primitive">Type</a> <a id="1199" class="Symbol">;</a> <a id="1201" href="Agda.Primitive.html#915" class="Primitive">lzero</a> <a id="1207" class="Symbol">to</a> <a id="1210" class="Primitive">ℓ₀</a> <a id="1213" class="Symbol">)</a>
<a id="1215" class="Keyword">open</a> <a id="1220" class="Keyword">import</a> <a id="1227" href="Data.Product.html" class="Module">Data.Product</a>    <a id="1243" class="Keyword">using</a> <a id="1249" class="Symbol">(</a> <a id="1251" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="1255" class="Symbol">;</a> <a id="1257" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a> <a id="1261" class="Symbol">;</a> <a id="1263" href="Data.Product.Base.html#1244" class="Function">Σ-syntax</a> <a id="1272" class="Symbol">)</a>
<a id="1274" class="Keyword">open</a> <a id="1279" class="Keyword">import</a> <a id="1286" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a>   <a id="1302" class="Keyword">using</a> <a id="1308" class="Symbol">(</a> <a id="1310" href="Data.Sum.Base.html#625" class="Datatype Operator">_⊎_</a> <a id="1314" class="Symbol">)</a> <a id="1316" class="Keyword">renaming</a> <a id="1325" class="Symbol">(</a> <a id="1327" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1332" class="Symbol">to</a> <a id="1335" class="InductiveConstructor">inl</a> <a id="1339" class="Symbol">;</a> <a id="1341" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="1346" class="Symbol">to</a> <a id="1349" class="InductiveConstructor">inr</a> <a id="1353" class="Symbol">)</a>
<a id="1355" class="Keyword">open</a> <a id="1360" class="Keyword">import</a> <a id="1367" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a>   <a id="1383" class="Keyword">using</a> <a id="1389" class="Symbol">(</a> <a id="1391" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="1395" class="Symbol">)</a>
<a id="1397" class="Keyword">open</a> <a id="1402" class="Keyword">import</a> <a id="1409" href="Data.Nat.html" class="Module">Data.Nat</a>        <a id="1425" class="Keyword">using</a> <a id="1431" class="Symbol">(</a> <a id="1433" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1435" class="Symbol">)</a>
<a id="1437" class="Keyword">open</a> <a id="1442" class="Keyword">import</a> <a id="1449" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a>  <a id="1465" class="Keyword">using</a> <a id="1471" class="Symbol">(</a> <a id="1473" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="1475" class="Symbol">;</a> <a id="1477" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="1480" class="Symbol">)</a>
<a id="1482" class="Keyword">open</a> <a id="1487" class="Keyword">import</a> <a id="1494" href="Function.Base.html" class="Module">Function.Base</a>   <a id="1510" class="Keyword">using</a> <a id="1516" class="Symbol">(</a> <a id="1518" href="Function.Base.html#1115" class="Function Operator">_∘_</a> <a id="1522" class="Symbol">)</a>
<a id="1524" class="Keyword">open</a> <a id="1529" class="Keyword">import</a> <a id="1536" href="Relation.Unary.html" class="Module">Relation.Unary</a>  <a id="1552" class="Keyword">using</a> <a id="1558" class="Symbol">(</a> <a id="1560" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="1565" class="Symbol">;</a> <a id="1567" href="Relation.Unary.html#1818" class="Function Operator">_∈_</a> <a id="1571" class="Symbol">)</a>
<a id="1573" class="Keyword">open</a> <a id="1578" class="Keyword">import</a> <a id="1585" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
                            <a id="1651" class="Keyword">using</a> <a id="1657" class="Symbol">(</a> <a id="1659" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="1663" class="Symbol">;</a> <a id="1665" class="Keyword">module</a> <a id="1672" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a> <a id="1684" class="Symbol">;</a> <a id="1686" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="1691" class="Symbol">;</a> <a id="1693" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="1697" class="Symbol">;</a> <a id="1699" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1704" class="Symbol">)</a>

<a id="1707" class="Comment">-- Imports from the Agda Universal Algebra Library ---------------------------------------------</a>
<a id="1804" class="Keyword">open</a> <a id="1809" class="Keyword">import</a> <a id="1816" href="Overture.html" class="Module">Overture</a>                        <a id="1848" class="Keyword">using</a> <a id="1854" class="Symbol">(</a> <a id="1856" href="Overture.Basic.html#4325" class="Function Operator">∣_∣</a> <a id="1860" class="Symbol">;</a> <a id="1862" href="Overture.Basic.html#4363" class="Function Operator">∥_∥</a> <a id="1866" class="Symbol">)</a>
<a id="1868" class="Keyword">open</a> <a id="1873" class="Keyword">import</a> <a id="1880" href="Base.Relations.html" class="Module">Base.Relations</a>                  <a id="1912" class="Keyword">using</a> <a id="1918" class="Symbol">(</a> <a id="1920" href="Base.Relations.Continuous.html#4456" class="Function">Rel</a> <a id="1924" class="Symbol">)</a>
<a id="1926" class="Keyword">open</a> <a id="1931" class="Keyword">import</a> <a id="1938" href="Base.Structures.Basic.html" class="Module">Base.Structures.Basic</a>           <a id="1970" class="Keyword">using</a> <a id="1976" class="Symbol">(</a> <a id="1978" href="Base.Structures.Basic.html#1233" class="Record">signature</a> <a id="1988" class="Symbol">;</a> <a id="1990" href="Base.Structures.Basic.html#1566" class="Record">structure</a> <a id="2000" class="Symbol">)</a>
<a id="2002" class="Keyword">open</a> <a id="2007" class="Keyword">import</a> <a id="2014" href="Base.Structures.Homs.html" class="Module">Base.Structures.Homs</a>            <a id="2046" class="Keyword">using</a> <a id="2052" class="Symbol">(</a> <a id="2054" href="Base.Structures.Homs.html#2703" class="Function">hom</a> <a id="2058" class="Symbol">;</a> <a id="2060" href="Base.Structures.Homs.html#2287" class="Function">is-hom-rel</a> <a id="2071" class="Symbol">;</a> <a id="2073" href="Base.Structures.Homs.html#2506" class="Function">is-hom-op</a> <a id="2083" class="Symbol">)</a>
<a id="2085" class="Keyword">open</a> <a id="2090" class="Keyword">import</a> <a id="2097" href="Examples.Structures.Signatures.html" class="Module">Examples.Structures.Signatures</a>  <a id="2129" class="Keyword">using</a> <a id="2135" class="Symbol">(</a> <a id="2137" href="Examples.Structures.Signatures.html#765" class="Function">S∅</a> <a id="2140" class="Symbol">)</a>

<a id="2143" class="Keyword">open</a> <a id="2148" href="Base.Structures.Basic.html#1233" class="Module">signature</a> <a id="2158" class="Symbol">;</a> <a id="2160" class="Keyword">open</a> <a id="2165" href="Base.Structures.Basic.html#1566" class="Module">structure</a> <a id="2175" class="Symbol">;</a> <a id="2177" class="Keyword">open</a> <a id="2182" href="Data.Sum.Base.html#625" class="Module Operator">_⊎_</a>

<a id="Gr-sig"></a><a id="2187" href="Base.Structures.Graphs0.html#2187" class="Function">Gr-sig</a> <a id="2194" class="Symbol">:</a> <a id="2196" href="Base.Structures.Basic.html#1233" class="Record">signature</a> <a id="2206" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a> <a id="2209" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a> <a id="2212" class="Symbol">→</a> <a id="2214" href="Base.Structures.Basic.html#1233" class="Record">signature</a> <a id="2224" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a> <a id="2227" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a> <a id="2230" class="Symbol">→</a> <a id="2232" href="Base.Structures.Basic.html#1233" class="Record">signature</a> <a id="2242" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a> <a id="2245" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a>

<a id="2249" href="Base.Structures.Graphs0.html#2187" class="Function">Gr-sig</a> <a id="2256" href="Base.Structures.Graphs0.html#2256" class="Bound">𝐹</a> <a id="2258" href="Base.Structures.Graphs0.html#2258" class="Bound">𝑅</a> <a id="2260" class="Symbol">=</a> <a id="2262" class="Keyword">record</a>  <a id="2270" class="Symbol">{</a> <a id="2272" href="Base.Structures.Basic.html#1293" class="Field">symbol</a> <a id="2279" class="Symbol">=</a> <a id="2281" href="Base.Structures.Basic.html#1293" class="Field">symbol</a> <a id="2288" href="Base.Structures.Graphs0.html#2258" class="Bound">𝑅</a> <a id="2290" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2292" href="Base.Structures.Basic.html#1293" class="Field">symbol</a> <a id="2299" href="Base.Structures.Graphs0.html#2256" class="Bound">𝐹</a>
                     <a id="2322" class="Symbol">;</a> <a id="2324" href="Base.Structures.Basic.html#1311" class="Field">arity</a>  <a id="2331" class="Symbol">=</a> <a id="2333" href="Base.Structures.Graphs0.html#2346" class="Function">ar</a> <a id="2336" class="Symbol">}</a>
 <a id="2339" class="Keyword">where</a>
 <a id="2346" href="Base.Structures.Graphs0.html#2346" class="Function">ar</a> <a id="2349" class="Symbol">:</a> <a id="2351" href="Base.Structures.Basic.html#1293" class="Field">symbol</a> <a id="2358" href="Base.Structures.Graphs0.html#2258" class="Bound">𝑅</a> <a id="2360" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2362" href="Base.Structures.Basic.html#1293" class="Field">symbol</a> <a id="2369" href="Base.Structures.Graphs0.html#2256" class="Bound">𝐹</a> <a id="2371" class="Symbol">→</a> <a id="2373" href="Base.Structures.Graphs0.html#1194" class="Primitive">Type</a> <a id="2378" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a>
 <a id="2382" href="Base.Structures.Graphs0.html#2346" class="Function">ar</a> <a id="2385" class="Symbol">(</a><a id="2386" href="Base.Structures.Graphs0.html#1335" class="InductiveConstructor">inl</a> <a id="2390" href="Base.Structures.Graphs0.html#2390" class="Bound">𝑟</a><a id="2391" class="Symbol">)</a> <a id="2393" class="Symbol">=</a> <a id="2395" class="Symbol">(</a><a id="2396" href="Base.Structures.Basic.html#1311" class="Field">arity</a> <a id="2402" href="Base.Structures.Graphs0.html#2258" class="Bound">𝑅</a><a id="2403" class="Symbol">)</a> <a id="2405" href="Base.Structures.Graphs0.html#2390" class="Bound">𝑟</a>
 <a id="2408" href="Base.Structures.Graphs0.html#2346" class="Function">ar</a> <a id="2411" class="Symbol">(</a><a id="2412" href="Base.Structures.Graphs0.html#1349" class="InductiveConstructor">inr</a> <a id="2416" href="Base.Structures.Graphs0.html#2416" class="Bound">𝑓</a><a id="2417" class="Symbol">)</a> <a id="2419" class="Symbol">=</a> <a id="2421" class="Symbol">(</a><a id="2422" href="Base.Structures.Basic.html#1311" class="Field">arity</a> <a id="2428" href="Base.Structures.Graphs0.html#2256" class="Bound">𝐹</a><a id="2429" class="Symbol">)</a> <a id="2431" href="Base.Structures.Graphs0.html#2416" class="Bound">𝑓</a> <a id="2433" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2435" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="2438" class="Keyword">private</a> <a id="2446" class="Keyword">variable</a> <a id="2455" href="Base.Structures.Graphs0.html#2455" class="Generalizable">𝐹</a> <a id="2457" href="Base.Structures.Graphs0.html#2457" class="Generalizable">𝑅</a> <a id="2459" class="Symbol">:</a> <a id="2461" href="Base.Structures.Basic.html#1233" class="Record">signature</a> <a id="2471" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a> <a id="2474" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a>

<a id="Gr"></a><a id="2478" href="Base.Structures.Graphs0.html#2478" class="Function">Gr</a> <a id="2481" class="Symbol">:</a> <a id="2483" href="Base.Structures.Basic.html#1566" class="Record">structure</a> <a id="2493" href="Base.Structures.Graphs0.html#2455" class="Generalizable">𝐹</a> <a id="2495" href="Base.Structures.Graphs0.html#2457" class="Generalizable">𝑅</a> <a id="2497" class="Symbol">{</a><a id="2498" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a><a id="2500" class="Symbol">}</a> <a id="2502" class="Symbol">{</a><a id="2503" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a><a id="2505" class="Symbol">}</a> <a id="2507" class="Symbol">→</a> <a id="2509" href="Base.Structures.Basic.html#1566" class="Record">structure</a> <a id="2519" href="Examples.Structures.Signatures.html#765" class="Function">S∅</a> <a id="2522" class="Symbol">(</a><a id="2523" href="Base.Structures.Graphs0.html#2187" class="Function">Gr-sig</a> <a id="2530" href="Base.Structures.Graphs0.html#2455" class="Generalizable">𝐹</a> <a id="2532" href="Base.Structures.Graphs0.html#2457" class="Generalizable">𝑅</a><a id="2533" class="Symbol">)</a> <a id="2535" class="Symbol">{</a><a id="2536" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a><a id="2538" class="Symbol">}</a> <a id="2540" class="Symbol">{</a><a id="2541" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a><a id="2543" class="Symbol">}</a>
<a id="2545" href="Base.Structures.Graphs0.html#2478" class="Function">Gr</a> <a id="2548" class="Symbol">{</a><a id="2549" href="Base.Structures.Graphs0.html#2549" class="Bound">𝐹</a><a id="2550" class="Symbol">}{</a><a id="2552" href="Base.Structures.Graphs0.html#2552" class="Bound">𝑅</a><a id="2553" class="Symbol">}</a> <a id="2555" href="Base.Structures.Graphs0.html#2555" class="Bound">𝑨</a> <a id="2557" class="Symbol">=</a> <a id="2559" class="Keyword">record</a> <a id="2566" class="Symbol">{</a> <a id="2568" href="Base.Structures.Basic.html#1730" class="Field">carrier</a> <a id="2576" class="Symbol">=</a> <a id="2578" href="Base.Structures.Basic.html#1730" class="Field">carrier</a> <a id="2586" href="Base.Structures.Graphs0.html#2555" class="Bound">𝑨</a> <a id="2588" class="Symbol">;</a> <a id="2590" href="Base.Structures.Basic.html#1749" class="Field">op</a> <a id="2593" class="Symbol">=</a> <a id="2595" class="Symbol">λ</a> <a id="2597" class="Symbol">()</a> <a id="2600" class="Symbol">;</a> <a id="2602" href="Base.Structures.Basic.html#1833" class="Field">rel</a> <a id="2606" class="Symbol">=</a> <a id="2608" href="Base.Structures.Graphs0.html#2626" class="Function">split</a> <a id="2614" class="Symbol">}</a>
  <a id="2618" class="Keyword">where</a>
  <a id="2626" href="Base.Structures.Graphs0.html#2626" class="Function">split</a> <a id="2632" class="Symbol">:</a> <a id="2634" class="Symbol">(</a><a id="2635" href="Base.Structures.Graphs0.html#2635" class="Bound">s</a> <a id="2637" class="Symbol">:</a> <a id="2639" href="Base.Structures.Basic.html#1293" class="Field">symbol</a> <a id="2646" href="Base.Structures.Graphs0.html#2552" class="Bound">𝑅</a> <a id="2648" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2650" href="Base.Structures.Basic.html#1293" class="Field">symbol</a> <a id="2657" href="Base.Structures.Graphs0.html#2549" class="Bound">𝐹</a><a id="2658" class="Symbol">)</a> <a id="2660" class="Symbol">→</a> <a id="2662" href="Base.Relations.Continuous.html#4456" class="Function">Rel</a> <a id="2666" class="Symbol">(</a><a id="2667" href="Base.Structures.Basic.html#1730" class="Field">carrier</a> <a id="2675" href="Base.Structures.Graphs0.html#2555" class="Bound">𝑨</a><a id="2676" class="Symbol">)</a> <a id="2678" class="Symbol">(</a><a id="2679" href="Base.Structures.Basic.html#1311" class="Field">arity</a> <a id="2685" class="Symbol">(</a><a id="2686" href="Base.Structures.Graphs0.html#2187" class="Function">Gr-sig</a> <a id="2693" href="Base.Structures.Graphs0.html#2549" class="Bound">𝐹</a> <a id="2695" href="Base.Structures.Graphs0.html#2552" class="Bound">𝑅</a><a id="2696" class="Symbol">)</a> <a id="2698" href="Base.Structures.Graphs0.html#2635" class="Bound">s</a><a id="2699" class="Symbol">)</a> <a id="2701" class="Symbol">{</a><a id="2702" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a><a id="2704" class="Symbol">}</a>
  <a id="2708" href="Base.Structures.Graphs0.html#2626" class="Function">split</a> <a id="2714" class="Symbol">(</a><a id="2715" href="Base.Structures.Graphs0.html#1335" class="InductiveConstructor">inl</a> <a id="2719" href="Base.Structures.Graphs0.html#2719" class="Bound">𝑟</a><a id="2720" class="Symbol">)</a> <a id="2722" href="Base.Structures.Graphs0.html#2722" class="Bound">arg</a> <a id="2726" class="Symbol">=</a> <a id="2728" href="Base.Structures.Basic.html#1833" class="Field">rel</a> <a id="2732" href="Base.Structures.Graphs0.html#2555" class="Bound">𝑨</a> <a id="2734" href="Base.Structures.Graphs0.html#2719" class="Bound">𝑟</a> <a id="2736" href="Base.Structures.Graphs0.html#2722" class="Bound">arg</a>
  <a id="2742" href="Base.Structures.Graphs0.html#2626" class="Function">split</a> <a id="2748" class="Symbol">(</a><a id="2749" href="Base.Structures.Graphs0.html#1349" class="InductiveConstructor">inr</a> <a id="2753" href="Base.Structures.Graphs0.html#2753" class="Bound">𝑓</a><a id="2754" class="Symbol">)</a> <a id="2756" href="Base.Structures.Graphs0.html#2756" class="Bound">args</a> <a id="2761" class="Symbol">=</a> <a id="2763" href="Base.Structures.Basic.html#1749" class="Field">op</a> <a id="2766" href="Base.Structures.Graphs0.html#2555" class="Bound">𝑨</a> <a id="2768" href="Base.Structures.Graphs0.html#2753" class="Bound">𝑓</a> <a id="2770" class="Symbol">(</a><a id="2771" href="Base.Structures.Graphs0.html#2756" class="Bound">args</a> <a id="2776" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2778" href="Base.Structures.Graphs0.html#1335" class="InductiveConstructor">inl</a><a id="2781" class="Symbol">)</a> <a id="2783" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2785" href="Base.Structures.Graphs0.html#2756" class="Bound">args</a> <a id="2790" class="Symbol">(</a><a id="2791" href="Base.Structures.Graphs0.html#1349" class="InductiveConstructor">inr</a> <a id="2795" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="2797" class="Symbol">)</a>

<a id="2800" class="Keyword">open</a> <a id="2805" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a>

<a id="2818" class="Keyword">module</a> <a id="2825" href="Base.Structures.Graphs0.html#2825" class="Module">_</a> <a id="2827" class="Symbol">{</a><a id="2828" href="Base.Structures.Graphs0.html#2828" class="Bound">𝑨</a> <a id="2830" href="Base.Structures.Graphs0.html#2830" class="Bound">𝑩</a> <a id="2832" class="Symbol">:</a> <a id="2834" href="Base.Structures.Basic.html#1566" class="Record">structure</a> <a id="2844" href="Base.Structures.Graphs0.html#2455" class="Generalizable">𝐹</a> <a id="2846" href="Base.Structures.Graphs0.html#2457" class="Generalizable">𝑅</a> <a id="2848" class="Symbol">{</a><a id="2849" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a><a id="2851" class="Symbol">}{</a><a id="2853" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a><a id="2855" class="Symbol">}}</a> <a id="2858" class="Keyword">where</a>

 <a id="2866" href="Base.Structures.Graphs0.html#2866" class="Function">hom→Grhom</a> <a id="2876" class="Symbol">:</a> <a id="2878" href="Base.Structures.Homs.html#2703" class="Function">hom</a> <a id="2882" href="Base.Structures.Graphs0.html#2828" class="Bound">𝑨</a> <a id="2884" href="Base.Structures.Graphs0.html#2830" class="Bound">𝑩</a> <a id="2886" class="Symbol">→</a> <a id="2888" href="Base.Structures.Homs.html#2703" class="Function">hom</a> <a id="2892" class="Symbol">(</a><a id="2893" href="Base.Structures.Graphs0.html#2478" class="Function">Gr</a> <a id="2896" href="Base.Structures.Graphs0.html#2828" class="Bound">𝑨</a><a id="2897" class="Symbol">)</a> <a id="2899" class="Symbol">(</a><a id="2900" href="Base.Structures.Graphs0.html#2478" class="Function">Gr</a> <a id="2903" href="Base.Structures.Graphs0.html#2830" class="Bound">𝑩</a><a id="2904" class="Symbol">)</a>
 <a id="2907" href="Base.Structures.Graphs0.html#2866" class="Function">hom→Grhom</a> <a id="2917" class="Symbol">(</a><a id="2918" href="Base.Structures.Graphs0.html#2918" class="Bound">h</a> <a id="2920" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2922" href="Base.Structures.Graphs0.html#2922" class="Bound">hhom</a><a id="2926" class="Symbol">)</a> <a id="2928" class="Symbol">=</a> <a id="2930" href="Base.Structures.Graphs0.html#2918" class="Bound">h</a> <a id="2932" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2934" class="Symbol">(</a><a id="2935" href="Base.Structures.Graphs0.html#2953" class="Function">i</a> <a id="2937" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2939" href="Base.Structures.Graphs0.html#3328" class="Function">ii</a><a id="2941" class="Symbol">)</a>
  <a id="2945" class="Keyword">where</a>
  <a id="2953" href="Base.Structures.Graphs0.html#2953" class="Function">i</a> <a id="2955" class="Symbol">:</a> <a id="2957" href="Base.Structures.Homs.html#2287" class="Function">is-hom-rel</a> <a id="2968" class="Symbol">(</a><a id="2969" href="Base.Structures.Graphs0.html#2478" class="Function">Gr</a> <a id="2972" href="Base.Structures.Graphs0.html#2828" class="Bound">𝑨</a><a id="2973" class="Symbol">)</a> <a id="2975" class="Symbol">(</a><a id="2976" href="Base.Structures.Graphs0.html#2478" class="Function">Gr</a> <a id="2979" href="Base.Structures.Graphs0.html#2830" class="Bound">𝑩</a><a id="2980" class="Symbol">)</a> <a id="2982" href="Base.Structures.Graphs0.html#2918" class="Bound">h</a>
  <a id="2986" href="Base.Structures.Graphs0.html#2953" class="Function">i</a> <a id="2988" class="Symbol">(</a><a id="2989" href="Base.Structures.Graphs0.html#1335" class="InductiveConstructor">inl</a> <a id="2993" href="Base.Structures.Graphs0.html#2993" class="Bound">𝑟</a><a id="2994" class="Symbol">)</a> <a id="2996" href="Base.Structures.Graphs0.html#2996" class="Bound">a</a> <a id="2998" href="Base.Structures.Graphs0.html#2998" class="Bound">x</a> <a id="3000" class="Symbol">=</a> <a id="3002" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="3004" href="Base.Structures.Graphs0.html#2922" class="Bound">hhom</a> <a id="3009" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="3011" href="Base.Structures.Graphs0.html#2993" class="Bound">𝑟</a> <a id="3013" href="Base.Structures.Graphs0.html#2996" class="Bound">a</a> <a id="3015" href="Base.Structures.Graphs0.html#2998" class="Bound">x</a>
  <a id="3019" href="Base.Structures.Graphs0.html#2953" class="Function">i</a> <a id="3021" class="Symbol">(</a><a id="3022" href="Base.Structures.Graphs0.html#1349" class="InductiveConstructor">inr</a> <a id="3026" href="Base.Structures.Graphs0.html#3026" class="Bound">𝑓</a><a id="3027" class="Symbol">)</a> <a id="3029" href="Base.Structures.Graphs0.html#3029" class="Bound">a</a> <a id="3031" href="Base.Structures.Graphs0.html#3031" class="Bound">x</a> <a id="3033" class="Symbol">=</a> <a id="3035" href="Base.Structures.Graphs0.html#3142" class="Function">goal</a>
   <a id="3043" class="Keyword">where</a>
   <a id="3052" href="Base.Structures.Graphs0.html#3052" class="Function">homop</a> <a id="3058" class="Symbol">:</a> <a id="3060" href="Base.Structures.Graphs0.html#2918" class="Bound">h</a> <a id="3062" class="Symbol">(</a><a id="3063" href="Base.Structures.Basic.html#1749" class="Field">op</a> <a id="3066" href="Base.Structures.Graphs0.html#2828" class="Bound">𝑨</a> <a id="3068" href="Base.Structures.Graphs0.html#3026" class="Bound">𝑓</a> <a id="3070" class="Symbol">(</a><a id="3071" href="Base.Structures.Graphs0.html#3029" class="Bound">a</a> <a id="3073" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3075" href="Base.Structures.Graphs0.html#1335" class="InductiveConstructor">inl</a><a id="3078" class="Symbol">))</a> <a id="3081" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3083" href="Base.Structures.Basic.html#1749" class="Field">op</a> <a id="3086" href="Base.Structures.Graphs0.html#2830" class="Bound">𝑩</a> <a id="3088" href="Base.Structures.Graphs0.html#3026" class="Bound">𝑓</a> <a id="3090" class="Symbol">(</a><a id="3091" href="Base.Structures.Graphs0.html#2918" class="Bound">h</a> <a id="3093" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3095" class="Symbol">(</a><a id="3096" href="Base.Structures.Graphs0.html#3029" class="Bound">a</a> <a id="3098" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3100" href="Base.Structures.Graphs0.html#1335" class="InductiveConstructor">inl</a><a id="3103" class="Symbol">))</a>
   <a id="3109" href="Base.Structures.Graphs0.html#3052" class="Function">homop</a> <a id="3115" class="Symbol">=</a> <a id="3117" href="Overture.Basic.html#4363" class="Function Operator">∥</a> <a id="3119" href="Base.Structures.Graphs0.html#2922" class="Bound">hhom</a> <a id="3124" href="Overture.Basic.html#4363" class="Function Operator">∥</a> <a id="3126" href="Base.Structures.Graphs0.html#3026" class="Bound">𝑓</a> <a id="3128" class="Symbol">(</a><a id="3129" href="Base.Structures.Graphs0.html#3029" class="Bound">a</a> <a id="3131" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3133" href="Base.Structures.Graphs0.html#1335" class="InductiveConstructor">inl</a><a id="3136" class="Symbol">)</a>

   <a id="3142" href="Base.Structures.Graphs0.html#3142" class="Function">goal</a> <a id="3147" class="Symbol">:</a> <a id="3149" href="Base.Structures.Basic.html#1749" class="Field">op</a> <a id="3152" href="Base.Structures.Graphs0.html#2830" class="Bound">𝑩</a> <a id="3154" href="Base.Structures.Graphs0.html#3026" class="Bound">𝑓</a> <a id="3156" class="Symbol">(</a><a id="3157" href="Base.Structures.Graphs0.html#2918" class="Bound">h</a> <a id="3159" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3161" class="Symbol">(</a><a id="3162" href="Base.Structures.Graphs0.html#3029" class="Bound">a</a> <a id="3164" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3166" href="Base.Structures.Graphs0.html#1335" class="InductiveConstructor">inl</a><a id="3169" class="Symbol">))</a> <a id="3172" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3174" href="Base.Structures.Graphs0.html#2918" class="Bound">h</a> <a id="3176" class="Symbol">(</a><a id="3177" href="Base.Structures.Graphs0.html#3029" class="Bound">a</a> <a id="3179" class="Symbol">(</a><a id="3180" href="Base.Structures.Graphs0.html#1349" class="InductiveConstructor">inr</a> <a id="3184" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="3186" class="Symbol">))</a>
   <a id="3192" href="Base.Structures.Graphs0.html#3142" class="Function">goal</a> <a id="3197" class="Symbol">=</a>  <a id="3200" href="Base.Structures.Basic.html#1749" class="Field">op</a> <a id="3203" href="Base.Structures.Graphs0.html#2830" class="Bound">𝑩</a> <a id="3205" href="Base.Structures.Graphs0.html#3026" class="Bound">𝑓</a> <a id="3207" class="Symbol">(</a><a id="3208" href="Base.Structures.Graphs0.html#2918" class="Bound">h</a> <a id="3210" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3212" class="Symbol">(</a><a id="3213" href="Base.Structures.Graphs0.html#3029" class="Bound">a</a> <a id="3215" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3217" href="Base.Structures.Graphs0.html#1335" class="InductiveConstructor">inl</a><a id="3220" class="Symbol">))</a>  <a id="3224" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3227" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="3231" href="Base.Structures.Graphs0.html#3052" class="Function">homop</a> <a id="3237" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
           <a id="3250" href="Base.Structures.Graphs0.html#2918" class="Bound">h</a> <a id="3252" class="Symbol">(</a><a id="3253" href="Base.Structures.Basic.html#1749" class="Field">op</a> <a id="3256" href="Base.Structures.Graphs0.html#2828" class="Bound">𝑨</a> <a id="3258" href="Base.Structures.Graphs0.html#3026" class="Bound">𝑓</a> <a id="3260" class="Symbol">(</a><a id="3261" href="Base.Structures.Graphs0.html#3029" class="Bound">a</a> <a id="3263" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3265" href="Base.Structures.Graphs0.html#1335" class="InductiveConstructor">inl</a><a id="3268" class="Symbol">))</a>    <a id="3274" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3277" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="3282" href="Base.Structures.Graphs0.html#2918" class="Bound">h</a> <a id="3284" href="Base.Structures.Graphs0.html#3031" class="Bound">x</a> <a id="3286" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
           <a id="3299" href="Base.Structures.Graphs0.html#2918" class="Bound">h</a> <a id="3301" class="Symbol">(</a><a id="3302" href="Base.Structures.Graphs0.html#3029" class="Bound">a</a> <a id="3304" class="Symbol">(</a><a id="3305" href="Base.Structures.Graphs0.html#1349" class="InductiveConstructor">inr</a> <a id="3309" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="3311" class="Symbol">))</a>          <a id="3323" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="3328" href="Base.Structures.Graphs0.html#3328" class="Function">ii</a> <a id="3331" class="Symbol">:</a> <a id="3333" href="Base.Structures.Homs.html#2506" class="Function">is-hom-op</a> <a id="3343" class="Symbol">(</a><a id="3344" href="Base.Structures.Graphs0.html#2478" class="Function">Gr</a> <a id="3347" href="Base.Structures.Graphs0.html#2828" class="Bound">𝑨</a><a id="3348" class="Symbol">)</a> <a id="3350" class="Symbol">(</a><a id="3351" href="Base.Structures.Graphs0.html#2478" class="Function">Gr</a> <a id="3354" href="Base.Structures.Graphs0.html#2830" class="Bound">𝑩</a><a id="3355" class="Symbol">)</a> <a id="3357" href="Base.Structures.Graphs0.html#2918" class="Bound">h</a>
  <a id="3361" href="Base.Structures.Graphs0.html#3328" class="Function">ii</a> <a id="3364" class="Symbol">=</a> <a id="3366" class="Symbol">λ</a> <a id="3368" class="Symbol">()</a>

 <a id="3373" href="Base.Structures.Graphs0.html#3373" class="Function">Grhom→hom</a> <a id="3383" class="Symbol">:</a> <a id="3385" href="Base.Structures.Homs.html#2703" class="Function">hom</a> <a id="3389" class="Symbol">(</a><a id="3390" href="Base.Structures.Graphs0.html#2478" class="Function">Gr</a> <a id="3393" href="Base.Structures.Graphs0.html#2828" class="Bound">𝑨</a><a id="3394" class="Symbol">)</a> <a id="3396" class="Symbol">(</a><a id="3397" href="Base.Structures.Graphs0.html#2478" class="Function">Gr</a> <a id="3400" href="Base.Structures.Graphs0.html#2830" class="Bound">𝑩</a><a id="3401" class="Symbol">)</a> <a id="3403" class="Symbol">→</a> <a id="3405" href="Base.Structures.Homs.html#2703" class="Function">hom</a> <a id="3409" href="Base.Structures.Graphs0.html#2828" class="Bound">𝑨</a> <a id="3411" href="Base.Structures.Graphs0.html#2830" class="Bound">𝑩</a>
 <a id="3414" href="Base.Structures.Graphs0.html#3373" class="Function">Grhom→hom</a> <a id="3424" class="Symbol">(</a><a id="3425" href="Base.Structures.Graphs0.html#3425" class="Bound">h</a> <a id="3427" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3429" href="Base.Structures.Graphs0.html#3429" class="Bound">hhom</a><a id="3433" class="Symbol">)</a> <a id="3435" class="Symbol">=</a> <a id="3437" href="Base.Structures.Graphs0.html#3425" class="Bound">h</a> <a id="3439" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3441" class="Symbol">(</a><a id="3442" href="Base.Structures.Graphs0.html#3460" class="Function">i</a> <a id="3444" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3446" href="Base.Structures.Graphs0.html#3516" class="Function">ii</a><a id="3448" class="Symbol">)</a>
  <a id="3452" class="Keyword">where</a>
  <a id="3460" href="Base.Structures.Graphs0.html#3460" class="Function">i</a> <a id="3462" class="Symbol">:</a> <a id="3464" href="Base.Structures.Homs.html#2287" class="Function">is-hom-rel</a> <a id="3475" href="Base.Structures.Graphs0.html#2828" class="Bound">𝑨</a> <a id="3477" href="Base.Structures.Graphs0.html#2830" class="Bound">𝑩</a> <a id="3479" href="Base.Structures.Graphs0.html#3425" class="Bound">h</a>
  <a id="3483" href="Base.Structures.Graphs0.html#3460" class="Function">i</a> <a id="3485" href="Base.Structures.Graphs0.html#3485" class="Bound">R</a> <a id="3487" href="Base.Structures.Graphs0.html#3487" class="Bound">a</a> <a id="3489" href="Base.Structures.Graphs0.html#3489" class="Bound">x</a> <a id="3491" class="Symbol">=</a> <a id="3493" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="3495" href="Base.Structures.Graphs0.html#3429" class="Bound">hhom</a> <a id="3500" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="3502" class="Symbol">(</a><a id="3503" href="Base.Structures.Graphs0.html#1335" class="InductiveConstructor">inl</a> <a id="3507" href="Base.Structures.Graphs0.html#3485" class="Bound">R</a><a id="3508" class="Symbol">)</a> <a id="3510" href="Base.Structures.Graphs0.html#3487" class="Bound">a</a> <a id="3512" href="Base.Structures.Graphs0.html#3489" class="Bound">x</a>
  <a id="3516" href="Base.Structures.Graphs0.html#3516" class="Function">ii</a> <a id="3519" class="Symbol">:</a> <a id="3521" href="Base.Structures.Homs.html#2506" class="Function">is-hom-op</a> <a id="3531" href="Base.Structures.Graphs0.html#2828" class="Bound">𝑨</a> <a id="3533" href="Base.Structures.Graphs0.html#2830" class="Bound">𝑩</a> <a id="3535" href="Base.Structures.Graphs0.html#3425" class="Bound">h</a>
  <a id="3539" href="Base.Structures.Graphs0.html#3516" class="Function">ii</a> <a id="3542" href="Base.Structures.Graphs0.html#3542" class="Bound">f</a> <a id="3544" href="Base.Structures.Graphs0.html#3544" class="Bound">a</a> <a id="3546" class="Symbol">=</a> <a id="3548" href="Base.Structures.Graphs0.html#3653" class="Function">goal</a>
   <a id="3556" class="Keyword">where</a>
   <a id="3565" href="Base.Structures.Graphs0.html#3565" class="Function">split</a> <a id="3571" class="Symbol">:</a> <a id="3573" href="Base.Structures.Basic.html#1311" class="Field">arity</a> <a id="3579" href="Base.Structures.Graphs0.html#2844" class="Bound">𝐹</a> <a id="3581" href="Base.Structures.Graphs0.html#3542" class="Bound">f</a> <a id="3583" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3585" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="3587" class="Symbol">→</a> <a id="3589" href="Base.Structures.Basic.html#1730" class="Field">carrier</a> <a id="3597" href="Base.Structures.Graphs0.html#2828" class="Bound">𝑨</a>
   <a id="3602" href="Base.Structures.Graphs0.html#3565" class="Function">split</a> <a id="3608" class="Symbol">(</a><a id="3609" href="Base.Structures.Graphs0.html#1335" class="InductiveConstructor">inl</a> <a id="3613" href="Base.Structures.Graphs0.html#3613" class="Bound">x</a><a id="3614" class="Symbol">)</a> <a id="3616" class="Symbol">=</a> <a id="3618" href="Base.Structures.Graphs0.html#3544" class="Bound">a</a> <a id="3620" href="Base.Structures.Graphs0.html#3613" class="Bound">x</a>
   <a id="3625" href="Base.Structures.Graphs0.html#3565" class="Function">split</a> <a id="3631" class="Symbol">(</a><a id="3632" href="Base.Structures.Graphs0.html#1349" class="InductiveConstructor">inr</a> <a id="3636" href="Base.Structures.Graphs0.html#3636" class="Bound">y</a><a id="3637" class="Symbol">)</a> <a id="3639" class="Symbol">=</a> <a id="3641" href="Base.Structures.Basic.html#1749" class="Field">op</a> <a id="3644" href="Base.Structures.Graphs0.html#2828" class="Bound">𝑨</a> <a id="3646" href="Base.Structures.Graphs0.html#3542" class="Bound">f</a> <a id="3648" href="Base.Structures.Graphs0.html#3544" class="Bound">a</a>
   <a id="3653" href="Base.Structures.Graphs0.html#3653" class="Function">goal</a> <a id="3658" class="Symbol">:</a> <a id="3660" href="Base.Structures.Graphs0.html#3425" class="Bound">h</a> <a id="3662" class="Symbol">(</a><a id="3663" href="Base.Structures.Basic.html#1749" class="Field">op</a> <a id="3666" href="Base.Structures.Graphs0.html#2828" class="Bound">𝑨</a> <a id="3668" href="Base.Structures.Graphs0.html#3542" class="Bound">f</a> <a id="3670" href="Base.Structures.Graphs0.html#3544" class="Bound">a</a><a id="3671" class="Symbol">)</a> <a id="3673" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3675" href="Base.Structures.Basic.html#1749" class="Field">op</a> <a id="3678" href="Base.Structures.Graphs0.html#2830" class="Bound">𝑩</a> <a id="3680" href="Base.Structures.Graphs0.html#3542" class="Bound">f</a> <a id="3682" class="Symbol">(λ</a> <a id="3685" href="Base.Structures.Graphs0.html#3685" class="Bound">x</a> <a id="3687" class="Symbol">→</a> <a id="3689" href="Base.Structures.Graphs0.html#3425" class="Bound">h</a> <a id="3691" class="Symbol">(</a><a id="3692" href="Base.Structures.Graphs0.html#3544" class="Bound">a</a> <a id="3694" href="Base.Structures.Graphs0.html#3685" class="Bound">x</a><a id="3695" class="Symbol">))</a>
   <a id="3701" href="Base.Structures.Graphs0.html#3653" class="Function">goal</a> <a id="3706" class="Symbol">=</a> <a id="3708" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="3712" class="Symbol">(</a><a id="3713" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="3715" href="Base.Structures.Graphs0.html#3429" class="Bound">hhom</a> <a id="3720" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="3722" class="Symbol">(</a><a id="3723" href="Base.Structures.Graphs0.html#1349" class="InductiveConstructor">inr</a> <a id="3727" href="Base.Structures.Graphs0.html#3542" class="Bound">f</a><a id="3728" class="Symbol">)</a> <a id="3730" href="Base.Structures.Graphs0.html#3565" class="Function">split</a> <a id="3736" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="3740" class="Symbol">)</a>

</pre>

**Lemma III.1**. Let `𝑆` be a signature and `𝑨` be an `𝑆`-structure.
Let `ℰ` be a finite set of identities such that `𝑨 ⊧ ℰ`. For every
instance `𝑿` of CSP(`𝑨`), one can compute in polynomial time an
instance `𝒀` of CSP(`𝑨`) such that `𝒀 ⊧ ℰ` and `| hom 𝑿 𝑨 | = | hom 𝒀 𝑨 |`.

**Proof**. `∀ s ≈ t` in `ℰ` and each tuple `b` such that `𝑩 ⟦ s ⟧ b ≢ 𝑩 ⟦ t ⟧ b`, one can compute
the congruence `θ = Cg (𝑩 ⟦ s ⟧ b , 𝑩 ⟦ t ⟧ b)` generated by `𝑩 ⟦ s ⟧ b` and `𝑩 ⟦ t ⟧ b`.
Let `𝑩₁ := 𝑩 / θ`, and note that `| 𝑩₁ | < | 𝑩 |`.

We show there exists a bijection from `hom 𝑩 𝑨` to `hom 𝑩₁ 𝑨`.
Fix an `h : hom 𝑩 𝑨`. For all `s ≈ t` in `ℰ`, we have

`h (𝑩 ⟦ s ⟧ b) = 𝑨 ⟦ s ⟧ (h b) = 𝑨 ⟦ t ⟧ (h b) = h (𝑩 ⟦ t ⟧ b)`.

Therefore, `θ ⊆ ker h`, so `h` factors uniquely as `h = h' ∘ π : 𝑩 → (𝑩 / θ) → 𝑨`,
where `π` is the canonical projection onto `𝑩 / θ`.

Thus the mapping `φ : hom 𝑩 𝑨 → hom 𝑩₁ 𝑨` that takes each `h` to `h'` such that `h = h' ∘ π`
is injective.  It is also surjective since each `g' : 𝑩 / θ → 𝑨` is mapped back to
a `g : 𝑩 → 𝑨` such that `g = g' ∘ π`. Iterating over all identities in `ℰ`, possibly
several times, at the final step we obtain a structure `𝑩ₙ` that satisfies `ℰ`
and is such that `∣ hom 𝑩 𝑨 ∣ = ∣ hom 𝑩ₙ 𝑨 ∣`. Moreover, since the number of elements
in the intermediate structures decreases at each step, `| 𝑩ᵢ₊₁ | < | 𝑩ᵢ |`, the process
finishes in time that is bounded by a polynomial in the size of `𝑩`.

<pre class="Agda">

<a id="5190" class="Keyword">record</a> <a id="_⇛_⇚_"></a><a id="5197" href="Base.Structures.Graphs0.html#5197" class="Record Operator">_⇛_⇚_</a> <a id="5203" class="Symbol">(</a><a id="5204" href="Base.Structures.Graphs0.html#5204" class="Bound">𝑩</a> <a id="5206" href="Base.Structures.Graphs0.html#5206" class="Bound">𝑨</a> <a id="5208" href="Base.Structures.Graphs0.html#5208" class="Bound">𝑪</a> <a id="5210" class="Symbol">:</a> <a id="5212" href="Base.Structures.Basic.html#1566" class="Record">structure</a> <a id="5222" href="Base.Structures.Graphs0.html#2455" class="Generalizable">𝐹</a> <a id="5224" href="Base.Structures.Graphs0.html#2457" class="Generalizable">𝑅</a><a id="5225" class="Symbol">)</a> <a id="5227" class="Symbol">:</a> <a id="5229" href="Base.Structures.Graphs0.html#1194" class="Primitive">Type</a> <a id="5234" href="Base.Structures.Graphs0.html#1210" class="Primitive">ℓ₀</a> <a id="5237" class="Keyword">where</a>
 <a id="5244" class="Keyword">field</a>
  <a id="_⇛_⇚_.to"></a><a id="5252" href="Base.Structures.Graphs0.html#5252" class="Field">to</a>   <a id="5257" class="Symbol">:</a> <a id="5259" href="Base.Structures.Homs.html#2703" class="Function">hom</a> <a id="5263" href="Base.Structures.Graphs0.html#5204" class="Bound">𝑩</a> <a id="5265" href="Base.Structures.Graphs0.html#5206" class="Bound">𝑨</a> <a id="5267" class="Symbol">→</a> <a id="5269" href="Base.Structures.Homs.html#2703" class="Function">hom</a> <a id="5273" href="Base.Structures.Graphs0.html#5208" class="Bound">𝑪</a> <a id="5275" href="Base.Structures.Graphs0.html#5206" class="Bound">𝑨</a>
  <a id="_⇛_⇚_.from"></a><a id="5279" href="Base.Structures.Graphs0.html#5279" class="Field">from</a> <a id="5284" class="Symbol">:</a> <a id="5286" href="Base.Structures.Homs.html#2703" class="Function">hom</a> <a id="5290" href="Base.Structures.Graphs0.html#5208" class="Bound">𝑪</a> <a id="5292" href="Base.Structures.Graphs0.html#5206" class="Bound">𝑨</a> <a id="5294" class="Symbol">→</a> <a id="5296" href="Base.Structures.Homs.html#2703" class="Function">hom</a> <a id="5300" href="Base.Structures.Graphs0.html#5204" class="Bound">𝑩</a> <a id="5302" href="Base.Structures.Graphs0.html#5206" class="Bound">𝑨</a>
  <a id="_⇛_⇚_.to∼from"></a><a id="5306" href="Base.Structures.Graphs0.html#5306" class="Field">to∼from</a> <a id="5314" class="Symbol">:</a> <a id="5316" class="Symbol">∀</a> <a id="5318" href="Base.Structures.Graphs0.html#5318" class="Bound">h</a> <a id="5320" class="Symbol">→</a> <a id="5322" class="Symbol">(</a><a id="5323" href="Base.Structures.Graphs0.html#5252" class="Field">to</a> <a id="5326" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5328" href="Base.Structures.Graphs0.html#5279" class="Field">from</a><a id="5332" class="Symbol">)</a> <a id="5334" href="Base.Structures.Graphs0.html#5318" class="Bound">h</a> <a id="5336" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5338" href="Base.Structures.Graphs0.html#5318" class="Bound">h</a>
  <a id="_⇛_⇚_.from∼to"></a><a id="5342" href="Base.Structures.Graphs0.html#5342" class="Field">from∼to</a> <a id="5350" class="Symbol">:</a> <a id="5352" class="Symbol">∀</a> <a id="5354" href="Base.Structures.Graphs0.html#5354" class="Bound">h</a> <a id="5356" class="Symbol">→</a> <a id="5358" class="Symbol">(</a><a id="5359" href="Base.Structures.Graphs0.html#5279" class="Field">from</a> <a id="5364" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5366" href="Base.Structures.Graphs0.html#5252" class="Field">to</a><a id="5368" class="Symbol">)</a> <a id="5370" href="Base.Structures.Graphs0.html#5354" class="Bound">h</a> <a id="5372" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5374" href="Base.Structures.Graphs0.html#5354" class="Bound">h</a>

 <a id="5378" class="Comment">-- TODO: formalize Lemma III.1</a>
 <a id="5410" class="Comment">-- module _ {χ : Level}{X : Type χ}</a>
 <a id="5447" class="Comment">--          {𝑨 : structure 𝐹 𝑅 {ℓ₀} {ℓ₀}} where</a>
 <a id="5496" class="Comment">-- LEMMAIII1 : {n : ℕ}(ℰ : Fin n → (Term X × Term X))(𝑨 ∈ fMod ℰ)</a>
 <a id="5563" class="Comment">--  →          ∀(𝑩 : structure 𝐹 𝑅) → Σ[ 𝑪 ∈ structure 𝐹 𝑅 ] (𝑪 ∈ fMod ℰ × (𝑩 ⇛ 𝑨 ⇚ 𝑪))</a>
 <a id="5652" class="Comment">-- LEMMAIII1 ℰ 𝑨⊧ℰ 𝑩 = {!!} , {!!}</a>
</pre>

--------------------------------

<span style="float:left;">[← Base.Structures.Graphs](Base.Structures.Graphs.html)</span>
<span style="float:right;">[Base.Structures.Products →](Base.Structures.Products.html)</span>

{% include UALib.Links.md %}
