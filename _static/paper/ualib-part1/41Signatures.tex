% -*- TeX-master: "ualib-part1.tex" -*-
%%% Local Variables: 
%%% mode: latex
%%% TeX-engine: 'xetex
%%% End:
% \subsubsection{Operation type}\label{operation-type}
% We begin by defining the type of \defn{operations} as follows.
% \ccpad
% \begin{code}%
% \>[0][@{}l@{\AgdaIndent{0}}]%
% \>[1]\AgdaFunction{Op}\AgdaSpace{}%
% \AgdaSymbol{:}\AgdaSpace{}%
% \AgdaGeneralizable{ğ“¥}\AgdaSpace{}%
% \AgdaOperator{\AgdaFunction{Ì‡}}\AgdaSpace{}%
% \AgdaSymbol{â†’}\AgdaSpace{}%
% \AgdaBound{ğ“¤}\AgdaSpace{}%
% \AgdaOperator{\AgdaFunction{Ì‡}}\AgdaSpace{}%
% \AgdaSymbol{â†’}\AgdaSpace{}%
% \AgdaBound{ğ“¤}\AgdaSpace{}%
% \AgdaOperator{\AgdaPrimitive{âŠ”}}\AgdaSpace{}%
% \AgdaGeneralizable{ğ“¥}\AgdaSpace{}%
% \AgdaOperator{\AgdaFunction{Ì‡}}\<%
% \\
% %
% \>[1]\AgdaFunction{Op}\AgdaSpace{}%
% \AgdaBound{I}\AgdaSpace{}%
% \AgdaBound{A}\AgdaSpace{}%
% \AgdaSymbol{=}\AgdaSpace{}%
% \AgdaSymbol{(}\AgdaBound{I}\AgdaSpace{}%
% \AgdaSymbol{â†’}\AgdaSpace{}%
% \AgdaBound{A}\AgdaSymbol{)}\AgdaSpace{}%
% \AgdaSymbol{â†’}\AgdaSpace{}%
% \AgdaBound{A}\<%
% \end{code}
% \ccpad
% The type \af{Op} encodes the arity of an operation as an arbitrary type \abt{I}{ğ“¥}, which gives us a very general way to represent an operation as a function type with domain \ab I \as â†’ \ab A (the type of ``tuples'') and codomain \ab{A}. For example, the \ab{I}-\defn{ary projection operations} on \ab{A} can be codified as inhabitants of the type \af{Op} \ab I \af A in the following way.
% \ccpad
% \begin{code}%
% \>[0]\AgdaFunction{Ï€}\AgdaSpace{}%
% \AgdaSymbol{:}\AgdaSpace{}%
% \AgdaSymbol{\{}\AgdaBound{I}\AgdaSpace{}%
% \AgdaSymbol{:}\AgdaSpace{}%
% \AgdaGeneralizable{ğ“¥}\AgdaSpace{}%
% \AgdaOperator{\AgdaFunction{Ì‡}}%
% \AgdaSymbol{\}}\AgdaSpace{}%
% \AgdaSymbol{\{}\AgdaBound{A}\AgdaSpace{}%
% \AgdaSymbol{:}\AgdaSpace{}%
% \AgdaGeneralizable{ğ“¤}\AgdaSpace{}%
% \AgdaOperator{\AgdaFunction{Ì‡}}\AgdaSpace{}%
% \AgdaSymbol{\}}\AgdaSpace{}%
% \AgdaSymbol{â†’}\AgdaSpace{}%
% \AgdaBound{I}\AgdaSpace{}%
% \AgdaSymbol{â†’}\AgdaSpace{}%
% \AgdaFunction{Op}\AgdaSpace{}%
% \AgdaBound{I}\AgdaSpace{}%
% \AgdaBound{A}\<%
% \\
% \>[0]\AgdaFunction{Ï€}\AgdaSpace{}%
% \AgdaBound{i}\AgdaSpace{}%
% \AgdaBound{x}\AgdaSpace{}%
% \AgdaSymbol{=}\AgdaSpace{}%
% \AgdaBound{x}\AgdaSpace{}%
% \AgdaBound{i}\<%
% \end{code}

% \subsubsection{Signature type}\label{signature-type}

We define the signature of an algebraic structure in Agda like this.
\ccpad
\begin{code}%
\>[0]\AgdaFunction{Signature}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ğ“}\AgdaSpace{}%
\AgdaBound{ğ“¥}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaPostulate{Universe}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ğ“}\AgdaSpace{}%
\AgdaOperator{\AgdaPrimitive{âŠ”}}\AgdaSpace{}%
\AgdaBound{ğ“¥}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaPrimitive{âº}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ì‡}}\<%
\\
\>[0]\AgdaFunction{Signature}\AgdaSpace{}%
\AgdaBound{ğ“}\AgdaSpace{}%
\AgdaBound{ğ“¥}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{Î£}\AgdaSpace{}%
\AgdaBound{F}\AgdaSpace{}%
\AgdaFunction{ê‰}\AgdaSpace{}%
\AgdaBound{ğ“}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ì‡}}\AgdaSpace{}%
\AgdaFunction{,}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{F}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaBound{ğ“¥}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ì‡}}\AgdaSymbol{)}\<%
\end{code}
\ccpad
As mentioned in \S\ref{sec:discrete-relations}, the symbol ğ“ always denotes the universe of \emph{operation symbol} types, while ğ“¥ is always the universe of \emph{arity} types.

In \S\ref{preliminaries} we defined special syntax for the first and second projections---namely, \af âˆ£\au\af âˆ£ and \af{âˆ¥}\au\af{âˆ¥}, respectively. Consequently, if \ab ğ‘† \as : \af{Signature} \ab ğ“ \ab ğ“¥ is a signature, then \af âˆ£~\ab ğ‘†~\af âˆ£ denotes the set of operation symbols, and \af{âˆ¥}~\ab ğ‘†~\af{âˆ¥} denotes the arity function. If \ab ğ‘“ \as : \af âˆ£~\ab ğ‘†~\af âˆ£ is an operation symbol in the signature \ab ğ‘†, then \af{âˆ¥}~\ab ğ‘†~\af{âˆ¥} \ab ğ‘“ is the arity of \ab ğ‘“.

% For reference, we recall the definition of the Sigma type, \af{Î£}, which is

% \begin{Shaded}
% \begin{Highlighting}[]
% \NormalTok{-Î£ }\OtherTok{:} \OtherTok{\{}\NormalTok{ğ“¤ ğ“¥ }\OtherTok{:}\NormalTok{ Universe}\OtherTok{\}(}\NormalTok{X }\OtherTok{:}\NormalTok{ ğ“¤ Ì‡}\OtherTok{)(}\NormalTok{Y }\OtherTok{:}\NormalTok{ X }\OtherTok{â†’}\NormalTok{ ğ“¥ Ì‡}\OtherTok{)} \OtherTok{â†’}\NormalTok{ ğ“¤ âŠ” ğ“¥ Ì‡}
% \NormalTok{-Î£ X Y }\OtherTok{=}\NormalTok{ Î£ Y}
% \end{Highlighting}
% \end{Shaded}

\paragraph*{Example of a signature} %\label{example}
Here is how we could define the signature for \defn{monoids} as an inhabitant of the type \af{Signature} \ab ğ“ \ab ğ“¥.
\ccpad
\begin{code}%
\>[1]\AgdaKeyword{data}\AgdaSpace{}%
\AgdaDatatype{monoid-op}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{ğ“}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ì‡}}\AgdaSpace{}%
\AgdaKeyword{where}\<%
\\
\>[1][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaInductiveConstructor{e}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{monoid-op}\<%
\\
%
\>[2]\AgdaInductiveConstructor{Â·}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{monoid-op}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[1]\AgdaFunction{monoid-sig}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Signature}\AgdaSpace{}%
\AgdaBound{ğ“}\AgdaSpace{}%
\AgdaPrimitive{ğ“¤â‚€}\<%
\\
%
\>[1]\AgdaFunction{monoid-sig}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaDatatype{monoid-op}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
\AgdaSymbol{Î»}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaSpace{}%
\AgdaInductiveConstructor{e}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaFunction{ğŸ˜}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaInductiveConstructor{Â·}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaFunction{ğŸš}\AgdaSpace{}%
\AgdaSymbol{\}}\<%
\end{code}
\ccpad
Thus, the signature for a monoid consists of two operation symbols, \aic{e} and \aic{Â·}, and a function
\as Î» \as{\{} \aic e \as â†’ \af ğŸ˜ \as ; \aic Â· \as â†’ \af ğŸš \as{\}} which maps \aic{e} to the empty type \af ğŸ˜ (since \aic{e} is the nullary identity) and maps \aic{Â·} to the two element type \af ğŸš (since \aic{Â·} is binary).\footnote{The types \af ğŸ˜ and \af ğŸš are defined in the \AgdaModule{MGS-MLTT} module of \typtop.}
