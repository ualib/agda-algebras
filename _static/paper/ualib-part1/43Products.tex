% -*- TeX-master: "ualib-part1.tex" -*-
%%% Local Variables: 
%%% mode: latex
%%% TeX-engine: 'xetex
%%% End:
% We assume a fixed signature \ab{ğ‘†} \as : \af{Signature} \ab ğ“ \ab ğ“¥ throughout the module by starting with the line
% \AgdaKeyword{module}\AgdaSpace{}%
% \AgdaModule{Algebras.Products}\AgdaSpace{}%
% \AgdaSymbol{\{}\AgdaBound{ğ‘†}\AgdaSpace{}%
% \AgdaSymbol{:}\AgdaSpace{}%
% \AgdaFunction{Signature}\AgdaSpace{}%
% \AgdaGeneralizable{ğ“}\AgdaSpace{}%
% \AgdaGeneralizable{ğ“¥}\AgdaSymbol{\}}\AgdaSpace{}%
% \AgdaKeyword{where}.%
% We begin this module by assuming a signature \ab{ğ‘†} \as : \af{Signature} \ab ğ“ \ab ğ“¥ which is then present and available throughout the module.  Because of this, in contrast to descriptions of previous modules, we present the first few lines of the \ualibhtml{Algebras.Products} module in full.
% \ccpad
% \begin{code}%
% \>[0]\AgdaSymbol{\{-\#}\AgdaSpace{}%
% \AgdaKeyword{OPTIONS}\AgdaSpace{}%
% \AgdaPragma{--without-K}\AgdaSpace{}%
% \AgdaPragma{--exact-split}\AgdaSpace{}%
% \AgdaPragma{--safe}\AgdaSpace{}%
% \AgdaSymbol{\#-\}}\<%
% \\
% %
% \\[\AgdaEmptyExtraSkip]%
% \>[0]\AgdaKeyword{open}\AgdaSpace{}%
% \AgdaKeyword{import}\AgdaSpace{}%
% \AgdaModule{Algebras.Signatures}\AgdaSpace{}%
% \AgdaKeyword{using}\AgdaSpace{}%
% \AgdaSymbol{(}\AgdaFunction{Signature}\AgdaSymbol{;}\AgdaSpace{}%
% \AgdaGeneralizable{ğ“}\AgdaSymbol{;}\AgdaSpace{}%
% \AgdaGeneralizable{ğ“¥}\AgdaSymbol{)}\<%
% \\
% %
% % \\[\AgdaEmptyExtraSkip]%
% \>[0]\AgdaKeyword{module}\AgdaSpace{}%
% \AgdaModule{Algebras.Products}\AgdaSpace{}%
% \AgdaSymbol{\{}\AgdaBound{ğ‘†}\AgdaSpace{}%
% \AgdaSymbol{:}\AgdaSpace{}%
% \AgdaFunction{Signature}\AgdaSpace{}%
% \AgdaGeneralizable{ğ“}\AgdaSpace{}%
% \AgdaGeneralizable{ğ“¥}\AgdaSymbol{\}}\AgdaSpace{}%
% \AgdaKeyword{where}\<%
% \\
% %
% % \\[\AgdaEmptyExtraSkip]%
% \>[0]\AgdaKeyword{open}\AgdaSpace{}%
% \AgdaKeyword{import}\AgdaSpace{}%
% \AgdaModule{Algebras.Algebras}\AgdaSpace{}%
% \AgdaKeyword{hiding}\AgdaSpace{}%
% \AgdaSymbol{(}\AgdaGeneralizable{ğ“}\AgdaSymbol{;}\AgdaSpace{}%
% \AgdaGeneralizable{ğ“¥}\AgdaSymbol{)}\AgdaSpace{}%
% \AgdaKeyword{public}\<%
% \end{code}
% \ccpad
% Notice that we must import the \af{Signature} type from \ualibhtml{Algebras.Signatures} first so that we can use it to declare the signature \AgdaBound{ğ‘†} as a parameter of the \ualibhtml{Algebras.Products} module.
% \>[0]\AgdaKeyword{module}\AgdaSpace{}%
% \AgdaModule{Algebras.Products}\AgdaSpace{}%
% \AgdaSymbol{\{}\AgdaBound{ğ‘†}\AgdaSpace{}%
% \AgdaSymbol{:}\AgdaSpace{}%
% \AgdaFunction{Signature}\AgdaSpace{}%
% \AgdaGeneralizable{ğ“}\AgdaSpace{}%
% \AgdaGeneralizable{ğ“¥}\AgdaSymbol{\}}\AgdaSpace{}%
% \AgdaKeyword{where}\<%
% \end{code}

Recall the informal definition of a \defn{product} of a family of \ab ğ‘†-algebras. Given a type \ab I~\as :~\ab ğ“˜\af Ì‡ and a family \ab ğ’œ~\as :~\ab I~\as â†’~\ab{Algebra}~\ab ğ“¤~\ab ğ‘†, the \defn{product} \af â¨…~\ab ğ’œ is the algebra whose domain is the Cartesian product \af Î ~\ab ğ‘–~\as ê‰~\ab I~\af ,~\af âˆ£~\ab ğ’œ~\ab ğ‘–~\af âˆ£ of the domains of the algebras in \ab ğ’œ, and the operation symbols are interpreted point-wise in the following sense: if \ab ğ‘“ is a \ab J-ary operation symbol and if \ab ğ‘~\as :~\af Î ~\ab ğ‘–~\as ê‰~\ab I~\af ,~\ab J~\as â†’~\ab ğ’œ~\ab ğ‘– gives, for each \ab ğ‘–~\as :~\ab I, a \ab J-tuple of elements of \ab ğ’œ~\ab ğ‘–, then we define (\ab ğ‘“~\af Ì‚~\af â¨…~\ab ğ’œ)~\ab ğ‘ := (\ab i~\as :~\ab I)~\as â†’ (\ab ğ‘“~\af Ì‚~\ab ğ’œ~\ab i)(\ab ğ‘~\ab i). We now define a type that codifies this informal definition of product algebra.
% \footnote{Alternative equivalent notation for the domain of the product is \as âˆ€~\ab i~\as â†’~\af âˆ£~\ab ğ’œ~\ab i~\af âˆ£.}
\ccpad
\begin{code}%
% \>[0]\AgdaKeyword{module}\AgdaSpace{}%
% \AgdaModule{\AgdaUnderscore{}}\AgdaSpace{}%
% \AgdaSymbol{\{}\AgdaBound{ğ“¤}\AgdaSpace{}%
% \AgdaBound{ğ“˜}\AgdaSpace{}%
% \AgdaSymbol{:}\AgdaSpace{}%
% \AgdaPostulate{Universe}\AgdaSymbol{\}\{}\AgdaBound{I}\AgdaSpace{}%
% \AgdaSymbol{:}\AgdaSpace{}%
% \AgdaBound{ğ“˜}\AgdaSpace{}%
% \AgdaOperator{\AgdaFunction{Ì‡}}\AgdaSpace{}%
% \AgdaSymbol{\}}\AgdaSpace{}%
% \AgdaKeyword{where}\<%
% \\
% %
% \\[\AgdaEmptyExtraSkip]%
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[1]\AgdaFunction{â¨…}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ğ’œ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{I}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaFunction{Algebra}\AgdaSpace{}%
\AgdaBound{ğ“¤}\AgdaSpace{}%
\AgdaBound{ğ‘†}\AgdaSpace{}%
\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaFunction{Algebra}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ğ“˜}\AgdaSpace{}%
\AgdaOperator{\AgdaPrimitive{âŠ”}}\AgdaSpace{}%
\AgdaBound{ğ“¤}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{ğ‘†}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[1]\AgdaFunction{â¨…}\AgdaSpace{}%
\AgdaBound{ğ’œ}\AgdaSpace{}%
\AgdaSymbol{=}%
\>[51I]\AgdaSymbol{(}\AgdaFunction{Î }\AgdaSpace{}%
\AgdaBound{i}\AgdaSpace{}%
\AgdaFunction{ê‰}\AgdaSpace{}%
\AgdaBound{I}\AgdaSpace{}%
\AgdaFunction{,}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{âˆ£}}\AgdaSpace{}%
\AgdaBound{ğ’œ}\AgdaSpace{}%
\AgdaBound{i}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{âˆ£}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{,}}%
\>[43]\AgdaComment{-- domain of the product algebra}\<%
\\
\>[.][@{}l@{}]\<[51I]%
\>[7]\AgdaSymbol{Î»}\AgdaSpace{}%
\AgdaBound{ğ‘“}\AgdaSpace{}%
\AgdaBound{ğ‘}\AgdaSpace{}%
\AgdaBound{i}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ğ‘“}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ì‚}}\AgdaSpace{}%
\AgdaBound{ğ’œ}\AgdaSpace{}%
\AgdaBound{i}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{Î»}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaBound{ğ‘}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaBound{i}%
\>[43]\AgdaComment{-- basic operations of the product algebra}\<%
\end{code}
\ccpad
% The type just defined is the one we use whenever the product of a collection of
% algebras (of type \af{Algebra}) is required.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% COMMENTED OUT %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{comment}
However, for the sake of completeness, here is how one could define a type representing the product of algebras inhabiting the record type \AgdaRecord{algebra}.
\ccpad
\begin{code}%
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[1]\AgdaFunction{â¨…'}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ğ’œ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{I}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaRecord{algebra}\AgdaSpace{}%
\AgdaBound{ğ“¤}\AgdaSpace{}%
\AgdaBound{ğ‘†}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaRecord{algebra}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ğ“˜}\AgdaSpace{}%
\AgdaOperator{\AgdaPrimitive{âŠ”}}\AgdaSpace{}%
\AgdaBound{ğ“¤}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{ğ‘†}\<%
\\
\>[1]\AgdaFunction{â¨…'}\AgdaSpace{}%
\AgdaBound{ğ’œ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaKeyword{record}%
\>[100I]\AgdaSymbol{\{}\AgdaSpace{}%
\AgdaField{univ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{âˆ€}\AgdaSpace{}%
\AgdaBound{i}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaField{univ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ğ’œ}\AgdaSpace{}%
\AgdaBound{i}\AgdaSymbol{)}\AgdaSpace{}\AgdaSymbol{;}%
\>[55]\AgdaComment{-- domain}\<%
\\
\>[100I][@{}l@{\AgdaIndent{0}}]%
\>[15]\AgdaField{op}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{Î»}\AgdaSpace{}%
\AgdaBound{ğ‘“}\AgdaSpace{}%
\AgdaBound{ğ‘}\AgdaSpace{}%
\AgdaBound{i}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaField{op}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ğ’œ}\AgdaSpace{}%
\AgdaBound{i}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaBound{ğ‘“}\AgdaSpace{}%
\AgdaSymbol{Î»}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaBound{ğ‘}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaBound{i}\AgdaSpace{}\AgdaSymbol{\}}%
\>[55]\AgdaComment{-- basic operations}\<%
\end{code}
\ccpad
\end{comment}
%% END COMMENTED OUT %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Before going further, let us agree on another convenient notational convention, which is used in many of the later modules of the \ualib. Given a signature \ab{ğ‘†}~\as :~\af{Signature}~\ab ğ“~\ab ğ“¥, the type \af{Algebra}~\ab ğ“¤~\ab ğ‘† has type \ab{ğ“}~\ap âŠ”~\ab ğ“¥~\ap âŠ”~\ab ğ“¤~\af âº\af Ì‡, and \ab{ğ“} \ap âŠ” \ab ğ“¥ remains fixed since \ab{ğ“} and \ab ğ“¥ always denote the universes of operation and arity types, respectively. Such levels occur so often in the \ualib that we define the following shorthand for their universes: \AgdaFunction{ov}\AgdaSpace{}%
\AgdaBound{ğ“¤}\AgdaSpace{}%
\AgdaSymbol{:=}\AgdaSpace{}%
\AgdaBound{ğ“}\AgdaSpace{}%
\AgdaOperator{\AgdaPrimitive{âŠ”}}\AgdaSpace{}%
\AgdaBound{ğ“¥}\AgdaSpace{}%
\AgdaOperator{\AgdaPrimitive{âŠ”}}\AgdaSpace{}%
\AgdaBound{ğ“¤}\AgdaSpace{}%
\AgdaOperator{\AgdaPrimitive{âº}}.


\paragraph*{Products of classes of algebras}\label{products-of-classes-of-algebras}
% \context{\AgdaSymbol{\{}\AgdaBound{ğ“¤}\AgdaSpace{}%
% \AgdaBound{ğ“§}\AgdaSpace{}%
% \AgdaSymbol{:}\AgdaSpace{}%
% \AgdaPostulate{Universe}\AgdaSymbol{\}\{}\AgdaBound{X}\AgdaSpace{}%
% \AgdaSymbol{:}\AgdaSpace{}%
% \AgdaBound{ğ“§}\AgdaSpace{}%
% \AgdaOperator{\AgdaFunction{Ì‡}}\AgdaSymbol{\}}}

An arbitrary class \ab ğ’¦ of algebras is represented as a predicate over the type \AgdaFunction{Algebra}\AgdaSpace{}\AgdaBound{ğ“¤}\AgdaSpace{}\AgdaBound{ğ‘†}, for some universe level \AgdaBound{ğ“¤} and signature \AgdaBound{ğ‘†}.
That is, \ab ğ’¦~\as :~\af{Pred}(\af{Algebra}~\ab ğ“¤~\ab ğ‘†)~ğ“¦ for some ğ“¦.
Later we will formally state and prove that the product of all subalgebras of algebras in \ab ğ’¦  belongs to the class \af{SP}(\ab ğ’¦) of subalgebras of products of algebras in \ab ğ’¦. That is, \af â¨… \af S(\ab ğ’¦) \af âˆˆ \af{SP}(\ab ğ’¦). This turns out to be a nontrivial exercise.

To begin, we need to define types that represent products over arbitrary (non-indexed) families such as \ab ğ’¦ or \af S(\ab ğ’¦). Observe that \ad Î ~\ab ğ’¦ is certainly not what we want.  For recall that \af{Pred}(\ab{Algebra}~\ab ğ“¤~\ab ğ‘†)~\ab ğ“¦ is just an alias for the function type \af{Algebra}~\ab ğ“¤~\ab ğ‘†~\as â†’~\ab ğ“¦\af Ì‡, and the semantics of the latter takes \ab ğ’¦~\ab ğ‘¨ to mean that \ab ğ‘¨ belongs to the class \ab ğ’¦. Therefore, by definition\\[-10pt]

% \vskip-5mm
% \begin{align*}
% \ad Î ~\ab ğ’¦ &= \ad Î ~\ab ğ‘¨~\af ê‰~(\af{Algebra}~\ab ğ“¤~\ab ğ‘†)~,~\ab ğ’¦ ğ‘¨\\
%              &= \ad Î ~\ab ğ‘¨~\af ê‰~(\af{Algebra}~\ab ğ“¤~\ab ğ‘†)~,~\ab ğ‘¨~\af âˆˆ~\ab ğ’¦.
% \end{align*}
\ad Î ~\ab ğ’¦ \hskip1mm = \hskip1mm \ad Î ~\ab ğ‘¨~\af ê‰~(\af{Algebra}~\ab ğ“¤~\ab ğ‘†)~,~\ab ğ’¦ ğ‘¨
             \hskip1mm = \hskip1mm \as âˆ€ (\ab ğ‘¨~\as :~\af{Algebra}~\ab ğ“¤~\ab ğ‘†)~\as â†’~\ab ğ‘¨~\af âˆˆ~\ab ğ’¦,\\[4pt]
which denotes the assertion that every inhabitant of the type \af{Algebra} \ab ğ“¤ \ab ğ‘† belongs to \ab ğ’¦. .  Evidently this is not the product algebra that we seek.

What we need is a type that serves to index the class \ab ğ’¦, and a function \af ğ”„ that maps an index to the inhabitant of \ab ğ’¦ at that index. But \ab ğ’¦ is a predicate (of type (\af{Algebra}~\ab ğ“¤~\ab ğ‘†)~\as â†’~\ab ğ“¦\af Ì‡) and the type \af{Algebra}~\ab ğ“¤~\ab ğ‘† seems rather nebulous in that there is no natural indexing class with which to ``enumerate'' all inhabitants of \af{Algebra}~\ab ğ“¤~\ab ğ‘† that belong to \ab ğ’¦.\footnote{%
If you haven't seen this before, give it some thought and see if the correct type comes to you organically.}


The solution is to essentially take \ab ğ’¦ itself to be the index type; at least heuristically that is how one can think of the type \af â„‘ that we now define.\footnote{\textbf{Unicode Hints}. Some of our types are denoted with Gothic (``mathfrak'') symbols. To produce them in \agdamode, type \texttt{\textbackslash{}Mf} followed by a letter. For example, \texttt{\textbackslash{}MfI} â† \af â„‘.}
\ccpad
\begin{code}%
% \>[0]\AgdaKeyword{module}\AgdaSpace{}%
% \AgdaModule{class-products}\AgdaSpace{}%
% \AgdaSymbol{\{}\AgdaBound{ğ“¤}\AgdaSpace{}%
% \AgdaSymbol{:}\AgdaSpace{}%
% \AgdaPostulate{Universe}\AgdaSymbol{\}}\AgdaSpace{}%
% \AgdaSymbol{(}\AgdaBound{ğ’¦}\AgdaSpace{}%
% \AgdaSymbol{:}\AgdaSpace{}%
% \AgdaFunction{Pred}\AgdaSpace{}%
% \AgdaSymbol{(}\AgdaFunction{Algebra}\AgdaSpace{}%
% \AgdaBound{ğ“¤}\AgdaSpace{}%
% \AgdaBound{ğ‘†}\AgdaSymbol{)(}\AgdaFunction{ov}\AgdaSpace{}%
% \AgdaBound{ğ“¤}\AgdaSymbol{))}\AgdaSpace{}%
% \AgdaKeyword{where}\<%
% \\
% %
% \\[\AgdaEmptyExtraSkip]%
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[1]\AgdaFunction{â„‘}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{ov}\AgdaSpace{}%
\AgdaBound{ğ“¤}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Ì‡}}\<%
\\
%
\>[1]\AgdaFunction{â„‘}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{Î£}\AgdaSpace{}%
\AgdaBound{ğ‘¨}\AgdaSpace{}%
\AgdaFunction{ê‰}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Algebra}\AgdaSpace{}%
\AgdaBound{ğ“¤}\AgdaSpace{}%
\AgdaBound{ğ‘†}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaFunction{,}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ğ‘¨}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{âˆˆ}}\AgdaSpace{}%
\AgdaBound{ğ’¦}\AgdaSymbol{)}\<%
\end{code}
\ccpad
Taking the product over the index type \af â„‘ requires a function that maps an index \abt{i}{â„‘} to the corresponding algebra.  Each \abt{i}{â„‘} denotes a pair, (\ab ğ‘¨ , \ab p), where \ab ğ‘¨ is an algebra and \ab p is a proof that \ab ğ‘¨ belongs to \ab ğ’¦, so the function mapping such an index to the corresponding algebra is simply the first projection.
\ccpad
\begin{code}
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[1]\AgdaFunction{ğ”„}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{â„‘}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaFunction{Algebra}\AgdaSpace{}%
\AgdaBound{ğ“¤}\AgdaSpace{}%
\AgdaBound{ğ‘†}\<%
\\
%
\>[1]\AgdaFunction{ğ”„}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{Î»}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{i}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{â„‘}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{â†’}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{âˆ£}}\AgdaSpace{}%
\AgdaBound{i}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{âˆ£}}\<%
\end{code}
\ccpad
Finally, we represent the product of all members of the class \ab ğ’¦ by the following type.
\ccpad
\begin{code}%
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[1]\AgdaFunction{class-product}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Algebra}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{ov}\AgdaSpace{}%
\AgdaBound{ğ“¤}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{ğ‘†}\<%
\\
%
\>[1]\AgdaFunction{class-product}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{â¨…}\AgdaSpace{}%
\AgdaFunction{ğ”„}\<%
\end{code}
\ccpad
Observe that the application % \af ğ”„ (\ab ğ‘¨ , \ab p) 
of \af ğ”„ to the pair (\ab ğ‘¨ , \ab p) (the result of which is simply the algebra \ab{ğ‘¨}) may be viewed as the projection out of the product \af â¨…~\af ğ”„ and onto the ``(\ab ğ‘¨,~\ab p)-th component'' of that product.

