% ---------------------------------------------------------
% Some useful commands for typesetting articles with LaTeX.
% ---------------------------------------------------------

\ProvidesPackage{wjd}

%% \requirepackage[utf8x]{inputenc}
%% \requirepackage[mathletters,autogenerated]{ucs}

\RequirePackage[yyyymmdd]{datetime}
\newdateformat{mydate}{%
\THEDAY\ \shortmonthname[\THEMONTH] \THEYEAR}
\renewcommand{\dateseparator}{.}

\usepackage{hyperref}


\RequirePackage{relsize}
\RequirePackage{fancyhdr}
\RequirePackage{xspace,graphicx}
\newcommand\sbullet[1][.5]{\mathbin{\vcenter{\hbox{\scalebox{#1}{$\bullet$}}}}}
%% use like this: \sbullet A, or \sbullet[.75] A

%% \RequirePackage{ifxetex, ifluatex, xifthen, xcolor, polytable, etoolbox, calc, environ, xparse, xkeyval}

%% Culprit!
%% \\[\AgdaEmptyExtraSkip]%
\newcommand\cpad{-6pt}
\newcommand\ccpad{\\[-6pt]}
\newcommand\scpad{\\[-14pt]}
% ----------------------------------------------------------------------
% Options
%% \DeclareOption{bw}   {\newcommand{\AgdaColourScheme}{bw}}
%% ---------------------------------------------------------------------------
%% for compatibility with latex code generated by pandoc from markdown files
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\newenvironment{Shaded}{}{}
\newenvironment{Highlighting}[1][]{}{}
\providecommand{\PreprocessorTok}[1]{%
  \{-\# OPTIONS --without-K --exact-split --allow-unsolved-metas \#-\}}
\newcommand\defn[1]{\textit{#1}}
\newcommand\agdaualib{\href{https://ualib.gitlab.io}{\relsize{-1}AgdaUALib}\xspace}
\newcommand\ualibhtmldocs{\href{https://ualib.gitlab.io}{UALib html docs}\xspace}
\newcommand\ualibdoc{\href{https://ualib.gitlab.io}{UALib documentation}\xspace}
\newcommand\ualib{\href{https://ualib.gitlab.io}{\relsize{-1}UALib}\xspace}
\newcommand\httpsualibdotorg{\url{https://ualib.gitlab.io}\xspace}
\newcommand\ualibdotorg{\href{https://ualib.gitlab.io}{\texttt{ualib.org}}\xspace}
\newcommand\seedocfordetails{(See~\cite{DeMeo:2021} or \ualibdotorg for details.)\xspace}

%% \newcommand\ualibdocs{\href{https://ualib.gitlab.io}{https://ualib.gitlab.io}\xspace}
\newcommand\ualibrepo{\href{https://gitlab.com/ualib/ualib.gitlab.io}{\texttt{https://gitlab.com/ualib}}\xspace}
\newcommand\ualibsrc{\href{https://gitlab.com/ualib/ualib.gitlab.io}{\texttt{gitlab.com/ualib}}\xspace}
\newcommand\TypeTopology{\href{https://github.com/martinescardo/TypeTopology}{Type Topology}\xspace}
\newcommand\typetopology{\href{https://github.com/martinescardo/TypeTopology}{Type Topology}\xspace}
\newcommand\ufcourse{\href{https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/index.html}{Introduction to Univalent Foundations of Mathematics with Agda}\xspace}
\newcommand\MGSnineteen{\href{http://events.cs.bham.ac.uk/mgs2019/}{MGS 2019}\xspace}

%% macros for module links %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand\am[1]{\AgdaModule{#1}}
\newcommand\universes{\href{https://ualib.gitlab.io/universes.html}{universes}\xspace}
\newcommand\universeshtml{\href{https://ualib.gitlab.io/universes.html}{universes.html}\xspace}

\newcommand\ualibPreface{\href{https://ualib.gitlab.io/Preface.html}{\am{Preface}}\xspace}

% -- Prelude
\newcommand\ualibPrelude       {\href{https://ualib.gitlab.io/Prelude.html}               {\am{Prelude}}\xspace}
\newcommand\ualibPreliminaries {\href{https://ualib.gitlab.io/Prelude.Preliminaries.html} {\am{Prelude.Preliminaries}}\xspace}
\newcommand\ualibEquality      {\href{https://ualib.gitlab.io/Prelude.Equality.html}      {\am{Prelude.Equality}}\xspace}
\newcommand\ualibInverses      {\href{https://ualib.gitlab.io/Prelude.Inverses.html}      {\am{Prelude.Inverses}}\xspace}
\newcommand\ualibExtensionality{\href{https://ualib.gitlab.io/Prelude.Extensionality.html}{\am{Prelude.Extensionality}}\xspace}
\newcommand\ualibLifts         {\href{https://ualib.gitlab.io/Prelude.Lifts.html}         {\am{Prelude.Lifts}}\xspace}

% -- Relations
\newcommand\ualibRelations {\href{https://ualib.gitlab.io/Relations.html}           {\am{Relations}}\xspace}
\newcommand\ualibDiscrete  {\href{https://ualib.gitlab.io/Relations.Discrete.html}  {\am{Relations.Discrete}}\xspace}
\newcommand\ualibContinuous{\href{https://ualib.gitlab.io/Relations.Continuous.html}{\am{Relations.Continuous}}\xspace}
\newcommand\ualibQuotients {\href{https://ualib.gitlab.io/Relations.Quotients.html} {\am{Relations.Quotients}}\xspace}
\newcommand\ualibTruncation{\href{https://ualib.gitlab.io/Relations.Truncation.html}{\am{Relations.Truncation}}\xspace}

\newcommand\ualibhtml[1]{\href{https://ualib.gitlab.io/#1.html}{\am{#1}}\xspace}

% -- Algebras
\newcommand\gitAlgebras{\href{https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/UALib/Algebras.lagda}{\texttt{Algebras.lagda}}}

\newcommand\ualibAlgebras{\ualibhtml{Algebras}}
\newcommand\ualibSignatures {\ualibhtml{Algebras.Signatures}}
\newcommand\ualibAlgAlgebras{\ualibhtml{Algebras.Algebras}}
\newcommand\ualibProducts{\ualibhtml{Algebras.Products}}
\newcommand\ualibCongruences{\ualibhtml{Algebras.Congruences}}

% -- Homomorphisms
\newcommand\ualibHomomorphisms{\ualibhtml{Homomorphisms}}
\newcommand\ualibHomBasic         {\ualibhtml{Homomorphisms.Basic}}
\newcommand\ualibNoether          {\ualibhtml{Homomorphisms.Noether}}
\newcommand\ualibIsomorphisms     {\ualibhtml{Homomorphisms.Isomorphisms}}
\newcommand\ualibHomomorphicImages{\ualibhtml{Homomorphisms.HomomorphicImages}}

% - Terms
\newcommand\ualibTerms      {\ualibhtml{Terms}}
\newcommand\ualibTermsBasic {\ualibhtml{Terms.Basic}}
\newcommand\ualibOperations {\ualibhtml{Terms.Operations}}

% -- Subalgebras
\newcommand\ualibSubalgebras    {\ualibhtml{Subalgebras}}
\newcommand\ualibSubuniverses   {\ualibhtml{Subalgebras.Subuniverses}}
\newcommand\ualibSubSubalgebras {\ualibhtml{Subalgebras.Subalgebras}}
\newcommand\ualibUnivalent      {\ualibhtml{Subalgebras.Univalent}}

% -- Varieties
\newcommand\ualibVarieties      {\ualibhtml{Varieties}}
\newcommand\ualibEquationalLogic{\ualibhtml{Varieties.EquationalLogic}}
\newcommand\ualibVarVarieties   {\ualibhtml{Varieties.Varieties}}
\newcommand\ualibPreservation   {\ualibhtml{Varieties.Preservation}}
\newcommand\ualibFreeAlgebras   {\ualibhtml{Varieties.FreeAlgebras}}


%% visible URLS

\newcommand\urlPrelude       {\url{https://ualib.gitlab.io/Prelude.html}\xspace}
\newcommand\urlPreliminaries {\url{https://ualib.gitlab.io/Prelude.Preliminaries.html}\xspace}
\newcommand\urlEquality      {\url{https://ualib.gitlab.io/Prelude.Equality.html}\xspace}
\newcommand\urlInverses      {\url{https://ualib.gitlab.io/Prelude.Inverses.html}\xspace}
\newcommand\urlExtensionality{\url{https://ualib.gitlab.io/Prelude.Extensionality.html}\xspace}
\newcommand\urlLifts         {\url{https://ualib.gitlab.io/Prelude.Lifts.html}\xspace}

% -- Relations
\newcommand\urlRelations   {\url{https://ualib.gitlab.io/Relations.html}\xspace}
\newcommand\urlDiscrete    {\url{https://ualib.gitlab.io/Relations.Discrete.html}\xspace}
\newcommand\urlContinuous  {\url{https://ualib.gitlab.io/Relations.Continuous.html}\xspace}
\newcommand\urlQuotients   {\url{https://ualib.gitlab.io/Relations.Quotients.html}\xspace}
\newcommand\urlTruncation  {\url{https://ualib.gitlab.io/Relations.Truncation.html}\xspace}

% -- Algebras
\newcommand\urlAlgebras   {\url{https://ualib.gitlab.io/Algebras.html}\xspace}
\newcommand\urlSignatures {\url{https://ualib.gitlab.io/Algebras.Signatures.html}\xspace}
\newcommand\urlAlgAlgebras{\url{https://ualib.gitlab.io/Algebras.Algebras.html}\xspace}
\newcommand\urlProducts{\url{https://ualib.gitlab.io/Algebras.Products.html}\xspace}
\newcommand\urlCongruences{\url{https://ualib.gitlab.io/Algebras.Congruences.html}\xspace}

% -- Homomorphisms
\newcommand\urlHomomorphisms    {\url{https://ualib.gitlab.io/Homomorphisms.html}\xspace}
\newcommand\urlHomBasic         {\url{https://ualib.gitlab.io/Homomorphisms.Basic.html}\xspace}
\newcommand\urlNoether          {\url{https://ualib.gitlab.io/Homomorphisms.Noether.html}\xspace}
\newcommand\urlIsomorphisms     {\url{https://ualib.gitlab.io/Homomorphisms.Isomorphisms.html}\xspace}
\newcommand\urlHomomorphicImages{\url{https://ualib.gitlab.io/Homomorphisms.HomomorphicImages.html}\xspace}

% - Terms
\newcommand\urlTerms           {\url{https://ualib.gitlab.io/Terms.html}\xspace}
\newcommand\urlTermsBasic      {\url{https://ualib.gitlab.io/Terms.Basic.html}\xspace}
\newcommand\urlOperations {\url{https://ualib.gitlab.io/Terms.Operations.html}\xspace}

% -- Subalgebras
\newcommand\urlSubalgebras    {\url{https://ualib.gitlab.io/Subalgebras.html}\xspace}
\newcommand\urlSubuniverses   {\url{https://ualib.gitlab.io/Subalgebras.Subuniverses.html}\xspace}
\newcommand\urlSubSubalgebras {\url{https://ualib.gitlab.io/Subalgebras.Subalgebras.html}\xspace}
\newcommand\urlUnivalent      {\url{https://ualib.gitlab.io/Subalgebras.Univalent.html}\xspace}

% -- Varieties
\newcommand\urlVarieties      {\url{https://ualib.gitlab.io/Varieties.html}\xspace}
\newcommand\urlEquationalLogic{\url{https://ualib.gitlab.io/Varieties.EquationalLogic.html}\xspace}
\newcommand\urlVarVarieties   {\url{https://ualib.gitlab.io/Varieties.Varieties.html}\xspace}
\newcommand\urlPreservation   {\url{https://ualib.gitlab.io/Varieties.Preservation.html}\xspace}
\newcommand\urlFreeAlgebras   {\url{https://ualib.gitlab.io/Varieties.FreeAlgebras.html}\xspace}





%% %% for backward compatibility with old module names:
\newcommand\preludemodule{\ualibPrelude}
\newcommand\basicmodule{\ualibAlgebras}
\newcommand\congruencesmodule{\ualibRelations}
\newcommand\homomorphismsmodule{\ualibHomomorphisms}
\newcommand\termsmodule{\ualibTerms}
\newcommand\subuniversesmodule{\ualibSubalgebras}
\newcommand\closuremodule{\ualibVarieties}
\newcommand\birkhoffmodule{\ualibBirkhoff}

\newcommand{\agda}{\href{https://wiki.portal.chalmers.se/agda/pmwiki.php}{Agda}\xspace}

\newcommand{\escardo}{\href{https://www.cs.bham.ac.uk/~mhe/}{Escard\'o}\xspace}
\newcommand{\MartinEscardo}{\href{https://www.cs.bham.ac.uk/~mhe/}{Mart\'in Escard\'o}\xspace}
\newcommand{\mhe}{\href{https://www.cs.bham.ac.uk/~mhe/}{MHE}\xspace}
\newcommand{\MHE}{\href{https://www.cs.bham.ac.uk/~mhe/}{Mart\'in HÃ¶tzel Escard\'o}\xspace}
\newcommand{\mltt}{\href{https://ncatlab.org/nlab/show/Martin-L\%C3\%B6f+dependent+type+theory}{MLTT}\xspace}
\newcommand{\MLTT}{\href{https://ncatlab.org/nlab/show/Martin-L\%C3\%B6f+dependent+type+theory}{Martin-LÃ¶f Type Theory}\xspace}
\newcommand{\AgdaStandardLibrary}{\href{https://agda.github.io/agda-stdlib/}{Agda Standard Library}\xspace}
\newcommand{\agdastdlib}{\href{https://agda.github.io/agda-stdlib/}{Agda Standard Library}\xspace}
\newcommand{\axiomk}{\href{https://ncatlab.org/nlab/show/axiom+K+\%28type+theory\%29}{Streicher's K axiom}\xspace}
\newcommand{\agdarefk}{\href{https://agda.readthedocs.io/en/v2.6.1/language/without-k.html}{Axiom K}\xspace}
\newcommand{\agdaref}{\href{https://agda.readthedocs.io/en/v2.6.1/language}{Agda Language Reference}\xspace}
\newcommand\agdartd{\href{https://agda.readthedocs.io/}{agda.readthedocs.io}}

%% \newcommand{\patternmatching}{\href{https://agda.readthedocs.io/en/v2.6.1/tools/command-line-options.html#pattern-matching-and-equality}{Pattern matching and equality}\xspace}
\newcommand{\agdatools}{\href{https://agda.readthedocs.io/en/v2.6.1/tools/}{Agda Tools}\xspace}
\newcommand{\agdamode}{\href{https://agda.readthedocs.io/en/v2.6.0.1/tools/emacs-mode.html}{agda2-mode}\xspace}
\newcommand{\agdatwomode}{\href{https://agda.readthedocs.io/en/v2.6.0.1/tools/emacs-mode.html}{agda2-mode}\xspace}
\newcommand{\hottbook}{\href{https://homotopytypetheory.org/book/}{HoTT book}\xspace}

\newcommand\sP[1]{\hskip#1pt}

%% Agda and pandoc macros and fixes
\newcommand\signatureOV{\AgdaFunction{Signature}\AgdaSpace{}\AgdaBound{ð“ž}\AgdaSpace{}\AgdaBound{ð“¥}\xspace}
\newcommand\algebraUS{\AgdaFunction{Algebra}\AgdaSpace{}\AgdaBound{ð“¤}\AgdaSpace{}\AgdaBound{ð‘†}\xspace}
\newcommand\algebraOVUS{\AgdaFunction{Algebra}\AgdaSpace{}\AgdaBound{ð“¤}\AgdaSpace{}\AgdaSymbol{\{}\AgdaBound{ð“ž}\AgdaSymbol{\}\{}\AgdaBound{ð“¥}\AgdaSymbol{\}}\AgdaSpace{}\AgdaBound{ð‘†}}

\newcommand{\AgdaTyped}[2]{\AgdaBound{#1}\AgdaSpace{}\AgdaSymbol{:}\AgdaSpace{}\AgdaBound{#2}\xspace}
\newcommand{\AgdaComma}{\AgdaSpace{}\AgdaInductiveConstructor{,}\AgdaSpace{}}

%% \newcommand\asp{\AgdaSpace{}}
\newcommand\ab[1]{\AgdaBound{#1}}
\newcommand\ag[1]{\AgdaGeneralizable{#1}}
%% \newcommand\af[1]{\AgdaFunction{#1}}
%% \newcommand{\alg}[1]{\ensuremath{\mathbf{#1}}}  % algebraic structures
%% \newcommand{\var}[1]{\ensuremath{\mathscr{#1}}}  % algebraic structures
\newcommand\ac{\AgdaComma}
\newcommand\ak{\AgdaKeyword}
\newcommand\as[1]{\AgdaSymbol{#1}}
\newcommand\au{\AgdaUnderscore}
\newcommand\aic[1]{\AgdaInductiveConstructor{#1}}
\newcommand\af[1]{\AgdaFunction{#1}}
\newcommand\afld[1]{\AgdaField{#1}}
\newcommand\ar[1]{\AgdaRecord{#1}}
\newcommand\aof[1]{\AgdaOperator{\AgdaFunction{#1}}}
\newcommand\ad[1]{\AgdaDatatype{#1}}
\newcommand\aod[1]{\AgdaOperator{\AgdaDatatype{#1}}}
\newcommand\aop[1]{\AgdaOperator{\AgdaPrimitive{#1}}}
\newcommand\ap[1]{\AgdaPostulate{#1}}
\newcommand\ai[1]{\AgdaOperator{\AgdaFunction{#1\AgdaUnderscore{}#1}}}
\newcommand\aiab[2]{\AgdaOperator{\AgdaFunction{#1}}\AgdaSpace{}\AgdaBound{#2}\AgdaSpace{}\AgdaOperator{\AgdaFunction{#1}}}
\newcommand\aia[2]{\AgdaOperator{\AgdaFunction{#1}}\AgdaSpace{}{#2}\AgdaSpace{}\AgdaOperator{\AgdaFunction{#1}}}
\newcommand\Mac{\ensuremath{\mathrel{\AgdaComma}}}
\newcommand\Mas[1]{\ensuremath{\mathrel{\AgdaSymbol{#1}}}}
\newcommand\Mad[1]{\ensuremath{\mathrel{\AgdaDatatype{#1}}}}
\newcommand\Maod[1]{\ensuremath{\mathrel{\AgdaOperator{\AgdaDatatype{#1}}}}}
\newcommand\Maf[1]{\ensuremath{\mathrel{\AgdaFunction{#1}}}}
\newcommand\Maof[1]{\ensuremath{\mathrel{\AgdaOperator{\AgdaFunction{#1}}}}}

\newcommand\abt[2]{\ab{#1}~\as :~\ab{#2}}


\newcommand\KeywordTok[1]{\AgdaKeyword{#1}}
\newcommand\OtherTok[1]{\AgdaSymbol{#1}}
%% \newcommand\NormalTok[1]{\AgdaSymbol{#1}}
\newcommand\DataTypeTok[1]{\AgdaDatatype{#1}}
%% \newcommand\lzero{\AgdaKeyword{lzero}\AgdaSpace{}}
\newcommand\lzero{\AgdaKeyword{lzero}\xspace}
\newcommand\lsuc{\AgdaKeyword{lsuc}\xspace}
%% \newcommand\lsuc{\AgdaKeyword{lsuc}\AgdaSpace{}}
\newcommand\NormalTok[1]{\AgdaCatchallClause{#1}}
\newcommand\CommentTok[1]{\AgdaComment{#1}}
\newcommand\DecValTok[1]{\AgdaNumber{#1}}
\newcommand\Set{\AgdaFunction{Set}\xspace}
\usepackage{ifthen}



\newcommand\AgdaTab[1]{\>[.][@{}l@{}]\<[#1I]}

% Insert extra space before some tokens.
\DeclareRobustCommand{\OtherTok}[1]{%
  \ifthenelse{ \equal{#1}{â†’} }{\ensuremath{\rightarrow}}{
  \ifthenelse{ \equal{#1}{_} }{\AgdaUnderscore}{#1}}
}
\newcommand\deq{\ensuremath{\doteq}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% COPYRIGHT FOOTER

\renewcommand{\headrulewidth}{0pt}
%
\newcommand\copyrightfooter{
\fancypagestyle{plain}{%
   \fancyhf{} 
   \fancyfoot[L]{%
     \vskip1mm
     \protect{%
       \begin{minipage}{0.1\textwidth}
         \includegraphics[width=\textwidth]{../by-sa.png}
       \end{minipage}
       \begin{minipage}{0.85\textwidth}
         \linespread{0.9}\selectfont
         {\footnotesize This work and the Agda Universal Algebra Library by \href{https://williamdemeo.gitlab.io}{William DeMeo} is licensed under a \href{http://creativecommons.org/licenses/by-sa/4.0/}{Creative Commons Attribution-ShareAlike 4.0 International License}.}
       \end{minipage}
            \vskip2mm
       \begin{minipage}{0.1\textwidth}
         \includegraphics[height=20pt,clip]{../stereotypeb-avatar.png}\ \includegraphics[height=18pt,clip]{../lambda.jpg}
       \end{minipage}
       \begin{minipage}{0.8\textwidth}
         {\footnotesize \textcopyright\ 2021 \href{https://williamdemeo.gitlab.io}{William DeMeo}. Based on work at \href{https://gitlab.com/ualib/ualib.gitlab.io}{https://gitlab.com/ualib/ualib.gitlab.io}.\\
Compiled with \texttt{xelatex} on \mydate\today\ at \currenttime.
}
       \end{minipage}}
   \renewcommand{\headrulewidth}{0pt}
}}
}
