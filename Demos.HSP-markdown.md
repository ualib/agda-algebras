---
layout: default
title : "Demos.HSP-markdown module (Agda Universal Algebra Library)"
date : "2021-10-24"
author: "agda-algebras development team"
---

## <a id="introduction">Introduction</a>
The Agda Universal Algebra Library ([agda-algebras][]) is a collection of types and programs
(theorems and proofs) formalizing the foundations of universal algebra in dependent type
theory using the [Agda][] programming language and proof assistant.
The agda-algebras library now includes a substantial collection of definitions, theorems, and
proofs from universal algebra and equational logic and as such provides many
examples that exhibit the power of inductive and dependent types for
representing and reasoning about general algebraic and relational structures.

The first major milestone of the [agda-algebras][] project is a new formal
proof of *Birkhoff's variety theorem* (also known as the *HSP theorem*), the first version
of which was completed in [January of 2021](https://github.com/ualib/ualib.github.io/blob/b968e8af1117fc77700d3a588746cbefbd464835/sandbox/birkhoff-exp-new-new.lagda).
To the best of our knowledge, this was the first time Birkhoff's theorem had
been formulated and proved in dependent type theory and verified with a proof
assistant.

In this paper, we present a single Agda module called [Demos.HSP][].
This module extracts only those parts of the library needed to prove
Birkhoff's variety theorem. In order to meet page limit guidelines, and to
reduce strain on the reader, we omit proofs of some routine or technical
lemmas that do not provide much insight into the overall development.
However, a long version of this paper, which includes all code in the
[Demos.HSP][] module, is available on the arXiv. [reference needed]

In the course of our exposition of the proof of the HSP theorem, we discuss some of the
more challenging aspects of formalizing *universal algebra* in type theory and the
issues that arise when attempting to constructively prove some of the basic
results in this area.  We demonstrate that dependent type theory and Agda,
despite the demands they place on the user, are accessible to working
mathematicians who have sufficient patience and a strong enough desire to
constructively codify their work and formally verify the correctness of their
results.  Perhpas our presentation will be viewed as a sobering glimpse of the
painstaking process of doing mathematics in the languages of dependent type theory
using the Agda proof assistant. Nonetheless we hope to make a compelling case for
investing in these technologies. Indeed, we are excited to share the gratifying
rewards that come with some mastery of type theory and interactive theorem proving.

### Prior art
There have been a number of efforts to formalize parts of universal algebra in
type theory prior to ours, most notably

1. Capretta [@Capretta:1999] (1999) formalized the basics of universal algebra in the
   Calculus of Inductive Constructions using the Coq proof assistant;
2. Spitters and van der Weegen [@Spitters:2011] (2011) formalized the basics of universal algebra
   and some classical algebraic structures, also in the Calculus of Inductive Constructions using
   the Coq proof assistant, promoting the use of type classes;
3. Gunther, et al [@Gunther:2018] (2018) developed what seems to be (prior to the [agda-algebras][] library)
   the most extensive library of formal universal algebra to date; this work is based on dependent type
   theory and programmed in Agda; it treats multisorted algebras and goes beyond the basic Noether
   isomorphism theorems to include some basic equational logic.
4. Lynge and Spitters [@Lynge:2019] (2019) formalize basic, mutisorted universal algebra, up to the
   Noether isomorphism theorems, in homotopy type theory; in this setting, the authors can avoid using
   setoids by postulating a strong extensionality axiom called univalence.

Some other projects aimed at formalizing mathematics generally, and algebra in particular, have developed into very extensive libraries that include definitions, theorems, and proofs about algebraic structures, such as groups, rings, modules, etc.  However, the goals of these efforts seem to be the formalization of special classical algebraic structures, as opposed to the general theory of (universal) algebras. Moreover, the part of universal algebra and equational logic formalized in the [agda-algebras][] library extends beyond the scope of prior efforts.

<!-- After completing the formal proof in \agda, we learned about a constructive version of Birkhoff's theorem proved by Carlstr\"om in~\cite{Carlstrom:2008}.  The latter is presented in the informal style of standard mathematical writing, and as far as we know it was never formalized in type theory and type-checked with a proof assistant. Nonetheless, a comparison of Carlstr\"om's proof and the \ualib proof would be interesting.
-->




<!-- ----------------------------------------------------------------------------------- -->

## <a id="preliminaries">Preliminaries</a>

### <a id="logical-foundations">Logical foundations</a>

An Agda program typically begins by setting some language options and by
importing types from existing Agda libraries. The language options are specified
using the `OPTIONS` *pragma* which affect control the way Agda behaves by controlling
the deduction rules that are available to us and the logical axioms 
that are assumed when the program is type-checked by Agda to verify its
correctness. Every Agda program in the [agda-algebras](https://github.com/ualib/agda-algebras)
library, including the present module ([Demos.HSP][]), begins with the following line.

<pre class="Agda">

<a id="5698" class="Symbol">{-#</a> <a id="5702" class="Keyword">OPTIONS</a> <a id="5710" class="Pragma">--without-K</a> <a id="5722" class="Pragma">--exact-split</a> <a id="5736" class="Pragma">--safe</a> <a id="5743" class="Symbol">#-}</a>

</pre>

We will provide only very terse descriptions of these options, but we also give links to more details about them.

* `without-K` disables [Streicher's K axiom](https://ncatlab.org/nlab/show/axiom+K+%28type+theory%29) ; see also the [section on axiom K](https://agda.readthedocs.io/en/v2.6.1/language/without-k.html) in the [Agda Language Reference Manual](https://agda.readthedocs.io/en/v2.6.1.3/language).

* `exact-split` makes Agda accept only those definitions that behave like so-called *judgmental* equalities. See also the [Pattern matching and equality section](https://agda.readthedocs.io/en/v2.6.1/tools/command-line-options.html#pattern-matching-and-equality) of the [Agda Tools](https://agda.readthedocs.io/en/v2.6.1.3/tools/) documentation.

* `safe` ensures that nothing is postulated outright---every non-MLTT axiom has to be an explicit assumption (e.g., an argument to a function or module); see also [this section](https://agda.readthedocs.io/en/v2.6.1/tools/command-line-options.html#cmdoption-safe) of the [Agda Tools](https://agda.readthedocs.io/en/v2.6.1.3/tools/) documentation and the [Safe Agda section](https://agda.readthedocs.io/en/v2.6.1/language/safe-agda.html#safe-agda) of the [Agda Language Reference](https://agda.readthedocs.io/en/v2.6.1.3/language).


<!--
### <a id="agda-modules">Agda Modules</a>
-->

The \AgdaKeyword{OPTIONS} pragma is usually followed by the start of a module and a list of `import` directives.
We won't reproduce all of the imports we use here. Rather we show only those imports that rename objects from the standard library to our own notation which might be less standard.

<pre class="Agda">
<a id="7414" class="Symbol">{-#</a> <a id="7418" class="Keyword">OPTIONS</a> <a id="7426" class="Pragma">--without-K</a> <a id="7438" class="Pragma">--exact-split</a> <a id="7452" class="Pragma">--safe</a> <a id="7459" class="Symbol">#-}</a>
<a id="7463" class="Keyword">open</a> <a id="7468" class="Keyword">import</a> <a id="7475" href="Base.Algebras.Basic.html" class="Module">Base.Algebras.Basic</a> <a id="7495" class="Keyword">using</a> <a id="7501" class="Symbol">(</a> <a id="7503" href="Base.Algebras.Basic.html#1162" class="Generalizable">ğ“</a> <a id="7505" class="Symbol">;</a> <a id="7507" href="Base.Algebras.Basic.html#1164" class="Generalizable">ğ“¥</a> <a id="7509" class="Symbol">;</a> <a id="7511" href="Base.Algebras.Basic.html#3890" class="Function">Signature</a> <a id="7521" class="Symbol">)</a>
<a id="7523" class="Keyword">module</a> <a id="7530" href="Demos.HSP-markdown.html" class="Module">Demos.HSP-markdown</a> <a id="7549" class="Symbol">{</a><a id="7550" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="7552" class="Symbol">:</a> <a id="7554" href="Base.Algebras.Basic.html#3890" class="Function">Signature</a> <a id="7564" href="Base.Algebras.Basic.html#1162" class="Generalizable">ğ“</a> <a id="7566" href="Base.Algebras.Basic.html#1164" class="Generalizable">ğ“¥</a><a id="7567" class="Symbol">}</a> <a id="7569" class="Keyword">where</a>
</pre>
<pre class="Agda">

<a id="7600" class="Keyword">open</a> <a id="7605" class="Keyword">import</a> <a id="7612" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>  <a id="7628" class="Keyword">using</a> <a id="7634" class="Symbol">(</a><a id="7635" href="Agda.Primitive.html#810" class="Primitive Operator">_âŠ”_</a> <a id="7639" class="Symbol">;</a> <a id="7641" href="Agda.Primitive.html#780" class="Primitive">lsuc</a><a id="7645" class="Symbol">)</a> <a id="7647" class="Keyword">renaming</a> <a id="7656" class="Symbol">(</a><a id="7657" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="7661" class="Symbol">to</a> <a id="7664" class="Primitive">Type</a><a id="7668" class="Symbol">)</a>
<a id="7670" class="Keyword">open</a> <a id="7675" class="Keyword">import</a> <a id="7682" href="Data.Product.html" class="Module">Data.Product</a>    <a id="7698" class="Keyword">using</a> <a id="7704" class="Symbol">(</a><a id="7705" href="Data.Product.html#916" class="Function">Î£-syntax</a> <a id="7714" class="Symbol">;</a> <a id="7716" href="Data.Product.html#1167" class="Function Operator">_Ã—_</a> <a id="7720" class="Symbol">;</a> <a id="7722" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="7726" class="Symbol">;</a> <a id="7728" href="Agda.Builtin.Sigma.html#166" class="Record">Î£</a><a id="7729" class="Symbol">)</a> <a id="7731" class="Keyword">renaming</a> <a id="7740" class="Symbol">(</a><a id="7741" href="Agda.Builtin.Sigma.html#252" class="Field">projâ‚</a> <a id="7747" class="Symbol">to</a> <a id="7750" class="Field">fst</a> <a id="7754" class="Symbol">;</a> <a id="7756" href="Agda.Builtin.Sigma.html#264" class="Field">projâ‚‚</a> <a id="7762" class="Symbol">to</a> <a id="7765" class="Field">snd</a><a id="7768" class="Symbol">)</a>
<a id="7770" class="Keyword">open</a> <a id="7775" class="Keyword">import</a> <a id="7782" href="Function.html" class="Module">Function</a>        <a id="7798" class="Keyword">using</a> <a id="7804" class="Symbol">(</a><a id="7805" href="Function.Base.html#615" class="Function">id</a> <a id="7808" class="Symbol">;</a> <a id="7810" href="Function.Base.html#1031" class="Function Operator">_âˆ˜_</a> <a id="7814" class="Symbol">;</a> <a id="7816" href="Function.Base.html#1554" class="Function">flip</a> <a id="7821" class="Symbol">;</a> <a id="7823" href="Function.Bundles.html#2240" class="Record">Injection</a> <a id="7833" class="Symbol">;</a> <a id="7835" href="Function.Bundles.html#2677" class="Record">Surjection</a><a id="7845" class="Symbol">)</a> <a id="7847" class="Keyword">renaming</a> <a id="7856" class="Symbol">(</a><a id="7857" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="7862" class="Symbol">to</a> <a id="7865" class="Record">_âŸ¶_</a><a id="7868" class="Symbol">)</a>
<a id="7870" class="Keyword">open</a> <a id="7875" href="Demos.HSP-markdown.html#7865" class="Module">_âŸ¶_</a>                    <a id="7898" class="Keyword">using</a> <a id="7904" class="Symbol">(</a><a id="7905" href="Function.Bundles.html#1938" class="Field">cong</a><a id="7909" class="Symbol">)</a> <a id="7911" class="Keyword">renaming</a> <a id="7920" class="Symbol">(</a><a id="7921" href="Function.Bundles.html#1919" class="Field">f</a> <a id="7923" class="Symbol">to</a> <a id="7926" class="Field">_âŸ¨$âŸ©_</a><a id="7931" class="Symbol">)</a>

<a id="7934" class="Keyword">open</a> <a id="7939" class="Keyword">import</a>  <a id="7947" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>  <a id="7986" class="Symbol">as</a> <a id="7989" class="Module">â‰¡</a> <a id="7991" class="Keyword">using</a> <a id="7997" class="Symbol">(</a><a id="7998" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_â‰¡_</a><a id="8001" class="Symbol">)</a>
<a id="8003" class="Keyword">import</a>       <a id="8016" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a>       <a id="8055" class="Symbol">as</a> <a id="8058" class="Module">SetoidReasoning</a>
<a id="8074" class="Keyword">import</a>       <a id="8087" href="Function.Definitions.html" class="Module">Function.Definitions</a>                   <a id="8126" class="Symbol">as</a> <a id="8129" class="Module">FD</a>

</pre>
<pre class="Agda">
<a id="8163" class="Keyword">open</a> <a id="8168" class="Keyword">import</a> <a id="8175" href="Level.html" class="Module">Level</a> <a id="8181" class="Keyword">using</a> <a id="8187" class="Symbol">(</a> <a id="8189" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="8195" class="Symbol">)</a>
<a id="8197" class="Keyword">open</a> <a id="8202" class="Keyword">import</a> <a id="8209" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="8225" class="Keyword">using</a> <a id="8231" class="Symbol">(</a> <a id="8233" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="8240" class="Symbol">;</a> <a id="8242" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="8246" class="Symbol">;</a> <a id="8248" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="8262" class="Symbol">)</a>
<a id="8264" class="Keyword">open</a> <a id="8269" class="Keyword">import</a> <a id="8276" href="Relation.Binary.Definitions.html" class="Module">Relation.Binary.Definitions</a> <a id="8304" class="Keyword">using</a> <a id="8310" class="Symbol">(</a> <a id="8312" href="Relation.Binary.Definitions.html#1339" class="Function">Reflexive</a> <a id="8322" class="Symbol">;</a> <a id="8324" href="Relation.Binary.Definitions.html#1424" class="Function">Sym</a> <a id="8328" class="Symbol">;</a> <a id="8330" href="Relation.Binary.Definitions.html#1585" class="Function">Trans</a> <a id="8336" class="Symbol">;</a> <a id="8338" href="Relation.Binary.Definitions.html#1498" class="Function">Symmetric</a> <a id="8348" class="Symbol">;</a> <a id="8350" href="Relation.Binary.Definitions.html#1978" class="Function">Transitive</a> <a id="8361" class="Symbol">)</a>
<a id="8363" class="Keyword">open</a> <a id="8368" class="Keyword">import</a> <a id="8375" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="8390" class="Keyword">using</a> <a id="8396" class="Symbol">(</a> <a id="8398" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="8403" class="Symbol">;</a> <a id="8405" href="Relation.Unary.html#1742" class="Function Operator">_âŠ†_</a> <a id="8409" class="Symbol">;</a> <a id="8411" href="Relation.Unary.html#1523" class="Function Operator">_âˆˆ_</a> <a id="8415" class="Symbol">)</a>
<a id="8417" class="Keyword">open</a> <a id="8422" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="8429" class="Keyword">using</a> <a id="8435" class="Symbol">(</a> <a id="8437" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="8445" class="Symbol">;</a> <a id="8447" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="8461" class="Symbol">)</a>
<a id="8463" class="Keyword">private</a> <a id="8471" class="Keyword">variable</a>
 <a id="8481" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="8483" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="8486" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="8488" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a> <a id="8491" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a> <a id="8493" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a> <a id="8496" href="Demos.HSP-markdown.html#8496" class="Generalizable">Î´</a> <a id="8498" href="Demos.HSP-markdown.html#8498" class="Generalizable">Ïáµˆ</a> <a id="8501" href="Demos.HSP-markdown.html#8501" class="Generalizable">Ï</a> <a id="8503" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a> <a id="8505" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a> <a id="8507" class="Symbol">:</a> <a id="8509" href="Agda.Primitive.html#597" class="Postulate">Level</a>
 <a id="8516" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="8518" href="Demos.HSP-markdown.html#8518" class="Generalizable">Î”</a> <a id="8520" class="Symbol">:</a> <a id="8522" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="8527" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a>
 <a id="8530" href="Demos.HSP-markdown.html#8530" class="Generalizable">ğ‘“</a> <a id="8532" class="Symbol">:</a> <a id="8534" href="Demos.HSP-markdown.html#7750" class="Field">fst</a> <a id="8538" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a>
</pre>
Note, in particular, we rename the `Set` and `Func` types of the standard library to `Type` and the infix long arrow symbol `_âŸ¶_`, respectively, and we use `fst` and `snd` in place of `projâ‚` and  `projâ‚‚` for the first and second projections out of the product type `_Ã—_`. In addition, when it improves readability of the code, we use the alternative notation `âˆ£_âˆ£` and `âˆ¥_âˆ¥` (defined elsewhere) for the first and second projections.

### <a id="setoids">Setoids</a>

A *setoid* is a type packaged with an equivalence relation on the collection
of inhabitants of that type.  Setoids are useful for representing classical
(set-theory-based) mathematics in a constructive, type-theoretic way because
most mathematical structures are assumed to come equipped with some (often
implicit) equivalence relation manifesting a notion of equality of elements,
and therefore a type-theoretic representation of such a structure should
also model its equality relation.

The [agda-algebras][] library was first developed without the use of setoids,
opting instead for specially constructed experimental quotient types.
However, this approach resulted in code that was hard to comprehend and
it became difficult to determine whether the resulting proofs were fully
constructive.  In particular, our initial proof of the Birkhoff variety theorem
required postulating function extensionality, an axiom that is not provable in
pure Martin-LÃ¶f type theory (MLTT). [reference needed]

In contrast, our current approach using setoids makes the equality relation
of a given type explicit and this transparency can make it easier to determine the
correctness and constructivity of the proofs. Using setiods we need
no additional axioms beyond MLTT; in particular, no function
extensionality axioms are postulated in our current formalization of Birkhoff's
variety theorem.

<!--
Since it plays such a central role in the present development, we
reproduce in the appendix the definition of the `Setoid` type of the [Agda
Standard Library][]. In addition to `Setoid`, much of our code employs the
standard library's `Func` record type which represents a function from one
setoid to another and packages such a function with a proof (called `cong`) that
the function respects the underlying setoid equalities. In the list
of imports above we renamed `Func` to the more visually appealing
long-arrow symbol `âŸ¶`, and we will refer to its inhabitants as "setoid
functions" throughout the paper.

A special example of a setoid function is the identity function from a setoid to itself.
We define it, along with a binary composition operation for setoid functions, `_âŸ¨âˆ˜âŸ©_`, as follows.
-->

<pre class="Agda">
<a id="ğ‘–ğ‘‘"></a><a id="11231" href="Demos.HSP-markdown.html#11231" class="Function">ğ‘–ğ‘‘</a> <a id="11234" class="Symbol">:</a> <a id="11236" class="Symbol">{</a><a id="11237" href="Demos.HSP-markdown.html#11237" class="Bound">A</a> <a id="11239" class="Symbol">:</a> <a id="11241" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="11248" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="11250" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="11252" class="Symbol">}</a> <a id="11254" class="Symbol">â†’</a> <a id="11256" href="Demos.HSP-markdown.html#11237" class="Bound">A</a> <a id="11258" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="11260" href="Demos.HSP-markdown.html#11237" class="Bound">A</a>
<a id="11262" href="Demos.HSP-markdown.html#11231" class="Function">ğ‘–ğ‘‘</a> <a id="11265" class="Symbol">{</a><a id="11266" href="Demos.HSP-markdown.html#11266" class="Bound">A</a><a id="11267" class="Symbol">}</a> <a id="11269" class="Symbol">=</a> <a id="11271" class="Keyword">record</a> <a id="11278" class="Symbol">{</a> <a id="11280" href="Function.Bundles.html#1919" class="Field">f</a> <a id="11282" class="Symbol">=</a> <a id="11284" href="Function.Base.html#615" class="Function">id</a> <a id="11287" class="Symbol">;</a> <a id="11289" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="11294" class="Symbol">=</a> <a id="11296" href="Function.Base.html#615" class="Function">id</a> <a id="11299" class="Symbol">}</a>

<a id="_âŸ¨âˆ˜âŸ©_"></a><a id="11302" href="Demos.HSP-markdown.html#11302" class="Function Operator">_âŸ¨âˆ˜âŸ©_</a> <a id="11308" class="Symbol">:</a>  <a id="11311" class="Symbol">{</a><a id="11312" href="Demos.HSP-markdown.html#11312" class="Bound">A</a> <a id="11314" class="Symbol">:</a> <a id="11316" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="11323" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="11325" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="11327" class="Symbol">}</a> <a id="11329" class="Symbol">{</a><a id="11330" href="Demos.HSP-markdown.html#11330" class="Bound">B</a> <a id="11332" class="Symbol">:</a> <a id="11334" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="11341" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="11343" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="11345" class="Symbol">}</a> <a id="11347" class="Symbol">{</a><a id="11348" href="Demos.HSP-markdown.html#11348" class="Bound">C</a> <a id="11350" class="Symbol">:</a> <a id="11352" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="11359" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a> <a id="11361" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="11363" class="Symbol">}</a>
 <a id="11366" class="Symbol">â†’</a>       <a id="11374" href="Demos.HSP-markdown.html#11330" class="Bound">B</a> <a id="11376" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="11378" href="Demos.HSP-markdown.html#11348" class="Bound">C</a>  <a id="11381" class="Symbol">â†’</a>  <a id="11384" href="Demos.HSP-markdown.html#11312" class="Bound">A</a> <a id="11386" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="11388" href="Demos.HSP-markdown.html#11330" class="Bound">B</a>  <a id="11391" class="Symbol">â†’</a>  <a id="11394" href="Demos.HSP-markdown.html#11312" class="Bound">A</a> <a id="11396" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="11398" href="Demos.HSP-markdown.html#11348" class="Bound">C</a>

<a id="11401" href="Demos.HSP-markdown.html#11401" class="Bound">f</a> <a id="11403" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="11407" href="Demos.HSP-markdown.html#11407" class="Bound">g</a> <a id="11409" class="Symbol">=</a> <a id="11411" class="Keyword">record</a>  <a id="11419" class="Symbol">{</a> <a id="11421" href="Function.Bundles.html#1919" class="Field">f</a> <a id="11423" class="Symbol">=</a> <a id="11425" class="Symbol">(</a><a id="11426" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="11432" href="Demos.HSP-markdown.html#11401" class="Bound">f</a><a id="11433" class="Symbol">)</a> <a id="11435" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="11437" class="Symbol">(</a><a id="11438" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="11444" href="Demos.HSP-markdown.html#11407" class="Bound">g</a><a id="11445" class="Symbol">)</a>
                  <a id="11465" class="Symbol">;</a> <a id="11467" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="11472" class="Symbol">=</a> <a id="11474" class="Symbol">(</a><a id="11475" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="11480" href="Demos.HSP-markdown.html#11401" class="Bound">f</a><a id="11481" class="Symbol">)</a> <a id="11483" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="11485" class="Symbol">(</a><a id="11486" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="11491" href="Demos.HSP-markdown.html#11407" class="Bound">g</a><a id="11492" class="Symbol">)</a> <a id="11494" class="Symbol">}</a>

<a id="11497" class="Keyword">module</a> <a id="11504" href="Demos.HSP-markdown.html#11504" class="Module">_</a> <a id="11506" class="Symbol">{</a><a id="11507" href="Demos.HSP-markdown.html#11507" class="Bound">A</a> <a id="11509" class="Symbol">:</a> <a id="11511" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="11516" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="11518" class="Symbol">}{</a><a id="11520" href="Demos.HSP-markdown.html#11520" class="Bound">B</a> <a id="11522" class="Symbol">:</a> <a id="11524" href="Demos.HSP-markdown.html#11507" class="Bound">A</a> <a id="11526" class="Symbol">â†’</a> <a id="11528" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="11533" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a><a id="11534" class="Symbol">}</a> <a id="11536" class="Keyword">where</a>

 <a id="11544" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£_âˆ£</a> <a id="11548" class="Symbol">:</a> <a id="11550" href="Data.Product.html#916" class="Function">Î£[</a> <a id="11553" href="Demos.HSP-markdown.html#11553" class="Bound">x</a> <a id="11555" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="11557" href="Demos.HSP-markdown.html#11507" class="Bound">A</a> <a id="11559" href="Data.Product.html#916" class="Function">]</a> <a id="11561" href="Demos.HSP-markdown.html#11520" class="Bound">B</a> <a id="11563" href="Demos.HSP-markdown.html#11553" class="Bound">x</a> <a id="11565" class="Symbol">â†’</a> <a id="11567" href="Demos.HSP-markdown.html#11507" class="Bound">A</a>
 <a id="11570" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£_âˆ£</a> <a id="11574" class="Symbol">=</a> <a id="11576" href="Demos.HSP-markdown.html#7750" class="Field">fst</a>

 <a id="11582" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥_âˆ¥</a> <a id="11586" class="Symbol">:</a> <a id="11588" class="Symbol">(</a><a id="11589" href="Demos.HSP-markdown.html#11589" class="Bound">z</a> <a id="11591" class="Symbol">:</a> <a id="11593" href="Data.Product.html#916" class="Function">Î£[</a> <a id="11596" href="Demos.HSP-markdown.html#11596" class="Bound">a</a> <a id="11598" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="11600" href="Demos.HSP-markdown.html#11507" class="Bound">A</a> <a id="11602" href="Data.Product.html#916" class="Function">]</a> <a id="11604" href="Demos.HSP-markdown.html#11520" class="Bound">B</a> <a id="11606" href="Demos.HSP-markdown.html#11596" class="Bound">a</a><a id="11607" class="Symbol">)</a> <a id="11609" class="Symbol">â†’</a> <a id="11611" href="Demos.HSP-markdown.html#11520" class="Bound">B</a> <a id="11613" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="11615" href="Demos.HSP-markdown.html#11589" class="Bound">z</a> <a id="11617" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
 <a id="11620" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥_âˆ¥</a> <a id="11624" class="Symbol">=</a> <a id="11626" href="Demos.HSP-markdown.html#7765" class="Field">snd</a>
</pre>

<!--
(Here we put the definitions inside an *anonymous module*, which starts with the
`module` keyword followed by an underscore instead of a module name. The
purpose is simply to move the postulated typing judgments---the "parameters" of
the module, e.g., `A : Type Î±`---out of the way so they don't obfuscate the
definitions inside the module.)
-->

### <a id="inverses-of-setoid-functions">Inverses of setoid functions</a>

We define a data type that represent the semantic concept of the *image* of a function
(cf. the [Setoid.Overture.Inverses][] module of the [agda-algebras][] library).

<pre class="Agda">

<a id="12251" class="Keyword">module</a> <a id="12258" href="Demos.HSP-markdown.html#12258" class="Module">_</a> <a id="12260" class="Symbol">{</a><a id="12261" href="Demos.HSP-markdown.html#12261" class="Bound">ğ‘¨</a> <a id="12263" class="Symbol">:</a> <a id="12265" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="12272" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="12274" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="12276" class="Symbol">}{</a><a id="12278" href="Demos.HSP-markdown.html#12278" class="Bound">ğ‘©</a> <a id="12280" class="Symbol">:</a> <a id="12282" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="12289" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="12291" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="12293" class="Symbol">}</a> <a id="12295" class="Keyword">where</a>
 <a id="12302" class="Keyword">open</a> <a id="12307" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="12314" href="Demos.HSP-markdown.html#12278" class="Bound">ğ‘©</a> <a id="12316" class="Keyword">using</a> <a id="12322" class="Symbol">(</a> <a id="12324" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="12328" class="Symbol">;</a> <a id="12330" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="12334" class="Symbol">)</a> <a id="12336" class="Keyword">renaming</a> <a id="12345" class="Symbol">(</a> <a id="12347" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="12355" class="Symbol">to</a> <a id="12358" class="Field">B</a> <a id="12360" class="Symbol">)</a>

 <a id="12364" class="Keyword">data</a> <a id="12369" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">Image_âˆ‹_</a> <a id="12378" class="Symbol">(</a><a id="12379" href="Demos.HSP-markdown.html#12379" class="Bound">f</a> <a id="12381" class="Symbol">:</a> <a id="12383" href="Demos.HSP-markdown.html#12261" class="Bound">ğ‘¨</a> <a id="12385" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="12387" href="Demos.HSP-markdown.html#12278" class="Bound">ğ‘©</a><a id="12388" class="Symbol">)</a> <a id="12390" class="Symbol">:</a> <a id="12392" href="Demos.HSP-markdown.html#12358" class="Field">B</a> <a id="12394" class="Symbol">â†’</a> <a id="12396" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="12401" class="Symbol">(</a><a id="12402" href="Demos.HSP-markdown.html#12272" class="Bound">Î±</a> <a id="12404" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="12406" href="Demos.HSP-markdown.html#12289" class="Bound">Î²</a> <a id="12408" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="12410" href="Demos.HSP-markdown.html#12291" class="Bound">Ïáµ‡</a><a id="12412" class="Symbol">)</a> <a id="12414" class="Keyword">where</a>
  <a id="12422" href="Demos.HSP-markdown.html#12422" class="InductiveConstructor">eq</a> <a id="12425" class="Symbol">:</a> <a id="12427" class="Symbol">{</a><a id="12428" href="Demos.HSP-markdown.html#12428" class="Bound">b</a> <a id="12430" class="Symbol">:</a> <a id="12432" href="Demos.HSP-markdown.html#12358" class="Field">B</a><a id="12433" class="Symbol">}</a> <a id="12435" class="Symbol">â†’</a> <a id="12437" class="Symbol">âˆ€</a> <a id="12439" href="Demos.HSP-markdown.html#12439" class="Bound">a</a> <a id="12441" class="Symbol">â†’</a> <a id="12443" href="Demos.HSP-markdown.html#12428" class="Bound">b</a> <a id="12445" href="Relation.Binary.Bundles.html#1098" class="Field Operator">â‰ˆ</a> <a id="12447" class="Symbol">(</a><a id="12448" href="Demos.HSP-markdown.html#12379" class="Bound">f</a> <a id="12450" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="12454" href="Demos.HSP-markdown.html#12439" class="Bound">a</a><a id="12455" class="Symbol">)</a> <a id="12457" class="Symbol">â†’</a> <a id="12459" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">Image</a> <a id="12465" href="Demos.HSP-markdown.html#12379" class="Bound">f</a> <a id="12467" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">âˆ‹</a> <a id="12469" href="Demos.HSP-markdown.html#12428" class="Bound">b</a>

</pre>

An inhabitant of `Image f âˆ‹ b` is a dependent pair `(a , p)`, where `a : A` and
`p : b â‰ˆ f a` is a proof that `f` maps `a` to `b`.  Since the proof that `b`
belongs to the image of `f` is always accompanied by a witness `a : A`, we can
actually *compute* a (pseudo)inverse of `f`. For convenience, we define this
inverse function, which we call `Inv`, and which takes an arbitrary `b : B` and
a (witness, proof)-pair, `(a , p) : Image f âˆ‹ b`, and returns the witness `a`.

<pre class="Agda">

 <a id="12972" href="Demos.HSP-markdown.html#12972" class="Function">Inv</a> <a id="12976" class="Symbol">:</a> <a id="12978" class="Symbol">(</a><a id="12979" href="Demos.HSP-markdown.html#12979" class="Bound">f</a> <a id="12981" class="Symbol">:</a> <a id="12983" href="Demos.HSP-markdown.html#12261" class="Bound">ğ‘¨</a> <a id="12985" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="12987" href="Demos.HSP-markdown.html#12278" class="Bound">ğ‘©</a><a id="12988" class="Symbol">){</a><a id="12990" href="Demos.HSP-markdown.html#12990" class="Bound">b</a> <a id="12992" class="Symbol">:</a> <a id="12994" href="Demos.HSP-markdown.html#12358" class="Field">B</a><a id="12995" class="Symbol">}</a> <a id="12997" class="Symbol">â†’</a> <a id="12999" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">Image</a> <a id="13005" href="Demos.HSP-markdown.html#12979" class="Bound">f</a> <a id="13007" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">âˆ‹</a> <a id="13009" href="Demos.HSP-markdown.html#12990" class="Bound">b</a> <a id="13011" class="Symbol">â†’</a> <a id="13013" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="13021" href="Demos.HSP-markdown.html#12261" class="Bound">ğ‘¨</a>
 <a id="13024" href="Demos.HSP-markdown.html#12972" class="Function">Inv</a> <a id="13028" class="Symbol">_</a> <a id="13030" class="Symbol">(</a><a id="13031" href="Demos.HSP-markdown.html#12422" class="InductiveConstructor">eq</a> <a id="13034" href="Demos.HSP-markdown.html#13034" class="Bound">a</a> <a id="13036" class="Symbol">_)</a> <a id="13039" class="Symbol">=</a> <a id="13041" href="Demos.HSP-markdown.html#13034" class="Bound">a</a>

 <a id="13045" href="Demos.HSP-markdown.html#13045" class="Function">InvIsInverseÊ³</a> <a id="13059" class="Symbol">:</a> <a id="13061" class="Symbol">{</a><a id="13062" href="Demos.HSP-markdown.html#13062" class="Bound">f</a> <a id="13064" class="Symbol">:</a> <a id="13066" href="Demos.HSP-markdown.html#12261" class="Bound">ğ‘¨</a> <a id="13068" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="13070" href="Demos.HSP-markdown.html#12278" class="Bound">ğ‘©</a><a id="13071" class="Symbol">}{</a><a id="13073" href="Demos.HSP-markdown.html#13073" class="Bound">b</a> <a id="13075" class="Symbol">:</a> <a id="13077" href="Demos.HSP-markdown.html#12358" class="Field">B</a><a id="13078" class="Symbol">}(</a><a id="13080" href="Demos.HSP-markdown.html#13080" class="Bound">q</a> <a id="13082" class="Symbol">:</a> <a id="13084" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">Image</a> <a id="13090" href="Demos.HSP-markdown.html#13062" class="Bound">f</a> <a id="13092" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">âˆ‹</a> <a id="13094" href="Demos.HSP-markdown.html#13073" class="Bound">b</a><a id="13095" class="Symbol">)</a> <a id="13097" class="Symbol">â†’</a> <a id="13099" class="Symbol">(</a><a id="13100" href="Demos.HSP-markdown.html#13062" class="Bound">f</a> <a id="13102" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="13106" class="Symbol">(</a><a id="13107" href="Demos.HSP-markdown.html#12972" class="Function">Inv</a> <a id="13111" href="Demos.HSP-markdown.html#13062" class="Bound">f</a> <a id="13113" href="Demos.HSP-markdown.html#13080" class="Bound">q</a><a id="13114" class="Symbol">))</a> <a id="13117" href="Relation.Binary.Bundles.html#1098" class="Field Operator">â‰ˆ</a> <a id="13119" href="Demos.HSP-markdown.html#13073" class="Bound">b</a>
 <a id="13122" href="Demos.HSP-markdown.html#13045" class="Function">InvIsInverseÊ³</a> <a id="13136" class="Symbol">(</a><a id="13137" href="Demos.HSP-markdown.html#12422" class="InductiveConstructor">eq</a> <a id="13140" class="Symbol">_</a> <a id="13142" href="Demos.HSP-markdown.html#13142" class="Bound">p</a><a id="13143" class="Symbol">)</a> <a id="13145" class="Symbol">=</a> <a id="13147" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="13151" href="Demos.HSP-markdown.html#13142" class="Bound">p</a>

</pre>

`InvIsInverseÊ³` proves that `Inv f` is the range-restricted right-inverse of the setoid function `f`.


### <a id="injective-and-surjective-setoid-functions">Injective and surjective setoid functions</a>

If `f : ğ‘¨ âŸ¶ ğ‘©` is a setoid function from `ğ‘¨ = (A , â‰ˆâ‚€)` to `ğ‘© = (B , â‰ˆâ‚)`, then
we call `f` *injective* provided `âˆ€ (aâ‚€ aâ‚ : A)`, `f âŸ¨$âŸ© aâ‚€ â‰ˆâ‚ f âŸ¨$âŸ© aâ‚` implies `aâ‚€ â‰ˆâ‚€ aâ‚`;
we call `f` *surjective* provided `âˆ€ (b : B)`, `âˆƒ (a : A)` such that `f âŸ¨$âŸ© a â‰ˆâ‚ b`.
We codify these definitions in Agda and prove some of their properties
inside the next submodule where we first set the stage by declaring two
setoids `ğ‘¨` and `ğ‘©`, naming their equality relations, and making some
definitions from the standard library available.

<pre class="Agda">

<a id="13906" class="Keyword">module</a> <a id="13913" href="Demos.HSP-markdown.html#13913" class="Module">_</a> <a id="13915" class="Symbol">{</a><a id="13916" href="Demos.HSP-markdown.html#13916" class="Bound">ğ‘¨</a> <a id="13918" class="Symbol">:</a> <a id="13920" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="13927" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="13929" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="13931" class="Symbol">}{</a><a id="13933" href="Demos.HSP-markdown.html#13933" class="Bound">ğ‘©</a> <a id="13935" class="Symbol">:</a> <a id="13937" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="13944" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="13946" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="13948" class="Symbol">}</a> <a id="13950" class="Keyword">where</a>
 <a id="13957" class="Keyword">open</a> <a id="13962" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="13969" href="Demos.HSP-markdown.html#13916" class="Bound">ğ‘¨</a> <a id="13971" class="Keyword">using</a> <a id="13977" class="Symbol">()</a> <a id="13980" class="Keyword">renaming</a> <a id="13989" class="Symbol">(</a> <a id="13991" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="13995" class="Symbol">to</a> <a id="13998" class="Field Operator">_â‰ˆâ‚_</a> <a id="14003" class="Symbol">;</a> <a id="14005" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="14013" class="Symbol">to</a> <a id="14016" class="Field">A</a> <a id="14018" class="Symbol">)</a>
 <a id="14021" class="Keyword">open</a> <a id="14026" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="14033" href="Demos.HSP-markdown.html#13933" class="Bound">ğ‘©</a> <a id="14035" class="Keyword">using</a> <a id="14041" class="Symbol">()</a> <a id="14044" class="Keyword">renaming</a> <a id="14053" class="Symbol">(</a> <a id="14055" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="14059" class="Symbol">to</a> <a id="14062" class="Field Operator">_â‰ˆâ‚‚_</a> <a id="14067" class="Symbol">;</a> <a id="14069" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="14077" class="Symbol">to</a> <a id="14080" class="Field">B</a> <a id="14082" class="Symbol">)</a>
 <a id="14085" class="Keyword">open</a> <a id="14090" href="Function.Definitions.html" class="Module">FD</a> <a id="14093" href="Demos.HSP-markdown.html#13998" class="Function Operator">_â‰ˆâ‚_</a> <a id="14098" href="Demos.HSP-markdown.html#14062" class="Field Operator">_â‰ˆâ‚‚_</a>

</pre>

The [Agda Standard Library][] represents injective functions on bare types by the
type `Injective`, which we now use to define `IsInjective` representing the property
of being an injective setoid function. We then define the type `IsSurjective` to
represent the property of being a surjective setoid function. Finally, we define
`SurjInv` to represent the *right-inverse* of a surjective function.
The definitions are as follows (cf. [Setoid.Overture.Injective][] and [Setoid.Overture.Surjective][] in the [agda-algebras][] library).

<pre class="Agda">

 <a id="14666" href="Demos.HSP-markdown.html#14666" class="Function">IsInjective</a> <a id="14678" class="Symbol">:</a> <a id="14680" class="Symbol">(</a><a id="14681" href="Demos.HSP-markdown.html#13916" class="Bound">ğ‘¨</a> <a id="14683" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="14685" href="Demos.HSP-markdown.html#13933" class="Bound">ğ‘©</a><a id="14686" class="Symbol">)</a> <a id="14688" class="Symbol">â†’</a>  <a id="14691" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="14696" class="Symbol">(</a><a id="14697" href="Demos.HSP-markdown.html#13927" class="Bound">Î±</a> <a id="14699" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="14701" href="Demos.HSP-markdown.html#13929" class="Bound">Ïáµƒ</a> <a id="14704" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="14706" href="Demos.HSP-markdown.html#13946" class="Bound">Ïáµ‡</a><a id="14708" class="Symbol">)</a>
 <a id="14711" href="Demos.HSP-markdown.html#14666" class="Function">IsInjective</a> <a id="14723" href="Demos.HSP-markdown.html#14723" class="Bound">f</a> <a id="14725" class="Symbol">=</a> <a id="14727" href="Function.Definitions.html#889" class="Function">Injective</a> <a id="14737" class="Symbol">(</a><a id="14738" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="14744" href="Demos.HSP-markdown.html#14723" class="Bound">f</a><a id="14745" class="Symbol">)</a>

 <a id="14749" href="Demos.HSP-markdown.html#14749" class="Function">IsSurjective</a> <a id="14762" class="Symbol">:</a> <a id="14764" class="Symbol">(</a><a id="14765" href="Demos.HSP-markdown.html#13916" class="Bound">ğ‘¨</a> <a id="14767" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="14769" href="Demos.HSP-markdown.html#13933" class="Bound">ğ‘©</a><a id="14770" class="Symbol">)</a> <a id="14772" class="Symbol">â†’</a>  <a id="14775" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="14780" class="Symbol">(</a><a id="14781" href="Demos.HSP-markdown.html#13927" class="Bound">Î±</a> <a id="14783" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="14785" href="Demos.HSP-markdown.html#13944" class="Bound">Î²</a> <a id="14787" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="14789" href="Demos.HSP-markdown.html#13946" class="Bound">Ïáµ‡</a><a id="14791" class="Symbol">)</a>
 <a id="14794" href="Demos.HSP-markdown.html#14749" class="Function">IsSurjective</a> <a id="14807" href="Demos.HSP-markdown.html#14807" class="Bound">F</a> <a id="14809" class="Symbol">=</a> <a id="14811" class="Symbol">âˆ€</a> <a id="14813" class="Symbol">{</a><a id="14814" href="Demos.HSP-markdown.html#14814" class="Bound">y</a><a id="14815" class="Symbol">}</a> <a id="14817" class="Symbol">â†’</a> <a id="14819" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">Image</a> <a id="14825" href="Demos.HSP-markdown.html#14807" class="Bound">F</a> <a id="14827" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">âˆ‹</a> <a id="14829" href="Demos.HSP-markdown.html#14814" class="Bound">y</a>

 <a id="14833" href="Demos.HSP-markdown.html#14833" class="Function">SurjInv</a> <a id="14841" class="Symbol">:</a> <a id="14843" class="Symbol">(</a><a id="14844" href="Demos.HSP-markdown.html#14844" class="Bound">f</a> <a id="14846" class="Symbol">:</a> <a id="14848" href="Demos.HSP-markdown.html#13916" class="Bound">ğ‘¨</a> <a id="14850" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="14852" href="Demos.HSP-markdown.html#13933" class="Bound">ğ‘©</a><a id="14853" class="Symbol">)</a> <a id="14855" class="Symbol">â†’</a> <a id="14857" href="Demos.HSP-markdown.html#14749" class="Function">IsSurjective</a> <a id="14870" href="Demos.HSP-markdown.html#14844" class="Bound">f</a> <a id="14872" class="Symbol">â†’</a> <a id="14874" href="Demos.HSP-markdown.html#14080" class="Field">B</a> <a id="14876" class="Symbol">â†’</a> <a id="14878" href="Demos.HSP-markdown.html#14016" class="Function">A</a>
 <a id="14881" href="Demos.HSP-markdown.html#14833" class="Function">SurjInv</a> <a id="14889" href="Demos.HSP-markdown.html#14889" class="Bound">f</a> <a id="14891" href="Demos.HSP-markdown.html#14891" class="Bound">fonto</a> <a id="14897" href="Demos.HSP-markdown.html#14897" class="Bound">b</a> <a id="14899" class="Symbol">=</a> <a id="14901" href="Demos.HSP-markdown.html#12972" class="Function">Inv</a> <a id="14905" href="Demos.HSP-markdown.html#14889" class="Bound">f</a> <a id="14907" class="Symbol">(</a><a id="14908" href="Demos.HSP-markdown.html#14891" class="Bound">fonto</a> <a id="14914" class="Symbol">{</a><a id="14915" href="Demos.HSP-markdown.html#14897" class="Bound">b</a><a id="14916" class="Symbol">})</a>
</pre>

#### <a id="composition-of-injective-and-surjective-setoid-functions">Composition of injective and surjective setoid functions</a>

Proving that the composition of injective setoid functions is again injective
is simply a matter of composing the two assumed witnesses to injectivity.
Proving that surjectivity is preserved under composition is only slightly more involved.

<pre class="Agda">

<a id="15319" class="Keyword">module</a> <a id="15326" href="Demos.HSP-markdown.html#15326" class="Module">_</a>  <a id="15329" class="Symbol">{</a><a id="15330" href="Demos.HSP-markdown.html#15330" class="Bound">ğ‘¨</a> <a id="15332" class="Symbol">:</a> <a id="15334" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="15341" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="15343" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="15345" class="Symbol">}{</a><a id="15347" href="Demos.HSP-markdown.html#15347" class="Bound">ğ‘©</a> <a id="15349" class="Symbol">:</a> <a id="15351" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="15358" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="15360" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="15362" class="Symbol">}{</a><a id="15364" href="Demos.HSP-markdown.html#15364" class="Bound">ğ‘ª</a> <a id="15366" class="Symbol">:</a> <a id="15368" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="15375" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a> <a id="15377" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="15379" class="Symbol">}</a>
          <a id="15391" class="Symbol">(</a><a id="15392" href="Demos.HSP-markdown.html#15392" class="Bound">f</a> <a id="15394" class="Symbol">:</a> <a id="15396" href="Demos.HSP-markdown.html#15330" class="Bound">ğ‘¨</a> <a id="15398" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="15400" href="Demos.HSP-markdown.html#15347" class="Bound">ğ‘©</a><a id="15401" class="Symbol">)(</a><a id="15403" href="Demos.HSP-markdown.html#15403" class="Bound">g</a> <a id="15405" class="Symbol">:</a> <a id="15407" href="Demos.HSP-markdown.html#15347" class="Bound">ğ‘©</a> <a id="15409" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="15411" href="Demos.HSP-markdown.html#15364" class="Bound">ğ‘ª</a><a id="15412" class="Symbol">)</a> <a id="15414" class="Keyword">where</a>

 <a id="15422" href="Demos.HSP-markdown.html#15422" class="Function">âˆ˜-IsInjective</a> <a id="15436" class="Symbol">:</a> <a id="15438" href="Demos.HSP-markdown.html#14666" class="Function">IsInjective</a> <a id="15450" href="Demos.HSP-markdown.html#15392" class="Bound">f</a> <a id="15452" class="Symbol">â†’</a> <a id="15454" href="Demos.HSP-markdown.html#14666" class="Function">IsInjective</a> <a id="15466" href="Demos.HSP-markdown.html#15403" class="Bound">g</a> <a id="15468" class="Symbol">â†’</a> <a id="15470" href="Demos.HSP-markdown.html#14666" class="Function">IsInjective</a> <a id="15482" class="Symbol">(</a><a id="15483" href="Demos.HSP-markdown.html#15403" class="Bound">g</a> <a id="15485" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="15489" href="Demos.HSP-markdown.html#15392" class="Bound">f</a><a id="15490" class="Symbol">)</a>
 <a id="15493" href="Demos.HSP-markdown.html#15422" class="Function">âˆ˜-IsInjective</a> <a id="15507" href="Demos.HSP-markdown.html#15507" class="Bound">finj</a> <a id="15512" href="Demos.HSP-markdown.html#15512" class="Bound">ginj</a> <a id="15517" class="Symbol">=</a> <a id="15519" href="Demos.HSP-markdown.html#15507" class="Bound">finj</a> <a id="15524" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="15526" href="Demos.HSP-markdown.html#15512" class="Bound">ginj</a>

 <a id="15533" href="Demos.HSP-markdown.html#15533" class="Function">âˆ˜-IsSurjective</a> <a id="15548" class="Symbol">:</a> <a id="15550" href="Demos.HSP-markdown.html#14749" class="Function">IsSurjective</a> <a id="15563" href="Demos.HSP-markdown.html#15392" class="Bound">f</a> <a id="15565" class="Symbol">â†’</a> <a id="15567" href="Demos.HSP-markdown.html#14749" class="Function">IsSurjective</a> <a id="15580" href="Demos.HSP-markdown.html#15403" class="Bound">g</a> <a id="15582" class="Symbol">â†’</a> <a id="15584" href="Demos.HSP-markdown.html#14749" class="Function">IsSurjective</a> <a id="15597" class="Symbol">(</a><a id="15598" href="Demos.HSP-markdown.html#15403" class="Bound">g</a> <a id="15600" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="15604" href="Demos.HSP-markdown.html#15392" class="Bound">f</a><a id="15605" class="Symbol">)</a>
 <a id="15608" href="Demos.HSP-markdown.html#15533" class="Function">âˆ˜-IsSurjective</a> <a id="15623" href="Demos.HSP-markdown.html#15623" class="Bound">fonto</a> <a id="15629" href="Demos.HSP-markdown.html#15629" class="Bound">gonto</a> <a id="15635" class="Symbol">{</a><a id="15636" href="Demos.HSP-markdown.html#15636" class="Bound">y</a><a id="15637" class="Symbol">}</a> <a id="15639" class="Symbol">=</a> <a id="15641" href="Demos.HSP-markdown.html#15843" class="Function">Goal</a>
  <a id="15648" class="Keyword">where</a>
  <a id="15656" href="Demos.HSP-markdown.html#15656" class="Function">mp</a> <a id="15659" class="Symbol">:</a> <a id="15661" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">Image</a> <a id="15667" href="Demos.HSP-markdown.html#15403" class="Bound">g</a> <a id="15669" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">âˆ‹</a> <a id="15671" href="Demos.HSP-markdown.html#15636" class="Bound">y</a> <a id="15673" class="Symbol">â†’</a> <a id="15675" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">Image</a> <a id="15681" href="Demos.HSP-markdown.html#15403" class="Bound">g</a> <a id="15683" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="15687" href="Demos.HSP-markdown.html#15392" class="Bound">f</a> <a id="15689" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">âˆ‹</a> <a id="15691" href="Demos.HSP-markdown.html#15636" class="Bound">y</a>
  <a id="15695" href="Demos.HSP-markdown.html#15656" class="Function">mp</a> <a id="15698" class="Symbol">(</a><a id="15699" href="Demos.HSP-markdown.html#12422" class="InductiveConstructor">eq</a> <a id="15702" href="Demos.HSP-markdown.html#15702" class="Bound">c</a> <a id="15704" href="Demos.HSP-markdown.html#15704" class="Bound">p</a><a id="15705" class="Symbol">)</a> <a id="15707" class="Symbol">=</a> <a id="15709" href="Demos.HSP-markdown.html#15762" class="Function">Î·</a> <a id="15711" href="Demos.HSP-markdown.html#15623" class="Bound">fonto</a>
   <a id="15720" class="Keyword">where</a>
   <a id="15729" class="Keyword">open</a> <a id="15734" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="15741" href="Demos.HSP-markdown.html#15364" class="Bound">ğ‘ª</a> <a id="15743" class="Keyword">using</a> <a id="15749" class="Symbol">(</a> <a id="15751" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="15757" class="Symbol">)</a>
   <a id="15762" href="Demos.HSP-markdown.html#15762" class="Function">Î·</a> <a id="15764" class="Symbol">:</a> <a id="15766" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">Image</a> <a id="15772" href="Demos.HSP-markdown.html#15392" class="Bound">f</a> <a id="15774" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">âˆ‹</a> <a id="15776" href="Demos.HSP-markdown.html#15702" class="Bound">c</a> <a id="15778" class="Symbol">â†’</a> <a id="15780" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">Image</a> <a id="15786" href="Demos.HSP-markdown.html#15403" class="Bound">g</a> <a id="15788" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="15792" href="Demos.HSP-markdown.html#15392" class="Bound">f</a> <a id="15794" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">âˆ‹</a> <a id="15796" href="Demos.HSP-markdown.html#15636" class="Bound">y</a>
   <a id="15801" href="Demos.HSP-markdown.html#15762" class="Function">Î·</a> <a id="15803" class="Symbol">(</a><a id="15804" href="Demos.HSP-markdown.html#12422" class="InductiveConstructor">eq</a> <a id="15807" href="Demos.HSP-markdown.html#15807" class="Bound">a</a> <a id="15809" href="Demos.HSP-markdown.html#15809" class="Bound">q</a><a id="15810" class="Symbol">)</a> <a id="15812" class="Symbol">=</a> <a id="15814" href="Demos.HSP-markdown.html#12422" class="InductiveConstructor">eq</a> <a id="15817" href="Demos.HSP-markdown.html#15807" class="Bound">a</a> <a id="15819" class="Symbol">(</a><a id="15820" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="15826" href="Demos.HSP-markdown.html#15704" class="Bound">p</a> <a id="15828" class="Symbol">(</a><a id="15829" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="15834" href="Demos.HSP-markdown.html#15403" class="Bound">g</a> <a id="15836" href="Demos.HSP-markdown.html#15809" class="Bound">q</a><a id="15837" class="Symbol">))</a>

  <a id="15843" href="Demos.HSP-markdown.html#15843" class="Function">Goal</a> <a id="15848" class="Symbol">:</a> <a id="15850" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">Image</a> <a id="15856" href="Demos.HSP-markdown.html#15403" class="Bound">g</a> <a id="15858" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="15862" href="Demos.HSP-markdown.html#15392" class="Bound">f</a> <a id="15864" href="Demos.HSP-markdown.html#12369" class="Datatype Operator">âˆ‹</a> <a id="15866" href="Demos.HSP-markdown.html#15636" class="Bound">y</a>
  <a id="15870" href="Demos.HSP-markdown.html#15843" class="Function">Goal</a> <a id="15875" class="Symbol">=</a> <a id="15877" href="Demos.HSP-markdown.html#15656" class="Function">mp</a> <a id="15880" href="Demos.HSP-markdown.html#15629" class="Bound">gonto</a>
</pre>


### <a id="kernels">Kernels</a>

The *kernel* of a function `f : A â†’ B` (where `A` and `B` are bare types) is defined
informally by `{(x , y) âˆˆ A Ã— A : f x = f y}`.
This can be represented in Agda in a number of ways, but for our purposes we find it most
convenient to define the kernel as an inhabitant of a (unary) predicate over the square of
the function's domain.

<pre class="Agda">

<a id="16283" class="Keyword">module</a> <a id="16290" href="Demos.HSP-markdown.html#16290" class="Module">_</a> <a id="16292" class="Symbol">{</a><a id="16293" href="Demos.HSP-markdown.html#16293" class="Bound">A</a> <a id="16295" class="Symbol">:</a> <a id="16297" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="16302" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a><a id="16303" class="Symbol">}{</a><a id="16305" href="Demos.HSP-markdown.html#16305" class="Bound">B</a> <a id="16307" class="Symbol">:</a> <a id="16309" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="16314" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a><a id="16315" class="Symbol">}</a> <a id="16317" class="Keyword">where</a>

 <a id="16325" href="Demos.HSP-markdown.html#16325" class="Function">kernel</a> <a id="16332" class="Symbol">:</a> <a id="16334" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="16338" href="Demos.HSP-markdown.html#16305" class="Bound">B</a> <a id="16340" href="Demos.HSP-markdown.html#8501" class="Generalizable">Ï</a> <a id="16342" class="Symbol">â†’</a> <a id="16344" class="Symbol">(</a><a id="16345" href="Demos.HSP-markdown.html#16293" class="Bound">A</a> <a id="16347" class="Symbol">â†’</a> <a id="16349" href="Demos.HSP-markdown.html#16305" class="Bound">B</a><a id="16350" class="Symbol">)</a> <a id="16352" class="Symbol">â†’</a> <a id="16354" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="16359" class="Symbol">(</a><a id="16360" href="Demos.HSP-markdown.html#16293" class="Bound">A</a> <a id="16362" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="16364" href="Demos.HSP-markdown.html#16293" class="Bound">A</a><a id="16365" class="Symbol">)</a> <a id="16367" href="Demos.HSP-markdown.html#8501" class="Generalizable">Ï</a>
 <a id="16370" href="Demos.HSP-markdown.html#16325" class="Function">kernel</a> <a id="16377" href="Demos.HSP-markdown.html#16377" class="Bound Operator">_â‰ˆ_</a> <a id="16381" href="Demos.HSP-markdown.html#16381" class="Bound">f</a> <a id="16383" class="Symbol">(</a><a id="16384" href="Demos.HSP-markdown.html#16384" class="Bound">x</a> <a id="16386" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16388" href="Demos.HSP-markdown.html#16388" class="Bound">y</a><a id="16389" class="Symbol">)</a> <a id="16391" class="Symbol">=</a> <a id="16393" href="Demos.HSP-markdown.html#16381" class="Bound">f</a> <a id="16395" href="Demos.HSP-markdown.html#16384" class="Bound">x</a> <a id="16397" href="Demos.HSP-markdown.html#16377" class="Bound Operator">â‰ˆ</a> <a id="16399" href="Demos.HSP-markdown.html#16381" class="Bound">f</a> <a id="16401" href="Demos.HSP-markdown.html#16388" class="Bound">y</a>

</pre>

The kernel of a setoid function `f : ğ´ âŸ¶ ğµ` is defined informally by
`{(x , y) âˆˆ A Ã— A : f âŸ¨$âŸ© x â‰ˆ f âŸ¨$âŸ© y}`, where `_â‰ˆ_` denotes the equality of `ğµ`.

<pre class="Agda">

<a id="16582" class="Keyword">module</a> <a id="16589" href="Demos.HSP-markdown.html#16589" class="Module">_</a> <a id="16591" class="Symbol">{</a><a id="16592" href="Demos.HSP-markdown.html#16592" class="Bound">ğ´</a> <a id="16594" class="Symbol">:</a> <a id="16596" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="16603" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="16605" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="16607" class="Symbol">}{</a><a id="16609" href="Demos.HSP-markdown.html#16609" class="Bound">ğµ</a> <a id="16611" class="Symbol">:</a> <a id="16613" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="16620" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="16622" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="16624" class="Symbol">}</a> <a id="16626" class="Keyword">where</a>
 <a id="16633" class="Keyword">open</a> <a id="16638" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="16645" href="Demos.HSP-markdown.html#16592" class="Bound">ğ´</a> <a id="16647" class="Keyword">using</a> <a id="16653" class="Symbol">()</a> <a id="16656" class="Keyword">renaming</a> <a id="16665" class="Symbol">(</a> <a id="16667" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="16675" class="Symbol">to</a> <a id="16678" class="Field">A</a> <a id="16680" class="Symbol">)</a>

 <a id="16684" href="Demos.HSP-markdown.html#16684" class="Function">ker</a> <a id="16688" class="Symbol">:</a> <a id="16690" class="Symbol">(</a><a id="16691" href="Demos.HSP-markdown.html#16592" class="Bound">ğ´</a> <a id="16693" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="16695" href="Demos.HSP-markdown.html#16609" class="Bound">ğµ</a><a id="16696" class="Symbol">)</a> <a id="16698" class="Symbol">â†’</a> <a id="16700" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="16705" class="Symbol">(</a><a id="16706" href="Demos.HSP-markdown.html#16678" class="Function">A</a> <a id="16708" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="16710" href="Demos.HSP-markdown.html#16678" class="Function">A</a><a id="16711" class="Symbol">)</a> <a id="16713" href="Demos.HSP-markdown.html#16622" class="Bound">Ïáµ‡</a>
 <a id="16717" href="Demos.HSP-markdown.html#16684" class="Function">ker</a> <a id="16721" href="Demos.HSP-markdown.html#16721" class="Bound">g</a> <a id="16723" class="Symbol">(</a><a id="16724" href="Demos.HSP-markdown.html#16724" class="Bound">x</a> <a id="16726" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16728" href="Demos.HSP-markdown.html#16728" class="Bound">y</a><a id="16729" class="Symbol">)</a> <a id="16731" class="Symbol">=</a> <a id="16733" href="Demos.HSP-markdown.html#16721" class="Bound">g</a> <a id="16735" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="16739" href="Demos.HSP-markdown.html#16724" class="Bound">x</a> <a id="16741" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="16743" href="Demos.HSP-markdown.html#16721" class="Bound">g</a> <a id="16745" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="16749" href="Demos.HSP-markdown.html#16728" class="Bound">y</a> <a id="16751" class="Keyword">where</a> <a id="16757" class="Keyword">open</a> <a id="16762" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="16769" href="Demos.HSP-markdown.html#16609" class="Bound">ğµ</a> <a id="16771" class="Keyword">using</a> <a id="16777" class="Symbol">(</a> <a id="16779" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="16783" class="Symbol">)</a>
</pre>





<!-- ------------------------------------------------------------------------------------- -->

## Algebras

In this section we define the notion of an algebraic structure whose *domain* (or "carrier" or "universe") is a setoid. Our first goal is to develop a working vocabulary and formal types for classical (single-sorted, set-based) universal algebra.

### <a id="signatures-of-an-algebra">Signatures of an algebra</a>

In [model theory](https://en.wikipedia.org/wiki/Model_theory), the *signature* `ğ‘† = (ğ¶, ğ¹, ğ‘…, Ï)` of a structure consists of three (possibly empty) sets `ğ¶`, `ğ¹`, and `ğ‘…`---called *constant symbols*, *function symbols*, and *relation symbols*, respectively---along with a function `Ï : ğ¶ + ğ¹ + ğ‘… â†’ ğ‘` that assigns an *arity* to each symbol. Often, but not always, `ğ‘` is taken to be the set of natural numbers.

As our focus here is universal algebra, we are more concerned with the restricted notion of an *algebraic signature* (or *signature* for algebraic structures), by which we mean a pair `ğ‘† = (F, Ï)` consisting of a collection `ğ¹` of *operation symbols* and an *arity function* `Ï : F â†’ N` that maps each operation symbol to its arity; here, ğ‘ denotes the *arity type*. Heuristically, the arity `Ï f` of an operation symbol `f âˆˆ F` may be thought of as the "number of arguments" that `f` takes as "input".

If the arity of `f` is `n`, then we call `f` an `n`-*ary* operation symbol.  In case `n` is 0 (or 1 or 2 or 3, respectively) we call the function *nullary* (or *unary* or *binary* or *ternary*, respectively).

If `A` is a set and `f` is a (`Ï f`)-ary operation on `A`, then the arguments of `f` form a (`Ï f`)-tuple, say, `(a 0, a 1, â€¦, a (Ïf-1))`, which may be viewed as the graph of a function, say, `a : Ïf â†’ A`. When the codomain of `Ï` is `â„•`, we may view `Ï f` as the finite set `{0, 1, â€¦, Ïf - 1}`. Thus, by identifying the `Ïf`-th power of `A` with the type `Ï f â†’ A` of functions from `{0, 1, â€¦, Ïf - 1}` to `A`, we identify the collection of all tuples of arguments of `f` with the function type `(Ïf â†’ A) â†’ A`.

#### <a id="signature-type">Signature type</a>

The [agda-algebras][] library represents a *signature* as an inhabitant of the following dependent pair type.

```
Signature : (ğ“ ğ“¥ : Level) â†’ Type (lsuc (ğ“ âŠ” ğ“¥))
Signature ğ“ ğ“¥ = Î£[ F âˆˆ Type ğ“ ] (F â†’ Type ğ“¥)
```

Using special syntax for the first and second projections---`âˆ£_âˆ£` and `âˆ¥_âˆ¥`, respectively---if `ğ‘† : Signature ğ“ ğ“¥` is a signature, then

* `âˆ£ ğ‘† âˆ£` denotes the set of operation symbols;
* `âˆ¥ ğ‘† âˆ¥` denotes the arity function.

Thus, if `ğ‘“ : âˆ£ ğ‘† âˆ£` is an operation symbol in the signature `ğ‘†`, then `âˆ¥ ğ‘† âˆ¥ ğ‘“` is the arity of `ğ‘“`.

We need to augment the ordinary `Signature` type so that it supports algebras over setoid domains.
To do so, we define an operator `âŸ¨_âŸ©` which translates an ordinary signature into a setoid signature, that is, a signature over a setoid domain.  But first we must resolve a techinical issue involving dependent types that we now describe.

Suppose we are given two operations `f` and `g` and we have a tuple of arguments for `f`, say, `u : âˆ¥ ğ‘† âˆ¥ f â†’ A`, and a tuple of arguments for `g`, say, `v : âˆ¥ ğ‘† âˆ¥ g â†’ A`.  If we know that `f` is identically equal to `g`---that is, `f â‰¡ g` (intensionally)---then we should be able to check whether `u` and `v` are pointwise equal.  The problem here is that `u` and `v` ostensibly inhabit different types.  To compare `u` and `v` we must convince Agda that, from `f â‰¡ g` we can deduce that `u` and `v` are actually of the same type. The type `EqArgs` (defined below, and adapted from Andreas Abel's development [ref needed]) resolves this technical issue nicely.

<pre class="Agda">

<a id="EqArgs"></a><a id="20468" href="Demos.HSP-markdown.html#20468" class="Function">EqArgs</a> <a id="20475" class="Symbol">:</a>  <a id="20478" class="Symbol">{</a><a id="20479" href="Demos.HSP-markdown.html#20479" class="Bound">ğ‘†</a> <a id="20481" class="Symbol">:</a> <a id="20483" href="Base.Algebras.Basic.html#3890" class="Function">Signature</a> <a id="20493" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="20495" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a><a id="20496" class="Symbol">}{</a><a id="20498" href="Demos.HSP-markdown.html#20498" class="Bound">Î¾</a> <a id="20500" class="Symbol">:</a> <a id="20502" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="20509" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="20511" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="20513" class="Symbol">}</a>
 <a id="20516" class="Symbol">â†’</a>        <a id="20525" class="Symbol">âˆ€</a> <a id="20527" class="Symbol">{</a><a id="20528" href="Demos.HSP-markdown.html#20528" class="Bound">f</a> <a id="20530" href="Demos.HSP-markdown.html#20530" class="Bound">g</a><a id="20531" class="Symbol">}</a> <a id="20533" class="Symbol">â†’</a> <a id="20535" href="Demos.HSP-markdown.html#20528" class="Bound">f</a> <a id="20537" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="20539" href="Demos.HSP-markdown.html#20530" class="Bound">g</a> <a id="20541" class="Symbol">â†’</a> <a id="20543" class="Symbol">(</a><a id="20544" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="20546" href="Demos.HSP-markdown.html#20479" class="Bound">ğ‘†</a> <a id="20548" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="20550" href="Demos.HSP-markdown.html#20528" class="Bound">f</a> <a id="20552" class="Symbol">â†’</a> <a id="20554" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="20562" href="Demos.HSP-markdown.html#20498" class="Bound">Î¾</a><a id="20563" class="Symbol">)</a> <a id="20565" class="Symbol">â†’</a> <a id="20567" class="Symbol">(</a><a id="20568" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="20570" href="Demos.HSP-markdown.html#20479" class="Bound">ğ‘†</a> <a id="20572" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="20574" href="Demos.HSP-markdown.html#20530" class="Bound">g</a> <a id="20576" class="Symbol">â†’</a> <a id="20578" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="20586" href="Demos.HSP-markdown.html#20498" class="Bound">Î¾</a><a id="20587" class="Symbol">)</a> <a id="20589" class="Symbol">â†’</a> <a id="20591" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="20596" class="Symbol">(</a><a id="20597" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="20599" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="20601" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="20603" class="Symbol">)</a>

<a id="20606" href="Demos.HSP-markdown.html#20468" class="Function">EqArgs</a> <a id="20613" class="Symbol">{</a><a id="20614" class="Argument">Î¾</a> <a id="20616" class="Symbol">=</a> <a id="20618" href="Demos.HSP-markdown.html#20618" class="Bound">Î¾</a><a id="20619" class="Symbol">}</a> <a id="20621" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="20628" href="Demos.HSP-markdown.html#20628" class="Bound">u</a> <a id="20630" href="Demos.HSP-markdown.html#20630" class="Bound">v</a> <a id="20632" class="Symbol">=</a> <a id="20634" class="Symbol">âˆ€</a> <a id="20636" href="Demos.HSP-markdown.html#20636" class="Bound">i</a> <a id="20638" class="Symbol">â†’</a> <a id="20640" href="Demos.HSP-markdown.html#20628" class="Bound">u</a> <a id="20642" href="Demos.HSP-markdown.html#20636" class="Bound">i</a> <a id="20644" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="20646" href="Demos.HSP-markdown.html#20630" class="Bound">v</a> <a id="20648" href="Demos.HSP-markdown.html#20636" class="Bound">i</a> <a id="20650" class="Keyword">where</a> <a id="20656" class="Keyword">open</a> <a id="20661" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="20668" href="Demos.HSP-markdown.html#20618" class="Bound">Î¾</a> <a id="20670" class="Keyword">using</a> <a id="20676" class="Symbol">(</a> <a id="20678" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="20682" class="Symbol">)</a>

</pre>

Now we are ready to define the `âŸ¨_âŸ©` operator, which translates an ordinary signature into a setoid signature.

<pre class="Agda">

<a id="20823" class="Keyword">module</a> <a id="20830" href="Demos.HSP-markdown.html#20830" class="Module">_</a> <a id="20832" class="Keyword">where</a>
 <a id="20839" class="Keyword">open</a> <a id="20844" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a>        <a id="20858" class="Keyword">using</a> <a id="20864" class="Symbol">(</a> <a id="20866" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="20870" class="Symbol">)</a>
 <a id="20873" class="Keyword">open</a> <a id="20878" href="Relation.Binary.Structures.html#1522" class="Module">IsEquivalence</a> <a id="20892" class="Keyword">using</a> <a id="20898" class="Symbol">(</a> <a id="20900" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="20905" class="Symbol">;</a> <a id="20907" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="20911" class="Symbol">;</a> <a id="20913" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="20919" class="Symbol">)</a>

 <a id="20923" href="Demos.HSP-markdown.html#20923" class="Function Operator">âŸ¨_âŸ©</a> <a id="20927" class="Symbol">:</a> <a id="20929" href="Base.Algebras.Basic.html#3890" class="Function">Signature</a> <a id="20939" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="20941" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="20943" class="Symbol">â†’</a> <a id="20945" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="20952" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="20954" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="20957" class="Symbol">â†’</a> <a id="20959" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="20966" class="Symbol">_</a> <a id="20968" class="Symbol">_</a>

 <a id="20972" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="20980" class="Symbol">(</a><a id="20981" href="Demos.HSP-markdown.html#20923" class="Function Operator">âŸ¨</a> <a id="20983" href="Demos.HSP-markdown.html#20983" class="Bound">ğ‘†</a> <a id="20985" href="Demos.HSP-markdown.html#20923" class="Function Operator">âŸ©</a> <a id="20987" href="Demos.HSP-markdown.html#20987" class="Bound">Î¾</a><a id="20988" class="Symbol">)</a>              <a id="21003" class="Symbol">=</a> <a id="21005" href="Data.Product.html#916" class="Function">Î£[</a> <a id="21008" href="Demos.HSP-markdown.html#21008" class="Bound">f</a> <a id="21010" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="21012" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="21014" href="Demos.HSP-markdown.html#20983" class="Bound">ğ‘†</a> <a id="21016" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="21018" href="Data.Product.html#916" class="Function">]</a> <a id="21020" class="Symbol">((</a><a id="21022" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="21024" href="Demos.HSP-markdown.html#20983" class="Bound">ğ‘†</a> <a id="21026" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="21028" href="Demos.HSP-markdown.html#21008" class="Bound">f</a><a id="21029" class="Symbol">)</a> <a id="21031" class="Symbol">â†’</a> <a id="21033" href="Demos.HSP-markdown.html#20987" class="Bound">Î¾</a> <a id="21035" class="Symbol">.</a><a id="21036" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a><a id="21043" class="Symbol">)</a>

 <a id="21047" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="21051" class="Symbol">(</a><a id="21052" href="Demos.HSP-markdown.html#20923" class="Function Operator">âŸ¨</a> <a id="21054" href="Demos.HSP-markdown.html#21054" class="Bound">ğ‘†</a> <a id="21056" href="Demos.HSP-markdown.html#20923" class="Function Operator">âŸ©</a> <a id="21058" href="Demos.HSP-markdown.html#21058" class="Bound">Î¾</a><a id="21059" class="Symbol">)</a> <a id="21061" class="Symbol">(</a><a id="21062" href="Demos.HSP-markdown.html#21062" class="Bound">f</a> <a id="21064" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21066" href="Demos.HSP-markdown.html#21066" class="Bound">u</a><a id="21067" class="Symbol">)</a> <a id="21069" class="Symbol">(</a><a id="21070" href="Demos.HSP-markdown.html#21070" class="Bound">g</a> <a id="21072" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21074" href="Demos.HSP-markdown.html#21074" class="Bound">v</a><a id="21075" class="Symbol">)</a>  <a id="21078" class="Symbol">=</a> <a id="21080" href="Data.Product.html#916" class="Function">Î£[</a> <a id="21083" href="Demos.HSP-markdown.html#21083" class="Bound">eqv</a> <a id="21087" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="21089" href="Demos.HSP-markdown.html#21062" class="Bound">f</a> <a id="21091" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="21093" href="Demos.HSP-markdown.html#21070" class="Bound">g</a> <a id="21095" href="Data.Product.html#916" class="Function">]</a> <a id="21097" href="Demos.HSP-markdown.html#20468" class="Function">EqArgs</a><a id="21103" class="Symbol">{</a><a id="21104" class="Argument">Î¾</a> <a id="21106" class="Symbol">=</a> <a id="21108" href="Demos.HSP-markdown.html#21058" class="Bound">Î¾</a><a id="21109" class="Symbol">}</a> <a id="21111" href="Demos.HSP-markdown.html#21083" class="Bound">eqv</a> <a id="21115" href="Demos.HSP-markdown.html#21066" class="Bound">u</a> <a id="21117" href="Demos.HSP-markdown.html#21074" class="Bound">v</a>

 <a id="21121" href="Relation.Binary.Structures.html#1568" class="Field">refl</a>   <a id="21128" class="Symbol">(</a><a id="21129" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="21143" class="Symbol">(</a><a id="21144" href="Demos.HSP-markdown.html#20923" class="Function Operator">âŸ¨</a> <a id="21146" href="Demos.HSP-markdown.html#21146" class="Bound">ğ‘†</a> <a id="21148" href="Demos.HSP-markdown.html#20923" class="Function Operator">âŸ©</a> <a id="21150" href="Demos.HSP-markdown.html#21150" class="Bound">Î¾</a><a id="21151" class="Symbol">))</a>                           <a id="21180" class="Symbol">=</a> <a id="21182" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="21189" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21191" class="Symbol">Î»</a> <a id="21193" href="Demos.HSP-markdown.html#21193" class="Bound">i</a> <a id="21195" class="Symbol">â†’</a> <a id="21197" href="Relation.Binary.Structures.html#1568" class="Function">Setoid.refl</a>   <a id="21211" href="Demos.HSP-markdown.html#21150" class="Bound">Î¾</a>
 <a id="21214" href="Relation.Binary.Structures.html#1594" class="Field">sym</a>    <a id="21221" class="Symbol">(</a><a id="21222" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="21236" class="Symbol">(</a><a id="21237" href="Demos.HSP-markdown.html#20923" class="Function Operator">âŸ¨</a> <a id="21239" href="Demos.HSP-markdown.html#21239" class="Bound">ğ‘†</a> <a id="21241" href="Demos.HSP-markdown.html#20923" class="Function Operator">âŸ©</a> <a id="21243" href="Demos.HSP-markdown.html#21243" class="Bound">Î¾</a><a id="21244" class="Symbol">))</a> <a id="21247" class="Symbol">(</a><a id="21248" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="21255" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21257" href="Demos.HSP-markdown.html#21257" class="Bound">g</a><a id="21258" class="Symbol">)</a>              <a id="21273" class="Symbol">=</a> <a id="21275" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="21282" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21284" class="Symbol">Î»</a> <a id="21286" href="Demos.HSP-markdown.html#21286" class="Bound">i</a> <a id="21288" class="Symbol">â†’</a> <a id="21290" href="Relation.Binary.Structures.html#1594" class="Function">Setoid.sym</a>    <a id="21304" href="Demos.HSP-markdown.html#21243" class="Bound">Î¾</a> <a id="21306" class="Symbol">(</a><a id="21307" href="Demos.HSP-markdown.html#21257" class="Bound">g</a> <a id="21309" href="Demos.HSP-markdown.html#21286" class="Bound">i</a><a id="21310" class="Symbol">)</a>
 <a id="21313" href="Relation.Binary.Structures.html#1620" class="Field">trans</a>  <a id="21320" class="Symbol">(</a><a id="21321" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="21335" class="Symbol">(</a><a id="21336" href="Demos.HSP-markdown.html#20923" class="Function Operator">âŸ¨</a> <a id="21338" href="Demos.HSP-markdown.html#21338" class="Bound">ğ‘†</a> <a id="21340" href="Demos.HSP-markdown.html#20923" class="Function Operator">âŸ©</a> <a id="21342" href="Demos.HSP-markdown.html#21342" class="Bound">Î¾</a><a id="21343" class="Symbol">))</a> <a id="21346" class="Symbol">(</a><a id="21347" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="21354" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21356" href="Demos.HSP-markdown.html#21356" class="Bound">g</a><a id="21357" class="Symbol">)(</a><a id="21359" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="21366" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21368" href="Demos.HSP-markdown.html#21368" class="Bound">h</a><a id="21369" class="Symbol">)</a>  <a id="21372" class="Symbol">=</a> <a id="21374" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="21381" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21383" class="Symbol">Î»</a> <a id="21385" href="Demos.HSP-markdown.html#21385" class="Bound">i</a> <a id="21387" class="Symbol">â†’</a> <a id="21389" href="Relation.Binary.Structures.html#1620" class="Function">Setoid.trans</a>  <a id="21403" href="Demos.HSP-markdown.html#21342" class="Bound">Î¾</a> <a id="21405" class="Symbol">(</a><a id="21406" href="Demos.HSP-markdown.html#21356" class="Bound">g</a> <a id="21408" href="Demos.HSP-markdown.html#21385" class="Bound">i</a><a id="21409" class="Symbol">)</a> <a id="21411" class="Symbol">(</a><a id="21412" href="Demos.HSP-markdown.html#21368" class="Bound">h</a> <a id="21414" href="Demos.HSP-markdown.html#21385" class="Bound">i</a><a id="21415" class="Symbol">)</a>
</pre>

### <a id="Algebra type">Algebra type</a>

Informally, an *algebraic structure in the signature* `ğ‘† = (F, Ï)` (or `ğ‘†`-*algebra*) is typically denoted by `ğ‘¨ = (A, Fá´¬)` and consists of

* `A` := a *nonempty* set (or type), called the *domain* (or *carrier* or *universe*) of the algebra;
* `Fá´¬` := `{ fá´¬ âˆ£ f âˆˆ F, fá´¬ : (Ïf â†’ A) â†’ A }`, a collection of *operations* on `ğ´`;
* a (potentially empty) collection of *identities* satisfied by elements and operations of `ğ´`.

We represent an algebra in Agda using a record type with two fields:

* `Domain` is a setoid denoting the underlying *universe* of the algebra (informally, the set of elements of the algebra);
* `Interp` represents the *interpretation* in the algebra of each operation symbol of the given signature.  The record type `Func` from the Agda Standard Library provides what we need for an operation on the domain setoid.

Let us present the definition of the `Algebra` type and then discuss the definition of the `Func` type that provides the interpretation of each operation symbol.

<pre class="Agda">

<a id="22490" class="Keyword">record</a> <a id="Algebra"></a><a id="22497" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="22505" href="Demos.HSP-markdown.html#22505" class="Bound">Î±</a> <a id="22507" href="Demos.HSP-markdown.html#22507" class="Bound">Ï</a> <a id="22509" class="Symbol">:</a> <a id="22511" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="22516" class="Symbol">(</a><a id="22517" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="22519" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="22521" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="22523" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="22525" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="22530" class="Symbol">(</a><a id="22531" href="Demos.HSP-markdown.html#22505" class="Bound">Î±</a> <a id="22533" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="22535" href="Demos.HSP-markdown.html#22507" class="Bound">Ï</a><a id="22536" class="Symbol">))</a> <a id="22539" class="Keyword">where</a>
 <a id="22546" class="Keyword">field</a>  <a id="Algebra.Domain"></a><a id="22553" href="Demos.HSP-markdown.html#22553" class="Field">Domain</a> <a id="22560" class="Symbol">:</a> <a id="22562" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="22569" href="Demos.HSP-markdown.html#22505" class="Bound">Î±</a> <a id="22571" href="Demos.HSP-markdown.html#22507" class="Bound">Ï</a>
        <a id="Algebra.Interp"></a><a id="22581" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="22588" class="Symbol">:</a> <a id="22590" class="Symbol">(</a><a id="22591" href="Demos.HSP-markdown.html#20923" class="Function Operator">âŸ¨</a> <a id="22593" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="22595" href="Demos.HSP-markdown.html#20923" class="Function Operator">âŸ©</a> <a id="22597" href="Demos.HSP-markdown.html#22553" class="Field">Domain</a><a id="22603" class="Symbol">)</a> <a id="22605" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="22607" href="Demos.HSP-markdown.html#22553" class="Field">Domain</a>

</pre>

The `Interp` field actually has type `Func (âŸ¨ ğ‘† âŸ© Domain) Domain` (recall we renamed `Func` as the infix long-arrow symbol).  The `Func` type is from the standard library and is defined as a record type with two fields. In the present instance, the fields are

1. a function  `f : Carrier (âŸ¨ ğ‘† âŸ© Domain) â†’ Carrier Domain`
2. a proof `cong : f Preserves _â‰ˆâ‚_ âŸ¶ _â‰ˆâ‚‚_` that `f` preserves the underlying setoid equalities.

Thus `Interp` gives, for each operation symbol in the signature `ğ‘†`, a setoid function `f`---namely, a function where the domain is a power of `Domain` and the codomain is `Domain`---along with a proof that all operations so interpreted respect the underlying setoid equality on `Domain`.

Next we define some syntactic sugar that will make our Agda code easier to read and comprehend.
If `ğ‘¨` is an algebra, then

* `f Ì‚ ğ‘¨` will denote the interpretation in the algebra `ğ‘¨` of the operation symbol `f`,
* `ğ”»[ ğ‘¨ ]` will denote the setoid `Domain ğ‘¨`, and
* `ğ•Œ[ ğ‘¨ ]` will be the underlying carrier or "universe" of the algebra `ğ‘¨`.

<pre class="Agda">

<a id="23691" class="Keyword">open</a> <a id="23696" href="Demos.HSP-markdown.html#22497" class="Module">Algebra</a>

<a id="ğ•Œ[_]"></a><a id="23705" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[_]</a> <a id="23710" class="Symbol">:</a> <a id="23712" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="23720" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="23722" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="23725" class="Symbol">â†’</a>  <a id="23728" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="23733" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a>
<a id="23735" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="23738" href="Demos.HSP-markdown.html#23738" class="Bound">ğ‘¨</a> <a id="23740" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a> <a id="23742" class="Symbol">=</a> <a id="23744" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="23752" class="Symbol">(</a><a id="23753" href="Demos.HSP-markdown.html#22553" class="Field">Domain</a> <a id="23760" href="Demos.HSP-markdown.html#23738" class="Bound">ğ‘¨</a><a id="23761" class="Symbol">)</a>

<a id="ğ”»[_]"></a><a id="23764" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[_]</a> <a id="23769" class="Symbol">:</a> <a id="23771" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="23779" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="23781" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="23784" class="Symbol">â†’</a>  <a id="23787" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="23794" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="23796" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a>
<a id="23799" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="23802" href="Demos.HSP-markdown.html#23802" class="Bound">ğ‘¨</a> <a id="23804" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="23806" class="Symbol">=</a> <a id="23808" href="Demos.HSP-markdown.html#22553" class="Field">Domain</a> <a id="23815" href="Demos.HSP-markdown.html#23802" class="Bound">ğ‘¨</a>

<a id="_Ì‚_"></a><a id="23818" href="Demos.HSP-markdown.html#23818" class="Function Operator">_Ì‚_</a> <a id="23822" class="Symbol">:</a> <a id="23824" class="Symbol">(</a><a id="23825" href="Demos.HSP-markdown.html#23825" class="Bound">f</a> <a id="23827" class="Symbol">:</a> <a id="23829" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="23831" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="23833" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a><a id="23834" class="Symbol">)(</a><a id="23836" href="Demos.HSP-markdown.html#23836" class="Bound">ğ‘¨</a> <a id="23838" class="Symbol">:</a> <a id="23840" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="23848" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="23850" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="23852" class="Symbol">)</a> <a id="23854" class="Symbol">â†’</a> <a id="23856" class="Symbol">(</a><a id="23857" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="23859" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="23861" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="23863" href="Demos.HSP-markdown.html#23825" class="Bound">f</a>  <a id="23866" class="Symbol">â†’</a>  <a id="23869" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="23872" href="Demos.HSP-markdown.html#23836" class="Bound">ğ‘¨</a> <a id="23874" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a><a id="23875" class="Symbol">)</a> <a id="23877" class="Symbol">â†’</a> <a id="23879" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="23882" href="Demos.HSP-markdown.html#23836" class="Bound">ğ‘¨</a> <a id="23884" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a>

<a id="23887" href="Demos.HSP-markdown.html#23887" class="Bound">f</a> <a id="23889" href="Demos.HSP-markdown.html#23818" class="Function Operator">Ì‚</a> <a id="23891" href="Demos.HSP-markdown.html#23891" class="Bound">ğ‘¨</a> <a id="23893" class="Symbol">=</a> <a id="23895" class="Symbol">Î»</a> <a id="23897" href="Demos.HSP-markdown.html#23897" class="Bound">a</a> <a id="23899" class="Symbol">â†’</a> <a id="23901" class="Symbol">(</a><a id="23902" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="23909" href="Demos.HSP-markdown.html#23891" class="Bound">ğ‘¨</a><a id="23910" class="Symbol">)</a> <a id="23912" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="23916" class="Symbol">(</a><a id="23917" href="Demos.HSP-markdown.html#23887" class="Bound">f</a> <a id="23919" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="23921" href="Demos.HSP-markdown.html#23897" class="Bound">a</a><a id="23922" class="Symbol">)</a>
</pre>


### <a id="universe-lifting-of-algebra-types">Universe lifting of algebra types</a>

A technical aspect of dealing with the noncumulativity of the hierarchy of type levels in Agda...

<pre class="Agda">

<a id="24135" class="Keyword">module</a> <a id="24142" href="Demos.HSP-markdown.html#24142" class="Module">_</a> <a id="24144" class="Symbol">(</a><a id="24145" href="Demos.HSP-markdown.html#24145" class="Bound">ğ‘¨</a> <a id="24147" class="Symbol">:</a> <a id="24149" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="24157" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="24159" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="24161" class="Symbol">)</a> <a id="24163" class="Keyword">where</a>
 <a id="24170" class="Keyword">open</a> <a id="24175" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="24182" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="24185" href="Demos.HSP-markdown.html#24145" class="Bound">ğ‘¨</a> <a id="24187" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="24189" class="Keyword">using</a> <a id="24195" class="Symbol">(</a> <a id="24197" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="24201" class="Symbol">;</a> <a id="24203" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="24208" class="Symbol">;</a> <a id="24210" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="24214" class="Symbol">;</a> <a id="24216" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="24222" class="Symbol">)</a>
 <a id="24225" class="Keyword">open</a> <a id="24230" href="Level.html" class="Module">Level</a>

 <a id="24238" href="Demos.HSP-markdown.html#24238" class="Function">Lift-AlgË¡</a> <a id="24248" class="Symbol">:</a> <a id="24250" class="Symbol">(</a><a id="24251" href="Demos.HSP-markdown.html#24251" class="Bound">â„“</a> <a id="24253" class="Symbol">:</a> <a id="24255" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="24260" class="Symbol">)</a> <a id="24262" class="Symbol">â†’</a> <a id="24264" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="24272" class="Symbol">(</a><a id="24273" href="Demos.HSP-markdown.html#24157" class="Bound">Î±</a> <a id="24275" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="24277" href="Demos.HSP-markdown.html#24251" class="Bound">â„“</a><a id="24278" class="Symbol">)</a> <a id="24280" href="Demos.HSP-markdown.html#24159" class="Bound">Ïáµƒ</a>
 <a id="24284" href="Demos.HSP-markdown.html#22553" class="Field">Domain</a> <a id="24291" class="Symbol">(</a><a id="24292" href="Demos.HSP-markdown.html#24238" class="Function">Lift-AlgË¡</a> <a id="24302" href="Demos.HSP-markdown.html#24302" class="Bound">â„“</a><a id="24303" class="Symbol">)</a> <a id="24305" class="Symbol">=</a>
  <a id="24309" class="Keyword">record</a>   <a id="24318" class="Symbol">{</a> <a id="24320" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="24328" class="Symbol">=</a> <a id="24330" href="Level.html#400" class="Record">Lift</a> <a id="24335" href="Demos.HSP-markdown.html#24302" class="Bound">â„“</a> <a id="24337" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="24340" href="Demos.HSP-markdown.html#24145" class="Bound">ğ‘¨</a> <a id="24342" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a>
           <a id="24355" class="Symbol">;</a> <a id="24357" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="24361" class="Symbol">=</a> <a id="24363" class="Symbol">Î»</a> <a id="24365" href="Demos.HSP-markdown.html#24365" class="Bound">x</a> <a id="24367" href="Demos.HSP-markdown.html#24367" class="Bound">y</a> <a id="24369" class="Symbol">â†’</a> <a id="24371" href="Level.html#470" class="Field">lower</a> <a id="24377" href="Demos.HSP-markdown.html#24365" class="Bound">x</a> <a id="24379" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="24381" href="Level.html#470" class="Field">lower</a> <a id="24387" href="Demos.HSP-markdown.html#24367" class="Bound">y</a>
           <a id="24400" class="Symbol">;</a> <a id="24402" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="24416" class="Symbol">=</a> <a id="24418" class="Keyword">record</a> <a id="24425" class="Symbol">{</a> <a id="24427" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="24432" class="Symbol">=</a> <a id="24434" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="24439" class="Symbol">;</a> <a id="24441" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="24445" class="Symbol">=</a> <a id="24447" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="24451" class="Symbol">;</a> <a id="24453" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="24459" class="Symbol">=</a> <a id="24461" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="24467" class="Symbol">}}</a>
 <a id="24471" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="24478" class="Symbol">(</a><a id="24479" href="Demos.HSP-markdown.html#24238" class="Function">Lift-AlgË¡</a> <a id="24489" href="Demos.HSP-markdown.html#24489" class="Bound">â„“</a><a id="24490" class="Symbol">)</a> <a id="24492" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="24496" class="Symbol">(</a><a id="24497" href="Demos.HSP-markdown.html#24497" class="Bound">f</a> <a id="24499" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="24501" href="Demos.HSP-markdown.html#24501" class="Bound">la</a><a id="24503" class="Symbol">)</a> <a id="24505" class="Symbol">=</a> <a id="24507" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="24512" class="Symbol">((</a><a id="24514" href="Demos.HSP-markdown.html#24497" class="Bound">f</a> <a id="24516" href="Demos.HSP-markdown.html#23818" class="Function Operator">Ì‚</a> <a id="24518" href="Demos.HSP-markdown.html#24145" class="Bound">ğ‘¨</a><a id="24519" class="Symbol">)</a> <a id="24521" class="Symbol">(</a><a id="24522" href="Level.html#470" class="Field">lower</a> <a id="24528" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="24530" href="Demos.HSP-markdown.html#24501" class="Bound">la</a><a id="24532" class="Symbol">))</a>
 <a id="24536" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="24541" class="Symbol">(</a><a id="24542" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="24549" class="Symbol">(</a><a id="24550" href="Demos.HSP-markdown.html#24238" class="Function">Lift-AlgË¡</a> <a id="24560" href="Demos.HSP-markdown.html#24560" class="Bound">â„“</a><a id="24561" class="Symbol">))</a> <a id="24564" class="Symbol">(</a><a id="24565" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="24572" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="24574" href="Demos.HSP-markdown.html#24574" class="Bound">la=lb</a><a id="24579" class="Symbol">)</a> <a id="24581" class="Symbol">=</a> <a id="24583" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="24588" class="Symbol">(</a><a id="24589" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="24596" href="Demos.HSP-markdown.html#24145" class="Bound">ğ‘¨</a><a id="24597" class="Symbol">)</a> <a id="24599" class="Symbol">((</a><a id="24601" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="24608" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="24610" href="Demos.HSP-markdown.html#24574" class="Bound">la=lb</a><a id="24615" class="Symbol">))</a>

 <a id="24620" href="Demos.HSP-markdown.html#24620" class="Function">Lift-AlgÊ³</a> <a id="24630" class="Symbol">:</a> <a id="24632" class="Symbol">(</a><a id="24633" href="Demos.HSP-markdown.html#24633" class="Bound">â„“</a> <a id="24635" class="Symbol">:</a> <a id="24637" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="24642" class="Symbol">)</a> <a id="24644" class="Symbol">â†’</a> <a id="24646" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="24654" href="Demos.HSP-markdown.html#24157" class="Bound">Î±</a> <a id="24656" class="Symbol">(</a><a id="24657" href="Demos.HSP-markdown.html#24159" class="Bound">Ïáµƒ</a> <a id="24660" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="24662" href="Demos.HSP-markdown.html#24633" class="Bound">â„“</a><a id="24663" class="Symbol">)</a>
 <a id="24666" href="Demos.HSP-markdown.html#22553" class="Field">Domain</a> <a id="24673" class="Symbol">(</a><a id="24674" href="Demos.HSP-markdown.html#24620" class="Function">Lift-AlgÊ³</a> <a id="24684" href="Demos.HSP-markdown.html#24684" class="Bound">â„“</a><a id="24685" class="Symbol">)</a> <a id="24687" class="Symbol">=</a>
  <a id="24691" class="Keyword">record</a>  <a id="24699" class="Symbol">{</a> <a id="24701" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="24709" class="Symbol">=</a> <a id="24711" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="24714" href="Demos.HSP-markdown.html#24145" class="Bound">ğ‘¨</a> <a id="24716" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a>
          <a id="24728" class="Symbol">;</a> <a id="24730" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="24734" class="Symbol">=</a> <a id="24736" class="Symbol">Î»</a> <a id="24738" href="Demos.HSP-markdown.html#24738" class="Bound">x</a> <a id="24740" href="Demos.HSP-markdown.html#24740" class="Bound">y</a> <a id="24742" class="Symbol">â†’</a> <a id="24744" href="Level.html#400" class="Record">Lift</a> <a id="24749" href="Demos.HSP-markdown.html#24684" class="Bound">â„“</a> <a id="24751" class="Symbol">(</a><a id="24752" href="Demos.HSP-markdown.html#24738" class="Bound">x</a> <a id="24754" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="24756" href="Demos.HSP-markdown.html#24740" class="Bound">y</a><a id="24757" class="Symbol">)</a>
          <a id="24769" class="Symbol">;</a> <a id="24771" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="24785" class="Symbol">=</a> <a id="24787" class="Keyword">record</a>  <a id="24795" class="Symbol">{</a> <a id="24797" href="Relation.Binary.Structures.html#1568" class="Field">refl</a>  <a id="24803" class="Symbol">=</a> <a id="24805" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="24810" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
                                    <a id="24851" class="Symbol">;</a> <a id="24853" href="Relation.Binary.Structures.html#1594" class="Field">sym</a>   <a id="24859" class="Symbol">=</a> <a id="24861" class="Symbol">Î»</a> <a id="24863" href="Demos.HSP-markdown.html#24863" class="Bound">x</a> <a id="24865" class="Symbol">â†’</a> <a id="24867" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="24872" class="Symbol">(</a><a id="24873" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="24877" class="Symbol">(</a><a id="24878" href="Level.html#470" class="Field">lower</a> <a id="24884" href="Demos.HSP-markdown.html#24863" class="Bound">x</a><a id="24885" class="Symbol">))</a>
                                    <a id="24924" class="Symbol">;</a> <a id="24926" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="24932" class="Symbol">=</a> <a id="24934" class="Symbol">Î»</a> <a id="24936" href="Demos.HSP-markdown.html#24936" class="Bound">x</a> <a id="24938" href="Demos.HSP-markdown.html#24938" class="Bound">y</a> <a id="24940" class="Symbol">â†’</a> <a id="24942" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="24947" class="Symbol">(</a><a id="24948" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="24954" class="Symbol">(</a><a id="24955" href="Level.html#470" class="Field">lower</a> <a id="24961" href="Demos.HSP-markdown.html#24936" class="Bound">x</a><a id="24962" class="Symbol">)</a> <a id="24964" class="Symbol">(</a><a id="24965" href="Level.html#470" class="Field">lower</a> <a id="24971" href="Demos.HSP-markdown.html#24938" class="Bound">y</a><a id="24972" class="Symbol">))</a> <a id="24975" class="Symbol">}}</a>
 <a id="24979" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="24986" class="Symbol">(</a><a id="24987" href="Demos.HSP-markdown.html#24620" class="Function">Lift-AlgÊ³</a> <a id="24997" href="Demos.HSP-markdown.html#24997" class="Bound">â„“</a> <a id="24999" class="Symbol">)</a> <a id="25001" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="25005" class="Symbol">(</a><a id="25006" href="Demos.HSP-markdown.html#25006" class="Bound">f</a> <a id="25008" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="25010" href="Demos.HSP-markdown.html#25010" class="Bound">la</a><a id="25012" class="Symbol">)</a> <a id="25014" class="Symbol">=</a> <a id="25016" class="Symbol">(</a><a id="25017" href="Demos.HSP-markdown.html#25006" class="Bound">f</a> <a id="25019" href="Demos.HSP-markdown.html#23818" class="Function Operator">Ì‚</a> <a id="25021" href="Demos.HSP-markdown.html#24145" class="Bound">ğ‘¨</a><a id="25022" class="Symbol">)</a> <a id="25024" href="Demos.HSP-markdown.html#25010" class="Bound">la</a>
 <a id="25028" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="25033" class="Symbol">(</a><a id="25034" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="25041" class="Symbol">(</a><a id="25042" href="Demos.HSP-markdown.html#24620" class="Function">Lift-AlgÊ³</a> <a id="25052" href="Demos.HSP-markdown.html#25052" class="Bound">â„“</a><a id="25053" class="Symbol">))(</a><a id="25056" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="25063" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="25065" href="Demos.HSP-markdown.html#25065" class="Bound">laâ‰¡lb</a><a id="25070" class="Symbol">)</a> <a id="25072" class="Symbol">=</a> <a id="25074" href="Level.html#457" class="InductiveConstructor">lift</a><a id="25078" class="Symbol">(</a><a id="25079" href="Function.Bundles.html#1938" class="Field">cong</a><a id="25083" class="Symbol">(</a><a id="25084" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="25091" href="Demos.HSP-markdown.html#24145" class="Bound">ğ‘¨</a><a id="25092" class="Symbol">)(</a><a id="25094" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="25101" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="25103" class="Symbol">Î»</a> <a id="25105" href="Demos.HSP-markdown.html#25105" class="Bound">i</a> <a id="25107" class="Symbol">â†’</a> <a id="25109" href="Level.html#470" class="Field">lower</a> <a id="25115" class="Symbol">(</a><a id="25116" href="Demos.HSP-markdown.html#25065" class="Bound">laâ‰¡lb</a> <a id="25122" href="Demos.HSP-markdown.html#25105" class="Bound">i</a><a id="25123" class="Symbol">)))</a>

<a id="Lift-Alg"></a><a id="25128" href="Demos.HSP-markdown.html#25128" class="Function">Lift-Alg</a> <a id="25137" class="Symbol">:</a> <a id="25139" class="Symbol">(</a><a id="25140" href="Demos.HSP-markdown.html#25140" class="Bound">ğ‘¨</a> <a id="25142" class="Symbol">:</a> <a id="25144" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="25152" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="25154" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="25156" class="Symbol">)(</a><a id="25158" href="Demos.HSP-markdown.html#25158" class="Bound">â„“â‚€</a> <a id="25161" href="Demos.HSP-markdown.html#25161" class="Bound">â„“â‚</a> <a id="25164" class="Symbol">:</a> <a id="25166" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="25171" class="Symbol">)</a> <a id="25173" class="Symbol">â†’</a> <a id="25175" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="25183" class="Symbol">(</a><a id="25184" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="25186" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="25188" href="Demos.HSP-markdown.html#25158" class="Bound">â„“â‚€</a><a id="25190" class="Symbol">)</a> <a id="25192" class="Symbol">(</a><a id="25193" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="25196" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="25198" href="Demos.HSP-markdown.html#25161" class="Bound">â„“â‚</a><a id="25200" class="Symbol">)</a>
<a id="25202" href="Demos.HSP-markdown.html#25128" class="Function">Lift-Alg</a> <a id="25211" href="Demos.HSP-markdown.html#25211" class="Bound">ğ‘¨</a> <a id="25213" href="Demos.HSP-markdown.html#25213" class="Bound">â„“â‚€</a> <a id="25216" href="Demos.HSP-markdown.html#25216" class="Bound">â„“â‚</a> <a id="25219" class="Symbol">=</a> <a id="25221" href="Demos.HSP-markdown.html#24620" class="Function">Lift-AlgÊ³</a> <a id="25231" class="Symbol">(</a><a id="25232" href="Demos.HSP-markdown.html#24238" class="Function">Lift-AlgË¡</a> <a id="25242" href="Demos.HSP-markdown.html#25211" class="Bound">ğ‘¨</a> <a id="25244" href="Demos.HSP-markdown.html#25213" class="Bound">â„“â‚€</a><a id="25246" class="Symbol">)</a> <a id="25248" href="Demos.HSP-markdown.html#25216" class="Bound">â„“â‚</a>
</pre>


### <a id="product-algebras">Product Algebras</a>

(cf. the [Setoid.Algebras.Products][] module of the [agda-algebras][] library.)

<pre class="Agda">

<a id="25410" class="Keyword">module</a> <a id="25417" href="Demos.HSP-markdown.html#25417" class="Module">_</a> <a id="25419" class="Symbol">{</a><a id="25420" href="Demos.HSP-markdown.html#25420" class="Bound">Î¹</a> <a id="25422" class="Symbol">:</a> <a id="25424" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="25429" class="Symbol">}{</a><a id="25431" href="Demos.HSP-markdown.html#25431" class="Bound">I</a> <a id="25433" class="Symbol">:</a> <a id="25435" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="25440" href="Demos.HSP-markdown.html#25420" class="Bound">Î¹</a> <a id="25442" class="Symbol">}</a> <a id="25444" class="Keyword">where</a>

 <a id="25452" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="25454" class="Symbol">:</a> <a id="25456" class="Symbol">(</a><a id="25457" href="Demos.HSP-markdown.html#25457" class="Bound">ğ’œ</a> <a id="25459" class="Symbol">:</a> <a id="25461" href="Demos.HSP-markdown.html#25431" class="Bound">I</a> <a id="25463" class="Symbol">â†’</a> <a id="25465" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="25473" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="25475" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="25477" class="Symbol">)</a> <a id="25479" class="Symbol">â†’</a> <a id="25481" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="25489" class="Symbol">(</a><a id="25490" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="25492" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="25494" href="Demos.HSP-markdown.html#25420" class="Bound">Î¹</a><a id="25495" class="Symbol">)</a> <a id="25497" class="Symbol">(</a><a id="25498" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="25501" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="25503" href="Demos.HSP-markdown.html#25420" class="Bound">Î¹</a><a id="25504" class="Symbol">)</a>
 <a id="25507" href="Demos.HSP-markdown.html#22553" class="Field">Domain</a> <a id="25514" class="Symbol">(</a><a id="25515" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="25517" href="Demos.HSP-markdown.html#25517" class="Bound">ğ’œ</a><a id="25518" class="Symbol">)</a> <a id="25520" class="Symbol">=</a>
  <a id="25524" class="Keyword">record</a>  <a id="25532" class="Symbol">{</a> <a id="25534" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="25542" class="Symbol">=</a> <a id="25544" class="Symbol">âˆ€</a> <a id="25546" href="Demos.HSP-markdown.html#25546" class="Bound">i</a> <a id="25548" class="Symbol">â†’</a> <a id="25550" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="25553" href="Demos.HSP-markdown.html#25517" class="Bound">ğ’œ</a> <a id="25555" href="Demos.HSP-markdown.html#25546" class="Bound">i</a> <a id="25557" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a>
          <a id="25569" class="Symbol">;</a> <a id="25571" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="25575" class="Symbol">=</a> <a id="25577" class="Symbol">Î»</a> <a id="25579" href="Demos.HSP-markdown.html#25579" class="Bound">a</a> <a id="25581" href="Demos.HSP-markdown.html#25581" class="Bound">b</a> <a id="25583" class="Symbol">â†’</a> <a id="25585" class="Symbol">âˆ€</a> <a id="25587" href="Demos.HSP-markdown.html#25587" class="Bound">i</a> <a id="25589" class="Symbol">â†’</a> <a id="25591" class="Symbol">(</a><a id="25592" href="Relation.Binary.Bundles.html#1098" class="Field Operator">Setoid._â‰ˆ_</a> <a id="25603" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="25606" href="Demos.HSP-markdown.html#25517" class="Bound">ğ’œ</a> <a id="25608" href="Demos.HSP-markdown.html#25587" class="Bound">i</a> <a id="25610" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a><a id="25611" class="Symbol">)</a> <a id="25613" class="Symbol">(</a><a id="25614" href="Demos.HSP-markdown.html#25579" class="Bound">a</a> <a id="25616" href="Demos.HSP-markdown.html#25587" class="Bound">i</a><a id="25617" class="Symbol">)(</a><a id="25619" href="Demos.HSP-markdown.html#25581" class="Bound">b</a> <a id="25621" href="Demos.HSP-markdown.html#25587" class="Bound">i</a><a id="25622" class="Symbol">)</a>
          <a id="25634" class="Symbol">;</a> <a id="25636" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="25650" class="Symbol">=</a>
            <a id="25664" class="Keyword">record</a>  <a id="25672" class="Symbol">{</a> <a id="25674" href="Relation.Binary.Structures.html#1568" class="Field">refl</a>   <a id="25681" class="Symbol">=</a> <a id="25683" class="Symbol">Î»</a> <a id="25685" href="Demos.HSP-markdown.html#25685" class="Bound">i</a> <a id="25687" class="Symbol">â†’</a>      <a id="25694" href="Relation.Binary.Structures.html#1568" class="Field">IsEquivalence.refl</a>   <a id="25715" class="Symbol">(</a><a id="25716" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="25730" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="25733" href="Demos.HSP-markdown.html#25517" class="Bound">ğ’œ</a> <a id="25735" href="Demos.HSP-markdown.html#25685" class="Bound">i</a> <a id="25737" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a><a id="25738" class="Symbol">)</a>
                    <a id="25760" class="Symbol">;</a> <a id="25762" href="Relation.Binary.Structures.html#1594" class="Field">sym</a>    <a id="25769" class="Symbol">=</a> <a id="25771" class="Symbol">Î»</a> <a id="25773" href="Demos.HSP-markdown.html#25773" class="Bound">x</a> <a id="25775" href="Demos.HSP-markdown.html#25775" class="Bound">i</a> <a id="25777" class="Symbol">â†’</a>    <a id="25782" href="Relation.Binary.Structures.html#1594" class="Field">IsEquivalence.sym</a>    <a id="25803" class="Symbol">(</a><a id="25804" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="25818" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="25821" href="Demos.HSP-markdown.html#25517" class="Bound">ğ’œ</a> <a id="25823" href="Demos.HSP-markdown.html#25775" class="Bound">i</a> <a id="25825" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a><a id="25826" class="Symbol">)(</a><a id="25828" href="Demos.HSP-markdown.html#25773" class="Bound">x</a> <a id="25830" href="Demos.HSP-markdown.html#25775" class="Bound">i</a><a id="25831" class="Symbol">)</a>
                    <a id="25853" class="Symbol">;</a> <a id="25855" href="Relation.Binary.Structures.html#1620" class="Field">trans</a>  <a id="25862" class="Symbol">=</a> <a id="25864" class="Symbol">Î»</a> <a id="25866" href="Demos.HSP-markdown.html#25866" class="Bound">x</a> <a id="25868" href="Demos.HSP-markdown.html#25868" class="Bound">y</a> <a id="25870" href="Demos.HSP-markdown.html#25870" class="Bound">i</a> <a id="25872" class="Symbol">â†’</a>  <a id="25875" href="Relation.Binary.Structures.html#1620" class="Field">IsEquivalence.trans</a>  <a id="25896" class="Symbol">(</a><a id="25897" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="25911" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="25914" href="Demos.HSP-markdown.html#25517" class="Bound">ğ’œ</a> <a id="25916" href="Demos.HSP-markdown.html#25870" class="Bound">i</a> <a id="25918" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a><a id="25919" class="Symbol">)(</a><a id="25921" href="Demos.HSP-markdown.html#25866" class="Bound">x</a> <a id="25923" href="Demos.HSP-markdown.html#25870" class="Bound">i</a><a id="25924" class="Symbol">)(</a><a id="25926" href="Demos.HSP-markdown.html#25868" class="Bound">y</a> <a id="25928" href="Demos.HSP-markdown.html#25870" class="Bound">i</a><a id="25929" class="Symbol">)</a> <a id="25931" class="Symbol">}}</a>
 <a id="25935" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="25942" class="Symbol">(</a><a id="25943" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="25945" href="Demos.HSP-markdown.html#25945" class="Bound">ğ’œ</a><a id="25946" class="Symbol">)</a> <a id="25948" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="25952" class="Symbol">(</a><a id="25953" href="Demos.HSP-markdown.html#25953" class="Bound">f</a> <a id="25955" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="25957" href="Demos.HSP-markdown.html#25957" class="Bound">a</a><a id="25958" class="Symbol">)</a> <a id="25960" class="Symbol">=</a> <a id="25962" class="Symbol">Î»</a> <a id="25964" href="Demos.HSP-markdown.html#25964" class="Bound">i</a> <a id="25966" class="Symbol">â†’</a> <a id="25968" class="Symbol">(</a><a id="25969" href="Demos.HSP-markdown.html#25953" class="Bound">f</a> <a id="25971" href="Demos.HSP-markdown.html#23818" class="Function Operator">Ì‚</a> <a id="25973" class="Symbol">(</a><a id="25974" href="Demos.HSP-markdown.html#25945" class="Bound">ğ’œ</a> <a id="25976" href="Demos.HSP-markdown.html#25964" class="Bound">i</a><a id="25977" class="Symbol">))</a> <a id="25980" class="Symbol">(</a><a id="25981" href="Function.Base.html#1554" class="Function">flip</a> <a id="25986" href="Demos.HSP-markdown.html#25957" class="Bound">a</a> <a id="25988" href="Demos.HSP-markdown.html#25964" class="Bound">i</a><a id="25989" class="Symbol">)</a>
 <a id="25992" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="25997" class="Symbol">(</a><a id="25998" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="26005" class="Symbol">(</a><a id="26006" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="26008" href="Demos.HSP-markdown.html#26008" class="Bound">ğ’œ</a><a id="26009" class="Symbol">))</a> <a id="26012" class="Symbol">(</a><a id="26013" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="26020" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="26022" href="Demos.HSP-markdown.html#26022" class="Bound">f=g</a> <a id="26026" class="Symbol">)</a> <a id="26028" class="Symbol">=</a> <a id="26030" class="Symbol">Î»</a> <a id="26032" href="Demos.HSP-markdown.html#26032" class="Bound">i</a> <a id="26034" class="Symbol">â†’</a> <a id="26036" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="26041" class="Symbol">(</a><a id="26042" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="26049" class="Symbol">(</a><a id="26050" href="Demos.HSP-markdown.html#26008" class="Bound">ğ’œ</a> <a id="26052" href="Demos.HSP-markdown.html#26032" class="Bound">i</a><a id="26053" class="Symbol">))</a> <a id="26056" class="Symbol">(</a><a id="26057" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="26064" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="26066" href="Function.Base.html#1554" class="Function">flip</a> <a id="26071" href="Demos.HSP-markdown.html#26022" class="Bound">f=g</a> <a id="26075" href="Demos.HSP-markdown.html#26032" class="Bound">i</a> <a id="26077" class="Symbol">)</a>
</pre>





<!-- ------------------------------------------------------------------------------------- -->

## <a id="Homomorphisms">Homomorphisms</a>
### <a id="homomorphism-basic-definitions">Basic definitions</a>
Here are some useful definitions and theorems extracted from the [Setoid.Homomorphisms.Basic][] module of the [agda-algebras][] library.

<pre class="Agda">

<a id="26451" class="Keyword">module</a> <a id="26458" href="Demos.HSP-markdown.html#26458" class="Module">_</a> <a id="26460" class="Symbol">(</a><a id="26461" href="Demos.HSP-markdown.html#26461" class="Bound">ğ‘¨</a> <a id="26463" class="Symbol">:</a> <a id="26465" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="26473" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="26475" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="26477" class="Symbol">)(</a><a id="26479" href="Demos.HSP-markdown.html#26479" class="Bound">ğ‘©</a> <a id="26481" class="Symbol">:</a> <a id="26483" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="26491" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="26493" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="26495" class="Symbol">)</a> <a id="26497" class="Keyword">where</a>
 <a id="26504" class="Keyword">private</a> <a id="26512" href="Demos.HSP-markdown.html#26512" class="Function">ov</a> <a id="26515" class="Symbol">=</a> <a id="26517" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="26519" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26521" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="26523" class="Symbol">;</a> <a id="26525" href="Demos.HSP-markdown.html#26525" class="Function">a</a> <a id="26527" class="Symbol">=</a> <a id="26529" href="Demos.HSP-markdown.html#26473" class="Bound">Î±</a> <a id="26531" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26533" href="Demos.HSP-markdown.html#26475" class="Bound">Ïáµƒ</a> <a id="26536" class="Symbol">;</a> <a id="26538" href="Demos.HSP-markdown.html#26538" class="Function">b</a> <a id="26540" class="Symbol">=</a> <a id="26542" href="Demos.HSP-markdown.html#26491" class="Bound">Î²</a> <a id="26544" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26546" href="Demos.HSP-markdown.html#26493" class="Bound">Ïáµ‡</a> <a id="26549" class="Symbol">;</a> <a id="26551" href="Demos.HSP-markdown.html#26551" class="Function">c</a> <a id="26553" class="Symbol">=</a> <a id="26555" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="26557" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26559" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="26561" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26563" href="Demos.HSP-markdown.html#26473" class="Bound">Î±</a> <a id="26565" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26567" href="Demos.HSP-markdown.html#26475" class="Bound">Ïáµƒ</a> <a id="26570" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26572" href="Demos.HSP-markdown.html#26491" class="Bound">Î²</a> <a id="26574" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26576" href="Demos.HSP-markdown.html#26493" class="Bound">Ïáµ‡</a>

 <a id="26581" href="Demos.HSP-markdown.html#26581" class="Function">compatible-map-op</a> <a id="26599" class="Symbol">:</a> <a id="26601" class="Symbol">(</a><a id="26602" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="26605" href="Demos.HSP-markdown.html#26461" class="Bound">ğ‘¨</a> <a id="26607" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="26609" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="26611" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="26614" href="Demos.HSP-markdown.html#26479" class="Bound">ğ‘©</a> <a id="26616" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a><a id="26617" class="Symbol">)</a> <a id="26619" class="Symbol">â†’</a> <a id="26621" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="26623" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="26625" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="26627" class="Symbol">â†’</a> <a id="26629" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="26634" class="Symbol">(</a><a id="26635" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="26637" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26639" href="Demos.HSP-markdown.html#26473" class="Bound">Î±</a> <a id="26641" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26643" href="Demos.HSP-markdown.html#26493" class="Bound">Ïáµ‡</a><a id="26645" class="Symbol">)</a>
 <a id="26648" href="Demos.HSP-markdown.html#26581" class="Function">compatible-map-op</a> <a id="26666" href="Demos.HSP-markdown.html#26666" class="Bound">h</a> <a id="26668" href="Demos.HSP-markdown.html#26668" class="Bound">f</a> <a id="26670" class="Symbol">=</a> <a id="26672" class="Symbol">âˆ€</a> <a id="26674" class="Symbol">{</a><a id="26675" href="Demos.HSP-markdown.html#26675" class="Bound">a</a><a id="26676" class="Symbol">}</a> <a id="26678" class="Symbol">â†’</a> <a id="26680" class="Symbol">(</a><a id="26681" href="Demos.HSP-markdown.html#26666" class="Bound">h</a> <a id="26683" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="26687" class="Symbol">((</a><a id="26689" href="Demos.HSP-markdown.html#26668" class="Bound">f</a> <a id="26691" href="Demos.HSP-markdown.html#23818" class="Function Operator">Ì‚</a> <a id="26693" href="Demos.HSP-markdown.html#26461" class="Bound">ğ‘¨</a><a id="26694" class="Symbol">)</a> <a id="26696" href="Demos.HSP-markdown.html#26675" class="Bound">a</a><a id="26697" class="Symbol">))</a> <a id="26700" href="Demos.HSP-markdown.html#26790" class="Function Operator">â‰ˆâ‚‚</a> <a id="26703" class="Symbol">((</a><a id="26705" href="Demos.HSP-markdown.html#26668" class="Bound">f</a> <a id="26707" href="Demos.HSP-markdown.html#23818" class="Function Operator">Ì‚</a> <a id="26709" href="Demos.HSP-markdown.html#26479" class="Bound">ğ‘©</a><a id="26710" class="Symbol">)</a> <a id="26712" class="Symbol">(Î»</a> <a id="26715" href="Demos.HSP-markdown.html#26715" class="Bound">x</a> <a id="26717" class="Symbol">â†’</a> <a id="26719" class="Symbol">(</a><a id="26720" href="Demos.HSP-markdown.html#26666" class="Bound">h</a> <a id="26722" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="26726" class="Symbol">(</a><a id="26727" href="Demos.HSP-markdown.html#26675" class="Bound">a</a> <a id="26729" href="Demos.HSP-markdown.html#26715" class="Bound">x</a><a id="26730" class="Symbol">))))</a>
  <a id="26737" class="Keyword">where</a>  <a id="26744" class="Keyword">open</a> <a id="26749" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="26756" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="26759" href="Demos.HSP-markdown.html#26479" class="Bound">ğ‘©</a> <a id="26761" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="26763" class="Keyword">using</a> <a id="26769" class="Symbol">()</a> <a id="26772" class="Keyword">renaming</a> <a id="26781" class="Symbol">(</a> <a id="26783" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="26787" class="Symbol">to</a> <a id="26790" class="Field Operator">_â‰ˆâ‚‚_</a> <a id="26795" class="Symbol">)</a>

 <a id="26799" href="Demos.HSP-markdown.html#26799" class="Function">compatible-map</a> <a id="26814" class="Symbol">:</a> <a id="26816" class="Symbol">(</a><a id="26817" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="26820" href="Demos.HSP-markdown.html#26461" class="Bound">ğ‘¨</a> <a id="26822" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="26824" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="26826" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="26829" href="Demos.HSP-markdown.html#26479" class="Bound">ğ‘©</a> <a id="26831" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a><a id="26832" class="Symbol">)</a> <a id="26834" class="Symbol">â†’</a> <a id="26836" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="26841" class="Symbol">(</a><a id="26842" href="Demos.HSP-markdown.html#26512" class="Function">ov</a> <a id="26845" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26847" href="Demos.HSP-markdown.html#26473" class="Bound">Î±</a> <a id="26849" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26851" href="Demos.HSP-markdown.html#26493" class="Bound">Ïáµ‡</a><a id="26853" class="Symbol">)</a>
 <a id="26856" href="Demos.HSP-markdown.html#26799" class="Function">compatible-map</a> <a id="26871" href="Demos.HSP-markdown.html#26871" class="Bound">h</a> <a id="26873" class="Symbol">=</a> <a id="26875" class="Symbol">âˆ€</a> <a id="26877" class="Symbol">{</a><a id="26878" href="Demos.HSP-markdown.html#26878" class="Bound">f</a><a id="26879" class="Symbol">}</a> <a id="26881" class="Symbol">â†’</a> <a id="26883" href="Demos.HSP-markdown.html#26581" class="Function">compatible-map-op</a> <a id="26901" href="Demos.HSP-markdown.html#26871" class="Bound">h</a> <a id="26903" href="Demos.HSP-markdown.html#26878" class="Bound">f</a>

 <a id="26907" class="Comment">-- The property of being a homomorphism.</a>
 <a id="26949" class="Keyword">record</a> <a id="26956" href="Demos.HSP-markdown.html#26956" class="Record">IsHom</a> <a id="26962" class="Symbol">(</a><a id="26963" href="Demos.HSP-markdown.html#26963" class="Bound">h</a> <a id="26965" class="Symbol">:</a> <a id="26967" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="26970" href="Demos.HSP-markdown.html#26461" class="Bound">ğ‘¨</a> <a id="26972" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="26974" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="26976" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="26979" href="Demos.HSP-markdown.html#26479" class="Bound">ğ‘©</a> <a id="26981" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a><a id="26982" class="Symbol">)</a> <a id="26984" class="Symbol">:</a> <a id="26986" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="26991" class="Symbol">(</a><a id="26992" href="Demos.HSP-markdown.html#26512" class="Function">ov</a> <a id="26995" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26997" href="Demos.HSP-markdown.html#26473" class="Bound">Î±</a> <a id="26999" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="27001" href="Demos.HSP-markdown.html#26493" class="Bound">Ïáµ‡</a><a id="27003" class="Symbol">)</a> <a id="27005" class="Keyword">where</a>
  <a id="27013" class="Keyword">constructor</a> <a id="27025" href="Demos.HSP-markdown.html#27025" class="InductiveConstructor">mkhom</a>
  <a id="27033" class="Keyword">field</a> <a id="27039" href="Demos.HSP-markdown.html#27039" class="Field">compatible</a> <a id="27050" class="Symbol">:</a> <a id="27052" href="Demos.HSP-markdown.html#26799" class="Function">compatible-map</a> <a id="27067" href="Demos.HSP-markdown.html#26963" class="Bound">h</a>

 <a id="27071" class="Comment">-- The type of homomorphisms.</a>
 <a id="27102" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="27106" class="Symbol">:</a> <a id="27108" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="27113" href="Demos.HSP-markdown.html#26551" class="Function">c</a>
 <a id="27116" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="27120" class="Symbol">=</a> <a id="27122" href="Agda.Builtin.Sigma.html#166" class="Record">Î£</a> <a id="27124" class="Symbol">(</a><a id="27125" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a>Â <a id="27128" href="Demos.HSP-markdown.html#26461" class="Bound">ğ‘¨</a> <a id="27130" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="27132" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="27134" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="27137" href="Demos.HSP-markdown.html#26479" class="Bound">ğ‘©</a> <a id="27139" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a><a id="27140" class="Symbol">)</a> <a id="27142" href="Demos.HSP-markdown.html#26956" class="Record">IsHom</a>
</pre>


### <a id="monomorphisms-and-epimorphisms">Monomorphisms and epimorphisms</a>

<pre class="Agda">

 <a id="27255" class="Keyword">record</a> <a id="27262" href="Demos.HSP-markdown.html#27262" class="Record">IsMon</a> <a id="27268" class="Symbol">(</a><a id="27269" href="Demos.HSP-markdown.html#27269" class="Bound">h</a> <a id="27271" class="Symbol">:</a> <a id="27273" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="27276" href="Demos.HSP-markdown.html#26461" class="Bound">ğ‘¨</a> <a id="27278" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="27280" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="27282" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="27285" href="Demos.HSP-markdown.html#26479" class="Bound">ğ‘©</a> <a id="27287" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a><a id="27288" class="Symbol">)</a> <a id="27290" class="Symbol">:</a> <a id="27292" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="27297" class="Symbol">(</a><a id="27298" href="Demos.HSP-markdown.html#26512" class="Function">ov</a> <a id="27301" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="27303" href="Demos.HSP-markdown.html#26525" class="Function">a</a> <a id="27305" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="27307" href="Demos.HSP-markdown.html#26493" class="Bound">Ïáµ‡</a><a id="27309" class="Symbol">)</a> <a id="27311" class="Keyword">where</a>
  <a id="27319" class="Keyword">field</a>  <a id="27326" href="Demos.HSP-markdown.html#27326" class="Field">isHom</a> <a id="27332" class="Symbol">:</a> <a id="27334" href="Demos.HSP-markdown.html#26956" class="Record">IsHom</a> <a id="27340" href="Demos.HSP-markdown.html#27269" class="Bound">h</a>
         <a id="27351" href="Demos.HSP-markdown.html#27351" class="Field">isInjective</a> <a id="27363" class="Symbol">:</a> <a id="27365" href="Demos.HSP-markdown.html#14666" class="Function">IsInjective</a> <a id="27377" href="Demos.HSP-markdown.html#27269" class="Bound">h</a>

  <a id="27382" href="Demos.HSP-markdown.html#27382" class="Function">HomReduct</a> <a id="27392" class="Symbol">:</a> <a id="27394" href="Demos.HSP-markdown.html#27102" class="Function">hom</a>
  <a id="27400" href="Demos.HSP-markdown.html#27382" class="Function">HomReduct</a> <a id="27410" class="Symbol">=</a> <a id="27412" href="Demos.HSP-markdown.html#27269" class="Bound">h</a> <a id="27414" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="27416" href="Demos.HSP-markdown.html#27326" class="Field">isHom</a>

 <a id="27424" href="Demos.HSP-markdown.html#27424" class="Function">mon</a> <a id="27428" class="Symbol">:</a> <a id="27430" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="27435" href="Demos.HSP-markdown.html#26551" class="Function">c</a>
 <a id="27438" href="Demos.HSP-markdown.html#27424" class="Function">mon</a> <a id="27442" class="Symbol">=</a> <a id="27444" href="Agda.Builtin.Sigma.html#166" class="Record">Î£</a> <a id="27446" class="Symbol">(</a><a id="27447" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="27450" href="Demos.HSP-markdown.html#26461" class="Bound">ğ‘¨</a> <a id="27452" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="27454" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="27456" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="27459" href="Demos.HSP-markdown.html#26479" class="Bound">ğ‘©</a> <a id="27461" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a><a id="27462" class="Symbol">)</a> <a id="27464" href="Demos.HSP-markdown.html#27262" class="Record">IsMon</a>

 <a id="27472" class="Keyword">record</a> <a id="27479" href="Demos.HSP-markdown.html#27479" class="Record">IsEpi</a> <a id="27485" class="Symbol">(</a><a id="27486" href="Demos.HSP-markdown.html#27486" class="Bound">h</a> <a id="27488" class="Symbol">:</a> <a id="27490" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="27493" href="Demos.HSP-markdown.html#26461" class="Bound">ğ‘¨</a> <a id="27495" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="27497" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="27499" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="27502" href="Demos.HSP-markdown.html#26479" class="Bound">ğ‘©</a> <a id="27504" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a><a id="27505" class="Symbol">)</a> <a id="27507" class="Symbol">:</a> <a id="27509" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="27514" class="Symbol">(</a><a id="27515" href="Demos.HSP-markdown.html#26512" class="Function">ov</a> <a id="27518" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="27520" href="Demos.HSP-markdown.html#26473" class="Bound">Î±</a> <a id="27522" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="27524" href="Demos.HSP-markdown.html#26538" class="Function">b</a><a id="27525" class="Symbol">)</a> <a id="27527" class="Keyword">where</a>
  <a id="27535" class="Keyword">field</a>  <a id="27542" href="Demos.HSP-markdown.html#27542" class="Field">isHom</a> <a id="27548" class="Symbol">:</a> <a id="27550" href="Demos.HSP-markdown.html#26956" class="Record">IsHom</a> <a id="27556" href="Demos.HSP-markdown.html#27486" class="Bound">h</a>
         <a id="27567" href="Demos.HSP-markdown.html#27567" class="Field">isSurjective</a> <a id="27580" class="Symbol">:</a> <a id="27582" href="Demos.HSP-markdown.html#14749" class="Function">IsSurjective</a> <a id="27595" href="Demos.HSP-markdown.html#27486" class="Bound">h</a>

  <a id="27600" href="Demos.HSP-markdown.html#27600" class="Function">HomReduct</a> <a id="27610" class="Symbol">:</a> <a id="27612" href="Demos.HSP-markdown.html#27102" class="Function">hom</a>
  <a id="27618" href="Demos.HSP-markdown.html#27600" class="Function">HomReduct</a> <a id="27628" class="Symbol">=</a> <a id="27630" href="Demos.HSP-markdown.html#27486" class="Bound">h</a> <a id="27632" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="27634" href="Demos.HSP-markdown.html#27542" class="Field">isHom</a>

 <a id="27642" href="Demos.HSP-markdown.html#27642" class="Function">epi</a> <a id="27646" class="Symbol">:</a> <a id="27648" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="27653" href="Demos.HSP-markdown.html#26551" class="Function">c</a>
 <a id="27656" href="Demos.HSP-markdown.html#27642" class="Function">epi</a> <a id="27660" class="Symbol">=</a> <a id="27662" href="Agda.Builtin.Sigma.html#166" class="Record">Î£</a> <a id="27664" class="Symbol">(</a><a id="27665" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="27668" href="Demos.HSP-markdown.html#26461" class="Bound">ğ‘¨</a> <a id="27670" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="27672" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="27674" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="27677" href="Demos.HSP-markdown.html#26479" class="Bound">ğ‘©</a> <a id="27679" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a><a id="27680" class="Symbol">)</a> <a id="27682" href="Demos.HSP-markdown.html#27479" class="Record">IsEpi</a>

<a id="27689" class="Keyword">open</a> <a id="27694" href="Demos.HSP-markdown.html#26956" class="Module">IsHom</a> <a id="27700" class="Symbol">;</a> <a id="27702" class="Keyword">open</a> <a id="27707" href="Demos.HSP-markdown.html#27262" class="Module">IsMon</a> <a id="27713" class="Symbol">;</a> <a id="27715" class="Keyword">open</a> <a id="27720" href="Demos.HSP-markdown.html#27479" class="Module">IsEpi</a>

<a id="27727" class="Keyword">module</a> <a id="27734" href="Demos.HSP-markdown.html#27734" class="Module">_</a> <a id="27736" class="Symbol">(</a><a id="27737" href="Demos.HSP-markdown.html#27737" class="Bound">ğ‘¨</a> <a id="27739" class="Symbol">:</a> <a id="27741" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="27749" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="27751" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="27753" class="Symbol">)(</a><a id="27755" href="Demos.HSP-markdown.html#27755" class="Bound">ğ‘©</a> <a id="27757" class="Symbol">:</a> <a id="27759" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="27767" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="27769" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="27771" class="Symbol">)</a> <a id="27773" class="Keyword">where</a>

 <a id="27781" href="Demos.HSP-markdown.html#27781" class="Function">monâ†’intohom</a> <a id="27793" class="Symbol">:</a> <a id="27795" href="Demos.HSP-markdown.html#27424" class="Function">mon</a> <a id="27799" href="Demos.HSP-markdown.html#27737" class="Bound">ğ‘¨</a> <a id="27801" href="Demos.HSP-markdown.html#27755" class="Bound">ğ‘©</a> <a id="27803" class="Symbol">â†’</a> <a id="27805" href="Data.Product.html#916" class="Function">Î£[</a> <a id="27808" href="Demos.HSP-markdown.html#27808" class="Bound">h</a> <a id="27810" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="27812" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="27816" href="Demos.HSP-markdown.html#27737" class="Bound">ğ‘¨</a> <a id="27818" href="Demos.HSP-markdown.html#27755" class="Bound">ğ‘©</a> <a id="27820" href="Data.Product.html#916" class="Function">]</a> <a id="27822" href="Demos.HSP-markdown.html#14666" class="Function">IsInjective</a> <a id="27834" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="27836" href="Demos.HSP-markdown.html#27808" class="Bound">h</a> <a id="27838" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
 <a id="27841" href="Demos.HSP-markdown.html#27781" class="Function">monâ†’intohom</a> <a id="27853" class="Symbol">(</a><a id="27854" href="Demos.HSP-markdown.html#27854" class="Bound">hh</a> <a id="27857" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="27859" href="Demos.HSP-markdown.html#27859" class="Bound">hhM</a><a id="27862" class="Symbol">)</a> <a id="27864" class="Symbol">=</a> <a id="27866" class="Symbol">(</a><a id="27867" href="Demos.HSP-markdown.html#27854" class="Bound">hh</a> <a id="27870" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="27872" href="Demos.HSP-markdown.html#27326" class="Field">isHom</a> <a id="27878" href="Demos.HSP-markdown.html#27859" class="Bound">hhM</a><a id="27881" class="Symbol">)</a> <a id="27883" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="27885" href="Demos.HSP-markdown.html#27351" class="Field">isInjective</a> <a id="27897" href="Demos.HSP-markdown.html#27859" class="Bound">hhM</a>

 <a id="27903" href="Demos.HSP-markdown.html#27903" class="Function">epiâ†’ontohom</a> <a id="27915" class="Symbol">:</a> <a id="27917" href="Demos.HSP-markdown.html#27642" class="Function">epi</a> <a id="27921" href="Demos.HSP-markdown.html#27737" class="Bound">ğ‘¨</a> <a id="27923" href="Demos.HSP-markdown.html#27755" class="Bound">ğ‘©</a> <a id="27925" class="Symbol">â†’</a> <a id="27927" href="Data.Product.html#916" class="Function">Î£[</a> <a id="27930" href="Demos.HSP-markdown.html#27930" class="Bound">h</a> <a id="27932" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="27934" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="27938" href="Demos.HSP-markdown.html#27737" class="Bound">ğ‘¨</a> <a id="27940" href="Demos.HSP-markdown.html#27755" class="Bound">ğ‘©</a> <a id="27942" href="Data.Product.html#916" class="Function">]</a> <a id="27944" href="Demos.HSP-markdown.html#14749" class="Function">IsSurjective</a> <a id="27957" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="27959" href="Demos.HSP-markdown.html#27930" class="Bound">h</a> <a id="27961" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
 <a id="27964" href="Demos.HSP-markdown.html#27903" class="Function">epiâ†’ontohom</a> <a id="27976" class="Symbol">(</a><a id="27977" href="Demos.HSP-markdown.html#27977" class="Bound">hh</a> <a id="27980" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="27982" href="Demos.HSP-markdown.html#27982" class="Bound">hhE</a><a id="27985" class="Symbol">)</a> <a id="27987" class="Symbol">=</a> <a id="27989" class="Symbol">(</a><a id="27990" href="Demos.HSP-markdown.html#27977" class="Bound">hh</a> <a id="27993" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="27995" href="Demos.HSP-markdown.html#27542" class="Field">isHom</a> <a id="28001" href="Demos.HSP-markdown.html#27982" class="Bound">hhE</a><a id="28004" class="Symbol">)</a> <a id="28006" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="28008" href="Demos.HSP-markdown.html#27567" class="Field">isSurjective</a> <a id="28021" href="Demos.HSP-markdown.html#27982" class="Bound">hhE</a>
</pre>


### <a id="basic-properties-of-homomorphisms">Basic properties of homomorphisms</a>

Here are some definitions and theorems extracted from the [Setoid.Homomorphisms.Properties][] module of the [agda-algebras][] library.


#### <a id="composition-of-homomorphisms">Composition of homomorphisms</a>

The composition of homomorphisms is again a homomorphism. Similarly,
the composition of epimorphisms is again an epimorphism.

<pre class="Agda">

<a id="28477" class="Keyword">module</a> <a id="28484" href="Demos.HSP-markdown.html#28484" class="Module">_</a>  <a id="28487" class="Symbol">{</a><a id="28488" href="Demos.HSP-markdown.html#28488" class="Bound">ğ‘¨</a> <a id="28490" class="Symbol">:</a> <a id="28492" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="28500" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="28502" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="28504" class="Symbol">}</a> <a id="28506" class="Symbol">{</a><a id="28507" href="Demos.HSP-markdown.html#28507" class="Bound">ğ‘©</a> <a id="28509" class="Symbol">:</a> <a id="28511" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="28519" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="28521" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="28523" class="Symbol">}</a> <a id="28525" class="Symbol">{</a><a id="28526" href="Demos.HSP-markdown.html#28526" class="Bound">ğ‘ª</a> <a id="28528" class="Symbol">:</a> <a id="28530" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="28538" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a> <a id="28540" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="28542" class="Symbol">}</a>
          <a id="28554" class="Symbol">{</a><a id="28555" href="Demos.HSP-markdown.html#28555" class="Bound">g</a> <a id="28557" class="Symbol">:</a> <a id="28559" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="28562" href="Demos.HSP-markdown.html#28488" class="Bound">ğ‘¨</a> <a id="28564" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="28566" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="28568" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="28571" href="Demos.HSP-markdown.html#28507" class="Bound">ğ‘©</a> <a id="28573" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a><a id="28574" class="Symbol">}{</a><a id="28576" href="Demos.HSP-markdown.html#28576" class="Bound">h</a> <a id="28578" class="Symbol">:</a> <a id="28580" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="28583" href="Demos.HSP-markdown.html#28507" class="Bound">ğ‘©</a> <a id="28585" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="28587" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="28589" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="28592" href="Demos.HSP-markdown.html#28526" class="Bound">ğ‘ª</a> <a id="28594" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a><a id="28595" class="Symbol">}</a> <a id="28597" class="Keyword">where</a>

  <a id="28606" class="Keyword">open</a> <a id="28611" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="28618" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="28621" href="Demos.HSP-markdown.html#28526" class="Bound">ğ‘ª</a> <a id="28623" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="28625" class="Keyword">using</a> <a id="28631" class="Symbol">(</a> <a id="28633" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="28639" class="Symbol">)</a>

  <a id="28644" href="Demos.HSP-markdown.html#28644" class="Function">âˆ˜-is-hom</a> <a id="28653" class="Symbol">:</a> <a id="28655" href="Demos.HSP-markdown.html#26956" class="Record">IsHom</a> <a id="28661" href="Demos.HSP-markdown.html#28488" class="Bound">ğ‘¨</a> <a id="28663" href="Demos.HSP-markdown.html#28507" class="Bound">ğ‘©</a> <a id="28665" href="Demos.HSP-markdown.html#28555" class="Bound">g</a> <a id="28667" class="Symbol">â†’</a> <a id="28669" href="Demos.HSP-markdown.html#26956" class="Record">IsHom</a> <a id="28675" href="Demos.HSP-markdown.html#28507" class="Bound">ğ‘©</a> <a id="28677" href="Demos.HSP-markdown.html#28526" class="Bound">ğ‘ª</a> <a id="28679" href="Demos.HSP-markdown.html#28576" class="Bound">h</a> <a id="28681" class="Symbol">â†’</a> <a id="28683" href="Demos.HSP-markdown.html#26956" class="Record">IsHom</a> <a id="28689" href="Demos.HSP-markdown.html#28488" class="Bound">ğ‘¨</a> <a id="28691" href="Demos.HSP-markdown.html#28526" class="Bound">ğ‘ª</a> <a id="28693" class="Symbol">(</a><a id="28694" href="Demos.HSP-markdown.html#28576" class="Bound">h</a> <a id="28696" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="28700" href="Demos.HSP-markdown.html#28555" class="Bound">g</a><a id="28701" class="Symbol">)</a>
  <a id="28705" href="Demos.HSP-markdown.html#28644" class="Function">âˆ˜-is-hom</a> <a id="28714" href="Demos.HSP-markdown.html#28714" class="Bound">ghom</a> <a id="28719" href="Demos.HSP-markdown.html#28719" class="Bound">hhom</a> <a id="28724" class="Symbol">=</a> <a id="28726" href="Demos.HSP-markdown.html#27025" class="InductiveConstructor">mkhom</a> <a id="28732" href="Demos.HSP-markdown.html#28746" class="Function">c</a>
   <a id="28737" class="Keyword">where</a>
   <a id="28746" href="Demos.HSP-markdown.html#28746" class="Function">c</a> <a id="28748" class="Symbol">:</a> <a id="28750" href="Demos.HSP-markdown.html#26799" class="Function">compatible-map</a> <a id="28765" href="Demos.HSP-markdown.html#28488" class="Bound">ğ‘¨</a> <a id="28767" href="Demos.HSP-markdown.html#28526" class="Bound">ğ‘ª</a> <a id="28769" class="Symbol">(</a><a id="28770" href="Demos.HSP-markdown.html#28576" class="Bound">h</a> <a id="28772" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="28776" href="Demos.HSP-markdown.html#28555" class="Bound">g</a><a id="28777" class="Symbol">)</a>
   <a id="28782" href="Demos.HSP-markdown.html#28746" class="Function">c</a> <a id="28784" class="Symbol">=</a> <a id="28786" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="28792" class="Symbol">(</a><a id="28793" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="28798" href="Demos.HSP-markdown.html#28576" class="Bound">h</a> <a id="28800" class="Symbol">(</a><a id="28801" href="Demos.HSP-markdown.html#27039" class="Field">compatible</a> <a id="28812" href="Demos.HSP-markdown.html#28714" class="Bound">ghom</a><a id="28816" class="Symbol">))</a> <a id="28819" class="Symbol">(</a><a id="28820" href="Demos.HSP-markdown.html#27039" class="Field">compatible</a> <a id="28831" href="Demos.HSP-markdown.html#28719" class="Bound">hhom</a><a id="28835" class="Symbol">)</a>

  <a id="28840" href="Demos.HSP-markdown.html#28840" class="Function">âˆ˜-is-epi</a> <a id="28849" class="Symbol">:</a> <a id="28851" href="Demos.HSP-markdown.html#27479" class="Record">IsEpi</a> <a id="28857" href="Demos.HSP-markdown.html#28488" class="Bound">ğ‘¨</a> <a id="28859" href="Demos.HSP-markdown.html#28507" class="Bound">ğ‘©</a> <a id="28861" href="Demos.HSP-markdown.html#28555" class="Bound">g</a> <a id="28863" class="Symbol">â†’</a> <a id="28865" href="Demos.HSP-markdown.html#27479" class="Record">IsEpi</a> <a id="28871" href="Demos.HSP-markdown.html#28507" class="Bound">ğ‘©</a> <a id="28873" href="Demos.HSP-markdown.html#28526" class="Bound">ğ‘ª</a> <a id="28875" href="Demos.HSP-markdown.html#28576" class="Bound">h</a> <a id="28877" class="Symbol">â†’</a> <a id="28879" href="Demos.HSP-markdown.html#27479" class="Record">IsEpi</a> <a id="28885" href="Demos.HSP-markdown.html#28488" class="Bound">ğ‘¨</a> <a id="28887" href="Demos.HSP-markdown.html#28526" class="Bound">ğ‘ª</a> <a id="28889" class="Symbol">(</a><a id="28890" href="Demos.HSP-markdown.html#28576" class="Bound">h</a> <a id="28892" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="28896" href="Demos.HSP-markdown.html#28555" class="Bound">g</a><a id="28897" class="Symbol">)</a>
  <a id="28901" href="Demos.HSP-markdown.html#28840" class="Function">âˆ˜-is-epi</a> <a id="28910" href="Demos.HSP-markdown.html#28910" class="Bound">gE</a> <a id="28913" href="Demos.HSP-markdown.html#28913" class="Bound">hE</a> <a id="28916" class="Symbol">=</a> <a id="28918" class="Keyword">record</a>  <a id="28926" class="Symbol">{</a> <a id="28928" href="Demos.HSP-markdown.html#27542" class="Field">isHom</a> <a id="28934" class="Symbol">=</a> <a id="28936" href="Demos.HSP-markdown.html#28644" class="Function">âˆ˜-is-hom</a> <a id="28945" class="Symbol">(</a><a id="28946" href="Demos.HSP-markdown.html#27542" class="Field">isHom</a> <a id="28952" href="Demos.HSP-markdown.html#28910" class="Bound">gE</a><a id="28954" class="Symbol">)</a> <a id="28956" class="Symbol">(</a><a id="28957" href="Demos.HSP-markdown.html#27542" class="Field">isHom</a> <a id="28963" href="Demos.HSP-markdown.html#28913" class="Bound">hE</a><a id="28965" class="Symbol">)</a>
                           <a id="28994" class="Symbol">;</a> <a id="28996" href="Demos.HSP-markdown.html#27567" class="Field">isSurjective</a> <a id="29009" class="Symbol">=</a> <a id="29011" href="Demos.HSP-markdown.html#15533" class="Function">âˆ˜-IsSurjective</a> <a id="29026" href="Demos.HSP-markdown.html#28555" class="Bound">g</a> <a id="29028" href="Demos.HSP-markdown.html#28576" class="Bound">h</a> <a id="29030" class="Symbol">(</a><a id="29031" href="Demos.HSP-markdown.html#27567" class="Field">isSurjective</a> <a id="29044" href="Demos.HSP-markdown.html#28910" class="Bound">gE</a><a id="29046" class="Symbol">)</a> <a id="29048" class="Symbol">(</a><a id="29049" href="Demos.HSP-markdown.html#27567" class="Field">isSurjective</a> <a id="29062" href="Demos.HSP-markdown.html#28913" class="Bound">hE</a><a id="29064" class="Symbol">)</a> <a id="29066" class="Symbol">}</a>


<a id="29070" class="Keyword">module</a> <a id="29077" href="Demos.HSP-markdown.html#29077" class="Module">_</a> <a id="29079" class="Symbol">{</a><a id="29080" href="Demos.HSP-markdown.html#29080" class="Bound">ğ‘¨</a> <a id="29082" class="Symbol">:</a> <a id="29084" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="29092" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="29094" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="29096" class="Symbol">}</a> <a id="29098" class="Symbol">{</a><a id="29099" href="Demos.HSP-markdown.html#29099" class="Bound">ğ‘©</a> <a id="29101" class="Symbol">:</a> <a id="29103" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="29111" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="29113" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="29115" class="Symbol">}</a> <a id="29117" class="Symbol">{</a><a id="29118" href="Demos.HSP-markdown.html#29118" class="Bound">ğ‘ª</a> <a id="29120" class="Symbol">:</a> <a id="29122" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="29130" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a> <a id="29132" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="29134" class="Symbol">}</a> <a id="29136" class="Keyword">where</a>

  <a id="29145" href="Demos.HSP-markdown.html#29145" class="Function">âˆ˜-hom</a> <a id="29151" class="Symbol">:</a> <a id="29153" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="29157" href="Demos.HSP-markdown.html#29080" class="Bound">ğ‘¨</a> <a id="29159" href="Demos.HSP-markdown.html#29099" class="Bound">ğ‘©</a> <a id="29161" class="Symbol">â†’</a> <a id="29163" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="29167" href="Demos.HSP-markdown.html#29099" class="Bound">ğ‘©</a> <a id="29169" href="Demos.HSP-markdown.html#29118" class="Bound">ğ‘ª</a>  <a id="29172" class="Symbol">â†’</a> <a id="29174" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="29178" href="Demos.HSP-markdown.html#29080" class="Bound">ğ‘¨</a> <a id="29180" href="Demos.HSP-markdown.html#29118" class="Bound">ğ‘ª</a>
  <a id="29184" href="Demos.HSP-markdown.html#29145" class="Function">âˆ˜-hom</a> <a id="29190" class="Symbol">(</a><a id="29191" href="Demos.HSP-markdown.html#29191" class="Bound">h</a> <a id="29193" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29195" href="Demos.HSP-markdown.html#29195" class="Bound">hhom</a><a id="29199" class="Symbol">)</a> <a id="29201" class="Symbol">(</a><a id="29202" href="Demos.HSP-markdown.html#29202" class="Bound">g</a> <a id="29204" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29206" href="Demos.HSP-markdown.html#29206" class="Bound">ghom</a><a id="29210" class="Symbol">)</a> <a id="29212" class="Symbol">=</a> <a id="29214" class="Symbol">(</a><a id="29215" href="Demos.HSP-markdown.html#29202" class="Bound">g</a> <a id="29217" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="29221" href="Demos.HSP-markdown.html#29191" class="Bound">h</a><a id="29222" class="Symbol">)</a> <a id="29224" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29226" href="Demos.HSP-markdown.html#28644" class="Function">âˆ˜-is-hom</a> <a id="29235" href="Demos.HSP-markdown.html#29195" class="Bound">hhom</a> <a id="29240" href="Demos.HSP-markdown.html#29206" class="Bound">ghom</a>

  <a id="29248" href="Demos.HSP-markdown.html#29248" class="Function">âˆ˜-epi</a> <a id="29254" class="Symbol">:</a> <a id="29256" href="Demos.HSP-markdown.html#27642" class="Function">epi</a> <a id="29260" href="Demos.HSP-markdown.html#29080" class="Bound">ğ‘¨</a> <a id="29262" href="Demos.HSP-markdown.html#29099" class="Bound">ğ‘©</a> <a id="29264" class="Symbol">â†’</a> <a id="29266" href="Demos.HSP-markdown.html#27642" class="Function">epi</a> <a id="29270" href="Demos.HSP-markdown.html#29099" class="Bound">ğ‘©</a> <a id="29272" href="Demos.HSP-markdown.html#29118" class="Bound">ğ‘ª</a>  <a id="29275" class="Symbol">â†’</a> <a id="29277" href="Demos.HSP-markdown.html#27642" class="Function">epi</a> <a id="29281" href="Demos.HSP-markdown.html#29080" class="Bound">ğ‘¨</a> <a id="29283" href="Demos.HSP-markdown.html#29118" class="Bound">ğ‘ª</a>
  <a id="29287" href="Demos.HSP-markdown.html#29248" class="Function">âˆ˜-epi</a> <a id="29293" class="Symbol">(</a><a id="29294" href="Demos.HSP-markdown.html#29294" class="Bound">h</a> <a id="29296" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29298" href="Demos.HSP-markdown.html#29298" class="Bound">hepi</a><a id="29302" class="Symbol">)</a> <a id="29304" class="Symbol">(</a><a id="29305" href="Demos.HSP-markdown.html#29305" class="Bound">g</a> <a id="29307" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29309" href="Demos.HSP-markdown.html#29309" class="Bound">gepi</a><a id="29313" class="Symbol">)</a> <a id="29315" class="Symbol">=</a> <a id="29317" class="Symbol">(</a><a id="29318" href="Demos.HSP-markdown.html#29305" class="Bound">g</a> <a id="29320" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="29324" href="Demos.HSP-markdown.html#29294" class="Bound">h</a><a id="29325" class="Symbol">)</a> <a id="29327" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29329" href="Demos.HSP-markdown.html#28840" class="Function">âˆ˜-is-epi</a> <a id="29338" href="Demos.HSP-markdown.html#29298" class="Bound">hepi</a> <a id="29343" href="Demos.HSP-markdown.html#29309" class="Bound">gepi</a>
</pre>


#### <a id="universe-lifting-of-homomorphisms">Universe lifting of homomorphisms</a>

First we define the identity homomorphism for setoid algebras and then we prove that the operations of lifting and lowering of a setoid algebra are homomorphisms.

<pre class="Agda">

<a id="ğ’¾ğ’¹"></a><a id="29631" href="Demos.HSP-markdown.html#29631" class="Function">ğ’¾ğ’¹</a> <a id="29634" class="Symbol">:</a> <a id="29636" class="Symbol">{</a><a id="29637" href="Demos.HSP-markdown.html#29637" class="Bound">ğ‘¨</a> <a id="29639" class="Symbol">:</a> <a id="29641" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="29649" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="29651" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="29653" class="Symbol">}</a> <a id="29655" class="Symbol">â†’</a> <a id="29657" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="29661" href="Demos.HSP-markdown.html#29637" class="Bound">ğ‘¨</a> <a id="29663" href="Demos.HSP-markdown.html#29637" class="Bound">ğ‘¨</a>
<a id="29665" href="Demos.HSP-markdown.html#29631" class="Function">ğ’¾ğ’¹</a> <a id="29668" class="Symbol">{</a><a id="29669" class="Argument">ğ‘¨</a> <a id="29671" class="Symbol">=</a> <a id="29673" href="Demos.HSP-markdown.html#29673" class="Bound">ğ‘¨</a><a id="29674" class="Symbol">}</a> <a id="29676" class="Symbol">=</a> <a id="29678" href="Demos.HSP-markdown.html#11231" class="Function">ğ‘–ğ‘‘</a> <a id="29681" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29683" href="Demos.HSP-markdown.html#27025" class="InductiveConstructor">mkhom</a> <a id="29689" class="Symbol">(</a><a id="29690" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="29700" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a><a id="29706" class="Symbol">)</a> <a id="29708" class="Keyword">where</a> <a id="29714" class="Keyword">open</a> <a id="29719" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="29726" class="Symbol">(</a> <a id="29728" href="Demos.HSP-markdown.html#22553" class="Field">Domain</a> <a id="29735" href="Demos.HSP-markdown.html#29673" class="Bound">ğ‘¨</a> <a id="29737" class="Symbol">)</a> <a id="29739" class="Keyword">using</a> <a id="29745" class="Symbol">(</a> <a id="29747" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="29757" class="Symbol">)</a>

<a id="29760" class="Keyword">module</a> <a id="29767" href="Demos.HSP-markdown.html#29767" class="Module">_</a> <a id="29769" class="Symbol">{</a><a id="29770" href="Demos.HSP-markdown.html#29770" class="Bound">ğ‘¨</a> <a id="29772" class="Symbol">:</a> <a id="29774" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="29782" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="29784" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="29786" class="Symbol">}{</a><a id="29788" href="Demos.HSP-markdown.html#29788" class="Bound">â„“</a> <a id="29790" class="Symbol">:</a> <a id="29792" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="29797" class="Symbol">}</a> <a id="29799" class="Keyword">where</a>
 <a id="29806" class="Keyword">open</a> <a id="29811" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="29818" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="29821" href="Demos.HSP-markdown.html#29770" class="Bound">ğ‘¨</a> <a id="29823" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>              <a id="29838" class="Keyword">using</a> <a id="29844" class="Symbol">(</a> <a id="29846" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="29856" class="Symbol">)</a>  <a id="29859" class="Keyword">renaming</a> <a id="29868" class="Symbol">(</a> <a id="29870" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="29874" class="Symbol">to</a> <a id="29877" class="Field Operator">_â‰ˆâ‚_</a> <a id="29882" class="Symbol">;</a> <a id="29884" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="29889" class="Symbol">to</a> <a id="29892" class="Function">reflâ‚</a> <a id="29898" class="Symbol">)</a>
 <a id="29901" class="Keyword">open</a> <a id="29906" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="29913" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="29916" href="Demos.HSP-markdown.html#24238" class="Function">Lift-AlgË¡</a> <a id="29926" href="Demos.HSP-markdown.html#29770" class="Bound">ğ‘¨</a> <a id="29928" href="Demos.HSP-markdown.html#29788" class="Bound">â„“</a> <a id="29930" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>  <a id="29933" class="Keyword">using</a> <a id="29939" class="Symbol">()</a>             <a id="29954" class="Keyword">renaming</a> <a id="29963" class="Symbol">(</a> <a id="29965" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="29969" class="Symbol">to</a> <a id="29972" class="Field Operator">_â‰ˆË¡_</a> <a id="29977" class="Symbol">;</a> <a id="29979" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="29984" class="Symbol">to</a> <a id="29987" class="Function">reflË¡</a><a id="29992" class="Symbol">)</a>
 <a id="29995" class="Keyword">open</a> <a id="30000" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="30007" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="30010" href="Demos.HSP-markdown.html#24620" class="Function">Lift-AlgÊ³</a> <a id="30020" href="Demos.HSP-markdown.html#29770" class="Bound">ğ‘¨</a> <a id="30022" href="Demos.HSP-markdown.html#29788" class="Bound">â„“</a> <a id="30024" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>  <a id="30027" class="Keyword">using</a> <a id="30033" class="Symbol">()</a>             <a id="30048" class="Keyword">renaming</a> <a id="30057" class="Symbol">(</a> <a id="30059" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="30063" class="Symbol">to</a> <a id="30066" class="Field Operator">_â‰ˆÊ³_</a> <a id="30071" class="Symbol">;</a> <a id="30073" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="30078" class="Symbol">to</a> <a id="30081" class="Function">reflÊ³</a><a id="30086" class="Symbol">)</a>
 <a id="30089" class="Keyword">open</a> <a id="30094" href="Level.html" class="Module">Level</a>

 <a id="30102" href="Demos.HSP-markdown.html#30102" class="Function">ToLiftË¡</a> <a id="30110" class="Symbol">:</a> <a id="30112" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="30116" href="Demos.HSP-markdown.html#29770" class="Bound">ğ‘¨</a> <a id="30118" class="Symbol">(</a><a id="30119" href="Demos.HSP-markdown.html#24238" class="Function">Lift-AlgË¡</a> <a id="30129" href="Demos.HSP-markdown.html#29770" class="Bound">ğ‘¨</a> <a id="30131" href="Demos.HSP-markdown.html#29788" class="Bound">â„“</a><a id="30132" class="Symbol">)</a>
 <a id="30135" href="Demos.HSP-markdown.html#30102" class="Function">ToLiftË¡</a> <a id="30143" class="Symbol">=</a> <a id="30145" class="Keyword">record</a> <a id="30152" class="Symbol">{</a> <a id="30154" href="Function.Bundles.html#1919" class="Field">f</a> <a id="30156" class="Symbol">=</a> <a id="30158" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="30163" class="Symbol">;</a> <a id="30165" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="30170" class="Symbol">=</a> <a id="30172" href="Function.Base.html#615" class="Function">id</a> <a id="30175" class="Symbol">}</a> <a id="30177" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="30179" href="Demos.HSP-markdown.html#27025" class="InductiveConstructor">mkhom</a> <a id="30185" class="Symbol">(</a><a id="30186" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="30196" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a><a id="30202" class="Symbol">)</a>

 <a id="30206" href="Demos.HSP-markdown.html#30206" class="Function">FromLiftË¡</a> <a id="30216" class="Symbol">:</a> <a id="30218" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="30222" class="Symbol">(</a><a id="30223" href="Demos.HSP-markdown.html#24238" class="Function">Lift-AlgË¡</a> <a id="30233" href="Demos.HSP-markdown.html#29770" class="Bound">ğ‘¨</a> <a id="30235" href="Demos.HSP-markdown.html#29788" class="Bound">â„“</a><a id="30236" class="Symbol">)</a> <a id="30238" href="Demos.HSP-markdown.html#29770" class="Bound">ğ‘¨</a>
 <a id="30241" href="Demos.HSP-markdown.html#30206" class="Function">FromLiftË¡</a> <a id="30251" class="Symbol">=</a> <a id="30253" class="Keyword">record</a> <a id="30260" class="Symbol">{</a> <a id="30262" href="Function.Bundles.html#1919" class="Field">f</a> <a id="30264" class="Symbol">=</a> <a id="30266" href="Level.html#470" class="Field">lower</a> <a id="30272" class="Symbol">;</a> <a id="30274" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="30279" class="Symbol">=</a> <a id="30281" href="Function.Base.html#615" class="Function">id</a> <a id="30284" class="Symbol">}</a> <a id="30286" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="30288" href="Demos.HSP-markdown.html#27025" class="InductiveConstructor">mkhom</a> <a id="30294" href="Demos.HSP-markdown.html#29987" class="Function">reflË¡</a>

 <a id="30302" href="Demos.HSP-markdown.html#30302" class="Function">ToFromLiftË¡</a> <a id="30314" class="Symbol">:</a> <a id="30316" class="Symbol">âˆ€</a> <a id="30318" href="Demos.HSP-markdown.html#30318" class="Bound">b</a> <a id="30320" class="Symbol">â†’</a>  <a id="30323" class="Symbol">(</a><a id="30324" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30326" href="Demos.HSP-markdown.html#30102" class="Function">ToLiftË¡</a> <a id="30334" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30336" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="30340" class="Symbol">(</a><a id="30341" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30343" href="Demos.HSP-markdown.html#30206" class="Function">FromLiftË¡</a> <a id="30353" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30355" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="30359" href="Demos.HSP-markdown.html#30318" class="Bound">b</a><a id="30360" class="Symbol">))</a> <a id="30363" href="Demos.HSP-markdown.html#29972" class="Function Operator">â‰ˆË¡</a> <a id="30366" href="Demos.HSP-markdown.html#30318" class="Bound">b</a>
 <a id="30369" href="Demos.HSP-markdown.html#30302" class="Function">ToFromLiftË¡</a> <a id="30381" href="Demos.HSP-markdown.html#30381" class="Bound">b</a> <a id="30383" class="Symbol">=</a> <a id="30385" href="Demos.HSP-markdown.html#29892" class="Function">reflâ‚</a>

 <a id="30393" href="Demos.HSP-markdown.html#30393" class="Function">FromToLiftË¡</a> <a id="30405" class="Symbol">:</a> <a id="30407" class="Symbol">âˆ€</a> <a id="30409" href="Demos.HSP-markdown.html#30409" class="Bound">a</a> <a id="30411" class="Symbol">â†’</a> <a id="30413" class="Symbol">(</a><a id="30414" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30416" href="Demos.HSP-markdown.html#30206" class="Function">FromLiftË¡</a> <a id="30426" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30428" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="30432" class="Symbol">(</a><a id="30433" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30435" href="Demos.HSP-markdown.html#30102" class="Function">ToLiftË¡</a> <a id="30443" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30445" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="30449" href="Demos.HSP-markdown.html#30409" class="Bound">a</a><a id="30450" class="Symbol">))</a> <a id="30453" href="Demos.HSP-markdown.html#29877" class="Function Operator">â‰ˆâ‚</a> <a id="30456" href="Demos.HSP-markdown.html#30409" class="Bound">a</a>
 <a id="30459" href="Demos.HSP-markdown.html#30393" class="Function">FromToLiftË¡</a> <a id="30471" href="Demos.HSP-markdown.html#30471" class="Bound">a</a> <a id="30473" class="Symbol">=</a> <a id="30475" href="Demos.HSP-markdown.html#29892" class="Function">reflâ‚</a>

 <a id="30483" href="Demos.HSP-markdown.html#30483" class="Function">ToLiftÊ³</a> <a id="30491" class="Symbol">:</a> <a id="30493" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="30497" href="Demos.HSP-markdown.html#29770" class="Bound">ğ‘¨</a> <a id="30499" class="Symbol">(</a><a id="30500" href="Demos.HSP-markdown.html#24620" class="Function">Lift-AlgÊ³</a> <a id="30510" href="Demos.HSP-markdown.html#29770" class="Bound">ğ‘¨</a> <a id="30512" href="Demos.HSP-markdown.html#29788" class="Bound">â„“</a><a id="30513" class="Symbol">)</a>
 <a id="30516" href="Demos.HSP-markdown.html#30483" class="Function">ToLiftÊ³</a> <a id="30524" class="Symbol">=</a> <a id="30526" class="Keyword">record</a> <a id="30533" class="Symbol">{</a> <a id="30535" href="Function.Bundles.html#1919" class="Field">f</a> <a id="30537" class="Symbol">=</a> <a id="30539" href="Function.Base.html#615" class="Function">id</a> <a id="30542" class="Symbol">;</a> <a id="30544" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="30549" class="Symbol">=</a> <a id="30551" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="30556" class="Symbol">}</a> <a id="30558" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="30560" href="Demos.HSP-markdown.html#27025" class="InductiveConstructor">mkhom</a> <a id="30566" class="Symbol">(</a><a id="30567" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="30572" class="Symbol">(</a><a id="30573" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="30583" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a><a id="30589" class="Symbol">))</a>

 <a id="30594" href="Demos.HSP-markdown.html#30594" class="Function">FromLiftÊ³</a> <a id="30604" class="Symbol">:</a> <a id="30606" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="30610" class="Symbol">(</a><a id="30611" href="Demos.HSP-markdown.html#24620" class="Function">Lift-AlgÊ³</a> <a id="30621" href="Demos.HSP-markdown.html#29770" class="Bound">ğ‘¨</a> <a id="30623" href="Demos.HSP-markdown.html#29788" class="Bound">â„“</a><a id="30624" class="Symbol">)</a> <a id="30626" href="Demos.HSP-markdown.html#29770" class="Bound">ğ‘¨</a>
 <a id="30629" href="Demos.HSP-markdown.html#30594" class="Function">FromLiftÊ³</a> <a id="30639" class="Symbol">=</a> <a id="30641" class="Keyword">record</a> <a id="30648" class="Symbol">{</a> <a id="30650" href="Function.Bundles.html#1919" class="Field">f</a> <a id="30652" class="Symbol">=</a> <a id="30654" href="Function.Base.html#615" class="Function">id</a> <a id="30657" class="Symbol">;</a> <a id="30659" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="30664" class="Symbol">=</a> <a id="30666" href="Level.html#470" class="Field">lower</a> <a id="30672" class="Symbol">}</a> <a id="30674" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="30676" href="Demos.HSP-markdown.html#27025" class="InductiveConstructor">mkhom</a> <a id="30682" href="Demos.HSP-markdown.html#29987" class="Function">reflË¡</a>

 <a id="30690" href="Demos.HSP-markdown.html#30690" class="Function">ToFromLiftÊ³</a> <a id="30702" class="Symbol">:</a> <a id="30704" class="Symbol">âˆ€</a> <a id="30706" href="Demos.HSP-markdown.html#30706" class="Bound">b</a> <a id="30708" class="Symbol">â†’</a> <a id="30710" class="Symbol">(</a><a id="30711" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30713" href="Demos.HSP-markdown.html#30483" class="Function">ToLiftÊ³</a> <a id="30721" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30723" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="30727" class="Symbol">(</a><a id="30728" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30730" href="Demos.HSP-markdown.html#30594" class="Function">FromLiftÊ³</a> <a id="30740" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30742" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="30746" href="Demos.HSP-markdown.html#30706" class="Bound">b</a><a id="30747" class="Symbol">))</a> <a id="30750" href="Demos.HSP-markdown.html#30066" class="Function Operator">â‰ˆÊ³</a> <a id="30753" href="Demos.HSP-markdown.html#30706" class="Bound">b</a>
 <a id="30756" href="Demos.HSP-markdown.html#30690" class="Function">ToFromLiftÊ³</a> <a id="30768" href="Demos.HSP-markdown.html#30768" class="Bound">b</a> <a id="30770" class="Symbol">=</a> <a id="30772" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="30777" href="Demos.HSP-markdown.html#29892" class="Function">reflâ‚</a>

 <a id="30785" href="Demos.HSP-markdown.html#30785" class="Function">FromToLiftÊ³</a> <a id="30797" class="Symbol">:</a> <a id="30799" class="Symbol">âˆ€</a> <a id="30801" href="Demos.HSP-markdown.html#30801" class="Bound">a</a> <a id="30803" class="Symbol">â†’</a> <a id="30805" class="Symbol">(</a><a id="30806" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30808" href="Demos.HSP-markdown.html#30594" class="Function">FromLiftÊ³</a> <a id="30818" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30820" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="30824" class="Symbol">(</a><a id="30825" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30827" href="Demos.HSP-markdown.html#30483" class="Function">ToLiftÊ³</a> <a id="30835" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30837" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="30841" href="Demos.HSP-markdown.html#30801" class="Bound">a</a><a id="30842" class="Symbol">))</a> <a id="30845" href="Demos.HSP-markdown.html#29877" class="Function Operator">â‰ˆâ‚</a> <a id="30848" href="Demos.HSP-markdown.html#30801" class="Bound">a</a>
 <a id="30851" href="Demos.HSP-markdown.html#30785" class="Function">FromToLiftÊ³</a> <a id="30863" href="Demos.HSP-markdown.html#30863" class="Bound">a</a> <a id="30865" class="Symbol">=</a> <a id="30867" href="Demos.HSP-markdown.html#29892" class="Function">reflâ‚</a>


<a id="30875" class="Keyword">module</a> <a id="30882" href="Demos.HSP-markdown.html#30882" class="Module">_</a> <a id="30884" class="Symbol">{</a><a id="30885" href="Demos.HSP-markdown.html#30885" class="Bound">ğ‘¨</a> <a id="30887" class="Symbol">:</a> <a id="30889" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="30897" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="30899" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="30901" class="Symbol">}{</a><a id="30903" href="Demos.HSP-markdown.html#30903" class="Bound">â„“</a> <a id="30905" href="Demos.HSP-markdown.html#30905" class="Bound">r</a> <a id="30907" class="Symbol">:</a> <a id="30909" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="30914" class="Symbol">}</a> <a id="30916" class="Keyword">where</a>
 <a id="30923" class="Keyword">open</a>  <a id="30929" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="30936" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="30939" href="Demos.HSP-markdown.html#30885" class="Bound">ğ‘¨</a> <a id="30941" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>               <a id="30957" class="Keyword">using</a> <a id="30963" class="Symbol">(</a> <a id="30965" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="30970" class="Symbol">)</a>
 <a id="30973" class="Keyword">open</a>  <a id="30979" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="30986" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="30989" href="Demos.HSP-markdown.html#25128" class="Function">Lift-Alg</a> <a id="30998" href="Demos.HSP-markdown.html#30885" class="Bound">ğ‘¨</a> <a id="31000" href="Demos.HSP-markdown.html#30903" class="Bound">â„“</a> <a id="31002" href="Demos.HSP-markdown.html#30905" class="Bound">r</a> <a id="31004" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>  <a id="31007" class="Keyword">using</a> <a id="31013" class="Symbol">(</a> <a id="31015" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="31019" class="Symbol">)</a>
 <a id="31022" class="Keyword">open</a>  <a id="31028" href="Level.html" class="Module">Level</a>

 <a id="31036" href="Demos.HSP-markdown.html#31036" class="Function">ToLift</a> <a id="31043" class="Symbol">:</a> <a id="31045" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="31049" href="Demos.HSP-markdown.html#30885" class="Bound">ğ‘¨</a> <a id="31051" class="Symbol">(</a><a id="31052" href="Demos.HSP-markdown.html#25128" class="Function">Lift-Alg</a> <a id="31061" href="Demos.HSP-markdown.html#30885" class="Bound">ğ‘¨</a> <a id="31063" href="Demos.HSP-markdown.html#30903" class="Bound">â„“</a> <a id="31065" href="Demos.HSP-markdown.html#30905" class="Bound">r</a><a id="31066" class="Symbol">)</a>
 <a id="31069" href="Demos.HSP-markdown.html#31036" class="Function">ToLift</a> <a id="31076" class="Symbol">=</a> <a id="31078" href="Demos.HSP-markdown.html#29145" class="Function">âˆ˜-hom</a> <a id="31084" href="Demos.HSP-markdown.html#30102" class="Function">ToLiftË¡</a> <a id="31092" href="Demos.HSP-markdown.html#30483" class="Function">ToLiftÊ³</a>

 <a id="31102" href="Demos.HSP-markdown.html#31102" class="Function">FromLift</a> <a id="31111" class="Symbol">:</a> <a id="31113" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="31117" class="Symbol">(</a><a id="31118" href="Demos.HSP-markdown.html#25128" class="Function">Lift-Alg</a> <a id="31127" href="Demos.HSP-markdown.html#30885" class="Bound">ğ‘¨</a> <a id="31129" href="Demos.HSP-markdown.html#30903" class="Bound">â„“</a> <a id="31131" href="Demos.HSP-markdown.html#30905" class="Bound">r</a><a id="31132" class="Symbol">)</a> <a id="31134" href="Demos.HSP-markdown.html#30885" class="Bound">ğ‘¨</a>
 <a id="31137" href="Demos.HSP-markdown.html#31102" class="Function">FromLift</a> <a id="31146" class="Symbol">=</a> <a id="31148" href="Demos.HSP-markdown.html#29145" class="Function">âˆ˜-hom</a> <a id="31154" href="Demos.HSP-markdown.html#30594" class="Function">FromLiftÊ³</a> <a id="31164" href="Demos.HSP-markdown.html#30206" class="Function">FromLiftË¡</a>

 <a id="31176" href="Demos.HSP-markdown.html#31176" class="Function">ToFromLift</a> <a id="31187" class="Symbol">:</a> <a id="31189" class="Symbol">âˆ€</a> <a id="31191" href="Demos.HSP-markdown.html#31191" class="Bound">b</a> <a id="31193" class="Symbol">â†’</a> <a id="31195" class="Symbol">(</a><a id="31196" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="31198" href="Demos.HSP-markdown.html#31036" class="Function">ToLift</a> <a id="31205" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="31207" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="31211" class="Symbol">(</a><a id="31212" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="31214" href="Demos.HSP-markdown.html#31102" class="Function">FromLift</a> <a id="31223" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="31225" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="31229" href="Demos.HSP-markdown.html#31191" class="Bound">b</a><a id="31230" class="Symbol">))</a> <a id="31233" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="31235" href="Demos.HSP-markdown.html#31191" class="Bound">b</a>
 <a id="31238" href="Demos.HSP-markdown.html#31176" class="Function">ToFromLift</a> <a id="31249" href="Demos.HSP-markdown.html#31249" class="Bound">b</a> <a id="31251" class="Symbol">=</a> <a id="31253" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="31258" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>

 <a id="31265" href="Demos.HSP-markdown.html#31265" class="Function">ToLift-epi</a> <a id="31276" class="Symbol">:</a> <a id="31278" href="Demos.HSP-markdown.html#27642" class="Function">epi</a> <a id="31282" href="Demos.HSP-markdown.html#30885" class="Bound">ğ‘¨</a> <a id="31284" class="Symbol">(</a><a id="31285" href="Demos.HSP-markdown.html#25128" class="Function">Lift-Alg</a> <a id="31294" href="Demos.HSP-markdown.html#30885" class="Bound">ğ‘¨</a> <a id="31296" href="Demos.HSP-markdown.html#30903" class="Bound">â„“</a> <a id="31298" href="Demos.HSP-markdown.html#30905" class="Bound">r</a><a id="31299" class="Symbol">)</a>
 <a id="31302" href="Demos.HSP-markdown.html#31265" class="Function">ToLift-epi</a> <a id="31313" class="Symbol">=</a> <a id="31315" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="31317" href="Demos.HSP-markdown.html#31036" class="Function">ToLift</a> <a id="31324" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="31326" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a>  <a id="31329" class="Keyword">record</a> <a id="31336" class="Symbol">{</a> <a id="31338" href="Demos.HSP-markdown.html#27542" class="Field">isHom</a> <a id="31344" class="Symbol">=</a> <a id="31346" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="31348" href="Demos.HSP-markdown.html#31036" class="Function">ToLift</a> <a id="31355" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>
                            <a id="31385" class="Symbol">;</a> <a id="31387" href="Demos.HSP-markdown.html#27567" class="Field">isSurjective</a> <a id="31400" class="Symbol">=</a> <a id="31402" class="Symbol">Î»</a> <a id="31404" class="Symbol">{</a><a id="31405" href="Demos.HSP-markdown.html#31405" class="Bound">y</a><a id="31406" class="Symbol">}</a> <a id="31408" class="Symbol">â†’</a> <a id="31410" href="Demos.HSP-markdown.html#12422" class="InductiveConstructor">eq</a> <a id="31413" class="Symbol">(</a><a id="31414" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="31416" href="Demos.HSP-markdown.html#31102" class="Function">FromLift</a> <a id="31425" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="31427" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="31431" href="Demos.HSP-markdown.html#31405" class="Bound">y</a><a id="31432" class="Symbol">)</a> <a id="31434" class="Symbol">(</a><a id="31435" href="Demos.HSP-markdown.html#31176" class="Function">ToFromLift</a> <a id="31446" href="Demos.HSP-markdown.html#31405" class="Bound">y</a><a id="31447" class="Symbol">)</a> <a id="31449" class="Symbol">}</a>
</pre>


<!--

### <a id="homomorphisms-of-product-algebras">Homomorphisms of product algebras</a>

Suppose we have an algebra `ğ‘¨`, a type `I : Type ğ“˜`, and a family `â„¬ : I â†’ Algebra Î² ğ‘†` of algebras.  We sometimes refer to the inhabitants of `I` as *indices*, and call `â„¬` an *indexed family of algebras*.
If in addition we have a family `ğ’½ : (i : I) â†’ hom ğ‘¨ (â„¬ i)` of homomorphisms, then we can construct a homomorphism from `ğ‘¨` to the product `â¨… â„¬` in the natural way.  Here is how we implement these notions in dependent type theory (cf. the [Setoid.Homomorphisms.Products][] module of the [agda-algebras][] library).

-->

<pre class="Agda">

<a id="32103" class="Keyword">module</a> <a id="32110" href="Demos.HSP-markdown.html#32110" class="Module">_</a> <a id="32112" class="Symbol">{</a><a id="32113" href="Demos.HSP-markdown.html#32113" class="Bound">Î¹</a> <a id="32115" class="Symbol">:</a> <a id="32117" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="32122" class="Symbol">}{</a><a id="32124" href="Demos.HSP-markdown.html#32124" class="Bound">I</a> <a id="32126" class="Symbol">:</a> <a id="32128" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="32133" href="Demos.HSP-markdown.html#32113" class="Bound">Î¹</a><a id="32134" class="Symbol">}{</a><a id="32136" href="Demos.HSP-markdown.html#32136" class="Bound">ğ‘¨</a> <a id="32138" class="Symbol">:</a> <a id="32140" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="32148" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="32150" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="32152" class="Symbol">}(</a><a id="32154" href="Demos.HSP-markdown.html#32154" class="Bound">â„¬</a> <a id="32156" class="Symbol">:</a> <a id="32158" href="Demos.HSP-markdown.html#32124" class="Bound">I</a> <a id="32160" class="Symbol">â†’</a> <a id="32162" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="32170" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="32172" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="32174" class="Symbol">)</a>  <a id="32177" class="Keyword">where</a>
 <a id="32184" href="Demos.HSP-markdown.html#32184" class="Function">â¨…-hom-co</a> <a id="32193" class="Symbol">:</a> <a id="32195" class="Symbol">(âˆ€(</a><a id="32198" href="Demos.HSP-markdown.html#32198" class="Bound">i</a> <a id="32200" class="Symbol">:</a> <a id="32202" href="Demos.HSP-markdown.html#32124" class="Bound">I</a><a id="32203" class="Symbol">)</a> <a id="32205" class="Symbol">â†’</a> <a id="32207" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="32211" href="Demos.HSP-markdown.html#32136" class="Bound">ğ‘¨</a> <a id="32213" class="Symbol">(</a><a id="32214" href="Demos.HSP-markdown.html#32154" class="Bound">â„¬</a> <a id="32216" href="Demos.HSP-markdown.html#32198" class="Bound">i</a><a id="32217" class="Symbol">))</a> <a id="32220" class="Symbol">â†’</a> <a id="32222" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="32226" href="Demos.HSP-markdown.html#32136" class="Bound">ğ‘¨</a> <a id="32228" class="Symbol">(</a><a id="32229" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="32231" href="Demos.HSP-markdown.html#32154" class="Bound">â„¬</a><a id="32232" class="Symbol">)</a>
 <a id="32235" href="Demos.HSP-markdown.html#32184" class="Function">â¨…-hom-co</a> <a id="32244" href="Demos.HSP-markdown.html#32244" class="Bound">ğ’½</a> <a id="32246" class="Symbol">=</a> <a id="32248" href="Demos.HSP-markdown.html#32267" class="Function">h</a> <a id="32250" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="32252" href="Demos.HSP-markdown.html#32357" class="Function">hhom</a>
  <a id="32259" class="Keyword">where</a>
  <a id="32267" href="Demos.HSP-markdown.html#32267" class="Function">h</a> <a id="32269" class="Symbol">:</a> <a id="32271" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="32274" href="Demos.HSP-markdown.html#32136" class="Bound">ğ‘¨</a> <a id="32276" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="32278" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="32280" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="32283" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="32285" href="Demos.HSP-markdown.html#32154" class="Bound">â„¬</a> <a id="32287" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>
  <a id="32291" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="32297" href="Demos.HSP-markdown.html#32267" class="Function">h</a> <a id="32299" class="Symbol">=</a> <a id="32301" class="Symbol">Î»</a> <a id="32303" href="Demos.HSP-markdown.html#32303" class="Bound">a</a> <a id="32305" href="Demos.HSP-markdown.html#32305" class="Bound">i</a> <a id="32307" class="Symbol">â†’</a> <a id="32309" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="32311" href="Demos.HSP-markdown.html#32244" class="Bound">ğ’½</a> <a id="32313" href="Demos.HSP-markdown.html#32305" class="Bound">i</a> <a id="32315" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="32317" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="32321" href="Demos.HSP-markdown.html#32303" class="Bound">a</a>
  <a id="32325" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="32330" href="Demos.HSP-markdown.html#32267" class="Function">h</a> <a id="32332" href="Demos.HSP-markdown.html#32332" class="Bound">xy</a> <a id="32335" href="Demos.HSP-markdown.html#32335" class="Bound">i</a> <a id="32337" class="Symbol">=</a> <a id="32339" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="32344" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="32346" href="Demos.HSP-markdown.html#32244" class="Bound">ğ’½</a> <a id="32348" href="Demos.HSP-markdown.html#32335" class="Bound">i</a> <a id="32350" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="32352" href="Demos.HSP-markdown.html#32332" class="Bound">xy</a>
  <a id="32357" href="Demos.HSP-markdown.html#32357" class="Function">hhom</a> <a id="32362" class="Symbol">:</a> <a id="32364" href="Demos.HSP-markdown.html#26956" class="Record">IsHom</a> <a id="32370" href="Demos.HSP-markdown.html#32136" class="Bound">ğ‘¨</a> <a id="32372" class="Symbol">(</a><a id="32373" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="32375" href="Demos.HSP-markdown.html#32154" class="Bound">â„¬</a><a id="32376" class="Symbol">)</a> <a id="32378" href="Demos.HSP-markdown.html#32267" class="Function">h</a>
  <a id="32382" href="Demos.HSP-markdown.html#27039" class="Field">compatible</a> <a id="32393" href="Demos.HSP-markdown.html#32357" class="Function">hhom</a> <a id="32398" class="Symbol">=</a> <a id="32400" class="Symbol">Î»</a> <a id="32402" href="Demos.HSP-markdown.html#32402" class="Bound">i</a> <a id="32404" class="Symbol">â†’</a> <a id="32406" href="Demos.HSP-markdown.html#27039" class="Field">compatible</a> <a id="32417" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="32419" href="Demos.HSP-markdown.html#32244" class="Bound">ğ’½</a> <a id="32421" href="Demos.HSP-markdown.html#32402" class="Bound">i</a> <a id="32423" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>
</pre>



### <a id="factorization-of-homomorphisms">Factorization of homomorphisms</a>

If `g : hom ğ‘¨ ğ‘©`, `h : hom ğ‘¨ ğ‘ª`, `h` is surjective, and `ker h âŠ† ker g`, then there exists `Ï† : hom ğ‘ª ğ‘©` such that `g = Ï† âˆ˜ h` (cf. the [Setoid.Homomorphisms.Factor][] module of the [agda-algebras][] library).

<pre class="Agda">

<a id="32743" class="Keyword">module</a> <a id="32750" href="Demos.HSP-markdown.html#32750" class="Module">_</a> <a id="32752" class="Symbol">{</a><a id="32753" href="Demos.HSP-markdown.html#32753" class="Bound">ğ‘¨</a> <a id="32755" class="Symbol">:</a> <a id="32757" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="32765" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="32767" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="32769" class="Symbol">}(</a><a id="32771" href="Demos.HSP-markdown.html#32771" class="Bound">ğ‘©</a> <a id="32773" class="Symbol">:</a> <a id="32775" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="32783" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="32785" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="32787" class="Symbol">){</a><a id="32789" href="Demos.HSP-markdown.html#32789" class="Bound">ğ‘ª</a> <a id="32791" class="Symbol">:</a> <a id="32793" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="32801" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a> <a id="32803" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="32805" class="Symbol">}</a>
         <a id="32816" class="Symbol">(</a><a id="32817" href="Demos.HSP-markdown.html#32817" class="Bound">gh</a> <a id="32820" class="Symbol">:</a> <a id="32822" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="32826" href="Demos.HSP-markdown.html#32753" class="Bound">ğ‘¨</a> <a id="32828" href="Demos.HSP-markdown.html#32771" class="Bound">ğ‘©</a><a id="32829" class="Symbol">)(</a><a id="32831" href="Demos.HSP-markdown.html#32831" class="Bound">hh</a> <a id="32834" class="Symbol">:</a> <a id="32836" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="32840" href="Demos.HSP-markdown.html#32753" class="Bound">ğ‘¨</a> <a id="32842" href="Demos.HSP-markdown.html#32789" class="Bound">ğ‘ª</a><a id="32843" class="Symbol">)</a> <a id="32845" class="Keyword">where</a>
 <a id="32852" class="Keyword">open</a> <a id="32857" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="32864" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="32867" href="Demos.HSP-markdown.html#32771" class="Bound">ğ‘©</a> <a id="32869" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="32871" class="Keyword">using</a> <a id="32877" class="Symbol">()</a> <a id="32880" class="Keyword">renaming</a> <a id="32889" class="Symbol">(</a> <a id="32891" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="32895" class="Symbol">to</a> <a id="32898" class="Field Operator">_â‰ˆâ‚‚_</a> <a id="32903" class="Symbol">;</a> <a id="32905" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="32909" class="Symbol">to</a> <a id="32912" class="Function">symâ‚‚</a> <a id="32917" class="Symbol">)</a>
 <a id="32920" class="Keyword">open</a> <a id="32925" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="32932" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="32935" href="Demos.HSP-markdown.html#32789" class="Bound">ğ‘ª</a> <a id="32937" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="32939" class="Keyword">using</a> <a id="32945" class="Symbol">(</a> <a id="32947" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="32953" class="Symbol">)</a> <a id="32955" class="Keyword">renaming</a> <a id="32964" class="Symbol">(</a> <a id="32966" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="32970" class="Symbol">to</a> <a id="32973" class="Field Operator">_â‰ˆâ‚ƒ_</a> <a id="32978" class="Symbol">;</a> <a id="32980" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="32984" class="Symbol">to</a> <a id="32987" class="Function">symâ‚ƒ</a> <a id="32992" class="Symbol">)</a>
 <a id="32995" class="Keyword">open</a> <a id="33000" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="33016" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="33019" href="Demos.HSP-markdown.html#32771" class="Bound">ğ‘©</a> <a id="33021" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>
 <a id="33024" class="Keyword">private</a> <a id="33032" href="Demos.HSP-markdown.html#33032" class="Function">gfunc</a> <a id="33038" class="Symbol">=</a> <a id="33040" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="33042" href="Demos.HSP-markdown.html#32817" class="Bound">gh</a> <a id="33045" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="33047" class="Symbol">;</a> <a id="33049" href="Demos.HSP-markdown.html#33049" class="Function">g</a> <a id="33051" class="Symbol">=</a> <a id="33053" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="33059" href="Demos.HSP-markdown.html#33032" class="Function">gfunc</a> <a id="33065" class="Symbol">;</a> <a id="33067" href="Demos.HSP-markdown.html#33067" class="Function">hfunc</a> <a id="33073" class="Symbol">=</a> <a id="33075" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="33077" href="Demos.HSP-markdown.html#32831" class="Bound">hh</a> <a id="33080" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="33082" class="Symbol">;</a> <a id="33084" href="Demos.HSP-markdown.html#33084" class="Function">h</a> <a id="33086" class="Symbol">=</a> <a id="33088" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="33094" href="Demos.HSP-markdown.html#33067" class="Function">hfunc</a>

 <a id="33102" href="Demos.HSP-markdown.html#33102" class="Function">HomFactor</a> <a id="33112" class="Symbol">:</a>  <a id="33115" href="Demos.HSP-markdown.html#16325" class="Function">kernel</a> <a id="33122" href="Demos.HSP-markdown.html#32973" class="Function Operator">_â‰ˆâ‚ƒ_</a> <a id="33127" href="Demos.HSP-markdown.html#33084" class="Function">h</a> <a id="33129" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="33131" href="Demos.HSP-markdown.html#16325" class="Function">kernel</a> <a id="33138" href="Demos.HSP-markdown.html#32898" class="Function Operator">_â‰ˆâ‚‚_</a> <a id="33143" href="Demos.HSP-markdown.html#33049" class="Function">g</a> <a id="33145" class="Symbol">â†’</a> <a id="33147" href="Demos.HSP-markdown.html#14749" class="Function">IsSurjective</a> <a id="33160" href="Demos.HSP-markdown.html#33067" class="Function">hfunc</a>
  <a id="33168" class="Symbol">â†’</a>           <a id="33180" href="Data.Product.html#916" class="Function">Î£[</a> <a id="33183" href="Demos.HSP-markdown.html#33183" class="Bound">Ï†</a> <a id="33185" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="33187" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="33191" href="Demos.HSP-markdown.html#32789" class="Bound">ğ‘ª</a> <a id="33193" href="Demos.HSP-markdown.html#32771" class="Bound">ğ‘©</a> <a id="33195" href="Data.Product.html#916" class="Function">]</a> <a id="33197" class="Symbol">âˆ€</a> <a id="33199" href="Demos.HSP-markdown.html#33199" class="Bound">a</a> <a id="33201" class="Symbol">â†’</a> <a id="33203" class="Symbol">(</a><a id="33204" href="Demos.HSP-markdown.html#33049" class="Function">g</a> <a id="33206" href="Demos.HSP-markdown.html#33199" class="Bound">a</a><a id="33207" class="Symbol">)</a> <a id="33209" href="Demos.HSP-markdown.html#32898" class="Function Operator">â‰ˆâ‚‚</a> <a id="33212" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="33214" href="Demos.HSP-markdown.html#33183" class="Bound">Ï†</a> <a id="33216" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="33218" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="33222" class="Symbol">(</a><a id="33223" href="Demos.HSP-markdown.html#33084" class="Function">h</a> <a id="33225" href="Demos.HSP-markdown.html#33199" class="Bound">a</a><a id="33226" class="Symbol">)</a>

 <a id="33230" href="Demos.HSP-markdown.html#33102" class="Function">HomFactor</a> <a id="33240" href="Demos.HSP-markdown.html#33240" class="Bound">Khg</a> <a id="33244" href="Demos.HSP-markdown.html#33244" class="Bound">hE</a> <a id="33247" class="Symbol">=</a> <a id="33249" class="Symbol">(</a><a id="33250" href="Demos.HSP-markdown.html#33548" class="Function">Ï†map</a> <a id="33255" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="33257" href="Demos.HSP-markdown.html#34185" class="Function">Ï†hom</a><a id="33261" class="Symbol">)</a> <a id="33263" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="33265" href="Demos.HSP-markdown.html#33669" class="Function">gÏ†h</a>
  <a id="33271" class="Keyword">where</a>
  <a id="33279" href="Demos.HSP-markdown.html#33279" class="Function">kerpres</a> <a id="33287" class="Symbol">:</a> <a id="33289" class="Symbol">âˆ€</a> <a id="33291" href="Demos.HSP-markdown.html#33291" class="Bound">aâ‚€</a> <a id="33294" href="Demos.HSP-markdown.html#33294" class="Bound">aâ‚</a> <a id="33297" class="Symbol">â†’</a> <a id="33299" href="Demos.HSP-markdown.html#33084" class="Function">h</a> <a id="33301" href="Demos.HSP-markdown.html#33291" class="Bound">aâ‚€</a> <a id="33304" href="Demos.HSP-markdown.html#32973" class="Function Operator">â‰ˆâ‚ƒ</a> <a id="33307" href="Demos.HSP-markdown.html#33084" class="Function">h</a> <a id="33309" href="Demos.HSP-markdown.html#33294" class="Bound">aâ‚</a> <a id="33312" class="Symbol">â†’</a> <a id="33314" href="Demos.HSP-markdown.html#33049" class="Function">g</a> <a id="33316" href="Demos.HSP-markdown.html#33291" class="Bound">aâ‚€</a> <a id="33319" href="Demos.HSP-markdown.html#32898" class="Function Operator">â‰ˆâ‚‚</a> <a id="33322" href="Demos.HSP-markdown.html#33049" class="Function">g</a> <a id="33324" href="Demos.HSP-markdown.html#33294" class="Bound">aâ‚</a>
  <a id="33329" href="Demos.HSP-markdown.html#33279" class="Function">kerpres</a> <a id="33337" href="Demos.HSP-markdown.html#33337" class="Bound">aâ‚€</a> <a id="33340" href="Demos.HSP-markdown.html#33340" class="Bound">aâ‚</a> <a id="33343" href="Demos.HSP-markdown.html#33343" class="Bound">hyp</a> <a id="33347" class="Symbol">=</a> <a id="33349" href="Demos.HSP-markdown.html#33240" class="Bound">Khg</a> <a id="33353" href="Demos.HSP-markdown.html#33343" class="Bound">hyp</a>

  <a id="33360" href="Demos.HSP-markdown.html#33360" class="Function">hâ»Â¹</a> <a id="33364" class="Symbol">:</a> <a id="33366" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="33369" href="Demos.HSP-markdown.html#32789" class="Bound">ğ‘ª</a> <a id="33371" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a> <a id="33373" class="Symbol">â†’</a> <a id="33375" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="33378" href="Demos.HSP-markdown.html#32753" class="Bound">ğ‘¨</a> <a id="33380" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a>
  <a id="33384" href="Demos.HSP-markdown.html#33360" class="Function">hâ»Â¹</a> <a id="33388" class="Symbol">=</a> <a id="33390" href="Demos.HSP-markdown.html#14833" class="Function">SurjInv</a> <a id="33398" href="Demos.HSP-markdown.html#33067" class="Function">hfunc</a> <a id="33404" href="Demos.HSP-markdown.html#33244" class="Bound">hE</a>

  <a id="33410" href="Demos.HSP-markdown.html#33410" class="Function">Î·</a> <a id="33412" class="Symbol">:</a> <a id="33414" class="Symbol">âˆ€</a> <a id="33416" class="Symbol">{</a><a id="33417" href="Demos.HSP-markdown.html#33417" class="Bound">c</a><a id="33418" class="Symbol">}</a> <a id="33420" class="Symbol">â†’</a> <a id="33422" href="Demos.HSP-markdown.html#33084" class="Function">h</a> <a id="33424" class="Symbol">(</a><a id="33425" href="Demos.HSP-markdown.html#33360" class="Function">hâ»Â¹</a> <a id="33429" href="Demos.HSP-markdown.html#33417" class="Bound">c</a><a id="33430" class="Symbol">)</a> <a id="33432" href="Demos.HSP-markdown.html#32973" class="Function Operator">â‰ˆâ‚ƒ</a> <a id="33435" href="Demos.HSP-markdown.html#33417" class="Bound">c</a>
  <a id="33439" href="Demos.HSP-markdown.html#33410" class="Function">Î·</a> <a id="33441" class="Symbol">=</a> <a id="33443" href="Demos.HSP-markdown.html#13045" class="Function">InvIsInverseÊ³</a> <a id="33457" href="Demos.HSP-markdown.html#33244" class="Bound">hE</a>

  <a id="33463" href="Demos.HSP-markdown.html#33463" class="Function">Î¶</a> <a id="33465" class="Symbol">:</a> <a id="33467" class="Symbol">âˆ€{</a><a id="33469" href="Demos.HSP-markdown.html#33469" class="Bound">x</a> <a id="33471" href="Demos.HSP-markdown.html#33471" class="Bound">y</a><a id="33472" class="Symbol">}</a> <a id="33474" class="Symbol">â†’</a> <a id="33476" href="Demos.HSP-markdown.html#33469" class="Bound">x</a> <a id="33478" href="Demos.HSP-markdown.html#32973" class="Function Operator">â‰ˆâ‚ƒ</a> <a id="33481" href="Demos.HSP-markdown.html#33471" class="Bound">y</a> <a id="33483" class="Symbol">â†’</a> <a id="33485" href="Demos.HSP-markdown.html#33084" class="Function">h</a> <a id="33487" class="Symbol">(</a><a id="33488" href="Demos.HSP-markdown.html#33360" class="Function">hâ»Â¹</a> <a id="33492" href="Demos.HSP-markdown.html#33469" class="Bound">x</a><a id="33493" class="Symbol">)</a> <a id="33495" href="Demos.HSP-markdown.html#32973" class="Function Operator">â‰ˆâ‚ƒ</a> <a id="33498" href="Demos.HSP-markdown.html#33084" class="Function">h</a> <a id="33500" class="Symbol">(</a><a id="33501" href="Demos.HSP-markdown.html#33360" class="Function">hâ»Â¹</a> <a id="33505" href="Demos.HSP-markdown.html#33471" class="Bound">y</a><a id="33506" class="Symbol">)</a>
  <a id="33510" href="Demos.HSP-markdown.html#33463" class="Function">Î¶</a> <a id="33512" href="Demos.HSP-markdown.html#33512" class="Bound">xy</a> <a id="33515" class="Symbol">=</a> <a id="33517" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="33523" href="Demos.HSP-markdown.html#33410" class="Function">Î·</a> <a id="33525" class="Symbol">(</a><a id="33526" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="33532" href="Demos.HSP-markdown.html#33512" class="Bound">xy</a> <a id="33535" class="Symbol">(</a><a id="33536" href="Demos.HSP-markdown.html#32987" class="Function">symâ‚ƒ</a> <a id="33541" href="Demos.HSP-markdown.html#33410" class="Function">Î·</a><a id="33542" class="Symbol">))</a>

  <a id="33548" href="Demos.HSP-markdown.html#33548" class="Function">Ï†map</a> <a id="33553" class="Symbol">:</a> <a id="33555" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="33558" href="Demos.HSP-markdown.html#32789" class="Bound">ğ‘ª</a> <a id="33560" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="33562" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="33564" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="33567" href="Demos.HSP-markdown.html#32771" class="Bound">ğ‘©</a> <a id="33569" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>
  <a id="33573" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="33579" href="Demos.HSP-markdown.html#33548" class="Function">Ï†map</a> <a id="33584" class="Symbol">=</a> <a id="33586" href="Demos.HSP-markdown.html#33049" class="Function">g</a> <a id="33588" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="33590" href="Demos.HSP-markdown.html#33360" class="Function">hâ»Â¹</a>
  <a id="33596" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="33601" href="Demos.HSP-markdown.html#33548" class="Function">Ï†map</a> <a id="33606" class="Symbol">=</a> <a id="33608" href="Demos.HSP-markdown.html#33240" class="Bound">Khg</a> <a id="33612" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="33614" href="Demos.HSP-markdown.html#33463" class="Function">Î¶</a>
  <a id="33618" class="Keyword">open</a> <a id="33623" href="Demos.HSP-markdown.html#7865" class="Module">_âŸ¶_</a> <a id="33627" href="Demos.HSP-markdown.html#33548" class="Function">Ï†map</a> <a id="33632" class="Keyword">using</a> <a id="33638" class="Symbol">()</a> <a id="33641" class="Keyword">renaming</a> <a id="33650" class="Symbol">(</a><a id="33651" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="33656" class="Symbol">to</a> <a id="33659" class="Field">Ï†cong</a><a id="33664" class="Symbol">)</a>

  <a id="33669" href="Demos.HSP-markdown.html#33669" class="Function">gÏ†h</a> <a id="33673" class="Symbol">:</a> <a id="33675" class="Symbol">(</a><a id="33676" href="Demos.HSP-markdown.html#33676" class="Bound">a</a> <a id="33678" class="Symbol">:</a> <a id="33680" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="33683" href="Demos.HSP-markdown.html#32753" class="Bound">ğ‘¨</a> <a id="33685" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a><a id="33686" class="Symbol">)</a> <a id="33688" class="Symbol">â†’</a> <a id="33690" href="Demos.HSP-markdown.html#33049" class="Function">g</a> <a id="33692" href="Demos.HSP-markdown.html#33676" class="Bound">a</a> <a id="33694" href="Demos.HSP-markdown.html#32898" class="Function Operator">â‰ˆâ‚‚</a> <a id="33697" href="Demos.HSP-markdown.html#33548" class="Function">Ï†map</a> <a id="33702" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="33706" class="Symbol">(</a><a id="33707" href="Demos.HSP-markdown.html#33084" class="Function">h</a> <a id="33709" href="Demos.HSP-markdown.html#33676" class="Bound">a</a><a id="33710" class="Symbol">)</a>
  <a id="33714" href="Demos.HSP-markdown.html#33669" class="Function">gÏ†h</a> <a id="33718" href="Demos.HSP-markdown.html#33718" class="Bound">a</a> <a id="33720" class="Symbol">=</a> <a id="33722" href="Demos.HSP-markdown.html#33240" class="Bound">Khg</a> <a id="33726" class="Symbol">(</a><a id="33727" href="Demos.HSP-markdown.html#32987" class="Function">symâ‚ƒ</a> <a id="33732" href="Demos.HSP-markdown.html#33410" class="Function">Î·</a><a id="33733" class="Symbol">)</a>

  <a id="33738" href="Demos.HSP-markdown.html#33738" class="Function">Ï†comp</a> <a id="33744" class="Symbol">:</a> <a id="33746" href="Demos.HSP-markdown.html#26799" class="Function">compatible-map</a> <a id="33761" href="Demos.HSP-markdown.html#32789" class="Bound">ğ‘ª</a> <a id="33763" href="Demos.HSP-markdown.html#32771" class="Bound">ğ‘©</a> <a id="33765" href="Demos.HSP-markdown.html#33548" class="Function">Ï†map</a>
  <a id="33772" href="Demos.HSP-markdown.html#33738" class="Function">Ï†comp</a> <a id="33778" class="Symbol">{</a><a id="33779" href="Demos.HSP-markdown.html#33779" class="Bound">f</a><a id="33780" class="Symbol">}{</a><a id="33782" href="Demos.HSP-markdown.html#33782" class="Bound">c</a><a id="33783" class="Symbol">}</a> <a id="33785" class="Symbol">=</a>
   <a id="33790" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
    <a id="33800" href="Demos.HSP-markdown.html#33548" class="Function">Ï†map</a> <a id="33805" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="33809" class="Symbol">((</a><a id="33811" href="Demos.HSP-markdown.html#33779" class="Bound">f</a> <a id="33813" href="Demos.HSP-markdown.html#23818" class="Function Operator">Ì‚</a> <a id="33815" href="Demos.HSP-markdown.html#32789" class="Bound">ğ‘ª</a><a id="33816" class="Symbol">)</a> <a id="33818" href="Demos.HSP-markdown.html#33782" class="Bound">c</a><a id="33819" class="Symbol">)</a>            <a id="33832" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a>  <a id="33837" href="Demos.HSP-markdown.html#33659" class="Function">Ï†cong</a> <a id="33843" class="Symbol">(</a><a id="33844" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="33849" class="Symbol">(</a><a id="33850" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="33857" href="Demos.HSP-markdown.html#32789" class="Bound">ğ‘ª</a><a id="33858" class="Symbol">)</a> <a id="33860" class="Symbol">(</a><a id="33861" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="33868" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="33870" class="Symbol">Î»</a> <a id="33872" href="Demos.HSP-markdown.html#33872" class="Bound">_</a> <a id="33874" class="Symbol">â†’</a> <a id="33876" href="Demos.HSP-markdown.html#33410" class="Function">Î·</a><a id="33877" class="Symbol">))</a>  <a id="33881" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
    <a id="33887" href="Demos.HSP-markdown.html#33049" class="Function">g</a> <a id="33889" class="Symbol">(</a><a id="33890" href="Demos.HSP-markdown.html#33360" class="Function">hâ»Â¹</a> <a id="33894" class="Symbol">((</a><a id="33896" href="Demos.HSP-markdown.html#33779" class="Bound">f</a> <a id="33898" href="Demos.HSP-markdown.html#23818" class="Function Operator">Ì‚</a> <a id="33900" href="Demos.HSP-markdown.html#32789" class="Bound">ğ‘ª</a><a id="33901" class="Symbol">)(</a><a id="33903" href="Demos.HSP-markdown.html#33084" class="Function">h</a> <a id="33905" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="33907" href="Demos.HSP-markdown.html#33360" class="Function">hâ»Â¹</a> <a id="33911" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="33913" href="Demos.HSP-markdown.html#33782" class="Bound">c</a><a id="33914" class="Symbol">)))</a>  <a id="33919" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a>  <a id="33924" href="Demos.HSP-markdown.html#33659" class="Function">Ï†cong</a> <a id="33930" class="Symbol">(</a><a id="33931" href="Demos.HSP-markdown.html#27039" class="Field">compatible</a> <a id="33942" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="33944" href="Demos.HSP-markdown.html#32831" class="Bound">hh</a> <a id="33947" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a><a id="33948" class="Symbol">)</a>                   <a id="33968" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
    <a id="33974" href="Demos.HSP-markdown.html#33049" class="Function">g</a> <a id="33976" class="Symbol">(</a><a id="33977" href="Demos.HSP-markdown.html#33360" class="Function">hâ»Â¹</a> <a id="33981" class="Symbol">(</a><a id="33982" href="Demos.HSP-markdown.html#33084" class="Function">h</a> <a id="33984" class="Symbol">((</a><a id="33986" href="Demos.HSP-markdown.html#33779" class="Bound">f</a> <a id="33988" href="Demos.HSP-markdown.html#23818" class="Function Operator">Ì‚</a> <a id="33990" href="Demos.HSP-markdown.html#32753" class="Bound">ğ‘¨</a><a id="33991" class="Symbol">)(</a><a id="33993" href="Demos.HSP-markdown.html#33360" class="Function">hâ»Â¹</a> <a id="33997" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="33999" href="Demos.HSP-markdown.html#33782" class="Bound">c</a><a id="34000" class="Symbol">))))</a>  <a id="34006" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a>  <a id="34011" href="Demos.HSP-markdown.html#33669" class="Function">gÏ†h</a> <a id="34015" class="Symbol">((</a><a id="34017" href="Demos.HSP-markdown.html#33779" class="Bound">f</a> <a id="34019" href="Demos.HSP-markdown.html#23818" class="Function Operator">Ì‚</a> <a id="34021" href="Demos.HSP-markdown.html#32753" class="Bound">ğ‘¨</a><a id="34022" class="Symbol">)(</a><a id="34024" href="Demos.HSP-markdown.html#33360" class="Function">hâ»Â¹</a> <a id="34028" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="34030" href="Demos.HSP-markdown.html#33782" class="Bound">c</a><a id="34031" class="Symbol">))</a>                      <a id="34055" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
    <a id="34061" href="Demos.HSP-markdown.html#33049" class="Function">g</a> <a id="34063" class="Symbol">((</a><a id="34065" href="Demos.HSP-markdown.html#33779" class="Bound">f</a> <a id="34067" href="Demos.HSP-markdown.html#23818" class="Function Operator">Ì‚</a> <a id="34069" href="Demos.HSP-markdown.html#32753" class="Bound">ğ‘¨</a><a id="34070" class="Symbol">)(</a><a id="34072" href="Demos.HSP-markdown.html#33360" class="Function">hâ»Â¹</a> <a id="34076" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="34078" href="Demos.HSP-markdown.html#33782" class="Bound">c</a><a id="34079" class="Symbol">))</a>            <a id="34093" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>   <a id="34098" href="Demos.HSP-markdown.html#27039" class="Field">compatible</a> <a id="34109" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="34111" href="Demos.HSP-markdown.html#32817" class="Bound">gh</a> <a id="34114" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>                           <a id="34142" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
    <a id="34148" class="Symbol">(</a><a id="34149" href="Demos.HSP-markdown.html#33779" class="Bound">f</a> <a id="34151" href="Demos.HSP-markdown.html#23818" class="Function Operator">Ì‚</a> <a id="34153" href="Demos.HSP-markdown.html#32771" class="Bound">ğ‘©</a><a id="34154" class="Symbol">)(</a><a id="34156" href="Demos.HSP-markdown.html#33049" class="Function">g</a> <a id="34158" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="34160" class="Symbol">(</a><a id="34161" href="Demos.HSP-markdown.html#33360" class="Function">hâ»Â¹</a> <a id="34165" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="34167" href="Demos.HSP-markdown.html#33782" class="Bound">c</a><a id="34168" class="Symbol">))</a>          <a id="34180" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">âˆ</a>

  <a id="34185" href="Demos.HSP-markdown.html#34185" class="Function">Ï†hom</a> <a id="34190" class="Symbol">:</a> <a id="34192" href="Demos.HSP-markdown.html#26956" class="Record">IsHom</a> <a id="34198" href="Demos.HSP-markdown.html#32789" class="Bound">ğ‘ª</a> <a id="34200" href="Demos.HSP-markdown.html#32771" class="Bound">ğ‘©</a> <a id="34202" href="Demos.HSP-markdown.html#33548" class="Function">Ï†map</a>
  <a id="34209" href="Demos.HSP-markdown.html#27039" class="Field">compatible</a> <a id="34220" href="Demos.HSP-markdown.html#34185" class="Function">Ï†hom</a> <a id="34225" class="Symbol">=</a> <a id="34227" href="Demos.HSP-markdown.html#33738" class="Function">Ï†comp</a>
</pre>



### <a id="isomorphisms">Isomorphisms</a>

(cf. the [Setoid.Homomorphisms.Isomorphisms] of the [agda-algebras][] library).

Two structures are *isomorphic* provided there are homomorphisms going back and forth between them which compose to the identity map.

<pre class="Agda">

<a id="34520" class="Keyword">module</a> <a id="34527" href="Demos.HSP-markdown.html#34527" class="Module">_</a> <a id="34529" class="Symbol">(</a><a id="34530" href="Demos.HSP-markdown.html#34530" class="Bound">ğ‘¨</a> <a id="34532" class="Symbol">:</a> <a id="34534" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="34542" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="34544" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="34546" class="Symbol">)</a> <a id="34548" class="Symbol">(</a><a id="34549" href="Demos.HSP-markdown.html#34549" class="Bound">ğ‘©</a> <a id="34551" class="Symbol">:</a> <a id="34553" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="34561" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="34563" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="34565" class="Symbol">)</a> <a id="34567" class="Keyword">where</a>
 <a id="34574" class="Keyword">open</a> <a id="34579" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="34586" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="34589" href="Demos.HSP-markdown.html#34530" class="Bound">ğ‘¨</a> <a id="34591" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="34593" class="Keyword">using</a> <a id="34599" class="Symbol">(</a> <a id="34601" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="34605" class="Symbol">;</a> <a id="34607" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="34611" class="Symbol">;</a> <a id="34613" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="34619" class="Symbol">)</a>
 <a id="34622" class="Keyword">open</a> <a id="34627" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="34634" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="34637" href="Demos.HSP-markdown.html#34549" class="Bound">ğ‘©</a> <a id="34639" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="34641" class="Keyword">using</a> <a id="34647" class="Symbol">()</a> <a id="34650" class="Keyword">renaming</a> <a id="34659" class="Symbol">(</a> <a id="34661" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="34665" class="Symbol">to</a> <a id="34668" class="Field Operator">_â‰ˆáµ‡_</a> <a id="34673" class="Symbol">;</a> <a id="34675" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="34679" class="Symbol">to</a> <a id="34682" class="Function">symáµ‡</a> <a id="34687" class="Symbol">;</a> <a id="34689" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="34695" class="Symbol">to</a> <a id="34698" class="Function">transáµ‡</a><a id="34704" class="Symbol">)</a>

 <a id="34708" class="Keyword">record</a> <a id="34715" href="Demos.HSP-markdown.html#34715" class="Record Operator">_â‰…_</a> <a id="34719" class="Symbol">:</a> <a id="34721" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="34726" class="Symbol">(</a><a id="34727" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="34729" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="34731" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="34733" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="34735" href="Demos.HSP-markdown.html#34542" class="Bound">Î±</a> <a id="34737" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="34739" href="Demos.HSP-markdown.html#34561" class="Bound">Î²</a> <a id="34741" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="34743" href="Demos.HSP-markdown.html#34544" class="Bound">Ïáµƒ</a> <a id="34746" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="34748" href="Demos.HSP-markdown.html#34563" class="Bound">Ïáµ‡</a> <a id="34751" class="Symbol">)</a> <a id="34753" class="Keyword">where</a>
  <a id="34761" class="Keyword">constructor</a> <a id="34773" href="Demos.HSP-markdown.html#34773" class="InductiveConstructor">mkiso</a>
  <a id="34781" class="Keyword">field</a>
   <a id="34790" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="34793" class="Symbol">:</a> <a id="34795" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="34799" href="Demos.HSP-markdown.html#34530" class="Bound">ğ‘¨</a> <a id="34801" href="Demos.HSP-markdown.html#34549" class="Bound">ğ‘©</a>
   <a id="34806" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="34811" class="Symbol">:</a> <a id="34813" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="34817" href="Demos.HSP-markdown.html#34549" class="Bound">ğ‘©</a> <a id="34819" href="Demos.HSP-markdown.html#34530" class="Bound">ğ‘¨</a>
   <a id="34824" href="Demos.HSP-markdown.html#34824" class="Field">toâˆ¼from</a> <a id="34832" class="Symbol">:</a> <a id="34834" class="Symbol">âˆ€</a> <a id="34836" href="Demos.HSP-markdown.html#34836" class="Bound">b</a> <a id="34838" class="Symbol">â†’</a> <a id="34840" class="Symbol">(</a><a id="34841" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34843" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="34846" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34848" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="34852" class="Symbol">(</a><a id="34853" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34855" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="34860" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34862" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="34866" href="Demos.HSP-markdown.html#34836" class="Bound">b</a><a id="34867" class="Symbol">))</a> <a id="34870" href="Demos.HSP-markdown.html#34668" class="Function Operator">â‰ˆáµ‡</a> <a id="34873" href="Demos.HSP-markdown.html#34836" class="Bound">b</a>
   <a id="34878" href="Demos.HSP-markdown.html#34878" class="Field">fromâˆ¼to</a> <a id="34886" class="Symbol">:</a> <a id="34888" class="Symbol">âˆ€</a> <a id="34890" href="Demos.HSP-markdown.html#34890" class="Bound">a</a> <a id="34892" class="Symbol">â†’</a> <a id="34894" class="Symbol">(</a><a id="34895" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34897" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="34902" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34904" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="34908" class="Symbol">(</a><a id="34909" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34911" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="34914" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34916" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="34920" href="Demos.HSP-markdown.html#34890" class="Bound">a</a><a id="34921" class="Symbol">))</a> <a id="34924" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="34926" href="Demos.HSP-markdown.html#34890" class="Bound">a</a>

  <a id="34931" href="Demos.HSP-markdown.html#34931" class="Function">toIsSurjective</a> <a id="34946" class="Symbol">:</a> <a id="34948" href="Demos.HSP-markdown.html#14749" class="Function">IsSurjective</a> <a id="34961" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34963" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="34966" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="34970" href="Demos.HSP-markdown.html#34931" class="Function">toIsSurjective</a> <a id="34985" class="Symbol">{</a><a id="34986" href="Demos.HSP-markdown.html#34986" class="Bound">y</a><a id="34987" class="Symbol">}</a> <a id="34989" class="Symbol">=</a> <a id="34991" href="Demos.HSP-markdown.html#12422" class="InductiveConstructor">eq</a> <a id="34994" class="Symbol">(</a><a id="34995" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34997" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="35002" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35004" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35008" href="Demos.HSP-markdown.html#34986" class="Bound">y</a><a id="35009" class="Symbol">)</a> <a id="35011" class="Symbol">(</a><a id="35012" href="Demos.HSP-markdown.html#34682" class="Function">symáµ‡</a> <a id="35017" class="Symbol">(</a><a id="35018" href="Demos.HSP-markdown.html#34824" class="Field">toâˆ¼from</a> <a id="35026" href="Demos.HSP-markdown.html#34986" class="Bound">y</a><a id="35027" class="Symbol">))</a>

  <a id="35033" href="Demos.HSP-markdown.html#35033" class="Function">toIsInjective</a> <a id="35047" class="Symbol">:</a> <a id="35049" href="Demos.HSP-markdown.html#14666" class="Function">IsInjective</a> <a id="35061" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35063" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="35066" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="35070" href="Demos.HSP-markdown.html#35033" class="Function">toIsInjective</a> <a id="35084" class="Symbol">{</a><a id="35085" href="Demos.HSP-markdown.html#35085" class="Bound">x</a><a id="35086" class="Symbol">}</a> <a id="35088" class="Symbol">{</a><a id="35089" href="Demos.HSP-markdown.html#35089" class="Bound">y</a><a id="35090" class="Symbol">}</a> <a id="35092" href="Demos.HSP-markdown.html#35092" class="Bound">xy</a> <a id="35095" class="Symbol">=</a> <a id="35097" href="Demos.HSP-markdown.html#35203" class="Function">Goal</a>
   <a id="35105" class="Keyword">where</a>
   <a id="35114" href="Demos.HSP-markdown.html#35114" class="Function">Î¾</a> <a id="35116" class="Symbol">:</a> <a id="35118" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35120" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="35125" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35127" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35131" class="Symbol">(</a><a id="35132" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35134" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="35137" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35139" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35143" href="Demos.HSP-markdown.html#35085" class="Bound">x</a><a id="35144" class="Symbol">)</a> <a id="35146" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="35148" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35150" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="35155" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35157" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35161" class="Symbol">(</a><a id="35162" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35164" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="35167" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35169" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35173" href="Demos.HSP-markdown.html#35089" class="Bound">y</a><a id="35174" class="Symbol">)</a>
   <a id="35179" href="Demos.HSP-markdown.html#35114" class="Function">Î¾</a> <a id="35181" class="Symbol">=</a> <a id="35183" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="35188" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35190" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="35195" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35197" href="Demos.HSP-markdown.html#35092" class="Bound">xy</a>
   <a id="35203" href="Demos.HSP-markdown.html#35203" class="Function">Goal</a> <a id="35208" class="Symbol">:</a> <a id="35210" href="Demos.HSP-markdown.html#35085" class="Bound">x</a> <a id="35212" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="35214" href="Demos.HSP-markdown.html#35089" class="Bound">y</a>
   <a id="35219" href="Demos.HSP-markdown.html#35203" class="Function">Goal</a> <a id="35224" class="Symbol">=</a> <a id="35226" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="35232" class="Symbol">(</a><a id="35233" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="35237" class="Symbol">(</a><a id="35238" href="Demos.HSP-markdown.html#34878" class="Field">fromâˆ¼to</a> <a id="35246" href="Demos.HSP-markdown.html#35085" class="Bound">x</a><a id="35247" class="Symbol">))</a> <a id="35250" class="Symbol">(</a><a id="35251" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="35257" href="Demos.HSP-markdown.html#35114" class="Function">Î¾</a> <a id="35259" class="Symbol">(</a><a id="35260" href="Demos.HSP-markdown.html#34878" class="Field">fromâˆ¼to</a> <a id="35268" href="Demos.HSP-markdown.html#35089" class="Bound">y</a><a id="35269" class="Symbol">))</a>

  <a id="35275" href="Demos.HSP-markdown.html#35275" class="Function">fromIsSurjective</a> <a id="35292" class="Symbol">:</a> <a id="35294" href="Demos.HSP-markdown.html#14749" class="Function">IsSurjective</a> <a id="35307" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35309" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="35314" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="35318" href="Demos.HSP-markdown.html#35275" class="Function">fromIsSurjective</a> <a id="35335" class="Symbol">{</a><a id="35336" href="Demos.HSP-markdown.html#35336" class="Bound">y</a><a id="35337" class="Symbol">}</a> <a id="35339" class="Symbol">=</a> <a id="35341" href="Demos.HSP-markdown.html#12422" class="InductiveConstructor">eq</a> <a id="35344" class="Symbol">(</a><a id="35345" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35347" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="35350" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35352" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35356" href="Demos.HSP-markdown.html#35336" class="Bound">y</a><a id="35357" class="Symbol">)</a> <a id="35359" class="Symbol">(</a><a id="35360" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="35364" class="Symbol">(</a><a id="35365" href="Demos.HSP-markdown.html#34878" class="Field">fromâˆ¼to</a> <a id="35373" href="Demos.HSP-markdown.html#35336" class="Bound">y</a><a id="35374" class="Symbol">))</a>

  <a id="35380" href="Demos.HSP-markdown.html#35380" class="Function">fromIsInjective</a> <a id="35396" class="Symbol">:</a> <a id="35398" href="Demos.HSP-markdown.html#14666" class="Function">IsInjective</a> <a id="35410" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35412" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="35417" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="35421" href="Demos.HSP-markdown.html#35380" class="Function">fromIsInjective</a> <a id="35437" class="Symbol">{</a><a id="35438" href="Demos.HSP-markdown.html#35438" class="Bound">x</a><a id="35439" class="Symbol">}</a> <a id="35441" class="Symbol">{</a><a id="35442" href="Demos.HSP-markdown.html#35442" class="Bound">y</a><a id="35443" class="Symbol">}</a> <a id="35445" href="Demos.HSP-markdown.html#35445" class="Bound">xy</a> <a id="35448" class="Symbol">=</a> <a id="35450" href="Demos.HSP-markdown.html#35555" class="Function">Goal</a>
   <a id="35458" class="Keyword">where</a>
   <a id="35467" href="Demos.HSP-markdown.html#35467" class="Function">Î¾</a> <a id="35469" class="Symbol">:</a> <a id="35471" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35473" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="35476" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35478" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35482" class="Symbol">(</a><a id="35483" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35485" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="35490" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35492" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35496" href="Demos.HSP-markdown.html#35438" class="Bound">x</a><a id="35497" class="Symbol">)</a> <a id="35499" href="Demos.HSP-markdown.html#34668" class="Function Operator">â‰ˆáµ‡</a> <a id="35502" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35504" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="35507" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35509" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35513" class="Symbol">(</a><a id="35514" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35516" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="35521" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35523" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35527" href="Demos.HSP-markdown.html#35442" class="Bound">y</a><a id="35528" class="Symbol">)</a>
   <a id="35533" href="Demos.HSP-markdown.html#35467" class="Function">Î¾</a> <a id="35535" class="Symbol">=</a> <a id="35537" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="35542" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35544" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="35547" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35549" href="Demos.HSP-markdown.html#35445" class="Bound">xy</a>
   <a id="35555" href="Demos.HSP-markdown.html#35555" class="Function">Goal</a> <a id="35560" class="Symbol">:</a> <a id="35562" href="Demos.HSP-markdown.html#35438" class="Bound">x</a> <a id="35564" href="Demos.HSP-markdown.html#34668" class="Function Operator">â‰ˆáµ‡</a> <a id="35567" href="Demos.HSP-markdown.html#35442" class="Bound">y</a>
   <a id="35572" href="Demos.HSP-markdown.html#35555" class="Function">Goal</a> <a id="35577" class="Symbol">=</a> <a id="35579" href="Demos.HSP-markdown.html#34698" class="Function">transáµ‡</a> <a id="35586" class="Symbol">(</a><a id="35587" href="Demos.HSP-markdown.html#34682" class="Function">symáµ‡</a> <a id="35592" class="Symbol">(</a><a id="35593" href="Demos.HSP-markdown.html#34824" class="Field">toâˆ¼from</a> <a id="35601" href="Demos.HSP-markdown.html#35438" class="Bound">x</a><a id="35602" class="Symbol">))</a> <a id="35605" class="Symbol">(</a><a id="35606" href="Demos.HSP-markdown.html#34698" class="Function">transáµ‡</a> <a id="35613" href="Demos.HSP-markdown.html#35467" class="Function">Î¾</a> <a id="35615" class="Symbol">(</a><a id="35616" href="Demos.HSP-markdown.html#34824" class="Field">toâˆ¼from</a> <a id="35624" href="Demos.HSP-markdown.html#35442" class="Bound">y</a><a id="35625" class="Symbol">))</a>

<a id="35629" class="Keyword">open</a> <a id="35634" href="Demos.HSP-markdown.html#34715" class="Module Operator">_â‰…_</a>
</pre>


#### <a id="properties-of-isomorphisms">Properties of isomorphisms</a>

<pre class="Agda">

<a id="â‰…-refl"></a><a id="35737" href="Demos.HSP-markdown.html#35737" class="Function">â‰…-refl</a> <a id="35744" class="Symbol">:</a> <a id="35746" href="Relation.Binary.Definitions.html#1339" class="Function">Reflexive</a> <a id="35756" class="Symbol">(</a><a id="35757" href="Demos.HSP-markdown.html#34715" class="Record Operator">_â‰…_</a> <a id="35761" class="Symbol">{</a><a id="35762" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a><a id="35763" class="Symbol">}{</a><a id="35765" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="35767" class="Symbol">})</a>
<a id="35770" href="Demos.HSP-markdown.html#35737" class="Function">â‰…-refl</a> <a id="35777" class="Symbol">{</a><a id="35778" href="Demos.HSP-markdown.html#35778" class="Bound">Î±</a><a id="35779" class="Symbol">}{</a><a id="35781" href="Demos.HSP-markdown.html#35781" class="Bound">Ïáµƒ</a><a id="35783" class="Symbol">}{</a><a id="35785" href="Demos.HSP-markdown.html#35785" class="Bound">ğ‘¨</a><a id="35786" class="Symbol">}</a> <a id="35788" class="Symbol">=</a> <a id="35790" href="Demos.HSP-markdown.html#34773" class="InductiveConstructor">mkiso</a> <a id="35796" href="Demos.HSP-markdown.html#29631" class="Function">ğ’¾ğ’¹</a> <a id="35799" href="Demos.HSP-markdown.html#29631" class="Function">ğ’¾ğ’¹</a> <a id="35802" class="Symbol">(Î»</a> <a id="35805" href="Demos.HSP-markdown.html#35805" class="Bound">b</a> <a id="35807" class="Symbol">â†’</a> <a id="35809" href="Relation.Binary.Structures.html#1568" class="Function">refl</a><a id="35813" class="Symbol">)</a> <a id="35815" class="Symbol">Î»</a> <a id="35817" href="Demos.HSP-markdown.html#35817" class="Bound">a</a> <a id="35819" class="Symbol">â†’</a> <a id="35821" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="35827" class="Keyword">where</a> <a id="35833" class="Keyword">open</a> <a id="35838" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="35845" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="35848" href="Demos.HSP-markdown.html#35785" class="Bound">ğ‘¨</a> <a id="35850" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="35852" class="Keyword">using</a> <a id="35858" class="Symbol">(</a> <a id="35860" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="35865" class="Symbol">)</a>

<a id="â‰…-sym"></a><a id="35868" href="Demos.HSP-markdown.html#35868" class="Function">â‰…-sym</a> <a id="35874" class="Symbol">:</a> <a id="35876" href="Relation.Binary.Definitions.html#1424" class="Function">Sym</a> <a id="35880" class="Symbol">(</a><a id="35881" href="Demos.HSP-markdown.html#34715" class="Record Operator">_â‰…_</a><a id="35884" class="Symbol">{</a><a id="35885" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a><a id="35886" class="Symbol">}{</a><a id="35888" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="35890" class="Symbol">})</a> <a id="35893" class="Symbol">(</a><a id="35894" href="Demos.HSP-markdown.html#34715" class="Record Operator">_â‰…_</a><a id="35897" class="Symbol">{</a><a id="35898" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a><a id="35899" class="Symbol">}{</a><a id="35901" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="35903" class="Symbol">})</a>
<a id="35906" href="Demos.HSP-markdown.html#35868" class="Function">â‰…-sym</a> <a id="35912" href="Demos.HSP-markdown.html#35912" class="Bound">Ï†</a> <a id="35914" class="Symbol">=</a> <a id="35916" href="Demos.HSP-markdown.html#34773" class="InductiveConstructor">mkiso</a> <a id="35922" class="Symbol">(</a><a id="35923" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="35928" href="Demos.HSP-markdown.html#35912" class="Bound">Ï†</a><a id="35929" class="Symbol">)</a> <a id="35931" class="Symbol">(</a><a id="35932" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="35935" href="Demos.HSP-markdown.html#35912" class="Bound">Ï†</a><a id="35936" class="Symbol">)</a> <a id="35938" class="Symbol">(</a><a id="35939" href="Demos.HSP-markdown.html#34878" class="Field">fromâˆ¼to</a> <a id="35947" href="Demos.HSP-markdown.html#35912" class="Bound">Ï†</a><a id="35948" class="Symbol">)</a> <a id="35950" class="Symbol">(</a><a id="35951" href="Demos.HSP-markdown.html#34824" class="Field">toâˆ¼from</a> <a id="35959" href="Demos.HSP-markdown.html#35912" class="Bound">Ï†</a><a id="35960" class="Symbol">)</a>

<a id="â‰…-trans"></a><a id="35963" href="Demos.HSP-markdown.html#35963" class="Function">â‰…-trans</a> <a id="35971" class="Symbol">:</a> <a id="35973" href="Relation.Binary.Definitions.html#1585" class="Function">Trans</a> <a id="35979" class="Symbol">(</a><a id="35980" href="Demos.HSP-markdown.html#34715" class="Record Operator">_â‰…_</a> <a id="35984" class="Symbol">{</a><a id="35985" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a><a id="35986" class="Symbol">}{</a><a id="35988" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="35990" class="Symbol">})(</a><a id="35993" href="Demos.HSP-markdown.html#34715" class="Record Operator">_â‰…_</a><a id="35996" class="Symbol">{</a><a id="35997" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a><a id="35998" class="Symbol">}{</a><a id="36000" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="36002" class="Symbol">})(</a><a id="36005" href="Demos.HSP-markdown.html#34715" class="Record Operator">_â‰…_</a><a id="36008" class="Symbol">{</a><a id="36009" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a><a id="36010" class="Symbol">}{</a><a id="36012" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="36014" class="Symbol">}{</a><a id="36016" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a><a id="36017" class="Symbol">}{</a><a id="36019" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="36021" class="Symbol">})</a>
<a id="36024" href="Demos.HSP-markdown.html#35963" class="Function">â‰…-trans</a> <a id="36032" class="Symbol">{</a><a id="36033" class="Argument">Ïá¶œ</a> <a id="36036" class="Symbol">=</a> <a id="36038" href="Demos.HSP-markdown.html#36038" class="Bound">Ïá¶œ</a><a id="36040" class="Symbol">}{</a><a id="36042" href="Demos.HSP-markdown.html#36042" class="Bound">ğ‘¨</a><a id="36043" class="Symbol">}{</a><a id="36045" href="Demos.HSP-markdown.html#36045" class="Bound">ğ‘©</a><a id="36046" class="Symbol">}{</a><a id="36048" href="Demos.HSP-markdown.html#36048" class="Bound">ğ‘ª</a><a id="36049" class="Symbol">}</a> <a id="36051" href="Demos.HSP-markdown.html#36051" class="Bound">ab</a> <a id="36054" href="Demos.HSP-markdown.html#36054" class="Bound">bc</a> <a id="36057" class="Symbol">=</a> <a id="36059" href="Demos.HSP-markdown.html#34773" class="InductiveConstructor">mkiso</a> <a id="36065" href="Demos.HSP-markdown.html#36198" class="Function">f</a> <a id="36067" href="Demos.HSP-markdown.html#36240" class="Function">g</a> <a id="36069" href="Demos.HSP-markdown.html#36286" class="Function">Ï„</a> <a id="36071" href="Demos.HSP-markdown.html#36410" class="Function">Î½</a>
 <a id="36074" class="Keyword">where</a>
  <a id="36082" class="Keyword">open</a> <a id="36087" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="36094" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="36097" href="Demos.HSP-markdown.html#36042" class="Bound">ğ‘¨</a> <a id="36099" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="36101" class="Keyword">using</a> <a id="36107" class="Symbol">(</a> <a id="36109" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="36113" class="Symbol">;</a> <a id="36115" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="36121" class="Symbol">)</a>
  <a id="36125" class="Keyword">open</a> <a id="36130" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="36137" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="36140" href="Demos.HSP-markdown.html#36048" class="Bound">ğ‘ª</a> <a id="36142" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="36144" class="Keyword">using</a> <a id="36150" class="Symbol">()</a> <a id="36153" class="Keyword">renaming</a> <a id="36162" class="Symbol">(</a> <a id="36164" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="36168" class="Symbol">to</a> <a id="36171" class="Field Operator">_â‰ˆá¶œ_</a> <a id="36176" class="Symbol">;</a> <a id="36178" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="36184" class="Symbol">to</a> <a id="36187" class="Function">transá¶œ</a> <a id="36194" class="Symbol">)</a>
  <a id="36198" href="Demos.HSP-markdown.html#36198" class="Function">f</a> <a id="36200" class="Symbol">:</a> <a id="36202" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="36206" href="Demos.HSP-markdown.html#36042" class="Bound">ğ‘¨</a> <a id="36208" href="Demos.HSP-markdown.html#36048" class="Bound">ğ‘ª</a>
  <a id="36212" href="Demos.HSP-markdown.html#36198" class="Function">f</a> <a id="36214" class="Symbol">=</a> <a id="36216" href="Demos.HSP-markdown.html#29145" class="Function">âˆ˜-hom</a> <a id="36222" class="Symbol">(</a><a id="36223" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="36226" href="Demos.HSP-markdown.html#36051" class="Bound">ab</a><a id="36228" class="Symbol">)</a> <a id="36230" class="Symbol">(</a><a id="36231" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="36234" href="Demos.HSP-markdown.html#36054" class="Bound">bc</a><a id="36236" class="Symbol">)</a>
  <a id="36240" href="Demos.HSP-markdown.html#36240" class="Function">g</a> <a id="36242" class="Symbol">:</a> <a id="36244" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="36248" href="Demos.HSP-markdown.html#36048" class="Bound">ğ‘ª</a> <a id="36250" href="Demos.HSP-markdown.html#36042" class="Bound">ğ‘¨</a>
  <a id="36254" href="Demos.HSP-markdown.html#36240" class="Function">g</a> <a id="36256" class="Symbol">=</a> <a id="36258" href="Demos.HSP-markdown.html#29145" class="Function">âˆ˜-hom</a> <a id="36264" class="Symbol">(</a><a id="36265" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="36270" href="Demos.HSP-markdown.html#36054" class="Bound">bc</a><a id="36272" class="Symbol">)</a> <a id="36274" class="Symbol">(</a><a id="36275" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="36280" href="Demos.HSP-markdown.html#36051" class="Bound">ab</a><a id="36282" class="Symbol">)</a>
  <a id="36286" href="Demos.HSP-markdown.html#36286" class="Function">Ï„</a> <a id="36288" class="Symbol">:</a> <a id="36290" class="Symbol">âˆ€</a> <a id="36292" href="Demos.HSP-markdown.html#36292" class="Bound">b</a> <a id="36294" class="Symbol">â†’</a> <a id="36296" class="Symbol">(</a><a id="36297" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36299" href="Demos.HSP-markdown.html#36198" class="Function">f</a> <a id="36301" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>  <a id="36304" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="36308" class="Symbol">(</a><a id="36309" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36311" href="Demos.HSP-markdown.html#36240" class="Function">g</a> <a id="36313" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36315" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="36319" href="Demos.HSP-markdown.html#36292" class="Bound">b</a><a id="36320" class="Symbol">))</a> <a id="36323" href="Demos.HSP-markdown.html#36171" class="Function Operator">â‰ˆá¶œ</a> <a id="36326" href="Demos.HSP-markdown.html#36292" class="Bound">b</a>
  <a id="36330" href="Demos.HSP-markdown.html#36286" class="Function">Ï„</a> <a id="36332" href="Demos.HSP-markdown.html#36332" class="Bound">b</a> <a id="36334" class="Symbol">=</a> <a id="36336" href="Demos.HSP-markdown.html#36187" class="Function">transá¶œ</a> <a id="36343" class="Symbol">(</a><a id="36344" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="36349" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36351" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="36354" href="Demos.HSP-markdown.html#36054" class="Bound">bc</a> <a id="36357" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36359" class="Symbol">(</a><a id="36360" href="Demos.HSP-markdown.html#34824" class="Field">toâˆ¼from</a> <a id="36368" href="Demos.HSP-markdown.html#36051" class="Bound">ab</a> <a id="36371" class="Symbol">(</a><a id="36372" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36374" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="36379" href="Demos.HSP-markdown.html#36054" class="Bound">bc</a> <a id="36382" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36384" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="36388" href="Demos.HSP-markdown.html#36332" class="Bound">b</a><a id="36389" class="Symbol">)))</a> <a id="36393" class="Symbol">(</a><a id="36394" href="Demos.HSP-markdown.html#34824" class="Field">toâˆ¼from</a> <a id="36402" href="Demos.HSP-markdown.html#36054" class="Bound">bc</a> <a id="36405" href="Demos.HSP-markdown.html#36332" class="Bound">b</a><a id="36406" class="Symbol">)</a>
  <a id="36410" href="Demos.HSP-markdown.html#36410" class="Function">Î½</a> <a id="36412" class="Symbol">:</a> <a id="36414" class="Symbol">âˆ€</a> <a id="36416" href="Demos.HSP-markdown.html#36416" class="Bound">a</a> <a id="36418" class="Symbol">â†’</a> <a id="36420" class="Symbol">(</a><a id="36421" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36423" href="Demos.HSP-markdown.html#36240" class="Function">g</a> <a id="36425" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36427" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="36431" class="Symbol">(</a><a id="36432" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36434" href="Demos.HSP-markdown.html#36198" class="Function">f</a> <a id="36436" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36438" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="36442" href="Demos.HSP-markdown.html#36416" class="Bound">a</a><a id="36443" class="Symbol">))</a> <a id="36446" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="36448" href="Demos.HSP-markdown.html#36416" class="Bound">a</a>
  <a id="36452" href="Demos.HSP-markdown.html#36410" class="Function">Î½</a> <a id="36454" href="Demos.HSP-markdown.html#36454" class="Bound">a</a> <a id="36456" class="Symbol">=</a> <a id="36458" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="36464" class="Symbol">(</a><a id="36465" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="36470" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36472" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="36477" href="Demos.HSP-markdown.html#36051" class="Bound">ab</a> <a id="36480" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36482" class="Symbol">(</a><a id="36483" href="Demos.HSP-markdown.html#34878" class="Field">fromâˆ¼to</a> <a id="36491" href="Demos.HSP-markdown.html#36054" class="Bound">bc</a> <a id="36494" class="Symbol">(</a><a id="36495" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36497" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="36500" href="Demos.HSP-markdown.html#36051" class="Bound">ab</a> <a id="36503" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36505" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="36509" href="Demos.HSP-markdown.html#36454" class="Bound">a</a><a id="36510" class="Symbol">)))</a> <a id="36514" class="Symbol">(</a><a id="36515" href="Demos.HSP-markdown.html#34878" class="Field">fromâˆ¼to</a> <a id="36523" href="Demos.HSP-markdown.html#36051" class="Bound">ab</a> <a id="36526" href="Demos.HSP-markdown.html#36454" class="Bound">a</a><a id="36527" class="Symbol">)</a>

</pre>

Fortunately, the lift operation preserves isomorphism (i.e., it's an *algebraic invariant*). As our focus is universal algebra, this is important and is what makes the lift operation a workable solution to the technical problems that arise from the noncumulativity of Agda's universe hierarchy.

<pre class="Agda">
<a id="36857" class="Keyword">module</a> <a id="36864" href="Demos.HSP-markdown.html#36864" class="Module">_</a> <a id="36866" class="Symbol">{</a><a id="36867" href="Demos.HSP-markdown.html#36867" class="Bound">ğ‘¨</a> <a id="36869" class="Symbol">:</a> <a id="36871" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="36879" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="36881" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="36883" class="Symbol">}{</a><a id="36885" href="Demos.HSP-markdown.html#36885" class="Bound">â„“</a> <a id="36887" class="Symbol">:</a> <a id="36889" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="36894" class="Symbol">}</a> <a id="36896" class="Keyword">where</a>
 <a id="36903" href="Demos.HSP-markdown.html#36903" class="Function">Lift-â‰…Ë¡</a> <a id="36911" class="Symbol">:</a> <a id="36913" href="Demos.HSP-markdown.html#36867" class="Bound">ğ‘¨</a> <a id="36915" href="Demos.HSP-markdown.html#34715" class="Record Operator">â‰…</a> <a id="36917" class="Symbol">(</a><a id="36918" href="Demos.HSP-markdown.html#24238" class="Function">Lift-AlgË¡</a> <a id="36928" href="Demos.HSP-markdown.html#36867" class="Bound">ğ‘¨</a> <a id="36930" href="Demos.HSP-markdown.html#36885" class="Bound">â„“</a><a id="36931" class="Symbol">)</a>
 <a id="36934" href="Demos.HSP-markdown.html#36903" class="Function">Lift-â‰…Ë¡</a> <a id="36942" class="Symbol">=</a> <a id="36944" href="Demos.HSP-markdown.html#34773" class="InductiveConstructor">mkiso</a> <a id="36950" href="Demos.HSP-markdown.html#30102" class="Function">ToLiftË¡</a> <a id="36958" href="Demos.HSP-markdown.html#30206" class="Function">FromLiftË¡</a> <a id="36968" class="Symbol">(</a><a id="36969" href="Demos.HSP-markdown.html#30302" class="Function">ToFromLiftË¡</a><a id="36980" class="Symbol">{</a><a id="36981" class="Argument">ğ‘¨</a> <a id="36983" class="Symbol">=</a> <a id="36985" href="Demos.HSP-markdown.html#36867" class="Bound">ğ‘¨</a><a id="36986" class="Symbol">})</a> <a id="36989" class="Symbol">(</a><a id="36990" href="Demos.HSP-markdown.html#30393" class="Function">FromToLiftË¡</a><a id="37001" class="Symbol">{</a><a id="37002" class="Argument">ğ‘¨</a> <a id="37004" class="Symbol">=</a> <a id="37006" href="Demos.HSP-markdown.html#36867" class="Bound">ğ‘¨</a><a id="37007" class="Symbol">}{</a><a id="37009" href="Demos.HSP-markdown.html#36885" class="Bound">â„“</a><a id="37010" class="Symbol">})</a>

 <a id="37015" href="Demos.HSP-markdown.html#37015" class="Function">Lift-â‰…Ê³</a> <a id="37023" class="Symbol">:</a> <a id="37025" href="Demos.HSP-markdown.html#36867" class="Bound">ğ‘¨</a> <a id="37027" href="Demos.HSP-markdown.html#34715" class="Record Operator">â‰…</a> <a id="37029" class="Symbol">(</a><a id="37030" href="Demos.HSP-markdown.html#24620" class="Function">Lift-AlgÊ³</a> <a id="37040" href="Demos.HSP-markdown.html#36867" class="Bound">ğ‘¨</a> <a id="37042" href="Demos.HSP-markdown.html#36885" class="Bound">â„“</a><a id="37043" class="Symbol">)</a>
 <a id="37046" href="Demos.HSP-markdown.html#37015" class="Function">Lift-â‰…Ê³</a> <a id="37054" class="Symbol">=</a> <a id="37056" href="Demos.HSP-markdown.html#34773" class="InductiveConstructor">mkiso</a> <a id="37062" href="Demos.HSP-markdown.html#30483" class="Function">ToLiftÊ³</a> <a id="37070" href="Demos.HSP-markdown.html#30594" class="Function">FromLiftÊ³</a> <a id="37080" class="Symbol">(</a><a id="37081" href="Demos.HSP-markdown.html#30690" class="Function">ToFromLiftÊ³</a><a id="37092" class="Symbol">{</a><a id="37093" class="Argument">ğ‘¨</a> <a id="37095" class="Symbol">=</a> <a id="37097" href="Demos.HSP-markdown.html#36867" class="Bound">ğ‘¨</a><a id="37098" class="Symbol">})</a> <a id="37101" class="Symbol">(</a><a id="37102" href="Demos.HSP-markdown.html#30785" class="Function">FromToLiftÊ³</a><a id="37113" class="Symbol">{</a><a id="37114" class="Argument">ğ‘¨</a> <a id="37116" class="Symbol">=</a> <a id="37118" href="Demos.HSP-markdown.html#36867" class="Bound">ğ‘¨</a><a id="37119" class="Symbol">}{</a><a id="37121" href="Demos.HSP-markdown.html#36885" class="Bound">â„“</a><a id="37122" class="Symbol">})</a>

<a id="Lift-â‰…"></a><a id="37126" href="Demos.HSP-markdown.html#37126" class="Function">Lift-â‰…</a> <a id="37133" class="Symbol">:</a> <a id="37135" class="Symbol">{</a><a id="37136" href="Demos.HSP-markdown.html#37136" class="Bound">ğ‘¨</a> <a id="37138" class="Symbol">:</a> <a id="37140" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="37148" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="37150" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="37152" class="Symbol">}{</a><a id="37154" href="Demos.HSP-markdown.html#37154" class="Bound">â„“</a> <a id="37156" href="Demos.HSP-markdown.html#37156" class="Bound">Ï</a> <a id="37158" class="Symbol">:</a> <a id="37160" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="37165" class="Symbol">}</a> <a id="37167" class="Symbol">â†’</a> <a id="37169" href="Demos.HSP-markdown.html#37136" class="Bound">ğ‘¨</a> <a id="37171" href="Demos.HSP-markdown.html#34715" class="Record Operator">â‰…</a> <a id="37173" class="Symbol">(</a><a id="37174" href="Demos.HSP-markdown.html#25128" class="Function">Lift-Alg</a> <a id="37183" href="Demos.HSP-markdown.html#37136" class="Bound">ğ‘¨</a> <a id="37185" href="Demos.HSP-markdown.html#37154" class="Bound">â„“</a> <a id="37187" href="Demos.HSP-markdown.html#37156" class="Bound">Ï</a><a id="37188" class="Symbol">)</a>
<a id="37190" href="Demos.HSP-markdown.html#37126" class="Function">Lift-â‰…</a> <a id="37197" class="Symbol">=</a> <a id="37199" href="Demos.HSP-markdown.html#35963" class="Function">â‰…-trans</a> <a id="37207" href="Demos.HSP-markdown.html#36903" class="Function">Lift-â‰…Ë¡</a> <a id="37215" href="Demos.HSP-markdown.html#37015" class="Function">Lift-â‰…Ê³</a>
</pre>


### Homomorphic Images

We begin with what for our purposes is the most useful way to represent the class of *homomorphic images* of an algebra in dependent type theory (cf. the [Setoid.Homomorphisms.HomomorphicImages][] module of
the [agda-algebras][] library). (The first definition is merely a short-hand.)

<pre class="Agda">
<a id="ov"></a><a id="37560" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="37563" class="Symbol">:</a> <a id="37565" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="37571" class="Symbol">â†’</a> <a id="37573" href="Agda.Primitive.html#597" class="Postulate">Level</a>
<a id="37579" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="37582" href="Demos.HSP-markdown.html#37582" class="Bound">Î±</a> <a id="37584" class="Symbol">=</a> <a id="37586" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="37588" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37590" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="37592" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37594" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="37599" href="Demos.HSP-markdown.html#37582" class="Bound">Î±</a>

<a id="_IsHomImageOf_"></a><a id="37602" href="Demos.HSP-markdown.html#37602" class="Function Operator">_IsHomImageOf_</a> <a id="37617" class="Symbol">:</a> <a id="37619" class="Symbol">(</a><a id="37620" href="Demos.HSP-markdown.html#37620" class="Bound">ğ‘©</a> <a id="37622" class="Symbol">:</a> <a id="37624" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="37632" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="37634" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="37636" class="Symbol">)(</a><a id="37638" href="Demos.HSP-markdown.html#37638" class="Bound">ğ‘¨</a> <a id="37640" class="Symbol">:</a> <a id="37642" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="37650" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="37652" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="37654" class="Symbol">)</a> <a id="37656" class="Symbol">â†’</a> <a id="37658" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="37663" class="Symbol">(</a><a id="37664" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="37666" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37668" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="37670" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37672" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="37674" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37676" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="37678" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37680" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="37683" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37685" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="37687" class="Symbol">)</a>
<a id="37689" href="Demos.HSP-markdown.html#37689" class="Bound">ğ‘©</a> <a id="37691" href="Demos.HSP-markdown.html#37602" class="Function Operator">IsHomImageOf</a> <a id="37704" href="Demos.HSP-markdown.html#37704" class="Bound">ğ‘¨</a> <a id="37706" class="Symbol">=</a> <a id="37708" href="Data.Product.html#916" class="Function">Î£[</a> <a id="37711" href="Demos.HSP-markdown.html#37711" class="Bound">Ï†</a> <a id="37713" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="37715" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="37719" href="Demos.HSP-markdown.html#37704" class="Bound">ğ‘¨</a> <a id="37721" href="Demos.HSP-markdown.html#37689" class="Bound">ğ‘©</a> <a id="37723" href="Data.Product.html#916" class="Function">]</a> <a id="37725" href="Demos.HSP-markdown.html#14749" class="Function">IsSurjective</a> <a id="37738" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="37740" href="Demos.HSP-markdown.html#37711" class="Bound">Ï†</a> <a id="37742" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>

<a id="HomImages"></a><a id="37745" href="Demos.HSP-markdown.html#37745" class="Function">HomImages</a> <a id="37755" class="Symbol">:</a> <a id="37757" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="37765" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="37767" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="37770" class="Symbol">â†’</a> <a id="37772" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="37777" class="Symbol">(</a><a id="37778" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="37780" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37782" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="37785" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37787" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="37790" class="Symbol">(</a><a id="37791" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="37793" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37795" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="37797" class="Symbol">))</a>
<a id="37800" href="Demos.HSP-markdown.html#37745" class="Function">HomImages</a> <a id="37810" class="Symbol">{</a><a id="37811" class="Argument">Î²</a> <a id="37813" class="Symbol">=</a> <a id="37815" href="Demos.HSP-markdown.html#37815" class="Bound">Î²</a><a id="37816" class="Symbol">}{</a><a id="37818" class="Argument">Ïáµ‡</a> <a id="37821" class="Symbol">=</a> <a id="37823" href="Demos.HSP-markdown.html#37823" class="Bound">Ïáµ‡</a><a id="37825" class="Symbol">}</a> <a id="37827" href="Demos.HSP-markdown.html#37827" class="Bound">ğ‘¨</a> <a id="37829" class="Symbol">=</a> <a id="37831" href="Data.Product.html#916" class="Function">Î£[</a> <a id="37834" href="Demos.HSP-markdown.html#37834" class="Bound">ğ‘©</a> <a id="37836" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="37838" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="37846" href="Demos.HSP-markdown.html#37815" class="Bound">Î²</a> <a id="37848" href="Demos.HSP-markdown.html#37823" class="Bound">Ïáµ‡</a> <a id="37851" href="Data.Product.html#916" class="Function">]</a> <a id="37853" href="Demos.HSP-markdown.html#37834" class="Bound">ğ‘©</a> <a id="37855" href="Demos.HSP-markdown.html#37602" class="Function Operator">IsHomImageOf</a> <a id="37868" href="Demos.HSP-markdown.html#37827" class="Bound">ğ‘¨</a>

</pre>

These types should be self-explanatory, but just to be sure, let's describe the Sigma type appearing in the second definition. Given an `ğ‘†`-algebra `ğ‘¨ : Algebra Î± Ï`, the type `HomImages ğ‘¨` denotes the class of algebras `ğ‘© : Algebra Î² Ï` with a map `Ï† : âˆ£ ğ‘¨ âˆ£ â†’ âˆ£ ğ‘© âˆ£` such that `Ï†` is a surjective homomorphism.

<pre class="Agda">
<a id="38216" class="Keyword">module</a> <a id="38223" href="Demos.HSP-markdown.html#38223" class="Module">_</a> <a id="38225" class="Symbol">{</a><a id="38226" href="Demos.HSP-markdown.html#38226" class="Bound">ğ‘¨</a> <a id="38228" class="Symbol">:</a> <a id="38230" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="38238" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="38240" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="38242" class="Symbol">}{</a><a id="38244" href="Demos.HSP-markdown.html#38244" class="Bound">ğ‘©</a> <a id="38246" class="Symbol">:</a> <a id="38248" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="38256" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="38258" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="38260" class="Symbol">}</a> <a id="38262" class="Keyword">where</a>

 <a id="38270" href="Demos.HSP-markdown.html#38270" class="Function">Lift-HomImage-lemma</a> <a id="38290" class="Symbol">:</a> <a id="38292" class="Symbol">âˆ€{</a><a id="38294" href="Demos.HSP-markdown.html#38294" class="Bound">Î³</a><a id="38295" class="Symbol">}</a> <a id="38297" class="Symbol">â†’</a> <a id="38299" class="Symbol">(</a><a id="38300" href="Demos.HSP-markdown.html#25128" class="Function">Lift-Alg</a> <a id="38309" href="Demos.HSP-markdown.html#38226" class="Bound">ğ‘¨</a> <a id="38311" href="Demos.HSP-markdown.html#38294" class="Bound">Î³</a> <a id="38313" href="Demos.HSP-markdown.html#38294" class="Bound">Î³</a><a id="38314" class="Symbol">)</a> <a id="38316" href="Demos.HSP-markdown.html#37602" class="Function Operator">IsHomImageOf</a> <a id="38329" href="Demos.HSP-markdown.html#38244" class="Bound">ğ‘©</a> <a id="38331" class="Symbol">â†’</a> <a id="38333" href="Demos.HSP-markdown.html#38226" class="Bound">ğ‘¨</a> <a id="38335" href="Demos.HSP-markdown.html#37602" class="Function Operator">IsHomImageOf</a> <a id="38348" href="Demos.HSP-markdown.html#38244" class="Bound">ğ‘©</a>
 <a id="38351" href="Demos.HSP-markdown.html#38270" class="Function">Lift-HomImage-lemma</a> <a id="38371" class="Symbol">{</a><a id="38372" href="Demos.HSP-markdown.html#38372" class="Bound">Î³</a><a id="38373" class="Symbol">}</a> <a id="38375" href="Demos.HSP-markdown.html#38375" class="Bound">Ï†</a> <a id="38377" class="Symbol">=</a> <a id="38379" href="Demos.HSP-markdown.html#29145" class="Function">âˆ˜-hom</a> <a id="38385" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="38387" href="Demos.HSP-markdown.html#38375" class="Bound">Ï†</a> <a id="38389" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="38391" class="Symbol">(</a><a id="38392" href="Demos.HSP-markdown.html#34806" class="Field">from</a> <a id="38397" href="Demos.HSP-markdown.html#37126" class="Function">Lift-â‰…</a><a id="38403" class="Symbol">)</a> <a id="38405" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a>
                             <a id="38436" href="Demos.HSP-markdown.html#15533" class="Function">âˆ˜-IsSurjective</a> <a id="38451" class="Symbol">_</a> <a id="38453" class="Symbol">_</a> <a id="38455" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="38457" href="Demos.HSP-markdown.html#38375" class="Bound">Ï†</a> <a id="38459" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="38461" class="Symbol">(</a><a id="38462" href="Demos.HSP-markdown.html#35275" class="Function">fromIsSurjective</a> <a id="38479" class="Symbol">(</a><a id="38480" href="Demos.HSP-markdown.html#37126" class="Function">Lift-â‰…</a><a id="38486" class="Symbol">{</a><a id="38487" class="Argument">ğ‘¨</a> <a id="38489" class="Symbol">=</a> <a id="38491" href="Demos.HSP-markdown.html#38226" class="Bound">ğ‘¨</a><a id="38492" class="Symbol">}))</a>

<a id="38497" class="Keyword">module</a> <a id="38504" href="Demos.HSP-markdown.html#38504" class="Module">_</a> <a id="38506" class="Symbol">{</a><a id="38507" href="Demos.HSP-markdown.html#38507" class="Bound">ğ‘¨</a> <a id="38509" href="Demos.HSP-markdown.html#38509" class="Bound">ğ‘¨&#39;</a> <a id="38512" class="Symbol">:</a> <a id="38514" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="38522" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="38524" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="38526" class="Symbol">}{</a><a id="38528" href="Demos.HSP-markdown.html#38528" class="Bound">ğ‘©</a> <a id="38530" class="Symbol">:</a> <a id="38532" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="38540" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="38542" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="38544" class="Symbol">}</a> <a id="38546" class="Keyword">where</a>

 <a id="38554" href="Demos.HSP-markdown.html#38554" class="Function">HomImage-â‰…</a> <a id="38565" class="Symbol">:</a> <a id="38567" href="Demos.HSP-markdown.html#38507" class="Bound">ğ‘¨</a> <a id="38569" href="Demos.HSP-markdown.html#37602" class="Function Operator">IsHomImageOf</a> <a id="38582" href="Demos.HSP-markdown.html#38509" class="Bound">ğ‘¨&#39;</a> <a id="38585" class="Symbol">â†’</a> <a id="38587" href="Demos.HSP-markdown.html#38507" class="Bound">ğ‘¨</a> <a id="38589" href="Demos.HSP-markdown.html#34715" class="Record Operator">â‰…</a> <a id="38591" href="Demos.HSP-markdown.html#38528" class="Bound">ğ‘©</a> <a id="38593" class="Symbol">â†’</a> <a id="38595" href="Demos.HSP-markdown.html#38528" class="Bound">ğ‘©</a> <a id="38597" href="Demos.HSP-markdown.html#37602" class="Function Operator">IsHomImageOf</a> <a id="38610" href="Demos.HSP-markdown.html#38509" class="Bound">ğ‘¨&#39;</a>
 <a id="38614" href="Demos.HSP-markdown.html#38554" class="Function">HomImage-â‰…</a> <a id="38625" href="Demos.HSP-markdown.html#38625" class="Bound">Ï†</a> <a id="38627" href="Demos.HSP-markdown.html#38627" class="Bound">Aâ‰…B</a> <a id="38631" class="Symbol">=</a> <a id="38633" href="Demos.HSP-markdown.html#29145" class="Function">âˆ˜-hom</a> <a id="38639" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="38641" href="Demos.HSP-markdown.html#38625" class="Bound">Ï†</a> <a id="38643" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="38645" class="Symbol">(</a><a id="38646" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="38649" href="Demos.HSP-markdown.html#38627" class="Bound">Aâ‰…B</a><a id="38652" class="Symbol">)</a> <a id="38654" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="38656" href="Demos.HSP-markdown.html#15533" class="Function">âˆ˜-IsSurjective</a> <a id="38671" class="Symbol">_</a> <a id="38673" class="Symbol">_</a> <a id="38675" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="38677" href="Demos.HSP-markdown.html#38625" class="Bound">Ï†</a> <a id="38679" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="38681" class="Symbol">(</a><a id="38682" href="Demos.HSP-markdown.html#34931" class="Function">toIsSurjective</a> <a id="38697" href="Demos.HSP-markdown.html#38627" class="Bound">Aâ‰…B</a><a id="38700" class="Symbol">)</a>
</pre>




<!-- ------------------------------------------------------------------------------------- -->

## <a id="subalgebras">Subalgebras</a>
### <a id="subalgebras-basic-definitions">Basic definitions</a>

<pre class="Agda">

<a id="_â‰¤_"></a><a id="38931" href="Demos.HSP-markdown.html#38931" class="Function Operator">_â‰¤_</a> <a id="38935" class="Symbol">:</a> <a id="38937" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="38945" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="38947" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="38950" class="Symbol">â†’</a> <a id="38952" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="38960" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="38962" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a> <a id="38965" class="Symbol">â†’</a> <a id="38967" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="38972" class="Symbol">(</a><a id="38973" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="38975" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="38977" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="38979" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="38981" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="38983" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="38985" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="38988" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="38990" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="38992" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="38994" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="38996" class="Symbol">)</a>
<a id="38998" href="Demos.HSP-markdown.html#38998" class="Bound">ğ‘¨</a> <a id="39000" href="Demos.HSP-markdown.html#38931" class="Function Operator">â‰¤</a> <a id="39002" href="Demos.HSP-markdown.html#39002" class="Bound">ğ‘©</a> <a id="39004" class="Symbol">=</a> <a id="39006" href="Data.Product.html#916" class="Function">Î£[</a> <a id="39009" href="Demos.HSP-markdown.html#39009" class="Bound">h</a> <a id="39011" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="39013" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="39017" href="Demos.HSP-markdown.html#38998" class="Bound">ğ‘¨</a> <a id="39019" href="Demos.HSP-markdown.html#39002" class="Bound">ğ‘©</a> <a id="39021" href="Data.Product.html#916" class="Function">]</a> <a id="39023" href="Demos.HSP-markdown.html#14666" class="Function">IsInjective</a> <a id="39035" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39037" href="Demos.HSP-markdown.html#39009" class="Bound">h</a> <a id="39039" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
</pre>

### <a id="subalgebras-basic-properties">Basic properties</a>

<pre class="Agda">

<a id="â‰¤-reflexive"></a><a id="39130" href="Demos.HSP-markdown.html#39130" class="Function">â‰¤-reflexive</a> <a id="39142" class="Symbol">:</a> <a id="39144" class="Symbol">{</a><a id="39145" href="Demos.HSP-markdown.html#39145" class="Bound">ğ‘¨</a> <a id="39147" class="Symbol">:</a> <a id="39149" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="39157" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="39159" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="39161" class="Symbol">}</a> <a id="39163" class="Symbol">â†’</a> <a id="39165" href="Demos.HSP-markdown.html#39145" class="Bound">ğ‘¨</a> <a id="39167" href="Demos.HSP-markdown.html#38931" class="Function Operator">â‰¤</a> <a id="39169" href="Demos.HSP-markdown.html#39145" class="Bound">ğ‘¨</a>
<a id="39171" href="Demos.HSP-markdown.html#39130" class="Function">â‰¤-reflexive</a> <a id="39183" class="Symbol">{</a><a id="39184" class="Argument">ğ‘¨</a> <a id="39186" class="Symbol">=</a> <a id="39188" href="Demos.HSP-markdown.html#39188" class="Bound">ğ‘¨</a><a id="39189" class="Symbol">}</a> <a id="39191" class="Symbol">=</a> <a id="39193" href="Demos.HSP-markdown.html#29631" class="Function">ğ’¾ğ’¹</a> <a id="39196" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39198" href="Function.Base.html#615" class="Function">id</a>

<a id="monâ†’â‰¤"></a><a id="39202" href="Demos.HSP-markdown.html#39202" class="Function">monâ†’â‰¤</a> <a id="39208" class="Symbol">:</a> <a id="39210" class="Symbol">{</a><a id="39211" href="Demos.HSP-markdown.html#39211" class="Bound">ğ‘¨</a> <a id="39213" class="Symbol">:</a> <a id="39215" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="39223" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="39225" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="39227" class="Symbol">}{</a><a id="39229" href="Demos.HSP-markdown.html#39229" class="Bound">ğ‘©</a> <a id="39231" class="Symbol">:</a> <a id="39233" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="39241" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="39243" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="39245" class="Symbol">}</a> <a id="39247" class="Symbol">â†’</a> <a id="39249" href="Demos.HSP-markdown.html#27424" class="Function">mon</a> <a id="39253" href="Demos.HSP-markdown.html#39211" class="Bound">ğ‘¨</a> <a id="39255" href="Demos.HSP-markdown.html#39229" class="Bound">ğ‘©</a> <a id="39257" class="Symbol">â†’</a> <a id="39259" href="Demos.HSP-markdown.html#39211" class="Bound">ğ‘¨</a> <a id="39261" href="Demos.HSP-markdown.html#38931" class="Function Operator">â‰¤</a> <a id="39263" href="Demos.HSP-markdown.html#39229" class="Bound">ğ‘©</a>
<a id="39265" href="Demos.HSP-markdown.html#39202" class="Function">monâ†’â‰¤</a> <a id="39271" class="Symbol">{</a><a id="39272" class="Argument">ğ‘¨</a> <a id="39274" class="Symbol">=</a> <a id="39276" href="Demos.HSP-markdown.html#39276" class="Bound">ğ‘¨</a><a id="39277" class="Symbol">}{</a><a id="39279" href="Demos.HSP-markdown.html#39279" class="Bound">ğ‘©</a><a id="39280" class="Symbol">}</a> <a id="39282" href="Demos.HSP-markdown.html#39282" class="Bound">x</a> <a id="39284" class="Symbol">=</a> <a id="39286" href="Demos.HSP-markdown.html#27781" class="Function">monâ†’intohom</a> <a id="39298" href="Demos.HSP-markdown.html#39276" class="Bound">ğ‘¨</a> <a id="39300" href="Demos.HSP-markdown.html#39279" class="Bound">ğ‘©</a> <a id="39302" href="Demos.HSP-markdown.html#39282" class="Bound">x</a>

<a id="39305" class="Keyword">module</a> <a id="39312" href="Demos.HSP-markdown.html#39312" class="Module">_</a> <a id="39314" class="Symbol">{</a><a id="39315" href="Demos.HSP-markdown.html#39315" class="Bound">ğ‘¨</a> <a id="39317" class="Symbol">:</a> <a id="39319" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="39327" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="39329" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="39331" class="Symbol">}{</a><a id="39333" href="Demos.HSP-markdown.html#39333" class="Bound">ğ‘©</a> <a id="39335" class="Symbol">:</a> <a id="39337" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="39345" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="39347" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="39349" class="Symbol">}{</a><a id="39351" href="Demos.HSP-markdown.html#39351" class="Bound">ğ‘ª</a> <a id="39353" class="Symbol">:</a> <a id="39355" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="39363" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a> <a id="39365" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="39367" class="Symbol">}</a> <a id="39369" class="Keyword">where</a>
 <a id="39376" href="Demos.HSP-markdown.html#39376" class="Function">â‰¤-trans</a> <a id="39384" class="Symbol">:</a> <a id="39386" href="Demos.HSP-markdown.html#39315" class="Bound">ğ‘¨</a> <a id="39388" href="Demos.HSP-markdown.html#38931" class="Function Operator">â‰¤</a> <a id="39390" href="Demos.HSP-markdown.html#39333" class="Bound">ğ‘©</a> <a id="39392" class="Symbol">â†’</a> <a id="39394" href="Demos.HSP-markdown.html#39333" class="Bound">ğ‘©</a> <a id="39396" href="Demos.HSP-markdown.html#38931" class="Function Operator">â‰¤</a> <a id="39398" href="Demos.HSP-markdown.html#39351" class="Bound">ğ‘ª</a> <a id="39400" class="Symbol">â†’</a> <a id="39402" href="Demos.HSP-markdown.html#39315" class="Bound">ğ‘¨</a> <a id="39404" href="Demos.HSP-markdown.html#38931" class="Function Operator">â‰¤</a> <a id="39406" href="Demos.HSP-markdown.html#39351" class="Bound">ğ‘ª</a>
 <a id="39409" href="Demos.HSP-markdown.html#39376" class="Function">â‰¤-trans</a> <a id="39417" class="Symbol">(</a> <a id="39419" href="Demos.HSP-markdown.html#39419" class="Bound">f</a> <a id="39421" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39423" href="Demos.HSP-markdown.html#39423" class="Bound">finj</a> <a id="39428" class="Symbol">)</a> <a id="39430" class="Symbol">(</a> <a id="39432" href="Demos.HSP-markdown.html#39432" class="Bound">g</a> <a id="39434" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39436" href="Demos.HSP-markdown.html#39436" class="Bound">ginj</a> <a id="39441" class="Symbol">)</a> <a id="39443" class="Symbol">=</a> <a id="39445" class="Symbol">(</a><a id="39446" href="Demos.HSP-markdown.html#29145" class="Function">âˆ˜-hom</a> <a id="39452" href="Demos.HSP-markdown.html#39419" class="Bound">f</a> <a id="39454" href="Demos.HSP-markdown.html#39432" class="Bound">g</a> <a id="39456" class="Symbol">)</a> <a id="39458" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39460" href="Demos.HSP-markdown.html#15422" class="Function">âˆ˜-IsInjective</a> <a id="39474" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39476" href="Demos.HSP-markdown.html#39419" class="Bound">f</a> <a id="39478" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39480" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39482" href="Demos.HSP-markdown.html#39432" class="Bound">g</a> <a id="39484" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39486" href="Demos.HSP-markdown.html#39423" class="Bound">finj</a> <a id="39491" href="Demos.HSP-markdown.html#39436" class="Bound">ginj</a>

 <a id="39498" href="Demos.HSP-markdown.html#39498" class="Function">â‰…-trans-â‰¤</a> <a id="39508" class="Symbol">:</a> <a id="39510" href="Demos.HSP-markdown.html#39315" class="Bound">ğ‘¨</a> <a id="39512" href="Demos.HSP-markdown.html#34715" class="Record Operator">â‰…</a> <a id="39514" href="Demos.HSP-markdown.html#39333" class="Bound">ğ‘©</a> <a id="39516" class="Symbol">â†’</a> <a id="39518" href="Demos.HSP-markdown.html#39333" class="Bound">ğ‘©</a> <a id="39520" href="Demos.HSP-markdown.html#38931" class="Function Operator">â‰¤</a> <a id="39522" href="Demos.HSP-markdown.html#39351" class="Bound">ğ‘ª</a> <a id="39524" class="Symbol">â†’</a> <a id="39526" href="Demos.HSP-markdown.html#39315" class="Bound">ğ‘¨</a> <a id="39528" href="Demos.HSP-markdown.html#38931" class="Function Operator">â‰¤</a> <a id="39530" href="Demos.HSP-markdown.html#39351" class="Bound">ğ‘ª</a>
 <a id="39533" href="Demos.HSP-markdown.html#39498" class="Function">â‰…-trans-â‰¤</a> <a id="39543" href="Demos.HSP-markdown.html#39543" class="Bound">Aâ‰…B</a> <a id="39547" class="Symbol">(</a><a id="39548" href="Demos.HSP-markdown.html#39548" class="Bound">h</a> <a id="39550" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39552" href="Demos.HSP-markdown.html#39552" class="Bound">hinj</a><a id="39556" class="Symbol">)</a> <a id="39558" class="Symbol">=</a> <a id="39560" class="Symbol">(</a><a id="39561" href="Demos.HSP-markdown.html#29145" class="Function">âˆ˜-hom</a> <a id="39567" class="Symbol">(</a><a id="39568" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="39571" href="Demos.HSP-markdown.html#39543" class="Bound">Aâ‰…B</a><a id="39574" class="Symbol">)</a> <a id="39576" href="Demos.HSP-markdown.html#39548" class="Bound">h</a><a id="39577" class="Symbol">)</a> <a id="39579" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39581" class="Symbol">(</a><a id="39582" href="Demos.HSP-markdown.html#15422" class="Function">âˆ˜-IsInjective</a> <a id="39596" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39598" href="Demos.HSP-markdown.html#34790" class="Field">to</a> <a id="39601" href="Demos.HSP-markdown.html#39543" class="Bound">Aâ‰…B</a> <a id="39605" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39607" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39609" href="Demos.HSP-markdown.html#39548" class="Bound">h</a> <a id="39611" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39613" class="Symbol">(</a><a id="39614" href="Demos.HSP-markdown.html#35033" class="Function">toIsInjective</a> <a id="39628" href="Demos.HSP-markdown.html#39543" class="Bound">Aâ‰…B</a><a id="39631" class="Symbol">)</a> <a id="39633" href="Demos.HSP-markdown.html#39552" class="Bound">hinj</a><a id="39637" class="Symbol">)</a>
</pre>

### <a id="products-of-subalgebras">Products of subalgebras</a>

<pre class="Agda">

<a id="39730" class="Keyword">module</a> <a id="39737" href="Demos.HSP-markdown.html#39737" class="Module">_</a> <a id="39739" class="Symbol">{</a><a id="39740" href="Demos.HSP-markdown.html#39740" class="Bound">Î¹</a> <a id="39742" class="Symbol">:</a> <a id="39744" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="39749" class="Symbol">}</a> <a id="39751" class="Symbol">{</a><a id="39752" href="Demos.HSP-markdown.html#39752" class="Bound">I</a> <a id="39754" class="Symbol">:</a> <a id="39756" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="39761" href="Demos.HSP-markdown.html#39740" class="Bound">Î¹</a><a id="39762" class="Symbol">}{</a><a id="39764" href="Demos.HSP-markdown.html#39764" class="Bound">ğ’œ</a> <a id="39766" class="Symbol">:</a> <a id="39768" href="Demos.HSP-markdown.html#39752" class="Bound">I</a> <a id="39770" class="Symbol">â†’</a> <a id="39772" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="39780" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="39782" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="39784" class="Symbol">}{</a><a id="39786" href="Demos.HSP-markdown.html#39786" class="Bound">â„¬</a> <a id="39788" class="Symbol">:</a> <a id="39790" href="Demos.HSP-markdown.html#39752" class="Bound">I</a> <a id="39792" class="Symbol">â†’</a> <a id="39794" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="39802" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="39804" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="39806" class="Symbol">}</a> <a id="39808" class="Keyword">where</a>

 <a id="39816" href="Demos.HSP-markdown.html#39816" class="Function">â¨…-â‰¤</a> <a id="39820" class="Symbol">:</a> <a id="39822" class="Symbol">(âˆ€</a> <a id="39825" href="Demos.HSP-markdown.html#39825" class="Bound">i</a> <a id="39827" class="Symbol">â†’</a> <a id="39829" href="Demos.HSP-markdown.html#39786" class="Bound">â„¬</a> <a id="39831" href="Demos.HSP-markdown.html#39825" class="Bound">i</a> <a id="39833" href="Demos.HSP-markdown.html#38931" class="Function Operator">â‰¤</a> <a id="39835" href="Demos.HSP-markdown.html#39764" class="Bound">ğ’œ</a> <a id="39837" href="Demos.HSP-markdown.html#39825" class="Bound">i</a><a id="39838" class="Symbol">)</a> <a id="39840" class="Symbol">â†’</a> <a id="39842" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="39844" href="Demos.HSP-markdown.html#39786" class="Bound">â„¬</a> <a id="39846" href="Demos.HSP-markdown.html#38931" class="Function Operator">â‰¤</a> <a id="39848" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="39850" href="Demos.HSP-markdown.html#39764" class="Bound">ğ’œ</a>
 <a id="39853" href="Demos.HSP-markdown.html#39816" class="Function">â¨…-â‰¤</a> <a id="39857" href="Demos.HSP-markdown.html#39857" class="Bound">Bâ‰¤A</a> <a id="39861" class="Symbol">=</a> <a id="39863" class="Symbol">(</a><a id="39864" href="Demos.HSP-markdown.html#39942" class="Function">hfunc</a> <a id="39870" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39872" href="Demos.HSP-markdown.html#40057" class="Function">hhom</a><a id="39876" class="Symbol">)</a> <a id="39878" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39880" href="Demos.HSP-markdown.html#40137" class="Function">hM</a>
  <a id="39885" class="Keyword">where</a>
  <a id="39893" href="Demos.HSP-markdown.html#39893" class="Function">hi</a> <a id="39896" class="Symbol">:</a> <a id="39898" class="Symbol">âˆ€</a> <a id="39900" href="Demos.HSP-markdown.html#39900" class="Bound">i</a> <a id="39902" class="Symbol">â†’</a> <a id="39904" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="39908" class="Symbol">(</a><a id="39909" href="Demos.HSP-markdown.html#39786" class="Bound">â„¬</a> <a id="39911" href="Demos.HSP-markdown.html#39900" class="Bound">i</a><a id="39912" class="Symbol">)</a> <a id="39914" class="Symbol">(</a><a id="39915" href="Demos.HSP-markdown.html#39764" class="Bound">ğ’œ</a> <a id="39917" href="Demos.HSP-markdown.html#39900" class="Bound">i</a><a id="39918" class="Symbol">)</a>
  <a id="39922" href="Demos.HSP-markdown.html#39893" class="Function">hi</a> <a id="39925" href="Demos.HSP-markdown.html#39925" class="Bound">i</a> <a id="39927" class="Symbol">=</a> <a id="39929" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39931" href="Demos.HSP-markdown.html#39857" class="Bound">Bâ‰¤A</a> <a id="39935" href="Demos.HSP-markdown.html#39925" class="Bound">i</a> <a id="39937" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>

  <a id="39942" href="Demos.HSP-markdown.html#39942" class="Function">hfunc</a> <a id="39948" class="Symbol">:</a> <a id="39950" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="39953" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="39955" href="Demos.HSP-markdown.html#39786" class="Bound">â„¬</a> <a id="39957" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="39959" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="39961" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="39964" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="39966" href="Demos.HSP-markdown.html#39764" class="Bound">ğ’œ</a> <a id="39968" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>
  <a id="39972" class="Symbol">(</a><a id="39973" href="Demos.HSP-markdown.html#39942" class="Function">hfunc</a> <a id="39979" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="39983" href="Demos.HSP-markdown.html#39983" class="Bound">x</a><a id="39984" class="Symbol">)</a> <a id="39986" href="Demos.HSP-markdown.html#39986" class="Bound">i</a> <a id="39988" class="Symbol">=</a> <a id="39990" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39992" href="Demos.HSP-markdown.html#39893" class="Function">hi</a> <a id="39995" href="Demos.HSP-markdown.html#39986" class="Bound">i</a> <a id="39997" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39999" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="40003" class="Symbol">(</a><a id="40004" href="Demos.HSP-markdown.html#39983" class="Bound">x</a> <a id="40006" href="Demos.HSP-markdown.html#39986" class="Bound">i</a><a id="40007" class="Symbol">)</a>
  <a id="40011" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="40016" href="Demos.HSP-markdown.html#39942" class="Function">hfunc</a> <a id="40022" class="Symbol">=</a> <a id="40024" class="Symbol">Î»</a> <a id="40026" href="Demos.HSP-markdown.html#40026" class="Bound">xy</a> <a id="40029" href="Demos.HSP-markdown.html#40029" class="Bound">i</a> <a id="40031" class="Symbol">â†’</a> <a id="40033" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="40038" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="40040" href="Demos.HSP-markdown.html#39893" class="Function">hi</a> <a id="40043" href="Demos.HSP-markdown.html#40029" class="Bound">i</a> <a id="40045" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="40047" class="Symbol">(</a><a id="40048" href="Demos.HSP-markdown.html#40026" class="Bound">xy</a> <a id="40051" href="Demos.HSP-markdown.html#40029" class="Bound">i</a><a id="40052" class="Symbol">)</a>

  <a id="40057" href="Demos.HSP-markdown.html#40057" class="Function">hhom</a> <a id="40062" class="Symbol">:</a> <a id="40064" href="Demos.HSP-markdown.html#26956" class="Record">IsHom</a> <a id="40070" class="Symbol">(</a><a id="40071" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="40073" href="Demos.HSP-markdown.html#39786" class="Bound">â„¬</a><a id="40074" class="Symbol">)</a> <a id="40076" class="Symbol">(</a><a id="40077" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="40079" href="Demos.HSP-markdown.html#39764" class="Bound">ğ’œ</a><a id="40080" class="Symbol">)</a> <a id="40082" href="Demos.HSP-markdown.html#39942" class="Function">hfunc</a>
  <a id="40090" href="Demos.HSP-markdown.html#27039" class="Field">compatible</a> <a id="40101" href="Demos.HSP-markdown.html#40057" class="Function">hhom</a> <a id="40106" class="Symbol">=</a> <a id="40108" class="Symbol">Î»</a> <a id="40110" href="Demos.HSP-markdown.html#40110" class="Bound">i</a> <a id="40112" class="Symbol">â†’</a> <a id="40114" href="Demos.HSP-markdown.html#27039" class="Field">compatible</a> <a id="40125" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="40127" href="Demos.HSP-markdown.html#39893" class="Function">hi</a> <a id="40130" href="Demos.HSP-markdown.html#40110" class="Bound">i</a> <a id="40132" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>

  <a id="40137" href="Demos.HSP-markdown.html#40137" class="Function">hM</a> <a id="40140" class="Symbol">:</a> <a id="40142" href="Demos.HSP-markdown.html#14666" class="Function">IsInjective</a> <a id="40154" href="Demos.HSP-markdown.html#39942" class="Function">hfunc</a>
  <a id="40162" href="Demos.HSP-markdown.html#40137" class="Function">hM</a> <a id="40165" class="Symbol">=</a> <a id="40167" class="Symbol">Î»</a> <a id="40169" href="Demos.HSP-markdown.html#40169" class="Bound">xy</a> <a id="40172" href="Demos.HSP-markdown.html#40172" class="Bound">i</a> <a id="40174" class="Symbol">â†’</a> <a id="40176" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="40178" href="Demos.HSP-markdown.html#39857" class="Bound">Bâ‰¤A</a> <a id="40182" href="Demos.HSP-markdown.html#40172" class="Bound">i</a> <a id="40184" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="40186" class="Symbol">(</a><a id="40187" href="Demos.HSP-markdown.html#40169" class="Bound">xy</a> <a id="40190" href="Demos.HSP-markdown.html#40172" class="Bound">i</a><a id="40191" class="Symbol">)</a>
</pre>




<!-- ------------------------------------------------------------------------------------- -->

## Terms

### <a id="terms-basic-definitions">Basic definitions</a>

Fix a signature `ğ‘†` and let `X` denote an arbitrary nonempty collection of variable symbols. Assume the symbols in `X` are distinct from the operation symbols of `ğ‘†`, that is `X âˆ© âˆ£ ğ‘† âˆ£ = âˆ…`.

By a *word* in the language of `ğ‘†`, we mean a nonempty, finite sequence of members of `X âˆª âˆ£ ğ‘† âˆ£`. We denote the concatenation of such sequences by simple juxtaposition.

Let `Sâ‚€` denote the set of nullary operation symbols of `ğ‘†`. We define by induction on `n` the sets `ğ‘‡â‚™` of *words* over `X âˆª âˆ£ ğ‘† âˆ£` as follows (cf. [Bergman (2012)][] Def. 4.19):

`ğ‘‡â‚€ := X âˆª Sâ‚€` and `ğ‘‡â‚™â‚Šâ‚ := ğ‘‡â‚™ âˆª ğ’¯â‚™`

where `ğ’¯â‚™` is the collection of all `f t` such that `f : âˆ£ ğ‘† âˆ£` and `t : âˆ¥ ğ‘† âˆ¥ f â†’ ğ‘‡â‚™`. (Recall, `âˆ¥ ğ‘† âˆ¥ f` is the arity of the operation symbol f.)

We define the collection of *terms* in the signature `ğ‘†` over `X` by `Term X := â‹ƒâ‚™ ğ‘‡â‚™`. By an ğ‘†-*term* we mean a term in the language of `ğ‘†`.

The definition of `Term X` is recursive, indicating that an inductive type could be used to represent the semantic notion of terms in type theory. Indeed, such a representation is given by the following inductive type.
<pre class="Agda">

<a id="41481" class="Keyword">data</a> <a id="Term"></a><a id="41486" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="41491" class="Symbol">(</a><a id="41492" href="Demos.HSP-markdown.html#41492" class="Bound">X</a> <a id="41494" class="Symbol">:</a> <a id="41496" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="41501" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a> <a id="41503" class="Symbol">)</a> <a id="41505" class="Symbol">:</a> <a id="41507" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="41512" class="Symbol">(</a><a id="41513" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="41516" href="Demos.HSP-markdown.html#41501" class="Bound">Ï‡</a><a id="41517" class="Symbol">)</a>  <a id="41520" class="Keyword">where</a>
 <a id="Term.â„Š"></a><a id="41527" href="Demos.HSP-markdown.html#41527" class="InductiveConstructor">â„Š</a> <a id="41529" class="Symbol">:</a> <a id="41531" href="Demos.HSP-markdown.html#41492" class="Bound">X</a> <a id="41533" class="Symbol">â†’</a> <a id="41535" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="41540" href="Demos.HSP-markdown.html#41492" class="Bound">X</a>
 <a id="Term.node"></a><a id="41543" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="41548" class="Symbol">:</a> <a id="41550" class="Symbol">(</a><a id="41551" href="Demos.HSP-markdown.html#41551" class="Bound">f</a> <a id="41553" class="Symbol">:</a> <a id="41555" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="41557" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="41559" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a><a id="41560" class="Symbol">)(</a><a id="41562" href="Demos.HSP-markdown.html#41562" class="Bound">t</a> <a id="41564" class="Symbol">:</a> <a id="41566" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="41568" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="41570" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="41572" href="Demos.HSP-markdown.html#41551" class="Bound">f</a> <a id="41574" class="Symbol">â†’</a> <a id="41576" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="41581" href="Demos.HSP-markdown.html#41492" class="Bound">X</a><a id="41582" class="Symbol">)</a> <a id="41584" class="Symbol">â†’</a> <a id="41586" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="41591" href="Demos.HSP-markdown.html#41492" class="Bound">X</a>
<a id="41593" class="Keyword">open</a> <a id="41598" href="Demos.HSP-markdown.html#41486" class="Module">Term</a>

</pre>

This is a very basic inductive type that represents each term as a tree with an operation symbol at each `node` and a variable symbol at each leaf (`generator`); hence the constructor names (`â„Š` for "generator" and `node` for node).

**Notation**. As usual, the type `X` represents an arbitrary collection of variable symbols. Recall, `ov Ï‡` is our shorthand notation for the universe level `ğ“ âŠ” ğ“¥ âŠ” lsuc Ï‡`.


### <a id="equality-of-terms">Equality of terms</a>

We take a different approach here, using Setoids instead of quotient types.
That is, we will define the collection of terms in a signature as a setoid
with a particular equality-of-terms relation, which we must define.
Ultimately we will use this to define the (absolutely free) term algebra
as a Algebra whose carrier is the setoid of terms.

<pre class="Agda">

<a id="42438" class="Keyword">module</a> <a id="42445" href="Demos.HSP-markdown.html#42445" class="Module">_</a> <a id="42447" class="Symbol">{</a><a id="42448" href="Demos.HSP-markdown.html#42448" class="Bound">X</a> <a id="42450" class="Symbol">:</a> <a id="42452" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="42457" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a> <a id="42459" class="Symbol">}</a> <a id="42461" class="Keyword">where</a>

 <a id="42469" class="Keyword">data</a> <a id="42474" href="Demos.HSP-markdown.html#42474" class="Datatype Operator">_â‰_</a> <a id="42478" class="Symbol">:</a> <a id="42480" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="42485" href="Demos.HSP-markdown.html#42448" class="Bound">X</a> <a id="42487" class="Symbol">â†’</a> <a id="42489" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="42494" href="Demos.HSP-markdown.html#42448" class="Bound">X</a> <a id="42496" class="Symbol">â†’</a> <a id="42498" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="42503" class="Symbol">(</a><a id="42504" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="42507" href="Demos.HSP-markdown.html#42457" class="Bound">Ï‡</a><a id="42508" class="Symbol">)</a> <a id="42510" class="Keyword">where</a>
  <a id="42518" href="Demos.HSP-markdown.html#42518" class="InductiveConstructor">rfl</a> <a id="42522" class="Symbol">:</a> <a id="42524" class="Symbol">{</a><a id="42525" href="Demos.HSP-markdown.html#42525" class="Bound">x</a> <a id="42527" href="Demos.HSP-markdown.html#42527" class="Bound">y</a> <a id="42529" class="Symbol">:</a> <a id="42531" href="Demos.HSP-markdown.html#42448" class="Bound">X</a><a id="42532" class="Symbol">}</a> <a id="42534" class="Symbol">â†’</a> <a id="42536" href="Demos.HSP-markdown.html#42525" class="Bound">x</a> <a id="42538" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="42540" href="Demos.HSP-markdown.html#42527" class="Bound">y</a> <a id="42542" class="Symbol">â†’</a> <a id="42544" class="Symbol">(</a><a id="42545" href="Demos.HSP-markdown.html#41527" class="InductiveConstructor">â„Š</a> <a id="42547" href="Demos.HSP-markdown.html#42525" class="Bound">x</a><a id="42548" class="Symbol">)</a> <a id="42550" href="Demos.HSP-markdown.html#42474" class="Datatype Operator">â‰</a> <a id="42552" class="Symbol">(</a><a id="42553" href="Demos.HSP-markdown.html#41527" class="InductiveConstructor">â„Š</a> <a id="42555" href="Demos.HSP-markdown.html#42527" class="Bound">y</a><a id="42556" class="Symbol">)</a>
  <a id="42560" href="Demos.HSP-markdown.html#42560" class="InductiveConstructor">gnl</a> <a id="42564" class="Symbol">:</a> <a id="42566" class="Symbol">âˆ€</a> <a id="42568" class="Symbol">{</a><a id="42569" href="Demos.HSP-markdown.html#42569" class="Bound">f</a><a id="42570" class="Symbol">}{</a><a id="42572" href="Demos.HSP-markdown.html#42572" class="Bound">s</a> <a id="42574" href="Demos.HSP-markdown.html#42574" class="Bound">t</a> <a id="42576" class="Symbol">:</a> <a id="42578" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="42580" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="42582" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="42584" href="Demos.HSP-markdown.html#42569" class="Bound">f</a> <a id="42586" class="Symbol">â†’</a> <a id="42588" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="42593" href="Demos.HSP-markdown.html#42448" class="Bound">X</a><a id="42594" class="Symbol">}</a> <a id="42596" class="Symbol">â†’</a> <a id="42598" class="Symbol">(âˆ€</a> <a id="42601" href="Demos.HSP-markdown.html#42601" class="Bound">i</a> <a id="42603" class="Symbol">â†’</a> <a id="42605" class="Symbol">(</a><a id="42606" href="Demos.HSP-markdown.html#42572" class="Bound">s</a> <a id="42608" href="Demos.HSP-markdown.html#42601" class="Bound">i</a><a id="42609" class="Symbol">)</a> <a id="42611" href="Demos.HSP-markdown.html#42474" class="Datatype Operator">â‰</a> <a id="42613" class="Symbol">(</a><a id="42614" href="Demos.HSP-markdown.html#42574" class="Bound">t</a> <a id="42616" href="Demos.HSP-markdown.html#42601" class="Bound">i</a><a id="42617" class="Symbol">))</a> <a id="42620" class="Symbol">â†’</a> <a id="42622" class="Symbol">(</a><a id="42623" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="42628" href="Demos.HSP-markdown.html#42569" class="Bound">f</a> <a id="42630" href="Demos.HSP-markdown.html#42572" class="Bound">s</a><a id="42631" class="Symbol">)</a> <a id="42633" href="Demos.HSP-markdown.html#42474" class="Datatype Operator">â‰</a> <a id="42635" class="Symbol">(</a><a id="42636" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="42641" href="Demos.HSP-markdown.html#42569" class="Bound">f</a> <a id="42643" href="Demos.HSP-markdown.html#42574" class="Bound">t</a><a id="42644" class="Symbol">)</a>

</pre>

It is easy to show that the equality-of-terms relation `_â‰_` is an equivalence relation, so we omit the formal proof. (See the [Setoid.Terms.Basic][] module of the [agda-algebras][] library for details.)

<pre class="Agda">
 <a id="42884" href="Demos.HSP-markdown.html#42884" class="Function">â‰-isRefl</a> <a id="42893" class="Symbol">:</a> <a id="42895" href="Relation.Binary.Definitions.html#1339" class="Function">Reflexive</a> <a id="42905" href="Demos.HSP-markdown.html#42474" class="Datatype Operator">_â‰_</a>
 <a id="42910" href="Demos.HSP-markdown.html#42884" class="Function">â‰-isRefl</a> <a id="42919" class="Symbol">{</a><a id="42920" href="Demos.HSP-markdown.html#41527" class="InductiveConstructor">â„Š</a> <a id="42922" class="Symbol">_}</a> <a id="42925" class="Symbol">=</a> <a id="42927" href="Demos.HSP-markdown.html#42518" class="InductiveConstructor">rfl</a> <a id="42931" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a>
 <a id="42939" href="Demos.HSP-markdown.html#42884" class="Function">â‰-isRefl</a> <a id="42948" class="Symbol">{</a><a id="42949" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="42954" class="Symbol">_</a> <a id="42956" class="Symbol">_}</a> <a id="42959" class="Symbol">=</a> <a id="42961" href="Demos.HSP-markdown.html#42560" class="InductiveConstructor">gnl</a> <a id="42965" class="Symbol">(Î»</a> <a id="42968" href="Demos.HSP-markdown.html#42968" class="Bound">_</a> <a id="42970" class="Symbol">â†’</a> <a id="42972" href="Demos.HSP-markdown.html#42884" class="Function">â‰-isRefl</a><a id="42980" class="Symbol">)</a>

 <a id="42984" href="Demos.HSP-markdown.html#42984" class="Function">â‰-isSym</a> <a id="42992" class="Symbol">:</a> <a id="42994" href="Relation.Binary.Definitions.html#1498" class="Function">Symmetric</a> <a id="43004" href="Demos.HSP-markdown.html#42474" class="Datatype Operator">_â‰_</a>
 <a id="43009" href="Demos.HSP-markdown.html#42984" class="Function">â‰-isSym</a> <a id="43017" class="Symbol">(</a><a id="43018" href="Demos.HSP-markdown.html#42518" class="InductiveConstructor">rfl</a> <a id="43022" href="Demos.HSP-markdown.html#43022" class="Bound">x</a><a id="43023" class="Symbol">)</a> <a id="43025" class="Symbol">=</a> <a id="43027" href="Demos.HSP-markdown.html#42518" class="InductiveConstructor">rfl</a> <a id="43031" class="Symbol">(</a><a id="43032" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">â‰¡.sym</a> <a id="43038" href="Demos.HSP-markdown.html#43022" class="Bound">x</a><a id="43039" class="Symbol">)</a>
 <a id="43042" href="Demos.HSP-markdown.html#42984" class="Function">â‰-isSym</a> <a id="43050" class="Symbol">(</a><a id="43051" href="Demos.HSP-markdown.html#42560" class="InductiveConstructor">gnl</a> <a id="43055" href="Demos.HSP-markdown.html#43055" class="Bound">x</a><a id="43056" class="Symbol">)</a> <a id="43058" class="Symbol">=</a> <a id="43060" href="Demos.HSP-markdown.html#42560" class="InductiveConstructor">gnl</a> <a id="43064" class="Symbol">(Î»</a> <a id="43067" href="Demos.HSP-markdown.html#43067" class="Bound">i</a> <a id="43069" class="Symbol">â†’</a> <a id="43071" href="Demos.HSP-markdown.html#42984" class="Function">â‰-isSym</a> <a id="43079" class="Symbol">(</a><a id="43080" href="Demos.HSP-markdown.html#43055" class="Bound">x</a> <a id="43082" href="Demos.HSP-markdown.html#43067" class="Bound">i</a><a id="43083" class="Symbol">))</a>

 <a id="43088" href="Demos.HSP-markdown.html#43088" class="Function">â‰-isTrans</a> <a id="43098" class="Symbol">:</a> <a id="43100" href="Relation.Binary.Definitions.html#1978" class="Function">Transitive</a> <a id="43111" href="Demos.HSP-markdown.html#42474" class="Datatype Operator">_â‰_</a>
 <a id="43116" href="Demos.HSP-markdown.html#43088" class="Function">â‰-isTrans</a> <a id="43126" class="Symbol">(</a><a id="43127" href="Demos.HSP-markdown.html#42518" class="InductiveConstructor">rfl</a> <a id="43131" href="Demos.HSP-markdown.html#43131" class="Bound">x</a><a id="43132" class="Symbol">)</a> <a id="43134" class="Symbol">(</a><a id="43135" href="Demos.HSP-markdown.html#42518" class="InductiveConstructor">rfl</a> <a id="43139" href="Demos.HSP-markdown.html#43139" class="Bound">y</a><a id="43140" class="Symbol">)</a> <a id="43142" class="Symbol">=</a> <a id="43144" href="Demos.HSP-markdown.html#42518" class="InductiveConstructor">rfl</a> <a id="43148" class="Symbol">(</a><a id="43149" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">â‰¡.trans</a> <a id="43157" href="Demos.HSP-markdown.html#43131" class="Bound">x</a> <a id="43159" href="Demos.HSP-markdown.html#43139" class="Bound">y</a><a id="43160" class="Symbol">)</a>
 <a id="43163" href="Demos.HSP-markdown.html#43088" class="Function">â‰-isTrans</a> <a id="43173" class="Symbol">(</a><a id="43174" href="Demos.HSP-markdown.html#42560" class="InductiveConstructor">gnl</a> <a id="43178" href="Demos.HSP-markdown.html#43178" class="Bound">x</a><a id="43179" class="Symbol">)</a> <a id="43181" class="Symbol">(</a><a id="43182" href="Demos.HSP-markdown.html#42560" class="InductiveConstructor">gnl</a> <a id="43186" href="Demos.HSP-markdown.html#43186" class="Bound">y</a><a id="43187" class="Symbol">)</a> <a id="43189" class="Symbol">=</a> <a id="43191" href="Demos.HSP-markdown.html#42560" class="InductiveConstructor">gnl</a> <a id="43195" class="Symbol">(Î»</a> <a id="43198" href="Demos.HSP-markdown.html#43198" class="Bound">i</a> <a id="43200" class="Symbol">â†’</a> <a id="43202" href="Demos.HSP-markdown.html#43088" class="Function">â‰-isTrans</a> <a id="43212" class="Symbol">(</a><a id="43213" href="Demos.HSP-markdown.html#43178" class="Bound">x</a> <a id="43215" href="Demos.HSP-markdown.html#43198" class="Bound">i</a><a id="43216" class="Symbol">)</a> <a id="43218" class="Symbol">(</a><a id="43219" href="Demos.HSP-markdown.html#43186" class="Bound">y</a> <a id="43221" href="Demos.HSP-markdown.html#43198" class="Bound">i</a><a id="43222" class="Symbol">))</a>

 <a id="43227" href="Demos.HSP-markdown.html#43227" class="Function">â‰-isEquiv</a> <a id="43237" class="Symbol">:</a> <a id="43239" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="43253" href="Demos.HSP-markdown.html#42474" class="Datatype Operator">_â‰_</a>
 <a id="43258" href="Demos.HSP-markdown.html#43227" class="Function">â‰-isEquiv</a> <a id="43268" class="Symbol">=</a> <a id="43270" class="Keyword">record</a> <a id="43277" class="Symbol">{</a> <a id="43279" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="43284" class="Symbol">=</a> <a id="43286" href="Demos.HSP-markdown.html#42884" class="Function">â‰-isRefl</a> <a id="43295" class="Symbol">;</a> <a id="43297" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="43301" class="Symbol">=</a> <a id="43303" href="Demos.HSP-markdown.html#42984" class="Function">â‰-isSym</a> <a id="43311" class="Symbol">;</a> <a id="43313" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="43319" class="Symbol">=</a> <a id="43321" href="Demos.HSP-markdown.html#43088" class="Function">â‰-isTrans</a> <a id="43331" class="Symbol">}</a>
</pre>


### <a id="the-term-algebra">The term algebra</a>

For a given signature `ğ‘†`, if the type `Term X` is nonempty (equivalently, if `X` or `âˆ£ ğ‘† âˆ£` is nonempty), then we can define an algebraic structure, denoted by `ğ‘» X` and called the *term algebra in the signature* `ğ‘†` *over* `X`.  Terms are viewed as acting on other terms, so both the domain and basic operations of the algebra are the terms themselves.


+ For each operation symbol `f : âˆ£ ğ‘† âˆ£`, denote by `f Ì‚ (ğ‘» X)` the operation on `Term X` that maps a tuple `t : âˆ¥ ğ‘† âˆ¥ f â†’ âˆ£ ğ‘» X âˆ£` to the formal term `f t`.
+ Define `ğ‘» X` to be the algebra with universe `âˆ£ ğ‘» X âˆ£ := Term X` and operations `f Ì‚ (ğ‘» X)`, one for each symbol `f` in `âˆ£ ğ‘† âˆ£`.

In [Agda][] the term algebra can be defined as simply as one might hope.

<pre class="Agda">

<a id="TermSetoid"></a><a id="44131" href="Demos.HSP-markdown.html#44131" class="Function">TermSetoid</a> <a id="44142" class="Symbol">:</a> <a id="44144" class="Symbol">(</a><a id="44145" href="Demos.HSP-markdown.html#44145" class="Bound">X</a> <a id="44147" class="Symbol">:</a> <a id="44149" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="44154" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="44155" class="Symbol">)</a> <a id="44157" class="Symbol">â†’</a> <a id="44159" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="44166" class="Symbol">(</a><a id="44167" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="44170" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="44171" class="Symbol">)</a> <a id="44173" class="Symbol">(</a><a id="44174" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="44177" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="44178" class="Symbol">)</a>
<a id="44180" href="Demos.HSP-markdown.html#44131" class="Function">TermSetoid</a> <a id="44191" href="Demos.HSP-markdown.html#44191" class="Bound">X</a> <a id="44193" class="Symbol">=</a> <a id="44195" class="Keyword">record</a> <a id="44202" class="Symbol">{</a> <a id="44204" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="44212" class="Symbol">=</a> <a id="44214" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="44219" href="Demos.HSP-markdown.html#44191" class="Bound">X</a> <a id="44221" class="Symbol">;</a> <a id="44223" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="44227" class="Symbol">=</a> <a id="44229" href="Demos.HSP-markdown.html#42474" class="Datatype Operator">_â‰_</a> <a id="44233" class="Symbol">;</a> <a id="44235" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="44249" class="Symbol">=</a> <a id="44251" href="Demos.HSP-markdown.html#43227" class="Function">â‰-isEquiv</a> <a id="44261" class="Symbol">}</a>

<a id="ğ‘»"></a><a id="44264" href="Demos.HSP-markdown.html#44264" class="Function">ğ‘»</a> <a id="44266" class="Symbol">:</a> <a id="44268" class="Symbol">(</a><a id="44269" href="Demos.HSP-markdown.html#44269" class="Bound">X</a> <a id="44271" class="Symbol">:</a> <a id="44273" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="44278" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="44279" class="Symbol">)</a> <a id="44281" class="Symbol">â†’</a> <a id="44283" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="44291" class="Symbol">(</a><a id="44292" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="44295" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="44296" class="Symbol">)</a> <a id="44298" class="Symbol">(</a><a id="44299" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="44302" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="44303" class="Symbol">)</a>
<a id="44305" href="Demos.HSP-markdown.html#22553" class="Field">Algebra.Domain</a> <a id="44320" class="Symbol">(</a><a id="44321" href="Demos.HSP-markdown.html#44264" class="Function">ğ‘»</a> <a id="44323" href="Demos.HSP-markdown.html#44323" class="Bound">X</a><a id="44324" class="Symbol">)</a> <a id="44326" class="Symbol">=</a> <a id="44328" href="Demos.HSP-markdown.html#44131" class="Function">TermSetoid</a> <a id="44339" href="Demos.HSP-markdown.html#44323" class="Bound">X</a>
<a id="44341" href="Demos.HSP-markdown.html#22581" class="Field">Algebra.Interp</a> <a id="44356" class="Symbol">(</a><a id="44357" href="Demos.HSP-markdown.html#44264" class="Function">ğ‘»</a> <a id="44359" href="Demos.HSP-markdown.html#44359" class="Bound">X</a><a id="44360" class="Symbol">)</a> <a id="44362" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="44366" class="Symbol">(</a><a id="44367" href="Demos.HSP-markdown.html#44367" class="Bound">f</a> <a id="44369" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="44371" href="Demos.HSP-markdown.html#44371" class="Bound">ts</a><a id="44373" class="Symbol">)</a> <a id="44375" class="Symbol">=</a> <a id="44377" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="44382" href="Demos.HSP-markdown.html#44367" class="Bound">f</a> <a id="44384" href="Demos.HSP-markdown.html#44371" class="Bound">ts</a>
<a id="44387" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="44392" class="Symbol">(</a><a id="44393" href="Demos.HSP-markdown.html#22581" class="Field">Algebra.Interp</a> <a id="44408" class="Symbol">(</a><a id="44409" href="Demos.HSP-markdown.html#44264" class="Function">ğ‘»</a> <a id="44411" href="Demos.HSP-markdown.html#44411" class="Bound">X</a><a id="44412" class="Symbol">))</a> <a id="44415" class="Symbol">(</a><a id="44416" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="44423" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="44425" href="Demos.HSP-markdown.html#44425" class="Bound">ssâ‰ts</a><a id="44430" class="Symbol">)</a> <a id="44432" class="Symbol">=</a> <a id="44434" href="Demos.HSP-markdown.html#42560" class="InductiveConstructor">gnl</a> <a id="44438" href="Demos.HSP-markdown.html#44425" class="Bound">ssâ‰ts</a>
</pre>

### <a id="interpretation-of-terms">Interpretation of terms</a>

The approach to terms and their interpretation in this module was inspired by
[Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).

A substitution from `X` to `Y` associates a term in `X` with each variable in `Y`.  The definition of `Sub` given here is essentially the same as the one given by Andreas Abel, as is the recursive definition of the syntax `t [ Ïƒ ]`, which denotes a term `t` applied to a substitution `Ïƒ`.

<pre class="Agda">

<a id="Sub"></a><a id="45033" href="Demos.HSP-markdown.html#45033" class="Function">Sub</a> <a id="45037" class="Symbol">:</a> <a id="45039" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="45044" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a> <a id="45046" class="Symbol">â†’</a> <a id="45048" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="45053" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a> <a id="45055" class="Symbol">â†’</a> <a id="45057" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="45062" class="Symbol">(</a><a id="45063" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="45066" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="45067" class="Symbol">)</a>
<a id="45069" href="Demos.HSP-markdown.html#45033" class="Function">Sub</a> <a id="45073" href="Demos.HSP-markdown.html#45073" class="Bound">X</a> <a id="45075" href="Demos.HSP-markdown.html#45075" class="Bound">Y</a> <a id="45077" class="Symbol">=</a> <a id="45079" class="Symbol">(</a><a id="45080" href="Demos.HSP-markdown.html#45080" class="Bound">y</a> <a id="45082" class="Symbol">:</a> <a id="45084" href="Demos.HSP-markdown.html#45075" class="Bound">Y</a><a id="45085" class="Symbol">)</a> <a id="45087" class="Symbol">â†’</a> <a id="45089" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="45094" href="Demos.HSP-markdown.html#45073" class="Bound">X</a>

<a id="_[_]"></a><a id="45097" href="Demos.HSP-markdown.html#45097" class="Function Operator">_[_]</a> <a id="45102" class="Symbol">:</a> <a id="45104" class="Symbol">{</a><a id="45105" href="Demos.HSP-markdown.html#45105" class="Bound">X</a> <a id="45107" href="Demos.HSP-markdown.html#45107" class="Bound">Y</a> <a id="45109" class="Symbol">:</a> <a id="45111" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="45116" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="45117" class="Symbol">}(</a><a id="45119" href="Demos.HSP-markdown.html#45119" class="Bound">t</a> <a id="45121" class="Symbol">:</a> <a id="45123" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="45128" href="Demos.HSP-markdown.html#45107" class="Bound">Y</a><a id="45129" class="Symbol">)</a> <a id="45131" class="Symbol">(</a><a id="45132" href="Demos.HSP-markdown.html#45132" class="Bound">Ïƒ</a> <a id="45134" class="Symbol">:</a> <a id="45136" href="Demos.HSP-markdown.html#45033" class="Function">Sub</a> <a id="45140" href="Demos.HSP-markdown.html#45105" class="Bound">X</a> <a id="45142" href="Demos.HSP-markdown.html#45107" class="Bound">Y</a><a id="45143" class="Symbol">)</a> <a id="45145" class="Symbol">â†’</a> <a id="45147" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="45152" href="Demos.HSP-markdown.html#45105" class="Bound">X</a>
<a id="45154" class="Symbol">(</a><a id="45155" href="Demos.HSP-markdown.html#41527" class="InductiveConstructor">â„Š</a> <a id="45157" href="Demos.HSP-markdown.html#45157" class="Bound">x</a><a id="45158" class="Symbol">)</a> <a id="45160" href="Demos.HSP-markdown.html#45097" class="Function Operator">[</a> <a id="45162" href="Demos.HSP-markdown.html#45162" class="Bound">Ïƒ</a> <a id="45164" href="Demos.HSP-markdown.html#45097" class="Function Operator">]</a> <a id="45166" class="Symbol">=</a> <a id="45168" href="Demos.HSP-markdown.html#45162" class="Bound">Ïƒ</a> <a id="45170" href="Demos.HSP-markdown.html#45157" class="Bound">x</a>
<a id="45172" class="Symbol">(</a><a id="45173" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="45178" href="Demos.HSP-markdown.html#45178" class="Bound">f</a> <a id="45180" href="Demos.HSP-markdown.html#45180" class="Bound">ts</a><a id="45182" class="Symbol">)</a> <a id="45184" href="Demos.HSP-markdown.html#45097" class="Function Operator">[</a> <a id="45186" href="Demos.HSP-markdown.html#45186" class="Bound">Ïƒ</a> <a id="45188" href="Demos.HSP-markdown.html#45097" class="Function Operator">]</a> <a id="45190" class="Symbol">=</a> <a id="45192" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="45197" href="Demos.HSP-markdown.html#45178" class="Bound">f</a> <a id="45199" class="Symbol">(Î»</a> <a id="45202" href="Demos.HSP-markdown.html#45202" class="Bound">i</a> <a id="45204" class="Symbol">â†’</a> <a id="45206" href="Demos.HSP-markdown.html#45180" class="Bound">ts</a> <a id="45209" href="Demos.HSP-markdown.html#45202" class="Bound">i</a> <a id="45211" href="Demos.HSP-markdown.html#45097" class="Function Operator">[</a> <a id="45213" href="Demos.HSP-markdown.html#45186" class="Bound">Ïƒ</a> <a id="45215" href="Demos.HSP-markdown.html#45097" class="Function Operator">]</a><a id="45216" class="Symbol">)</a>

</pre>

An environment for an algebra `ğ‘¨` in a context `X` is a map that assigns to each variable `x : X` an element in the domain of `ğ‘¨`, packaged together with an equality of environments, which is simply pointwise equality (relatively to the setoid equality of the underlying domain of `ğ‘¨`).

<pre class="Agda">

<a id="45533" class="Keyword">module</a> <a id="Environment"></a><a id="45540" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="45552" class="Symbol">(</a><a id="45553" href="Demos.HSP-markdown.html#45553" class="Bound">ğ‘¨</a> <a id="45555" class="Symbol">:</a> <a id="45557" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="45565" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="45567" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="45568" class="Symbol">)</a> <a id="45570" class="Keyword">where</a>
 <a id="45577" class="Keyword">open</a> <a id="45582" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="45589" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="45592" href="Demos.HSP-markdown.html#45553" class="Bound">ğ‘¨</a> <a id="45594" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="45596" class="Keyword">using</a> <a id="45602" class="Symbol">(</a> <a id="45604" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="45608" class="Symbol">;</a> <a id="45610" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="45615" class="Symbol">;</a> <a id="45617" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="45621" class="Symbol">;</a> <a id="45623" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="45629" class="Symbol">)</a>
 <a id="Environment.Env"></a><a id="45632" href="Demos.HSP-markdown.html#45632" class="Function">Env</a> <a id="45636" class="Symbol">:</a> <a id="45638" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="45643" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a> <a id="45645" class="Symbol">â†’</a> <a id="45647" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="45654" class="Symbol">_</a> <a id="45656" class="Symbol">_</a>
 <a id="45659" href="Demos.HSP-markdown.html#45632" class="Function">Env</a> <a id="45663" href="Demos.HSP-markdown.html#45663" class="Bound">X</a> <a id="45665" class="Symbol">=</a> <a id="45667" class="Keyword">record</a>  <a id="45675" class="Symbol">{</a> <a id="45677" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="45685" class="Symbol">=</a> <a id="45687" href="Demos.HSP-markdown.html#45663" class="Bound">X</a> <a id="45689" class="Symbol">â†’</a> <a id="45691" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="45694" href="Demos.HSP-markdown.html#45553" class="Bound">ğ‘¨</a> <a id="45696" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a>
                 <a id="45715" class="Symbol">;</a> <a id="45717" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="45721" class="Symbol">=</a> <a id="45723" class="Symbol">Î»</a> <a id="45725" href="Demos.HSP-markdown.html#45725" class="Bound">Ï</a> <a id="45727" href="Demos.HSP-markdown.html#45727" class="Bound">Ï&#39;</a> <a id="45730" class="Symbol">â†’</a> <a id="45732" class="Symbol">(</a><a id="45733" href="Demos.HSP-markdown.html#45733" class="Bound">x</a> <a id="45735" class="Symbol">:</a> <a id="45737" href="Demos.HSP-markdown.html#45663" class="Bound">X</a><a id="45738" class="Symbol">)</a> <a id="45740" class="Symbol">â†’</a> <a id="45742" href="Demos.HSP-markdown.html#45725" class="Bound">Ï</a> <a id="45744" href="Demos.HSP-markdown.html#45733" class="Bound">x</a> <a id="45746" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="45748" href="Demos.HSP-markdown.html#45727" class="Bound">Ï&#39;</a> <a id="45751" href="Demos.HSP-markdown.html#45733" class="Bound">x</a>
                 <a id="45770" class="Symbol">;</a> <a id="45772" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="45786" class="Symbol">=</a> <a id="45788" class="Keyword">record</a>  <a id="45796" class="Symbol">{</a> <a id="45798" href="Relation.Binary.Structures.html#1568" class="Field">refl</a>   <a id="45805" class="Symbol">=</a> <a id="45807" class="Symbol">Î»</a> <a id="45809" href="Demos.HSP-markdown.html#45809" class="Bound">_</a> <a id="45811" class="Symbol">â†’</a> <a id="45813" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
                                           <a id="45861" class="Symbol">;</a> <a id="45863" href="Relation.Binary.Structures.html#1594" class="Field">sym</a>    <a id="45870" class="Symbol">=</a> <a id="45872" class="Symbol">Î»</a> <a id="45874" href="Demos.HSP-markdown.html#45874" class="Bound">h</a> <a id="45876" href="Demos.HSP-markdown.html#45876" class="Bound">x</a> <a id="45878" class="Symbol">â†’</a> <a id="45880" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="45884" class="Symbol">(</a><a id="45885" href="Demos.HSP-markdown.html#45874" class="Bound">h</a> <a id="45887" href="Demos.HSP-markdown.html#45876" class="Bound">x</a><a id="45888" class="Symbol">)</a>
                                           <a id="45933" class="Symbol">;</a> <a id="45935" href="Relation.Binary.Structures.html#1620" class="Field">trans</a>  <a id="45942" class="Symbol">=</a> <a id="45944" class="Symbol">Î»</a> <a id="45946" href="Demos.HSP-markdown.html#45946" class="Bound">g</a> <a id="45948" href="Demos.HSP-markdown.html#45948" class="Bound">h</a> <a id="45950" href="Demos.HSP-markdown.html#45950" class="Bound">x</a> <a id="45952" class="Symbol">â†’</a> <a id="45954" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="45960" class="Symbol">(</a><a id="45961" href="Demos.HSP-markdown.html#45946" class="Bound">g</a> <a id="45963" href="Demos.HSP-markdown.html#45950" class="Bound">x</a><a id="45964" class="Symbol">)(</a><a id="45966" href="Demos.HSP-markdown.html#45948" class="Bound">h</a> <a id="45968" href="Demos.HSP-markdown.html#45950" class="Bound">x</a><a id="45969" class="Symbol">)</a> <a id="45971" class="Symbol">}}</a>

</pre>

Next we define *evaluation of a term* in an environment `Ï`, interpreted in the algebra `ğ‘¨`.

<pre class="Agda">

 <a id="Environment.âŸ¦_âŸ§"></a><a id="46096" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="46100" class="Symbol">:</a> <a id="46102" class="Symbol">{</a><a id="46103" href="Demos.HSP-markdown.html#46103" class="Bound">X</a> <a id="46105" class="Symbol">:</a> <a id="46107" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="46112" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="46113" class="Symbol">}(</a><a id="46115" href="Demos.HSP-markdown.html#46115" class="Bound">t</a> <a id="46117" class="Symbol">:</a> <a id="46119" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="46124" href="Demos.HSP-markdown.html#46103" class="Bound">X</a><a id="46125" class="Symbol">)</a> <a id="46127" class="Symbol">â†’</a> <a id="46129" class="Symbol">(</a><a id="46130" href="Demos.HSP-markdown.html#45632" class="Function">Env</a> <a id="46134" href="Demos.HSP-markdown.html#46103" class="Bound">X</a><a id="46135" class="Symbol">)</a> <a id="46137" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="46139" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="46142" href="Demos.HSP-markdown.html#45553" class="Bound">ğ‘¨</a> <a id="46144" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>
 <a id="46147" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="46149" href="Demos.HSP-markdown.html#41527" class="InductiveConstructor">â„Š</a> <a id="46151" href="Demos.HSP-markdown.html#46151" class="Bound">x</a> <a id="46153" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="46155" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="46159" href="Demos.HSP-markdown.html#46159" class="Bound">Ï</a> <a id="46161" class="Symbol">=</a> <a id="46163" href="Demos.HSP-markdown.html#46159" class="Bound">Ï</a> <a id="46165" href="Demos.HSP-markdown.html#46151" class="Bound">x</a>
 <a id="46168" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="46170" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="46175" href="Demos.HSP-markdown.html#46175" class="Bound">f</a> <a id="46177" href="Demos.HSP-markdown.html#46177" class="Bound">args</a> <a id="46182" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="46184" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="46188" href="Demos.HSP-markdown.html#46188" class="Bound">Ï</a> <a id="46190" class="Symbol">=</a> <a id="46192" class="Symbol">(</a><a id="46193" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="46200" href="Demos.HSP-markdown.html#45553" class="Bound">ğ‘¨</a><a id="46201" class="Symbol">)</a> <a id="46203" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="46207" class="Symbol">(</a><a id="46208" href="Demos.HSP-markdown.html#46175" class="Bound">f</a> <a id="46210" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="46212" class="Symbol">Î»</a> <a id="46214" href="Demos.HSP-markdown.html#46214" class="Bound">i</a> <a id="46216" class="Symbol">â†’</a> <a id="46218" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="46220" href="Demos.HSP-markdown.html#46177" class="Bound">args</a> <a id="46225" href="Demos.HSP-markdown.html#46214" class="Bound">i</a> <a id="46227" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="46229" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="46233" href="Demos.HSP-markdown.html#46188" class="Bound">Ï</a><a id="46234" class="Symbol">)</a>
 <a id="46237" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="46242" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="46244" href="Demos.HSP-markdown.html#41527" class="InductiveConstructor">â„Š</a> <a id="46246" href="Demos.HSP-markdown.html#46246" class="Bound">x</a> <a id="46248" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="46250" href="Demos.HSP-markdown.html#46250" class="Bound">uâ‰ˆv</a> <a id="46254" class="Symbol">=</a> <a id="46256" href="Demos.HSP-markdown.html#46250" class="Bound">uâ‰ˆv</a> <a id="46260" href="Demos.HSP-markdown.html#46246" class="Bound">x</a>
 <a id="46263" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="46268" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="46270" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="46275" href="Demos.HSP-markdown.html#46275" class="Bound">f</a> <a id="46277" href="Demos.HSP-markdown.html#46277" class="Bound">args</a> <a id="46282" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="46284" href="Demos.HSP-markdown.html#46284" class="Bound">xâ‰ˆy</a> <a id="46288" class="Symbol">=</a> <a id="46290" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="46295" class="Symbol">(</a><a id="46296" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="46303" href="Demos.HSP-markdown.html#45553" class="Bound">ğ‘¨</a><a id="46304" class="Symbol">)(</a><a id="46306" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="46313" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="46315" class="Symbol">Î»</a> <a id="46317" href="Demos.HSP-markdown.html#46317" class="Bound">i</a> <a id="46319" class="Symbol">â†’</a> <a id="46321" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="46326" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="46328" href="Demos.HSP-markdown.html#46277" class="Bound">args</a> <a id="46333" href="Demos.HSP-markdown.html#46317" class="Bound">i</a> <a id="46335" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="46337" href="Demos.HSP-markdown.html#46284" class="Bound">xâ‰ˆy</a> <a id="46341" class="Symbol">)</a>

</pre>

An equality between two terms holds in a model if the two terms are equal under all valuations of their free variables (cf. [Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf)).

<pre class="Agda">

 <a id="Environment.Equal"></a><a id="46626" href="Demos.HSP-markdown.html#46626" class="Function">Equal</a> <a id="46632" class="Symbol">:</a> <a id="46634" class="Symbol">âˆ€</a> <a id="46636" class="Symbol">{</a><a id="46637" href="Demos.HSP-markdown.html#46637" class="Bound">X</a> <a id="46639" class="Symbol">:</a> <a id="46641" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="46646" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="46647" class="Symbol">}</a> <a id="46649" class="Symbol">(</a><a id="46650" href="Demos.HSP-markdown.html#46650" class="Bound">s</a> <a id="46652" href="Demos.HSP-markdown.html#46652" class="Bound">t</a> <a id="46654" class="Symbol">:</a> <a id="46656" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="46661" href="Demos.HSP-markdown.html#46637" class="Bound">X</a><a id="46662" class="Symbol">)</a> <a id="46664" class="Symbol">â†’</a> <a id="46666" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="46671" class="Symbol">_</a>
 <a id="46674" href="Demos.HSP-markdown.html#46626" class="Function">Equal</a> <a id="46680" class="Symbol">{</a><a id="46681" class="Argument">X</a> <a id="46683" class="Symbol">=</a> <a id="46685" href="Demos.HSP-markdown.html#46685" class="Bound">X</a><a id="46686" class="Symbol">}</a> <a id="46688" href="Demos.HSP-markdown.html#46688" class="Bound">s</a> <a id="46690" href="Demos.HSP-markdown.html#46690" class="Bound">t</a> <a id="46692" class="Symbol">=</a> <a id="46694" class="Symbol">âˆ€</a> <a id="46696" class="Symbol">(</a><a id="46697" href="Demos.HSP-markdown.html#46697" class="Bound">Ï</a> <a id="46699" class="Symbol">:</a> <a id="46701" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="46709" class="Symbol">(</a><a id="46710" href="Demos.HSP-markdown.html#45632" class="Function">Env</a> <a id="46714" href="Demos.HSP-markdown.html#46685" class="Bound">X</a><a id="46715" class="Symbol">))</a> <a id="46718" class="Symbol">â†’</a>  <a id="46721" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="46723" href="Demos.HSP-markdown.html#46688" class="Bound">s</a> <a id="46725" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="46727" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="46731" href="Demos.HSP-markdown.html#46697" class="Bound">Ï</a> <a id="46733" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="46735" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="46737" href="Demos.HSP-markdown.html#46690" class="Bound">t</a> <a id="46739" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="46741" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="46745" href="Demos.HSP-markdown.html#46697" class="Bound">Ï</a>

 <a id="Environment.â‰â†’Equal"></a><a id="46749" href="Demos.HSP-markdown.html#46749" class="Function">â‰â†’Equal</a> <a id="46757" class="Symbol">:</a> <a id="46759" class="Symbol">{</a><a id="46760" href="Demos.HSP-markdown.html#46760" class="Bound">X</a> <a id="46762" class="Symbol">:</a> <a id="46764" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="46769" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="46770" class="Symbol">}(</a><a id="46772" href="Demos.HSP-markdown.html#46772" class="Bound">s</a> <a id="46774" href="Demos.HSP-markdown.html#46774" class="Bound">t</a> <a id="46776" class="Symbol">:</a> <a id="46778" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="46783" href="Demos.HSP-markdown.html#46760" class="Bound">X</a><a id="46784" class="Symbol">)</a> <a id="46786" class="Symbol">â†’</a> <a id="46788" href="Demos.HSP-markdown.html#46772" class="Bound">s</a> <a id="46790" href="Demos.HSP-markdown.html#42474" class="Datatype Operator">â‰</a> <a id="46792" href="Demos.HSP-markdown.html#46774" class="Bound">t</a> <a id="46794" class="Symbol">â†’</a> <a id="46796" href="Demos.HSP-markdown.html#46626" class="Function">Equal</a> <a id="46802" href="Demos.HSP-markdown.html#46772" class="Bound">s</a> <a id="46804" href="Demos.HSP-markdown.html#46774" class="Bound">t</a>
 <a id="46807" href="Demos.HSP-markdown.html#46749" class="Function">â‰â†’Equal</a> <a id="46815" class="DottedPattern Symbol">.(</a><a id="46817" href="Demos.HSP-markdown.html#41527" class="DottedPattern InductiveConstructor">â„Š</a> <a id="46819" class="DottedPattern Symbol">_)</a> <a id="46822" class="DottedPattern Symbol">.(</a><a id="46824" href="Demos.HSP-markdown.html#41527" class="DottedPattern InductiveConstructor">â„Š</a> <a id="46826" class="DottedPattern Symbol">_)</a> <a id="46829" class="Symbol">(</a><a id="46830" href="Demos.HSP-markdown.html#42518" class="InductiveConstructor">rfl</a> <a id="46834" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a><a id="46840" class="Symbol">)</a> <a id="46842" class="Symbol">=</a> <a id="46844" class="Symbol">Î»</a> <a id="46846" href="Demos.HSP-markdown.html#46846" class="Bound">_</a> <a id="46848" class="Symbol">â†’</a> <a id="46850" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="46856" href="Demos.HSP-markdown.html#46749" class="Function">â‰â†’Equal</a> <a id="46864" class="Symbol">(</a><a id="46865" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="46870" class="Symbol">_</a> <a id="46872" href="Demos.HSP-markdown.html#46872" class="Bound">s</a><a id="46873" class="Symbol">)(</a><a id="46875" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="46880" class="Symbol">_</a> <a id="46882" href="Demos.HSP-markdown.html#46882" class="Bound">t</a><a id="46883" class="Symbol">)(</a><a id="46885" href="Demos.HSP-markdown.html#42560" class="InductiveConstructor">gnl</a> <a id="46889" href="Demos.HSP-markdown.html#46889" class="Bound">x</a><a id="46890" class="Symbol">)</a> <a id="46892" class="Symbol">=</a>
  <a id="46896" class="Symbol">Î»</a> <a id="46898" href="Demos.HSP-markdown.html#46898" class="Bound">Ï</a> <a id="46900" class="Symbol">â†’</a> <a id="46902" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="46907" class="Symbol">(</a><a id="46908" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="46915" href="Demos.HSP-markdown.html#45553" class="Bound">ğ‘¨</a><a id="46916" class="Symbol">)(</a><a id="46918" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="46925" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="46927" class="Symbol">Î»</a> <a id="46929" href="Demos.HSP-markdown.html#46929" class="Bound">i</a> <a id="46931" class="Symbol">â†’</a> <a id="46933" href="Demos.HSP-markdown.html#46749" class="Function">â‰â†’Equal</a><a id="46940" class="Symbol">(</a><a id="46941" href="Demos.HSP-markdown.html#46872" class="Bound">s</a> <a id="46943" href="Demos.HSP-markdown.html#46929" class="Bound">i</a><a id="46944" class="Symbol">)(</a><a id="46946" href="Demos.HSP-markdown.html#46882" class="Bound">t</a> <a id="46948" href="Demos.HSP-markdown.html#46929" class="Bound">i</a><a id="46949" class="Symbol">)(</a><a id="46951" href="Demos.HSP-markdown.html#46889" class="Bound">x</a> <a id="46953" href="Demos.HSP-markdown.html#46929" class="Bound">i</a><a id="46954" class="Symbol">)</a><a id="46955" href="Demos.HSP-markdown.html#46898" class="Bound">Ï</a> <a id="46957" class="Symbol">)</a>

</pre>

The proof that `Equal` is an equivalence relation is trivial, so we omit it. (See the [Setoid.Varieties.SoundAndComplete][] module of the [agda-algebras][] library for details.)

<pre class="Agda">
 <a id="Environment.EqualIsEquiv"></a><a id="47171" href="Demos.HSP-markdown.html#47171" class="Function">EqualIsEquiv</a> <a id="47184" class="Symbol">:</a> <a id="47186" class="Symbol">{</a><a id="47187" href="Demos.HSP-markdown.html#47187" class="Bound">Î“</a> <a id="47189" class="Symbol">:</a> <a id="47191" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="47196" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="47197" class="Symbol">}</a> <a id="47199" class="Symbol">â†’</a> <a id="47201" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="47215" class="Symbol">(</a><a id="47216" href="Demos.HSP-markdown.html#46626" class="Function">Equal</a> <a id="47222" class="Symbol">{</a><a id="47223" class="Argument">X</a> <a id="47225" class="Symbol">=</a> <a id="47227" href="Demos.HSP-markdown.html#47187" class="Bound">Î“</a><a id="47228" class="Symbol">})</a>
 <a id="47232" href="Relation.Binary.Structures.html#1568" class="Field">IsEquivalence.refl</a>  <a id="47252" href="Demos.HSP-markdown.html#47171" class="Function">EqualIsEquiv</a> <a id="47265" class="Symbol">=</a> <a id="47267" class="Symbol">Î»</a> <a id="47269" href="Demos.HSP-markdown.html#47269" class="Bound">_</a> <a id="47271" class="Symbol">â†’</a> <a id="47273" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="47279" href="Relation.Binary.Structures.html#1594" class="Field">IsEquivalence.sym</a>   <a id="47299" href="Demos.HSP-markdown.html#47171" class="Function">EqualIsEquiv</a> <a id="47312" class="Symbol">=</a> <a id="47314" class="Symbol">Î»</a> <a id="47316" href="Demos.HSP-markdown.html#47316" class="Bound">x=y</a> <a id="47320" href="Demos.HSP-markdown.html#47320" class="Bound">Ï</a> <a id="47322" class="Symbol">â†’</a> <a id="47324" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="47328" class="Symbol">(</a><a id="47329" href="Demos.HSP-markdown.html#47316" class="Bound">x=y</a> <a id="47333" href="Demos.HSP-markdown.html#47320" class="Bound">Ï</a><a id="47334" class="Symbol">)</a>
 <a id="47337" href="Relation.Binary.Structures.html#1620" class="Field">IsEquivalence.trans</a> <a id="47357" href="Demos.HSP-markdown.html#47171" class="Function">EqualIsEquiv</a> <a id="47370" class="Symbol">=</a> <a id="47372" class="Symbol">Î»</a> <a id="47374" href="Demos.HSP-markdown.html#47374" class="Bound">ij</a> <a id="47377" href="Demos.HSP-markdown.html#47377" class="Bound">jk</a> <a id="47380" href="Demos.HSP-markdown.html#47380" class="Bound">Ï</a> <a id="47382" class="Symbol">â†’</a> <a id="47384" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="47390" class="Symbol">(</a><a id="47391" href="Demos.HSP-markdown.html#47374" class="Bound">ij</a> <a id="47394" href="Demos.HSP-markdown.html#47380" class="Bound">Ï</a><a id="47395" class="Symbol">)</a> <a id="47397" class="Symbol">(</a><a id="47398" href="Demos.HSP-markdown.html#47377" class="Bound">jk</a> <a id="47401" href="Demos.HSP-markdown.html#47380" class="Bound">Ï</a><a id="47402" class="Symbol">)</a>
</pre>

Evaluation of a substitution gives an environment (cf. [Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf))

<pre class="Agda">

 <a id="Environment.âŸ¦_âŸ§s"></a><a id="47616" href="Demos.HSP-markdown.html#47616" class="Function Operator">âŸ¦_âŸ§s</a> <a id="47621" class="Symbol">:</a> <a id="47623" class="Symbol">{</a><a id="47624" href="Demos.HSP-markdown.html#47624" class="Bound">X</a> <a id="47626" href="Demos.HSP-markdown.html#47626" class="Bound">Y</a> <a id="47628" class="Symbol">:</a> <a id="47630" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="47635" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="47636" class="Symbol">}</a> <a id="47638" class="Symbol">â†’</a> <a id="47640" href="Demos.HSP-markdown.html#45033" class="Function">Sub</a> <a id="47644" href="Demos.HSP-markdown.html#47624" class="Bound">X</a> <a id="47646" href="Demos.HSP-markdown.html#47626" class="Bound">Y</a> <a id="47648" class="Symbol">â†’</a> <a id="47650" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a><a id="47657" class="Symbol">(</a><a id="47658" href="Demos.HSP-markdown.html#45632" class="Function">Env</a> <a id="47662" href="Demos.HSP-markdown.html#47624" class="Bound">X</a><a id="47663" class="Symbol">)</a> <a id="47665" class="Symbol">â†’</a> <a id="47667" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="47675" class="Symbol">(</a><a id="47676" href="Demos.HSP-markdown.html#45632" class="Function">Env</a> <a id="47680" href="Demos.HSP-markdown.html#47626" class="Bound">Y</a><a id="47681" class="Symbol">)</a>
 <a id="47684" href="Demos.HSP-markdown.html#47616" class="Function Operator">âŸ¦</a> <a id="47686" href="Demos.HSP-markdown.html#47686" class="Bound">Ïƒ</a> <a id="47688" href="Demos.HSP-markdown.html#47616" class="Function Operator">âŸ§s</a> <a id="47691" href="Demos.HSP-markdown.html#47691" class="Bound">Ï</a> <a id="47693" href="Demos.HSP-markdown.html#47693" class="Bound">x</a> <a id="47695" class="Symbol">=</a> <a id="47697" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="47699" href="Demos.HSP-markdown.html#47686" class="Bound">Ïƒ</a> <a id="47701" href="Demos.HSP-markdown.html#47693" class="Bound">x</a> <a id="47703" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="47705" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="47709" href="Demos.HSP-markdown.html#47691" class="Bound">Ï</a>

</pre>

Next we prove that âŸ¦t[Ïƒ]âŸ§Ï â‰ƒ âŸ¦tâŸ§âŸ¦ÏƒâŸ§Ï (cf. [Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf)).

<pre class="Agda">

 <a id="Environment.substitution"></a><a id="47912" href="Demos.HSP-markdown.html#47912" class="Function">substitution</a> <a id="47925" class="Symbol">:</a> <a id="47927" class="Symbol">{</a><a id="47928" href="Demos.HSP-markdown.html#47928" class="Bound">X</a> <a id="47930" href="Demos.HSP-markdown.html#47930" class="Bound">Y</a> <a id="47932" class="Symbol">:</a> <a id="47934" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="47939" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="47940" class="Symbol">}</a> <a id="47942" class="Symbol">â†’</a> <a id="47944" class="Symbol">(</a><a id="47945" href="Demos.HSP-markdown.html#47945" class="Bound">t</a> <a id="47947" class="Symbol">:</a> <a id="47949" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="47954" href="Demos.HSP-markdown.html#47930" class="Bound">Y</a><a id="47955" class="Symbol">)</a> <a id="47957" class="Symbol">(</a><a id="47958" href="Demos.HSP-markdown.html#47958" class="Bound">Ïƒ</a> <a id="47960" class="Symbol">:</a> <a id="47962" href="Demos.HSP-markdown.html#45033" class="Function">Sub</a> <a id="47966" href="Demos.HSP-markdown.html#47928" class="Bound">X</a> <a id="47968" href="Demos.HSP-markdown.html#47930" class="Bound">Y</a><a id="47969" class="Symbol">)</a> <a id="47971" class="Symbol">(</a><a id="47972" href="Demos.HSP-markdown.html#47972" class="Bound">Ï</a> <a id="47974" class="Symbol">:</a> <a id="47976" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a><a id="47983" class="Symbol">(</a> <a id="47985" href="Demos.HSP-markdown.html#45632" class="Function">Env</a> <a id="47989" href="Demos.HSP-markdown.html#47928" class="Bound">X</a> <a id="47991" class="Symbol">)</a> <a id="47993" class="Symbol">)</a>
  <a id="47997" class="Symbol">â†’</a>             <a id="48011" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="48013" href="Demos.HSP-markdown.html#47945" class="Bound">t</a> <a id="48015" href="Demos.HSP-markdown.html#45097" class="Function Operator">[</a> <a id="48017" href="Demos.HSP-markdown.html#47958" class="Bound">Ïƒ</a> <a id="48019" href="Demos.HSP-markdown.html#45097" class="Function Operator">]</a> <a id="48021" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="48023" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="48027" href="Demos.HSP-markdown.html#47972" class="Bound">Ï</a>  <a id="48030" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a>  <a id="48033" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="48035" href="Demos.HSP-markdown.html#47945" class="Bound">t</a> <a id="48037" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="48039" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="48043" class="Symbol">(</a><a id="48044" href="Demos.HSP-markdown.html#47616" class="Function Operator">âŸ¦</a> <a id="48046" href="Demos.HSP-markdown.html#47958" class="Bound">Ïƒ</a> <a id="48048" href="Demos.HSP-markdown.html#47616" class="Function Operator">âŸ§s</a> <a id="48051" href="Demos.HSP-markdown.html#47972" class="Bound">Ï</a><a id="48052" class="Symbol">)</a>

 <a id="48056" href="Demos.HSP-markdown.html#47912" class="Function">substitution</a> <a id="48069" class="Symbol">(</a><a id="48070" href="Demos.HSP-markdown.html#41527" class="InductiveConstructor">â„Š</a> <a id="48072" href="Demos.HSP-markdown.html#48072" class="Bound">x</a><a id="48073" class="Symbol">)</a> <a id="48075" href="Demos.HSP-markdown.html#48075" class="Bound">Ïƒ</a> <a id="48077" href="Demos.HSP-markdown.html#48077" class="Bound">Ï</a> <a id="48079" class="Symbol">=</a> <a id="48081" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="48087" href="Demos.HSP-markdown.html#47912" class="Function">substitution</a> <a id="48100" class="Symbol">(</a><a id="48101" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="48106" href="Demos.HSP-markdown.html#48106" class="Bound">f</a> <a id="48108" href="Demos.HSP-markdown.html#48108" class="Bound">ts</a><a id="48110" class="Symbol">)</a> <a id="48112" href="Demos.HSP-markdown.html#48112" class="Bound">Ïƒ</a> <a id="48114" href="Demos.HSP-markdown.html#48114" class="Bound">Ï</a> <a id="48116" class="Symbol">=</a> <a id="48118" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="48123" class="Symbol">(</a><a id="48124" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="48131" href="Demos.HSP-markdown.html#45553" class="Bound">ğ‘¨</a><a id="48132" class="Symbol">)(</a><a id="48134" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="48141" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="48143" class="Symbol">Î»</a> <a id="48145" href="Demos.HSP-markdown.html#48145" class="Bound">i</a> <a id="48147" class="Symbol">â†’</a> <a id="48149" href="Demos.HSP-markdown.html#47912" class="Function">substitution</a> <a id="48162" class="Symbol">(</a><a id="48163" href="Demos.HSP-markdown.html#48108" class="Bound">ts</a> <a id="48166" href="Demos.HSP-markdown.html#48145" class="Bound">i</a><a id="48167" class="Symbol">)</a> <a id="48169" href="Demos.HSP-markdown.html#48112" class="Bound">Ïƒ</a> <a id="48171" href="Demos.HSP-markdown.html#48114" class="Bound">Ï</a><a id="48172" class="Symbol">)</a>
</pre>


### <a id="compatibility-of-terms">Compatibility of terms</a>

We now prove two important facts about term operations.  The first of these, which is used very often in the sequel, asserts that every term commutes with every homomorphism.

<pre class="Agda">

<a id="48440" class="Keyword">module</a> <a id="48447" href="Demos.HSP-markdown.html#48447" class="Module">_</a> <a id="48449" class="Symbol">{</a><a id="48450" href="Demos.HSP-markdown.html#48450" class="Bound">X</a> <a id="48452" class="Symbol">:</a> <a id="48454" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="48459" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="48460" class="Symbol">}{</a><a id="48462" href="Demos.HSP-markdown.html#48462" class="Bound">ğ‘¨</a> <a id="48464" class="Symbol">:</a> <a id="48466" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="48474" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="48476" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="48478" class="Symbol">}{</a><a id="48480" href="Demos.HSP-markdown.html#48480" class="Bound">ğ‘©</a> <a id="48482" class="Symbol">:</a> <a id="48484" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="48492" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="48494" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="48496" class="Symbol">}(</a><a id="48498" href="Demos.HSP-markdown.html#48498" class="Bound">hh</a> <a id="48501" class="Symbol">:</a> <a id="48503" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="48507" href="Demos.HSP-markdown.html#48462" class="Bound">ğ‘¨</a> <a id="48509" href="Demos.HSP-markdown.html#48480" class="Bound">ğ‘©</a><a id="48510" class="Symbol">)</a> <a id="48512" class="Keyword">where</a>
 <a id="48519" class="Keyword">open</a> <a id="48524" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="48531" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="48534" href="Demos.HSP-markdown.html#48480" class="Bound">ğ‘©</a> <a id="48536" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="48538" class="Keyword">using</a> <a id="48544" class="Symbol">(</a> <a id="48546" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="48550" class="Symbol">;</a> <a id="48552" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="48557" class="Symbol">)</a>
 <a id="48560" class="Keyword">open</a> <a id="48565" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="48581" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="48584" href="Demos.HSP-markdown.html#48480" class="Bound">ğ‘©</a> <a id="48586" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>
 <a id="48589" class="Keyword">private</a> <a id="48597" href="Demos.HSP-markdown.html#48597" class="Function">hfunc</a> <a id="48603" class="Symbol">=</a> <a id="48605" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="48607" href="Demos.HSP-markdown.html#48498" class="Bound">hh</a> <a id="48610" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="48612" class="Symbol">;</a> <a id="48614" href="Demos.HSP-markdown.html#48614" class="Function">h</a> <a id="48616" class="Symbol">=</a> <a id="48618" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="48624" href="Demos.HSP-markdown.html#48597" class="Function">hfunc</a>
 <a id="48631" class="Keyword">open</a> <a id="48636" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="48648" href="Demos.HSP-markdown.html#48462" class="Bound">ğ‘¨</a> <a id="48650" class="Keyword">using</a> <a id="48656" class="Symbol">(</a> <a id="48658" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="48662" class="Symbol">)</a>
 <a id="48665" class="Keyword">open</a> <a id="48670" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="48682" href="Demos.HSP-markdown.html#48480" class="Bound">ğ‘©</a> <a id="48684" class="Keyword">using</a> <a id="48690" class="Symbol">()</a> <a id="48693" class="Keyword">renaming</a> <a id="48702" class="Symbol">(</a> <a id="48704" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="48708" class="Symbol">to</a> <a id="48711" class="Function Operator">âŸ¦_âŸ§á´®</a> <a id="48716" class="Symbol">)</a>

 <a id="48720" href="Demos.HSP-markdown.html#48720" class="Function">comm-hom-term</a> <a id="48734" class="Symbol">:</a> <a id="48736" class="Symbol">(</a><a id="48737" href="Demos.HSP-markdown.html#48737" class="Bound">t</a> <a id="48739" class="Symbol">:</a> <a id="48741" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="48746" href="Demos.HSP-markdown.html#48450" class="Bound">X</a><a id="48747" class="Symbol">)</a> <a id="48749" class="Symbol">(</a><a id="48750" href="Demos.HSP-markdown.html#48750" class="Bound">a</a> <a id="48752" class="Symbol">:</a> <a id="48754" href="Demos.HSP-markdown.html#48450" class="Bound">X</a> <a id="48756" class="Symbol">â†’</a> <a id="48758" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="48761" href="Demos.HSP-markdown.html#48462" class="Bound">ğ‘¨</a> <a id="48763" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a><a id="48764" class="Symbol">)</a> <a id="48766" class="Symbol">â†’</a> <a id="48768" href="Demos.HSP-markdown.html#48614" class="Function">h</a> <a id="48770" class="Symbol">(</a><a id="48771" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="48773" href="Demos.HSP-markdown.html#48737" class="Bound">t</a> <a id="48775" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="48777" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="48781" href="Demos.HSP-markdown.html#48750" class="Bound">a</a><a id="48782" class="Symbol">)</a> <a id="48784" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="48786" href="Demos.HSP-markdown.html#48711" class="Function Operator">âŸ¦</a> <a id="48788" href="Demos.HSP-markdown.html#48737" class="Bound">t</a> <a id="48790" href="Demos.HSP-markdown.html#48711" class="Function Operator">âŸ§á´®</a> <a id="48793" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="48797" class="Symbol">(</a><a id="48798" href="Demos.HSP-markdown.html#48614" class="Function">h</a> <a id="48800" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="48802" href="Demos.HSP-markdown.html#48750" class="Bound">a</a><a id="48803" class="Symbol">)</a>
 <a id="48806" href="Demos.HSP-markdown.html#48720" class="Function">comm-hom-term</a> <a id="48820" class="Symbol">(</a><a id="48821" href="Demos.HSP-markdown.html#41527" class="InductiveConstructor">â„Š</a> <a id="48823" href="Demos.HSP-markdown.html#48823" class="Bound">x</a><a id="48824" class="Symbol">)</a> <a id="48826" href="Demos.HSP-markdown.html#48826" class="Bound">a</a> <a id="48828" class="Symbol">=</a> <a id="48830" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="48836" href="Demos.HSP-markdown.html#48720" class="Function">comm-hom-term</a> <a id="48850" class="Symbol">(</a><a id="48851" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="48856" href="Demos.HSP-markdown.html#48856" class="Bound">f</a> <a id="48858" href="Demos.HSP-markdown.html#48858" class="Bound">t</a><a id="48859" class="Symbol">)</a> <a id="48861" href="Demos.HSP-markdown.html#48861" class="Bound">a</a> <a id="48863" class="Symbol">=</a> <a id="48865" href="Demos.HSP-markdown.html#48880" class="Function">goal</a>
  <a id="48872" class="Keyword">where</a>
  <a id="48880" href="Demos.HSP-markdown.html#48880" class="Function">goal</a> <a id="48885" class="Symbol">:</a> <a id="48887" href="Demos.HSP-markdown.html#48614" class="Function">h</a> <a id="48889" class="Symbol">(</a><a id="48890" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="48892" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="48897" href="Demos.HSP-markdown.html#48856" class="Bound">f</a> <a id="48899" href="Demos.HSP-markdown.html#48858" class="Bound">t</a> <a id="48901" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="48903" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="48907" href="Demos.HSP-markdown.html#48861" class="Bound">a</a><a id="48908" class="Symbol">)</a> <a id="48910" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="48912" class="Symbol">(</a><a id="48913" href="Demos.HSP-markdown.html#48711" class="Function Operator">âŸ¦</a> <a id="48915" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="48920" href="Demos.HSP-markdown.html#48856" class="Bound">f</a> <a id="48922" href="Demos.HSP-markdown.html#48858" class="Bound">t</a> <a id="48924" href="Demos.HSP-markdown.html#48711" class="Function Operator">âŸ§á´®</a> <a id="48927" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="48931" class="Symbol">(</a><a id="48932" href="Demos.HSP-markdown.html#48614" class="Function">h</a> <a id="48934" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="48936" href="Demos.HSP-markdown.html#48861" class="Bound">a</a><a id="48937" class="Symbol">))</a>
  <a id="48942" href="Demos.HSP-markdown.html#48880" class="Function">goal</a> <a id="48947" class="Symbol">=</a> <a id="48949" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
          <a id="48965" href="Demos.HSP-markdown.html#48614" class="Function">h</a> <a id="48967" class="Symbol">(</a><a id="48968" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="48970" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="48975" href="Demos.HSP-markdown.html#48856" class="Bound">f</a> <a id="48977" href="Demos.HSP-markdown.html#48858" class="Bound">t</a> <a id="48979" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="48981" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="48985" href="Demos.HSP-markdown.html#48861" class="Bound">a</a><a id="48986" class="Symbol">)</a>              <a id="49001" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>  <a id="49005" href="Demos.HSP-markdown.html#27039" class="Field">compatible</a> <a id="49016" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="49018" href="Demos.HSP-markdown.html#48498" class="Bound">hh</a> <a id="49021" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>                                     <a id="49059" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
          <a id="49071" class="Symbol">(</a><a id="49072" href="Demos.HSP-markdown.html#48856" class="Bound">f</a> <a id="49074" href="Demos.HSP-markdown.html#23818" class="Function Operator">Ì‚</a> <a id="49076" href="Demos.HSP-markdown.html#48480" class="Bound">ğ‘©</a><a id="49077" class="Symbol">)(Î»</a> <a id="49081" href="Demos.HSP-markdown.html#49081" class="Bound">i</a> <a id="49083" class="Symbol">â†’</a> <a id="49085" href="Demos.HSP-markdown.html#48614" class="Function">h</a> <a id="49087" class="Symbol">(</a><a id="49088" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="49090" href="Demos.HSP-markdown.html#48858" class="Bound">t</a> <a id="49092" href="Demos.HSP-markdown.html#49081" class="Bound">i</a> <a id="49094" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="49096" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="49100" href="Demos.HSP-markdown.html#48861" class="Bound">a</a><a id="49101" class="Symbol">))</a>     <a id="49108" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>  <a id="49112" href="Function.Bundles.html#1938" class="Field">cong</a><a id="49116" class="Symbol">(</a><a id="49117" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="49124" href="Demos.HSP-markdown.html#48480" class="Bound">ğ‘©</a><a id="49125" class="Symbol">)(</a><a id="49127" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="49134" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="49136" class="Symbol">Î»</a> <a id="49138" href="Demos.HSP-markdown.html#49138" class="Bound">i</a> <a id="49140" class="Symbol">â†’</a> <a id="49142" href="Demos.HSP-markdown.html#48720" class="Function">comm-hom-term</a> <a id="49156" class="Symbol">(</a><a id="49157" href="Demos.HSP-markdown.html#48858" class="Bound">t</a> <a id="49159" href="Demos.HSP-markdown.html#49138" class="Bound">i</a><a id="49160" class="Symbol">)</a> <a id="49162" href="Demos.HSP-markdown.html#48861" class="Bound">a</a><a id="49163" class="Symbol">)</a>  <a id="49166" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
          <a id="49178" class="Symbol">(</a><a id="49179" href="Demos.HSP-markdown.html#48856" class="Bound">f</a> <a id="49181" href="Demos.HSP-markdown.html#23818" class="Function Operator">Ì‚</a> <a id="49183" href="Demos.HSP-markdown.html#48480" class="Bound">ğ‘©</a><a id="49184" class="Symbol">)(Î»</a> <a id="49188" href="Demos.HSP-markdown.html#49188" class="Bound">i</a> <a id="49190" class="Symbol">â†’</a> <a id="49192" href="Demos.HSP-markdown.html#48711" class="Function Operator">âŸ¦</a> <a id="49194" href="Demos.HSP-markdown.html#48858" class="Bound">t</a> <a id="49196" href="Demos.HSP-markdown.html#49188" class="Bound">i</a> <a id="49198" href="Demos.HSP-markdown.html#48711" class="Function Operator">âŸ§á´®</a> <a id="49201" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="49205" class="Symbol">(</a><a id="49206" href="Demos.HSP-markdown.html#48614" class="Function">h</a> <a id="49208" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="49210" href="Demos.HSP-markdown.html#48861" class="Bound">a</a><a id="49211" class="Symbol">))</a>  <a id="49215" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>  <a id="49219" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>                                                  <a id="49273" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
          <a id="49285" class="Symbol">(</a><a id="49286" href="Demos.HSP-markdown.html#48711" class="Function Operator">âŸ¦</a> <a id="49288" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="49293" href="Demos.HSP-markdown.html#48856" class="Bound">f</a> <a id="49295" href="Demos.HSP-markdown.html#48858" class="Bound">t</a> <a id="49297" href="Demos.HSP-markdown.html#48711" class="Function Operator">âŸ§á´®</a> <a id="49300" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="49304" class="Symbol">(</a><a id="49305" href="Demos.HSP-markdown.html#48614" class="Function">h</a> <a id="49307" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="49309" href="Demos.HSP-markdown.html#48861" class="Bound">a</a><a id="49310" class="Symbol">))</a>         <a id="49321" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">âˆ</a>
</pre>

<!--
### <a id="interpretation-of-terms-in-product-algebras">Interpretation of terms in product algebras</a>
-->
<pre class="Agda">
<a id="49467" class="Keyword">module</a> <a id="49474" href="Demos.HSP-markdown.html#49474" class="Module">_</a> <a id="49476" class="Symbol">{</a><a id="49477" href="Demos.HSP-markdown.html#49477" class="Bound">X</a> <a id="49479" class="Symbol">:</a> <a id="49481" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="49486" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="49487" class="Symbol">}{</a><a id="49489" href="Demos.HSP-markdown.html#49489" class="Bound">Î¹</a> <a id="49491" class="Symbol">:</a> <a id="49493" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="49498" class="Symbol">}</a> <a id="49500" class="Symbol">{</a><a id="49501" href="Demos.HSP-markdown.html#49501" class="Bound">I</a> <a id="49503" class="Symbol">:</a> <a id="49505" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="49510" href="Demos.HSP-markdown.html#49489" class="Bound">Î¹</a><a id="49511" class="Symbol">}</a> <a id="49513" class="Symbol">(</a><a id="49514" href="Demos.HSP-markdown.html#49514" class="Bound">ğ’œ</a> <a id="49516" class="Symbol">:</a> <a id="49518" href="Demos.HSP-markdown.html#49501" class="Bound">I</a> <a id="49520" class="Symbol">â†’</a> <a id="49522" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="49530" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="49532" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="49534" class="Symbol">)</a> <a id="49536" class="Keyword">where</a>
 <a id="49543" class="Keyword">open</a> <a id="49548" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="49555" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="49558" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="49560" href="Demos.HSP-markdown.html#49514" class="Bound">ğ’œ</a> <a id="49562" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="49564" class="Keyword">using</a> <a id="49570" class="Symbol">(</a> <a id="49572" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="49576" class="Symbol">)</a>
 <a id="49579" class="Keyword">open</a> <a id="49584" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="49596" class="Symbol">(</a><a id="49597" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="49599" href="Demos.HSP-markdown.html#49514" class="Bound">ğ’œ</a><a id="49600" class="Symbol">)</a> <a id="49602" class="Keyword">using</a> <a id="49608" class="Symbol">()</a> <a id="49611" class="Keyword">renaming</a> <a id="49620" class="Symbol">(</a> <a id="49622" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="49626" class="Symbol">to</a> <a id="49629" class="Function Operator">âŸ¦_âŸ§â‚</a> <a id="49634" class="Symbol">)</a>
 <a id="49637" class="Keyword">open</a> <a id="49642" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="49654" class="Keyword">using</a> <a id="49660" class="Symbol">(</a> <a id="49662" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="49666" class="Symbol">;</a> <a id="49668" href="Demos.HSP-markdown.html#46749" class="Function">â‰â†’Equal</a> <a id="49676" class="Symbol">)</a>

 <a id="49680" href="Demos.HSP-markdown.html#49680" class="Function">interp-prod</a> <a id="49692" class="Symbol">:</a> <a id="49694" class="Symbol">(</a><a id="49695" href="Demos.HSP-markdown.html#49695" class="Bound">p</a> <a id="49697" class="Symbol">:</a> <a id="49699" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="49704" href="Demos.HSP-markdown.html#49477" class="Bound">X</a><a id="49705" class="Symbol">)</a> <a id="49707" class="Symbol">â†’</a> <a id="49709" class="Symbol">âˆ€</a> <a id="49711" href="Demos.HSP-markdown.html#49711" class="Bound">Ï</a> <a id="49713" class="Symbol">â†’</a> <a id="49715" href="Demos.HSP-markdown.html#49629" class="Function Operator">âŸ¦</a> <a id="49717" href="Demos.HSP-markdown.html#49695" class="Bound">p</a> <a id="49719" href="Demos.HSP-markdown.html#49629" class="Function Operator">âŸ§â‚</a> <a id="49722" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="49726" href="Demos.HSP-markdown.html#49711" class="Bound">Ï</a> <a id="49728" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="49730" class="Symbol">(Î»</a> <a id="49733" href="Demos.HSP-markdown.html#49733" class="Bound">i</a> <a id="49735" class="Symbol">â†’</a> <a id="49737" class="Symbol">(</a><a id="49738" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="49740" href="Demos.HSP-markdown.html#49514" class="Bound">ğ’œ</a> <a id="49742" href="Demos.HSP-markdown.html#49733" class="Bound">i</a> <a id="49744" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="49746" href="Demos.HSP-markdown.html#49695" class="Bound">p</a><a id="49747" class="Symbol">)</a> <a id="49749" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="49753" class="Symbol">(Î»</a> <a id="49756" href="Demos.HSP-markdown.html#49756" class="Bound">x</a> <a id="49758" class="Symbol">â†’</a> <a id="49760" class="Symbol">(</a><a id="49761" href="Demos.HSP-markdown.html#49711" class="Bound">Ï</a> <a id="49763" href="Demos.HSP-markdown.html#49756" class="Bound">x</a><a id="49764" class="Symbol">)</a> <a id="49766" href="Demos.HSP-markdown.html#49733" class="Bound">i</a><a id="49767" class="Symbol">))</a>
 <a id="49771" href="Demos.HSP-markdown.html#49680" class="Function">interp-prod</a> <a id="49783" class="Symbol">(</a><a id="49784" href="Demos.HSP-markdown.html#41527" class="InductiveConstructor">â„Š</a> <a id="49786" href="Demos.HSP-markdown.html#49786" class="Bound">x</a><a id="49787" class="Symbol">)</a> <a id="49789" class="Symbol">=</a> <a id="49791" class="Symbol">Î»</a> <a id="49793" href="Demos.HSP-markdown.html#49793" class="Bound">Ï</a> <a id="49795" href="Demos.HSP-markdown.html#49795" class="Bound">i</a> <a id="49797" class="Symbol">â†’</a> <a id="49799" href="Demos.HSP-markdown.html#46749" class="Function">â‰â†’Equal</a> <a id="49807" class="Symbol">(</a><a id="49808" href="Demos.HSP-markdown.html#49514" class="Bound">ğ’œ</a> <a id="49810" href="Demos.HSP-markdown.html#49795" class="Bound">i</a><a id="49811" class="Symbol">)</a> <a id="49813" class="Symbol">(</a><a id="49814" href="Demos.HSP-markdown.html#41527" class="InductiveConstructor">â„Š</a> <a id="49816" href="Demos.HSP-markdown.html#49786" class="Bound">x</a><a id="49817" class="Symbol">)</a> <a id="49819" class="Symbol">(</a><a id="49820" href="Demos.HSP-markdown.html#41527" class="InductiveConstructor">â„Š</a> <a id="49822" href="Demos.HSP-markdown.html#49786" class="Bound">x</a><a id="49823" class="Symbol">)</a> <a id="49825" href="Demos.HSP-markdown.html#42884" class="Function">â‰-isRefl</a> <a id="49834" class="Symbol">Î»</a> <a id="49836" href="Demos.HSP-markdown.html#49836" class="Bound">x&#39;</a> <a id="49839" class="Symbol">â†’</a> <a id="49841" class="Symbol">(</a><a id="49842" href="Demos.HSP-markdown.html#49793" class="Bound">Ï</a> <a id="49844" href="Demos.HSP-markdown.html#49786" class="Bound">x</a><a id="49845" class="Symbol">)</a> <a id="49847" href="Demos.HSP-markdown.html#49795" class="Bound">i</a>
 <a id="49850" href="Demos.HSP-markdown.html#49680" class="Function">interp-prod</a> <a id="49862" class="Symbol">(</a><a id="49863" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="49868" href="Demos.HSP-markdown.html#49868" class="Bound">f</a> <a id="49870" href="Demos.HSP-markdown.html#49870" class="Bound">t</a><a id="49871" class="Symbol">)</a> <a id="49873" class="Symbol">=</a> <a id="49875" class="Symbol">Î»</a> <a id="49877" href="Demos.HSP-markdown.html#49877" class="Bound">Ï</a> <a id="49879" href="Demos.HSP-markdown.html#49879" class="Bound">i</a> <a id="49881" class="Symbol">â†’</a> <a id="49883" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="49888" class="Symbol">(</a><a id="49889" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="49896" class="Symbol">(</a><a id="49897" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="49899" href="Demos.HSP-markdown.html#49514" class="Bound">ğ’œ</a><a id="49900" class="Symbol">))(</a><a id="49903" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="49910" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="49912" class="Symbol">(Î»</a> <a id="49915" href="Demos.HSP-markdown.html#49915" class="Bound">j</a> <a id="49917" href="Demos.HSP-markdown.html#49917" class="Bound">k</a> <a id="49919" class="Symbol">â†’</a> <a id="49921" href="Demos.HSP-markdown.html#49680" class="Function">interp-prod</a> <a id="49933" class="Symbol">(</a><a id="49934" href="Demos.HSP-markdown.html#49870" class="Bound">t</a> <a id="49936" href="Demos.HSP-markdown.html#49915" class="Bound">j</a><a id="49937" class="Symbol">)</a> <a id="49939" href="Demos.HSP-markdown.html#49877" class="Bound">Ï</a> <a id="49941" href="Demos.HSP-markdown.html#49917" class="Bound">k</a><a id="49942" class="Symbol">))</a> <a id="49945" href="Demos.HSP-markdown.html#49879" class="Bound">i</a>
</pre>





<!-- ------------------------------------------------------------------------------------- -->

## <a id="model-theory-and-equational-logic">Model Theory and Equational Logic</a>

(cf. the [Setoid.Varieties.SoundAndComplete][] module of the [agda-algebras][] library)

### <a id="model-theory-basic-definitions">Basic definitions</a>

Let `ğ‘†` be a signature. By an *identity* or *equation* in `ğ‘†` we mean an ordered pair of terms in a given context.  For instance, if the context happens to be the type `X : Type Ï‡`, then an equation will be a pair of inhabitants of the domain of term algebra `ğ‘» X`.

We define an equation in Agda using the following record type with fields denoting the left-hand and right-hand sides of the equation, along with an equation "context" representing the underlying collection of variable symbols (cf. [Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf)).

<pre class="Agda">

<a id="50942" class="Keyword">record</a> <a id="Eq"></a><a id="50949" href="Demos.HSP-markdown.html#50949" class="Record">Eq</a> <a id="50952" class="Symbol">:</a> <a id="50954" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="50959" class="Symbol">(</a><a id="50960" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="50963" href="Demos.HSP-markdown.html#50963" class="Bound">Ï‡</a><a id="50964" class="Symbol">)</a> <a id="50966" class="Keyword">where</a>
 <a id="50973" class="Keyword">constructor</a> <a id="_â‰ˆÌ‡_"></a><a id="50985" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">_â‰ˆÌ‡_</a>
 <a id="50991" class="Keyword">field</a>  <a id="50998" class="Symbol">{</a><a id="Eq.cxt"></a><a id="50999" href="Demos.HSP-markdown.html#50999" class="Field">cxt</a><a id="51002" class="Symbol">}</a>  <a id="51005" class="Symbol">:</a> <a id="51007" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="51012" href="Demos.HSP-markdown.html#50963" class="Bound">Ï‡</a>
        <a id="Eq.lhs"></a><a id="51022" href="Demos.HSP-markdown.html#51022" class="Field">lhs</a>    <a id="51029" class="Symbol">:</a> <a id="51031" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="51036" href="Demos.HSP-markdown.html#50999" class="Field">cxt</a>
        <a id="Eq.rhs"></a><a id="51048" href="Demos.HSP-markdown.html#51048" class="Field">rhs</a>    <a id="51055" class="Symbol">:</a> <a id="51057" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="51062" href="Demos.HSP-markdown.html#50999" class="Field">cxt</a>

<a id="51067" class="Keyword">open</a> <a id="51072" href="Demos.HSP-markdown.html#50949" class="Module">Eq</a> <a id="51075" class="Keyword">public</a>

</pre>

We now define a type representing the notion of an equation `p â‰ˆÌ‡ q` holding (when `p` and `q` are interpreted) in algebra `ğ‘¨`.

If `ğ‘¨` is an `ğ‘†`-algebra we say that `ğ‘¨` *satisfies* `p â‰ˆ q` provided for all environments `Ï : X â†’ âˆ£ ğ‘¨ âˆ£` (assigning values in the domain of `ğ‘¨` to variable symbols in `X`) we have `âŸ¦ p âŸ§âŸ¨$âŸ© Ï â‰ˆ âŸ¦ q âŸ§ âŸ¨$âŸ© Ï`.  In this situation, we write `ğ‘¨ âŠ§ (p â‰ˆÌ‡ q)` and say that `ğ‘¨` *models* the identity `p â‰ˆ q`.

If `ğ’¦` is a class of algebras, all of the same signature, we write `ğ’¦ âŠ« (p â‰ˆÌ‡ q) if, for every `ğ‘¨ âˆˆ ğ’¦`, we have `ğ‘¨ âŠ§ (p â‰ˆÌ‡ q)`.

Because a class of structures has a different type than a single structure, we must use a slightly different syntax to avoid overloading the relations `âŠ§` and `â‰ˆ`. As a reasonable alternative to what we would normally express informally as `ğ’¦ âŠ§ p â‰ˆ q`, we have settled on `ğ’¦ âŠ« (p â‰ˆÌ‡ q)` to denote this relation.  To reiterate, if `ğ’¦` is a class of `ğ‘†`-algebras, we write `ğ’¦ âŠ« (p â‰ˆÌ‡ q)` provided every `ğ‘¨ âˆˆ ğ’¦` satisfies `ğ‘¨ âŠ§ (p â‰ˆÌ‡ q)`.

<pre class="Agda">

<a id="_âŠ§_"></a><a id="52106" href="Demos.HSP-markdown.html#52106" class="Function Operator">_âŠ§_</a> <a id="52110" class="Symbol">:</a> <a id="52112" class="Symbol">(</a><a id="52113" href="Demos.HSP-markdown.html#52113" class="Bound">ğ‘¨</a> <a id="52115" class="Symbol">:</a> <a id="52117" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="52125" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="52127" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="52129" class="Symbol">)(</a><a id="52131" href="Demos.HSP-markdown.html#52131" class="Bound">term-identity</a> <a id="52145" class="Symbol">:</a> <a id="52147" href="Demos.HSP-markdown.html#50949" class="Record">Eq</a><a id="52149" class="Symbol">{</a><a id="52150" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="52151" class="Symbol">})</a> <a id="52154" class="Symbol">â†’</a> <a id="52156" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="52161" class="Symbol">_</a>
<a id="52163" href="Demos.HSP-markdown.html#52163" class="Bound">ğ‘¨</a> <a id="52165" href="Demos.HSP-markdown.html#52106" class="Function Operator">âŠ§</a> <a id="52167" class="Symbol">(</a><a id="52168" href="Demos.HSP-markdown.html#52168" class="Bound">p</a> <a id="52170" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="52173" href="Demos.HSP-markdown.html#52173" class="Bound">q</a><a id="52174" class="Symbol">)</a> <a id="52176" class="Symbol">=</a> <a id="52178" href="Demos.HSP-markdown.html#46626" class="Function">Equal</a> <a id="52184" href="Demos.HSP-markdown.html#52168" class="Bound">p</a> <a id="52186" href="Demos.HSP-markdown.html#52173" class="Bound">q</a> <a id="52188" class="Keyword">where</a> <a id="52194" class="Keyword">open</a> <a id="52199" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="52211" href="Demos.HSP-markdown.html#52163" class="Bound">ğ‘¨</a>

<a id="_âŠ«_"></a><a id="52214" href="Demos.HSP-markdown.html#52214" class="Function Operator">_âŠ«_</a> <a id="52218" class="Symbol">:</a> <a id="52220" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="52225" class="Symbol">(</a><a id="52226" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="52234" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="52236" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="52238" class="Symbol">)</a> <a id="52240" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a> <a id="52242" class="Symbol">â†’</a> <a id="52244" href="Demos.HSP-markdown.html#50949" class="Record">Eq</a><a id="52246" class="Symbol">{</a><a id="52247" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="52248" class="Symbol">}</a> <a id="52250" class="Symbol">â†’</a> <a id="52252" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="52257" class="Symbol">(</a><a id="52258" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a> <a id="52260" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="52262" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a> <a id="52264" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="52266" href="Demos.HSP-markdown.html#37560" class="Function">ov</a><a id="52268" class="Symbol">(</a><a id="52269" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="52271" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="52273" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="52275" class="Symbol">))</a>
<a id="52278" href="Demos.HSP-markdown.html#52278" class="Bound">ğ’¦</a> <a id="52280" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="52282" href="Demos.HSP-markdown.html#52282" class="Bound">equ</a> <a id="52286" class="Symbol">=</a> <a id="52288" class="Symbol">âˆ€</a> <a id="52290" href="Demos.HSP-markdown.html#52290" class="Bound">ğ‘¨</a> <a id="52292" class="Symbol">â†’</a> <a id="52294" href="Demos.HSP-markdown.html#52278" class="Bound">ğ’¦</a> <a id="52296" href="Demos.HSP-markdown.html#52290" class="Bound">ğ‘¨</a> <a id="52298" class="Symbol">â†’</a> <a id="52300" href="Demos.HSP-markdown.html#52290" class="Bound">ğ‘¨</a> <a id="52302" href="Demos.HSP-markdown.html#52106" class="Function Operator">âŠ§</a> <a id="52304" href="Demos.HSP-markdown.html#52282" class="Bound">equ</a>

</pre>

We denote by `ğ‘¨ âŠ¨ â„°` the assertion that the algebra ğ‘¨ models every equation in a collection `â„°` of equations.

<pre class="Agda">

<a id="_âŠ¨_"></a><a id="52446" href="Demos.HSP-markdown.html#52446" class="Function Operator">_âŠ¨_</a> <a id="52450" class="Symbol">:</a> <a id="52452" class="Symbol">(</a><a id="52453" href="Demos.HSP-markdown.html#52453" class="Bound">ğ‘¨</a> <a id="52455" class="Symbol">:</a> <a id="52457" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="52465" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="52467" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="52469" class="Symbol">)</a> <a id="52471" class="Symbol">â†’</a> <a id="52473" class="Symbol">{</a><a id="52474" href="Demos.HSP-markdown.html#52474" class="Bound">Î¹</a> <a id="52476" class="Symbol">:</a> <a id="52478" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="52483" class="Symbol">}{</a><a id="52485" href="Demos.HSP-markdown.html#52485" class="Bound">I</a> <a id="52487" class="Symbol">:</a> <a id="52489" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="52494" href="Demos.HSP-markdown.html#52474" class="Bound">Î¹</a><a id="52495" class="Symbol">}</a> <a id="52497" class="Symbol">â†’</a> <a id="52499" class="Symbol">(</a><a id="52500" href="Demos.HSP-markdown.html#52485" class="Bound">I</a> <a id="52502" class="Symbol">â†’</a> <a id="52504" href="Demos.HSP-markdown.html#50949" class="Record">Eq</a><a id="52506" class="Symbol">{</a><a id="52507" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="52508" class="Symbol">})</a> <a id="52511" class="Symbol">â†’</a> <a id="52513" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="52518" class="Symbol">_</a>
<a id="52520" href="Demos.HSP-markdown.html#52520" class="Bound">ğ‘¨</a> <a id="52522" href="Demos.HSP-markdown.html#52446" class="Function Operator">âŠ¨</a> <a id="52524" href="Demos.HSP-markdown.html#52524" class="Bound">â„°</a> <a id="52526" class="Symbol">=</a> <a id="52528" class="Symbol">âˆ€</a> <a id="52530" href="Demos.HSP-markdown.html#52530" class="Bound">i</a> <a id="52532" class="Symbol">â†’</a> <a id="52534" href="Demos.HSP-markdown.html#46626" class="Function">Equal</a> <a id="52540" class="Symbol">(</a><a id="52541" href="Demos.HSP-markdown.html#51022" class="Field">lhs</a> <a id="52545" class="Symbol">(</a><a id="52546" href="Demos.HSP-markdown.html#52524" class="Bound">â„°</a> <a id="52548" href="Demos.HSP-markdown.html#52530" class="Bound">i</a><a id="52549" class="Symbol">))(</a><a id="52552" href="Demos.HSP-markdown.html#51048" class="Field">rhs</a> <a id="52556" class="Symbol">(</a><a id="52557" href="Demos.HSP-markdown.html#52524" class="Bound">â„°</a> <a id="52559" href="Demos.HSP-markdown.html#52530" class="Bound">i</a><a id="52560" class="Symbol">))</a> <a id="52563" class="Keyword">where</a> <a id="52569" class="Keyword">open</a> <a id="52574" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="52586" href="Demos.HSP-markdown.html#52520" class="Bound">ğ‘¨</a>
</pre>

### <a id="equational-theories-and-models">Equational theories and models</a>

If `ğ’¦` denotes a class of structures, then `Th ğ’¦` represents the set of identities
modeled by the members of `ğ’¦`.

<pre class="Agda">

<a id="Th"></a><a id="52808" href="Demos.HSP-markdown.html#52808" class="Function">Th</a> <a id="52811" class="Symbol">:</a> <a id="52813" class="Symbol">{</a><a id="52814" href="Demos.HSP-markdown.html#52814" class="Bound">X</a> <a id="52816" class="Symbol">:</a> <a id="52818" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="52823" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="52824" class="Symbol">}</a> <a id="52826" class="Symbol">â†’</a> <a id="52828" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="52833" class="Symbol">(</a><a id="52834" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="52842" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="52844" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="52846" class="Symbol">)</a> <a id="52848" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a> <a id="52850" class="Symbol">â†’</a> <a id="52852" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="52856" class="Symbol">(</a><a id="52857" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="52862" href="Demos.HSP-markdown.html#52814" class="Bound">X</a> <a id="52864" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="52866" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="52871" href="Demos.HSP-markdown.html#52814" class="Bound">X</a><a id="52872" class="Symbol">)</a> <a id="52874" class="Symbol">_</a>
<a id="52876" href="Demos.HSP-markdown.html#52808" class="Function">Th</a> <a id="52879" href="Demos.HSP-markdown.html#52879" class="Bound">ğ’¦</a> <a id="52881" class="Symbol">=</a> <a id="52883" class="Symbol">Î»</a> <a id="52885" class="Symbol">(</a><a id="52886" href="Demos.HSP-markdown.html#52886" class="Bound">p</a> <a id="52888" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="52890" href="Demos.HSP-markdown.html#52890" class="Bound">q</a><a id="52891" class="Symbol">)</a> <a id="52893" class="Symbol">â†’</a> <a id="52895" href="Demos.HSP-markdown.html#52879" class="Bound">ğ’¦</a> <a id="52897" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="52899" class="Symbol">(</a><a id="52900" href="Demos.HSP-markdown.html#52886" class="Bound">p</a> <a id="52902" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="52905" href="Demos.HSP-markdown.html#52890" class="Bound">q</a><a id="52906" class="Symbol">)</a>

<a id="Mod"></a><a id="52909" href="Demos.HSP-markdown.html#52909" class="Function">Mod</a> <a id="52913" class="Symbol">:</a> <a id="52915" class="Symbol">{</a><a id="52916" href="Demos.HSP-markdown.html#52916" class="Bound">X</a> <a id="52918" class="Symbol">:</a> <a id="52920" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="52925" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="52926" class="Symbol">}</a> <a id="52928" class="Symbol">â†’</a> <a id="52930" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="52934" class="Symbol">(</a><a id="52935" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="52940" href="Demos.HSP-markdown.html#52916" class="Bound">X</a> <a id="52942" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="52944" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="52949" href="Demos.HSP-markdown.html#52916" class="Bound">X</a><a id="52950" class="Symbol">)</a> <a id="52952" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a> <a id="52954" class="Symbol">â†’</a> <a id="52956" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="52961" class="Symbol">(</a><a id="52962" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="52970" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="52972" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="52974" class="Symbol">)</a> <a id="52976" class="Symbol">_</a>
<a id="52978" href="Demos.HSP-markdown.html#52909" class="Function">Mod</a> <a id="52982" href="Demos.HSP-markdown.html#52982" class="Bound">â„°</a> <a id="52984" href="Demos.HSP-markdown.html#52984" class="Bound">ğ‘¨</a> <a id="52986" class="Symbol">=</a> <a id="52988" class="Symbol">âˆ€</a> <a id="52990" class="Symbol">{</a><a id="52991" href="Demos.HSP-markdown.html#52991" class="Bound">p</a> <a id="52993" href="Demos.HSP-markdown.html#52993" class="Bound">q</a><a id="52994" class="Symbol">}</a> <a id="52996" class="Symbol">â†’</a> <a id="52998" class="Symbol">(</a><a id="52999" href="Demos.HSP-markdown.html#52991" class="Bound">p</a> <a id="53001" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="53003" href="Demos.HSP-markdown.html#52993" class="Bound">q</a><a id="53004" class="Symbol">)</a> <a id="53006" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="53008" href="Demos.HSP-markdown.html#52982" class="Bound">â„°</a> <a id="53010" class="Symbol">â†’</a> <a id="53012" href="Demos.HSP-markdown.html#46626" class="Function">Equal</a> <a id="53018" href="Demos.HSP-markdown.html#52991" class="Bound">p</a> <a id="53020" href="Demos.HSP-markdown.html#52993" class="Bound">q</a> <a id="53022" class="Keyword">where</a> <a id="53028" class="Keyword">open</a> <a id="53033" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="53045" href="Demos.HSP-markdown.html#52984" class="Bound">ğ‘¨</a>
</pre>

### <a id="the-entailment-relation">The entailment relation</a>

Based on [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).)

<pre class="Agda">

<a id="53284" class="Keyword">module</a> <a id="53291" href="Demos.HSP-markdown.html#53291" class="Module">_</a> <a id="53293" class="Symbol">{</a><a id="53294" href="Demos.HSP-markdown.html#53294" class="Bound">Ï‡</a> <a id="53296" href="Demos.HSP-markdown.html#53296" class="Bound">Î¹</a> <a id="53298" class="Symbol">:</a> <a id="53300" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="53305" class="Symbol">}</a> <a id="53307" class="Keyword">where</a>

 <a id="53315" class="Keyword">data</a> <a id="53320" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">_âŠ¢_â–¹_â‰ˆ_</a> <a id="53328" class="Symbol">{</a><a id="53329" href="Demos.HSP-markdown.html#53329" class="Bound">I</a> <a id="53331" class="Symbol">:</a> <a id="53333" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="53338" href="Demos.HSP-markdown.html#53296" class="Bound">Î¹</a><a id="53339" class="Symbol">}(</a><a id="53341" href="Demos.HSP-markdown.html#53341" class="Bound">â„°</a> <a id="53343" class="Symbol">:</a> <a id="53345" href="Demos.HSP-markdown.html#53329" class="Bound">I</a> <a id="53347" class="Symbol">â†’</a> <a id="53349" href="Demos.HSP-markdown.html#50949" class="Record">Eq</a><a id="53351" class="Symbol">)</a> <a id="53353" class="Symbol">:</a> <a id="53355" class="Symbol">(</a><a id="53356" href="Demos.HSP-markdown.html#53356" class="Bound">X</a> <a id="53358" class="Symbol">:</a> <a id="53360" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="53365" href="Demos.HSP-markdown.html#53294" class="Bound">Ï‡</a><a id="53366" class="Symbol">)(</a><a id="53368" href="Demos.HSP-markdown.html#53368" class="Bound">p</a> <a id="53370" href="Demos.HSP-markdown.html#53370" class="Bound">q</a> <a id="53372" class="Symbol">:</a> <a id="53374" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="53379" href="Demos.HSP-markdown.html#53356" class="Bound">X</a><a id="53380" class="Symbol">)</a> <a id="53382" class="Symbol">â†’</a> <a id="53384" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="53389" class="Symbol">(</a><a id="53390" href="Demos.HSP-markdown.html#53296" class="Bound">Î¹</a> <a id="53392" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="53394" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="53397" href="Demos.HSP-markdown.html#53294" class="Bound">Ï‡</a><a id="53398" class="Symbol">)</a> <a id="53400" class="Keyword">where</a>
  <a id="53408" href="Demos.HSP-markdown.html#53408" class="InductiveConstructor">hyp</a> <a id="53412" class="Symbol">:</a> <a id="53414" class="Symbol">âˆ€</a> <a id="53416" href="Demos.HSP-markdown.html#53416" class="Bound">i</a> <a id="53418" class="Symbol">â†’</a> <a id="53420" class="Keyword">let</a> <a id="53424" href="Demos.HSP-markdown.html#53424" class="Bound">p</a> <a id="53426" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="53429" href="Demos.HSP-markdown.html#53429" class="Bound">q</a> <a id="53431" class="Symbol">=</a> <a id="53433" href="Demos.HSP-markdown.html#53341" class="Bound">â„°</a> <a id="53435" href="Demos.HSP-markdown.html#53416" class="Bound">i</a> <a id="53437" class="Keyword">in</a> <a id="53440" href="Demos.HSP-markdown.html#53341" class="Bound">â„°</a> <a id="53442" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="53444" class="Symbol">_</a> <a id="53446" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹</a> <a id="53448" href="Demos.HSP-markdown.html#53424" class="Bound">p</a> <a id="53450" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â‰ˆ</a> <a id="53452" href="Demos.HSP-markdown.html#53429" class="Bound">q</a>
  <a id="53456" href="Demos.HSP-markdown.html#53456" class="InductiveConstructor">app</a> <a id="53460" class="Symbol">:</a> <a id="53462" class="Symbol">âˆ€</a> <a id="53464" class="Symbol">{</a><a id="53465" href="Demos.HSP-markdown.html#53465" class="Bound">ps</a> <a id="53468" href="Demos.HSP-markdown.html#53468" class="Bound">qs</a><a id="53470" class="Symbol">}</a> <a id="53472" class="Symbol">â†’</a> <a id="53474" class="Symbol">(âˆ€</a> <a id="53477" href="Demos.HSP-markdown.html#53477" class="Bound">i</a> <a id="53479" class="Symbol">â†’</a> <a id="53481" href="Demos.HSP-markdown.html#53341" class="Bound">â„°</a> <a id="53483" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="53485" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53487" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹</a> <a id="53489" href="Demos.HSP-markdown.html#53465" class="Bound">ps</a> <a id="53492" href="Demos.HSP-markdown.html#53477" class="Bound">i</a> <a id="53494" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â‰ˆ</a> <a id="53496" href="Demos.HSP-markdown.html#53468" class="Bound">qs</a> <a id="53499" href="Demos.HSP-markdown.html#53477" class="Bound">i</a><a id="53500" class="Symbol">)</a> <a id="53502" class="Symbol">â†’</a> <a id="53504" href="Demos.HSP-markdown.html#53341" class="Bound">â„°</a> <a id="53506" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="53508" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53510" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹</a> <a id="53512" class="Symbol">(</a><a id="53513" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="53518" href="Demos.HSP-markdown.html#8530" class="Generalizable">ğ‘“</a> <a id="53520" href="Demos.HSP-markdown.html#53465" class="Bound">ps</a><a id="53522" class="Symbol">)</a> <a id="53524" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â‰ˆ</a> <a id="53526" class="Symbol">(</a><a id="53527" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="53532" href="Demos.HSP-markdown.html#8530" class="Generalizable">ğ‘“</a> <a id="53534" href="Demos.HSP-markdown.html#53468" class="Bound">qs</a><a id="53536" class="Symbol">)</a>
  <a id="53540" href="Demos.HSP-markdown.html#53540" class="InductiveConstructor">sub</a> <a id="53544" class="Symbol">:</a> <a id="53546" class="Symbol">âˆ€</a> <a id="53548" class="Symbol">{</a><a id="53549" href="Demos.HSP-markdown.html#53549" class="Bound">p</a> <a id="53551" href="Demos.HSP-markdown.html#53551" class="Bound">q</a><a id="53552" class="Symbol">}</a> <a id="53554" class="Symbol">â†’</a> <a id="53556" href="Demos.HSP-markdown.html#53341" class="Bound">â„°</a> <a id="53558" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="53560" href="Demos.HSP-markdown.html#8518" class="Generalizable">Î”</a> <a id="53562" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹</a> <a id="53564" href="Demos.HSP-markdown.html#53549" class="Bound">p</a> <a id="53566" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â‰ˆ</a> <a id="53568" href="Demos.HSP-markdown.html#53551" class="Bound">q</a> <a id="53570" class="Symbol">â†’</a> <a id="53572" class="Symbol">âˆ€</a> <a id="53574" class="Symbol">(</a><a id="53575" href="Demos.HSP-markdown.html#53575" class="Bound">Ïƒ</a> <a id="53577" class="Symbol">:</a> <a id="53579" href="Demos.HSP-markdown.html#45033" class="Function">Sub</a> <a id="53583" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53585" href="Demos.HSP-markdown.html#8518" class="Generalizable">Î”</a><a id="53586" class="Symbol">)</a> <a id="53588" class="Symbol">â†’</a> <a id="53590" href="Demos.HSP-markdown.html#53341" class="Bound">â„°</a> <a id="53592" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="53594" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53596" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹</a> <a id="53598" class="Symbol">(</a><a id="53599" href="Demos.HSP-markdown.html#53549" class="Bound">p</a> <a id="53601" href="Demos.HSP-markdown.html#45097" class="Function Operator">[</a> <a id="53603" href="Demos.HSP-markdown.html#53575" class="Bound">Ïƒ</a> <a id="53605" href="Demos.HSP-markdown.html#45097" class="Function Operator">]</a><a id="53606" class="Symbol">)</a> <a id="53608" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â‰ˆ</a> <a id="53610" class="Symbol">(</a><a id="53611" href="Demos.HSP-markdown.html#53551" class="Bound">q</a> <a id="53613" href="Demos.HSP-markdown.html#45097" class="Function Operator">[</a> <a id="53615" href="Demos.HSP-markdown.html#53575" class="Bound">Ïƒ</a> <a id="53617" href="Demos.HSP-markdown.html#45097" class="Function Operator">]</a><a id="53618" class="Symbol">)</a>

  <a id="53623" href="Demos.HSP-markdown.html#53623" class="InductiveConstructor">âŠ¢refl</a>   <a id="53631" class="Symbol">:</a> <a id="53633" class="Symbol">âˆ€</a> <a id="53635" class="Symbol">{</a><a id="53636" href="Demos.HSP-markdown.html#53636" class="Bound">p</a><a id="53637" class="Symbol">}</a>               <a id="53653" class="Symbol">â†’</a> <a id="53655" href="Demos.HSP-markdown.html#53341" class="Bound">â„°</a> <a id="53657" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="53659" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53661" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹</a> <a id="53663" href="Demos.HSP-markdown.html#53636" class="Bound">p</a> <a id="53665" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â‰ˆ</a> <a id="53667" href="Demos.HSP-markdown.html#53636" class="Bound">p</a>
  <a id="53671" href="Demos.HSP-markdown.html#53671" class="InductiveConstructor">âŠ¢sym</a>    <a id="53679" class="Symbol">:</a> <a id="53681" class="Symbol">âˆ€</a> <a id="53683" class="Symbol">{</a><a id="53684" href="Demos.HSP-markdown.html#53684" class="Bound">p</a> <a id="53686" href="Demos.HSP-markdown.html#53686" class="Bound">q</a> <a id="53688" class="Symbol">:</a> <a id="53690" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="53695" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a><a id="53696" class="Symbol">}</a>    <a id="53701" class="Symbol">â†’</a> <a id="53703" href="Demos.HSP-markdown.html#53341" class="Bound">â„°</a> <a id="53705" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="53707" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53709" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹</a> <a id="53711" href="Demos.HSP-markdown.html#53684" class="Bound">p</a> <a id="53713" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â‰ˆ</a> <a id="53715" href="Demos.HSP-markdown.html#53686" class="Bound">q</a> <a id="53717" class="Symbol">â†’</a> <a id="53719" href="Demos.HSP-markdown.html#53341" class="Bound">â„°</a> <a id="53721" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="53723" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53725" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹</a> <a id="53727" href="Demos.HSP-markdown.html#53686" class="Bound">q</a> <a id="53729" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â‰ˆ</a> <a id="53731" href="Demos.HSP-markdown.html#53684" class="Bound">p</a>
  <a id="53735" href="Demos.HSP-markdown.html#53735" class="InductiveConstructor">âŠ¢trans</a>  <a id="53743" class="Symbol">:</a> <a id="53745" class="Symbol">âˆ€</a> <a id="53747" class="Symbol">{</a><a id="53748" href="Demos.HSP-markdown.html#53748" class="Bound">p</a> <a id="53750" href="Demos.HSP-markdown.html#53750" class="Bound">q</a> <a id="53752" href="Demos.HSP-markdown.html#53752" class="Bound">r</a> <a id="53754" class="Symbol">:</a> <a id="53756" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="53761" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a><a id="53762" class="Symbol">}</a>  <a id="53765" class="Symbol">â†’</a> <a id="53767" href="Demos.HSP-markdown.html#53341" class="Bound">â„°</a> <a id="53769" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="53771" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53773" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹</a> <a id="53775" href="Demos.HSP-markdown.html#53748" class="Bound">p</a> <a id="53777" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â‰ˆ</a> <a id="53779" href="Demos.HSP-markdown.html#53750" class="Bound">q</a> <a id="53781" class="Symbol">â†’</a> <a id="53783" href="Demos.HSP-markdown.html#53341" class="Bound">â„°</a> <a id="53785" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="53787" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53789" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹</a> <a id="53791" href="Demos.HSP-markdown.html#53750" class="Bound">q</a> <a id="53793" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â‰ˆ</a> <a id="53795" href="Demos.HSP-markdown.html#53752" class="Bound">r</a> <a id="53797" class="Symbol">â†’</a> <a id="53799" href="Demos.HSP-markdown.html#53341" class="Bound">â„°</a> <a id="53801" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="53803" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53805" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹</a> <a id="53807" href="Demos.HSP-markdown.html#53748" class="Bound">p</a> <a id="53809" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â‰ˆ</a> <a id="53811" href="Demos.HSP-markdown.html#53752" class="Bound">r</a>

 <a id="53815" href="Demos.HSP-markdown.html#53815" class="Function">âŠ¢â–¹â‰ˆIsEquiv</a> <a id="53826" class="Symbol">:</a> <a id="53828" class="Symbol">{</a><a id="53829" href="Demos.HSP-markdown.html#53829" class="Bound">X</a> <a id="53831" class="Symbol">:</a> <a id="53833" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="53838" href="Demos.HSP-markdown.html#53294" class="Bound">Ï‡</a><a id="53839" class="Symbol">}{</a><a id="53841" href="Demos.HSP-markdown.html#53841" class="Bound">I</a> <a id="53843" class="Symbol">:</a> <a id="53845" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="53850" href="Demos.HSP-markdown.html#53296" class="Bound">Î¹</a><a id="53851" class="Symbol">}{</a><a id="53853" href="Demos.HSP-markdown.html#53853" class="Bound">â„°</a> <a id="53855" class="Symbol">:</a> <a id="53857" href="Demos.HSP-markdown.html#53841" class="Bound">I</a> <a id="53859" class="Symbol">â†’</a> <a id="53861" href="Demos.HSP-markdown.html#50949" class="Record">Eq</a><a id="53863" class="Symbol">}</a> <a id="53865" class="Symbol">â†’</a> <a id="53867" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="53881" class="Symbol">(</a><a id="53882" href="Demos.HSP-markdown.html#53853" class="Bound">â„°</a> <a id="53884" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="53886" href="Demos.HSP-markdown.html#53829" class="Bound">X</a> <a id="53888" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹_â‰ˆ_</a><a id="53892" class="Symbol">)</a>
 <a id="53895" href="Demos.HSP-markdown.html#53815" class="Function">âŠ¢â–¹â‰ˆIsEquiv</a> <a id="53906" class="Symbol">=</a> <a id="53908" class="Keyword">record</a> <a id="53915" class="Symbol">{</a> <a id="53917" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="53922" class="Symbol">=</a> <a id="53924" href="Demos.HSP-markdown.html#53623" class="InductiveConstructor">âŠ¢refl</a> <a id="53930" class="Symbol">;</a> <a id="53932" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="53936" class="Symbol">=</a> <a id="53938" href="Demos.HSP-markdown.html#53671" class="InductiveConstructor">âŠ¢sym</a> <a id="53943" class="Symbol">;</a> <a id="53945" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="53951" class="Symbol">=</a> <a id="53953" href="Demos.HSP-markdown.html#53735" class="InductiveConstructor">âŠ¢trans</a> <a id="53960" class="Symbol">}</a>
</pre>

### <a id="soundness">Soundness</a>

In any model ğ‘¨ that satisfies the equations â„°, derived equality is actual equality
(cf. [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).)

<pre class="Agda">

<a id="54250" class="Keyword">module</a> <a id="Soundness"></a><a id="54257" href="Demos.HSP-markdown.html#54257" class="Module">Soundness</a>  <a id="54268" class="Symbol">{</a><a id="54269" href="Demos.HSP-markdown.html#54269" class="Bound">Ï‡</a> <a id="54271" href="Demos.HSP-markdown.html#54271" class="Bound">Î±</a> <a id="54273" href="Demos.HSP-markdown.html#54273" class="Bound">Î¹</a> <a id="54275" class="Symbol">:</a> <a id="54277" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="54282" class="Symbol">}{</a><a id="54284" href="Demos.HSP-markdown.html#54284" class="Bound">I</a> <a id="54286" class="Symbol">:</a> <a id="54288" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="54293" href="Demos.HSP-markdown.html#54273" class="Bound">Î¹</a><a id="54294" class="Symbol">}</a> <a id="54296" class="Symbol">(</a><a id="54297" href="Demos.HSP-markdown.html#54297" class="Bound">â„°</a> <a id="54299" class="Symbol">:</a> <a id="54301" href="Demos.HSP-markdown.html#54284" class="Bound">I</a> <a id="54303" class="Symbol">â†’</a> <a id="54305" href="Demos.HSP-markdown.html#50949" class="Record">Eq</a><a id="54307" class="Symbol">{</a><a id="54308" href="Demos.HSP-markdown.html#54269" class="Bound">Ï‡</a><a id="54309" class="Symbol">})</a>
                  <a id="54330" class="Symbol">(</a><a id="54331" href="Demos.HSP-markdown.html#54331" class="Bound">ğ‘¨</a> <a id="54333" class="Symbol">:</a> <a id="54335" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="54343" href="Demos.HSP-markdown.html#54271" class="Bound">Î±</a> <a id="54345" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="54347" class="Symbol">)</a>     <a id="54353" class="Comment">-- We assume an algebra ğ‘¨</a>
                  <a id="54397" class="Symbol">(</a><a id="54398" href="Demos.HSP-markdown.html#54398" class="Bound">V</a> <a id="54400" class="Symbol">:</a> <a id="54402" href="Demos.HSP-markdown.html#54331" class="Bound">ğ‘¨</a> <a id="54404" href="Demos.HSP-markdown.html#52446" class="Function Operator">âŠ¨</a> <a id="54406" href="Demos.HSP-markdown.html#54297" class="Bound">â„°</a><a id="54407" class="Symbol">)</a>            <a id="54420" class="Comment">-- that models all equations in â„°.</a>
                  <a id="54473" class="Keyword">where</a>

 <a id="54481" class="Keyword">open</a> <a id="54486" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="54502" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="54505" href="Demos.HSP-markdown.html#54331" class="Bound">ğ‘¨</a> <a id="54507" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>
 <a id="54510" class="Keyword">open</a> <a id="54515" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="54527" href="Demos.HSP-markdown.html#54331" class="Bound">ğ‘¨</a>
 <a id="54530" class="Keyword">open</a> <a id="54535" href="Relation.Binary.Structures.html#1522" class="Module">IsEquivalence</a> <a id="54549" class="Keyword">using</a> <a id="54555" class="Symbol">(</a> <a id="54557" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="54562" class="Symbol">;</a> <a id="54564" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="54568" class="Symbol">;</a> <a id="54570" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="54576" class="Symbol">)</a>

 <a id="Soundness.sound"></a><a id="54580" href="Demos.HSP-markdown.html#54580" class="Function">sound</a> <a id="54586" class="Symbol">:</a> <a id="54588" class="Symbol">âˆ€</a> <a id="54590" class="Symbol">{</a><a id="54591" href="Demos.HSP-markdown.html#54591" class="Bound">p</a> <a id="54593" href="Demos.HSP-markdown.html#54593" class="Bound">q</a><a id="54594" class="Symbol">}</a> <a id="54596" class="Symbol">â†’</a> <a id="54598" href="Demos.HSP-markdown.html#54297" class="Bound">â„°</a> <a id="54600" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="54602" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="54604" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹</a> <a id="54606" href="Demos.HSP-markdown.html#54591" class="Bound">p</a> <a id="54608" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â‰ˆ</a> <a id="54610" href="Demos.HSP-markdown.html#54593" class="Bound">q</a> <a id="54612" class="Symbol">â†’</a> <a id="54614" href="Demos.HSP-markdown.html#54331" class="Bound">ğ‘¨</a> <a id="54616" href="Demos.HSP-markdown.html#52106" class="Function Operator">âŠ§</a> <a id="54618" class="Symbol">(</a><a id="54619" href="Demos.HSP-markdown.html#54591" class="Bound">p</a> <a id="54621" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="54624" href="Demos.HSP-markdown.html#54593" class="Bound">q</a><a id="54625" class="Symbol">)</a>
 <a id="54628" href="Demos.HSP-markdown.html#54580" class="Function">sound</a> <a id="54634" class="Symbol">(</a><a id="54635" href="Demos.HSP-markdown.html#53408" class="InductiveConstructor">hyp</a> <a id="54639" href="Demos.HSP-markdown.html#54639" class="Bound">i</a><a id="54640" class="Symbol">)</a> <a id="54642" class="Symbol">=</a> <a id="54644" href="Demos.HSP-markdown.html#54398" class="Bound">V</a> <a id="54646" href="Demos.HSP-markdown.html#54639" class="Bound">i</a>
 <a id="54649" href="Demos.HSP-markdown.html#54580" class="Function">sound</a> <a id="54655" class="Symbol">(</a><a id="54656" href="Demos.HSP-markdown.html#53456" class="InductiveConstructor">app</a> <a id="54660" href="Demos.HSP-markdown.html#54660" class="Bound">es</a><a id="54662" class="Symbol">)</a> <a id="54664" href="Demos.HSP-markdown.html#54664" class="Bound">Ï</a> <a id="54666" class="Symbol">=</a> <a id="54668" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="54673" class="Symbol">(</a><a id="54674" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="54681" href="Demos.HSP-markdown.html#54331" class="Bound">ğ‘¨</a><a id="54682" class="Symbol">)</a> <a id="54684" class="Symbol">(</a><a id="54685" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="54692" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="54694" class="Symbol">Î»</a> <a id="54696" href="Demos.HSP-markdown.html#54696" class="Bound">i</a> <a id="54698" class="Symbol">â†’</a> <a id="54700" href="Demos.HSP-markdown.html#54580" class="Function">sound</a> <a id="54706" class="Symbol">(</a><a id="54707" href="Demos.HSP-markdown.html#54660" class="Bound">es</a> <a id="54710" href="Demos.HSP-markdown.html#54696" class="Bound">i</a><a id="54711" class="Symbol">)</a> <a id="54713" href="Demos.HSP-markdown.html#54664" class="Bound">Ï</a><a id="54714" class="Symbol">)</a>
 <a id="54717" href="Demos.HSP-markdown.html#54580" class="Function">sound</a> <a id="54723" class="Symbol">(</a><a id="54724" href="Demos.HSP-markdown.html#53540" class="InductiveConstructor">sub</a> <a id="54728" class="Symbol">{</a><a id="54729" class="Argument">p</a> <a id="54731" class="Symbol">=</a> <a id="54733" href="Demos.HSP-markdown.html#54733" class="Bound">p</a><a id="54734" class="Symbol">}{</a><a id="54736" href="Demos.HSP-markdown.html#54736" class="Bound">q</a><a id="54737" class="Symbol">}</a> <a id="54739" href="Demos.HSP-markdown.html#54739" class="Bound">Epq</a> <a id="54743" href="Demos.HSP-markdown.html#54743" class="Bound">Ïƒ</a><a id="54744" class="Symbol">)</a> <a id="54746" href="Demos.HSP-markdown.html#54746" class="Bound">Ï</a> <a id="54748" class="Symbol">=</a>
  <a id="54752" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
   <a id="54761" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="54763" href="Demos.HSP-markdown.html#54733" class="Bound">p</a> <a id="54765" href="Demos.HSP-markdown.html#45097" class="Function Operator">[</a> <a id="54767" href="Demos.HSP-markdown.html#54743" class="Bound">Ïƒ</a> <a id="54769" href="Demos.HSP-markdown.html#45097" class="Function Operator">]</a> <a id="54771" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="54773" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a>         <a id="54785" href="Demos.HSP-markdown.html#54746" class="Bound">Ï</a> <a id="54787" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>   <a id="54792" href="Demos.HSP-markdown.html#47912" class="Function">substitution</a> <a id="54805" href="Demos.HSP-markdown.html#54733" class="Bound">p</a> <a id="54807" href="Demos.HSP-markdown.html#54743" class="Bound">Ïƒ</a> <a id="54809" href="Demos.HSP-markdown.html#54746" class="Bound">Ï</a>    <a id="54814" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
   <a id="54819" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="54821" href="Demos.HSP-markdown.html#54733" class="Bound">p</a>       <a id="54829" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="54831" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="54835" href="Demos.HSP-markdown.html#47616" class="Function Operator">âŸ¦</a> <a id="54837" href="Demos.HSP-markdown.html#54743" class="Bound">Ïƒ</a> <a id="54839" href="Demos.HSP-markdown.html#47616" class="Function Operator">âŸ§s</a>  <a id="54843" href="Demos.HSP-markdown.html#54746" class="Bound">Ï</a> <a id="54845" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>   <a id="54850" href="Demos.HSP-markdown.html#54580" class="Function">sound</a> <a id="54856" href="Demos.HSP-markdown.html#54739" class="Bound">Epq</a> <a id="54860" class="Symbol">(</a><a id="54861" href="Demos.HSP-markdown.html#47616" class="Function Operator">âŸ¦</a> <a id="54863" href="Demos.HSP-markdown.html#54743" class="Bound">Ïƒ</a> <a id="54865" href="Demos.HSP-markdown.html#47616" class="Function Operator">âŸ§s</a> <a id="54868" href="Demos.HSP-markdown.html#54746" class="Bound">Ï</a><a id="54869" class="Symbol">)</a>  <a id="54872" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
   <a id="54877" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="54879" href="Demos.HSP-markdown.html#54736" class="Bound">q</a>       <a id="54887" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="54889" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="54893" href="Demos.HSP-markdown.html#47616" class="Function Operator">âŸ¦</a> <a id="54895" href="Demos.HSP-markdown.html#54743" class="Bound">Ïƒ</a> <a id="54897" href="Demos.HSP-markdown.html#47616" class="Function Operator">âŸ§s</a>  <a id="54901" href="Demos.HSP-markdown.html#54746" class="Bound">Ï</a> <a id="54903" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a>  <a id="54908" href="Demos.HSP-markdown.html#47912" class="Function">substitution</a>  <a id="54922" href="Demos.HSP-markdown.html#54736" class="Bound">q</a> <a id="54924" href="Demos.HSP-markdown.html#54743" class="Bound">Ïƒ</a> <a id="54926" href="Demos.HSP-markdown.html#54746" class="Bound">Ï</a>   <a id="54930" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
   <a id="54935" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="54937" href="Demos.HSP-markdown.html#54736" class="Bound">q</a> <a id="54939" href="Demos.HSP-markdown.html#45097" class="Function Operator">[</a> <a id="54941" href="Demos.HSP-markdown.html#54743" class="Bound">Ïƒ</a> <a id="54943" href="Demos.HSP-markdown.html#45097" class="Function Operator">]</a> <a id="54945" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="54947" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a>         <a id="54959" href="Demos.HSP-markdown.html#54746" class="Bound">Ï</a> <a id="54961" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">âˆ</a>
 <a id="54964" href="Demos.HSP-markdown.html#54580" class="Function">sound</a> <a id="54970" class="Symbol">(</a> <a id="54972" href="Demos.HSP-markdown.html#53623" class="InductiveConstructor">âŠ¢refl</a>   <a id="54980" class="Symbol">{</a><a id="54981" class="Argument">p</a> <a id="54983" class="Symbol">=</a> <a id="54985" href="Demos.HSP-markdown.html#54985" class="Bound">p</a><a id="54986" class="Symbol">}</a>                 <a id="55004" class="Symbol">)</a> <a id="55006" class="Symbol">=</a> <a id="55008" href="Relation.Binary.Structures.html#1568" class="Field">refl</a>   <a id="55015" href="Demos.HSP-markdown.html#47171" class="Function">EqualIsEquiv</a> <a id="55028" class="Symbol">{</a><a id="55029" class="Argument">x</a> <a id="55031" class="Symbol">=</a> <a id="55033" href="Demos.HSP-markdown.html#54985" class="Bound">p</a><a id="55034" class="Symbol">}</a>
 <a id="55037" href="Demos.HSP-markdown.html#54580" class="Function">sound</a> <a id="55043" class="Symbol">(</a> <a id="55045" href="Demos.HSP-markdown.html#53671" class="InductiveConstructor">âŠ¢sym</a>    <a id="55053" class="Symbol">{</a><a id="55054" class="Argument">p</a> <a id="55056" class="Symbol">=</a> <a id="55058" href="Demos.HSP-markdown.html#55058" class="Bound">p</a><a id="55059" class="Symbol">}{</a><a id="55061" href="Demos.HSP-markdown.html#55061" class="Bound">q</a><a id="55062" class="Symbol">}</a>     <a id="55068" href="Demos.HSP-markdown.html#55068" class="Bound">Epq</a>      <a id="55077" class="Symbol">)</a> <a id="55079" class="Symbol">=</a> <a id="55081" href="Relation.Binary.Structures.html#1594" class="Field">sym</a>    <a id="55088" href="Demos.HSP-markdown.html#47171" class="Function">EqualIsEquiv</a> <a id="55101" class="Symbol">{</a><a id="55102" class="Argument">x</a> <a id="55104" class="Symbol">=</a> <a id="55106" href="Demos.HSP-markdown.html#55058" class="Bound">p</a><a id="55107" class="Symbol">}{</a><a id="55109" href="Demos.HSP-markdown.html#55061" class="Bound">q</a><a id="55110" class="Symbol">}</a>     <a id="55116" class="Symbol">(</a><a id="55117" href="Demos.HSP-markdown.html#54580" class="Function">sound</a> <a id="55123" href="Demos.HSP-markdown.html#55068" class="Bound">Epq</a><a id="55126" class="Symbol">)</a>
 <a id="55129" href="Demos.HSP-markdown.html#54580" class="Function">sound</a> <a id="55135" class="Symbol">(</a> <a id="55137" href="Demos.HSP-markdown.html#53735" class="InductiveConstructor">âŠ¢trans</a>  <a id="55145" class="Symbol">{</a><a id="55146" class="Argument">p</a> <a id="55148" class="Symbol">=</a> <a id="55150" href="Demos.HSP-markdown.html#55150" class="Bound">p</a><a id="55151" class="Symbol">}{</a><a id="55153" href="Demos.HSP-markdown.html#55153" class="Bound">q</a><a id="55154" class="Symbol">}{</a><a id="55156" href="Demos.HSP-markdown.html#55156" class="Bound">r</a><a id="55157" class="Symbol">}</a>  <a id="55160" href="Demos.HSP-markdown.html#55160" class="Bound">Epq</a> <a id="55164" href="Demos.HSP-markdown.html#55164" class="Bound">Eqr</a>  <a id="55169" class="Symbol">)</a> <a id="55171" class="Symbol">=</a> <a id="55173" href="Relation.Binary.Structures.html#1620" class="Field">trans</a>  <a id="55180" href="Demos.HSP-markdown.html#47171" class="Function">EqualIsEquiv</a> <a id="55193" class="Symbol">{</a><a id="55194" class="Argument">i</a> <a id="55196" class="Symbol">=</a> <a id="55198" href="Demos.HSP-markdown.html#55150" class="Bound">p</a><a id="55199" class="Symbol">}{</a><a id="55201" href="Demos.HSP-markdown.html#55153" class="Bound">q</a><a id="55202" class="Symbol">}{</a><a id="55204" href="Demos.HSP-markdown.html#55156" class="Bound">r</a><a id="55205" class="Symbol">}</a>  <a id="55208" class="Symbol">(</a><a id="55209" href="Demos.HSP-markdown.html#54580" class="Function">sound</a> <a id="55215" href="Demos.HSP-markdown.html#55160" class="Bound">Epq</a><a id="55218" class="Symbol">)(</a><a id="55220" href="Demos.HSP-markdown.html#54580" class="Function">sound</a> <a id="55226" href="Demos.HSP-markdown.html#55164" class="Bound">Eqr</a><a id="55229" class="Symbol">)</a>
</pre>


### <a id="the-closure-operators-h-s-p-and-v">The Closure Operators H, S, P and V</a>

Fix a signature `ğ‘†`, let `ğ’¦` be a class of `ğ‘†`-algebras, and define

* `H ğ’¦` = algebras isomorphic to a homomorphic image of a member of `ğ’¦`;
* `S ğ’¦` = algebras isomorphic to a subalgebra of a member of `ğ’¦`;
* `P ğ’¦` = algebras isomorphic to a product of members of `ğ’¦`.

A straight-forward verification confirms that `H`, `S`, and `P` are *closure operators* (expansive, monotone, and idempotent).  A class `ğ’¦` of `ğ‘†`-algebras is said to be *closed under the taking of homomorphic images* provided `H ğ’¦ âŠ† ğ’¦`. Similarly, `ğ’¦` is *closed under the taking of subalgebras* (resp., *arbitrary products*) provided `S ğ’¦ âŠ† ğ’¦` (resp., `P ğ’¦ âŠ† ğ’¦`). The operators `H`, `S`, and `P` can be composed with one another repeatedly, forming yet more closure operators.

An algebra is a homomorphic image (resp., subalgebra; resp., product) of every algebra to which it is isomorphic. Thus, the class `H ğ’¦` (resp., `S ğ’¦`; resp., `P ğ’¦`) is closed under isomorphism.

A *variety* is a class of `ğ‘†`-algebras that is closed under the taking of homomorphic images, subalgebras, and arbitrary products.  To represent varieties we define types for the closure operators `H`, `S`, and `P` that are composable.  Separately, we define a type `V` which represents closure under all three operators, `H`, `S`, and `P`.



We now define the type `H` to represent classes of algebras that include all homomorphic images of algebras in the class---i.e., classes that are closed under the taking of homomorphic images---the type `S` to represent classes of algebras that closed under the taking of subalgebras, and the type `P` to represent classes of algebras closed under the taking of arbitrary products.

<pre class="Agda">

<a id="57018" class="Keyword">module</a> <a id="57025" href="Demos.HSP-markdown.html#57025" class="Module">_</a>  <a id="57028" class="Symbol">{</a><a id="57029" href="Demos.HSP-markdown.html#57029" class="Bound">Î±</a> <a id="57031" href="Demos.HSP-markdown.html#57031" class="Bound">Ïáµƒ</a> <a id="57034" href="Demos.HSP-markdown.html#57034" class="Bound">Î²</a> <a id="57036" href="Demos.HSP-markdown.html#57036" class="Bound">Ïáµ‡</a> <a id="57039" class="Symbol">:</a> <a id="57041" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="57046" class="Symbol">}</a> <a id="57048" class="Keyword">where</a>
 <a id="57055" class="Keyword">private</a> <a id="57063" href="Demos.HSP-markdown.html#57063" class="Function">a</a> <a id="57065" class="Symbol">=</a> <a id="57067" href="Demos.HSP-markdown.html#57029" class="Bound">Î±</a> <a id="57069" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57071" href="Demos.HSP-markdown.html#57031" class="Bound">Ïáµƒ</a> <a id="57074" class="Symbol">;</a> <a id="57076" href="Demos.HSP-markdown.html#57076" class="Function">b</a> <a id="57078" class="Symbol">=</a> <a id="57080" href="Demos.HSP-markdown.html#57034" class="Bound">Î²</a> <a id="57082" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57084" href="Demos.HSP-markdown.html#57036" class="Bound">Ïáµ‡</a>

 <a id="57089" href="Demos.HSP-markdown.html#57089" class="Function">H</a> <a id="57091" class="Symbol">:</a> <a id="57093" class="Symbol">âˆ€</a> <a id="57095" href="Demos.HSP-markdown.html#57095" class="Bound">â„“</a> <a id="57097" class="Symbol">â†’</a> <a id="57099" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="57103" class="Symbol">(</a><a id="57104" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="57112" href="Demos.HSP-markdown.html#57029" class="Bound">Î±</a> <a id="57114" href="Demos.HSP-markdown.html#57031" class="Bound">Ïáµƒ</a><a id="57116" class="Symbol">)</a> <a id="57118" class="Symbol">(</a><a id="57119" href="Demos.HSP-markdown.html#57063" class="Function">a</a> <a id="57121" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57123" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="57126" href="Demos.HSP-markdown.html#57095" class="Bound">â„“</a><a id="57127" class="Symbol">)</a> <a id="57129" class="Symbol">â†’</a> <a id="57131" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="57135" class="Symbol">(</a><a id="57136" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="57144" href="Demos.HSP-markdown.html#57034" class="Bound">Î²</a> <a id="57146" href="Demos.HSP-markdown.html#57036" class="Bound">Ïáµ‡</a><a id="57148" class="Symbol">)</a> <a id="57150" class="Symbol">(</a><a id="57151" href="Demos.HSP-markdown.html#57076" class="Function">b</a> <a id="57153" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57155" href="Demos.HSP-markdown.html#37560" class="Function">ov</a><a id="57157" class="Symbol">(</a><a id="57158" href="Demos.HSP-markdown.html#57063" class="Function">a</a> <a id="57160" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57162" href="Demos.HSP-markdown.html#57095" class="Bound">â„“</a><a id="57163" class="Symbol">))</a>
 <a id="57167" href="Demos.HSP-markdown.html#57089" class="Function">H</a> <a id="57169" class="Symbol">_</a> <a id="57171" href="Demos.HSP-markdown.html#57171" class="Bound">ğ’¦</a> <a id="57173" href="Demos.HSP-markdown.html#57173" class="Bound">ğ‘©</a> <a id="57175" class="Symbol">=</a> <a id="57177" href="Data.Product.html#916" class="Function">Î£[</a> <a id="57180" href="Demos.HSP-markdown.html#57180" class="Bound">ğ‘¨</a> <a id="57182" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="57184" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="57192" href="Demos.HSP-markdown.html#57029" class="Bound">Î±</a> <a id="57194" href="Demos.HSP-markdown.html#57031" class="Bound">Ïáµƒ</a> <a id="57197" href="Data.Product.html#916" class="Function">]</a> <a id="57199" href="Demos.HSP-markdown.html#57180" class="Bound">ğ‘¨</a> <a id="57201" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="57203" href="Demos.HSP-markdown.html#57171" class="Bound">ğ’¦</a> <a id="57205" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="57207" href="Demos.HSP-markdown.html#57173" class="Bound">ğ‘©</a> <a id="57209" href="Demos.HSP-markdown.html#37602" class="Function Operator">IsHomImageOf</a> <a id="57222" href="Demos.HSP-markdown.html#57180" class="Bound">ğ‘¨</a>

 <a id="57226" href="Demos.HSP-markdown.html#57226" class="Function">S</a> <a id="57228" class="Symbol">:</a> <a id="57230" class="Symbol">âˆ€</a> <a id="57232" href="Demos.HSP-markdown.html#57232" class="Bound">â„“</a> <a id="57234" class="Symbol">â†’</a> <a id="57236" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="57240" class="Symbol">(</a><a id="57241" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="57249" href="Demos.HSP-markdown.html#57029" class="Bound">Î±</a> <a id="57251" href="Demos.HSP-markdown.html#57031" class="Bound">Ïáµƒ</a><a id="57253" class="Symbol">)</a> <a id="57255" class="Symbol">(</a><a id="57256" href="Demos.HSP-markdown.html#57063" class="Function">a</a> <a id="57258" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57260" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="57263" href="Demos.HSP-markdown.html#57232" class="Bound">â„“</a><a id="57264" class="Symbol">)</a> <a id="57266" class="Symbol">â†’</a> <a id="57268" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="57272" class="Symbol">(</a><a id="57273" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="57281" href="Demos.HSP-markdown.html#57034" class="Bound">Î²</a> <a id="57283" href="Demos.HSP-markdown.html#57036" class="Bound">Ïáµ‡</a><a id="57285" class="Symbol">)</a> <a id="57287" class="Symbol">(</a><a id="57288" href="Demos.HSP-markdown.html#57076" class="Function">b</a> <a id="57290" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57292" href="Demos.HSP-markdown.html#37560" class="Function">ov</a><a id="57294" class="Symbol">(</a><a id="57295" href="Demos.HSP-markdown.html#57063" class="Function">a</a> <a id="57297" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57299" href="Demos.HSP-markdown.html#57232" class="Bound">â„“</a><a id="57300" class="Symbol">))</a>
 <a id="57304" href="Demos.HSP-markdown.html#57226" class="Function">S</a> <a id="57306" class="Symbol">_</a> <a id="57308" href="Demos.HSP-markdown.html#57308" class="Bound">ğ’¦</a> <a id="57310" href="Demos.HSP-markdown.html#57310" class="Bound">ğ‘©</a> <a id="57312" class="Symbol">=</a> <a id="57314" href="Data.Product.html#916" class="Function">Î£[</a> <a id="57317" href="Demos.HSP-markdown.html#57317" class="Bound">ğ‘¨</a> <a id="57319" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="57321" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="57329" href="Demos.HSP-markdown.html#57029" class="Bound">Î±</a> <a id="57331" href="Demos.HSP-markdown.html#57031" class="Bound">Ïáµƒ</a> <a id="57334" href="Data.Product.html#916" class="Function">]</a> <a id="57336" href="Demos.HSP-markdown.html#57317" class="Bound">ğ‘¨</a> <a id="57338" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="57340" href="Demos.HSP-markdown.html#57308" class="Bound">ğ’¦</a> <a id="57342" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="57344" href="Demos.HSP-markdown.html#57310" class="Bound">ğ‘©</a> <a id="57346" href="Demos.HSP-markdown.html#38931" class="Function Operator">â‰¤</a> <a id="57348" href="Demos.HSP-markdown.html#57317" class="Bound">ğ‘¨</a>

 <a id="57352" href="Demos.HSP-markdown.html#57352" class="Function">P</a> <a id="57354" class="Symbol">:</a> <a id="57356" class="Symbol">âˆ€</a> <a id="57358" href="Demos.HSP-markdown.html#57358" class="Bound">â„“</a> <a id="57360" href="Demos.HSP-markdown.html#57360" class="Bound">Î¹</a> <a id="57362" class="Symbol">â†’</a> <a id="57364" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="57368" class="Symbol">(</a><a id="57369" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="57377" href="Demos.HSP-markdown.html#57029" class="Bound">Î±</a> <a id="57379" href="Demos.HSP-markdown.html#57031" class="Bound">Ïáµƒ</a><a id="57381" class="Symbol">)</a> <a id="57383" class="Symbol">(</a><a id="57384" href="Demos.HSP-markdown.html#57063" class="Function">a</a> <a id="57386" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57388" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="57391" href="Demos.HSP-markdown.html#57358" class="Bound">â„“</a><a id="57392" class="Symbol">)</a> <a id="57394" class="Symbol">â†’</a> <a id="57396" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="57400" class="Symbol">(</a><a id="57401" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="57409" href="Demos.HSP-markdown.html#57034" class="Bound">Î²</a> <a id="57411" href="Demos.HSP-markdown.html#57036" class="Bound">Ïáµ‡</a><a id="57413" class="Symbol">)</a> <a id="57415" class="Symbol">(</a><a id="57416" href="Demos.HSP-markdown.html#57076" class="Function">b</a> <a id="57418" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57420" href="Demos.HSP-markdown.html#37560" class="Function">ov</a><a id="57422" class="Symbol">(</a><a id="57423" href="Demos.HSP-markdown.html#57063" class="Function">a</a> <a id="57425" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57427" href="Demos.HSP-markdown.html#57358" class="Bound">â„“</a> <a id="57429" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57431" href="Demos.HSP-markdown.html#57360" class="Bound">Î¹</a><a id="57432" class="Symbol">))</a>
 <a id="57436" href="Demos.HSP-markdown.html#57352" class="Function">P</a> <a id="57438" class="Symbol">_</a> <a id="57440" href="Demos.HSP-markdown.html#57440" class="Bound">Î¹</a> <a id="57442" href="Demos.HSP-markdown.html#57442" class="Bound">ğ’¦</a> <a id="57444" href="Demos.HSP-markdown.html#57444" class="Bound">ğ‘©</a> <a id="57446" class="Symbol">=</a> <a id="57448" href="Data.Product.html#916" class="Function">Î£[</a> <a id="57451" href="Demos.HSP-markdown.html#57451" class="Bound">I</a> <a id="57453" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="57455" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="57460" href="Demos.HSP-markdown.html#57440" class="Bound">Î¹</a> <a id="57462" href="Data.Product.html#916" class="Function">]</a> <a id="57464" class="Symbol">(</a><a id="57465" href="Data.Product.html#916" class="Function">Î£[</a> <a id="57468" href="Demos.HSP-markdown.html#57468" class="Bound">ğ’œ</a> <a id="57470" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="57472" class="Symbol">(</a><a id="57473" href="Demos.HSP-markdown.html#57451" class="Bound">I</a> <a id="57475" class="Symbol">â†’</a> <a id="57477" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="57485" href="Demos.HSP-markdown.html#57029" class="Bound">Î±</a> <a id="57487" href="Demos.HSP-markdown.html#57031" class="Bound">Ïáµƒ</a><a id="57489" class="Symbol">)</a> <a id="57491" href="Data.Product.html#916" class="Function">]</a> <a id="57493" class="Symbol">(âˆ€</a> <a id="57496" href="Demos.HSP-markdown.html#57496" class="Bound">i</a> <a id="57498" class="Symbol">â†’</a> <a id="57500" href="Demos.HSP-markdown.html#57468" class="Bound">ğ’œ</a> <a id="57502" href="Demos.HSP-markdown.html#57496" class="Bound">i</a> <a id="57504" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="57506" href="Demos.HSP-markdown.html#57442" class="Bound">ğ’¦</a><a id="57507" class="Symbol">)</a> <a id="57509" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="57511" class="Symbol">(</a><a id="57512" href="Demos.HSP-markdown.html#57444" class="Bound">ğ‘©</a> <a id="57514" href="Demos.HSP-markdown.html#34715" class="Record Operator">â‰…</a> <a id="57516" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="57518" href="Demos.HSP-markdown.html#57468" class="Bound">ğ’œ</a><a id="57519" class="Symbol">))</a>

</pre>

A class `ğ’¦` of `ğ‘†`-algebras is called a *variety* if it is closed under each of the closure operators `H`, `S`, and `P` defined above. The corresponding closure operator is often denoted `ğ•` or `ğ’±`, but we will denote it by `V`.

<pre class="Agda">

<a id="57779" class="Keyword">module</a> <a id="57786" href="Demos.HSP-markdown.html#57786" class="Module">_</a>  <a id="57789" class="Symbol">{</a><a id="57790" href="Demos.HSP-markdown.html#57790" class="Bound">Î±</a> <a id="57792" href="Demos.HSP-markdown.html#57792" class="Bound">Ïáµƒ</a> <a id="57795" href="Demos.HSP-markdown.html#57795" class="Bound">Î²</a> <a id="57797" href="Demos.HSP-markdown.html#57797" class="Bound">Ïáµ‡</a> <a id="57800" href="Demos.HSP-markdown.html#57800" class="Bound">Î³</a> <a id="57802" href="Demos.HSP-markdown.html#57802" class="Bound">Ïá¶œ</a> <a id="57805" href="Demos.HSP-markdown.html#57805" class="Bound">Î´</a> <a id="57807" href="Demos.HSP-markdown.html#57807" class="Bound">Ïáµˆ</a> <a id="57810" class="Symbol">:</a> <a id="57812" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="57817" class="Symbol">}</a> <a id="57819" class="Keyword">where</a>
 <a id="57826" class="Keyword">private</a> <a id="57834" href="Demos.HSP-markdown.html#57834" class="Function">a</a> <a id="57836" class="Symbol">=</a> <a id="57838" href="Demos.HSP-markdown.html#57790" class="Bound">Î±</a> <a id="57840" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57842" href="Demos.HSP-markdown.html#57792" class="Bound">Ïáµƒ</a> <a id="57845" class="Symbol">;</a> <a id="57847" href="Demos.HSP-markdown.html#57847" class="Function">b</a> <a id="57849" class="Symbol">=</a> <a id="57851" href="Demos.HSP-markdown.html#57795" class="Bound">Î²</a> <a id="57853" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57855" href="Demos.HSP-markdown.html#57797" class="Bound">Ïáµ‡</a> <a id="57858" class="Symbol">;</a> <a id="57860" href="Demos.HSP-markdown.html#57860" class="Function">c</a> <a id="57862" class="Symbol">=</a> <a id="57864" href="Demos.HSP-markdown.html#57800" class="Bound">Î³</a> <a id="57866" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57868" href="Demos.HSP-markdown.html#57802" class="Bound">Ïá¶œ</a> <a id="57871" class="Symbol">;</a> <a id="57873" href="Demos.HSP-markdown.html#57873" class="Function">d</a> <a id="57875" class="Symbol">=</a> <a id="57877" href="Demos.HSP-markdown.html#57805" class="Bound">Î´</a> <a id="57879" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57881" href="Demos.HSP-markdown.html#57807" class="Bound">Ïáµˆ</a>

 <a id="57886" href="Demos.HSP-markdown.html#57886" class="Function">V</a> <a id="57888" class="Symbol">:</a> <a id="57890" class="Symbol">âˆ€</a> <a id="57892" href="Demos.HSP-markdown.html#57892" class="Bound">â„“</a> <a id="57894" href="Demos.HSP-markdown.html#57894" class="Bound">Î¹</a> <a id="57896" class="Symbol">â†’</a> <a id="57898" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="57902" class="Symbol">(</a><a id="57903" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="57911" href="Demos.HSP-markdown.html#57790" class="Bound">Î±</a> <a id="57913" href="Demos.HSP-markdown.html#57792" class="Bound">Ïáµƒ</a><a id="57915" class="Symbol">)</a> <a id="57917" class="Symbol">(</a><a id="57918" href="Demos.HSP-markdown.html#57834" class="Function">a</a> <a id="57920" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57922" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="57925" href="Demos.HSP-markdown.html#57892" class="Bound">â„“</a><a id="57926" class="Symbol">)</a> <a id="57928" class="Symbol">â†’</a>  <a id="57931" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="57935" class="Symbol">(</a><a id="57936" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="57944" href="Demos.HSP-markdown.html#57805" class="Bound">Î´</a> <a id="57946" href="Demos.HSP-markdown.html#57807" class="Bound">Ïáµˆ</a><a id="57948" class="Symbol">)</a> <a id="57950" class="Symbol">(</a><a id="57951" href="Demos.HSP-markdown.html#57873" class="Function">d</a> <a id="57953" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57955" href="Demos.HSP-markdown.html#37560" class="Function">ov</a><a id="57957" class="Symbol">(</a><a id="57958" href="Demos.HSP-markdown.html#57834" class="Function">a</a> <a id="57960" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57962" href="Demos.HSP-markdown.html#57847" class="Function">b</a> <a id="57964" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57966" href="Demos.HSP-markdown.html#57860" class="Function">c</a> <a id="57968" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57970" href="Demos.HSP-markdown.html#57892" class="Bound">â„“</a> <a id="57972" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57974" href="Demos.HSP-markdown.html#57894" class="Bound">Î¹</a><a id="57975" class="Symbol">))</a>
 <a id="57979" href="Demos.HSP-markdown.html#57886" class="Function">V</a> <a id="57981" href="Demos.HSP-markdown.html#57981" class="Bound">â„“</a> <a id="57983" href="Demos.HSP-markdown.html#57983" class="Bound">Î¹</a> <a id="57985" href="Demos.HSP-markdown.html#57985" class="Bound">ğ’¦</a> <a id="57987" class="Symbol">=</a> <a id="57989" href="Demos.HSP-markdown.html#57089" class="Function">H</a><a id="57990" class="Symbol">{</a><a id="57991" href="Demos.HSP-markdown.html#57800" class="Bound">Î³</a><a id="57992" class="Symbol">}{</a><a id="57994" href="Demos.HSP-markdown.html#57802" class="Bound">Ïá¶œ</a><a id="57996" class="Symbol">}{</a><a id="57998" href="Demos.HSP-markdown.html#57805" class="Bound">Î´</a><a id="57999" class="Symbol">}{</a><a id="58001" href="Demos.HSP-markdown.html#57807" class="Bound">Ïáµˆ</a><a id="58003" class="Symbol">}</a> <a id="58005" class="Symbol">(</a><a id="58006" href="Demos.HSP-markdown.html#57834" class="Function">a</a> <a id="58008" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58010" href="Demos.HSP-markdown.html#57847" class="Function">b</a> <a id="58012" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58014" href="Demos.HSP-markdown.html#57981" class="Bound">â„“</a> <a id="58016" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58018" href="Demos.HSP-markdown.html#57983" class="Bound">Î¹</a><a id="58019" class="Symbol">)</a> <a id="58021" class="Symbol">(</a><a id="58022" href="Demos.HSP-markdown.html#57226" class="Function">S</a><a id="58023" class="Symbol">{</a><a id="58024" href="Demos.HSP-markdown.html#57795" class="Bound">Î²</a><a id="58025" class="Symbol">}{</a><a id="58027" href="Demos.HSP-markdown.html#57797" class="Bound">Ïáµ‡</a><a id="58029" class="Symbol">}</a> <a id="58031" class="Symbol">(</a><a id="58032" href="Demos.HSP-markdown.html#57834" class="Function">a</a> <a id="58034" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58036" href="Demos.HSP-markdown.html#57981" class="Bound">â„“</a> <a id="58038" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58040" href="Demos.HSP-markdown.html#57983" class="Bound">Î¹</a><a id="58041" class="Symbol">)</a> <a id="58043" class="Symbol">(</a><a id="58044" href="Demos.HSP-markdown.html#57352" class="Function">P</a> <a id="58046" href="Demos.HSP-markdown.html#57981" class="Bound">â„“</a> <a id="58048" href="Demos.HSP-markdown.html#57983" class="Bound">Î¹</a> <a id="58050" href="Demos.HSP-markdown.html#57985" class="Bound">ğ’¦</a><a id="58051" class="Symbol">))</a>

<a id="58055" class="Keyword">module</a> <a id="58062" href="Demos.HSP-markdown.html#58062" class="Module">_</a> <a id="58064" class="Symbol">{</a><a id="58065" href="Demos.HSP-markdown.html#58065" class="Bound">Î±</a> <a id="58067" href="Demos.HSP-markdown.html#58067" class="Bound">Ïáµƒ</a> <a id="58070" href="Demos.HSP-markdown.html#58070" class="Bound">â„“</a> <a id="58072" class="Symbol">:</a> <a id="58074" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="58079" class="Symbol">}(</a><a id="58081" href="Demos.HSP-markdown.html#58081" class="Bound">ğ’¦</a> <a id="58083" class="Symbol">:</a> <a id="58085" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="58089" class="Symbol">(</a><a id="58090" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="58098" href="Demos.HSP-markdown.html#58065" class="Bound">Î±</a> <a id="58100" href="Demos.HSP-markdown.html#58067" class="Bound">Ïáµƒ</a><a id="58102" class="Symbol">)</a> <a id="58104" class="Symbol">(</a><a id="58105" href="Demos.HSP-markdown.html#58065" class="Bound">Î±</a> <a id="58107" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58109" href="Demos.HSP-markdown.html#58067" class="Bound">Ïáµƒ</a> <a id="58112" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58114" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="58117" href="Demos.HSP-markdown.html#58070" class="Bound">â„“</a><a id="58118" class="Symbol">))</a>
         <a id="58130" class="Symbol">(</a><a id="58131" href="Demos.HSP-markdown.html#58131" class="Bound">ğ‘¨</a> <a id="58133" class="Symbol">:</a> <a id="58135" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="58143" class="Symbol">(</a><a id="58144" href="Demos.HSP-markdown.html#58065" class="Bound">Î±</a> <a id="58146" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58148" href="Demos.HSP-markdown.html#58067" class="Bound">Ïáµƒ</a> <a id="58151" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58153" href="Demos.HSP-markdown.html#58070" class="Bound">â„“</a><a id="58154" class="Symbol">)</a> <a id="58156" class="Symbol">(</a><a id="58157" href="Demos.HSP-markdown.html#58065" class="Bound">Î±</a> <a id="58159" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58161" href="Demos.HSP-markdown.html#58067" class="Bound">Ïáµƒ</a> <a id="58164" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58166" href="Demos.HSP-markdown.html#58070" class="Bound">â„“</a><a id="58167" class="Symbol">))</a> <a id="58170" class="Keyword">where</a>
 <a id="58177" class="Keyword">private</a> <a id="58185" href="Demos.HSP-markdown.html#58185" class="Function">Î¹</a> <a id="58187" class="Symbol">=</a> <a id="58189" href="Demos.HSP-markdown.html#37560" class="Function">ov</a><a id="58191" class="Symbol">(</a><a id="58192" href="Demos.HSP-markdown.html#58065" class="Bound">Î±</a> <a id="58194" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58196" href="Demos.HSP-markdown.html#58067" class="Bound">Ïáµƒ</a> <a id="58199" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58201" href="Demos.HSP-markdown.html#58070" class="Bound">â„“</a><a id="58202" class="Symbol">)</a>

 <a id="58206" href="Demos.HSP-markdown.html#58206" class="Function">V-â‰…-lc</a> <a id="58213" class="Symbol">:</a> <a id="58215" href="Demos.HSP-markdown.html#25128" class="Function">Lift-Alg</a> <a id="58224" href="Demos.HSP-markdown.html#58131" class="Bound">ğ‘¨</a> <a id="58226" href="Demos.HSP-markdown.html#58185" class="Function">Î¹</a> <a id="58228" href="Demos.HSP-markdown.html#58185" class="Function">Î¹</a> <a id="58230" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="58232" href="Demos.HSP-markdown.html#57886" class="Function">V</a><a id="58233" class="Symbol">{</a><a id="58234" class="Argument">Î²</a> <a id="58236" class="Symbol">=</a> <a id="58238" href="Demos.HSP-markdown.html#58185" class="Function">Î¹</a><a id="58239" class="Symbol">}{</a><a id="58241" href="Demos.HSP-markdown.html#58185" class="Function">Î¹</a><a id="58242" class="Symbol">}</a> <a id="58244" href="Demos.HSP-markdown.html#58070" class="Bound">â„“</a> <a id="58246" href="Demos.HSP-markdown.html#58185" class="Function">Î¹</a> <a id="58248" href="Demos.HSP-markdown.html#58081" class="Bound">ğ’¦</a> <a id="58250" class="Symbol">â†’</a> <a id="58252" href="Demos.HSP-markdown.html#58131" class="Bound">ğ‘¨</a> <a id="58254" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="58256" href="Demos.HSP-markdown.html#57886" class="Function">V</a><a id="58257" class="Symbol">{</a><a id="58258" class="Argument">Î³</a> <a id="58260" class="Symbol">=</a> <a id="58262" href="Demos.HSP-markdown.html#58185" class="Function">Î¹</a><a id="58263" class="Symbol">}{</a><a id="58265" href="Demos.HSP-markdown.html#58185" class="Function">Î¹</a><a id="58266" class="Symbol">}</a> <a id="58268" href="Demos.HSP-markdown.html#58070" class="Bound">â„“</a> <a id="58270" href="Demos.HSP-markdown.html#58185" class="Function">Î¹</a> <a id="58272" href="Demos.HSP-markdown.html#58081" class="Bound">ğ’¦</a>
 <a id="58275" href="Demos.HSP-markdown.html#58206" class="Function">V-â‰…-lc</a> <a id="58282" class="Symbol">(</a><a id="58283" href="Demos.HSP-markdown.html#58283" class="Bound">ğ‘¨&#39;</a> <a id="58286" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58288" href="Demos.HSP-markdown.html#58288" class="Bound">spA&#39;</a> <a id="58293" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58295" href="Demos.HSP-markdown.html#58295" class="Bound">lAimgA&#39;</a><a id="58302" class="Symbol">)</a> <a id="58304" class="Symbol">=</a> <a id="58306" href="Demos.HSP-markdown.html#58283" class="Bound">ğ‘¨&#39;</a> <a id="58309" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58311" class="Symbol">(</a><a id="58312" href="Demos.HSP-markdown.html#58288" class="Bound">spA&#39;</a> <a id="58317" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58319" href="Demos.HSP-markdown.html#58337" class="Function">AimgA&#39;</a><a id="58325" class="Symbol">)</a>
  <a id="58329" class="Keyword">where</a>
  <a id="58337" href="Demos.HSP-markdown.html#58337" class="Function">AimgA&#39;</a> <a id="58344" class="Symbol">:</a> <a id="58346" href="Demos.HSP-markdown.html#58131" class="Bound">ğ‘¨</a> <a id="58348" href="Demos.HSP-markdown.html#37602" class="Function Operator">IsHomImageOf</a> <a id="58361" href="Demos.HSP-markdown.html#58283" class="Bound">ğ‘¨&#39;</a>
  <a id="58366" href="Demos.HSP-markdown.html#58337" class="Function">AimgA&#39;</a> <a id="58373" class="Symbol">=</a> <a id="58375" href="Demos.HSP-markdown.html#38270" class="Function">Lift-HomImage-lemma</a> <a id="58395" href="Demos.HSP-markdown.html#58295" class="Bound">lAimgA&#39;</a>
</pre>


#### <a id="idempotence-of-s">Idempotence of S</a>

`S` is a closure operator.  The facts that S is monotone and expansive won't be needed, so we omit the proof of these facts.  However, we will make use of idempotence of `S`, so we prove that property as follows.

<pre class="Agda">

<a id="S-idem"></a><a id="58696" href="Demos.HSP-markdown.html#58696" class="Function">S-idem</a> <a id="58703" class="Symbol">:</a> <a id="58705" class="Symbol">{</a><a id="58706" href="Demos.HSP-markdown.html#58706" class="Bound">ğ’¦</a> <a id="58708" class="Symbol">:</a> <a id="58710" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="58715" class="Symbol">(</a><a id="58716" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="58724" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="58726" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="58728" class="Symbol">)(</a><a id="58730" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="58732" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58734" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="58737" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58739" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="58742" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="58743" class="Symbol">)}</a>
 <a id="58747" class="Symbol">â†’</a>       <a id="58755" href="Demos.HSP-markdown.html#57226" class="Function">S</a><a id="58756" class="Symbol">{</a><a id="58757" class="Argument">Î²</a> <a id="58759" class="Symbol">=</a> <a id="58761" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a><a id="58762" class="Symbol">}{</a><a id="58764" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="58766" class="Symbol">}</a> <a id="58768" class="Symbol">(</a><a id="58769" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="58771" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58773" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a>  <a id="58777" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58779" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="58780" class="Symbol">)</a> <a id="58782" class="Symbol">(</a><a id="58783" href="Demos.HSP-markdown.html#57226" class="Function">S</a><a id="58784" class="Symbol">{</a><a id="58785" class="Argument">Î²</a> <a id="58787" class="Symbol">=</a> <a id="58789" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a><a id="58790" class="Symbol">}{</a><a id="58792" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="58794" class="Symbol">}</a> <a id="58796" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a> <a id="58798" href="Demos.HSP-markdown.html#58706" class="Bound">ğ’¦</a><a id="58799" class="Symbol">)</a> <a id="58801" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="58803" href="Demos.HSP-markdown.html#57226" class="Function">S</a><a id="58804" class="Symbol">{</a><a id="58805" class="Argument">Î²</a> <a id="58807" class="Symbol">=</a> <a id="58809" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a><a id="58810" class="Symbol">}{</a><a id="58812" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="58814" class="Symbol">}</a> <a id="58816" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a> <a id="58818" href="Demos.HSP-markdown.html#58706" class="Bound">ğ’¦</a>

<a id="58821" href="Demos.HSP-markdown.html#58696" class="Function">S-idem</a> <a id="58828" class="Symbol">(</a><a id="58829" href="Demos.HSP-markdown.html#58829" class="Bound">ğ‘¨</a> <a id="58831" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58833" class="Symbol">(</a><a id="58834" href="Demos.HSP-markdown.html#58834" class="Bound">ğ‘©</a> <a id="58836" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58838" href="Demos.HSP-markdown.html#58838" class="Bound">sB</a> <a id="58841" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58843" href="Demos.HSP-markdown.html#58843" class="Bound">Aâ‰¤B</a><a id="58846" class="Symbol">)</a> <a id="58848" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58850" href="Demos.HSP-markdown.html#58850" class="Bound">xâ‰¤A</a><a id="58853" class="Symbol">)</a> <a id="58855" class="Symbol">=</a> <a id="58857" href="Demos.HSP-markdown.html#58834" class="Bound">ğ‘©</a> <a id="58859" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58861" class="Symbol">(</a><a id="58862" href="Demos.HSP-markdown.html#58838" class="Bound">sB</a> <a id="58865" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58867" href="Demos.HSP-markdown.html#39376" class="Function">â‰¤-trans</a> <a id="58875" href="Demos.HSP-markdown.html#58850" class="Bound">xâ‰¤A</a> <a id="58879" href="Demos.HSP-markdown.html#58843" class="Bound">Aâ‰¤B</a><a id="58882" class="Symbol">)</a>
</pre>

#### <a id="algebraic-invariance-of-models">Algebraic invariance of âŠ§</a>

The binary relation `âŠ§` would be practically useless if it were not an *algebraic invariant* (i.e., invariant under isomorphism). Let us now verify that the models relation we defined above has this essential property.

<pre class="Agda">

<a id="59205" class="Keyword">module</a> <a id="59212" href="Demos.HSP-markdown.html#59212" class="Module">_</a> <a id="59214" class="Symbol">{</a><a id="59215" href="Demos.HSP-markdown.html#59215" class="Bound">X</a> <a id="59217" class="Symbol">:</a> <a id="59219" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="59224" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="59225" class="Symbol">}{</a><a id="59227" href="Demos.HSP-markdown.html#59227" class="Bound">ğ‘¨</a> <a id="59229" class="Symbol">:</a> <a id="59231" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="59239" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="59241" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="59243" class="Symbol">}(</a><a id="59245" href="Demos.HSP-markdown.html#59245" class="Bound">ğ‘©</a> <a id="59247" class="Symbol">:</a> <a id="59249" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="59257" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="59259" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="59261" class="Symbol">)(</a><a id="59263" href="Demos.HSP-markdown.html#59263" class="Bound">p</a> <a id="59265" href="Demos.HSP-markdown.html#59265" class="Bound">q</a> <a id="59267" class="Symbol">:</a> <a id="59269" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="59274" href="Demos.HSP-markdown.html#59215" class="Bound">X</a><a id="59275" class="Symbol">)</a> <a id="59277" class="Keyword">where</a>

 <a id="59285" href="Demos.HSP-markdown.html#59285" class="Function">âŠ§-I-invar</a> <a id="59295" class="Symbol">:</a> <a id="59297" href="Demos.HSP-markdown.html#59227" class="Bound">ğ‘¨</a> <a id="59299" href="Demos.HSP-markdown.html#52106" class="Function Operator">âŠ§</a> <a id="59301" class="Symbol">(</a><a id="59302" href="Demos.HSP-markdown.html#59263" class="Bound">p</a> <a id="59304" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="59307" href="Demos.HSP-markdown.html#59265" class="Bound">q</a><a id="59308" class="Symbol">)</a>  <a id="59311" class="Symbol">â†’</a>  <a id="59314" href="Demos.HSP-markdown.html#59227" class="Bound">ğ‘¨</a> <a id="59316" href="Demos.HSP-markdown.html#34715" class="Record Operator">â‰…</a> <a id="59318" href="Demos.HSP-markdown.html#59245" class="Bound">ğ‘©</a>  <a id="59321" class="Symbol">â†’</a>  <a id="59324" href="Demos.HSP-markdown.html#59245" class="Bound">ğ‘©</a> <a id="59326" href="Demos.HSP-markdown.html#52106" class="Function Operator">âŠ§</a> <a id="59328" class="Symbol">(</a><a id="59329" href="Demos.HSP-markdown.html#59263" class="Bound">p</a> <a id="59331" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="59334" href="Demos.HSP-markdown.html#59265" class="Bound">q</a><a id="59335" class="Symbol">)</a>
 <a id="59338" href="Demos.HSP-markdown.html#59285" class="Function">âŠ§-I-invar</a> <a id="59348" href="Demos.HSP-markdown.html#59348" class="Bound">Apq</a> <a id="59352" class="Symbol">(</a><a id="59353" href="Demos.HSP-markdown.html#34773" class="InductiveConstructor">mkiso</a> <a id="59359" href="Demos.HSP-markdown.html#59359" class="Bound">fh</a> <a id="59362" href="Demos.HSP-markdown.html#59362" class="Bound">gh</a> <a id="59365" href="Demos.HSP-markdown.html#59365" class="Bound">fâˆ¼g</a> <a id="59369" href="Demos.HSP-markdown.html#59369" class="Bound">gâˆ¼f</a><a id="59372" class="Symbol">)</a> <a id="59374" href="Demos.HSP-markdown.html#59374" class="Bound">Ï</a> <a id="59376" class="Symbol">=</a>
  <a id="59380" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
   <a id="59389" href="Demos.HSP-markdown.html#59871" class="Function Operator">âŸ¦</a> <a id="59391" href="Demos.HSP-markdown.html#59263" class="Bound">p</a> <a id="59393" href="Demos.HSP-markdown.html#59871" class="Function Operator">âŸ§â‚‚</a> <a id="59396" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="59400" href="Demos.HSP-markdown.html#59374" class="Bound">Ï</a>              <a id="59415" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a>  <a id="59420" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="59425" href="Demos.HSP-markdown.html#59871" class="Function Operator">âŸ¦</a> <a id="59427" href="Demos.HSP-markdown.html#59263" class="Bound">p</a> <a id="59429" href="Demos.HSP-markdown.html#59871" class="Function Operator">âŸ§â‚‚</a> <a id="59432" class="Symbol">(Î»</a> <a id="59435" href="Demos.HSP-markdown.html#59435" class="Bound">x</a> <a id="59437" class="Symbol">â†’</a> <a id="59439" href="Demos.HSP-markdown.html#59365" class="Bound">fâˆ¼g</a> <a id="59443" class="Symbol">(</a><a id="59444" href="Demos.HSP-markdown.html#59374" class="Bound">Ï</a> <a id="59446" href="Demos.HSP-markdown.html#59435" class="Bound">x</a><a id="59447" class="Symbol">))</a>  <a id="59451" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
   <a id="59456" href="Demos.HSP-markdown.html#59871" class="Function Operator">âŸ¦</a> <a id="59458" href="Demos.HSP-markdown.html#59263" class="Bound">p</a> <a id="59460" href="Demos.HSP-markdown.html#59871" class="Function Operator">âŸ§â‚‚</a> <a id="59463" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="59467" class="Symbol">(</a><a id="59468" href="Demos.HSP-markdown.html#59918" class="Function">f</a> <a id="59470" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59472" class="Symbol">(</a><a id="59473" href="Demos.HSP-markdown.html#59937" class="Function">g</a> <a id="59475" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59477" href="Demos.HSP-markdown.html#59374" class="Bound">Ï</a><a id="59478" class="Symbol">))</a>  <a id="59482" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a>  <a id="59487" href="Demos.HSP-markdown.html#48720" class="Function">comm-hom-term</a> <a id="59501" href="Demos.HSP-markdown.html#59359" class="Bound">fh</a> <a id="59504" href="Demos.HSP-markdown.html#59263" class="Bound">p</a> <a id="59506" class="Symbol">(</a><a id="59507" href="Demos.HSP-markdown.html#59937" class="Function">g</a> <a id="59509" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59511" href="Demos.HSP-markdown.html#59374" class="Bound">Ï</a><a id="59512" class="Symbol">)</a>     <a id="59518" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
   <a id="59523" href="Demos.HSP-markdown.html#59918" class="Function">f</a> <a id="59525" class="Symbol">(</a><a id="59526" href="Demos.HSP-markdown.html#59812" class="Function Operator">âŸ¦</a> <a id="59528" href="Demos.HSP-markdown.html#59263" class="Bound">p</a> <a id="59530" href="Demos.HSP-markdown.html#59812" class="Function Operator">âŸ§â‚</a> <a id="59533" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="59537" class="Symbol">(</a><a id="59538" href="Demos.HSP-markdown.html#59937" class="Function">g</a> <a id="59540" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59542" href="Demos.HSP-markdown.html#59374" class="Bound">Ï</a><a id="59543" class="Symbol">))</a>    <a id="59549" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>   <a id="59554" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="59559" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="59561" href="Demos.HSP-markdown.html#59359" class="Bound">fh</a> <a id="59564" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="59566" class="Symbol">(</a><a id="59567" href="Demos.HSP-markdown.html#59348" class="Bound">Apq</a> <a id="59571" class="Symbol">(</a><a id="59572" href="Demos.HSP-markdown.html#59937" class="Function">g</a> <a id="59574" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59576" href="Demos.HSP-markdown.html#59374" class="Bound">Ï</a><a id="59577" class="Symbol">))</a>      <a id="59585" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
   <a id="59590" href="Demos.HSP-markdown.html#59918" class="Function">f</a> <a id="59592" class="Symbol">(</a><a id="59593" href="Demos.HSP-markdown.html#59812" class="Function Operator">âŸ¦</a> <a id="59595" href="Demos.HSP-markdown.html#59265" class="Bound">q</a> <a id="59597" href="Demos.HSP-markdown.html#59812" class="Function Operator">âŸ§â‚</a> <a id="59600" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="59604" class="Symbol">(</a><a id="59605" href="Demos.HSP-markdown.html#59937" class="Function">g</a> <a id="59607" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59609" href="Demos.HSP-markdown.html#59374" class="Bound">Ï</a><a id="59610" class="Symbol">))</a>    <a id="59616" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>   <a id="59621" href="Demos.HSP-markdown.html#48720" class="Function">comm-hom-term</a> <a id="59635" href="Demos.HSP-markdown.html#59359" class="Bound">fh</a> <a id="59638" href="Demos.HSP-markdown.html#59265" class="Bound">q</a> <a id="59640" class="Symbol">(</a><a id="59641" href="Demos.HSP-markdown.html#59937" class="Function">g</a> <a id="59643" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59645" href="Demos.HSP-markdown.html#59374" class="Bound">Ï</a><a id="59646" class="Symbol">)</a>     <a id="59652" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
   <a id="59657" href="Demos.HSP-markdown.html#59871" class="Function Operator">âŸ¦</a> <a id="59659" href="Demos.HSP-markdown.html#59265" class="Bound">q</a> <a id="59661" href="Demos.HSP-markdown.html#59871" class="Function Operator">âŸ§â‚‚</a> <a id="59664" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="59668" class="Symbol">(</a><a id="59669" href="Demos.HSP-markdown.html#59918" class="Function">f</a> <a id="59671" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59673" class="Symbol">(</a><a id="59674" href="Demos.HSP-markdown.html#59937" class="Function">g</a> <a id="59676" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59678" href="Demos.HSP-markdown.html#59374" class="Bound">Ï</a><a id="59679" class="Symbol">))</a>  <a id="59683" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>   <a id="59688" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="59693" href="Demos.HSP-markdown.html#59871" class="Function Operator">âŸ¦</a> <a id="59695" href="Demos.HSP-markdown.html#59265" class="Bound">q</a> <a id="59697" href="Demos.HSP-markdown.html#59871" class="Function Operator">âŸ§â‚‚</a> <a id="59700" class="Symbol">(Î»</a> <a id="59703" href="Demos.HSP-markdown.html#59703" class="Bound">x</a> <a id="59705" class="Symbol">â†’</a> <a id="59707" href="Demos.HSP-markdown.html#59365" class="Bound">fâˆ¼g</a> <a id="59711" class="Symbol">(</a><a id="59712" href="Demos.HSP-markdown.html#59374" class="Bound">Ï</a> <a id="59714" href="Demos.HSP-markdown.html#59703" class="Bound">x</a><a id="59715" class="Symbol">))</a>  <a id="59719" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
   <a id="59724" href="Demos.HSP-markdown.html#59871" class="Function Operator">âŸ¦</a> <a id="59726" href="Demos.HSP-markdown.html#59265" class="Bound">q</a> <a id="59728" href="Demos.HSP-markdown.html#59871" class="Function Operator">âŸ§â‚‚</a> <a id="59731" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="59735" href="Demos.HSP-markdown.html#59374" class="Bound">Ï</a>              <a id="59750" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">âˆ</a>
  <a id="59754" class="Keyword">where</a>
  <a id="59762" class="Keyword">open</a> <a id="59767" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="59779" href="Demos.HSP-markdown.html#59227" class="Bound">ğ‘¨</a>     <a id="59785" class="Keyword">using</a> <a id="59791" class="Symbol">()</a> <a id="59794" class="Keyword">renaming</a> <a id="59803" class="Symbol">(</a> <a id="59805" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="59809" class="Symbol">to</a> <a id="59812" class="Function Operator">âŸ¦_âŸ§â‚</a> <a id="59817" class="Symbol">)</a>
  <a id="59821" class="Keyword">open</a> <a id="59826" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="59838" href="Demos.HSP-markdown.html#59245" class="Bound">ğ‘©</a>     <a id="59844" class="Keyword">using</a> <a id="59850" class="Symbol">()</a> <a id="59853" class="Keyword">renaming</a> <a id="59862" class="Symbol">(</a> <a id="59864" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="59868" class="Symbol">to</a> <a id="59871" class="Function Operator">âŸ¦_âŸ§â‚‚</a> <a id="59876" class="Symbol">)</a>
  <a id="59880" class="Keyword">open</a> <a id="59885" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="59901" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="59904" href="Demos.HSP-markdown.html#59245" class="Bound">ğ‘©</a> <a id="59906" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>
  <a id="59910" class="Keyword">private</a> <a id="59918" href="Demos.HSP-markdown.html#59918" class="Function">f</a> <a id="59920" class="Symbol">=</a> <a id="59922" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="59928" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="59930" href="Demos.HSP-markdown.html#59359" class="Bound">fh</a> <a id="59933" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="59935" class="Symbol">;</a> <a id="59937" href="Demos.HSP-markdown.html#59937" class="Function">g</a> <a id="59939" class="Symbol">=</a> <a id="59941" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="59947" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="59949" href="Demos.HSP-markdown.html#59362" class="Bound">gh</a> <a id="59952" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
</pre>

#### <a id="subalgebraic-invariance-of-models">Subalgebraic invariance of âŠ§</a>
Identities modeled by an algebra `ğ‘¨` are also modeled by every subalgebra of `ğ‘¨`, which fact can be formalized as follows.

<pre class="Agda">

<a id="60184" class="Keyword">module</a> <a id="60191" href="Demos.HSP-markdown.html#60191" class="Module">_</a> <a id="60193" class="Symbol">{</a><a id="60194" href="Demos.HSP-markdown.html#60194" class="Bound">X</a> <a id="60196" class="Symbol">:</a> <a id="60198" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="60203" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="60204" class="Symbol">}{</a><a id="60206" href="Demos.HSP-markdown.html#60206" class="Bound">ğ‘¨</a> <a id="60208" class="Symbol">:</a> <a id="60210" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="60218" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="60220" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="60222" class="Symbol">}{</a><a id="60224" href="Demos.HSP-markdown.html#60224" class="Bound">ğ‘©</a> <a id="60226" class="Symbol">:</a> <a id="60228" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="60236" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="60238" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="60240" class="Symbol">}{</a><a id="60242" href="Demos.HSP-markdown.html#60242" class="Bound">p</a> <a id="60244" href="Demos.HSP-markdown.html#60244" class="Bound">q</a> <a id="60246" class="Symbol">:</a> <a id="60248" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="60253" href="Demos.HSP-markdown.html#60194" class="Bound">X</a><a id="60254" class="Symbol">}</a> <a id="60256" class="Keyword">where</a>

 <a id="60264" href="Demos.HSP-markdown.html#60264" class="Function">âŠ§-S-invar</a> <a id="60274" class="Symbol">:</a> <a id="60276" href="Demos.HSP-markdown.html#60206" class="Bound">ğ‘¨</a> <a id="60278" href="Demos.HSP-markdown.html#52106" class="Function Operator">âŠ§</a> <a id="60280" class="Symbol">(</a><a id="60281" href="Demos.HSP-markdown.html#60242" class="Bound">p</a> <a id="60283" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="60286" href="Demos.HSP-markdown.html#60244" class="Bound">q</a><a id="60287" class="Symbol">)</a> <a id="60289" class="Symbol">â†’</a>  <a id="60292" href="Demos.HSP-markdown.html#60224" class="Bound">ğ‘©</a> <a id="60294" href="Demos.HSP-markdown.html#38931" class="Function Operator">â‰¤</a> <a id="60296" href="Demos.HSP-markdown.html#60206" class="Bound">ğ‘¨</a>  <a id="60299" class="Symbol">â†’</a>  <a id="60302" href="Demos.HSP-markdown.html#60224" class="Bound">ğ‘©</a> <a id="60304" href="Demos.HSP-markdown.html#52106" class="Function Operator">âŠ§</a> <a id="60306" class="Symbol">(</a><a id="60307" href="Demos.HSP-markdown.html#60242" class="Bound">p</a> <a id="60309" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="60312" href="Demos.HSP-markdown.html#60244" class="Bound">q</a><a id="60313" class="Symbol">)</a>
 <a id="60316" href="Demos.HSP-markdown.html#60264" class="Function">âŠ§-S-invar</a> <a id="60326" href="Demos.HSP-markdown.html#60326" class="Bound">Apq</a> <a id="60330" href="Demos.HSP-markdown.html#60330" class="Bound">Bâ‰¤A</a> <a id="60334" href="Demos.HSP-markdown.html#60334" class="Bound">b</a> <a id="60336" class="Symbol">=</a> <a id="60338" href="Demos.HSP-markdown.html#60874" class="Function">goal</a>
  <a id="60345" class="Keyword">where</a>
  <a id="60353" class="Keyword">open</a> <a id="60358" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="60365" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="60368" href="Demos.HSP-markdown.html#60206" class="Bound">ğ‘¨</a> <a id="60370" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="60372" class="Keyword">using</a> <a id="60378" class="Symbol">(</a> <a id="60380" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="60384" class="Symbol">)</a>
  <a id="60388" class="Keyword">open</a> <a id="60393" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="60405" href="Demos.HSP-markdown.html#60206" class="Bound">ğ‘¨</a> <a id="60407" class="Keyword">using</a> <a id="60413" class="Symbol">()</a> <a id="60416" class="Keyword">renaming</a> <a id="60425" class="Symbol">(</a> <a id="60427" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="60431" class="Symbol">to</a> <a id="60434" class="Function Operator">âŸ¦_âŸ§áµƒ</a> <a id="60439" class="Symbol">)</a>
  <a id="60443" class="Keyword">open</a> <a id="60448" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="60455" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="60458" href="Demos.HSP-markdown.html#60224" class="Bound">ğ‘©</a> <a id="60460" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="60462" class="Keyword">using</a> <a id="60468" class="Symbol">()</a> <a id="60471" class="Keyword">renaming</a> <a id="60480" class="Symbol">(</a> <a id="60482" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="60486" class="Symbol">to</a> <a id="60489" class="Field Operator">_â‰ˆáµ‡_</a> <a id="60494" class="Symbol">)</a>
  <a id="60498" class="Keyword">open</a> <a id="60503" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="60515" href="Demos.HSP-markdown.html#60224" class="Bound">ğ‘©</a> <a id="60517" class="Keyword">using</a> <a id="60523" class="Symbol">(</a> <a id="60525" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="60529" class="Symbol">)</a>
  <a id="60533" class="Keyword">open</a> <a id="60538" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="60554" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="60557" href="Demos.HSP-markdown.html#60206" class="Bound">ğ‘¨</a> <a id="60559" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>
  <a id="60563" href="Demos.HSP-markdown.html#60563" class="Function">hh</a> <a id="60566" class="Symbol">:</a> <a id="60568" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="60572" href="Demos.HSP-markdown.html#60224" class="Bound">ğ‘©</a> <a id="60574" href="Demos.HSP-markdown.html#60206" class="Bound">ğ‘¨</a>
  <a id="60578" href="Demos.HSP-markdown.html#60563" class="Function">hh</a> <a id="60581" class="Symbol">=</a> <a id="60583" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="60585" href="Demos.HSP-markdown.html#60330" class="Bound">Bâ‰¤A</a> <a id="60589" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="60593" href="Demos.HSP-markdown.html#60593" class="Function">h</a> <a id="60595" class="Symbol">=</a> <a id="60597" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="60603" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="60605" href="Demos.HSP-markdown.html#60563" class="Function">hh</a> <a id="60608" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="60612" href="Demos.HSP-markdown.html#60612" class="Function">Î¾</a> <a id="60614" class="Symbol">:</a> <a id="60616" class="Symbol">âˆ€</a> <a id="60618" href="Demos.HSP-markdown.html#60618" class="Bound">b</a> <a id="60620" class="Symbol">â†’</a> <a id="60622" href="Demos.HSP-markdown.html#60593" class="Function">h</a> <a id="60624" class="Symbol">(</a><a id="60625" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="60627" href="Demos.HSP-markdown.html#60242" class="Bound">p</a> <a id="60629" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="60631" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="60635" href="Demos.HSP-markdown.html#60618" class="Bound">b</a><a id="60636" class="Symbol">)</a> <a id="60638" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="60640" href="Demos.HSP-markdown.html#60593" class="Function">h</a> <a id="60642" class="Symbol">(</a><a id="60643" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="60645" href="Demos.HSP-markdown.html#60244" class="Bound">q</a> <a id="60647" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="60649" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="60653" href="Demos.HSP-markdown.html#60618" class="Bound">b</a><a id="60654" class="Symbol">)</a>
  <a id="60658" href="Demos.HSP-markdown.html#60612" class="Function">Î¾</a> <a id="60660" href="Demos.HSP-markdown.html#60660" class="Bound">b</a> <a id="60662" class="Symbol">=</a> <a id="60664" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
         <a id="60679" href="Demos.HSP-markdown.html#60593" class="Function">h</a> <a id="60681" class="Symbol">(</a><a id="60682" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="60684" href="Demos.HSP-markdown.html#60242" class="Bound">p</a> <a id="60686" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="60688" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="60692" href="Demos.HSP-markdown.html#60660" class="Bound">b</a><a id="60693" class="Symbol">)</a>     <a id="60699" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a> <a id="60702" href="Demos.HSP-markdown.html#48720" class="Function">comm-hom-term</a> <a id="60716" href="Demos.HSP-markdown.html#60563" class="Function">hh</a> <a id="60719" href="Demos.HSP-markdown.html#60242" class="Bound">p</a> <a id="60721" href="Demos.HSP-markdown.html#60660" class="Bound">b</a>   <a id="60725" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
         <a id="60736" href="Demos.HSP-markdown.html#60434" class="Function Operator">âŸ¦</a> <a id="60738" href="Demos.HSP-markdown.html#60242" class="Bound">p</a> <a id="60740" href="Demos.HSP-markdown.html#60434" class="Function Operator">âŸ§áµƒ</a> <a id="60743" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="60747" class="Symbol">(</a><a id="60748" href="Demos.HSP-markdown.html#60593" class="Function">h</a> <a id="60750" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="60752" href="Demos.HSP-markdown.html#60660" class="Bound">b</a><a id="60753" class="Symbol">)</a>  <a id="60756" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a> <a id="60759" href="Demos.HSP-markdown.html#60326" class="Bound">Apq</a> <a id="60763" class="Symbol">(</a><a id="60764" href="Demos.HSP-markdown.html#60593" class="Function">h</a> <a id="60766" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="60768" href="Demos.HSP-markdown.html#60660" class="Bound">b</a><a id="60769" class="Symbol">)</a>            <a id="60782" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
         <a id="60793" href="Demos.HSP-markdown.html#60434" class="Function Operator">âŸ¦</a> <a id="60795" href="Demos.HSP-markdown.html#60244" class="Bound">q</a> <a id="60797" href="Demos.HSP-markdown.html#60434" class="Function Operator">âŸ§áµƒ</a> <a id="60800" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="60804" class="Symbol">(</a><a id="60805" href="Demos.HSP-markdown.html#60593" class="Function">h</a> <a id="60807" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="60809" href="Demos.HSP-markdown.html#60660" class="Bound">b</a><a id="60810" class="Symbol">)</a>  <a id="60813" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a> <a id="60817" href="Demos.HSP-markdown.html#48720" class="Function">comm-hom-term</a> <a id="60831" href="Demos.HSP-markdown.html#60563" class="Function">hh</a> <a id="60834" href="Demos.HSP-markdown.html#60244" class="Bound">q</a> <a id="60836" href="Demos.HSP-markdown.html#60660" class="Bound">b</a>  <a id="60839" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
         <a id="60850" href="Demos.HSP-markdown.html#60593" class="Function">h</a> <a id="60852" class="Symbol">(</a><a id="60853" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="60855" href="Demos.HSP-markdown.html#60244" class="Bound">q</a> <a id="60857" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="60859" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="60863" href="Demos.HSP-markdown.html#60660" class="Bound">b</a><a id="60864" class="Symbol">)</a>     <a id="60870" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">âˆ</a>
  <a id="60874" href="Demos.HSP-markdown.html#60874" class="Function">goal</a> <a id="60879" class="Symbol">:</a> <a id="60881" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="60883" href="Demos.HSP-markdown.html#60242" class="Bound">p</a> <a id="60885" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="60887" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="60891" href="Demos.HSP-markdown.html#60334" class="Bound">b</a> <a id="60893" href="Demos.HSP-markdown.html#60489" class="Function Operator">â‰ˆáµ‡</a> <a id="60896" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="60898" href="Demos.HSP-markdown.html#60244" class="Bound">q</a> <a id="60900" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="60902" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="60906" href="Demos.HSP-markdown.html#60334" class="Bound">b</a>
  <a id="60910" href="Demos.HSP-markdown.html#60874" class="Function">goal</a> <a id="60915" class="Symbol">=</a> <a id="60917" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="60919" href="Demos.HSP-markdown.html#60330" class="Bound">Bâ‰¤A</a> <a id="60923" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="60925" class="Symbol">(</a><a id="60926" href="Demos.HSP-markdown.html#60612" class="Function">Î¾</a> <a id="60928" href="Demos.HSP-markdown.html#60334" class="Bound">b</a><a id="60929" class="Symbol">)</a>
</pre>

#### <a id="product-invariance-of-models">Product invariance of âŠ§</a>
An identity satisfied by all algebras in an indexed collection is also satisfied by the product of algebras in that collection.

 <pre class="Agda">


<a id="61158" class="Keyword">module</a> <a id="61165" href="Demos.HSP-markdown.html#61165" class="Module">_</a> <a id="61167" class="Symbol">{</a><a id="61168" href="Demos.HSP-markdown.html#61168" class="Bound">X</a> <a id="61170" class="Symbol">:</a> <a id="61172" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="61177" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="61178" class="Symbol">}{</a><a id="61180" href="Demos.HSP-markdown.html#61180" class="Bound">I</a> <a id="61182" class="Symbol">:</a> <a id="61184" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="61189" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="61190" class="Symbol">}(</a><a id="61192" href="Demos.HSP-markdown.html#61192" class="Bound">ğ’œ</a> <a id="61194" class="Symbol">:</a> <a id="61196" href="Demos.HSP-markdown.html#61180" class="Bound">I</a> <a id="61198" class="Symbol">â†’</a> <a id="61200" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="61208" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="61210" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="61212" class="Symbol">){</a><a id="61214" href="Demos.HSP-markdown.html#61214" class="Bound">p</a> <a id="61216" href="Demos.HSP-markdown.html#61216" class="Bound">q</a> <a id="61218" class="Symbol">:</a> <a id="61220" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="61225" href="Demos.HSP-markdown.html#61168" class="Bound">X</a><a id="61226" class="Symbol">}</a> <a id="61228" class="Keyword">where</a>

 <a id="61236" href="Demos.HSP-markdown.html#61236" class="Function">âŠ§-P-invar</a> <a id="61246" class="Symbol">:</a> <a id="61248" class="Symbol">(âˆ€</a> <a id="61251" href="Demos.HSP-markdown.html#61251" class="Bound">i</a> <a id="61253" class="Symbol">â†’</a> <a id="61255" href="Demos.HSP-markdown.html#61192" class="Bound">ğ’œ</a> <a id="61257" href="Demos.HSP-markdown.html#61251" class="Bound">i</a> <a id="61259" href="Demos.HSP-markdown.html#52106" class="Function Operator">âŠ§</a> <a id="61261" class="Symbol">(</a><a id="61262" href="Demos.HSP-markdown.html#61214" class="Bound">p</a> <a id="61264" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="61267" href="Demos.HSP-markdown.html#61216" class="Bound">q</a><a id="61268" class="Symbol">))</a> <a id="61271" class="Symbol">â†’</a> <a id="61273" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="61275" href="Demos.HSP-markdown.html#61192" class="Bound">ğ’œ</a> <a id="61277" href="Demos.HSP-markdown.html#52106" class="Function Operator">âŠ§</a> <a id="61279" class="Symbol">(</a><a id="61280" href="Demos.HSP-markdown.html#61214" class="Bound">p</a> <a id="61282" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="61285" href="Demos.HSP-markdown.html#61216" class="Bound">q</a><a id="61286" class="Symbol">)</a>
 <a id="61289" href="Demos.HSP-markdown.html#61236" class="Function">âŠ§-P-invar</a> <a id="61299" href="Demos.HSP-markdown.html#61299" class="Bound">ğ’œpq</a> <a id="61303" href="Demos.HSP-markdown.html#61303" class="Bound">a</a> <a id="61305" class="Symbol">=</a> <a id="61307" href="Demos.HSP-markdown.html#61605" class="Function">goal</a>
  <a id="61314" class="Keyword">where</a>
  <a id="61322" class="Keyword">open</a> <a id="61327" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="61339" class="Symbol">(</a><a id="61340" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="61342" href="Demos.HSP-markdown.html#61192" class="Bound">ğ’œ</a><a id="61343" class="Symbol">)</a> <a id="61345" class="Keyword">using</a> <a id="61351" class="Symbol">()</a> <a id="61354" class="Keyword">renaming</a> <a id="61363" class="Symbol">(</a> <a id="61365" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="61369" class="Symbol">to</a> <a id="61372" class="Function Operator">âŸ¦_âŸ§â‚</a> <a id="61377" class="Symbol">)</a>
  <a id="61381" class="Keyword">open</a> <a id="61386" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="61398" class="Keyword">using</a> <a id="61404" class="Symbol">(</a> <a id="61406" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="61410" class="Symbol">)</a>
  <a id="61414" class="Keyword">open</a> <a id="61419" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="61426" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="61429" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="61431" href="Demos.HSP-markdown.html#61192" class="Bound">ğ’œ</a> <a id="61433" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="61435" class="Keyword">using</a> <a id="61441" class="Symbol">(</a> <a id="61443" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="61447" class="Symbol">)</a>
  <a id="61451" class="Keyword">open</a> <a id="61456" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="61472" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="61475" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="61477" href="Demos.HSP-markdown.html#61192" class="Bound">ğ’œ</a> <a id="61479" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>
  <a id="61483" href="Demos.HSP-markdown.html#61483" class="Function">Î¾</a> <a id="61485" class="Symbol">:</a> <a id="61487" class="Symbol">(Î»</a> <a id="61490" href="Demos.HSP-markdown.html#61490" class="Bound">i</a> <a id="61492" class="Symbol">â†’</a> <a id="61494" class="Symbol">(</a><a id="61495" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="61497" href="Demos.HSP-markdown.html#61192" class="Bound">ğ’œ</a> <a id="61499" href="Demos.HSP-markdown.html#61490" class="Bound">i</a> <a id="61501" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="61503" href="Demos.HSP-markdown.html#61214" class="Bound">p</a><a id="61504" class="Symbol">)</a> <a id="61506" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="61510" class="Symbol">(Î»</a> <a id="61513" href="Demos.HSP-markdown.html#61513" class="Bound">x</a> <a id="61515" class="Symbol">â†’</a> <a id="61517" class="Symbol">(</a><a id="61518" href="Demos.HSP-markdown.html#61303" class="Bound">a</a> <a id="61520" href="Demos.HSP-markdown.html#61513" class="Bound">x</a><a id="61521" class="Symbol">)</a> <a id="61523" href="Demos.HSP-markdown.html#61490" class="Bound">i</a><a id="61524" class="Symbol">))</a> <a id="61527" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="61529" class="Symbol">(Î»</a> <a id="61532" href="Demos.HSP-markdown.html#61532" class="Bound">i</a> <a id="61534" class="Symbol">â†’</a> <a id="61536" class="Symbol">(</a><a id="61537" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="61539" href="Demos.HSP-markdown.html#61192" class="Bound">ğ’œ</a> <a id="61541" href="Demos.HSP-markdown.html#61532" class="Bound">i</a> <a id="61543" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="61545" href="Demos.HSP-markdown.html#61216" class="Bound">q</a><a id="61546" class="Symbol">)</a> <a id="61548" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="61552" class="Symbol">(Î»</a> <a id="61555" href="Demos.HSP-markdown.html#61555" class="Bound">x</a> <a id="61557" class="Symbol">â†’</a> <a id="61559" class="Symbol">(</a><a id="61560" href="Demos.HSP-markdown.html#61303" class="Bound">a</a> <a id="61562" href="Demos.HSP-markdown.html#61555" class="Bound">x</a><a id="61563" class="Symbol">)</a> <a id="61565" href="Demos.HSP-markdown.html#61532" class="Bound">i</a><a id="61566" class="Symbol">))</a>
  <a id="61571" href="Demos.HSP-markdown.html#61483" class="Function">Î¾</a> <a id="61573" class="Symbol">=</a> <a id="61575" class="Symbol">Î»</a> <a id="61577" href="Demos.HSP-markdown.html#61577" class="Bound">i</a> <a id="61579" class="Symbol">â†’</a> <a id="61581" href="Demos.HSP-markdown.html#61299" class="Bound">ğ’œpq</a> <a id="61585" href="Demos.HSP-markdown.html#61577" class="Bound">i</a> <a id="61587" class="Symbol">(Î»</a> <a id="61590" href="Demos.HSP-markdown.html#61590" class="Bound">x</a> <a id="61592" class="Symbol">â†’</a> <a id="61594" class="Symbol">(</a><a id="61595" href="Demos.HSP-markdown.html#61303" class="Bound">a</a> <a id="61597" href="Demos.HSP-markdown.html#61590" class="Bound">x</a><a id="61598" class="Symbol">)</a> <a id="61600" href="Demos.HSP-markdown.html#61577" class="Bound">i</a><a id="61601" class="Symbol">)</a>
  <a id="61605" href="Demos.HSP-markdown.html#61605" class="Function">goal</a> <a id="61610" class="Symbol">:</a> <a id="61612" href="Demos.HSP-markdown.html#61372" class="Function Operator">âŸ¦</a> <a id="61614" href="Demos.HSP-markdown.html#61214" class="Bound">p</a> <a id="61616" href="Demos.HSP-markdown.html#61372" class="Function Operator">âŸ§â‚</a> <a id="61619" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="61623" href="Demos.HSP-markdown.html#61303" class="Bound">a</a> <a id="61625" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="61627" href="Demos.HSP-markdown.html#61372" class="Function Operator">âŸ¦</a> <a id="61629" href="Demos.HSP-markdown.html#61216" class="Bound">q</a> <a id="61631" href="Demos.HSP-markdown.html#61372" class="Function Operator">âŸ§â‚</a> <a id="61634" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="61638" href="Demos.HSP-markdown.html#61303" class="Bound">a</a>
  <a id="61642" href="Demos.HSP-markdown.html#61605" class="Function">goal</a> <a id="61647" class="Symbol">=</a> <a id="61649" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
          <a id="61665" href="Demos.HSP-markdown.html#61372" class="Function Operator">âŸ¦</a> <a id="61667" href="Demos.HSP-markdown.html#61214" class="Bound">p</a> <a id="61669" href="Demos.HSP-markdown.html#61372" class="Function Operator">âŸ§â‚</a> <a id="61672" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="61676" href="Demos.HSP-markdown.html#61303" class="Bound">a</a>                             <a id="61706" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a> <a id="61709" href="Demos.HSP-markdown.html#49680" class="Function">interp-prod</a> <a id="61721" href="Demos.HSP-markdown.html#61192" class="Bound">ğ’œ</a> <a id="61723" href="Demos.HSP-markdown.html#61214" class="Bound">p</a> <a id="61725" href="Demos.HSP-markdown.html#61303" class="Bound">a</a>   <a id="61729" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
          <a id="61741" class="Symbol">(Î»</a> <a id="61744" href="Demos.HSP-markdown.html#61744" class="Bound">i</a> <a id="61746" class="Symbol">â†’</a> <a id="61748" class="Symbol">(</a><a id="61749" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="61751" href="Demos.HSP-markdown.html#61192" class="Bound">ğ’œ</a> <a id="61753" href="Demos.HSP-markdown.html#61744" class="Bound">i</a> <a id="61755" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="61757" href="Demos.HSP-markdown.html#61214" class="Bound">p</a><a id="61758" class="Symbol">)</a> <a id="61760" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="61764" class="Symbol">(Î»</a> <a id="61767" href="Demos.HSP-markdown.html#61767" class="Bound">x</a> <a id="61769" class="Symbol">â†’</a> <a id="61771" class="Symbol">(</a><a id="61772" href="Demos.HSP-markdown.html#61303" class="Bound">a</a> <a id="61774" href="Demos.HSP-markdown.html#61767" class="Bound">x</a><a id="61775" class="Symbol">)</a> <a id="61777" href="Demos.HSP-markdown.html#61744" class="Bound">i</a><a id="61778" class="Symbol">))</a>  <a id="61782" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a> <a id="61785" href="Demos.HSP-markdown.html#61483" class="Function">Î¾</a>                   <a id="61805" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
          <a id="61817" class="Symbol">(Î»</a> <a id="61820" href="Demos.HSP-markdown.html#61820" class="Bound">i</a> <a id="61822" class="Symbol">â†’</a> <a id="61824" class="Symbol">(</a><a id="61825" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="61827" href="Demos.HSP-markdown.html#61192" class="Bound">ğ’œ</a> <a id="61829" href="Demos.HSP-markdown.html#61820" class="Bound">i</a> <a id="61831" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="61833" href="Demos.HSP-markdown.html#61216" class="Bound">q</a><a id="61834" class="Symbol">)</a> <a id="61836" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="61840" class="Symbol">(Î»</a> <a id="61843" href="Demos.HSP-markdown.html#61843" class="Bound">x</a> <a id="61845" class="Symbol">â†’</a> <a id="61847" class="Symbol">(</a><a id="61848" href="Demos.HSP-markdown.html#61303" class="Bound">a</a> <a id="61850" href="Demos.HSP-markdown.html#61843" class="Bound">x</a><a id="61851" class="Symbol">)</a> <a id="61853" href="Demos.HSP-markdown.html#61820" class="Bound">i</a><a id="61854" class="Symbol">))</a>  <a id="61858" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a> <a id="61862" href="Demos.HSP-markdown.html#49680" class="Function">interp-prod</a> <a id="61874" href="Demos.HSP-markdown.html#61192" class="Bound">ğ’œ</a> <a id="61876" href="Demos.HSP-markdown.html#61216" class="Bound">q</a> <a id="61878" href="Demos.HSP-markdown.html#61303" class="Bound">a</a>  <a id="61881" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
          <a id="61893" href="Demos.HSP-markdown.html#61372" class="Function Operator">âŸ¦</a> <a id="61895" href="Demos.HSP-markdown.html#61216" class="Bound">q</a> <a id="61897" href="Demos.HSP-markdown.html#61372" class="Function Operator">âŸ§â‚</a> <a id="61900" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="61904" href="Demos.HSP-markdown.html#61303" class="Bound">a</a>                             <a id="61934" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">âˆ</a>
</pre>


#### <a id="PS-subset-SP">PS âŠ† SP</a>

Another important fact we will need about the operators `S` and `P` is that a product of subalgebras of algebras in a class `ğ’¦` is a subalgebra of a product of algebras in `ğ’¦`. We denote this inclusion by `PSâŠ†SP`, which we state and prove as follows.

<pre class="Agda">

<a id="62254" class="Keyword">module</a> <a id="62261" href="Demos.HSP-markdown.html#62261" class="Module">_</a>  <a id="62264" class="Symbol">{</a><a id="62265" href="Demos.HSP-markdown.html#62265" class="Bound">ğ’¦</a> <a id="62267" class="Symbol">:</a> <a id="62269" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="62273" class="Symbol">(</a><a id="62274" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="62282" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="62284" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="62286" class="Symbol">)</a> <a id="62288" class="Symbol">(</a><a id="62289" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="62291" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="62293" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="62296" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="62298" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="62301" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="62302" class="Symbol">)}</a> <a id="62305" class="Keyword">where</a>
 <a id="62312" class="Keyword">private</a>
  <a id="62322" href="Demos.HSP-markdown.html#62322" class="Function">a</a> <a id="62324" class="Symbol">=</a> <a id="62326" href="Demos.HSP-markdown.html#62282" class="Bound">Î±</a> <a id="62328" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="62330" href="Demos.HSP-markdown.html#62284" class="Bound">Ïáµƒ</a>
  <a id="62335" href="Demos.HSP-markdown.html#62335" class="Function">oaâ„“</a> <a id="62339" class="Symbol">=</a> <a id="62341" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="62344" class="Symbol">(</a><a id="62345" href="Demos.HSP-markdown.html#62322" class="Function">a</a> <a id="62347" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="62349" href="Demos.HSP-markdown.html#62301" class="Bound">â„“</a><a id="62350" class="Symbol">)</a>

 <a id="62354" href="Demos.HSP-markdown.html#62354" class="Function">PSâŠ†SP</a> <a id="62360" class="Symbol">:</a> <a id="62362" href="Demos.HSP-markdown.html#57352" class="Function">P</a> <a id="62364" class="Symbol">(</a><a id="62365" href="Demos.HSP-markdown.html#62322" class="Function">a</a> <a id="62367" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="62369" href="Demos.HSP-markdown.html#62301" class="Bound">â„“</a><a id="62370" class="Symbol">)</a> <a id="62372" href="Demos.HSP-markdown.html#62335" class="Function">oaâ„“</a> <a id="62376" class="Symbol">(</a><a id="62377" href="Demos.HSP-markdown.html#57226" class="Function">S</a><a id="62378" class="Symbol">{</a><a id="62379" class="Argument">Î²</a> <a id="62381" class="Symbol">=</a> <a id="62383" href="Demos.HSP-markdown.html#62282" class="Bound">Î±</a><a id="62384" class="Symbol">}{</a><a id="62386" href="Demos.HSP-markdown.html#62284" class="Bound">Ïáµƒ</a><a id="62388" class="Symbol">}</a> <a id="62390" href="Demos.HSP-markdown.html#62301" class="Bound">â„“</a> <a id="62392" href="Demos.HSP-markdown.html#62265" class="Bound">ğ’¦</a><a id="62393" class="Symbol">)</a> <a id="62395" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="62397" href="Demos.HSP-markdown.html#57226" class="Function">S</a> <a id="62399" href="Demos.HSP-markdown.html#62335" class="Function">oaâ„“</a> <a id="62403" class="Symbol">(</a><a id="62404" href="Demos.HSP-markdown.html#57352" class="Function">P</a> <a id="62406" href="Demos.HSP-markdown.html#62301" class="Bound">â„“</a> <a id="62408" href="Demos.HSP-markdown.html#62335" class="Function">oaâ„“</a> <a id="62412" href="Demos.HSP-markdown.html#62265" class="Bound">ğ’¦</a><a id="62413" class="Symbol">)</a>
 <a id="62416" href="Demos.HSP-markdown.html#62354" class="Function">PSâŠ†SP</a> <a id="62422" class="Symbol">{</a><a id="62423" href="Demos.HSP-markdown.html#62423" class="Bound">ğ‘©</a><a id="62424" class="Symbol">}</a> <a id="62426" class="Symbol">(</a><a id="62427" href="Demos.HSP-markdown.html#62427" class="Bound">I</a> <a id="62429" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62431" class="Symbol">(</a> <a id="62433" href="Demos.HSP-markdown.html#62433" class="Bound">ğ’œ</a> <a id="62435" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62437" href="Demos.HSP-markdown.html#62437" class="Bound">sA</a> <a id="62440" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62442" href="Demos.HSP-markdown.html#62442" class="Bound">Bâ‰…â¨…A</a> <a id="62447" class="Symbol">))</a> <a id="62450" class="Symbol">=</a> <a id="62452" href="Demos.HSP-markdown.html#62608" class="Function">Goal</a>
  <a id="62459" class="Keyword">where</a>
  <a id="62467" href="Demos.HSP-markdown.html#62467" class="Function">â„¬</a> <a id="62469" class="Symbol">:</a> <a id="62471" href="Demos.HSP-markdown.html#62427" class="Bound">I</a> <a id="62473" class="Symbol">â†’</a> <a id="62475" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="62483" href="Demos.HSP-markdown.html#62282" class="Bound">Î±</a> <a id="62485" href="Demos.HSP-markdown.html#62284" class="Bound">Ïáµƒ</a>
  <a id="62490" href="Demos.HSP-markdown.html#62467" class="Function">â„¬</a> <a id="62492" href="Demos.HSP-markdown.html#62492" class="Bound">i</a> <a id="62494" class="Symbol">=</a> <a id="62496" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="62498" href="Demos.HSP-markdown.html#62437" class="Bound">sA</a> <a id="62501" href="Demos.HSP-markdown.html#62492" class="Bound">i</a> <a id="62503" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="62507" href="Demos.HSP-markdown.html#62507" class="Function">kB</a> <a id="62510" class="Symbol">:</a> <a id="62512" class="Symbol">(</a><a id="62513" href="Demos.HSP-markdown.html#62513" class="Bound">i</a> <a id="62515" class="Symbol">:</a> <a id="62517" href="Demos.HSP-markdown.html#62427" class="Bound">I</a><a id="62518" class="Symbol">)</a> <a id="62520" class="Symbol">â†’</a> <a id="62522" href="Demos.HSP-markdown.html#62467" class="Function">â„¬</a> <a id="62524" href="Demos.HSP-markdown.html#62513" class="Bound">i</a> <a id="62526" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="62528" href="Demos.HSP-markdown.html#62265" class="Bound">ğ’¦</a>
  <a id="62532" href="Demos.HSP-markdown.html#62507" class="Function">kB</a> <a id="62535" href="Demos.HSP-markdown.html#62535" class="Bound">i</a> <a id="62537" class="Symbol">=</a>  <a id="62540" href="Demos.HSP-markdown.html#7750" class="Field">fst</a> <a id="62544" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="62546" href="Demos.HSP-markdown.html#62437" class="Bound">sA</a> <a id="62549" href="Demos.HSP-markdown.html#62535" class="Bound">i</a> <a id="62551" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>
  <a id="62555" href="Demos.HSP-markdown.html#62555" class="Function">â¨…Aâ‰¤â¨…B</a> <a id="62561" class="Symbol">:</a> <a id="62563" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="62565" href="Demos.HSP-markdown.html#62433" class="Bound">ğ’œ</a> <a id="62567" href="Demos.HSP-markdown.html#38931" class="Function Operator">â‰¤</a> <a id="62569" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="62571" href="Demos.HSP-markdown.html#62467" class="Function">â„¬</a>
  <a id="62575" href="Demos.HSP-markdown.html#62555" class="Function">â¨…Aâ‰¤â¨…B</a> <a id="62581" class="Symbol">=</a> <a id="62583" href="Demos.HSP-markdown.html#39816" class="Function">â¨…-â‰¤</a> <a id="62587" class="Symbol">Î»</a> <a id="62589" href="Demos.HSP-markdown.html#62589" class="Bound">i</a> <a id="62591" class="Symbol">â†’</a> <a id="62593" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="62597" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="62599" href="Demos.HSP-markdown.html#62437" class="Bound">sA</a> <a id="62602" href="Demos.HSP-markdown.html#62589" class="Bound">i</a> <a id="62604" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>
  <a id="62608" href="Demos.HSP-markdown.html#62608" class="Function">Goal</a> <a id="62613" class="Symbol">:</a> <a id="62615" href="Demos.HSP-markdown.html#62423" class="Bound">ğ‘©</a> <a id="62617" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="62619" href="Demos.HSP-markdown.html#57226" class="Function">S</a><a id="62620" class="Symbol">{</a><a id="62621" class="Argument">Î²</a> <a id="62623" class="Symbol">=</a> <a id="62625" href="Demos.HSP-markdown.html#62335" class="Function">oaâ„“</a><a id="62628" class="Symbol">}{</a><a id="62630" href="Demos.HSP-markdown.html#62335" class="Function">oaâ„“</a><a id="62633" class="Symbol">}</a><a id="62634" href="Demos.HSP-markdown.html#62335" class="Function">oaâ„“</a> <a id="62638" class="Symbol">(</a><a id="62639" href="Demos.HSP-markdown.html#57352" class="Function">P</a> <a id="62641" class="Symbol">{</a><a id="62642" class="Argument">Î²</a> <a id="62644" class="Symbol">=</a> <a id="62646" href="Demos.HSP-markdown.html#62335" class="Function">oaâ„“</a><a id="62649" class="Symbol">}{</a><a id="62651" href="Demos.HSP-markdown.html#62335" class="Function">oaâ„“</a><a id="62654" class="Symbol">}</a> <a id="62656" href="Demos.HSP-markdown.html#62301" class="Bound">â„“</a> <a id="62658" href="Demos.HSP-markdown.html#62335" class="Function">oaâ„“</a> <a id="62662" href="Demos.HSP-markdown.html#62265" class="Bound">ğ’¦</a><a id="62663" class="Symbol">)</a>
  <a id="62667" href="Demos.HSP-markdown.html#62608" class="Function">Goal</a> <a id="62672" class="Symbol">=</a> <a id="62674" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="62676" href="Demos.HSP-markdown.html#62467" class="Function">â„¬</a> <a id="62678" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62680" class="Symbol">(</a><a id="62681" href="Demos.HSP-markdown.html#62427" class="Bound">I</a> <a id="62683" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62685" class="Symbol">(</a><a id="62686" href="Demos.HSP-markdown.html#62467" class="Function">â„¬</a> <a id="62688" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62690" class="Symbol">(</a><a id="62691" href="Demos.HSP-markdown.html#62507" class="Function">kB</a> <a id="62694" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62696" href="Demos.HSP-markdown.html#35737" class="Function">â‰…-refl</a><a id="62702" class="Symbol">)))</a> <a id="62706" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62708" class="Symbol">(</a><a id="62709" href="Demos.HSP-markdown.html#39498" class="Function">â‰…-trans-â‰¤</a> <a id="62719" href="Demos.HSP-markdown.html#62442" class="Bound">Bâ‰…â¨…A</a> <a id="62724" href="Demos.HSP-markdown.html#62555" class="Function">â¨…Aâ‰¤â¨…B</a><a id="62729" class="Symbol">)</a>
</pre>

#### <a id="identity-preservation">Identity preservation</a>

The classes `H ğ’¦`, `S ğ’¦`, `P ğ’¦`, and `V ğ’¦` all satisfy the same set of equations.  We will only use a subset of the inclusions used to prove this fact. (For a complete proof, see the
[Setoid.Varieties.Preservation][] module of the [agda-algebras][] library.)


##### <a id="h-preserves-identities">H preserves identities</a>

First we prove that the closure operator H is compatible with identities that hold in the given class.

<pre class="Agda">

<a id="63249" class="Keyword">module</a> <a id="63256" href="Demos.HSP-markdown.html#63256" class="Module">_</a>  <a id="63259" class="Symbol">{</a><a id="63260" href="Demos.HSP-markdown.html#63260" class="Bound">X</a> <a id="63262" class="Symbol">:</a> <a id="63264" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="63269" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="63270" class="Symbol">}{</a><a id="63272" href="Demos.HSP-markdown.html#63272" class="Bound">ğ’¦</a> <a id="63274" class="Symbol">:</a> <a id="63276" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="63280" class="Symbol">(</a><a id="63281" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="63289" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="63291" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="63293" class="Symbol">)</a> <a id="63295" class="Symbol">(</a><a id="63296" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="63298" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="63300" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="63303" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="63305" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="63308" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="63309" class="Symbol">)}{</a><a id="63312" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="63314" href="Demos.HSP-markdown.html#63314" class="Bound">q</a> <a id="63316" class="Symbol">:</a> <a id="63318" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="63323" href="Demos.HSP-markdown.html#63260" class="Bound">X</a><a id="63324" class="Symbol">}</a> <a id="63326" class="Keyword">where</a>

 <a id="63334" href="Demos.HSP-markdown.html#63334" class="Function">H-id1</a> <a id="63340" class="Symbol">:</a> <a id="63342" href="Demos.HSP-markdown.html#63272" class="Bound">ğ’¦</a> <a id="63344" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="63346" class="Symbol">(</a><a id="63347" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="63349" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="63352" href="Demos.HSP-markdown.html#63314" class="Bound">q</a><a id="63353" class="Symbol">)</a> <a id="63355" class="Symbol">â†’</a> <a id="63357" class="Symbol">(</a><a id="63358" href="Demos.HSP-markdown.html#57089" class="Function">H</a> <a id="63360" class="Symbol">{</a><a id="63361" class="Argument">Î²</a> <a id="63363" class="Symbol">=</a> <a id="63365" href="Demos.HSP-markdown.html#63289" class="Bound">Î±</a><a id="63366" class="Symbol">}{</a><a id="63368" href="Demos.HSP-markdown.html#63291" class="Bound">Ïáµƒ</a><a id="63370" class="Symbol">}</a><a id="63371" href="Demos.HSP-markdown.html#63308" class="Bound">â„“</a> <a id="63373" href="Demos.HSP-markdown.html#63272" class="Bound">ğ’¦</a><a id="63374" class="Symbol">)</a> <a id="63376" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="63378" class="Symbol">(</a><a id="63379" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="63381" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="63384" href="Demos.HSP-markdown.html#63314" class="Bound">q</a><a id="63385" class="Symbol">)</a>
 <a id="63388" href="Demos.HSP-markdown.html#63334" class="Function">H-id1</a> <a id="63394" href="Demos.HSP-markdown.html#63394" class="Bound">Ïƒ</a> <a id="63396" href="Demos.HSP-markdown.html#63396" class="Bound">ğ‘©</a> <a id="63398" class="Symbol">(</a><a id="63399" href="Demos.HSP-markdown.html#63399" class="Bound">ğ‘¨</a> <a id="63401" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="63403" href="Demos.HSP-markdown.html#63403" class="Bound">kA</a> <a id="63406" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="63408" href="Demos.HSP-markdown.html#63408" class="Bound">BimgOfA</a><a id="63415" class="Symbol">)</a> <a id="63417" href="Demos.HSP-markdown.html#63417" class="Bound">Ï</a> <a id="63419" class="Symbol">=</a> <a id="63421" href="Demos.HSP-markdown.html#63825" class="Function">BâŠ§pq</a>
  <a id="63428" class="Keyword">where</a>
  <a id="63436" href="Demos.HSP-markdown.html#63436" class="Function">IH</a> <a id="63439" class="Symbol">:</a> <a id="63441" href="Demos.HSP-markdown.html#63399" class="Bound">ğ‘¨</a> <a id="63443" href="Demos.HSP-markdown.html#52106" class="Function Operator">âŠ§</a> <a id="63445" class="Symbol">(</a><a id="63446" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="63448" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="63451" href="Demos.HSP-markdown.html#63314" class="Bound">q</a><a id="63452" class="Symbol">)</a>
  <a id="63456" href="Demos.HSP-markdown.html#63436" class="Function">IH</a> <a id="63459" class="Symbol">=</a> <a id="63461" href="Demos.HSP-markdown.html#63394" class="Bound">Ïƒ</a> <a id="63463" href="Demos.HSP-markdown.html#63399" class="Bound">ğ‘¨</a> <a id="63465" href="Demos.HSP-markdown.html#63403" class="Bound">kA</a>
  <a id="63470" class="Keyword">open</a> <a id="63475" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="63487" href="Demos.HSP-markdown.html#63399" class="Bound">ğ‘¨</a> <a id="63489" class="Keyword">using</a> <a id="63495" class="Symbol">()</a> <a id="63498" class="Keyword">renaming</a> <a id="63507" class="Symbol">(</a> <a id="63509" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="63513" class="Symbol">to</a> <a id="63516" class="Function Operator">âŸ¦_âŸ§â‚</a><a id="63520" class="Symbol">)</a>
  <a id="63524" class="Keyword">open</a> <a id="63529" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="63541" href="Demos.HSP-markdown.html#63396" class="Bound">ğ‘©</a> <a id="63543" class="Keyword">using</a> <a id="63549" class="Symbol">(</a> <a id="63551" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="63555" class="Symbol">)</a>
  <a id="63559" class="Keyword">open</a> <a id="63564" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="63571" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="63574" href="Demos.HSP-markdown.html#63396" class="Bound">ğ‘©</a> <a id="63576" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="63578" class="Keyword">using</a> <a id="63584" class="Symbol">(</a> <a id="63586" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="63590" class="Symbol">)</a>
  <a id="63594" class="Keyword">open</a> <a id="63599" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="63615" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="63618" href="Demos.HSP-markdown.html#63396" class="Bound">ğ‘©</a> <a id="63620" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>

  <a id="63625" href="Demos.HSP-markdown.html#63625" class="Function">Ï†</a> <a id="63627" class="Symbol">:</a> <a id="63629" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="63633" href="Demos.HSP-markdown.html#63399" class="Bound">ğ‘¨</a> <a id="63635" href="Demos.HSP-markdown.html#63396" class="Bound">ğ‘©</a>
  <a id="63639" href="Demos.HSP-markdown.html#63625" class="Function">Ï†</a> <a id="63641" class="Symbol">=</a> <a id="63643" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="63645" href="Demos.HSP-markdown.html#63408" class="Bound">BimgOfA</a> <a id="63653" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="63657" href="Demos.HSP-markdown.html#63657" class="Function">Ï†E</a> <a id="63660" class="Symbol">:</a> <a id="63662" href="Demos.HSP-markdown.html#14749" class="Function">IsSurjective</a> <a id="63675" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="63677" href="Demos.HSP-markdown.html#63625" class="Function">Ï†</a> <a id="63679" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="63683" href="Demos.HSP-markdown.html#63657" class="Function">Ï†E</a> <a id="63686" class="Symbol">=</a> <a id="63688" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="63690" href="Demos.HSP-markdown.html#63408" class="Bound">BimgOfA</a> <a id="63698" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>
  <a id="63702" href="Demos.HSP-markdown.html#63702" class="Function">Ï†â»Â¹</a> <a id="63706" class="Symbol">:</a> <a id="63708" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="63711" href="Demos.HSP-markdown.html#63396" class="Bound">ğ‘©</a> <a id="63713" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a> <a id="63715" class="Symbol">â†’</a> <a id="63717" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="63720" href="Demos.HSP-markdown.html#63399" class="Bound">ğ‘¨</a> <a id="63722" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a>
  <a id="63726" href="Demos.HSP-markdown.html#63702" class="Function">Ï†â»Â¹</a> <a id="63730" class="Symbol">=</a> <a id="63732" href="Demos.HSP-markdown.html#14833" class="Function">SurjInv</a> <a id="63740" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="63742" href="Demos.HSP-markdown.html#63625" class="Function">Ï†</a> <a id="63744" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="63746" href="Demos.HSP-markdown.html#63657" class="Function">Ï†E</a>

  <a id="63752" href="Demos.HSP-markdown.html#63752" class="Function">Î¶</a> <a id="63754" class="Symbol">:</a> <a id="63756" class="Symbol">âˆ€</a> <a id="63758" href="Demos.HSP-markdown.html#63758" class="Bound">x</a> <a id="63760" class="Symbol">â†’</a> <a id="63762" class="Symbol">(</a><a id="63763" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="63765" href="Demos.HSP-markdown.html#63625" class="Function">Ï†</a> <a id="63767" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="63769" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="63773" class="Symbol">(</a><a id="63774" href="Demos.HSP-markdown.html#63702" class="Function">Ï†â»Â¹</a> <a id="63778" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="63780" href="Demos.HSP-markdown.html#63417" class="Bound">Ï</a><a id="63781" class="Symbol">)</a> <a id="63783" href="Demos.HSP-markdown.html#63758" class="Bound">x</a> <a id="63785" class="Symbol">)</a> <a id="63787" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="63789" href="Demos.HSP-markdown.html#63417" class="Bound">Ï</a> <a id="63791" href="Demos.HSP-markdown.html#63758" class="Bound">x</a>
  <a id="63795" href="Demos.HSP-markdown.html#63752" class="Function">Î¶</a> <a id="63797" class="Symbol">=</a> <a id="63799" class="Symbol">Î»</a> <a id="63801" href="Demos.HSP-markdown.html#63801" class="Bound">_</a> <a id="63803" class="Symbol">â†’</a> <a id="63805" href="Demos.HSP-markdown.html#13045" class="Function">InvIsInverseÊ³</a> <a id="63819" href="Demos.HSP-markdown.html#63657" class="Function">Ï†E</a>

  <a id="63825" href="Demos.HSP-markdown.html#63825" class="Function">BâŠ§pq</a> <a id="63830" class="Symbol">:</a> <a id="63832" class="Symbol">(</a><a id="63833" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="63835" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="63837" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="63839" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="63843" href="Demos.HSP-markdown.html#63417" class="Bound">Ï</a><a id="63844" class="Symbol">)</a> <a id="63846" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="63848" class="Symbol">(</a><a id="63849" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="63851" href="Demos.HSP-markdown.html#63314" class="Bound">q</a> <a id="63853" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="63855" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="63859" href="Demos.HSP-markdown.html#63417" class="Bound">Ï</a><a id="63860" class="Symbol">)</a>
  <a id="63864" href="Demos.HSP-markdown.html#63825" class="Function">BâŠ§pq</a> <a id="63869" class="Symbol">=</a> <a id="63871" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
         <a id="63886" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="63888" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="63890" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="63892" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="63896" href="Demos.HSP-markdown.html#63417" class="Bound">Ï</a>                                <a id="63929" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a> <a id="63933" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="63938" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="63940" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="63942" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="63944" href="Demos.HSP-markdown.html#63752" class="Function">Î¶</a>                 <a id="63962" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
         <a id="63973" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="63975" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="63977" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="63979" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="63983" class="Symbol">(Î»</a> <a id="63986" href="Demos.HSP-markdown.html#63986" class="Bound">x</a> <a id="63988" class="Symbol">â†’</a> <a id="63990" class="Symbol">(</a><a id="63991" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="63993" href="Demos.HSP-markdown.html#63625" class="Function">Ï†</a> <a id="63995" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="63997" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64001" class="Symbol">(</a><a id="64002" href="Demos.HSP-markdown.html#63702" class="Function">Ï†â»Â¹</a> <a id="64006" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="64008" href="Demos.HSP-markdown.html#63417" class="Bound">Ï</a><a id="64009" class="Symbol">)</a> <a id="64011" href="Demos.HSP-markdown.html#63986" class="Bound">x</a><a id="64012" class="Symbol">))</a>  <a id="64016" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a> <a id="64020" href="Demos.HSP-markdown.html#48720" class="Function">comm-hom-term</a> <a id="64034" href="Demos.HSP-markdown.html#63625" class="Function">Ï†</a> <a id="64036" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="64038" class="Symbol">(</a><a id="64039" href="Demos.HSP-markdown.html#63702" class="Function">Ï†â»Â¹</a> <a id="64043" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="64045" href="Demos.HSP-markdown.html#63417" class="Bound">Ï</a><a id="64046" class="Symbol">)</a>  <a id="64049" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
         <a id="64060" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64062" href="Demos.HSP-markdown.html#63625" class="Function">Ï†</a> <a id="64064" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64066" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64070" class="Symbol">(</a><a id="64071" href="Demos.HSP-markdown.html#63516" class="Function Operator">âŸ¦</a> <a id="64073" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="64075" href="Demos.HSP-markdown.html#63516" class="Function Operator">âŸ§â‚</a> <a id="64078" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64082" class="Symbol">(</a><a id="64083" href="Demos.HSP-markdown.html#63702" class="Function">Ï†â»Â¹</a> <a id="64087" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="64089" href="Demos.HSP-markdown.html#63417" class="Bound">Ï</a><a id="64090" class="Symbol">))</a>           <a id="64103" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a> <a id="64106" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="64111" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64113" href="Demos.HSP-markdown.html#63625" class="Function">Ï†</a> <a id="64115" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64117" class="Symbol">(</a><a id="64118" href="Demos.HSP-markdown.html#63436" class="Function">IH</a> <a id="64121" class="Symbol">(</a><a id="64122" href="Demos.HSP-markdown.html#63702" class="Function">Ï†â»Â¹</a> <a id="64126" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="64128" href="Demos.HSP-markdown.html#63417" class="Bound">Ï</a><a id="64129" class="Symbol">))</a>     <a id="64136" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
         <a id="64147" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64149" href="Demos.HSP-markdown.html#63625" class="Function">Ï†</a> <a id="64151" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64153" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64157" class="Symbol">(</a><a id="64158" href="Demos.HSP-markdown.html#63516" class="Function Operator">âŸ¦</a> <a id="64160" href="Demos.HSP-markdown.html#63314" class="Bound">q</a> <a id="64162" href="Demos.HSP-markdown.html#63516" class="Function Operator">âŸ§â‚</a> <a id="64165" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64169" class="Symbol">(</a><a id="64170" href="Demos.HSP-markdown.html#63702" class="Function">Ï†â»Â¹</a> <a id="64174" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="64176" href="Demos.HSP-markdown.html#63417" class="Bound">Ï</a><a id="64177" class="Symbol">))</a>           <a id="64190" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a> <a id="64193" href="Demos.HSP-markdown.html#48720" class="Function">comm-hom-term</a> <a id="64207" href="Demos.HSP-markdown.html#63625" class="Function">Ï†</a> <a id="64209" href="Demos.HSP-markdown.html#63314" class="Bound">q</a> <a id="64211" class="Symbol">(</a><a id="64212" href="Demos.HSP-markdown.html#63702" class="Function">Ï†â»Â¹</a> <a id="64216" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="64218" href="Demos.HSP-markdown.html#63417" class="Bound">Ï</a><a id="64219" class="Symbol">)</a>   <a id="64223" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
         <a id="64234" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="64236" href="Demos.HSP-markdown.html#63314" class="Bound">q</a> <a id="64238" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="64240" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64244" class="Symbol">(Î»</a> <a id="64247" href="Demos.HSP-markdown.html#64247" class="Bound">x</a> <a id="64249" class="Symbol">â†’</a> <a id="64251" class="Symbol">(</a><a id="64252" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64254" href="Demos.HSP-markdown.html#63625" class="Function">Ï†</a> <a id="64256" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64258" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64262" class="Symbol">(</a><a id="64263" href="Demos.HSP-markdown.html#63702" class="Function">Ï†â»Â¹</a> <a id="64267" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="64269" href="Demos.HSP-markdown.html#63417" class="Bound">Ï</a><a id="64270" class="Symbol">)</a> <a id="64272" href="Demos.HSP-markdown.html#64247" class="Bound">x</a><a id="64273" class="Symbol">))</a>  <a id="64277" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a> <a id="64280" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="64285" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="64287" href="Demos.HSP-markdown.html#63314" class="Bound">q</a> <a id="64289" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="64291" href="Demos.HSP-markdown.html#63752" class="Function">Î¶</a>                  <a id="64310" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
         <a id="64321" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="64323" href="Demos.HSP-markdown.html#63314" class="Bound">q</a> <a id="64325" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="64327" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64331" href="Demos.HSP-markdown.html#63417" class="Bound">Ï</a>                                <a id="64364" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">âˆ</a>
</pre>


##### <a id="s-preserves-identities">S preserves identities</a>

<pre class="Agda">

 <a id="64459" href="Demos.HSP-markdown.html#64459" class="Function">S-id1</a> <a id="64465" class="Symbol">:</a> <a id="64467" href="Demos.HSP-markdown.html#63272" class="Bound">ğ’¦</a> <a id="64469" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="64471" class="Symbol">(</a><a id="64472" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="64474" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="64477" href="Demos.HSP-markdown.html#63314" class="Bound">q</a><a id="64478" class="Symbol">)</a> <a id="64480" class="Symbol">â†’</a> <a id="64482" class="Symbol">(</a><a id="64483" href="Demos.HSP-markdown.html#57226" class="Function">S</a> <a id="64485" class="Symbol">{</a><a id="64486" class="Argument">Î²</a> <a id="64488" class="Symbol">=</a> <a id="64490" href="Demos.HSP-markdown.html#63289" class="Bound">Î±</a><a id="64491" class="Symbol">}{</a><a id="64493" href="Demos.HSP-markdown.html#63291" class="Bound">Ïáµƒ</a><a id="64495" class="Symbol">}</a> <a id="64497" href="Demos.HSP-markdown.html#63308" class="Bound">â„“</a> <a id="64499" href="Demos.HSP-markdown.html#63272" class="Bound">ğ’¦</a><a id="64500" class="Symbol">)</a> <a id="64502" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="64504" class="Symbol">(</a><a id="64505" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="64507" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="64510" href="Demos.HSP-markdown.html#63314" class="Bound">q</a><a id="64511" class="Symbol">)</a>
 <a id="64514" href="Demos.HSP-markdown.html#64459" class="Function">S-id1</a> <a id="64520" href="Demos.HSP-markdown.html#64520" class="Bound">Ïƒ</a> <a id="64522" href="Demos.HSP-markdown.html#64522" class="Bound">ğ‘©</a> <a id="64524" class="Symbol">(</a><a id="64525" href="Demos.HSP-markdown.html#64525" class="Bound">ğ‘¨</a> <a id="64527" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="64529" href="Demos.HSP-markdown.html#64529" class="Bound">kA</a> <a id="64532" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="64534" href="Demos.HSP-markdown.html#64534" class="Bound">Bâ‰¤A</a><a id="64537" class="Symbol">)</a> <a id="64539" class="Symbol">=</a> <a id="64541" href="Demos.HSP-markdown.html#60264" class="Function">âŠ§-S-invar</a><a id="64550" class="Symbol">{</a><a id="64551" class="Argument">p</a> <a id="64553" class="Symbol">=</a> <a id="64555" href="Demos.HSP-markdown.html#63312" class="Bound">p</a><a id="64556" class="Symbol">}{</a><a id="64558" href="Demos.HSP-markdown.html#63314" class="Bound">q</a><a id="64559" class="Symbol">}</a> <a id="64561" class="Symbol">(</a><a id="64562" href="Demos.HSP-markdown.html#64520" class="Bound">Ïƒ</a> <a id="64564" href="Demos.HSP-markdown.html#64525" class="Bound">ğ‘¨</a> <a id="64566" href="Demos.HSP-markdown.html#64529" class="Bound">kA</a><a id="64568" class="Symbol">)</a> <a id="64570" href="Demos.HSP-markdown.html#64534" class="Bound">Bâ‰¤A</a>

</pre>

The obvious converse is barely worth the bits needed to formalize it, but we will use it below, so let's prove it now.

<pre class="Agda">

 <a id="64722" href="Demos.HSP-markdown.html#64722" class="Function">S-id2</a> <a id="64728" class="Symbol">:</a> <a id="64730" href="Demos.HSP-markdown.html#57226" class="Function">S</a> <a id="64732" href="Demos.HSP-markdown.html#63308" class="Bound">â„“</a> <a id="64734" href="Demos.HSP-markdown.html#63272" class="Bound">ğ’¦</a> <a id="64736" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="64738" class="Symbol">(</a><a id="64739" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="64741" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="64744" href="Demos.HSP-markdown.html#63314" class="Bound">q</a><a id="64745" class="Symbol">)</a> <a id="64747" class="Symbol">â†’</a> <a id="64749" href="Demos.HSP-markdown.html#63272" class="Bound">ğ’¦</a> <a id="64751" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="64753" class="Symbol">(</a><a id="64754" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="64756" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="64759" href="Demos.HSP-markdown.html#63314" class="Bound">q</a><a id="64760" class="Symbol">)</a>
 <a id="64763" href="Demos.HSP-markdown.html#64722" class="Function">S-id2</a> <a id="64769" href="Demos.HSP-markdown.html#64769" class="Bound">Spq</a> <a id="64773" href="Demos.HSP-markdown.html#64773" class="Bound">ğ‘¨</a> <a id="64775" href="Demos.HSP-markdown.html#64775" class="Bound">kA</a> <a id="64778" class="Symbol">=</a> <a id="64780" href="Demos.HSP-markdown.html#64769" class="Bound">Spq</a> <a id="64784" href="Demos.HSP-markdown.html#64773" class="Bound">ğ‘¨</a> <a id="64786" class="Symbol">(</a><a id="64787" href="Demos.HSP-markdown.html#64773" class="Bound">ğ‘¨</a> <a id="64789" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="64791" class="Symbol">(</a><a id="64792" href="Demos.HSP-markdown.html#64775" class="Bound">kA</a> <a id="64795" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="64797" href="Demos.HSP-markdown.html#39130" class="Function">â‰¤-reflexive</a><a id="64808" class="Symbol">))</a>
</pre>


##### <a id="p-preserves-identities">P preserves identities</a>

<pre class="Agda">

 <a id="64904" href="Demos.HSP-markdown.html#64904" class="Function">P-id1</a> <a id="64910" class="Symbol">:</a> <a id="64912" class="Symbol">âˆ€{</a><a id="64914" href="Demos.HSP-markdown.html#64914" class="Bound">Î¹</a><a id="64915" class="Symbol">}</a> <a id="64917" class="Symbol">â†’</a> <a id="64919" href="Demos.HSP-markdown.html#63272" class="Bound">ğ’¦</a> <a id="64921" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="64923" class="Symbol">(</a><a id="64924" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="64926" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="64929" href="Demos.HSP-markdown.html#63314" class="Bound">q</a><a id="64930" class="Symbol">)</a> <a id="64932" class="Symbol">â†’</a> <a id="64934" href="Demos.HSP-markdown.html#57352" class="Function">P</a> <a id="64936" class="Symbol">{</a><a id="64937" class="Argument">Î²</a> <a id="64939" class="Symbol">=</a> <a id="64941" href="Demos.HSP-markdown.html#63289" class="Bound">Î±</a><a id="64942" class="Symbol">}{</a><a id="64944" href="Demos.HSP-markdown.html#63291" class="Bound">Ïáµƒ</a><a id="64946" class="Symbol">}</a><a id="64947" href="Demos.HSP-markdown.html#63308" class="Bound">â„“</a> <a id="64949" href="Demos.HSP-markdown.html#64914" class="Bound">Î¹</a> <a id="64951" href="Demos.HSP-markdown.html#63272" class="Bound">ğ’¦</a> <a id="64953" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="64955" class="Symbol">(</a><a id="64956" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="64958" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="64961" href="Demos.HSP-markdown.html#63314" class="Bound">q</a><a id="64962" class="Symbol">)</a>
 <a id="64965" href="Demos.HSP-markdown.html#64904" class="Function">P-id1</a> <a id="64971" href="Demos.HSP-markdown.html#64971" class="Bound">Ïƒ</a> <a id="64973" href="Demos.HSP-markdown.html#64973" class="Bound">ğ‘¨</a> <a id="64975" class="Symbol">(</a><a id="64976" href="Demos.HSP-markdown.html#64976" class="Bound">I</a> <a id="64978" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="64980" href="Demos.HSP-markdown.html#64980" class="Bound">ğ’œ</a> <a id="64982" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="64984" href="Demos.HSP-markdown.html#64984" class="Bound">kA</a> <a id="64987" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="64989" href="Demos.HSP-markdown.html#64989" class="Bound">Aâ‰…â¨…A</a><a id="64993" class="Symbol">)</a> <a id="64995" class="Symbol">=</a> <a id="64997" href="Demos.HSP-markdown.html#59285" class="Function">âŠ§-I-invar</a> <a id="65007" href="Demos.HSP-markdown.html#64973" class="Bound">ğ‘¨</a> <a id="65009" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="65011" href="Demos.HSP-markdown.html#63314" class="Bound">q</a> <a id="65013" href="Demos.HSP-markdown.html#65091" class="Function">IH</a> <a id="65016" class="Symbol">(</a><a id="65017" href="Demos.HSP-markdown.html#35868" class="Function">â‰…-sym</a> <a id="65023" href="Demos.HSP-markdown.html#64989" class="Bound">Aâ‰…â¨…A</a><a id="65027" class="Symbol">)</a>
  <a id="65031" class="Keyword">where</a>
  <a id="65039" href="Demos.HSP-markdown.html#65039" class="Function">ih</a> <a id="65042" class="Symbol">:</a> <a id="65044" class="Symbol">âˆ€</a> <a id="65046" href="Demos.HSP-markdown.html#65046" class="Bound">i</a> <a id="65048" class="Symbol">â†’</a> <a id="65050" href="Demos.HSP-markdown.html#64980" class="Bound">ğ’œ</a> <a id="65052" href="Demos.HSP-markdown.html#65046" class="Bound">i</a> <a id="65054" href="Demos.HSP-markdown.html#52106" class="Function Operator">âŠ§</a> <a id="65056" class="Symbol">(</a><a id="65057" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="65059" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="65062" href="Demos.HSP-markdown.html#63314" class="Bound">q</a><a id="65063" class="Symbol">)</a>
  <a id="65067" href="Demos.HSP-markdown.html#65039" class="Function">ih</a> <a id="65070" href="Demos.HSP-markdown.html#65070" class="Bound">i</a> <a id="65072" class="Symbol">=</a> <a id="65074" href="Demos.HSP-markdown.html#64971" class="Bound">Ïƒ</a> <a id="65076" class="Symbol">(</a><a id="65077" href="Demos.HSP-markdown.html#64980" class="Bound">ğ’œ</a> <a id="65079" href="Demos.HSP-markdown.html#65070" class="Bound">i</a><a id="65080" class="Symbol">)</a> <a id="65082" class="Symbol">(</a><a id="65083" href="Demos.HSP-markdown.html#64984" class="Bound">kA</a> <a id="65086" href="Demos.HSP-markdown.html#65070" class="Bound">i</a><a id="65087" class="Symbol">)</a>
  <a id="65091" href="Demos.HSP-markdown.html#65091" class="Function">IH</a> <a id="65094" class="Symbol">:</a> <a id="65096" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="65098" href="Demos.HSP-markdown.html#64980" class="Bound">ğ’œ</a> <a id="65100" href="Demos.HSP-markdown.html#52106" class="Function Operator">âŠ§</a> <a id="65102" class="Symbol">(</a><a id="65103" href="Demos.HSP-markdown.html#63312" class="Bound">p</a> <a id="65105" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="65108" href="Demos.HSP-markdown.html#63314" class="Bound">q</a><a id="65109" class="Symbol">)</a>
  <a id="65113" href="Demos.HSP-markdown.html#65091" class="Function">IH</a> <a id="65116" class="Symbol">=</a> <a id="65118" href="Demos.HSP-markdown.html#61236" class="Function">âŠ§-P-invar</a> <a id="65128" href="Demos.HSP-markdown.html#64980" class="Bound">ğ’œ</a> <a id="65130" class="Symbol">{</a><a id="65131" href="Demos.HSP-markdown.html#63312" class="Bound">p</a><a id="65132" class="Symbol">}{</a><a id="65134" href="Demos.HSP-markdown.html#63314" class="Bound">q</a><a id="65135" class="Symbol">}</a> <a id="65137" href="Demos.HSP-markdown.html#65039" class="Function">ih</a>
</pre>


##### <a id="v-preserves-identities">V preserves identities</a>

Finally, we prove the analogous preservation lemmas for the closure operator `V`.

<pre class="Agda">

<a id="65315" class="Keyword">module</a> <a id="65322" href="Demos.HSP-markdown.html#65322" class="Module">_</a> <a id="65324" class="Symbol">{</a><a id="65325" href="Demos.HSP-markdown.html#65325" class="Bound">X</a> <a id="65327" class="Symbol">:</a> <a id="65329" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="65334" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="65335" class="Symbol">}{</a><a id="65337" href="Demos.HSP-markdown.html#65337" class="Bound">Î¹</a> <a id="65339" class="Symbol">:</a> <a id="65341" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="65346" class="Symbol">}{</a><a id="65348" href="Demos.HSP-markdown.html#65348" class="Bound">ğ’¦</a> <a id="65350" class="Symbol">:</a> <a id="65352" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="65356" class="Symbol">(</a><a id="65357" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="65365" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="65367" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="65369" class="Symbol">)(</a><a id="65371" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="65373" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="65375" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="65378" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="65380" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="65383" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="65384" class="Symbol">)}{</a><a id="65387" href="Demos.HSP-markdown.html#65387" class="Bound">p</a> <a id="65389" href="Demos.HSP-markdown.html#65389" class="Bound">q</a> <a id="65391" class="Symbol">:</a> <a id="65393" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="65398" href="Demos.HSP-markdown.html#65325" class="Bound">X</a><a id="65399" class="Symbol">}</a> <a id="65401" class="Keyword">where</a>
 <a id="65408" class="Keyword">private</a>
  <a id="65418" href="Demos.HSP-markdown.html#65418" class="Function">aâ„“Î¹</a> <a id="65422" class="Symbol">=</a> <a id="65424" href="Demos.HSP-markdown.html#65365" class="Bound">Î±</a> <a id="65426" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="65428" href="Demos.HSP-markdown.html#65367" class="Bound">Ïáµƒ</a> <a id="65431" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="65433" href="Demos.HSP-markdown.html#65383" class="Bound">â„“</a> <a id="65435" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="65437" href="Demos.HSP-markdown.html#65337" class="Bound">Î¹</a>

 <a id="65441" href="Demos.HSP-markdown.html#65441" class="Function">V-id1</a> <a id="65447" class="Symbol">:</a> <a id="65449" href="Demos.HSP-markdown.html#65348" class="Bound">ğ’¦</a> <a id="65451" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="65453" class="Symbol">(</a><a id="65454" href="Demos.HSP-markdown.html#65387" class="Bound">p</a> <a id="65456" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="65459" href="Demos.HSP-markdown.html#65389" class="Bound">q</a><a id="65460" class="Symbol">)</a> <a id="65462" class="Symbol">â†’</a> <a id="65464" href="Demos.HSP-markdown.html#57886" class="Function">V</a> <a id="65466" href="Demos.HSP-markdown.html#65383" class="Bound">â„“</a> <a id="65468" href="Demos.HSP-markdown.html#65337" class="Bound">Î¹</a> <a id="65470" href="Demos.HSP-markdown.html#65348" class="Bound">ğ’¦</a> <a id="65472" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="65474" class="Symbol">(</a><a id="65475" href="Demos.HSP-markdown.html#65387" class="Bound">p</a> <a id="65477" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="65480" href="Demos.HSP-markdown.html#65389" class="Bound">q</a><a id="65481" class="Symbol">)</a>
 <a id="65484" href="Demos.HSP-markdown.html#65441" class="Function">V-id1</a> <a id="65490" href="Demos.HSP-markdown.html#65490" class="Bound">Ïƒ</a> <a id="65492" href="Demos.HSP-markdown.html#65492" class="Bound">ğ‘©</a> <a id="65494" class="Symbol">(</a><a id="65495" href="Demos.HSP-markdown.html#65495" class="Bound">ğ‘¨</a> <a id="65497" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65499" class="Symbol">(</a><a id="65500" href="Demos.HSP-markdown.html#65500" class="Bound">â¨…A</a> <a id="65503" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65505" href="Demos.HSP-markdown.html#65505" class="Bound">pâ¨…A</a> <a id="65509" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65511" href="Demos.HSP-markdown.html#65511" class="Bound">Aâ‰¤â¨…A</a><a id="65515" class="Symbol">)</a> <a id="65517" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65519" href="Demos.HSP-markdown.html#65519" class="Bound">BimgA</a><a id="65524" class="Symbol">)</a> <a id="65526" class="Symbol">=</a>
  <a id="65530" href="Demos.HSP-markdown.html#63334" class="Function">H-id1</a><a id="65535" class="Symbol">{</a><a id="65536" class="Argument">â„“</a> <a id="65538" class="Symbol">=</a> <a id="65540" href="Demos.HSP-markdown.html#65418" class="Function">aâ„“Î¹</a><a id="65543" class="Symbol">}{</a><a id="65545" class="Argument">ğ’¦</a> <a id="65547" class="Symbol">=</a> <a id="65549" href="Demos.HSP-markdown.html#57226" class="Function">S</a> <a id="65551" href="Demos.HSP-markdown.html#65418" class="Function">aâ„“Î¹</a> <a id="65555" class="Symbol">(</a><a id="65556" href="Demos.HSP-markdown.html#57352" class="Function">P</a> <a id="65558" class="Symbol">{</a><a id="65559" class="Argument">Î²</a> <a id="65561" class="Symbol">=</a> <a id="65563" href="Demos.HSP-markdown.html#65365" class="Bound">Î±</a><a id="65564" class="Symbol">}{</a><a id="65566" href="Demos.HSP-markdown.html#65367" class="Bound">Ïáµƒ</a><a id="65568" class="Symbol">}</a><a id="65569" href="Demos.HSP-markdown.html#65383" class="Bound">â„“</a> <a id="65571" href="Demos.HSP-markdown.html#65337" class="Bound">Î¹</a> <a id="65573" href="Demos.HSP-markdown.html#65348" class="Bound">ğ’¦</a><a id="65574" class="Symbol">)}{</a><a id="65577" class="Argument">p</a> <a id="65579" class="Symbol">=</a> <a id="65581" href="Demos.HSP-markdown.html#65387" class="Bound">p</a><a id="65582" class="Symbol">}{</a><a id="65584" href="Demos.HSP-markdown.html#65389" class="Bound">q</a><a id="65585" class="Symbol">}</a> <a id="65587" href="Demos.HSP-markdown.html#65695" class="Function">spKâŠ§pq</a> <a id="65594" href="Demos.HSP-markdown.html#65492" class="Bound">ğ‘©</a> <a id="65596" class="Symbol">(</a><a id="65597" href="Demos.HSP-markdown.html#65495" class="Bound">ğ‘¨</a> <a id="65599" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65601" class="Symbol">(</a><a id="65602" href="Demos.HSP-markdown.html#65628" class="Function">spA</a> <a id="65606" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65608" href="Demos.HSP-markdown.html#65519" class="Bound">BimgA</a><a id="65613" class="Symbol">))</a>
   <a id="65619" class="Keyword">where</a>
   <a id="65628" href="Demos.HSP-markdown.html#65628" class="Function">spA</a> <a id="65632" class="Symbol">:</a> <a id="65634" href="Demos.HSP-markdown.html#65495" class="Bound">ğ‘¨</a> <a id="65636" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="65638" href="Demos.HSP-markdown.html#57226" class="Function">S</a> <a id="65640" href="Demos.HSP-markdown.html#65418" class="Function">aâ„“Î¹</a> <a id="65644" class="Symbol">(</a><a id="65645" href="Demos.HSP-markdown.html#57352" class="Function">P</a> <a id="65647" class="Symbol">{</a><a id="65648" class="Argument">Î²</a> <a id="65650" class="Symbol">=</a> <a id="65652" href="Demos.HSP-markdown.html#65365" class="Bound">Î±</a><a id="65653" class="Symbol">}{</a><a id="65655" href="Demos.HSP-markdown.html#65367" class="Bound">Ïáµƒ</a><a id="65657" class="Symbol">}</a><a id="65658" href="Demos.HSP-markdown.html#65383" class="Bound">â„“</a> <a id="65660" href="Demos.HSP-markdown.html#65337" class="Bound">Î¹</a> <a id="65662" href="Demos.HSP-markdown.html#65348" class="Bound">ğ’¦</a><a id="65663" class="Symbol">)</a>
   <a id="65668" href="Demos.HSP-markdown.html#65628" class="Function">spA</a> <a id="65672" class="Symbol">=</a> <a id="65674" href="Demos.HSP-markdown.html#65500" class="Bound">â¨…A</a> <a id="65677" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65679" class="Symbol">(</a><a id="65680" href="Demos.HSP-markdown.html#65505" class="Bound">pâ¨…A</a> <a id="65684" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65686" href="Demos.HSP-markdown.html#65511" class="Bound">Aâ‰¤â¨…A</a><a id="65690" class="Symbol">)</a>
   <a id="65695" href="Demos.HSP-markdown.html#65695" class="Function">spKâŠ§pq</a> <a id="65702" class="Symbol">:</a> <a id="65704" href="Demos.HSP-markdown.html#57226" class="Function">S</a> <a id="65706" href="Demos.HSP-markdown.html#65418" class="Function">aâ„“Î¹</a> <a id="65710" class="Symbol">(</a><a id="65711" href="Demos.HSP-markdown.html#57352" class="Function">P</a> <a id="65713" href="Demos.HSP-markdown.html#65383" class="Bound">â„“</a> <a id="65715" href="Demos.HSP-markdown.html#65337" class="Bound">Î¹</a> <a id="65717" href="Demos.HSP-markdown.html#65348" class="Bound">ğ’¦</a><a id="65718" class="Symbol">)</a> <a id="65720" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="65722" class="Symbol">(</a><a id="65723" href="Demos.HSP-markdown.html#65387" class="Bound">p</a> <a id="65725" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="65728" href="Demos.HSP-markdown.html#65389" class="Bound">q</a><a id="65729" class="Symbol">)</a>
   <a id="65734" href="Demos.HSP-markdown.html#65695" class="Function">spKâŠ§pq</a> <a id="65741" class="Symbol">=</a> <a id="65743" href="Demos.HSP-markdown.html#64459" class="Function">S-id1</a><a id="65748" class="Symbol">{</a><a id="65749" class="Argument">â„“</a> <a id="65751" class="Symbol">=</a> <a id="65753" href="Demos.HSP-markdown.html#65418" class="Function">aâ„“Î¹</a><a id="65756" class="Symbol">}{</a><a id="65758" class="Argument">p</a> <a id="65760" class="Symbol">=</a> <a id="65762" href="Demos.HSP-markdown.html#65387" class="Bound">p</a><a id="65763" class="Symbol">}{</a><a id="65765" href="Demos.HSP-markdown.html#65389" class="Bound">q</a><a id="65766" class="Symbol">}</a> <a id="65768" class="Symbol">(</a><a id="65769" href="Demos.HSP-markdown.html#64904" class="Function">P-id1</a><a id="65774" class="Symbol">{</a><a id="65775" class="Argument">â„“</a> <a id="65777" class="Symbol">=</a> <a id="65779" href="Demos.HSP-markdown.html#65383" class="Bound">â„“</a><a id="65780" class="Symbol">}</a> <a id="65782" class="Symbol">{</a><a id="65783" class="Argument">ğ’¦</a> <a id="65785" class="Symbol">=</a> <a id="65787" href="Demos.HSP-markdown.html#65348" class="Bound">ğ’¦</a><a id="65788" class="Symbol">}{</a><a id="65790" class="Argument">p</a> <a id="65792" class="Symbol">=</a> <a id="65794" href="Demos.HSP-markdown.html#65387" class="Bound">p</a><a id="65795" class="Symbol">}{</a><a id="65797" href="Demos.HSP-markdown.html#65389" class="Bound">q</a><a id="65798" class="Symbol">}</a> <a id="65800" href="Demos.HSP-markdown.html#65490" class="Bound">Ïƒ</a><a id="65801" class="Symbol">)</a>
</pre>

#### <a id="th-k-subset-th-v">Th ğ’¦ âŠ† Th (V ğ’¦)</a>

From `V-id1` it follows that if ğ’¦ is a class of algebras, then the set of identities modeled by the algebras in `ğ’¦` is contained in the set of identities modeled by the algebras in `V ğ’¦`.  In other terms, `Th ğ’¦ âŠ† Th (V ğ’¦)`.  We formalize this observation as follows.

<pre class="Agda">

 <a id="66149" href="Demos.HSP-markdown.html#66149" class="Function">classIds-âŠ†-VIds</a> <a id="66165" class="Symbol">:</a> <a id="66167" href="Demos.HSP-markdown.html#65348" class="Bound">ğ’¦</a> <a id="66169" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="66171" class="Symbol">(</a><a id="66172" href="Demos.HSP-markdown.html#65387" class="Bound">p</a> <a id="66174" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="66177" href="Demos.HSP-markdown.html#65389" class="Bound">q</a><a id="66178" class="Symbol">)</a>  <a id="66181" class="Symbol">â†’</a> <a id="66183" class="Symbol">(</a><a id="66184" href="Demos.HSP-markdown.html#65387" class="Bound">p</a> <a id="66186" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="66188" href="Demos.HSP-markdown.html#65389" class="Bound">q</a><a id="66189" class="Symbol">)</a> <a id="66191" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="66193" href="Demos.HSP-markdown.html#52808" class="Function">Th</a> <a id="66196" class="Symbol">(</a><a id="66197" href="Demos.HSP-markdown.html#57886" class="Function">V</a> <a id="66199" href="Demos.HSP-markdown.html#65383" class="Bound">â„“</a> <a id="66201" href="Demos.HSP-markdown.html#65337" class="Bound">Î¹</a> <a id="66203" href="Demos.HSP-markdown.html#65348" class="Bound">ğ’¦</a><a id="66204" class="Symbol">)</a>
 <a id="66207" href="Demos.HSP-markdown.html#66149" class="Function">classIds-âŠ†-VIds</a> <a id="66223" href="Demos.HSP-markdown.html#66223" class="Bound">pKq</a> <a id="66227" href="Demos.HSP-markdown.html#66227" class="Bound">ğ‘¨</a> <a id="66229" class="Symbol">=</a> <a id="66231" href="Demos.HSP-markdown.html#65441" class="Function">V-id1</a> <a id="66237" href="Demos.HSP-markdown.html#66223" class="Bound">pKq</a> <a id="66241" href="Demos.HSP-markdown.html#66227" class="Bound">ğ‘¨</a>
</pre>




<!-- ------------------------------------------------------------------------------------- -->

## <a id="free-algebras">Free Algebras</a>

### <a id="the-absolutely-free-algebra-tx">The absolutely free algebra ğ‘» X</a>

The term algebra `ğ‘» X` is *absolutely free* (or *universal*, or *initial*) for algebras in the signature `ğ‘†`. That is, for every ğ‘†-algebra `ğ‘¨`, the following hold.

1. Every function from `ğ‘‹` to `âˆ£ ğ‘¨ âˆ£` lifts to a homomorphism from `ğ‘» X` to `ğ‘¨`.
2. The homomorphism that exists by item 1 is unique.

We now prove this in [Agda][], starting with the fact that every map from `X` to `âˆ£ ğ‘¨ âˆ£` lifts to a map from `âˆ£ ğ‘» X âˆ£` to `âˆ£ ğ‘¨ âˆ£` in a natural way, by induction on the structure of the given term.

<pre class="Agda">

<a id="66990" class="Keyword">module</a> <a id="66997" href="Demos.HSP-markdown.html#66997" class="Module">_</a> <a id="66999" class="Symbol">{</a><a id="67000" href="Demos.HSP-markdown.html#67000" class="Bound">X</a> <a id="67002" class="Symbol">:</a> <a id="67004" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="67009" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="67010" class="Symbol">}{</a><a id="67012" href="Demos.HSP-markdown.html#67012" class="Bound">ğ‘¨</a> <a id="67014" class="Symbol">:</a> <a id="67016" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="67024" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="67026" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="67028" class="Symbol">}(</a><a id="67030" href="Demos.HSP-markdown.html#67030" class="Bound">h</a> <a id="67032" class="Symbol">:</a> <a id="67034" href="Demos.HSP-markdown.html#67000" class="Bound">X</a> <a id="67036" class="Symbol">â†’</a> <a id="67038" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="67041" href="Demos.HSP-markdown.html#67012" class="Bound">ğ‘¨</a> <a id="67043" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a><a id="67044" class="Symbol">)</a> <a id="67046" class="Keyword">where</a>
 <a id="67053" class="Keyword">open</a> <a id="67058" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="67065" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="67068" href="Demos.HSP-markdown.html#67012" class="Bound">ğ‘¨</a> <a id="67070" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="67072" class="Keyword">using</a> <a id="67078" class="Symbol">(</a> <a id="67080" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="67084" class="Symbol">;</a> <a id="67086" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="67096" class="Symbol">;</a> <a id="67098" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="67103" class="Symbol">;</a> <a id="67105" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="67111" class="Symbol">)</a>

 <a id="67115" href="Demos.HSP-markdown.html#67115" class="Function">free-lift</a> <a id="67125" class="Symbol">:</a> <a id="67127" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="67130" href="Demos.HSP-markdown.html#44264" class="Function">ğ‘»</a> <a id="67132" href="Demos.HSP-markdown.html#67000" class="Bound">X</a> <a id="67134" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a> <a id="67136" class="Symbol">â†’</a> <a id="67138" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="67141" href="Demos.HSP-markdown.html#67012" class="Bound">ğ‘¨</a> <a id="67143" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a>
 <a id="67146" href="Demos.HSP-markdown.html#67115" class="Function">free-lift</a> <a id="67156" class="Symbol">(</a><a id="67157" href="Demos.HSP-markdown.html#41527" class="InductiveConstructor">â„Š</a> <a id="67159" href="Demos.HSP-markdown.html#67159" class="Bound">x</a><a id="67160" class="Symbol">)</a> <a id="67162" class="Symbol">=</a> <a id="67164" href="Demos.HSP-markdown.html#67030" class="Bound">h</a> <a id="67166" href="Demos.HSP-markdown.html#67159" class="Bound">x</a>
 <a id="67169" href="Demos.HSP-markdown.html#67115" class="Function">free-lift</a> <a id="67179" class="Symbol">(</a><a id="67180" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="67185" href="Demos.HSP-markdown.html#67185" class="Bound">f</a> <a id="67187" href="Demos.HSP-markdown.html#67187" class="Bound">t</a><a id="67188" class="Symbol">)</a> <a id="67190" class="Symbol">=</a> <a id="67192" class="Symbol">(</a><a id="67193" href="Demos.HSP-markdown.html#67185" class="Bound">f</a> <a id="67195" href="Demos.HSP-markdown.html#23818" class="Function Operator">Ì‚</a> <a id="67197" href="Demos.HSP-markdown.html#67012" class="Bound">ğ‘¨</a><a id="67198" class="Symbol">)</a> <a id="67200" class="Symbol">(Î»</a> <a id="67203" href="Demos.HSP-markdown.html#67203" class="Bound">i</a> <a id="67205" class="Symbol">â†’</a> <a id="67207" href="Demos.HSP-markdown.html#67115" class="Function">free-lift</a> <a id="67217" class="Symbol">(</a><a id="67218" href="Demos.HSP-markdown.html#67187" class="Bound">t</a> <a id="67220" href="Demos.HSP-markdown.html#67203" class="Bound">i</a><a id="67221" class="Symbol">))</a>

 <a id="67226" href="Demos.HSP-markdown.html#67226" class="Function">free-lift-func</a> <a id="67241" class="Symbol">:</a> <a id="67243" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="67246" href="Demos.HSP-markdown.html#44264" class="Function">ğ‘»</a> <a id="67248" href="Demos.HSP-markdown.html#67000" class="Bound">X</a> <a id="67250" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="67252" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="67254" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="67257" href="Demos.HSP-markdown.html#67012" class="Bound">ğ‘¨</a> <a id="67259" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>
 <a id="67262" href="Demos.HSP-markdown.html#67226" class="Function">free-lift-func</a> <a id="67277" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="67281" href="Demos.HSP-markdown.html#67281" class="Bound">x</a> <a id="67283" class="Symbol">=</a> <a id="67285" href="Demos.HSP-markdown.html#67115" class="Function">free-lift</a> <a id="67295" href="Demos.HSP-markdown.html#67281" class="Bound">x</a>
 <a id="67298" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="67303" href="Demos.HSP-markdown.html#67226" class="Function">free-lift-func</a> <a id="67318" class="Symbol">=</a> <a id="67320" href="Demos.HSP-markdown.html#67337" class="Function">flcong</a>
  <a id="67329" class="Keyword">where</a>
  <a id="67337" href="Demos.HSP-markdown.html#67337" class="Function">flcong</a> <a id="67344" class="Symbol">:</a> <a id="67346" class="Symbol">âˆ€</a> <a id="67348" class="Symbol">{</a><a id="67349" href="Demos.HSP-markdown.html#67349" class="Bound">s</a> <a id="67351" href="Demos.HSP-markdown.html#67351" class="Bound">t</a><a id="67352" class="Symbol">}</a> <a id="67354" class="Symbol">â†’</a> <a id="67356" href="Demos.HSP-markdown.html#67349" class="Bound">s</a> <a id="67358" href="Demos.HSP-markdown.html#42474" class="Datatype Operator">â‰</a> <a id="67360" href="Demos.HSP-markdown.html#67351" class="Bound">t</a> <a id="67362" class="Symbol">â†’</a>  <a id="67365" href="Demos.HSP-markdown.html#67115" class="Function">free-lift</a> <a id="67375" href="Demos.HSP-markdown.html#67349" class="Bound">s</a> <a id="67377" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="67379" href="Demos.HSP-markdown.html#67115" class="Function">free-lift</a> <a id="67389" href="Demos.HSP-markdown.html#67351" class="Bound">t</a>
  <a id="67393" href="Demos.HSP-markdown.html#67337" class="Function">flcong</a> <a id="67400" class="Symbol">(</a><a id="67401" href="Demos.HSP-markdown.html#42518" class="InductiveConstructor">_â‰_.rfl</a> <a id="67409" href="Demos.HSP-markdown.html#67409" class="Bound">x</a><a id="67410" class="Symbol">)</a> <a id="67412" class="Symbol">=</a> <a id="67414" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="67424" class="Symbol">(</a><a id="67425" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">â‰¡.cong</a> <a id="67432" href="Demos.HSP-markdown.html#67030" class="Bound">h</a> <a id="67434" href="Demos.HSP-markdown.html#67409" class="Bound">x</a><a id="67435" class="Symbol">)</a>
  <a id="67439" href="Demos.HSP-markdown.html#67337" class="Function">flcong</a> <a id="67446" class="Symbol">(</a><a id="67447" href="Demos.HSP-markdown.html#42560" class="InductiveConstructor">_â‰_.gnl</a> <a id="67455" href="Demos.HSP-markdown.html#67455" class="Bound">x</a><a id="67456" class="Symbol">)</a> <a id="67458" class="Symbol">=</a> <a id="67460" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="67465" class="Symbol">(</a><a id="67466" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="67473" href="Demos.HSP-markdown.html#67012" class="Bound">ğ‘¨</a><a id="67474" class="Symbol">)</a> <a id="67476" class="Symbol">(</a><a id="67477" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="67484" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="67486" class="Symbol">(Î»</a> <a id="67489" href="Demos.HSP-markdown.html#67489" class="Bound">i</a> <a id="67491" class="Symbol">â†’</a> <a id="67493" href="Demos.HSP-markdown.html#67337" class="Function">flcong</a> <a id="67500" class="Symbol">(</a><a id="67501" href="Demos.HSP-markdown.html#67455" class="Bound">x</a> <a id="67503" href="Demos.HSP-markdown.html#67489" class="Bound">i</a><a id="67504" class="Symbol">)))</a>

</pre>

Naturally, at the base step of the induction, when the term has the form `generator`
x, the free lift of `h` agrees with `h`.  For the inductive step, when the
given term has the form `node f t`, the free lift is defined as
follows: Assuming (the induction hypothesis) that we know the image of each
subterm `t i` under the free lift of `h`, define the free lift at the
full term by applying `f Ì‚ ğ‘¨` to the images of the subterms.

The free lift so defined is a homomorphism by construction. Indeed, here is the trivial proof.

<pre class="Agda">

 <a id="68064" href="Demos.HSP-markdown.html#68064" class="Function">lift-hom</a> <a id="68073" class="Symbol">:</a> <a id="68075" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="68079" class="Symbol">(</a><a id="68080" href="Demos.HSP-markdown.html#44264" class="Function">ğ‘»</a> <a id="68082" href="Demos.HSP-markdown.html#67000" class="Bound">X</a><a id="68083" class="Symbol">)</a> <a id="68085" href="Demos.HSP-markdown.html#67012" class="Bound">ğ‘¨</a>
 <a id="68088" href="Demos.HSP-markdown.html#68064" class="Function">lift-hom</a> <a id="68097" class="Symbol">=</a> <a id="68099" href="Demos.HSP-markdown.html#67226" class="Function">free-lift-func</a> <a id="68114" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="68116" href="Demos.HSP-markdown.html#68322" class="Function">hhom</a>
  <a id="68123" class="Keyword">where</a>
  <a id="68131" href="Demos.HSP-markdown.html#68131" class="Function">hfunc</a> <a id="68137" class="Symbol">:</a> <a id="68139" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="68142" href="Demos.HSP-markdown.html#44264" class="Function">ğ‘»</a> <a id="68144" href="Demos.HSP-markdown.html#67000" class="Bound">X</a> <a id="68146" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="68148" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="68150" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="68153" href="Demos.HSP-markdown.html#67012" class="Bound">ğ‘¨</a> <a id="68155" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>
  <a id="68159" href="Demos.HSP-markdown.html#68131" class="Function">hfunc</a> <a id="68165" class="Symbol">=</a> <a id="68167" href="Demos.HSP-markdown.html#67226" class="Function">free-lift-func</a>

  <a id="68185" href="Demos.HSP-markdown.html#68185" class="Function">hcomp</a> <a id="68191" class="Symbol">:</a> <a id="68193" href="Demos.HSP-markdown.html#26799" class="Function">compatible-map</a> <a id="68208" class="Symbol">(</a><a id="68209" href="Demos.HSP-markdown.html#44264" class="Function">ğ‘»</a> <a id="68211" href="Demos.HSP-markdown.html#67000" class="Bound">X</a><a id="68212" class="Symbol">)</a> <a id="68214" href="Demos.HSP-markdown.html#67012" class="Bound">ğ‘¨</a> <a id="68216" href="Demos.HSP-markdown.html#67226" class="Function">free-lift-func</a>
  <a id="68233" href="Demos.HSP-markdown.html#68185" class="Function">hcomp</a> <a id="68239" class="Symbol">{</a><a id="68240" href="Demos.HSP-markdown.html#68240" class="Bound">f</a><a id="68241" class="Symbol">}{</a><a id="68243" href="Demos.HSP-markdown.html#68243" class="Bound">a</a><a id="68244" class="Symbol">}</a> <a id="68246" class="Symbol">=</a> <a id="68248" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="68253" class="Symbol">(</a><a id="68254" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="68261" href="Demos.HSP-markdown.html#67012" class="Bound">ğ‘¨</a><a id="68262" class="Symbol">)</a> <a id="68264" class="Symbol">(</a><a id="68265" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="68272" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="68274" class="Symbol">(Î»</a> <a id="68277" href="Demos.HSP-markdown.html#68277" class="Bound">i</a> <a id="68279" class="Symbol">â†’</a> <a id="68281" class="Symbol">(</a><a id="68282" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="68287" href="Demos.HSP-markdown.html#67226" class="Function">free-lift-func</a><a id="68301" class="Symbol">){</a><a id="68303" href="Demos.HSP-markdown.html#68243" class="Bound">a</a> <a id="68305" href="Demos.HSP-markdown.html#68277" class="Bound">i</a><a id="68306" class="Symbol">}</a> <a id="68308" href="Demos.HSP-markdown.html#42884" class="Function">â‰-isRefl</a><a id="68316" class="Symbol">))</a>

  <a id="68322" href="Demos.HSP-markdown.html#68322" class="Function">hhom</a> <a id="68327" class="Symbol">:</a> <a id="68329" href="Demos.HSP-markdown.html#26956" class="Record">IsHom</a> <a id="68335" class="Symbol">(</a><a id="68336" href="Demos.HSP-markdown.html#44264" class="Function">ğ‘»</a> <a id="68338" href="Demos.HSP-markdown.html#67000" class="Bound">X</a><a id="68339" class="Symbol">)</a> <a id="68341" href="Demos.HSP-markdown.html#67012" class="Bound">ğ‘¨</a> <a id="68343" href="Demos.HSP-markdown.html#68131" class="Function">hfunc</a>
  <a id="68351" href="Demos.HSP-markdown.html#68322" class="Function">hhom</a> <a id="68356" class="Symbol">=</a> <a id="68358" href="Demos.HSP-markdown.html#27025" class="InductiveConstructor">mkhom</a> <a id="68364" class="Symbol">(Î»{</a><a id="68367" href="Demos.HSP-markdown.html#68367" class="Bound">f</a><a id="68368" class="Symbol">}{</a><a id="68370" href="Demos.HSP-markdown.html#68370" class="Bound">a</a><a id="68371" class="Symbol">}</a> <a id="68373" class="Symbol">â†’</a> <a id="68375" href="Demos.HSP-markdown.html#68185" class="Function">hcomp</a><a id="68380" class="Symbol">{</a><a id="68381" href="Demos.HSP-markdown.html#68367" class="Bound">f</a><a id="68382" class="Symbol">}{</a><a id="68384" href="Demos.HSP-markdown.html#68370" class="Bound">a</a><a id="68385" class="Symbol">})</a>


<a id="68390" class="Keyword">module</a> <a id="68397" href="Demos.HSP-markdown.html#68397" class="Module">_</a> <a id="68399" class="Symbol">{</a><a id="68400" href="Demos.HSP-markdown.html#68400" class="Bound">X</a> <a id="68402" class="Symbol">:</a> <a id="68404" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="68409" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="68410" class="Symbol">}{</a><a id="68412" href="Demos.HSP-markdown.html#68412" class="Bound">ğ‘¨</a> <a id="68414" class="Symbol">:</a> <a id="68416" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="68424" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="68426" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="68428" class="Symbol">}</a> <a id="68430" class="Keyword">where</a>
 <a id="68437" class="Keyword">open</a> <a id="68442" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="68449" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="68452" href="Demos.HSP-markdown.html#68412" class="Bound">ğ‘¨</a> <a id="68454" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="68456" class="Keyword">using</a> <a id="68462" class="Symbol">(</a> <a id="68464" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="68468" class="Symbol">;</a> <a id="68470" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="68475" class="Symbol">)</a>
 <a id="68478" class="Keyword">open</a> <a id="68483" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="68495" href="Demos.HSP-markdown.html#68412" class="Bound">ğ‘¨</a> <a id="68497" class="Keyword">using</a> <a id="68503" class="Symbol">(</a> <a id="68505" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="68509" class="Symbol">)</a>

 <a id="68513" href="Demos.HSP-markdown.html#68513" class="Function">free-lift-interp</a> <a id="68530" class="Symbol">:</a> <a id="68532" class="Symbol">(</a><a id="68533" href="Demos.HSP-markdown.html#68533" class="Bound">Î·</a> <a id="68535" class="Symbol">:</a> <a id="68537" href="Demos.HSP-markdown.html#68400" class="Bound">X</a> <a id="68539" class="Symbol">â†’</a> <a id="68541" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="68544" href="Demos.HSP-markdown.html#68412" class="Bound">ğ‘¨</a> <a id="68546" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a><a id="68547" class="Symbol">)(</a><a id="68549" href="Demos.HSP-markdown.html#68549" class="Bound">p</a> <a id="68551" class="Symbol">:</a> <a id="68553" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="68558" href="Demos.HSP-markdown.html#68400" class="Bound">X</a><a id="68559" class="Symbol">)</a> <a id="68561" class="Symbol">â†’</a> <a id="68563" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="68565" href="Demos.HSP-markdown.html#68549" class="Bound">p</a> <a id="68567" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="68569" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="68573" href="Demos.HSP-markdown.html#68533" class="Bound">Î·</a> <a id="68575" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="68577" class="Symbol">(</a><a id="68578" href="Demos.HSP-markdown.html#67115" class="Function">free-lift</a> <a id="68588" class="Symbol">{</a><a id="68589" class="Argument">ğ‘¨</a> <a id="68591" class="Symbol">=</a> <a id="68593" href="Demos.HSP-markdown.html#68412" class="Bound">ğ‘¨</a><a id="68594" class="Symbol">}</a> <a id="68596" href="Demos.HSP-markdown.html#68533" class="Bound">Î·</a><a id="68597" class="Symbol">)</a> <a id="68599" href="Demos.HSP-markdown.html#68549" class="Bound">p</a>
 <a id="68602" href="Demos.HSP-markdown.html#68513" class="Function">free-lift-interp</a> <a id="68619" href="Demos.HSP-markdown.html#68619" class="Bound">Î·</a> <a id="68621" class="Symbol">(</a><a id="68622" href="Demos.HSP-markdown.html#41527" class="InductiveConstructor">â„Š</a> <a id="68624" href="Demos.HSP-markdown.html#68624" class="Bound">x</a><a id="68625" class="Symbol">)</a> <a id="68627" class="Symbol">=</a> <a id="68629" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="68635" href="Demos.HSP-markdown.html#68513" class="Function">free-lift-interp</a> <a id="68652" href="Demos.HSP-markdown.html#68652" class="Bound">Î·</a> <a id="68654" class="Symbol">(</a><a id="68655" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="68660" href="Demos.HSP-markdown.html#68660" class="Bound">f</a> <a id="68662" href="Demos.HSP-markdown.html#68662" class="Bound">t</a><a id="68663" class="Symbol">)</a> <a id="68665" class="Symbol">=</a> <a id="68667" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="68672" class="Symbol">(</a><a id="68673" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="68680" href="Demos.HSP-markdown.html#68412" class="Bound">ğ‘¨</a><a id="68681" class="Symbol">)</a> <a id="68683" class="Symbol">(</a><a id="68684" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="68691" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="68693" class="Symbol">(</a><a id="68694" href="Demos.HSP-markdown.html#68513" class="Function">free-lift-interp</a> <a id="68711" href="Demos.HSP-markdown.html#68652" class="Bound">Î·</a><a id="68712" class="Symbol">)</a> <a id="68714" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="68716" href="Demos.HSP-markdown.html#68662" class="Bound">t</a><a id="68717" class="Symbol">)</a>
</pre>

### <a id="the-relatively-free-algebra-f">The relatively free algebra ğ”½</a>

We now define the algebra `ğ”½[ X ]`, which plays the role of the relatively free algebra, along with the natural epimorphism `epiğ”½ : epi (ğ‘» X) ğ”½[ X ]` from `ğ‘» X` to `ğ”½[ X ]`.

<pre class="Agda">

<a id="68997" class="Keyword">module</a> <a id="FreeAlgebra"></a><a id="69004" href="Demos.HSP-markdown.html#69004" class="Module">FreeAlgebra</a> <a id="69016" class="Symbol">{</a><a id="69017" href="Demos.HSP-markdown.html#69017" class="Bound">Ï‡</a> <a id="69019" class="Symbol">:</a> <a id="69021" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="69026" class="Symbol">}{</a><a id="69028" href="Demos.HSP-markdown.html#69028" class="Bound">Î¹</a> <a id="69030" class="Symbol">:</a> <a id="69032" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="69037" class="Symbol">}{</a><a id="69039" href="Demos.HSP-markdown.html#69039" class="Bound">I</a> <a id="69041" class="Symbol">:</a> <a id="69043" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="69048" href="Demos.HSP-markdown.html#69028" class="Bound">Î¹</a><a id="69049" class="Symbol">}(</a><a id="69051" href="Demos.HSP-markdown.html#69051" class="Bound">â„°</a> <a id="69053" class="Symbol">:</a> <a id="69055" href="Demos.HSP-markdown.html#69039" class="Bound">I</a> <a id="69057" class="Symbol">â†’</a> <a id="69059" href="Demos.HSP-markdown.html#50949" class="Record">Eq</a><a id="69061" class="Symbol">)</a> <a id="69063" class="Keyword">where</a>
 <a id="69070" class="Keyword">open</a> <a id="69075" href="Demos.HSP-markdown.html#22497" class="Module">Algebra</a>

 <a id="FreeAlgebra.FreeDomain"></a><a id="69085" href="Demos.HSP-markdown.html#69085" class="Function">FreeDomain</a> <a id="69096" class="Symbol">:</a> <a id="69098" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="69103" href="Demos.HSP-markdown.html#69017" class="Bound">Ï‡</a> <a id="69105" class="Symbol">â†’</a> <a id="69107" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="69114" class="Symbol">_</a> <a id="69116" class="Symbol">_</a>
 <a id="69119" href="Demos.HSP-markdown.html#69085" class="Function">FreeDomain</a> <a id="69130" href="Demos.HSP-markdown.html#69130" class="Bound">X</a> <a id="69132" class="Symbol">=</a> <a id="69134" class="Keyword">record</a>  <a id="69142" class="Symbol">{</a> <a id="69144" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a>        <a id="69159" class="Symbol">=</a> <a id="69161" href="Demos.HSP-markdown.html#41486" class="Datatype">Term</a> <a id="69166" href="Demos.HSP-markdown.html#69130" class="Bound">X</a>
                        <a id="69192" class="Symbol">;</a> <a id="69194" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a>            <a id="69209" class="Symbol">=</a> <a id="69211" href="Demos.HSP-markdown.html#69051" class="Bound">â„°</a> <a id="69213" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="69215" href="Demos.HSP-markdown.html#69130" class="Bound">X</a> <a id="69217" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹_â‰ˆ_</a>
                        <a id="69246" class="Symbol">;</a> <a id="69248" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a>  <a id="69263" class="Symbol">=</a> <a id="69265" href="Demos.HSP-markdown.html#53815" class="Function">âŠ¢â–¹â‰ˆIsEquiv</a> <a id="69276" class="Symbol">}</a>
</pre>

The interpretation of an operation is simply the operation itself.
This works since `â„° âŠ¢ X â–¹_â‰ˆ_` is a congruence.

<pre class="Agda">

 <a id="FreeAlgebra.FreeInterp"></a><a id="69420" href="Demos.HSP-markdown.html#69420" class="Function">FreeInterp</a> <a id="69431" class="Symbol">:</a> <a id="69433" class="Symbol">âˆ€</a> <a id="69435" class="Symbol">{</a><a id="69436" href="Demos.HSP-markdown.html#69436" class="Bound">X</a><a id="69437" class="Symbol">}</a> <a id="69439" class="Symbol">â†’</a> <a id="69441" href="Demos.HSP-markdown.html#20923" class="Function Operator">âŸ¨</a> <a id="69443" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="69445" href="Demos.HSP-markdown.html#20923" class="Function Operator">âŸ©</a> <a id="69447" class="Symbol">(</a><a id="69448" href="Demos.HSP-markdown.html#69085" class="Function">FreeDomain</a> <a id="69459" href="Demos.HSP-markdown.html#69436" class="Bound">X</a><a id="69460" class="Symbol">)</a> <a id="69462" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="69464" href="Demos.HSP-markdown.html#69085" class="Function">FreeDomain</a> <a id="69475" href="Demos.HSP-markdown.html#69436" class="Bound">X</a>
 <a id="69478" href="Demos.HSP-markdown.html#69420" class="Function">FreeInterp</a> <a id="69489" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="69493" class="Symbol">(</a><a id="69494" href="Demos.HSP-markdown.html#69494" class="Bound">f</a> <a id="69496" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="69498" href="Demos.HSP-markdown.html#69498" class="Bound">ts</a><a id="69500" class="Symbol">)</a> <a id="69502" class="Symbol">=</a> <a id="69504" href="Demos.HSP-markdown.html#41543" class="InductiveConstructor">node</a> <a id="69509" href="Demos.HSP-markdown.html#69494" class="Bound">f</a> <a id="69511" href="Demos.HSP-markdown.html#69498" class="Bound">ts</a>
 <a id="69515" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="69520" href="Demos.HSP-markdown.html#69420" class="Function">FreeInterp</a> <a id="69531" class="Symbol">(</a><a id="69532" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="69539" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="69541" href="Demos.HSP-markdown.html#69541" class="Bound">h</a><a id="69542" class="Symbol">)</a> <a id="69544" class="Symbol">=</a> <a id="69546" href="Demos.HSP-markdown.html#53456" class="InductiveConstructor">app</a> <a id="69550" href="Demos.HSP-markdown.html#69541" class="Bound">h</a>

 <a id="FreeAlgebra.ğ”½[_]"></a><a id="69554" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[_]</a> <a id="69559" class="Symbol">:</a> <a id="69561" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="69566" href="Demos.HSP-markdown.html#69017" class="Bound">Ï‡</a> <a id="69568" class="Symbol">â†’</a> <a id="69570" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="69578" class="Symbol">(</a><a id="69579" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="69582" href="Demos.HSP-markdown.html#69017" class="Bound">Ï‡</a><a id="69583" class="Symbol">)</a> <a id="69585" class="Symbol">(</a><a id="69586" href="Demos.HSP-markdown.html#69028" class="Bound">Î¹</a> <a id="69588" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="69590" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="69593" href="Demos.HSP-markdown.html#69017" class="Bound">Ï‡</a><a id="69594" class="Symbol">)</a>
 <a id="69597" href="Demos.HSP-markdown.html#22553" class="Field">Domain</a> <a id="69604" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="69607" href="Demos.HSP-markdown.html#69607" class="Bound">X</a> <a id="69609" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="69611" class="Symbol">=</a> <a id="69613" href="Demos.HSP-markdown.html#69085" class="Function">FreeDomain</a> <a id="69624" href="Demos.HSP-markdown.html#69607" class="Bound">X</a>
 <a id="69627" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="69634" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="69637" href="Demos.HSP-markdown.html#69637" class="Bound">X</a> <a id="69639" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="69641" class="Symbol">=</a> <a id="69643" href="Demos.HSP-markdown.html#69420" class="Function">FreeInterp</a>
</pre>

### <a id="basic-properties-of-free-algebras">Basic properties of free algebras</a>

In the code below, `X` will play the role of an arbitrary collection of variables; it would suffice to take `X` to be the cardinality of the largest algebra in ğ’¦, but since we don't know that cardinality, we leave `X` aribtrary for now.

<pre class="Agda">

<a id="70003" class="Keyword">module</a> <a id="FreeHom"></a><a id="70010" href="Demos.HSP-markdown.html#70010" class="Module">FreeHom</a> <a id="70018" class="Symbol">(</a><a id="70019" href="Demos.HSP-markdown.html#70019" class="Bound">Ï‡</a> <a id="70021" class="Symbol">:</a> <a id="70023" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="70028" class="Symbol">)</a> <a id="70030" class="Symbol">{</a><a id="70031" href="Demos.HSP-markdown.html#70031" class="Bound">ğ’¦</a> <a id="70033" class="Symbol">:</a> <a id="70035" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="70039" class="Symbol">(</a><a id="70040" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="70048" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="70050" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="70052" class="Symbol">)</a> <a id="70054" class="Symbol">(</a><a id="70055" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="70057" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="70059" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="70062" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="70064" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="70067" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="70068" class="Symbol">)}</a> <a id="70071" class="Keyword">where</a>
 <a id="70078" class="Keyword">private</a> <a id="FreeHom.Î¹"></a><a id="70086" href="Demos.HSP-markdown.html#70086" class="Function">Î¹</a> <a id="70088" class="Symbol">=</a> <a id="70090" href="Demos.HSP-markdown.html#37560" class="Function">ov</a><a id="70092" class="Symbol">(</a><a id="70093" href="Demos.HSP-markdown.html#70019" class="Bound">Ï‡</a> <a id="70095" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="70097" href="Demos.HSP-markdown.html#70048" class="Bound">Î±</a> <a id="70099" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="70101" href="Demos.HSP-markdown.html#70050" class="Bound">Ïáµƒ</a> <a id="70104" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="70106" href="Demos.HSP-markdown.html#70067" class="Bound">â„“</a><a id="70107" class="Symbol">)</a>
 <a id="70110" class="Keyword">open</a> <a id="70115" href="Demos.HSP-markdown.html#50949" class="Module">Eq</a>

 <a id="FreeHom.â„"></a><a id="70120" href="Demos.HSP-markdown.html#70120" class="Function">â„</a> <a id="70122" class="Symbol">:</a> <a id="70124" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="70129" href="Demos.HSP-markdown.html#70086" class="Function">Î¹</a> <a id="70131" class="Comment">-- indexes the collection of equations modeled by ğ’¦</a>
 <a id="70184" href="Demos.HSP-markdown.html#70120" class="Function">â„</a> <a id="70186" class="Symbol">=</a> <a id="70188" href="Data.Product.html#916" class="Function">Î£[</a> <a id="70191" href="Demos.HSP-markdown.html#70191" class="Bound">eq</a> <a id="70194" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="70196" href="Demos.HSP-markdown.html#50949" class="Record">Eq</a><a id="70198" class="Symbol">{</a><a id="70199" href="Demos.HSP-markdown.html#70019" class="Bound">Ï‡</a><a id="70200" class="Symbol">}</a> <a id="70202" href="Data.Product.html#916" class="Function">]</a> <a id="70204" href="Demos.HSP-markdown.html#70031" class="Bound">ğ’¦</a> <a id="70206" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="70208" class="Symbol">((</a><a id="70210" href="Demos.HSP-markdown.html#51022" class="Field">lhs</a> <a id="70214" href="Demos.HSP-markdown.html#70191" class="Bound">eq</a><a id="70216" class="Symbol">)</a> <a id="70218" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="70221" class="Symbol">(</a><a id="70222" href="Demos.HSP-markdown.html#51048" class="Field">rhs</a> <a id="70226" href="Demos.HSP-markdown.html#70191" class="Bound">eq</a><a id="70228" class="Symbol">))</a>

 <a id="FreeHom.â„°"></a><a id="70233" href="Demos.HSP-markdown.html#70233" class="Function">â„°</a> <a id="70235" class="Symbol">:</a> <a id="70237" href="Demos.HSP-markdown.html#70120" class="Function">â„</a> <a id="70239" class="Symbol">â†’</a> <a id="70241" href="Demos.HSP-markdown.html#50949" class="Record">Eq</a>
 <a id="70245" href="Demos.HSP-markdown.html#70233" class="Function">â„°</a> <a id="70247" class="Symbol">(</a><a id="70248" href="Demos.HSP-markdown.html#70248" class="Bound">eqv</a> <a id="70252" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="70254" href="Demos.HSP-markdown.html#70254" class="Bound">p</a><a id="70255" class="Symbol">)</a> <a id="70257" class="Symbol">=</a> <a id="70259" href="Demos.HSP-markdown.html#70248" class="Bound">eqv</a>

 <a id="FreeHom.â„°âŠ¢[_]â–¹Thğ’¦"></a><a id="70265" href="Demos.HSP-markdown.html#70265" class="Function Operator">â„°âŠ¢[_]â–¹Thğ’¦</a> <a id="70275" class="Symbol">:</a> <a id="70277" class="Symbol">(</a><a id="70278" href="Demos.HSP-markdown.html#70278" class="Bound">X</a> <a id="70280" class="Symbol">:</a> <a id="70282" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="70287" href="Demos.HSP-markdown.html#70019" class="Bound">Ï‡</a><a id="70288" class="Symbol">)</a> <a id="70290" class="Symbol">â†’</a> <a id="70292" class="Symbol">âˆ€{</a><a id="70294" href="Demos.HSP-markdown.html#70294" class="Bound">p</a> <a id="70296" href="Demos.HSP-markdown.html#70296" class="Bound">q</a><a id="70297" class="Symbol">}</a> <a id="70299" class="Symbol">â†’</a> <a id="70301" href="Demos.HSP-markdown.html#70233" class="Function">â„°</a> <a id="70303" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="70305" href="Demos.HSP-markdown.html#70278" class="Bound">X</a> <a id="70307" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹</a> <a id="70309" href="Demos.HSP-markdown.html#70294" class="Bound">p</a> <a id="70311" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â‰ˆ</a> <a id="70313" href="Demos.HSP-markdown.html#70296" class="Bound">q</a> <a id="70315" class="Symbol">â†’</a> <a id="70317" href="Demos.HSP-markdown.html#70031" class="Bound">ğ’¦</a> <a id="70319" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="70321" class="Symbol">(</a><a id="70322" href="Demos.HSP-markdown.html#70294" class="Bound">p</a> <a id="70324" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="70327" href="Demos.HSP-markdown.html#70296" class="Bound">q</a><a id="70328" class="Symbol">)</a>
 <a id="70331" href="Demos.HSP-markdown.html#70265" class="Function Operator">â„°âŠ¢[</a> <a id="70335" href="Demos.HSP-markdown.html#70335" class="Bound">X</a> <a id="70337" href="Demos.HSP-markdown.html#70265" class="Function Operator">]â–¹Thğ’¦</a> <a id="70343" href="Demos.HSP-markdown.html#70343" class="Bound">x</a> <a id="70345" href="Demos.HSP-markdown.html#70345" class="Bound">ğ‘¨</a> <a id="70347" href="Demos.HSP-markdown.html#70347" class="Bound">kA</a> <a id="70350" class="Symbol">=</a> <a id="70352" href="Demos.HSP-markdown.html#54580" class="Function">sound</a> <a id="70358" class="Symbol">(Î»</a> <a id="70361" href="Demos.HSP-markdown.html#70361" class="Bound">i</a> <a id="70363" href="Demos.HSP-markdown.html#70363" class="Bound">Ï</a> <a id="70365" class="Symbol">â†’</a> <a id="70367" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="70369" href="Demos.HSP-markdown.html#70361" class="Bound">i</a> <a id="70371" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="70373" href="Demos.HSP-markdown.html#70345" class="Bound">ğ‘¨</a> <a id="70375" href="Demos.HSP-markdown.html#70347" class="Bound">kA</a> <a id="70378" href="Demos.HSP-markdown.html#70363" class="Bound">Ï</a><a id="70379" class="Symbol">)</a> <a id="70381" href="Demos.HSP-markdown.html#70343" class="Bound">x</a>
  <a id="70385" class="Keyword">where</a> <a id="70391" class="Keyword">open</a> <a id="70396" href="Demos.HSP-markdown.html#54257" class="Module">Soundness</a> <a id="70406" href="Demos.HSP-markdown.html#70233" class="Function">â„°</a> <a id="70408" href="Demos.HSP-markdown.html#70345" class="Bound">ğ‘¨</a>
 <a id="70411" class="Keyword">open</a> <a id="70416" href="Demos.HSP-markdown.html#69004" class="Module">FreeAlgebra</a> <a id="70428" class="Symbol">{</a><a id="70429" class="Argument">Î¹</a> <a id="70431" class="Symbol">=</a> <a id="70433" href="Demos.HSP-markdown.html#70086" class="Function">Î¹</a><a id="70434" class="Symbol">}{</a><a id="70436" class="Argument">I</a> <a id="70438" class="Symbol">=</a> <a id="70440" href="Demos.HSP-markdown.html#70120" class="Function">â„</a><a id="70441" class="Symbol">}</a> <a id="70443" href="Demos.HSP-markdown.html#70233" class="Function">â„°</a> <a id="70445" class="Keyword">using</a> <a id="70451" class="Symbol">(</a> <a id="70453" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[_]</a> <a id="70458" class="Symbol">)</a>
</pre>


#### <a id="the-natural-epimorphism-from-tx-to-f">The natural epimorphism from ğ‘» X to ğ”½[ X ]</a>
Next we define an epimorphism from `ğ‘» X` onto the relatively free algebra `ğ”½[ X ]`.  Of course, the kernel of this epimorphism will be the congruence of `ğ‘» X` defined by identities modeled by (`S ğ’¦`, hence) `ğ’¦`.

<pre class="Agda">

 <a id="FreeHom.epiğ”½[_]"></a><a id="70798" href="Demos.HSP-markdown.html#70798" class="Function Operator">epiğ”½[_]</a> <a id="70806" class="Symbol">:</a> <a id="70808" class="Symbol">(</a><a id="70809" href="Demos.HSP-markdown.html#70809" class="Bound">X</a> <a id="70811" class="Symbol">:</a> <a id="70813" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="70818" href="Demos.HSP-markdown.html#70019" class="Bound">Ï‡</a><a id="70819" class="Symbol">)</a> <a id="70821" class="Symbol">â†’</a> <a id="70823" href="Demos.HSP-markdown.html#27642" class="Function">epi</a> <a id="70827" class="Symbol">(</a><a id="70828" href="Demos.HSP-markdown.html#44264" class="Function">ğ‘»</a> <a id="70830" href="Demos.HSP-markdown.html#70809" class="Bound">X</a><a id="70831" class="Symbol">)</a> <a id="70833" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="70836" href="Demos.HSP-markdown.html#70809" class="Bound">X</a> <a id="70838" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a>
 <a id="70841" href="Demos.HSP-markdown.html#70798" class="Function Operator">epiğ”½[</a> <a id="70847" href="Demos.HSP-markdown.html#70847" class="Bound">X</a> <a id="70849" href="Demos.HSP-markdown.html#70798" class="Function Operator">]</a> <a id="70851" class="Symbol">=</a> <a id="70853" href="Demos.HSP-markdown.html#71255" class="Function">h</a> <a id="70855" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="70857" href="Demos.HSP-markdown.html#71304" class="Function">hepi</a>
  <a id="70864" class="Keyword">where</a>
  <a id="70872" class="Keyword">open</a> <a id="70877" href="Demos.HSP-markdown.html#22497" class="Module">Algebra</a> <a id="70885" class="Symbol">(</a><a id="70886" href="Demos.HSP-markdown.html#44264" class="Function">ğ‘»</a> <a id="70888" href="Demos.HSP-markdown.html#70847" class="Bound">X</a><a id="70889" class="Symbol">)</a> <a id="70891" class="Keyword">using</a> <a id="70897" class="Symbol">()</a> <a id="70900" class="Keyword">renaming</a> <a id="70909" class="Symbol">(</a><a id="70910" href="Demos.HSP-markdown.html#22553" class="Field">Domain</a> <a id="70917" class="Symbol">to</a> <a id="70920" class="Field">TX</a><a id="70922" class="Symbol">)</a>
  <a id="70926" class="Keyword">open</a> <a id="70931" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="70938" href="Demos.HSP-markdown.html#70920" class="Function">TX</a> <a id="70941" class="Keyword">using</a> <a id="70947" class="Symbol">()</a> <a id="70950" class="Keyword">renaming</a> <a id="70959" class="Symbol">(</a> <a id="70961" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="70965" class="Symbol">to</a> <a id="70968" class="Field Operator">_â‰ˆâ‚€_</a> <a id="70973" class="Symbol">;</a> <a id="70975" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="70980" class="Symbol">to</a> <a id="70983" class="Function">reflâ‚€</a> <a id="70989" class="Symbol">)</a>
  <a id="70993" class="Keyword">open</a> <a id="70998" href="Demos.HSP-markdown.html#22497" class="Module">Algebra</a> <a id="71006" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="71009" href="Demos.HSP-markdown.html#70847" class="Bound">X</a> <a id="71011" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="71013" class="Keyword">using</a> <a id="71019" class="Symbol">()</a> <a id="71022" class="Keyword">renaming</a> <a id="71031" class="Symbol">(</a> <a id="71033" href="Demos.HSP-markdown.html#22553" class="Field">Domain</a> <a id="71040" class="Symbol">to</a> <a id="71043" class="Field">F</a> <a id="71045" class="Symbol">)</a>
  <a id="71049" class="Keyword">open</a> <a id="71054" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="71061" href="Demos.HSP-markdown.html#71043" class="Function">F</a> <a id="71063" class="Keyword">using</a> <a id="71069" class="Symbol">()</a> <a id="71072" class="Keyword">renaming</a> <a id="71081" class="Symbol">(</a> <a id="71083" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a>  <a id="71088" class="Symbol">to</a> <a id="71091" class="Field Operator">_â‰ˆâ‚_</a> <a id="71096" class="Symbol">;</a> <a id="71098" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="71103" class="Symbol">to</a> <a id="71106" class="Function">reflâ‚</a> <a id="71112" class="Symbol">)</a>
  <a id="71116" class="Keyword">open</a> <a id="71121" href="Demos.HSP-markdown.html#42474" class="Module Operator">_â‰_</a>

  <a id="71128" href="Demos.HSP-markdown.html#71128" class="Function">c</a> <a id="71130" class="Symbol">:</a> <a id="71132" class="Symbol">âˆ€</a> <a id="71134" class="Symbol">{</a><a id="71135" href="Demos.HSP-markdown.html#71135" class="Bound">x</a> <a id="71137" href="Demos.HSP-markdown.html#71137" class="Bound">y</a><a id="71138" class="Symbol">}</a> <a id="71140" class="Symbol">â†’</a> <a id="71142" href="Demos.HSP-markdown.html#71135" class="Bound">x</a> <a id="71144" href="Demos.HSP-markdown.html#70968" class="Function Operator">â‰ˆâ‚€</a> <a id="71147" href="Demos.HSP-markdown.html#71137" class="Bound">y</a> <a id="71149" class="Symbol">â†’</a> <a id="71151" href="Demos.HSP-markdown.html#71135" class="Bound">x</a> <a id="71153" href="Demos.HSP-markdown.html#71091" class="Function Operator">â‰ˆâ‚</a> <a id="71156" href="Demos.HSP-markdown.html#71137" class="Bound">y</a>
  <a id="71160" href="Demos.HSP-markdown.html#71128" class="Function">c</a> <a id="71162" class="Symbol">(</a><a id="71163" href="Demos.HSP-markdown.html#42518" class="InductiveConstructor">rfl</a> <a id="71167" class="Symbol">{</a><a id="71168" href="Demos.HSP-markdown.html#71168" class="Bound">x</a><a id="71169" class="Symbol">}{</a><a id="71171" href="Demos.HSP-markdown.html#71171" class="Bound">y</a><a id="71172" class="Symbol">}</a> <a id="71174" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a><a id="71180" class="Symbol">)</a> <a id="71182" class="Symbol">=</a> <a id="71184" href="Demos.HSP-markdown.html#71106" class="Function">reflâ‚</a>
  <a id="71192" href="Demos.HSP-markdown.html#71128" class="Function">c</a> <a id="71194" class="Symbol">(</a><a id="71195" href="Demos.HSP-markdown.html#42560" class="InductiveConstructor">gnl</a> <a id="71199" class="Symbol">{</a><a id="71200" href="Demos.HSP-markdown.html#71200" class="Bound">f</a><a id="71201" class="Symbol">}{</a><a id="71203" href="Demos.HSP-markdown.html#71203" class="Bound">s</a><a id="71204" class="Symbol">}{</a><a id="71206" href="Demos.HSP-markdown.html#71206" class="Bound">t</a><a id="71207" class="Symbol">}</a> <a id="71209" href="Demos.HSP-markdown.html#71209" class="Bound">x</a><a id="71210" class="Symbol">)</a> <a id="71212" class="Symbol">=</a> <a id="71214" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="71219" class="Symbol">(</a><a id="71220" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="71227" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="71230" href="Demos.HSP-markdown.html#70847" class="Bound">X</a> <a id="71232" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a><a id="71233" class="Symbol">)</a> <a id="71235" class="Symbol">(</a><a id="71236" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="71243" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="71245" href="Demos.HSP-markdown.html#71128" class="Function">c</a> <a id="71247" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="71249" href="Demos.HSP-markdown.html#71209" class="Bound">x</a><a id="71250" class="Symbol">)</a>

  <a id="71255" href="Demos.HSP-markdown.html#71255" class="Function">h</a> <a id="71257" class="Symbol">:</a> <a id="71259" href="Demos.HSP-markdown.html#70920" class="Function">TX</a> <a id="71262" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="71264" href="Demos.HSP-markdown.html#71043" class="Function">F</a>
  <a id="71268" href="Demos.HSP-markdown.html#71255" class="Function">h</a> <a id="71270" class="Symbol">=</a> <a id="71272" class="Keyword">record</a> <a id="71279" class="Symbol">{</a> <a id="71281" href="Function.Bundles.html#1919" class="Field">f</a> <a id="71283" class="Symbol">=</a> <a id="71285" href="Function.Base.html#615" class="Function">id</a> <a id="71288" class="Symbol">;</a> <a id="71290" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="71295" class="Symbol">=</a> <a id="71297" href="Demos.HSP-markdown.html#71128" class="Function">c</a> <a id="71299" class="Symbol">}</a>

  <a id="71304" href="Demos.HSP-markdown.html#71304" class="Function">hepi</a> <a id="71309" class="Symbol">:</a> <a id="71311" href="Demos.HSP-markdown.html#27479" class="Record">IsEpi</a> <a id="71317" class="Symbol">(</a><a id="71318" href="Demos.HSP-markdown.html#44264" class="Function">ğ‘»</a> <a id="71320" href="Demos.HSP-markdown.html#70847" class="Bound">X</a><a id="71321" class="Symbol">)</a> <a id="71323" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="71326" href="Demos.HSP-markdown.html#70847" class="Bound">X</a> <a id="71328" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="71330" href="Demos.HSP-markdown.html#71255" class="Function">h</a>
  <a id="71334" href="Demos.HSP-markdown.html#27039" class="Field">compatible</a> <a id="71345" class="Symbol">(</a><a id="71346" href="Demos.HSP-markdown.html#27542" class="Field">isHom</a> <a id="71352" href="Demos.HSP-markdown.html#71304" class="Function">hepi</a><a id="71356" class="Symbol">)</a> <a id="71358" class="Symbol">=</a> <a id="71360" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="71365" href="Demos.HSP-markdown.html#71255" class="Function">h</a> <a id="71367" href="Demos.HSP-markdown.html#70983" class="Function">reflâ‚€</a>
  <a id="71375" href="Demos.HSP-markdown.html#27567" class="Field">isSurjective</a> <a id="71388" href="Demos.HSP-markdown.html#71304" class="Function">hepi</a> <a id="71393" class="Symbol">{</a><a id="71394" href="Demos.HSP-markdown.html#71394" class="Bound">y</a><a id="71395" class="Symbol">}</a> <a id="71397" class="Symbol">=</a> <a id="71399" href="Demos.HSP-markdown.html#12422" class="InductiveConstructor">eq</a> <a id="71402" href="Demos.HSP-markdown.html#71394" class="Bound">y</a> <a id="71404" href="Demos.HSP-markdown.html#71106" class="Function">reflâ‚</a>

 <a id="FreeHom.homğ”½[_]"></a><a id="71412" href="Demos.HSP-markdown.html#71412" class="Function Operator">homğ”½[_]</a> <a id="71420" class="Symbol">:</a> <a id="71422" class="Symbol">(</a><a id="71423" href="Demos.HSP-markdown.html#71423" class="Bound">X</a> <a id="71425" class="Symbol">:</a> <a id="71427" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="71432" href="Demos.HSP-markdown.html#70019" class="Bound">Ï‡</a><a id="71433" class="Symbol">)</a> <a id="71435" class="Symbol">â†’</a> <a id="71437" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="71441" class="Symbol">(</a><a id="71442" href="Demos.HSP-markdown.html#44264" class="Function">ğ‘»</a> <a id="71444" href="Demos.HSP-markdown.html#71423" class="Bound">X</a><a id="71445" class="Symbol">)</a> <a id="71447" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="71450" href="Demos.HSP-markdown.html#71423" class="Bound">X</a> <a id="71452" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a>
 <a id="71455" href="Demos.HSP-markdown.html#71412" class="Function Operator">homğ”½[</a> <a id="71461" href="Demos.HSP-markdown.html#71461" class="Bound">X</a> <a id="71463" href="Demos.HSP-markdown.html#71412" class="Function Operator">]</a> <a id="71465" class="Symbol">=</a> <a id="71467" href="Demos.HSP-markdown.html#27600" class="Function">IsEpi.HomReduct</a> <a id="71483" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="71485" href="Demos.HSP-markdown.html#70798" class="Function Operator">epiğ”½[</a> <a id="71491" href="Demos.HSP-markdown.html#71461" class="Bound">X</a> <a id="71493" href="Demos.HSP-markdown.html#70798" class="Function Operator">]</a> <a id="71495" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>

 <a id="FreeHom.homğ”½[_]-is-epic"></a><a id="71499" href="Demos.HSP-markdown.html#71499" class="Function Operator">homğ”½[_]-is-epic</a> <a id="71515" class="Symbol">:</a> <a id="71517" class="Symbol">(</a><a id="71518" href="Demos.HSP-markdown.html#71518" class="Bound">X</a> <a id="71520" class="Symbol">:</a> <a id="71522" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="71527" href="Demos.HSP-markdown.html#70019" class="Bound">Ï‡</a><a id="71528" class="Symbol">)</a> <a id="71530" class="Symbol">â†’</a> <a id="71532" href="Demos.HSP-markdown.html#14749" class="Function">IsSurjective</a> <a id="71545" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="71547" href="Demos.HSP-markdown.html#71412" class="Function Operator">homğ”½[</a> <a id="71553" href="Demos.HSP-markdown.html#71518" class="Bound">X</a> <a id="71555" href="Demos.HSP-markdown.html#71412" class="Function Operator">]</a> <a id="71557" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
 <a id="71560" href="Demos.HSP-markdown.html#71499" class="Function Operator">homğ”½[</a> <a id="71566" href="Demos.HSP-markdown.html#71566" class="Bound">X</a> <a id="71568" href="Demos.HSP-markdown.html#71499" class="Function Operator">]-is-epic</a> <a id="71578" class="Symbol">=</a> <a id="71580" href="Demos.HSP-markdown.html#27567" class="Field">IsEpi.isSurjective</a> <a id="71599" class="Symbol">(</a><a id="71600" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="71604" class="Symbol">(</a><a id="71605" href="Demos.HSP-markdown.html#70798" class="Function Operator">epiğ”½[</a> <a id="71611" href="Demos.HSP-markdown.html#71566" class="Bound">X</a> <a id="71613" href="Demos.HSP-markdown.html#70798" class="Function Operator">]</a><a id="71614" class="Symbol">))</a>
</pre>


#### <a id="the-kernel-of-the-natural-epimorphism">The kernel of the natural epimorphism</a>

<pre class="Agda">

 <a id="FreeHom.class-models-kernel"></a><a id="71739" href="Demos.HSP-markdown.html#71739" class="Function">class-models-kernel</a> <a id="71759" class="Symbol">:</a> <a id="71761" class="Symbol">âˆ€{</a><a id="71763" href="Demos.HSP-markdown.html#71763" class="Bound">X</a> <a id="71765" href="Demos.HSP-markdown.html#71765" class="Bound">p</a> <a id="71767" href="Demos.HSP-markdown.html#71767" class="Bound">q</a><a id="71768" class="Symbol">}</a> <a id="71770" class="Symbol">â†’</a> <a id="71772" class="Symbol">(</a><a id="71773" href="Demos.HSP-markdown.html#71765" class="Bound">p</a> <a id="71775" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="71777" href="Demos.HSP-markdown.html#71767" class="Bound">q</a><a id="71778" class="Symbol">)</a> <a id="71780" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="71782" href="Demos.HSP-markdown.html#16684" class="Function">ker</a> <a id="71786" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="71788" href="Demos.HSP-markdown.html#71412" class="Function Operator">homğ”½[</a> <a id="71794" href="Demos.HSP-markdown.html#71763" class="Bound">X</a> <a id="71796" href="Demos.HSP-markdown.html#71412" class="Function Operator">]</a> <a id="71798" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="71800" class="Symbol">â†’</a> <a id="71802" href="Demos.HSP-markdown.html#70031" class="Bound">ğ’¦</a> <a id="71804" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="71806" class="Symbol">(</a><a id="71807" href="Demos.HSP-markdown.html#71765" class="Bound">p</a> <a id="71809" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="71812" href="Demos.HSP-markdown.html#71767" class="Bound">q</a><a id="71813" class="Symbol">)</a>
 <a id="71816" href="Demos.HSP-markdown.html#71739" class="Function">class-models-kernel</a> <a id="71836" class="Symbol">{</a><a id="71837" class="Argument">X</a> <a id="71839" class="Symbol">=</a> <a id="71841" href="Demos.HSP-markdown.html#71841" class="Bound">X</a><a id="71842" class="Symbol">}{</a><a id="71844" href="Demos.HSP-markdown.html#71844" class="Bound">p</a><a id="71845" class="Symbol">}{</a><a id="71847" href="Demos.HSP-markdown.html#71847" class="Bound">q</a><a id="71848" class="Symbol">}</a> <a id="71850" href="Demos.HSP-markdown.html#71850" class="Bound">pKq</a> <a id="71854" class="Symbol">=</a> <a id="71856" href="Demos.HSP-markdown.html#70265" class="Function Operator">â„°âŠ¢[</a> <a id="71860" href="Demos.HSP-markdown.html#71841" class="Bound">X</a> <a id="71862" href="Demos.HSP-markdown.html#70265" class="Function Operator">]â–¹Thğ’¦</a> <a id="71868" href="Demos.HSP-markdown.html#71850" class="Bound">pKq</a>

 <a id="FreeHom.kernel-in-theory"></a><a id="71874" href="Demos.HSP-markdown.html#71874" class="Function">kernel-in-theory</a> <a id="71891" class="Symbol">:</a> <a id="71893" class="Symbol">{</a><a id="71894" href="Demos.HSP-markdown.html#71894" class="Bound">X</a> <a id="71896" class="Symbol">:</a> <a id="71898" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="71903" href="Demos.HSP-markdown.html#70019" class="Bound">Ï‡</a><a id="71904" class="Symbol">}</a> <a id="71906" class="Symbol">â†’</a> <a id="71908" href="Demos.HSP-markdown.html#16684" class="Function">ker</a> <a id="71912" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="71914" href="Demos.HSP-markdown.html#71412" class="Function Operator">homğ”½[</a> <a id="71920" href="Demos.HSP-markdown.html#71894" class="Bound">X</a> <a id="71922" href="Demos.HSP-markdown.html#71412" class="Function Operator">]</a> <a id="71924" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="71926" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="71928" href="Demos.HSP-markdown.html#52808" class="Function">Th</a> <a id="71931" class="Symbol">(</a><a id="71932" href="Demos.HSP-markdown.html#57886" class="Function">V</a> <a id="71934" href="Demos.HSP-markdown.html#70067" class="Bound">â„“</a> <a id="71936" href="Demos.HSP-markdown.html#70086" class="Function">Î¹</a> <a id="71938" href="Demos.HSP-markdown.html#70031" class="Bound">ğ’¦</a><a id="71939" class="Symbol">)</a>
 <a id="71942" href="Demos.HSP-markdown.html#71874" class="Function">kernel-in-theory</a> <a id="71959" class="Symbol">{</a><a id="71960" class="Argument">X</a> <a id="71962" class="Symbol">=</a> <a id="71964" href="Demos.HSP-markdown.html#71964" class="Bound">X</a><a id="71965" class="Symbol">}</a> <a id="71967" class="Symbol">{</a><a id="71968" href="Demos.HSP-markdown.html#71968" class="Bound">p</a> <a id="71970" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="71972" href="Demos.HSP-markdown.html#71972" class="Bound">q</a><a id="71973" class="Symbol">}</a> <a id="71975" href="Demos.HSP-markdown.html#71975" class="Bound">pKq</a> <a id="71979" href="Demos.HSP-markdown.html#71979" class="Bound">vkA</a> <a id="71983" href="Demos.HSP-markdown.html#71983" class="Bound">x</a> <a id="71985" class="Symbol">=</a> <a id="71987" href="Demos.HSP-markdown.html#66149" class="Function">classIds-âŠ†-VIds</a> <a id="72003" class="Symbol">{</a><a id="72004" class="Argument">â„“</a> <a id="72006" class="Symbol">=</a> <a id="72008" href="Demos.HSP-markdown.html#70067" class="Bound">â„“</a><a id="72009" class="Symbol">}{</a><a id="72011" class="Argument">p</a> <a id="72013" class="Symbol">=</a> <a id="72015" href="Demos.HSP-markdown.html#71968" class="Bound">p</a><a id="72016" class="Symbol">}{</a><a id="72018" href="Demos.HSP-markdown.html#71972" class="Bound">q</a><a id="72019" class="Symbol">}</a>
                                               <a id="72068" class="Symbol">(</a><a id="72069" href="Demos.HSP-markdown.html#71739" class="Function">class-models-kernel</a> <a id="72089" href="Demos.HSP-markdown.html#71975" class="Bound">pKq</a><a id="72092" class="Symbol">)</a> <a id="72094" href="Demos.HSP-markdown.html#71979" class="Bound">vkA</a> <a id="72098" href="Demos.HSP-markdown.html#71983" class="Bound">x</a>

 <a id="72102" class="Keyword">module</a> <a id="72109" href="Demos.HSP-markdown.html#72109" class="Module">_</a> <a id="72111" class="Symbol">{</a><a id="72112" href="Demos.HSP-markdown.html#72112" class="Bound">X</a> <a id="72114" class="Symbol">:</a> <a id="72116" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="72121" href="Demos.HSP-markdown.html#70019" class="Bound">Ï‡</a><a id="72122" class="Symbol">}</a> <a id="72124" class="Symbol">{</a><a id="72125" href="Demos.HSP-markdown.html#72125" class="Bound">ğ‘¨</a> <a id="72127" class="Symbol">:</a> <a id="72129" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="72137" href="Demos.HSP-markdown.html#70048" class="Bound">Î±</a> <a id="72139" href="Demos.HSP-markdown.html#70050" class="Bound">Ïáµƒ</a><a id="72141" class="Symbol">}{</a><a id="72143" href="Demos.HSP-markdown.html#72143" class="Bound">sA</a> <a id="72146" class="Symbol">:</a> <a id="72148" href="Demos.HSP-markdown.html#72125" class="Bound">ğ‘¨</a> <a id="72150" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="72152" href="Demos.HSP-markdown.html#57226" class="Function">S</a> <a id="72154" class="Symbol">{</a><a id="72155" class="Argument">Î²</a> <a id="72157" class="Symbol">=</a> <a id="72159" href="Demos.HSP-markdown.html#70048" class="Bound">Î±</a><a id="72160" class="Symbol">}{</a><a id="72162" href="Demos.HSP-markdown.html#70050" class="Bound">Ïáµƒ</a><a id="72164" class="Symbol">}</a> <a id="72166" href="Demos.HSP-markdown.html#70067" class="Bound">â„“</a> <a id="72168" href="Demos.HSP-markdown.html#70031" class="Bound">ğ’¦</a><a id="72169" class="Symbol">}</a> <a id="72171" class="Keyword">where</a>
  <a id="72179" class="Keyword">open</a> <a id="72184" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="72196" href="Demos.HSP-markdown.html#72125" class="Bound">ğ‘¨</a> <a id="72198" class="Keyword">using</a> <a id="72204" class="Symbol">(</a> <a id="72206" href="Demos.HSP-markdown.html#46626" class="Function">Equal</a> <a id="72212" class="Symbol">)</a>
  <a id="72216" href="Demos.HSP-markdown.html#72216" class="Function">kerğ”½âŠ†Equal</a> <a id="72227" class="Symbol">:</a> <a id="72229" class="Symbol">âˆ€{</a><a id="72231" href="Demos.HSP-markdown.html#72231" class="Bound">p</a> <a id="72233" href="Demos.HSP-markdown.html#72233" class="Bound">q</a><a id="72234" class="Symbol">}</a> <a id="72236" class="Symbol">â†’</a> <a id="72238" class="Symbol">(</a><a id="72239" href="Demos.HSP-markdown.html#72231" class="Bound">p</a> <a id="72241" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="72243" href="Demos.HSP-markdown.html#72233" class="Bound">q</a><a id="72244" class="Symbol">)</a> <a id="72246" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="72248" href="Demos.HSP-markdown.html#16684" class="Function">ker</a> <a id="72252" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="72254" href="Demos.HSP-markdown.html#71412" class="Function Operator">homğ”½[</a> <a id="72260" href="Demos.HSP-markdown.html#72112" class="Bound">X</a> <a id="72262" href="Demos.HSP-markdown.html#71412" class="Function Operator">]</a> <a id="72264" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="72266" class="Symbol">â†’</a> <a id="72268" href="Demos.HSP-markdown.html#46626" class="Function">Equal</a> <a id="72274" href="Demos.HSP-markdown.html#72231" class="Bound">p</a> <a id="72276" href="Demos.HSP-markdown.html#72233" class="Bound">q</a>
  <a id="72280" href="Demos.HSP-markdown.html#72216" class="Function">kerğ”½âŠ†Equal</a><a id="72290" class="Symbol">{</a><a id="72291" class="Argument">p</a> <a id="72293" class="Symbol">=</a> <a id="72295" href="Demos.HSP-markdown.html#72295" class="Bound">p</a><a id="72296" class="Symbol">}{</a><a id="72298" href="Demos.HSP-markdown.html#72298" class="Bound">q</a><a id="72299" class="Symbol">}</a> <a id="72301" href="Demos.HSP-markdown.html#72301" class="Bound">x</a> <a id="72303" class="Symbol">=</a> <a id="72305" href="Demos.HSP-markdown.html#64459" class="Function">S-id1</a><a id="72310" class="Symbol">{</a><a id="72311" class="Argument">â„“</a> <a id="72313" class="Symbol">=</a> <a id="72315" href="Demos.HSP-markdown.html#70067" class="Bound">â„“</a><a id="72316" class="Symbol">}{</a><a id="72318" class="Argument">p</a> <a id="72320" class="Symbol">=</a> <a id="72322" href="Demos.HSP-markdown.html#72295" class="Bound">p</a><a id="72323" class="Symbol">}{</a><a id="72325" href="Demos.HSP-markdown.html#72298" class="Bound">q</a><a id="72326" class="Symbol">}</a> <a id="72328" class="Symbol">(</a><a id="72329" href="Demos.HSP-markdown.html#70265" class="Function Operator">â„°âŠ¢[</a> <a id="72333" href="Demos.HSP-markdown.html#72112" class="Bound">X</a> <a id="72335" href="Demos.HSP-markdown.html#70265" class="Function Operator">]â–¹Thğ’¦</a> <a id="72341" href="Demos.HSP-markdown.html#72301" class="Bound">x</a><a id="72342" class="Symbol">)</a> <a id="72344" href="Demos.HSP-markdown.html#72125" class="Bound">ğ‘¨</a> <a id="72346" href="Demos.HSP-markdown.html#72143" class="Bound">sA</a>

 <a id="FreeHom.ğ’¦âŠ«â†’â„°âŠ¢"></a><a id="72351" href="Demos.HSP-markdown.html#72351" class="Function">ğ’¦âŠ«â†’â„°âŠ¢</a> <a id="72357" class="Symbol">:</a> <a id="72359" class="Symbol">{</a><a id="72360" href="Demos.HSP-markdown.html#72360" class="Bound">X</a> <a id="72362" class="Symbol">:</a> <a id="72364" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="72369" href="Demos.HSP-markdown.html#70019" class="Bound">Ï‡</a><a id="72370" class="Symbol">}</a> <a id="72372" class="Symbol">â†’</a> <a id="72374" class="Symbol">âˆ€{</a><a id="72376" href="Demos.HSP-markdown.html#72376" class="Bound">p</a> <a id="72378" href="Demos.HSP-markdown.html#72378" class="Bound">q</a><a id="72379" class="Symbol">}</a> <a id="72381" class="Symbol">â†’</a> <a id="72383" href="Demos.HSP-markdown.html#70031" class="Bound">ğ’¦</a> <a id="72385" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="72387" class="Symbol">(</a><a id="72388" href="Demos.HSP-markdown.html#72376" class="Bound">p</a> <a id="72390" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="72393" href="Demos.HSP-markdown.html#72378" class="Bound">q</a><a id="72394" class="Symbol">)</a> <a id="72396" class="Symbol">â†’</a> <a id="72398" href="Demos.HSP-markdown.html#70233" class="Function">â„°</a> <a id="72400" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="72402" href="Demos.HSP-markdown.html#72360" class="Bound">X</a> <a id="72404" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹</a> <a id="72406" href="Demos.HSP-markdown.html#72376" class="Bound">p</a> <a id="72408" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â‰ˆ</a> <a id="72410" href="Demos.HSP-markdown.html#72378" class="Bound">q</a>
 <a id="72413" href="Demos.HSP-markdown.html#72351" class="Function">ğ’¦âŠ«â†’â„°âŠ¢</a> <a id="72419" class="Symbol">{</a><a id="72420" class="Argument">p</a> <a id="72422" class="Symbol">=</a> <a id="72424" href="Demos.HSP-markdown.html#72424" class="Bound">p</a><a id="72425" class="Symbol">}</a> <a id="72427" class="Symbol">{</a><a id="72428" href="Demos.HSP-markdown.html#72428" class="Bound">q</a><a id="72429" class="Symbol">}</a> <a id="72431" href="Demos.HSP-markdown.html#72431" class="Bound">pKq</a> <a id="72435" class="Symbol">=</a> <a id="72437" href="Demos.HSP-markdown.html#53408" class="InductiveConstructor">hyp</a> <a id="72441" class="Symbol">((</a><a id="72443" href="Demos.HSP-markdown.html#72424" class="Bound">p</a> <a id="72445" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="72448" href="Demos.HSP-markdown.html#72428" class="Bound">q</a><a id="72449" class="Symbol">)</a> <a id="72451" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="72453" href="Demos.HSP-markdown.html#72431" class="Bound">pKq</a><a id="72456" class="Symbol">)</a> <a id="72458" class="Keyword">where</a> <a id="72464" class="Keyword">open</a> <a id="72469" href="Demos.HSP-markdown.html#53320" class="Module Operator">_âŠ¢_â–¹_â‰ˆ_</a> <a id="72477" class="Keyword">using</a> <a id="72483" class="Symbol">(</a><a id="72484" href="Demos.HSP-markdown.html#53408" class="InductiveConstructor">hyp</a><a id="72487" class="Symbol">)</a>
</pre>

#### <a id="the-universal-property">The universal property</a>

<pre class="Agda">

<a id="72579" class="Keyword">module</a> <a id="72586" href="Demos.HSP-markdown.html#72586" class="Module">_</a>  <a id="72589" class="Symbol">{</a><a id="72590" href="Demos.HSP-markdown.html#72590" class="Bound">ğ‘¨</a> <a id="72592" class="Symbol">:</a> <a id="72594" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="72602" class="Symbol">(</a><a id="72603" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="72605" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72607" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="72610" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72612" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="72613" class="Symbol">)</a> <a id="72615" class="Symbol">(</a><a id="72616" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="72618" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72620" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="72623" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72625" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="72626" class="Symbol">)}</a> <a id="72629" class="Symbol">{</a><a id="72630" href="Demos.HSP-markdown.html#72630" class="Bound">ğ’¦</a> <a id="72632" class="Symbol">:</a> <a id="72634" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="72638" class="Symbol">(</a><a id="72639" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="72647" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="72649" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="72651" class="Symbol">)</a> <a id="72653" class="Symbol">(</a><a id="72654" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="72656" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72658" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="72661" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72663" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="72666" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="72667" class="Symbol">)}</a> <a id="72670" class="Keyword">where</a>
 <a id="72677" class="Keyword">private</a> <a id="72685" href="Demos.HSP-markdown.html#72685" class="Function">Î¹</a> <a id="72687" class="Symbol">=</a> <a id="72689" href="Demos.HSP-markdown.html#37560" class="Function">ov</a><a id="72691" class="Symbol">(</a><a id="72692" href="Demos.HSP-markdown.html#72603" class="Bound">Î±</a> <a id="72694" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72696" href="Demos.HSP-markdown.html#72607" class="Bound">Ïáµƒ</a> <a id="72699" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72701" href="Demos.HSP-markdown.html#72612" class="Bound">â„“</a><a id="72702" class="Symbol">)</a>

 <a id="72706" class="Keyword">open</a> <a id="72711" href="Demos.HSP-markdown.html#70010" class="Module">FreeHom</a> <a id="72719" class="Symbol">{</a><a id="72720" class="Argument">â„“</a> <a id="72722" class="Symbol">=</a> <a id="72724" href="Demos.HSP-markdown.html#72612" class="Bound">â„“</a><a id="72725" class="Symbol">}(</a><a id="72727" href="Demos.HSP-markdown.html#72603" class="Bound">Î±</a> <a id="72729" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72731" href="Demos.HSP-markdown.html#72607" class="Bound">Ïáµƒ</a> <a id="72734" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72736" href="Demos.HSP-markdown.html#72612" class="Bound">â„“</a><a id="72737" class="Symbol">)</a> <a id="72739" class="Symbol">{</a><a id="72740" href="Demos.HSP-markdown.html#72630" class="Bound">ğ’¦</a><a id="72741" class="Symbol">}</a>
 <a id="72744" class="Keyword">open</a> <a id="72749" href="Demos.HSP-markdown.html#69004" class="Module">FreeAlgebra</a> <a id="72761" class="Symbol">{</a><a id="72762" class="Argument">Î¹</a> <a id="72764" class="Symbol">=</a> <a id="72766" href="Demos.HSP-markdown.html#72685" class="Function">Î¹</a><a id="72767" class="Symbol">}{</a><a id="72769" class="Argument">I</a> <a id="72771" class="Symbol">=</a> <a id="72773" href="Demos.HSP-markdown.html#70120" class="Function">â„</a><a id="72774" class="Symbol">}</a> <a id="72776" href="Demos.HSP-markdown.html#70233" class="Function">â„°</a>  <a id="72779" class="Keyword">using</a> <a id="72785" class="Symbol">(</a> <a id="72787" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[_]</a> <a id="72792" class="Symbol">)</a>
 <a id="72795" class="Keyword">open</a> <a id="72800" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="72807" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="72810" href="Demos.HSP-markdown.html#72590" class="Bound">ğ‘¨</a> <a id="72812" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>                 <a id="72830" class="Keyword">using</a> <a id="72836" class="Symbol">(</a> <a id="72838" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="72844" class="Symbol">;</a> <a id="72846" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="72850" class="Symbol">;</a> <a id="72852" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="72857" class="Symbol">)</a> <a id="72859" class="Keyword">renaming</a> <a id="72868" class="Symbol">(</a> <a id="72870" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="72878" class="Symbol">to</a> <a id="72881" class="Field">A</a> <a id="72883" class="Symbol">)</a>


 <a id="72888" href="Demos.HSP-markdown.html#72888" class="Function">ğ”½-ModTh-epi</a> <a id="72900" class="Symbol">:</a> <a id="72902" href="Demos.HSP-markdown.html#72590" class="Bound">ğ‘¨</a> <a id="72904" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="72906" href="Demos.HSP-markdown.html#52909" class="Function">Mod</a> <a id="72910" class="Symbol">(</a><a id="72911" href="Demos.HSP-markdown.html#52808" class="Function">Th</a> <a id="72914" class="Symbol">(</a><a id="72915" href="Demos.HSP-markdown.html#57886" class="Function">V</a> <a id="72917" href="Demos.HSP-markdown.html#72612" class="Bound">â„“</a> <a id="72919" href="Demos.HSP-markdown.html#72685" class="Function">Î¹</a> <a id="72921" href="Demos.HSP-markdown.html#72630" class="Bound">ğ’¦</a><a id="72922" class="Symbol">))</a>
  <a id="72927" class="Symbol">â†’</a>            <a id="72940" href="Demos.HSP-markdown.html#27642" class="Function">epi</a> <a id="72944" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="72947" href="Demos.HSP-markdown.html#72881" class="Function">A</a> <a id="72949" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="72951" href="Demos.HSP-markdown.html#72590" class="Bound">ğ‘¨</a>
 <a id="72954" href="Demos.HSP-markdown.html#72888" class="Function">ğ”½-ModTh-epi</a> <a id="72966" href="Demos.HSP-markdown.html#72966" class="Bound">AâˆˆModThK</a> <a id="72975" class="Symbol">=</a> <a id="72977" href="Demos.HSP-markdown.html#72998" class="Function">Ï†</a> <a id="72979" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="72981" href="Demos.HSP-markdown.html#73274" class="Function">isEpi</a>
  <a id="72989" class="Keyword">where</a>
   <a id="72998" href="Demos.HSP-markdown.html#72998" class="Function">Ï†</a> <a id="73000" class="Symbol">:</a> <a id="73002" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="73005" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="73008" href="Demos.HSP-markdown.html#72881" class="Function">A</a> <a id="73010" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="73012" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="73014" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="73016" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="73019" href="Demos.HSP-markdown.html#72590" class="Bound">ğ‘¨</a> <a id="73021" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a>
   <a id="73026" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="73032" href="Demos.HSP-markdown.html#72998" class="Function">Ï†</a> <a id="73034" class="Symbol">=</a> <a id="73036" href="Demos.HSP-markdown.html#67115" class="Function">free-lift</a><a id="73045" class="Symbol">{</a><a id="73046" class="Argument">ğ‘¨</a> <a id="73048" class="Symbol">=</a> <a id="73050" href="Demos.HSP-markdown.html#72590" class="Bound">ğ‘¨</a><a id="73051" class="Symbol">}</a> <a id="73053" href="Function.Base.html#615" class="Function">id</a>
   <a id="73059" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="73064" href="Demos.HSP-markdown.html#72998" class="Function">Ï†</a> <a id="73066" class="Symbol">{</a><a id="73067" href="Demos.HSP-markdown.html#73067" class="Bound">p</a><a id="73068" class="Symbol">}</a> <a id="73070" class="Symbol">{</a><a id="73071" href="Demos.HSP-markdown.html#73071" class="Bound">q</a><a id="73072" class="Symbol">}</a> <a id="73074" href="Demos.HSP-markdown.html#73074" class="Bound">pq</a>  <a id="73078" class="Symbol">=</a> <a id="73080" href="Relation.Binary.Structures.html#1620" class="Function">trans</a>  <a id="73087" class="Symbol">(</a> <a id="73089" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="73093" class="Symbol">(</a><a id="73094" href="Demos.HSP-markdown.html#68513" class="Function">free-lift-interp</a><a id="73110" class="Symbol">{</a><a id="73111" class="Argument">ğ‘¨</a> <a id="73113" class="Symbol">=</a> <a id="73115" href="Demos.HSP-markdown.html#72590" class="Bound">ğ‘¨</a><a id="73116" class="Symbol">}</a> <a id="73118" href="Function.Base.html#615" class="Function">id</a> <a id="73121" href="Demos.HSP-markdown.html#73067" class="Bound">p</a><a id="73122" class="Symbol">)</a> <a id="73124" class="Symbol">)</a>
                      <a id="73148" class="Symbol">(</a> <a id="73150" href="Relation.Binary.Structures.html#1620" class="Function">trans</a>  <a id="73157" class="Symbol">(</a> <a id="73159" href="Demos.HSP-markdown.html#72966" class="Bound">AâˆˆModThK</a><a id="73167" class="Symbol">{</a><a id="73168" class="Argument">p</a> <a id="73170" class="Symbol">=</a> <a id="73172" href="Demos.HSP-markdown.html#73067" class="Bound">p</a><a id="73173" class="Symbol">}{</a><a id="73175" href="Demos.HSP-markdown.html#73071" class="Bound">q</a><a id="73176" class="Symbol">}</a> <a id="73178" class="Symbol">(</a><a id="73179" href="Demos.HSP-markdown.html#71874" class="Function">kernel-in-theory</a> <a id="73196" href="Demos.HSP-markdown.html#73074" class="Bound">pq</a><a id="73198" class="Symbol">)</a> <a id="73200" href="Function.Base.html#615" class="Function">id</a> <a id="73203" class="Symbol">)</a>
                               <a id="73236" class="Symbol">(</a> <a id="73238" href="Demos.HSP-markdown.html#68513" class="Function">free-lift-interp</a><a id="73254" class="Symbol">{</a><a id="73255" class="Argument">ğ‘¨</a> <a id="73257" class="Symbol">=</a> <a id="73259" href="Demos.HSP-markdown.html#72590" class="Bound">ğ‘¨</a><a id="73260" class="Symbol">}</a> <a id="73262" href="Function.Base.html#615" class="Function">id</a> <a id="73265" href="Demos.HSP-markdown.html#73071" class="Bound">q</a> <a id="73267" class="Symbol">)</a> <a id="73269" class="Symbol">)</a>
   <a id="73274" href="Demos.HSP-markdown.html#73274" class="Function">isEpi</a> <a id="73280" class="Symbol">:</a> <a id="73282" href="Demos.HSP-markdown.html#27479" class="Record">IsEpi</a> <a id="73288" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="73291" href="Demos.HSP-markdown.html#72881" class="Function">A</a> <a id="73293" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="73295" href="Demos.HSP-markdown.html#72590" class="Bound">ğ‘¨</a> <a id="73297" href="Demos.HSP-markdown.html#72998" class="Function">Ï†</a>
   <a id="73302" href="Demos.HSP-markdown.html#27039" class="Field">compatible</a> <a id="73313" class="Symbol">(</a><a id="73314" href="Demos.HSP-markdown.html#27542" class="Field">isHom</a> <a id="73320" href="Demos.HSP-markdown.html#73274" class="Function">isEpi</a><a id="73325" class="Symbol">)</a> <a id="73327" class="Symbol">=</a> <a id="73329" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="73334" class="Symbol">(</a><a id="73335" href="Demos.HSP-markdown.html#22581" class="Field">Interp</a> <a id="73342" href="Demos.HSP-markdown.html#72590" class="Bound">ğ‘¨</a><a id="73343" class="Symbol">)</a> <a id="73345" class="Symbol">(</a><a id="73346" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="73353" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="73355" class="Symbol">(Î»</a> <a id="73358" href="Demos.HSP-markdown.html#73358" class="Bound">_</a> <a id="73360" class="Symbol">â†’</a> <a id="73362" href="Relation.Binary.Structures.html#1568" class="Function">refl</a><a id="73366" class="Symbol">))</a>
   <a id="73372" href="Demos.HSP-markdown.html#27567" class="Field">isSurjective</a> <a id="73385" href="Demos.HSP-markdown.html#73274" class="Function">isEpi</a> <a id="73391" class="Symbol">{</a><a id="73392" href="Demos.HSP-markdown.html#73392" class="Bound">y</a><a id="73393" class="Symbol">}</a> <a id="73395" class="Symbol">=</a> <a id="73397" href="Demos.HSP-markdown.html#12422" class="InductiveConstructor">eq</a> <a id="73400" class="Symbol">(</a><a id="73401" href="Demos.HSP-markdown.html#41527" class="InductiveConstructor">â„Š</a> <a id="73403" href="Demos.HSP-markdown.html#73392" class="Bound">y</a><a id="73404" class="Symbol">)</a> <a id="73406" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>

 <a id="73413" href="Demos.HSP-markdown.html#73413" class="Function">ğ”½-ModTh-epi-lift</a> <a id="73430" class="Symbol">:</a> <a id="73432" href="Demos.HSP-markdown.html#72590" class="Bound">ğ‘¨</a> <a id="73434" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="73436" href="Demos.HSP-markdown.html#52909" class="Function">Mod</a> <a id="73440" class="Symbol">(</a><a id="73441" href="Demos.HSP-markdown.html#52808" class="Function">Th</a> <a id="73444" class="Symbol">(</a><a id="73445" href="Demos.HSP-markdown.html#57886" class="Function">V</a> <a id="73447" href="Demos.HSP-markdown.html#72612" class="Bound">â„“</a> <a id="73449" href="Demos.HSP-markdown.html#72685" class="Function">Î¹</a> <a id="73451" href="Demos.HSP-markdown.html#72630" class="Bound">ğ’¦</a><a id="73452" class="Symbol">))</a> <a id="73455" class="Symbol">â†’</a> <a id="73457" href="Demos.HSP-markdown.html#27642" class="Function">epi</a> <a id="73461" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="73464" href="Demos.HSP-markdown.html#72881" class="Function">A</a> <a id="73466" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="73468" class="Symbol">(</a><a id="73469" href="Demos.HSP-markdown.html#25128" class="Function">Lift-Alg</a> <a id="73478" href="Demos.HSP-markdown.html#72590" class="Bound">ğ‘¨</a> <a id="73480" href="Demos.HSP-markdown.html#72685" class="Function">Î¹</a> <a id="73482" href="Demos.HSP-markdown.html#72685" class="Function">Î¹</a><a id="73483" class="Symbol">)</a>
 <a id="73486" href="Demos.HSP-markdown.html#73413" class="Function">ğ”½-ModTh-epi-lift</a> <a id="73503" href="Demos.HSP-markdown.html#73503" class="Bound">AâˆˆModThK</a> <a id="73512" class="Symbol">=</a> <a id="73514" href="Demos.HSP-markdown.html#29248" class="Function">âˆ˜-epi</a> <a id="73520" class="Symbol">(</a><a id="73521" href="Demos.HSP-markdown.html#72888" class="Function">ğ”½-ModTh-epi</a> <a id="73533" class="Symbol">(Î»</a> <a id="73536" class="Symbol">{</a><a id="73537" href="Demos.HSP-markdown.html#73537" class="Bound">p</a> <a id="73539" href="Demos.HSP-markdown.html#73539" class="Bound">q</a><a id="73540" class="Symbol">}</a> <a id="73542" class="Symbol">â†’</a> <a id="73544" href="Demos.HSP-markdown.html#73503" class="Bound">AâˆˆModThK</a><a id="73552" class="Symbol">{</a><a id="73553" class="Argument">p</a> <a id="73555" class="Symbol">=</a> <a id="73557" href="Demos.HSP-markdown.html#73537" class="Bound">p</a><a id="73558" class="Symbol">}{</a><a id="73560" href="Demos.HSP-markdown.html#73539" class="Bound">q</a><a id="73561" class="Symbol">}))</a> <a id="73565" href="Demos.HSP-markdown.html#31265" class="Function">ToLift-epi</a>
</pre>



<!-- ------------------------------------------------------------------------------------- -->

## <a id="products-of-classes-of-algebras">Products of classes of algebras</a>

We want to pair each `(ğ‘¨ , p)` (where p : ğ‘¨ âˆˆ S ğ’¦) with an environment
`Ï : X â†’ âˆ£ ğ‘¨ âˆ£` so that we can quantify over all algebras *and* all
assignments of values in the domain `âˆ£ ğ‘¨ âˆ£` to variables in `X`.

<pre class="Agda">

<a id="73985" class="Keyword">module</a> <a id="73992" href="Demos.HSP-markdown.html#73992" class="Module">_</a> <a id="73994" class="Symbol">(</a><a id="73995" href="Demos.HSP-markdown.html#73995" class="Bound">ğ’¦</a> <a id="73997" class="Symbol">:</a> <a id="73999" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="74003" class="Symbol">(</a><a id="74004" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="74012" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="74014" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="74016" class="Symbol">)</a> <a id="74018" class="Symbol">(</a><a id="74019" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="74021" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="74023" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="74026" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="74028" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="74031" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="74032" class="Symbol">)){</a><a id="74035" href="Demos.HSP-markdown.html#74035" class="Bound">X</a> <a id="74037" class="Symbol">:</a> <a id="74039" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="74044" class="Symbol">(</a><a id="74045" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="74047" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="74049" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="74052" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="74054" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="74055" class="Symbol">)}</a> <a id="74058" class="Keyword">where</a>
 <a id="74065" class="Keyword">private</a> <a id="74073" href="Demos.HSP-markdown.html#74073" class="Function">Î¹</a> <a id="74075" class="Symbol">=</a> <a id="74077" href="Demos.HSP-markdown.html#37560" class="Function">ov</a><a id="74079" class="Symbol">(</a><a id="74080" href="Demos.HSP-markdown.html#74012" class="Bound">Î±</a> <a id="74082" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="74084" href="Demos.HSP-markdown.html#74014" class="Bound">Ïáµƒ</a> <a id="74087" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="74089" href="Demos.HSP-markdown.html#74031" class="Bound">â„“</a><a id="74090" class="Symbol">)</a>
 <a id="74093" class="Keyword">open</a> <a id="74098" href="Demos.HSP-markdown.html#70010" class="Module">FreeHom</a> <a id="74106" class="Symbol">{</a><a id="74107" class="Argument">â„“</a> <a id="74109" class="Symbol">=</a> <a id="74111" href="Demos.HSP-markdown.html#74031" class="Bound">â„“</a><a id="74112" class="Symbol">}</a> <a id="74114" class="Symbol">(</a><a id="74115" href="Demos.HSP-markdown.html#74012" class="Bound">Î±</a> <a id="74117" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="74119" href="Demos.HSP-markdown.html#74014" class="Bound">Ïáµƒ</a> <a id="74122" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="74124" href="Demos.HSP-markdown.html#74031" class="Bound">â„“</a><a id="74125" class="Symbol">){</a><a id="74127" href="Demos.HSP-markdown.html#73995" class="Bound">ğ’¦</a><a id="74128" class="Symbol">}</a>
 <a id="74131" class="Keyword">open</a> <a id="74136" href="Demos.HSP-markdown.html#69004" class="Module">FreeAlgebra</a> <a id="74148" class="Symbol">{</a><a id="74149" class="Argument">Î¹</a> <a id="74151" class="Symbol">=</a> <a id="74153" href="Demos.HSP-markdown.html#74073" class="Function">Î¹</a><a id="74154" class="Symbol">}{</a><a id="74156" class="Argument">I</a> <a id="74158" class="Symbol">=</a> <a id="74160" href="Demos.HSP-markdown.html#70120" class="Function">â„</a><a id="74161" class="Symbol">}</a> <a id="74163" href="Demos.HSP-markdown.html#70233" class="Function">â„°</a> <a id="74165" class="Keyword">using</a> <a id="74171" class="Symbol">(</a> <a id="74173" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[_]</a> <a id="74178" class="Symbol">)</a>
 <a id="74181" class="Keyword">open</a> <a id="74186" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a>   <a id="74200" class="Keyword">using</a> <a id="74206" class="Symbol">(</a> <a id="74208" href="Demos.HSP-markdown.html#45632" class="Function">Env</a> <a id="74212" class="Symbol">)</a>

 <a id="74216" href="Demos.HSP-markdown.html#74216" class="Function">â„‘âº</a> <a id="74219" class="Symbol">:</a> <a id="74221" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="74226" href="Demos.HSP-markdown.html#74073" class="Function">Î¹</a>
 <a id="74229" href="Demos.HSP-markdown.html#74216" class="Function">â„‘âº</a> <a id="74232" class="Symbol">=</a> <a id="74234" href="Data.Product.html#916" class="Function">Î£[</a> <a id="74237" href="Demos.HSP-markdown.html#74237" class="Bound">ğ‘¨</a> <a id="74239" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="74241" class="Symbol">(</a><a id="74242" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="74250" href="Demos.HSP-markdown.html#74012" class="Bound">Î±</a> <a id="74252" href="Demos.HSP-markdown.html#74014" class="Bound">Ïáµƒ</a><a id="74254" class="Symbol">)</a> <a id="74256" href="Data.Product.html#916" class="Function">]</a> <a id="74258" class="Symbol">(</a><a id="74259" href="Demos.HSP-markdown.html#74237" class="Bound">ğ‘¨</a> <a id="74261" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="74263" href="Demos.HSP-markdown.html#57226" class="Function">S</a> <a id="74265" href="Demos.HSP-markdown.html#74031" class="Bound">â„“</a> <a id="74267" href="Demos.HSP-markdown.html#73995" class="Bound">ğ’¦</a><a id="74268" class="Symbol">)</a> <a id="74270" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="74272" class="Symbol">(</a><a id="74273" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="74281" class="Symbol">(</a><a id="74282" href="Demos.HSP-markdown.html#45632" class="Function">Env</a> <a id="74286" href="Demos.HSP-markdown.html#74237" class="Bound">ğ‘¨</a> <a id="74288" href="Demos.HSP-markdown.html#74035" class="Bound">X</a><a id="74289" class="Symbol">))</a>

 <a id="74294" href="Demos.HSP-markdown.html#74294" class="Function">ğ”„âº</a> <a id="74297" class="Symbol">:</a> <a id="74299" href="Demos.HSP-markdown.html#74216" class="Function">â„‘âº</a> <a id="74302" class="Symbol">â†’</a> <a id="74304" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="74312" href="Demos.HSP-markdown.html#74012" class="Bound">Î±</a> <a id="74314" href="Demos.HSP-markdown.html#74014" class="Bound">Ïáµƒ</a>
 <a id="74318" href="Demos.HSP-markdown.html#74294" class="Function">ğ”„âº</a> <a id="74321" href="Demos.HSP-markdown.html#74321" class="Bound">i</a> <a id="74323" class="Symbol">=</a> <a id="74325" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="74327" href="Demos.HSP-markdown.html#74321" class="Bound">i</a> <a id="74329" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>

 <a id="74333" href="Demos.HSP-markdown.html#74333" class="Function">â„­</a> <a id="74335" class="Symbol">:</a> <a id="74337" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="74345" href="Demos.HSP-markdown.html#74073" class="Function">Î¹</a> <a id="74347" href="Demos.HSP-markdown.html#74073" class="Function">Î¹</a>
 <a id="74350" href="Demos.HSP-markdown.html#74333" class="Function">â„­</a> <a id="74352" class="Symbol">=</a> <a id="74354" href="Demos.HSP-markdown.html#25452" class="Function">â¨…</a> <a id="74356" href="Demos.HSP-markdown.html#74294" class="Function">ğ”„âº</a>

</pre>

Next we define a useful type, `skEqual`, which we use to represent a term identity `p â‰ˆ q` for any
given `i = (ğ‘¨ , sA , Ï)` (where `ğ‘¨` is an algebra, `sA : ğ‘¨ âˆˆ S ğ’¦` is a proof that `ğ‘¨` belongs
to `S ğ’¦`, and `Ï` is a mapping from `X` to the domain of `ğ‘¨`). Then we prove `AllEqualâŠ†kerğ”½` which
asserts that if the identity `p â‰ˆ q` holds in all `ğ‘¨ âˆˆ S ğ’¦` (for all environments), then `p â‰ˆ q`
holds in the relatively free algebra `ğ”½[ X ]`; equivalently, the pair `(p , q)` belongs to the
kernel of the natural homomorphism from `ğ‘» X` onto `ğ”½[ X ]`. We will use this fact below to prove
that there is a monomorphism from `ğ”½[ X ]` into `â„­`, and thus `ğ”½[ X ]` is a subalgebra of â„­,
so belongs to `S (P ğ’¦)`.

<pre class="Agda">

 <a id="75088" href="Demos.HSP-markdown.html#75088" class="Function">skEqual</a> <a id="75096" class="Symbol">:</a> <a id="75098" class="Symbol">(</a><a id="75099" href="Demos.HSP-markdown.html#75099" class="Bound">i</a> <a id="75101" class="Symbol">:</a> <a id="75103" href="Demos.HSP-markdown.html#74216" class="Function">â„‘âº</a><a id="75105" class="Symbol">)</a> <a id="75107" class="Symbol">â†’</a> <a id="75109" class="Symbol">âˆ€{</a><a id="75111" href="Demos.HSP-markdown.html#75111" class="Bound">p</a> <a id="75113" href="Demos.HSP-markdown.html#75113" class="Bound">q</a><a id="75114" class="Symbol">}</a> <a id="75116" class="Symbol">â†’</a> <a id="75118" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="75123" href="Demos.HSP-markdown.html#74014" class="Bound">Ïáµƒ</a>
 <a id="75127" href="Demos.HSP-markdown.html#75088" class="Function">skEqual</a> <a id="75135" href="Demos.HSP-markdown.html#75135" class="Bound">i</a> <a id="75137" class="Symbol">{</a><a id="75138" href="Demos.HSP-markdown.html#75138" class="Bound">p</a><a id="75139" class="Symbol">}{</a><a id="75141" href="Demos.HSP-markdown.html#75141" class="Bound">q</a><a id="75142" class="Symbol">}</a> <a id="75144" class="Symbol">=</a> <a id="75146" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="75148" href="Demos.HSP-markdown.html#75138" class="Bound">p</a> <a id="75150" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="75152" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="75156" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="75160" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="75162" href="Demos.HSP-markdown.html#75135" class="Bound">i</a> <a id="75164" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="75166" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="75168" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="75170" href="Demos.HSP-markdown.html#75141" class="Bound">q</a> <a id="75172" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="75174" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="75178" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="75182" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="75184" href="Demos.HSP-markdown.html#75135" class="Bound">i</a> <a id="75186" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>
  <a id="75190" class="Keyword">where</a>
  <a id="75198" class="Keyword">open</a> <a id="75203" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="75210" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="75213" href="Demos.HSP-markdown.html#74294" class="Function">ğ”„âº</a> <a id="75216" href="Demos.HSP-markdown.html#75135" class="Bound">i</a> <a id="75218" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="75220" class="Keyword">using</a> <a id="75226" class="Symbol">(</a> <a id="75228" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="75232" class="Symbol">)</a>
  <a id="75236" class="Keyword">open</a> <a id="75241" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="75253" class="Symbol">(</a><a id="75254" href="Demos.HSP-markdown.html#74294" class="Function">ğ”„âº</a> <a id="75257" href="Demos.HSP-markdown.html#75135" class="Bound">i</a><a id="75258" class="Symbol">)</a> <a id="75260" class="Keyword">using</a> <a id="75266" class="Symbol">(</a> <a id="75268" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="75272" class="Symbol">)</a>

 <a id="75276" href="Demos.HSP-markdown.html#75276" class="Function">AllEqualâŠ†kerğ”½</a> <a id="75290" class="Symbol">:</a> <a id="75292" class="Symbol">âˆ€</a> <a id="75294" class="Symbol">{</a><a id="75295" href="Demos.HSP-markdown.html#75295" class="Bound">p</a> <a id="75297" href="Demos.HSP-markdown.html#75297" class="Bound">q</a><a id="75298" class="Symbol">}</a> <a id="75300" class="Symbol">â†’</a> <a id="75302" class="Symbol">(âˆ€</a> <a id="75305" href="Demos.HSP-markdown.html#75305" class="Bound">i</a> <a id="75307" class="Symbol">â†’</a> <a id="75309" href="Demos.HSP-markdown.html#75088" class="Function">skEqual</a> <a id="75317" href="Demos.HSP-markdown.html#75305" class="Bound">i</a> <a id="75319" class="Symbol">{</a><a id="75320" href="Demos.HSP-markdown.html#75295" class="Bound">p</a><a id="75321" class="Symbol">}{</a><a id="75323" href="Demos.HSP-markdown.html#75297" class="Bound">q</a><a id="75324" class="Symbol">})</a> <a id="75327" class="Symbol">â†’</a> <a id="75329" class="Symbol">(</a><a id="75330" href="Demos.HSP-markdown.html#75295" class="Bound">p</a> <a id="75332" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="75334" href="Demos.HSP-markdown.html#75297" class="Bound">q</a><a id="75335" class="Symbol">)</a> <a id="75337" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="75339" href="Demos.HSP-markdown.html#16684" class="Function">ker</a> <a id="75343" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="75345" href="Demos.HSP-markdown.html#71412" class="Function Operator">homğ”½[</a> <a id="75351" href="Demos.HSP-markdown.html#74035" class="Bound">X</a> <a id="75353" href="Demos.HSP-markdown.html#71412" class="Function Operator">]</a> <a id="75355" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
 <a id="75358" href="Demos.HSP-markdown.html#75276" class="Function">AllEqualâŠ†kerğ”½</a> <a id="75372" class="Symbol">{</a><a id="75373" href="Demos.HSP-markdown.html#75373" class="Bound">p</a><a id="75374" class="Symbol">}</a> <a id="75376" class="Symbol">{</a><a id="75377" href="Demos.HSP-markdown.html#75377" class="Bound">q</a><a id="75378" class="Symbol">}</a> <a id="75380" href="Demos.HSP-markdown.html#75380" class="Bound">x</a> <a id="75382" class="Symbol">=</a> <a id="75384" href="Demos.HSP-markdown.html#75509" class="Function">Goal</a>
  <a id="75391" class="Keyword">where</a>
  <a id="75399" class="Keyword">open</a> <a id="75404" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="75411" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="75414" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="75417" href="Demos.HSP-markdown.html#74035" class="Bound">X</a> <a id="75419" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="75421" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="75423" class="Keyword">using</a> <a id="75429" class="Symbol">(</a> <a id="75431" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="75435" class="Symbol">)</a>
  <a id="75439" href="Demos.HSP-markdown.html#75439" class="Function">Sğ’¦âŠ«pq</a> <a id="75445" class="Symbol">:</a> <a id="75447" href="Demos.HSP-markdown.html#57226" class="Function">S</a><a id="75448" class="Symbol">{</a><a id="75449" class="Argument">Î²</a> <a id="75451" class="Symbol">=</a> <a id="75453" href="Demos.HSP-markdown.html#74012" class="Bound">Î±</a><a id="75454" class="Symbol">}{</a><a id="75456" href="Demos.HSP-markdown.html#74014" class="Bound">Ïáµƒ</a><a id="75458" class="Symbol">}</a> <a id="75460" href="Demos.HSP-markdown.html#74031" class="Bound">â„“</a> <a id="75462" href="Demos.HSP-markdown.html#73995" class="Bound">ğ’¦</a> <a id="75464" href="Demos.HSP-markdown.html#52214" class="Function Operator">âŠ«</a> <a id="75466" class="Symbol">(</a><a id="75467" href="Demos.HSP-markdown.html#75373" class="Bound">p</a> <a id="75469" href="Demos.HSP-markdown.html#50985" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="75472" href="Demos.HSP-markdown.html#75377" class="Bound">q</a><a id="75473" class="Symbol">)</a>
  <a id="75477" href="Demos.HSP-markdown.html#75439" class="Function">Sğ’¦âŠ«pq</a> <a id="75483" href="Demos.HSP-markdown.html#75483" class="Bound">ğ‘¨</a> <a id="75485" href="Demos.HSP-markdown.html#75485" class="Bound">sA</a> <a id="75488" href="Demos.HSP-markdown.html#75488" class="Bound">Ï</a> <a id="75490" class="Symbol">=</a> <a id="75492" href="Demos.HSP-markdown.html#75380" class="Bound">x</a> <a id="75494" class="Symbol">(</a><a id="75495" href="Demos.HSP-markdown.html#75483" class="Bound">ğ‘¨</a> <a id="75497" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="75499" href="Demos.HSP-markdown.html#75485" class="Bound">sA</a> <a id="75502" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="75504" href="Demos.HSP-markdown.html#75488" class="Bound">Ï</a><a id="75505" class="Symbol">)</a>
  <a id="75509" href="Demos.HSP-markdown.html#75509" class="Function">Goal</a> <a id="75514" class="Symbol">:</a> <a id="75516" href="Demos.HSP-markdown.html#75373" class="Bound">p</a> <a id="75518" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="75520" href="Demos.HSP-markdown.html#75377" class="Bound">q</a>
  <a id="75524" href="Demos.HSP-markdown.html#75509" class="Function">Goal</a> <a id="75529" class="Symbol">=</a> <a id="75531" href="Demos.HSP-markdown.html#72351" class="Function">ğ’¦âŠ«â†’â„°âŠ¢</a> <a id="75537" class="Symbol">(</a><a id="75538" href="Demos.HSP-markdown.html#64722" class="Function">S-id2</a><a id="75543" class="Symbol">{</a><a id="75544" class="Argument">â„“</a> <a id="75546" class="Symbol">=</a> <a id="75548" href="Demos.HSP-markdown.html#74031" class="Bound">â„“</a><a id="75549" class="Symbol">}{</a><a id="75551" class="Argument">p</a> <a id="75553" class="Symbol">=</a> <a id="75555" href="Demos.HSP-markdown.html#75373" class="Bound">p</a><a id="75556" class="Symbol">}{</a><a id="75558" href="Demos.HSP-markdown.html#75377" class="Bound">q</a><a id="75559" class="Symbol">}</a> <a id="75561" href="Demos.HSP-markdown.html#75439" class="Function">Sğ’¦âŠ«pq</a><a id="75566" class="Symbol">)</a>

 <a id="75570" href="Demos.HSP-markdown.html#75570" class="Function">homâ„­</a> <a id="75575" class="Symbol">:</a> <a id="75577" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="75581" class="Symbol">(</a><a id="75582" href="Demos.HSP-markdown.html#44264" class="Function">ğ‘»</a> <a id="75584" href="Demos.HSP-markdown.html#74035" class="Bound">X</a><a id="75585" class="Symbol">)</a> <a id="75587" href="Demos.HSP-markdown.html#74333" class="Function">â„­</a>
 <a id="75590" href="Demos.HSP-markdown.html#75570" class="Function">homâ„­</a> <a id="75595" class="Symbol">=</a> <a id="75597" href="Demos.HSP-markdown.html#32184" class="Function">â¨…-hom-co</a> <a id="75606" href="Demos.HSP-markdown.html#74294" class="Function">ğ”„âº</a> <a id="75609" href="Demos.HSP-markdown.html#75621" class="Function">h</a>
  <a id="75613" class="Keyword">where</a>
  <a id="75621" href="Demos.HSP-markdown.html#75621" class="Function">h</a> <a id="75623" class="Symbol">:</a> <a id="75625" class="Symbol">âˆ€</a> <a id="75627" href="Demos.HSP-markdown.html#75627" class="Bound">i</a> <a id="75629" class="Symbol">â†’</a> <a id="75631" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="75635" class="Symbol">(</a><a id="75636" href="Demos.HSP-markdown.html#44264" class="Function">ğ‘»</a> <a id="75638" href="Demos.HSP-markdown.html#74035" class="Bound">X</a><a id="75639" class="Symbol">)</a> <a id="75641" class="Symbol">(</a><a id="75642" href="Demos.HSP-markdown.html#74294" class="Function">ğ”„âº</a> <a id="75645" href="Demos.HSP-markdown.html#75627" class="Bound">i</a><a id="75646" class="Symbol">)</a>
  <a id="75650" href="Demos.HSP-markdown.html#75621" class="Function">h</a> <a id="75652" href="Demos.HSP-markdown.html#75652" class="Bound">i</a> <a id="75654" class="Symbol">=</a> <a id="75656" href="Demos.HSP-markdown.html#68064" class="Function">lift-hom</a> <a id="75665" class="Symbol">(</a><a id="75666" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="75670" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="75672" href="Demos.HSP-markdown.html#75652" class="Bound">i</a> <a id="75674" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a><a id="75675" class="Symbol">)</a>

 <a id="75679" href="Demos.HSP-markdown.html#75679" class="Function">kerğ”½âŠ†kerâ„­</a> <a id="75689" class="Symbol">:</a> <a id="75691" href="Demos.HSP-markdown.html#16684" class="Function">ker</a> <a id="75695" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="75697" href="Demos.HSP-markdown.html#71412" class="Function Operator">homğ”½[</a> <a id="75703" href="Demos.HSP-markdown.html#74035" class="Bound">X</a> <a id="75705" href="Demos.HSP-markdown.html#71412" class="Function Operator">]</a> <a id="75707" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="75709" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="75711" href="Demos.HSP-markdown.html#16684" class="Function">ker</a> <a id="75715" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="75717" href="Demos.HSP-markdown.html#75570" class="Function">homâ„­</a> <a id="75722" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
 <a id="75725" href="Demos.HSP-markdown.html#75679" class="Function">kerğ”½âŠ†kerâ„­</a> <a id="75735" class="Symbol">{</a><a id="75736" href="Demos.HSP-markdown.html#75736" class="Bound">p</a> <a id="75738" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="75740" href="Demos.HSP-markdown.html#75740" class="Bound">q</a><a id="75741" class="Symbol">}</a> <a id="75743" href="Demos.HSP-markdown.html#75743" class="Bound">pKq</a> <a id="75747" class="Symbol">(</a><a id="75748" href="Demos.HSP-markdown.html#75748" class="Bound">ğ‘¨</a> <a id="75750" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="75752" href="Demos.HSP-markdown.html#75752" class="Bound">sA</a> <a id="75755" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="75757" href="Demos.HSP-markdown.html#75757" class="Bound">Ï</a><a id="75758" class="Symbol">)</a> <a id="75760" class="Symbol">=</a> <a id="75762" href="Demos.HSP-markdown.html#76018" class="Function">Goal</a>
  <a id="75769" class="Keyword">where</a>
  <a id="75777" class="Keyword">open</a> <a id="75782" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="75789" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="75792" href="Demos.HSP-markdown.html#75748" class="Bound">ğ‘¨</a> <a id="75794" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="75796" class="Keyword">using</a> <a id="75802" class="Symbol">(</a> <a id="75804" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="75808" class="Symbol">;</a> <a id="75810" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="75814" class="Symbol">;</a> <a id="75816" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="75822" class="Symbol">)</a>
  <a id="75826" class="Keyword">open</a> <a id="75831" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="75843" href="Demos.HSP-markdown.html#75748" class="Bound">ğ‘¨</a> <a id="75845" class="Keyword">using</a> <a id="75851" class="Symbol">(</a> <a id="75853" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="75857" class="Symbol">)</a>
  <a id="75861" href="Demos.HSP-markdown.html#75861" class="Function">fl</a> <a id="75864" class="Symbol">:</a> <a id="75866" class="Symbol">âˆ€</a> <a id="75868" href="Demos.HSP-markdown.html#75868" class="Bound">t</a> <a id="75870" class="Symbol">â†’</a> <a id="75872" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="75874" href="Demos.HSP-markdown.html#75868" class="Bound">t</a> <a id="75876" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="75878" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="75882" href="Demos.HSP-markdown.html#75757" class="Bound">Ï</a> <a id="75884" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="75886" href="Demos.HSP-markdown.html#67115" class="Function">free-lift</a> <a id="75896" href="Demos.HSP-markdown.html#75757" class="Bound">Ï</a> <a id="75898" href="Demos.HSP-markdown.html#75868" class="Bound">t</a>
  <a id="75902" href="Demos.HSP-markdown.html#75861" class="Function">fl</a> <a id="75905" href="Demos.HSP-markdown.html#75905" class="Bound">t</a> <a id="75907" class="Symbol">=</a> <a id="75909" href="Demos.HSP-markdown.html#68513" class="Function">free-lift-interp</a> <a id="75926" class="Symbol">{</a><a id="75927" class="Argument">ğ‘¨</a> <a id="75929" class="Symbol">=</a> <a id="75931" href="Demos.HSP-markdown.html#75748" class="Bound">ğ‘¨</a><a id="75932" class="Symbol">}</a> <a id="75934" href="Demos.HSP-markdown.html#75757" class="Bound">Ï</a> <a id="75936" href="Demos.HSP-markdown.html#75905" class="Bound">t</a>
  <a id="75940" href="Demos.HSP-markdown.html#75940" class="Function">subgoal</a> <a id="75948" class="Symbol">:</a> <a id="75950" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="75952" href="Demos.HSP-markdown.html#75736" class="Bound">p</a> <a id="75954" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="75956" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="75960" href="Demos.HSP-markdown.html#75757" class="Bound">Ï</a> <a id="75962" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="75964" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="75966" href="Demos.HSP-markdown.html#75740" class="Bound">q</a> <a id="75968" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="75970" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="75974" href="Demos.HSP-markdown.html#75757" class="Bound">Ï</a>
  <a id="75978" href="Demos.HSP-markdown.html#75940" class="Function">subgoal</a> <a id="75986" class="Symbol">=</a> <a id="75988" href="Demos.HSP-markdown.html#72216" class="Function">kerğ”½âŠ†Equal</a><a id="75998" class="Symbol">{</a><a id="75999" class="Argument">ğ‘¨</a> <a id="76001" class="Symbol">=</a> <a id="76003" href="Demos.HSP-markdown.html#75748" class="Bound">ğ‘¨</a><a id="76004" class="Symbol">}{</a><a id="76006" href="Demos.HSP-markdown.html#75752" class="Bound">sA</a><a id="76008" class="Symbol">}</a> <a id="76010" href="Demos.HSP-markdown.html#75743" class="Bound">pKq</a> <a id="76014" href="Demos.HSP-markdown.html#75757" class="Bound">Ï</a>
  <a id="76018" href="Demos.HSP-markdown.html#76018" class="Function">Goal</a> <a id="76023" class="Symbol">:</a> <a id="76025" class="Symbol">(</a><a id="76026" href="Demos.HSP-markdown.html#67115" class="Function">free-lift</a><a id="76035" class="Symbol">{</a><a id="76036" class="Argument">ğ‘¨</a> <a id="76038" class="Symbol">=</a> <a id="76040" href="Demos.HSP-markdown.html#75748" class="Bound">ğ‘¨</a><a id="76041" class="Symbol">}</a> <a id="76043" href="Demos.HSP-markdown.html#75757" class="Bound">Ï</a> <a id="76045" href="Demos.HSP-markdown.html#75736" class="Bound">p</a><a id="76046" class="Symbol">)</a> <a id="76048" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="76050" class="Symbol">(</a><a id="76051" href="Demos.HSP-markdown.html#67115" class="Function">free-lift</a><a id="76060" class="Symbol">{</a><a id="76061" class="Argument">ğ‘¨</a> <a id="76063" class="Symbol">=</a> <a id="76065" href="Demos.HSP-markdown.html#75748" class="Bound">ğ‘¨</a><a id="76066" class="Symbol">}</a> <a id="76068" href="Demos.HSP-markdown.html#75757" class="Bound">Ï</a> <a id="76070" href="Demos.HSP-markdown.html#75740" class="Bound">q</a><a id="76071" class="Symbol">)</a>
  <a id="76075" href="Demos.HSP-markdown.html#76018" class="Function">Goal</a> <a id="76080" class="Symbol">=</a> <a id="76082" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="76088" class="Symbol">(</a><a id="76089" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="76093" class="Symbol">(</a><a id="76094" href="Demos.HSP-markdown.html#75861" class="Function">fl</a> <a id="76097" href="Demos.HSP-markdown.html#75736" class="Bound">p</a><a id="76098" class="Symbol">))</a> <a id="76101" class="Symbol">(</a><a id="76102" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="76108" href="Demos.HSP-markdown.html#75940" class="Function">subgoal</a> <a id="76116" class="Symbol">(</a><a id="76117" href="Demos.HSP-markdown.html#75861" class="Function">fl</a> <a id="76120" href="Demos.HSP-markdown.html#75740" class="Bound">q</a><a id="76121" class="Symbol">))</a>


 <a id="76127" href="Demos.HSP-markdown.html#76127" class="Function">homğ”½â„­</a> <a id="76133" class="Symbol">:</a> <a id="76135" href="Demos.HSP-markdown.html#27102" class="Function">hom</a> <a id="76139" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="76142" href="Demos.HSP-markdown.html#74035" class="Bound">X</a> <a id="76144" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="76146" href="Demos.HSP-markdown.html#74333" class="Function">â„­</a>
 <a id="76149" href="Demos.HSP-markdown.html#76127" class="Function">homğ”½â„­</a> <a id="76155" class="Symbol">=</a> <a id="76157" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76159" href="Demos.HSP-markdown.html#33102" class="Function">HomFactor</a> <a id="76169" href="Demos.HSP-markdown.html#74333" class="Function">â„­</a> <a id="76171" href="Demos.HSP-markdown.html#75570" class="Function">homâ„­</a> <a id="76176" href="Demos.HSP-markdown.html#71412" class="Function Operator">homğ”½[</a> <a id="76182" href="Demos.HSP-markdown.html#74035" class="Bound">X</a> <a id="76184" href="Demos.HSP-markdown.html#71412" class="Function Operator">]</a> <a id="76186" href="Demos.HSP-markdown.html#75679" class="Function">kerğ”½âŠ†kerâ„­</a> <a id="76196" href="Demos.HSP-markdown.html#71499" class="Function Operator">homğ”½[</a> <a id="76202" href="Demos.HSP-markdown.html#74035" class="Bound">X</a> <a id="76204" href="Demos.HSP-markdown.html#71499" class="Function Operator">]-is-epic</a> <a id="76214" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>

 <a id="76218" href="Demos.HSP-markdown.html#76218" class="Function">kerâ„­âŠ†kerğ”½</a> <a id="76228" class="Symbol">:</a> <a id="76230" class="Symbol">âˆ€{</a><a id="76232" href="Demos.HSP-markdown.html#76232" class="Bound">p</a> <a id="76234" href="Demos.HSP-markdown.html#76234" class="Bound">q</a><a id="76235" class="Symbol">}</a> <a id="76237" class="Symbol">â†’</a> <a id="76239" class="Symbol">(</a><a id="76240" href="Demos.HSP-markdown.html#76232" class="Bound">p</a> <a id="76242" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="76244" href="Demos.HSP-markdown.html#76234" class="Bound">q</a><a id="76245" class="Symbol">)</a> <a id="76247" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="76249" href="Demos.HSP-markdown.html#16684" class="Function">ker</a> <a id="76253" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76255" href="Demos.HSP-markdown.html#75570" class="Function">homâ„­</a> <a id="76260" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76262" class="Symbol">â†’</a> <a id="76264" class="Symbol">(</a><a id="76265" href="Demos.HSP-markdown.html#76232" class="Bound">p</a> <a id="76267" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="76269" href="Demos.HSP-markdown.html#76234" class="Bound">q</a><a id="76270" class="Symbol">)</a> <a id="76272" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="76274" href="Demos.HSP-markdown.html#16684" class="Function">ker</a> <a id="76278" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76280" href="Demos.HSP-markdown.html#71412" class="Function Operator">homğ”½[</a> <a id="76286" href="Demos.HSP-markdown.html#74035" class="Bound">X</a> <a id="76288" href="Demos.HSP-markdown.html#71412" class="Function Operator">]</a> <a id="76290" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
 <a id="76293" href="Demos.HSP-markdown.html#76218" class="Function">kerâ„­âŠ†kerğ”½</a> <a id="76303" class="Symbol">{</a><a id="76304" href="Demos.HSP-markdown.html#76304" class="Bound">p</a><a id="76305" class="Symbol">}{</a><a id="76307" href="Demos.HSP-markdown.html#76307" class="Bound">q</a><a id="76308" class="Symbol">}</a> <a id="76310" href="Demos.HSP-markdown.html#76310" class="Bound">pKq</a> <a id="76314" class="Symbol">=</a> <a id="76316" href="Demos.HSP-markdown.html#76675" class="Function">EâŠ¢pq</a>
  <a id="76323" class="Keyword">where</a>
  <a id="76331" href="Demos.HSP-markdown.html#76331" class="Function">pqEqual</a> <a id="76339" class="Symbol">:</a> <a id="76341" class="Symbol">âˆ€</a> <a id="76343" href="Demos.HSP-markdown.html#76343" class="Bound">i</a> <a id="76345" class="Symbol">â†’</a> <a id="76347" href="Demos.HSP-markdown.html#75088" class="Function">skEqual</a> <a id="76355" href="Demos.HSP-markdown.html#76343" class="Bound">i</a> <a id="76357" class="Symbol">{</a><a id="76358" href="Demos.HSP-markdown.html#76304" class="Bound">p</a><a id="76359" class="Symbol">}{</a><a id="76361" href="Demos.HSP-markdown.html#76307" class="Bound">q</a><a id="76362" class="Symbol">}</a>
  <a id="76366" href="Demos.HSP-markdown.html#76331" class="Function">pqEqual</a> <a id="76374" href="Demos.HSP-markdown.html#76374" class="Bound">i</a> <a id="76376" class="Symbol">=</a> <a id="76378" href="Demos.HSP-markdown.html#76489" class="Function">goal</a>
   <a id="76386" class="Keyword">where</a>
   <a id="76395" class="Keyword">open</a> <a id="76400" href="Demos.HSP-markdown.html#45540" class="Module">Environment</a> <a id="76412" class="Symbol">(</a><a id="76413" href="Demos.HSP-markdown.html#74294" class="Function">ğ”„âº</a> <a id="76416" href="Demos.HSP-markdown.html#76374" class="Bound">i</a><a id="76417" class="Symbol">)</a> <a id="76419" class="Keyword">using</a> <a id="76425" class="Symbol">(</a> <a id="76427" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦_âŸ§</a> <a id="76431" class="Symbol">)</a>
   <a id="76436" class="Keyword">open</a> <a id="76441" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="76448" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="76451" href="Demos.HSP-markdown.html#74294" class="Function">ğ”„âº</a> <a id="76454" href="Demos.HSP-markdown.html#76374" class="Bound">i</a> <a id="76456" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="76458" class="Keyword">using</a> <a id="76464" class="Symbol">(</a> <a id="76466" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="76470" class="Symbol">;</a> <a id="76472" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="76476" class="Symbol">;</a> <a id="76478" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="76484" class="Symbol">)</a>
   <a id="76489" href="Demos.HSP-markdown.html#76489" class="Function">goal</a> <a id="76494" class="Symbol">:</a> <a id="76496" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="76498" href="Demos.HSP-markdown.html#76304" class="Bound">p</a> <a id="76500" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="76502" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="76506" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="76510" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="76512" href="Demos.HSP-markdown.html#76374" class="Bound">i</a> <a id="76514" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="76516" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="76518" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ¦</a> <a id="76520" href="Demos.HSP-markdown.html#76307" class="Bound">q</a> <a id="76522" href="Demos.HSP-markdown.html#46096" class="Function Operator">âŸ§</a> <a id="76524" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="76528" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="76532" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="76534" href="Demos.HSP-markdown.html#76374" class="Bound">i</a> <a id="76536" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>
   <a id="76541" href="Demos.HSP-markdown.html#76489" class="Function">goal</a> <a id="76546" class="Symbol">=</a> <a id="76548" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="76554" class="Symbol">(</a><a id="76555" href="Demos.HSP-markdown.html#68513" class="Function">free-lift-interp</a><a id="76571" class="Symbol">{</a><a id="76572" class="Argument">ğ‘¨</a> <a id="76574" class="Symbol">=</a> <a id="76576" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76578" href="Demos.HSP-markdown.html#76374" class="Bound">i</a> <a id="76580" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a><a id="76581" class="Symbol">}(</a><a id="76583" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="76587" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="76589" href="Demos.HSP-markdown.html#76374" class="Bound">i</a> <a id="76591" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a><a id="76592" class="Symbol">)</a> <a id="76594" href="Demos.HSP-markdown.html#76304" class="Bound">p</a><a id="76595" class="Symbol">)</a>
           <a id="76608" class="Symbol">(</a><a id="76609" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="76615" class="Symbol">(</a><a id="76616" href="Demos.HSP-markdown.html#76310" class="Bound">pKq</a> <a id="76620" href="Demos.HSP-markdown.html#76374" class="Bound">i</a><a id="76621" class="Symbol">)(</a><a id="76623" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="76627" class="Symbol">(</a><a id="76628" href="Demos.HSP-markdown.html#68513" class="Function">free-lift-interp</a><a id="76644" class="Symbol">{</a><a id="76645" class="Argument">ğ‘¨</a> <a id="76647" class="Symbol">=</a> <a id="76649" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76651" href="Demos.HSP-markdown.html#76374" class="Bound">i</a> <a id="76653" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a><a id="76654" class="Symbol">}</a> <a id="76656" class="Symbol">(</a><a id="76657" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="76661" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="76663" href="Demos.HSP-markdown.html#76374" class="Bound">i</a> <a id="76665" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a><a id="76666" class="Symbol">)</a> <a id="76668" href="Demos.HSP-markdown.html#76307" class="Bound">q</a><a id="76669" class="Symbol">)))</a>
  <a id="76675" href="Demos.HSP-markdown.html#76675" class="Function">EâŠ¢pq</a> <a id="76680" class="Symbol">:</a> <a id="76682" href="Demos.HSP-markdown.html#70233" class="Function">â„°</a> <a id="76684" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">âŠ¢</a> <a id="76686" href="Demos.HSP-markdown.html#74035" class="Bound">X</a> <a id="76688" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â–¹</a> <a id="76690" href="Demos.HSP-markdown.html#76304" class="Bound">p</a> <a id="76692" href="Demos.HSP-markdown.html#53320" class="Datatype Operator">â‰ˆ</a> <a id="76694" href="Demos.HSP-markdown.html#76307" class="Bound">q</a>
  <a id="76698" href="Demos.HSP-markdown.html#76675" class="Function">EâŠ¢pq</a> <a id="76703" class="Symbol">=</a> <a id="76705" href="Demos.HSP-markdown.html#75276" class="Function">AllEqualâŠ†kerğ”½</a> <a id="76719" href="Demos.HSP-markdown.html#76331" class="Function">pqEqual</a>

 <a id="76729" href="Demos.HSP-markdown.html#76729" class="Function">monğ”½â„­</a> <a id="76735" class="Symbol">:</a> <a id="76737" href="Demos.HSP-markdown.html#27424" class="Function">mon</a> <a id="76741" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="76744" href="Demos.HSP-markdown.html#74035" class="Bound">X</a> <a id="76746" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="76748" href="Demos.HSP-markdown.html#74333" class="Function">â„­</a>
 <a id="76751" href="Demos.HSP-markdown.html#76729" class="Function">monğ”½â„­</a> <a id="76757" class="Symbol">=</a> <a id="76759" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76761" href="Demos.HSP-markdown.html#76127" class="Function">homğ”½â„­</a> <a id="76767" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76769" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="76771" href="Demos.HSP-markdown.html#76787" class="Function">isMon</a>
  <a id="76779" class="Keyword">where</a>
  <a id="76787" href="Demos.HSP-markdown.html#76787" class="Function">isMon</a> <a id="76793" class="Symbol">:</a> <a id="76795" href="Demos.HSP-markdown.html#27262" class="Record">IsMon</a> <a id="76801" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="76804" href="Demos.HSP-markdown.html#74035" class="Bound">X</a> <a id="76806" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="76808" href="Demos.HSP-markdown.html#74333" class="Function">â„­</a> <a id="76810" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76812" href="Demos.HSP-markdown.html#76127" class="Function">homğ”½â„­</a> <a id="76818" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="76822" href="Demos.HSP-markdown.html#27326" class="Field">isHom</a> <a id="76828" href="Demos.HSP-markdown.html#76787" class="Function">isMon</a> <a id="76834" class="Symbol">=</a> <a id="76836" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="76838" href="Demos.HSP-markdown.html#76127" class="Function">homğ”½â„­</a> <a id="76844" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>
  <a id="76848" href="Demos.HSP-markdown.html#27351" class="Field">isInjective</a> <a id="76860" href="Demos.HSP-markdown.html#76787" class="Function">isMon</a> <a id="76866" class="Symbol">{</a><a id="76867" href="Demos.HSP-markdown.html#76867" class="Bound">p</a><a id="76868" class="Symbol">}</a> <a id="76870" class="Symbol">{</a><a id="76871" href="Demos.HSP-markdown.html#76871" class="Bound">q</a><a id="76872" class="Symbol">}</a> <a id="76874" href="Demos.HSP-markdown.html#76874" class="Bound">Ï†pq</a> <a id="76878" class="Symbol">=</a> <a id="76880" href="Demos.HSP-markdown.html#76218" class="Function">kerâ„­âŠ†kerğ”½</a> <a id="76890" href="Demos.HSP-markdown.html#76874" class="Bound">Ï†pq</a>

</pre>

Now that we have proved the existence of a monomorphism from `ğ”½[ X ]` to `â„­` we are in a position
to prove that `ğ”½[ X ]` is a subalgebra of â„­, so belongs to `S (P ğ’¦)`.  In fact, we will show
that `ğ”½[ X ]` is a subalgebra of the *lift* of `â„­`, denoted `â„“â„­`.

<pre class="Agda">

 <a id="77180" href="Demos.HSP-markdown.html#77180" class="Function">ğ”½â‰¤â„­</a> <a id="77184" class="Symbol">:</a> <a id="77186" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="77189" href="Demos.HSP-markdown.html#74035" class="Bound">X</a> <a id="77191" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="77193" href="Demos.HSP-markdown.html#38931" class="Function Operator">â‰¤</a> <a id="77195" href="Demos.HSP-markdown.html#74333" class="Function">â„­</a>
 <a id="77198" href="Demos.HSP-markdown.html#77180" class="Function">ğ”½â‰¤â„­</a> <a id="77202" class="Symbol">=</a> <a id="77204" href="Demos.HSP-markdown.html#39202" class="Function">monâ†’â‰¤</a> <a id="77210" href="Demos.HSP-markdown.html#76729" class="Function">monğ”½â„­</a>

 <a id="77218" href="Demos.HSP-markdown.html#77218" class="Function">SPğ”½</a> <a id="77222" class="Symbol">:</a> <a id="77224" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="77227" href="Demos.HSP-markdown.html#74035" class="Bound">X</a> <a id="77229" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="77231" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="77233" href="Demos.HSP-markdown.html#57226" class="Function">S</a> <a id="77235" href="Demos.HSP-markdown.html#74073" class="Function">Î¹</a> <a id="77237" class="Symbol">(</a><a id="77238" href="Demos.HSP-markdown.html#57352" class="Function">P</a> <a id="77240" href="Demos.HSP-markdown.html#74031" class="Bound">â„“</a> <a id="77242" href="Demos.HSP-markdown.html#74073" class="Function">Î¹</a> <a id="77244" href="Demos.HSP-markdown.html#73995" class="Bound">ğ’¦</a><a id="77245" class="Symbol">)</a>
 <a id="77248" href="Demos.HSP-markdown.html#77218" class="Function">SPğ”½</a> <a id="77252" class="Symbol">=</a> <a id="77254" href="Demos.HSP-markdown.html#58696" class="Function">S-idem</a> <a id="77261" href="Demos.HSP-markdown.html#77414" class="Function">SSPğ”½</a>
  <a id="77268" class="Keyword">where</a>
  <a id="77276" href="Demos.HSP-markdown.html#77276" class="Function">PSâ„­</a> <a id="77280" class="Symbol">:</a> <a id="77282" href="Demos.HSP-markdown.html#74333" class="Function">â„­</a> <a id="77284" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="77286" href="Demos.HSP-markdown.html#57352" class="Function">P</a> <a id="77288" class="Symbol">(</a><a id="77289" href="Demos.HSP-markdown.html#74012" class="Bound">Î±</a> <a id="77291" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="77293" href="Demos.HSP-markdown.html#74014" class="Bound">Ïáµƒ</a> <a id="77296" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="77298" href="Demos.HSP-markdown.html#74031" class="Bound">â„“</a><a id="77299" class="Symbol">)</a> <a id="77301" href="Demos.HSP-markdown.html#74073" class="Function">Î¹</a> <a id="77303" class="Symbol">(</a><a id="77304" href="Demos.HSP-markdown.html#57226" class="Function">S</a> <a id="77306" href="Demos.HSP-markdown.html#74031" class="Bound">â„“</a> <a id="77308" href="Demos.HSP-markdown.html#73995" class="Bound">ğ’¦</a><a id="77309" class="Symbol">)</a>
  <a id="77313" href="Demos.HSP-markdown.html#77276" class="Function">PSâ„­</a> <a id="77317" class="Symbol">=</a> <a id="77319" href="Demos.HSP-markdown.html#74216" class="Function">â„‘âº</a> <a id="77322" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="77324" class="Symbol">(</a><a id="77325" href="Demos.HSP-markdown.html#74294" class="Function">ğ”„âº</a> <a id="77328" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="77330" class="Symbol">((Î»</a> <a id="77334" href="Demos.HSP-markdown.html#77334" class="Bound">i</a> <a id="77336" class="Symbol">â†’</a> <a id="77338" href="Demos.HSP-markdown.html#7750" class="Field">fst</a> <a id="77342" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="77344" href="Demos.HSP-markdown.html#77334" class="Bound">i</a> <a id="77346" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a><a id="77347" class="Symbol">)</a> <a id="77349" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="77351" href="Demos.HSP-markdown.html#35737" class="Function">â‰…-refl</a><a id="77357" class="Symbol">))</a>
  <a id="77362" href="Demos.HSP-markdown.html#77362" class="Function">SPâ„­</a> <a id="77366" class="Symbol">:</a> <a id="77368" href="Demos.HSP-markdown.html#74333" class="Function">â„­</a> <a id="77370" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="77372" href="Demos.HSP-markdown.html#57226" class="Function">S</a> <a id="77374" href="Demos.HSP-markdown.html#74073" class="Function">Î¹</a> <a id="77376" class="Symbol">(</a><a id="77377" href="Demos.HSP-markdown.html#57352" class="Function">P</a> <a id="77379" href="Demos.HSP-markdown.html#74031" class="Bound">â„“</a> <a id="77381" href="Demos.HSP-markdown.html#74073" class="Function">Î¹</a> <a id="77383" href="Demos.HSP-markdown.html#73995" class="Bound">ğ’¦</a><a id="77384" class="Symbol">)</a>
  <a id="77388" href="Demos.HSP-markdown.html#77362" class="Function">SPâ„­</a> <a id="77392" class="Symbol">=</a> <a id="77394" href="Demos.HSP-markdown.html#62354" class="Function">PSâŠ†SP</a> <a id="77400" class="Symbol">{</a><a id="77401" class="Argument">â„“</a> <a id="77403" class="Symbol">=</a> <a id="77405" href="Demos.HSP-markdown.html#74031" class="Bound">â„“</a><a id="77406" class="Symbol">}</a> <a id="77408" href="Demos.HSP-markdown.html#77276" class="Function">PSâ„­</a>
  <a id="77414" href="Demos.HSP-markdown.html#77414" class="Function">SSPğ”½</a> <a id="77419" class="Symbol">:</a> <a id="77421" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="77424" href="Demos.HSP-markdown.html#74035" class="Bound">X</a> <a id="77426" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="77428" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="77430" href="Demos.HSP-markdown.html#57226" class="Function">S</a> <a id="77432" href="Demos.HSP-markdown.html#74073" class="Function">Î¹</a> <a id="77434" class="Symbol">(</a><a id="77435" href="Demos.HSP-markdown.html#57226" class="Function">S</a> <a id="77437" href="Demos.HSP-markdown.html#74073" class="Function">Î¹</a> <a id="77439" class="Symbol">(</a><a id="77440" href="Demos.HSP-markdown.html#57352" class="Function">P</a> <a id="77442" href="Demos.HSP-markdown.html#74031" class="Bound">â„“</a> <a id="77444" href="Demos.HSP-markdown.html#74073" class="Function">Î¹</a> <a id="77446" href="Demos.HSP-markdown.html#73995" class="Bound">ğ’¦</a><a id="77447" class="Symbol">))</a>
  <a id="77452" href="Demos.HSP-markdown.html#77414" class="Function">SSPğ”½</a> <a id="77457" class="Symbol">=</a> <a id="77459" href="Demos.HSP-markdown.html#74333" class="Function">â„­</a> <a id="77461" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="77463" class="Symbol">(</a><a id="77464" href="Demos.HSP-markdown.html#77362" class="Function">SPâ„­</a> <a id="77468" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="77470" href="Demos.HSP-markdown.html#77180" class="Function">ğ”½â‰¤â„­</a><a id="77473" class="Symbol">)</a>
</pre>



<!-- ------------------------------------------------------------------------------------- -->

## <a id="the-hsp-theorem">The HSP Theorem</a>

Finally, we are in a position to prove Birkhoff's celebrated variety theorem.

<pre class="Agda">

<a id="77726" class="Keyword">module</a> <a id="77733" href="Demos.HSP-markdown.html#77733" class="Module">_</a> <a id="77735" class="Symbol">{</a><a id="77736" href="Demos.HSP-markdown.html#77736" class="Bound">ğ’¦</a> <a id="77738" class="Symbol">:</a> <a id="77740" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="77744" class="Symbol">(</a><a id="77745" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="77753" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="77755" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="77757" class="Symbol">)</a> <a id="77759" class="Symbol">(</a><a id="77760" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="77762" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="77764" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="77767" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="77769" href="Demos.HSP-markdown.html#37560" class="Function">ov</a> <a id="77772" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="77773" class="Symbol">)}</a> <a id="77776" class="Keyword">where</a>
 <a id="77783" class="Keyword">private</a> <a id="77791" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a> <a id="77793" class="Symbol">=</a> <a id="77795" href="Demos.HSP-markdown.html#37560" class="Function">ov</a><a id="77797" class="Symbol">(</a><a id="77798" href="Demos.HSP-markdown.html#77753" class="Bound">Î±</a> <a id="77800" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="77802" href="Demos.HSP-markdown.html#77755" class="Bound">Ïáµƒ</a> <a id="77805" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="77807" href="Demos.HSP-markdown.html#77772" class="Bound">â„“</a><a id="77808" class="Symbol">)</a>
 <a id="77811" class="Keyword">open</a> <a id="77816" href="Demos.HSP-markdown.html#70010" class="Module">FreeHom</a> <a id="77824" class="Symbol">{</a><a id="77825" class="Argument">â„“</a> <a id="77827" class="Symbol">=</a> <a id="77829" href="Demos.HSP-markdown.html#77772" class="Bound">â„“</a><a id="77830" class="Symbol">}(</a><a id="77832" href="Demos.HSP-markdown.html#77753" class="Bound">Î±</a> <a id="77834" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="77836" href="Demos.HSP-markdown.html#77755" class="Bound">Ïáµƒ</a> <a id="77839" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="77841" href="Demos.HSP-markdown.html#77772" class="Bound">â„“</a><a id="77842" class="Symbol">){</a><a id="77844" href="Demos.HSP-markdown.html#77736" class="Bound">ğ’¦</a><a id="77845" class="Symbol">}</a>
 <a id="77848" class="Keyword">open</a> <a id="77853" href="Demos.HSP-markdown.html#69004" class="Module">FreeAlgebra</a> <a id="77865" class="Symbol">{</a><a id="77866" class="Argument">Î¹</a> <a id="77868" class="Symbol">=</a> <a id="77870" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a><a id="77871" class="Symbol">}{</a><a id="77873" class="Argument">I</a> <a id="77875" class="Symbol">=</a> <a id="77877" href="Demos.HSP-markdown.html#70120" class="Function">â„</a><a id="77878" class="Symbol">}</a> <a id="77880" href="Demos.HSP-markdown.html#70233" class="Function">â„°</a> <a id="77882" class="Keyword">using</a> <a id="77888" class="Symbol">(</a> <a id="77890" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[_]</a> <a id="77895" class="Symbol">)</a>

 <a id="77899" href="Demos.HSP-markdown.html#77899" class="Function">Birkhoff</a> <a id="77908" class="Symbol">:</a> <a id="77910" class="Symbol">âˆ€</a> <a id="77912" href="Demos.HSP-markdown.html#77912" class="Bound">ğ‘¨</a> <a id="77914" class="Symbol">â†’</a> <a id="77916" href="Demos.HSP-markdown.html#77912" class="Bound">ğ‘¨</a> <a id="77918" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="77920" href="Demos.HSP-markdown.html#52909" class="Function">Mod</a> <a id="77924" class="Symbol">(</a><a id="77925" href="Demos.HSP-markdown.html#52808" class="Function">Th</a> <a id="77928" class="Symbol">(</a><a id="77929" href="Demos.HSP-markdown.html#57886" class="Function">V</a> <a id="77931" href="Demos.HSP-markdown.html#77772" class="Bound">â„“</a> <a id="77933" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a> <a id="77935" href="Demos.HSP-markdown.html#77736" class="Bound">ğ’¦</a><a id="77936" class="Symbol">))</a> <a id="77939" class="Symbol">â†’</a> <a id="77941" href="Demos.HSP-markdown.html#77912" class="Bound">ğ‘¨</a> <a id="77943" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="77945" href="Demos.HSP-markdown.html#57886" class="Function">V</a> <a id="77947" href="Demos.HSP-markdown.html#77772" class="Bound">â„“</a> <a id="77949" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a> <a id="77951" href="Demos.HSP-markdown.html#77736" class="Bound">ğ’¦</a>
 <a id="77954" href="Demos.HSP-markdown.html#77899" class="Function">Birkhoff</a> <a id="77963" href="Demos.HSP-markdown.html#77963" class="Bound">ğ‘¨</a> <a id="77965" href="Demos.HSP-markdown.html#77965" class="Bound">ModThA</a> <a id="77972" class="Symbol">=</a> <a id="77974" href="Demos.HSP-markdown.html#58206" class="Function">V-â‰…-lc</a><a id="77980" class="Symbol">{</a><a id="77981" href="Demos.HSP-markdown.html#77753" class="Bound">Î±</a><a id="77982" class="Symbol">}{</a><a id="77984" href="Demos.HSP-markdown.html#77755" class="Bound">Ïáµƒ</a><a id="77986" class="Symbol">}{</a><a id="77988" href="Demos.HSP-markdown.html#77772" class="Bound">â„“</a><a id="77989" class="Symbol">}</a> <a id="77991" href="Demos.HSP-markdown.html#77736" class="Bound">ğ’¦</a> <a id="77993" href="Demos.HSP-markdown.html#77963" class="Bound">ğ‘¨</a> <a id="77995" href="Demos.HSP-markdown.html#78327" class="Function">VlA</a>
  <a id="78001" class="Keyword">where</a>
  <a id="78009" class="Keyword">open</a> <a id="78014" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="78021" href="Demos.HSP-markdown.html#23764" class="Function Operator">ğ”»[</a> <a id="78024" href="Demos.HSP-markdown.html#77963" class="Bound">ğ‘¨</a> <a id="78026" href="Demos.HSP-markdown.html#23764" class="Function Operator">]</a> <a id="78028" class="Keyword">using</a> <a id="78034" class="Symbol">()</a> <a id="78037" class="Keyword">renaming</a> <a id="78046" class="Symbol">(</a> <a id="78048" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="78056" class="Symbol">to</a> <a id="78059" class="Field">A</a> <a id="78061" class="Symbol">)</a>
  <a id="78065" href="Demos.HSP-markdown.html#78065" class="Function">spğ”½A</a> <a id="78070" class="Symbol">:</a> <a id="78072" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="78075" href="Demos.HSP-markdown.html#78059" class="Function">A</a> <a id="78077" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="78079" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="78081" href="Demos.HSP-markdown.html#57226" class="Function">S</a><a id="78082" class="Symbol">{</a><a id="78083" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a><a id="78084" class="Symbol">}</a> <a id="78086" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a> <a id="78088" class="Symbol">(</a><a id="78089" href="Demos.HSP-markdown.html#57352" class="Function">P</a> <a id="78091" href="Demos.HSP-markdown.html#77772" class="Bound">â„“</a> <a id="78093" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a> <a id="78095" href="Demos.HSP-markdown.html#77736" class="Bound">ğ’¦</a><a id="78096" class="Symbol">)</a>
  <a id="78100" href="Demos.HSP-markdown.html#78065" class="Function">spğ”½A</a> <a id="78105" class="Symbol">=</a> <a id="78107" href="Demos.HSP-markdown.html#77218" class="Function">SPğ”½</a><a id="78110" class="Symbol">{</a><a id="78111" class="Argument">â„“</a> <a id="78113" class="Symbol">=</a> <a id="78115" href="Demos.HSP-markdown.html#77772" class="Bound">â„“</a><a id="78116" class="Symbol">}</a> <a id="78118" href="Demos.HSP-markdown.html#77736" class="Bound">ğ’¦</a>
  <a id="78122" href="Demos.HSP-markdown.html#78122" class="Function">epiğ”½lA</a> <a id="78129" class="Symbol">:</a> <a id="78131" href="Demos.HSP-markdown.html#27642" class="Function">epi</a> <a id="78135" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="78138" href="Demos.HSP-markdown.html#78059" class="Function">A</a> <a id="78140" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="78142" class="Symbol">(</a><a id="78143" href="Demos.HSP-markdown.html#25128" class="Function">Lift-Alg</a> <a id="78152" href="Demos.HSP-markdown.html#77963" class="Bound">ğ‘¨</a> <a id="78154" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a> <a id="78156" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a><a id="78157" class="Symbol">)</a>
  <a id="78161" href="Demos.HSP-markdown.html#78122" class="Function">epiğ”½lA</a> <a id="78168" class="Symbol">=</a> <a id="78170" href="Demos.HSP-markdown.html#73413" class="Function">ğ”½-ModTh-epi-lift</a><a id="78186" class="Symbol">{</a><a id="78187" class="Argument">â„“</a> <a id="78189" class="Symbol">=</a> <a id="78191" href="Demos.HSP-markdown.html#77772" class="Bound">â„“</a><a id="78192" class="Symbol">}</a> <a id="78194" class="Symbol">(Î»</a> <a id="78197" class="Symbol">{</a><a id="78198" href="Demos.HSP-markdown.html#78198" class="Bound">p</a> <a id="78200" href="Demos.HSP-markdown.html#78200" class="Bound">q</a><a id="78201" class="Symbol">}</a> <a id="78203" class="Symbol">â†’</a> <a id="78205" href="Demos.HSP-markdown.html#77965" class="Bound">ModThA</a><a id="78211" class="Symbol">{</a><a id="78212" class="Argument">p</a> <a id="78214" class="Symbol">=</a> <a id="78216" href="Demos.HSP-markdown.html#78198" class="Bound">p</a><a id="78217" class="Symbol">}{</a><a id="78219" href="Demos.HSP-markdown.html#78200" class="Bound">q</a><a id="78220" class="Symbol">})</a>
  <a id="78225" href="Demos.HSP-markdown.html#78225" class="Function">lAimgğ”½A</a> <a id="78233" class="Symbol">:</a> <a id="78235" href="Demos.HSP-markdown.html#25128" class="Function">Lift-Alg</a> <a id="78244" href="Demos.HSP-markdown.html#77963" class="Bound">ğ‘¨</a> <a id="78246" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a> <a id="78248" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a> <a id="78250" href="Demos.HSP-markdown.html#37602" class="Function Operator">IsHomImageOf</a> <a id="78263" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="78266" href="Demos.HSP-markdown.html#78059" class="Function">A</a> <a id="78268" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a>
  <a id="78272" href="Demos.HSP-markdown.html#78225" class="Function">lAimgğ”½A</a> <a id="78280" class="Symbol">=</a> <a id="78282" href="Demos.HSP-markdown.html#27903" class="Function">epiâ†’ontohom</a> <a id="78294" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="78297" href="Demos.HSP-markdown.html#78059" class="Function">A</a> <a id="78299" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="78301" class="Symbol">(</a><a id="78302" href="Demos.HSP-markdown.html#25128" class="Function">Lift-Alg</a> <a id="78311" href="Demos.HSP-markdown.html#77963" class="Bound">ğ‘¨</a> <a id="78313" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a> <a id="78315" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a><a id="78316" class="Symbol">)</a> <a id="78318" href="Demos.HSP-markdown.html#78122" class="Function">epiğ”½lA</a>
  <a id="78327" href="Demos.HSP-markdown.html#78327" class="Function">VlA</a> <a id="78331" class="Symbol">:</a> <a id="78333" href="Demos.HSP-markdown.html#25128" class="Function">Lift-Alg</a> <a id="78342" href="Demos.HSP-markdown.html#77963" class="Bound">ğ‘¨</a> <a id="78344" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a> <a id="78346" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a> <a id="78348" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="78350" href="Demos.HSP-markdown.html#57886" class="Function">V</a> <a id="78352" href="Demos.HSP-markdown.html#77772" class="Bound">â„“</a> <a id="78354" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a> <a id="78356" href="Demos.HSP-markdown.html#77736" class="Bound">ğ’¦</a>
  <a id="78360" href="Demos.HSP-markdown.html#78327" class="Function">VlA</a> <a id="78364" class="Symbol">=</a> <a id="78366" href="Demos.HSP-markdown.html#69554" class="Function Operator">ğ”½[</a> <a id="78369" href="Demos.HSP-markdown.html#78059" class="Function">A</a> <a id="78371" href="Demos.HSP-markdown.html#69554" class="Function Operator">]</a> <a id="78373" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="78375" href="Demos.HSP-markdown.html#78065" class="Function">spğ”½A</a> <a id="78380" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="78382" href="Demos.HSP-markdown.html#78225" class="Function">lAimgğ”½A</a>

</pre>

The converse inclusion, `V ğ’¦ âŠ† Mod (Th (V ğ’¦))`, is a simple consequence of the
fact that `Mod Th` is a closure operator. Nonetheless, completeness demands
that we formalize this inclusion as well, however trivial the proof.

<pre class="Agda">

 <a id="78643" class="Keyword">module</a> <a id="78650" href="Demos.HSP-markdown.html#78650" class="Module">_</a> <a id="78652" class="Symbol">{</a><a id="78653" href="Demos.HSP-markdown.html#78653" class="Bound">ğ‘¨</a> <a id="78655" class="Symbol">:</a> <a id="78657" href="Demos.HSP-markdown.html#22497" class="Record">Algebra</a> <a id="78665" href="Demos.HSP-markdown.html#77753" class="Bound">Î±</a> <a id="78667" href="Demos.HSP-markdown.html#77755" class="Bound">Ïáµƒ</a><a id="78669" class="Symbol">}</a> <a id="78671" class="Keyword">where</a>
  <a id="78679" href="Demos.HSP-markdown.html#78679" class="Function">Birkhoff-converse</a> <a id="78697" class="Symbol">:</a> <a id="78699" href="Demos.HSP-markdown.html#78653" class="Bound">ğ‘¨</a> <a id="78701" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="78703" href="Demos.HSP-markdown.html#57886" class="Function">V</a><a id="78704" class="Symbol">{</a><a id="78705" href="Demos.HSP-markdown.html#77753" class="Bound">Î±</a><a id="78706" class="Symbol">}{</a><a id="78708" href="Demos.HSP-markdown.html#77755" class="Bound">Ïáµƒ</a><a id="78710" class="Symbol">}{</a><a id="78712" href="Demos.HSP-markdown.html#77753" class="Bound">Î±</a><a id="78713" class="Symbol">}{</a><a id="78715" href="Demos.HSP-markdown.html#77755" class="Bound">Ïáµƒ</a><a id="78717" class="Symbol">}{</a><a id="78719" href="Demos.HSP-markdown.html#77753" class="Bound">Î±</a><a id="78720" class="Symbol">}{</a><a id="78722" href="Demos.HSP-markdown.html#77755" class="Bound">Ïáµƒ</a><a id="78724" class="Symbol">}</a> <a id="78726" href="Demos.HSP-markdown.html#77772" class="Bound">â„“</a> <a id="78728" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a> <a id="78730" href="Demos.HSP-markdown.html#77736" class="Bound">ğ’¦</a> <a id="78732" class="Symbol">â†’</a> <a id="78734" href="Demos.HSP-markdown.html#78653" class="Bound">ğ‘¨</a> <a id="78736" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="78738" href="Demos.HSP-markdown.html#52909" class="Function">Mod</a><a id="78741" class="Symbol">{</a><a id="78742" class="Argument">X</a> <a id="78744" class="Symbol">=</a> <a id="78746" href="Demos.HSP-markdown.html#23705" class="Function Operator">ğ•Œ[</a> <a id="78749" href="Demos.HSP-markdown.html#78653" class="Bound">ğ‘¨</a> <a id="78751" href="Demos.HSP-markdown.html#23705" class="Function Operator">]</a><a id="78752" class="Symbol">}</a> <a id="78754" class="Symbol">(</a><a id="78755" href="Demos.HSP-markdown.html#52808" class="Function">Th</a> <a id="78758" class="Symbol">(</a><a id="78759" href="Demos.HSP-markdown.html#57886" class="Function">V</a> <a id="78761" href="Demos.HSP-markdown.html#77772" class="Bound">â„“</a> <a id="78763" href="Demos.HSP-markdown.html#77791" class="Function">Î¹</a> <a id="78765" href="Demos.HSP-markdown.html#77736" class="Bound">ğ’¦</a><a id="78766" class="Symbol">))</a>
  <a id="78771" href="Demos.HSP-markdown.html#78679" class="Function">Birkhoff-converse</a> <a id="78789" href="Demos.HSP-markdown.html#78789" class="Bound">vA</a> <a id="78792" href="Demos.HSP-markdown.html#78792" class="Bound">pThq</a> <a id="78797" class="Symbol">=</a> <a id="78799" href="Demos.HSP-markdown.html#78792" class="Bound">pThq</a> <a id="78804" href="Demos.HSP-markdown.html#78653" class="Bound">ğ‘¨</a> <a id="78806" href="Demos.HSP-markdown.html#78789" class="Bound">vA</a>

</pre>

We have thus proved that every variety is an equational class.

Readers familiar with the classical formulation of the Birkhoff HSP theorem as an
"if and only if" assertion might worry that the proof is still incomplete. However,
recall that in the [Setoid.Varieties.Preservation][] module we proved the following
identity preservation lemma:

`V-id1 : ğ’¦ âŠ« p â‰ˆÌ‡ q â†’ V ğ’¦ âŠ« p â‰ˆÌ‡ q`

Thus, if `ğ’¦` is an equational class---that is, if `ğ’¦` is the class of algebras
satisfying all identities in some set---then `V ğ’¦` âŠ† ğ’¦`.  On the other hand, we
proved that `V` is expansive in the [Setoid.Varieties.Closure][] module:

`V-expa : ğ’¦ âŠ† V ğ’¦`

so `ğ’¦` (= `V ğ’¦` = `HSP ğ’¦`) is a variety.

Taken together, `V-id1` and `V-expa` constitute formal proof that every equational
class is a variety.

This completes the formal proof of Birkhoff's variety theorem.





--------------------------------

<span style="float:left;">[â† Setoid.Varieties.FreeAlgebras](Setoid.Varieties.FreeAlgebras.html)</span>
<span style="float:right;">[Structures â†’](Structures.html)</span>

{% include UALib.Links.md %}

