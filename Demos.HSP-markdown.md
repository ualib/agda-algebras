---
layout: default
title : "Demos.HSP-markdown module (Agda Universal Algebra Library)"
date : "2021-10-24"
author: "agda-algebras development team"
---

## <a id="introduction">Introduction</a>
The Agda Universal Algebra Library ([agda-algebras][]) is a collection of types and programs
(theorems and proofs) formalizing the foundations of universal algebra in dependent type
theory using the [Agda][] programming language and proof assistant.
The agda-algebras library now includes a substantial collection of definitions, theorems, and
proofs from universal algebra and equational logic and as such provides many
examples that exhibit the power of inductive and dependent types for
representing and reasoning about general algebraic and relational structures.

The first major milestone of the [agda-algebras][] project is a new formal
proof of *Birkhoff's variety theorem* (also known as the *HSP theorem*), the first version
of which was completed in [January of 2021](https://github.com/ualib/ualib.github.io/blob/b968e8af1117fc77700d3a588746cbefbd464835/sandbox/birkhoff-exp-new-new.lagda).
To the best of our knowledge, this was the first time Birkhoff's theorem had
been formulated and proved in dependent type theory and verified with a proof
assistant.

In this paper, we present a single Agda module called [Demos.HSP][].
This module extracts only those parts of the library needed to prove
Birkhoff's variety theorem. In order to meet page limit guidelines, and to
reduce strain on the reader, we omit proofs of some routine or technical
lemmas that do not provide much insight into the overall development.
However, a long version of this paper, which includes all code in the
[Demos.HSP][] module, is available on the arXiv. [reference needed]

In the course of our exposition of the proof of the HSP theorem, we discuss some of the
more challenging aspects of formalizing *universal algebra* in type theory and the
issues that arise when attempting to constructively prove some of the basic
results in this area.  We demonstrate that dependent type theory and Agda,
despite the demands they place on the user, are accessible to working
mathematicians who have sufficient patience and a strong enough desire to
constructively codify their work and formally verify the correctness of their
results.  Perhpas our presentation will be viewed as a sobering glimpse of the
painstaking process of doing mathematics in the languages of dependent type theory
using the Agda proof assistant. Nonetheless we hope to make a compelling case for
investing in these technologies. Indeed, we are excited to share the gratifying
rewards that come with some mastery of type theory and interactive theorem proving.

### Prior art
There have been a number of efforts to formalize parts of universal algebra in
type theory prior to ours, most notably

1. Capretta [@Capretta:1999] (1999) formalized the basics of universal algebra in the
   Calculus of Inductive Constructions using the Coq proof assistant;
2. Spitters and van der Weegen [@Spitters:2011] (2011) formalized the basics of universal algebra
   and some classical algebraic structures, also in the Calculus of Inductive Constructions using
   the Coq proof assistant, promoting the use of type classes;
3. Gunther, et al [@Gunther:2018] (2018) developed what seems to be (prior to the [agda-algebras][] library)
   the most extensive library of formal universal algebra to date; this work is based on dependent type
   theory and programmed in Agda; it treats multisorted algebras and goes beyond the basic Noether
   isomorphism theorems to include some basic equational logic.
4. Lynge and Spitters [@Lynge:2019] (2019) formalize basic, mutisorted universal algebra, up to the
   Noether isomorphism theorems, in homotopy type theory; in this setting, the authors can avoid using
   setoids by postulating a strong extensionality axiom called univalence.

Some other projects aimed at formalizing mathematics generally, and algebra in particular, have developed into very extensive libraries that include definitions, theorems, and proofs about algebraic structures, such as groups, rings, modules, etc.  However, the goals of these efforts seem to be the formalization of special classical algebraic structures, as opposed to the general theory of (universal) algebras. Moreover, the part of universal algebra and equational logic formalized in the [agda-algebras][] library extends beyond the scope of prior efforts.

<!-- After completing the formal proof in \agda, we learned about a constructive version of Birkhoff's theorem proved by Carlstr\"om in~\cite{Carlstrom:2008}.  The latter is presented in the informal style of standard mathematical writing, and as far as we know it was never formalized in type theory and type-checked with a proof assistant. Nonetheless, a comparison of Carlstr\"om's proof and the \ualib proof would be interesting.
-->




<!-- ----------------------------------------------------------------------------------- -->

## <a id="preliminaries">Preliminaries</a>

### <a id="logical-foundations">Logical foundations</a>

An Agda program typically begins by setting some language options and by
importing types from existing Agda libraries. The language options are specified
using the `OPTIONS` *pragma* which affect control the way Agda behaves by controlling
the deduction rules that are available to us and the logical axioms 
that are assumed when the program is type-checked by Agda to verify its
correctness. Every Agda program in the [agda-algebras](https://github.com/ualib/agda-algebras)
library, including the present module ([Demos.HSP][]), begins with the following line.

<pre class="Agda">

<a id="5698" class="Symbol">{-#</a> <a id="5702" class="Keyword">OPTIONS</a> <a id="5710" class="Pragma">--without-K</a> <a id="5722" class="Pragma">--exact-split</a> <a id="5736" class="Pragma">--safe</a> <a id="5743" class="Symbol">#-}</a>

</pre>

We will provide only very terse descriptions of these options, but we also give links to more details about them.

* `without-K` disables [Streicher's K axiom](https://ncatlab.org/nlab/show/axiom+K+%28type+theory%29) ; see also the [section on axiom K](https://agda.readthedocs.io/en/v2.6.1/language/without-k.html) in the [Agda Language Reference Manual](https://agda.readthedocs.io/en/v2.6.1.3/language).

* `exact-split` makes Agda accept only those definitions that behave like so-called *judgmental* equalities. See also the [Pattern matching and equality section](https://agda.readthedocs.io/en/v2.6.1/tools/command-line-options.html#pattern-matching-and-equality) of the [Agda Tools](https://agda.readthedocs.io/en/v2.6.1.3/tools/) documentation.

* `safe` ensures that nothing is postulated outright---every non-MLTT axiom has to be an explicit assumption (e.g., an argument to a function or module); see also [this section](https://agda.readthedocs.io/en/v2.6.1/tools/command-line-options.html#cmdoption-safe) of the [Agda Tools](https://agda.readthedocs.io/en/v2.6.1.3/tools/) documentation and the [Safe Agda section](https://agda.readthedocs.io/en/v2.6.1/language/safe-agda.html#safe-agda) of the [Agda Language Reference](https://agda.readthedocs.io/en/v2.6.1.3/language).


<!--
### <a id="agda-modules">Agda Modules</a>
-->

The \AgdaKeyword{OPTIONS} pragma is usually followed by the start of a module and a list of `import` directives.
We won't reproduce all of the imports we use here. Rather we show only those imports that rename objects from the standard library to our own notation which might be less standard.

<pre class="Agda">
<a id="7414" class="Symbol">{-#</a> <a id="7418" class="Keyword">OPTIONS</a> <a id="7426" class="Pragma">--without-K</a> <a id="7438" class="Pragma">--exact-split</a> <a id="7452" class="Pragma">--safe</a> <a id="7459" class="Symbol">#-}</a>
<a id="7463" class="Keyword">open</a> <a id="7468" class="Keyword">import</a> <a id="7475" href="Base.Algebras.Basic.html" class="Module">Base.Algebras.Basic</a> <a id="7495" class="Keyword">using</a> <a id="7501" class="Symbol">(</a> <a id="7503" href="Base.Algebras.Basic.html#1162" class="Generalizable">ğ“</a> <a id="7505" class="Symbol">;</a> <a id="7507" href="Base.Algebras.Basic.html#1164" class="Generalizable">ğ“¥</a> <a id="7509" class="Symbol">;</a> <a id="7511" href="Base.Algebras.Basic.html#3890" class="Function">Signature</a> <a id="7521" class="Symbol">)</a>
<a id="7523" class="Keyword">module</a> <a id="7530" href="Demos.HSP-markdown.html" class="Module">Demos.HSP-markdown</a> <a id="7549" class="Symbol">{</a><a id="7550" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="7552" class="Symbol">:</a> <a id="7554" href="Base.Algebras.Basic.html#3890" class="Function">Signature</a> <a id="7564" href="Base.Algebras.Basic.html#1162" class="Generalizable">ğ“</a> <a id="7566" href="Base.Algebras.Basic.html#1164" class="Generalizable">ğ“¥</a><a id="7567" class="Symbol">}</a> <a id="7569" class="Keyword">where</a>
</pre>
<pre class="Agda">

<a id="7600" class="Keyword">open</a> <a id="7605" class="Keyword">import</a> <a id="7612" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>  <a id="7628" class="Keyword">using</a> <a id="7634" class="Symbol">(</a><a id="7635" href="Agda.Primitive.html#810" class="Primitive Operator">_âŠ”_</a> <a id="7639" class="Symbol">;</a> <a id="7641" href="Agda.Primitive.html#780" class="Primitive">lsuc</a><a id="7645" class="Symbol">)</a> <a id="7647" class="Keyword">renaming</a> <a id="7656" class="Symbol">(</a><a id="7657" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="7661" class="Symbol">to</a> <a id="7664" class="Primitive">Type</a><a id="7668" class="Symbol">)</a>
<a id="7670" class="Keyword">open</a> <a id="7675" class="Keyword">import</a> <a id="7682" href="Data.Product.html" class="Module">Data.Product</a>    <a id="7698" class="Keyword">using</a> <a id="7704" class="Symbol">(</a><a id="7705" href="Data.Product.html#916" class="Function">Î£-syntax</a> <a id="7714" class="Symbol">;</a> <a id="7716" href="Data.Product.html#1167" class="Function Operator">_Ã—_</a> <a id="7720" class="Symbol">;</a> <a id="7722" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="7726" class="Symbol">;</a> <a id="7728" href="Agda.Builtin.Sigma.html#166" class="Record">Î£</a><a id="7729" class="Symbol">)</a> <a id="7731" class="Keyword">renaming</a> <a id="7740" class="Symbol">(</a><a id="7741" href="Agda.Builtin.Sigma.html#252" class="Field">projâ‚</a> <a id="7747" class="Symbol">to</a> <a id="7750" class="Field">fst</a> <a id="7754" class="Symbol">;</a> <a id="7756" href="Agda.Builtin.Sigma.html#264" class="Field">projâ‚‚</a> <a id="7762" class="Symbol">to</a> <a id="7765" class="Field">snd</a><a id="7768" class="Symbol">)</a>
<a id="7770" class="Keyword">open</a> <a id="7775" class="Keyword">import</a> <a id="7782" href="Function.html" class="Module">Function</a>        <a id="7798" class="Keyword">using</a> <a id="7804" class="Symbol">(</a><a id="7805" href="Function.Base.html#615" class="Function">id</a> <a id="7808" class="Symbol">;</a> <a id="7810" href="Function.Base.html#1031" class="Function Operator">_âˆ˜_</a> <a id="7814" class="Symbol">;</a> <a id="7816" href="Function.Base.html#1554" class="Function">flip</a> <a id="7821" class="Symbol">;</a> <a id="7823" href="Function.Bundles.html#2240" class="Record">Injection</a> <a id="7833" class="Symbol">;</a> <a id="7835" href="Function.Bundles.html#2677" class="Record">Surjection</a><a id="7845" class="Symbol">)</a> <a id="7847" class="Keyword">renaming</a> <a id="7856" class="Symbol">(</a><a id="7857" href="Function.Bundles.html#1868" class="Record">Func</a> <a id="7862" class="Symbol">to</a> <a id="7865" class="Record">_âŸ¶_</a><a id="7868" class="Symbol">)</a>
<a id="7870" class="Keyword">open</a> <a id="7875" href="Demos.HSP-markdown.html#7865" class="Module">_âŸ¶_</a>                    <a id="7898" class="Keyword">using</a> <a id="7904" class="Symbol">(</a><a id="7905" href="Function.Bundles.html#1938" class="Field">cong</a><a id="7909" class="Symbol">)</a> <a id="7911" class="Keyword">renaming</a> <a id="7920" class="Symbol">(</a><a id="7921" href="Function.Bundles.html#1919" class="Field">f</a> <a id="7923" class="Symbol">to</a> <a id="7926" class="Field">_âŸ¨$âŸ©_</a><a id="7931" class="Symbol">)</a>

<a id="7934" class="Keyword">open</a> <a id="7939" class="Keyword">import</a>  <a id="7947" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>  <a id="7986" class="Symbol">as</a> <a id="7989" class="Module">â‰¡</a> <a id="7991" class="Keyword">using</a> <a id="7997" class="Symbol">(</a><a id="7998" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_â‰¡_</a><a id="8001" class="Symbol">)</a>
<a id="8003" class="Keyword">import</a>       <a id="8016" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a>       <a id="8055" class="Symbol">as</a> <a id="8058" class="Module">SetoidReasoning</a>
<a id="8074" class="Keyword">import</a>       <a id="8087" href="Function.Definitions.html" class="Module">Function.Definitions</a>                   <a id="8126" class="Symbol">as</a> <a id="8129" class="Module">FD</a>

</pre>
<pre class="Agda">
<a id="8163" class="Keyword">open</a> <a id="8168" class="Keyword">import</a> <a id="8175" href="Level.html" class="Module">Level</a> <a id="8181" class="Keyword">using</a> <a id="8187" class="Symbol">(</a> <a id="8189" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="8195" class="Symbol">)</a>
<a id="8197" class="Keyword">open</a> <a id="8202" class="Keyword">import</a> <a id="8209" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="8225" class="Keyword">using</a> <a id="8231" class="Symbol">(</a> <a id="8233" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="8240" class="Symbol">;</a> <a id="8242" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="8246" class="Symbol">;</a> <a id="8248" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="8262" class="Symbol">)</a>
<a id="8264" class="Keyword">open</a> <a id="8269" class="Keyword">import</a> <a id="8276" href="Relation.Binary.Definitions.html" class="Module">Relation.Binary.Definitions</a> <a id="8304" class="Keyword">using</a> <a id="8310" class="Symbol">(</a> <a id="8312" href="Relation.Binary.Definitions.html#1339" class="Function">Reflexive</a> <a id="8322" class="Symbol">;</a> <a id="8324" href="Relation.Binary.Definitions.html#1424" class="Function">Sym</a> <a id="8328" class="Symbol">;</a> <a id="8330" href="Relation.Binary.Definitions.html#1585" class="Function">Trans</a> <a id="8336" class="Symbol">;</a> <a id="8338" href="Relation.Binary.Definitions.html#1498" class="Function">Symmetric</a> <a id="8348" class="Symbol">;</a> <a id="8350" href="Relation.Binary.Definitions.html#1978" class="Function">Transitive</a> <a id="8361" class="Symbol">)</a>
<a id="8363" class="Keyword">open</a> <a id="8368" class="Keyword">import</a> <a id="8375" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="8390" class="Keyword">using</a> <a id="8396" class="Symbol">(</a> <a id="8398" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="8403" class="Symbol">;</a> <a id="8405" href="Relation.Unary.html#1742" class="Function Operator">_âŠ†_</a> <a id="8409" class="Symbol">;</a> <a id="8411" href="Relation.Unary.html#1523" class="Function Operator">_âˆˆ_</a> <a id="8415" class="Symbol">)</a>
<a id="8417" class="Keyword">open</a> <a id="8422" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="8429" class="Keyword">using</a> <a id="8435" class="Symbol">(</a> <a id="8437" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="8445" class="Symbol">;</a> <a id="8447" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="8461" class="Symbol">)</a>
<a id="8463" class="Keyword">private</a> <a id="8471" class="Keyword">variable</a>
 <a id="8481" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="8483" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="8486" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="8488" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a> <a id="8491" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a> <a id="8493" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a> <a id="8496" href="Demos.HSP-markdown.html#8496" class="Generalizable">Î´</a> <a id="8498" href="Demos.HSP-markdown.html#8498" class="Generalizable">Ïáµˆ</a> <a id="8501" href="Demos.HSP-markdown.html#8501" class="Generalizable">Ï</a> <a id="8503" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a> <a id="8505" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a> <a id="8507" class="Symbol">:</a> <a id="8509" href="Agda.Primitive.html#597" class="Postulate">Level</a>
 <a id="8516" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="8518" href="Demos.HSP-markdown.html#8518" class="Generalizable">Î”</a> <a id="8520" class="Symbol">:</a> <a id="8522" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="8527" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a>
 <a id="8530" href="Demos.HSP-markdown.html#8530" class="Generalizable">ğ‘“</a> <a id="8532" class="Symbol">:</a> <a id="8534" href="Demos.HSP-markdown.html#7750" class="Field">fst</a> <a id="8538" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a>
</pre>
Note, in particular, we rename the `Set` and `Func` types of the standard library to `Type` and the infix long arrow symbol `_âŸ¶_`, respectively, and we use `fst` and `snd` in place of `projâ‚` and  `projâ‚‚` for the first and second projections out of the product type `_Ã—_`. In addition, when it improves readability of the code, we use the alternative notation `âˆ£_âˆ£` and `âˆ¥_âˆ¥` (defined elsewhere) for the first and second projections.

### <a id="setoids">Setoids</a>

A *setoid* is a type packaged with an equivalence relation on the collection
of inhabitants of that type.  Setoids are useful for representing classical
(set-theory-based) mathematics in a constructive, type-theoretic way because
most mathematical structures are assumed to come equipped with some (often
implicit) equivalence relation manifesting a notion of equality of elements,
and therefore a type-theoretic representation of such a structure should
also model its equality relation.

The [agda-algebras][] library was first developed without the use of setoids,
opting instead for specially constructed experimental quotient types.
However, this approach resulted in code that was hard to comprehend and
it became difficult to determine whether the resulting proofs were fully
constructive.  In particular, our initial proof of the Birkhoff variety theorem
required postulating function extensionality, an axiom that is not provable in
pure Martin-LÃ¶f type theory (MLTT). [reference needed]

In contrast, our current approach using setoids makes the equality relation
of a given type explicit and this transparency can make it easier to determine the
correctness and constructivity of the proofs. Using setiods we need
no additional axioms beyond MLTT; in particular, no function
extensionality axioms are postulated in our current formalization of Birkhoff's
variety theorem.

<!--
Since it plays such a central role in the present development, we
reproduce in the appendix the definition of the `Setoid` type of the [Agda
Standard Library][]. In addition to `Setoid`, much of our code employs the
standard library's `Func` record type which represents a function from one
setoid to another and packages such a function with a proof (called `cong`) that
the function respects the underlying setoid equalities. In the list
of imports above we renamed `Func` to the more visually appealing
long-arrow symbol `âŸ¶`, and we will refer to its inhabitants as "setoid
functions" throughout the paper.

A special example of a setoid function is the identity function from a setoid to itself.
We define it, along with a binary composition operation for setoid functions, `_âŸ¨âˆ˜âŸ©_`, as follows.
-->

<pre class="Agda">
<a id="ğ‘–ğ‘‘"></a><a id="11231" href="Demos.HSP-markdown.html#11231" class="Function">ğ‘–ğ‘‘</a> <a id="11234" class="Symbol">:</a> <a id="11236" class="Symbol">{</a><a id="11237" href="Demos.HSP-markdown.html#11237" class="Bound">A</a> <a id="11239" class="Symbol">:</a> <a id="11241" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="11248" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="11250" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="11252" class="Symbol">}</a> <a id="11254" class="Symbol">â†’</a> <a id="11256" href="Demos.HSP-markdown.html#11237" class="Bound">A</a> <a id="11258" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="11260" href="Demos.HSP-markdown.html#11237" class="Bound">A</a>
<a id="11262" href="Demos.HSP-markdown.html#11231" class="Function">ğ‘–ğ‘‘</a> <a id="11265" class="Symbol">{</a><a id="11266" href="Demos.HSP-markdown.html#11266" class="Bound">A</a><a id="11267" class="Symbol">}</a> <a id="11269" class="Symbol">=</a> <a id="11271" class="Keyword">record</a> <a id="11278" class="Symbol">{</a> <a id="11280" href="Function.Bundles.html#1919" class="Field">f</a> <a id="11282" class="Symbol">=</a> <a id="11284" href="Function.Base.html#615" class="Function">id</a> <a id="11287" class="Symbol">;</a> <a id="11289" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="11294" class="Symbol">=</a> <a id="11296" href="Function.Base.html#615" class="Function">id</a> <a id="11299" class="Symbol">}</a>

<a id="_âŸ¨âˆ˜âŸ©_"></a><a id="11302" href="Demos.HSP-markdown.html#11302" class="Function Operator">_âŸ¨âˆ˜âŸ©_</a> <a id="11308" class="Symbol">:</a>  <a id="11311" class="Symbol">{</a><a id="11312" href="Demos.HSP-markdown.html#11312" class="Bound">A</a> <a id="11314" class="Symbol">:</a> <a id="11316" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="11323" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="11325" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="11327" class="Symbol">}</a> <a id="11329" class="Symbol">{</a><a id="11330" href="Demos.HSP-markdown.html#11330" class="Bound">B</a> <a id="11332" class="Symbol">:</a> <a id="11334" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="11341" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="11343" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="11345" class="Symbol">}</a> <a id="11347" class="Symbol">{</a><a id="11348" href="Demos.HSP-markdown.html#11348" class="Bound">C</a> <a id="11350" class="Symbol">:</a> <a id="11352" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="11359" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a> <a id="11361" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="11363" class="Symbol">}</a>
 <a id="11366" class="Symbol">â†’</a>       <a id="11374" href="Demos.HSP-markdown.html#11330" class="Bound">B</a> <a id="11376" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="11378" href="Demos.HSP-markdown.html#11348" class="Bound">C</a>  <a id="11381" class="Symbol">â†’</a>  <a id="11384" href="Demos.HSP-markdown.html#11312" class="Bound">A</a> <a id="11386" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="11388" href="Demos.HSP-markdown.html#11330" class="Bound">B</a>  <a id="11391" class="Symbol">â†’</a>  <a id="11394" href="Demos.HSP-markdown.html#11312" class="Bound">A</a> <a id="11396" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="11398" href="Demos.HSP-markdown.html#11348" class="Bound">C</a>

<a id="11401" href="Demos.HSP-markdown.html#11401" class="Bound">f</a> <a id="11403" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="11407" href="Demos.HSP-markdown.html#11407" class="Bound">g</a> <a id="11409" class="Symbol">=</a> <a id="11411" class="Keyword">record</a>  <a id="11419" class="Symbol">{</a> <a id="11421" href="Function.Bundles.html#1919" class="Field">f</a> <a id="11423" class="Symbol">=</a> <a id="11425" class="Symbol">(</a><a id="11426" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="11432" href="Demos.HSP-markdown.html#11401" class="Bound">f</a><a id="11433" class="Symbol">)</a> <a id="11435" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="11437" class="Symbol">(</a><a id="11438" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="11444" href="Demos.HSP-markdown.html#11407" class="Bound">g</a><a id="11445" class="Symbol">)</a>
                  <a id="11465" class="Symbol">;</a> <a id="11467" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="11472" class="Symbol">=</a> <a id="11474" class="Symbol">(</a><a id="11475" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="11480" href="Demos.HSP-markdown.html#11401" class="Bound">f</a><a id="11481" class="Symbol">)</a> <a id="11483" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="11485" class="Symbol">(</a><a id="11486" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="11491" href="Demos.HSP-markdown.html#11407" class="Bound">g</a><a id="11492" class="Symbol">)</a> <a id="11494" class="Symbol">}</a>

<a id="11497" class="Keyword">module</a> <a id="11504" href="Demos.HSP-markdown.html#11504" class="Module">_</a> <a id="11506" class="Symbol">{</a><a id="11507" href="Demos.HSP-markdown.html#11507" class="Bound">A</a> <a id="11509" class="Symbol">:</a> <a id="11511" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="11516" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="11518" class="Symbol">}{</a><a id="11520" href="Demos.HSP-markdown.html#11520" class="Bound">B</a> <a id="11522" class="Symbol">:</a> <a id="11524" href="Demos.HSP-markdown.html#11507" class="Bound">A</a> <a id="11526" class="Symbol">â†’</a> <a id="11528" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="11533" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a><a id="11534" class="Symbol">}</a> <a id="11536" class="Keyword">where</a>

 <a id="11544" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£_âˆ£</a> <a id="11548" class="Symbol">:</a> <a id="11550" href="Data.Product.html#916" class="Function">Î£[</a> <a id="11553" href="Demos.HSP-markdown.html#11553" class="Bound">x</a> <a id="11555" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="11557" href="Demos.HSP-markdown.html#11507" class="Bound">A</a> <a id="11559" href="Data.Product.html#916" class="Function">]</a> <a id="11561" href="Demos.HSP-markdown.html#11520" class="Bound">B</a> <a id="11563" href="Demos.HSP-markdown.html#11553" class="Bound">x</a> <a id="11565" class="Symbol">â†’</a> <a id="11567" href="Demos.HSP-markdown.html#11507" class="Bound">A</a>
 <a id="11570" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£_âˆ£</a> <a id="11574" class="Symbol">=</a> <a id="11576" href="Demos.HSP-markdown.html#7750" class="Field">fst</a>

 <a id="11582" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥_âˆ¥</a> <a id="11586" class="Symbol">:</a> <a id="11588" class="Symbol">(</a><a id="11589" href="Demos.HSP-markdown.html#11589" class="Bound">z</a> <a id="11591" class="Symbol">:</a> <a id="11593" href="Data.Product.html#916" class="Function">Î£[</a> <a id="11596" href="Demos.HSP-markdown.html#11596" class="Bound">a</a> <a id="11598" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="11600" href="Demos.HSP-markdown.html#11507" class="Bound">A</a> <a id="11602" href="Data.Product.html#916" class="Function">]</a> <a id="11604" href="Demos.HSP-markdown.html#11520" class="Bound">B</a> <a id="11606" href="Demos.HSP-markdown.html#11596" class="Bound">a</a><a id="11607" class="Symbol">)</a> <a id="11609" class="Symbol">â†’</a> <a id="11611" href="Demos.HSP-markdown.html#11520" class="Bound">B</a> <a id="11613" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="11615" href="Demos.HSP-markdown.html#11589" class="Bound">z</a> <a id="11617" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
 <a id="11620" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥_âˆ¥</a> <a id="11624" class="Symbol">=</a> <a id="11626" href="Demos.HSP-markdown.html#7765" class="Field">snd</a>
</pre>

<!--
(Here we put the definitions inside an *anonymous module*, which starts with the
`module` keyword followed by an underscore instead of a module name. The
purpose is simply to move the postulated typing judgments---the "parameters" of
the module, e.g., `A : Type Î±`---out of the way so they don't obfuscate the
definitions inside the module.)
-->

### <a id="inverses-of-setoid-functions">Inverses of setoid functions</a>

We define a data type that represent the semantic concept of the *image* of a function
(cf. the [Overture.Func.Inverses][] module of the [agda-algebras][] library).

<pre class="Agda">

<a id="12249" class="Keyword">module</a> <a id="12256" href="Demos.HSP-markdown.html#12256" class="Module">_</a> <a id="12258" class="Symbol">{</a><a id="12259" href="Demos.HSP-markdown.html#12259" class="Bound">ğ‘¨</a> <a id="12261" class="Symbol">:</a> <a id="12263" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="12270" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="12272" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="12274" class="Symbol">}{</a><a id="12276" href="Demos.HSP-markdown.html#12276" class="Bound">ğ‘©</a> <a id="12278" class="Symbol">:</a> <a id="12280" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="12287" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="12289" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="12291" class="Symbol">}</a> <a id="12293" class="Keyword">where</a>
 <a id="12300" class="Keyword">open</a> <a id="12305" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="12312" href="Demos.HSP-markdown.html#12276" class="Bound">ğ‘©</a> <a id="12314" class="Keyword">using</a> <a id="12320" class="Symbol">(</a> <a id="12322" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="12326" class="Symbol">;</a> <a id="12328" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="12332" class="Symbol">)</a> <a id="12334" class="Keyword">renaming</a> <a id="12343" class="Symbol">(</a> <a id="12345" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="12353" class="Symbol">to</a> <a id="12356" class="Field">B</a> <a id="12358" class="Symbol">)</a>

 <a id="12362" class="Keyword">data</a> <a id="12367" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">Image_âˆ‹_</a> <a id="12376" class="Symbol">(</a><a id="12377" href="Demos.HSP-markdown.html#12377" class="Bound">f</a> <a id="12379" class="Symbol">:</a> <a id="12381" href="Demos.HSP-markdown.html#12259" class="Bound">ğ‘¨</a> <a id="12383" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="12385" href="Demos.HSP-markdown.html#12276" class="Bound">ğ‘©</a><a id="12386" class="Symbol">)</a> <a id="12388" class="Symbol">:</a> <a id="12390" href="Demos.HSP-markdown.html#12356" class="Field">B</a> <a id="12392" class="Symbol">â†’</a> <a id="12394" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="12399" class="Symbol">(</a><a id="12400" href="Demos.HSP-markdown.html#12270" class="Bound">Î±</a> <a id="12402" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="12404" href="Demos.HSP-markdown.html#12287" class="Bound">Î²</a> <a id="12406" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="12408" href="Demos.HSP-markdown.html#12289" class="Bound">Ïáµ‡</a><a id="12410" class="Symbol">)</a> <a id="12412" class="Keyword">where</a>
  <a id="12420" href="Demos.HSP-markdown.html#12420" class="InductiveConstructor">eq</a> <a id="12423" class="Symbol">:</a> <a id="12425" class="Symbol">{</a><a id="12426" href="Demos.HSP-markdown.html#12426" class="Bound">b</a> <a id="12428" class="Symbol">:</a> <a id="12430" href="Demos.HSP-markdown.html#12356" class="Field">B</a><a id="12431" class="Symbol">}</a> <a id="12433" class="Symbol">â†’</a> <a id="12435" class="Symbol">âˆ€</a> <a id="12437" href="Demos.HSP-markdown.html#12437" class="Bound">a</a> <a id="12439" class="Symbol">â†’</a> <a id="12441" href="Demos.HSP-markdown.html#12426" class="Bound">b</a> <a id="12443" href="Relation.Binary.Bundles.html#1098" class="Field Operator">â‰ˆ</a> <a id="12445" class="Symbol">(</a><a id="12446" href="Demos.HSP-markdown.html#12377" class="Bound">f</a> <a id="12448" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="12452" href="Demos.HSP-markdown.html#12437" class="Bound">a</a><a id="12453" class="Symbol">)</a> <a id="12455" class="Symbol">â†’</a> <a id="12457" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">Image</a> <a id="12463" href="Demos.HSP-markdown.html#12377" class="Bound">f</a> <a id="12465" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">âˆ‹</a> <a id="12467" href="Demos.HSP-markdown.html#12426" class="Bound">b</a>

</pre>

An inhabitant of `Image f âˆ‹ b` is a dependent pair `(a , p)`, where `a : A` and
`p : b â‰ˆ f a` is a proof that `f` maps `a` to `b`.  Since the proof that `b`
belongs to the image of `f` is always accompanied by a witness `a : A`, we can
actually *compute* a (pseudo)inverse of `f`. For convenience, we define this
inverse function, which we call `Inv`, and which takes an arbitrary `b : B` and
a (witness, proof)-pair, `(a , p) : Image f âˆ‹ b`, and returns the witness `a`.

<pre class="Agda">

 <a id="12970" href="Demos.HSP-markdown.html#12970" class="Function">Inv</a> <a id="12974" class="Symbol">:</a> <a id="12976" class="Symbol">(</a><a id="12977" href="Demos.HSP-markdown.html#12977" class="Bound">f</a> <a id="12979" class="Symbol">:</a> <a id="12981" href="Demos.HSP-markdown.html#12259" class="Bound">ğ‘¨</a> <a id="12983" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="12985" href="Demos.HSP-markdown.html#12276" class="Bound">ğ‘©</a><a id="12986" class="Symbol">){</a><a id="12988" href="Demos.HSP-markdown.html#12988" class="Bound">b</a> <a id="12990" class="Symbol">:</a> <a id="12992" href="Demos.HSP-markdown.html#12356" class="Field">B</a><a id="12993" class="Symbol">}</a> <a id="12995" class="Symbol">â†’</a> <a id="12997" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">Image</a> <a id="13003" href="Demos.HSP-markdown.html#12977" class="Bound">f</a> <a id="13005" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">âˆ‹</a> <a id="13007" href="Demos.HSP-markdown.html#12988" class="Bound">b</a> <a id="13009" class="Symbol">â†’</a> <a id="13011" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="13019" href="Demos.HSP-markdown.html#12259" class="Bound">ğ‘¨</a>
 <a id="13022" href="Demos.HSP-markdown.html#12970" class="Function">Inv</a> <a id="13026" class="Symbol">_</a> <a id="13028" class="Symbol">(</a><a id="13029" href="Demos.HSP-markdown.html#12420" class="InductiveConstructor">eq</a> <a id="13032" href="Demos.HSP-markdown.html#13032" class="Bound">a</a> <a id="13034" class="Symbol">_)</a> <a id="13037" class="Symbol">=</a> <a id="13039" href="Demos.HSP-markdown.html#13032" class="Bound">a</a>

 <a id="13043" href="Demos.HSP-markdown.html#13043" class="Function">InvIsInverseÊ³</a> <a id="13057" class="Symbol">:</a> <a id="13059" class="Symbol">{</a><a id="13060" href="Demos.HSP-markdown.html#13060" class="Bound">f</a> <a id="13062" class="Symbol">:</a> <a id="13064" href="Demos.HSP-markdown.html#12259" class="Bound">ğ‘¨</a> <a id="13066" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="13068" href="Demos.HSP-markdown.html#12276" class="Bound">ğ‘©</a><a id="13069" class="Symbol">}{</a><a id="13071" href="Demos.HSP-markdown.html#13071" class="Bound">b</a> <a id="13073" class="Symbol">:</a> <a id="13075" href="Demos.HSP-markdown.html#12356" class="Field">B</a><a id="13076" class="Symbol">}(</a><a id="13078" href="Demos.HSP-markdown.html#13078" class="Bound">q</a> <a id="13080" class="Symbol">:</a> <a id="13082" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">Image</a> <a id="13088" href="Demos.HSP-markdown.html#13060" class="Bound">f</a> <a id="13090" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">âˆ‹</a> <a id="13092" href="Demos.HSP-markdown.html#13071" class="Bound">b</a><a id="13093" class="Symbol">)</a> <a id="13095" class="Symbol">â†’</a> <a id="13097" class="Symbol">(</a><a id="13098" href="Demos.HSP-markdown.html#13060" class="Bound">f</a> <a id="13100" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="13104" class="Symbol">(</a><a id="13105" href="Demos.HSP-markdown.html#12970" class="Function">Inv</a> <a id="13109" href="Demos.HSP-markdown.html#13060" class="Bound">f</a> <a id="13111" href="Demos.HSP-markdown.html#13078" class="Bound">q</a><a id="13112" class="Symbol">))</a> <a id="13115" href="Relation.Binary.Bundles.html#1098" class="Field Operator">â‰ˆ</a> <a id="13117" href="Demos.HSP-markdown.html#13071" class="Bound">b</a>
 <a id="13120" href="Demos.HSP-markdown.html#13043" class="Function">InvIsInverseÊ³</a> <a id="13134" class="Symbol">(</a><a id="13135" href="Demos.HSP-markdown.html#12420" class="InductiveConstructor">eq</a> <a id="13138" class="Symbol">_</a> <a id="13140" href="Demos.HSP-markdown.html#13140" class="Bound">p</a><a id="13141" class="Symbol">)</a> <a id="13143" class="Symbol">=</a> <a id="13145" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="13149" href="Demos.HSP-markdown.html#13140" class="Bound">p</a>

</pre>

`InvIsInverseÊ³` proves that `Inv f` is the range-restricted right-inverse of the setoid function `f`.


### <a id="injective-and-surjective-setoid-functions">Injective and surjective setoid functions</a>

If `f : ğ‘¨ âŸ¶ ğ‘©` is a setoid function from `ğ‘¨ = (A , â‰ˆâ‚€)` to `ğ‘© = (B , â‰ˆâ‚)`, then
we call `f` *injective* provided `âˆ€ (aâ‚€ aâ‚ : A)`, `f âŸ¨$âŸ© aâ‚€ â‰ˆâ‚ f âŸ¨$âŸ© aâ‚` implies `aâ‚€ â‰ˆâ‚€ aâ‚`;
we call `f` *surjective* provided `âˆ€ (b : B)`, `âˆƒ (a : A)` such that `f âŸ¨$âŸ© a â‰ˆâ‚ b`.
We codify these definitions in Agda and prove some of their properties
inside the next submodule where we first set the stage by declaring two
setoids `ğ‘¨` and `ğ‘©`, naming their equality relations, and making some
definitions from the standard library available.

<pre class="Agda">

<a id="13904" class="Keyword">module</a> <a id="13911" href="Demos.HSP-markdown.html#13911" class="Module">_</a> <a id="13913" class="Symbol">{</a><a id="13914" href="Demos.HSP-markdown.html#13914" class="Bound">ğ‘¨</a> <a id="13916" class="Symbol">:</a> <a id="13918" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="13925" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="13927" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="13929" class="Symbol">}{</a><a id="13931" href="Demos.HSP-markdown.html#13931" class="Bound">ğ‘©</a> <a id="13933" class="Symbol">:</a> <a id="13935" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="13942" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="13944" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="13946" class="Symbol">}</a> <a id="13948" class="Keyword">where</a>
 <a id="13955" class="Keyword">open</a> <a id="13960" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="13967" href="Demos.HSP-markdown.html#13914" class="Bound">ğ‘¨</a> <a id="13969" class="Keyword">using</a> <a id="13975" class="Symbol">()</a> <a id="13978" class="Keyword">renaming</a> <a id="13987" class="Symbol">(</a> <a id="13989" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="13993" class="Symbol">to</a> <a id="13996" class="Field Operator">_â‰ˆâ‚_</a> <a id="14001" class="Symbol">;</a> <a id="14003" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="14011" class="Symbol">to</a> <a id="14014" class="Field">A</a> <a id="14016" class="Symbol">)</a>
 <a id="14019" class="Keyword">open</a> <a id="14024" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="14031" href="Demos.HSP-markdown.html#13931" class="Bound">ğ‘©</a> <a id="14033" class="Keyword">using</a> <a id="14039" class="Symbol">()</a> <a id="14042" class="Keyword">renaming</a> <a id="14051" class="Symbol">(</a> <a id="14053" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="14057" class="Symbol">to</a> <a id="14060" class="Field Operator">_â‰ˆâ‚‚_</a> <a id="14065" class="Symbol">;</a> <a id="14067" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="14075" class="Symbol">to</a> <a id="14078" class="Field">B</a> <a id="14080" class="Symbol">)</a>
 <a id="14083" class="Keyword">open</a> <a id="14088" href="Function.Definitions.html" class="Module">FD</a> <a id="14091" href="Demos.HSP-markdown.html#13996" class="Function Operator">_â‰ˆâ‚_</a> <a id="14096" href="Demos.HSP-markdown.html#14060" class="Field Operator">_â‰ˆâ‚‚_</a>

</pre>

The [Agda Standard Library][] represents injective functions on bare types by the
type `Injective`, which we now use to define `IsInjective` representing the property
of being an injective setoid function. We then define the type `IsSurjective` to
represent the property of being a surjective setoid function. Finally, we define
`SurjInv` to represent the *right-inverse* of a surjective function.
The definitions are as follows (cf. [Overture.Func.Injective][] and [Overture.Func.Surjective][] in the [agda-algebras][] library).

<pre class="Agda">

 <a id="14660" href="Demos.HSP-markdown.html#14660" class="Function">IsInjective</a> <a id="14672" class="Symbol">:</a> <a id="14674" class="Symbol">(</a><a id="14675" href="Demos.HSP-markdown.html#13914" class="Bound">ğ‘¨</a> <a id="14677" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="14679" href="Demos.HSP-markdown.html#13931" class="Bound">ğ‘©</a><a id="14680" class="Symbol">)</a> <a id="14682" class="Symbol">â†’</a>  <a id="14685" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="14690" class="Symbol">(</a><a id="14691" href="Demos.HSP-markdown.html#13925" class="Bound">Î±</a> <a id="14693" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="14695" href="Demos.HSP-markdown.html#13927" class="Bound">Ïáµƒ</a> <a id="14698" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="14700" href="Demos.HSP-markdown.html#13944" class="Bound">Ïáµ‡</a><a id="14702" class="Symbol">)</a>
 <a id="14705" href="Demos.HSP-markdown.html#14660" class="Function">IsInjective</a> <a id="14717" href="Demos.HSP-markdown.html#14717" class="Bound">f</a> <a id="14719" class="Symbol">=</a> <a id="14721" href="Function.Definitions.html#889" class="Function">Injective</a> <a id="14731" class="Symbol">(</a><a id="14732" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="14738" href="Demos.HSP-markdown.html#14717" class="Bound">f</a><a id="14739" class="Symbol">)</a>

 <a id="14743" href="Demos.HSP-markdown.html#14743" class="Function">IsSurjective</a> <a id="14756" class="Symbol">:</a> <a id="14758" class="Symbol">(</a><a id="14759" href="Demos.HSP-markdown.html#13914" class="Bound">ğ‘¨</a> <a id="14761" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="14763" href="Demos.HSP-markdown.html#13931" class="Bound">ğ‘©</a><a id="14764" class="Symbol">)</a> <a id="14766" class="Symbol">â†’</a>  <a id="14769" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="14774" class="Symbol">(</a><a id="14775" href="Demos.HSP-markdown.html#13925" class="Bound">Î±</a> <a id="14777" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="14779" href="Demos.HSP-markdown.html#13942" class="Bound">Î²</a> <a id="14781" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="14783" href="Demos.HSP-markdown.html#13944" class="Bound">Ïáµ‡</a><a id="14785" class="Symbol">)</a>
 <a id="14788" href="Demos.HSP-markdown.html#14743" class="Function">IsSurjective</a> <a id="14801" href="Demos.HSP-markdown.html#14801" class="Bound">F</a> <a id="14803" class="Symbol">=</a> <a id="14805" class="Symbol">âˆ€</a> <a id="14807" class="Symbol">{</a><a id="14808" href="Demos.HSP-markdown.html#14808" class="Bound">y</a><a id="14809" class="Symbol">}</a> <a id="14811" class="Symbol">â†’</a> <a id="14813" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">Image</a> <a id="14819" href="Demos.HSP-markdown.html#14801" class="Bound">F</a> <a id="14821" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">âˆ‹</a> <a id="14823" href="Demos.HSP-markdown.html#14808" class="Bound">y</a>

 <a id="14827" href="Demos.HSP-markdown.html#14827" class="Function">SurjInv</a> <a id="14835" class="Symbol">:</a> <a id="14837" class="Symbol">(</a><a id="14838" href="Demos.HSP-markdown.html#14838" class="Bound">f</a> <a id="14840" class="Symbol">:</a> <a id="14842" href="Demos.HSP-markdown.html#13914" class="Bound">ğ‘¨</a> <a id="14844" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="14846" href="Demos.HSP-markdown.html#13931" class="Bound">ğ‘©</a><a id="14847" class="Symbol">)</a> <a id="14849" class="Symbol">â†’</a> <a id="14851" href="Demos.HSP-markdown.html#14743" class="Function">IsSurjective</a> <a id="14864" href="Demos.HSP-markdown.html#14838" class="Bound">f</a> <a id="14866" class="Symbol">â†’</a> <a id="14868" href="Demos.HSP-markdown.html#14078" class="Field">B</a> <a id="14870" class="Symbol">â†’</a> <a id="14872" href="Demos.HSP-markdown.html#14014" class="Function">A</a>
 <a id="14875" href="Demos.HSP-markdown.html#14827" class="Function">SurjInv</a> <a id="14883" href="Demos.HSP-markdown.html#14883" class="Bound">f</a> <a id="14885" href="Demos.HSP-markdown.html#14885" class="Bound">fonto</a> <a id="14891" href="Demos.HSP-markdown.html#14891" class="Bound">b</a> <a id="14893" class="Symbol">=</a> <a id="14895" href="Demos.HSP-markdown.html#12970" class="Function">Inv</a> <a id="14899" href="Demos.HSP-markdown.html#14883" class="Bound">f</a> <a id="14901" class="Symbol">(</a><a id="14902" href="Demos.HSP-markdown.html#14885" class="Bound">fonto</a> <a id="14908" class="Symbol">{</a><a id="14909" href="Demos.HSP-markdown.html#14891" class="Bound">b</a><a id="14910" class="Symbol">})</a>
</pre>

#### <a id="composition-of-injective-and-surjective-setoid-functions">Composition of injective and surjective setoid functions</a>

Proving that the composition of injective setoid functions is again injective
is simply a matter of composing the two assumed witnesses to injectivity.
Proving that surjectivity is preserved under composition is only slightly more involved.

<pre class="Agda">

<a id="15313" class="Keyword">module</a> <a id="15320" href="Demos.HSP-markdown.html#15320" class="Module">_</a>  <a id="15323" class="Symbol">{</a><a id="15324" href="Demos.HSP-markdown.html#15324" class="Bound">ğ‘¨</a> <a id="15326" class="Symbol">:</a> <a id="15328" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="15335" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="15337" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="15339" class="Symbol">}{</a><a id="15341" href="Demos.HSP-markdown.html#15341" class="Bound">ğ‘©</a> <a id="15343" class="Symbol">:</a> <a id="15345" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="15352" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="15354" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="15356" class="Symbol">}{</a><a id="15358" href="Demos.HSP-markdown.html#15358" class="Bound">ğ‘ª</a> <a id="15360" class="Symbol">:</a> <a id="15362" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="15369" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a> <a id="15371" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="15373" class="Symbol">}</a>
          <a id="15385" class="Symbol">(</a><a id="15386" href="Demos.HSP-markdown.html#15386" class="Bound">f</a> <a id="15388" class="Symbol">:</a> <a id="15390" href="Demos.HSP-markdown.html#15324" class="Bound">ğ‘¨</a> <a id="15392" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="15394" href="Demos.HSP-markdown.html#15341" class="Bound">ğ‘©</a><a id="15395" class="Symbol">)(</a><a id="15397" href="Demos.HSP-markdown.html#15397" class="Bound">g</a> <a id="15399" class="Symbol">:</a> <a id="15401" href="Demos.HSP-markdown.html#15341" class="Bound">ğ‘©</a> <a id="15403" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="15405" href="Demos.HSP-markdown.html#15358" class="Bound">ğ‘ª</a><a id="15406" class="Symbol">)</a> <a id="15408" class="Keyword">where</a>

 <a id="15416" href="Demos.HSP-markdown.html#15416" class="Function">âˆ˜-IsInjective</a> <a id="15430" class="Symbol">:</a> <a id="15432" href="Demos.HSP-markdown.html#14660" class="Function">IsInjective</a> <a id="15444" href="Demos.HSP-markdown.html#15386" class="Bound">f</a> <a id="15446" class="Symbol">â†’</a> <a id="15448" href="Demos.HSP-markdown.html#14660" class="Function">IsInjective</a> <a id="15460" href="Demos.HSP-markdown.html#15397" class="Bound">g</a> <a id="15462" class="Symbol">â†’</a> <a id="15464" href="Demos.HSP-markdown.html#14660" class="Function">IsInjective</a> <a id="15476" class="Symbol">(</a><a id="15477" href="Demos.HSP-markdown.html#15397" class="Bound">g</a> <a id="15479" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="15483" href="Demos.HSP-markdown.html#15386" class="Bound">f</a><a id="15484" class="Symbol">)</a>
 <a id="15487" href="Demos.HSP-markdown.html#15416" class="Function">âˆ˜-IsInjective</a> <a id="15501" href="Demos.HSP-markdown.html#15501" class="Bound">finj</a> <a id="15506" href="Demos.HSP-markdown.html#15506" class="Bound">ginj</a> <a id="15511" class="Symbol">=</a> <a id="15513" href="Demos.HSP-markdown.html#15501" class="Bound">finj</a> <a id="15518" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="15520" href="Demos.HSP-markdown.html#15506" class="Bound">ginj</a>

 <a id="15527" href="Demos.HSP-markdown.html#15527" class="Function">âˆ˜-IsSurjective</a> <a id="15542" class="Symbol">:</a> <a id="15544" href="Demos.HSP-markdown.html#14743" class="Function">IsSurjective</a> <a id="15557" href="Demos.HSP-markdown.html#15386" class="Bound">f</a> <a id="15559" class="Symbol">â†’</a> <a id="15561" href="Demos.HSP-markdown.html#14743" class="Function">IsSurjective</a> <a id="15574" href="Demos.HSP-markdown.html#15397" class="Bound">g</a> <a id="15576" class="Symbol">â†’</a> <a id="15578" href="Demos.HSP-markdown.html#14743" class="Function">IsSurjective</a> <a id="15591" class="Symbol">(</a><a id="15592" href="Demos.HSP-markdown.html#15397" class="Bound">g</a> <a id="15594" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="15598" href="Demos.HSP-markdown.html#15386" class="Bound">f</a><a id="15599" class="Symbol">)</a>
 <a id="15602" href="Demos.HSP-markdown.html#15527" class="Function">âˆ˜-IsSurjective</a> <a id="15617" href="Demos.HSP-markdown.html#15617" class="Bound">fonto</a> <a id="15623" href="Demos.HSP-markdown.html#15623" class="Bound">gonto</a> <a id="15629" class="Symbol">{</a><a id="15630" href="Demos.HSP-markdown.html#15630" class="Bound">y</a><a id="15631" class="Symbol">}</a> <a id="15633" class="Symbol">=</a> <a id="15635" href="Demos.HSP-markdown.html#15837" class="Function">Goal</a>
  <a id="15642" class="Keyword">where</a>
  <a id="15650" href="Demos.HSP-markdown.html#15650" class="Function">mp</a> <a id="15653" class="Symbol">:</a> <a id="15655" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">Image</a> <a id="15661" href="Demos.HSP-markdown.html#15397" class="Bound">g</a> <a id="15663" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">âˆ‹</a> <a id="15665" href="Demos.HSP-markdown.html#15630" class="Bound">y</a> <a id="15667" class="Symbol">â†’</a> <a id="15669" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">Image</a> <a id="15675" href="Demos.HSP-markdown.html#15397" class="Bound">g</a> <a id="15677" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="15681" href="Demos.HSP-markdown.html#15386" class="Bound">f</a> <a id="15683" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">âˆ‹</a> <a id="15685" href="Demos.HSP-markdown.html#15630" class="Bound">y</a>
  <a id="15689" href="Demos.HSP-markdown.html#15650" class="Function">mp</a> <a id="15692" class="Symbol">(</a><a id="15693" href="Demos.HSP-markdown.html#12420" class="InductiveConstructor">eq</a> <a id="15696" href="Demos.HSP-markdown.html#15696" class="Bound">c</a> <a id="15698" href="Demos.HSP-markdown.html#15698" class="Bound">p</a><a id="15699" class="Symbol">)</a> <a id="15701" class="Symbol">=</a> <a id="15703" href="Demos.HSP-markdown.html#15756" class="Function">Î·</a> <a id="15705" href="Demos.HSP-markdown.html#15617" class="Bound">fonto</a>
   <a id="15714" class="Keyword">where</a>
   <a id="15723" class="Keyword">open</a> <a id="15728" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="15735" href="Demos.HSP-markdown.html#15358" class="Bound">ğ‘ª</a> <a id="15737" class="Keyword">using</a> <a id="15743" class="Symbol">(</a> <a id="15745" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="15751" class="Symbol">)</a>
   <a id="15756" href="Demos.HSP-markdown.html#15756" class="Function">Î·</a> <a id="15758" class="Symbol">:</a> <a id="15760" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">Image</a> <a id="15766" href="Demos.HSP-markdown.html#15386" class="Bound">f</a> <a id="15768" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">âˆ‹</a> <a id="15770" href="Demos.HSP-markdown.html#15696" class="Bound">c</a> <a id="15772" class="Symbol">â†’</a> <a id="15774" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">Image</a> <a id="15780" href="Demos.HSP-markdown.html#15397" class="Bound">g</a> <a id="15782" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="15786" href="Demos.HSP-markdown.html#15386" class="Bound">f</a> <a id="15788" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">âˆ‹</a> <a id="15790" href="Demos.HSP-markdown.html#15630" class="Bound">y</a>
   <a id="15795" href="Demos.HSP-markdown.html#15756" class="Function">Î·</a> <a id="15797" class="Symbol">(</a><a id="15798" href="Demos.HSP-markdown.html#12420" class="InductiveConstructor">eq</a> <a id="15801" href="Demos.HSP-markdown.html#15801" class="Bound">a</a> <a id="15803" href="Demos.HSP-markdown.html#15803" class="Bound">q</a><a id="15804" class="Symbol">)</a> <a id="15806" class="Symbol">=</a> <a id="15808" href="Demos.HSP-markdown.html#12420" class="InductiveConstructor">eq</a> <a id="15811" href="Demos.HSP-markdown.html#15801" class="Bound">a</a> <a id="15813" class="Symbol">(</a><a id="15814" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="15820" href="Demos.HSP-markdown.html#15698" class="Bound">p</a> <a id="15822" class="Symbol">(</a><a id="15823" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="15828" href="Demos.HSP-markdown.html#15397" class="Bound">g</a> <a id="15830" href="Demos.HSP-markdown.html#15803" class="Bound">q</a><a id="15831" class="Symbol">))</a>

  <a id="15837" href="Demos.HSP-markdown.html#15837" class="Function">Goal</a> <a id="15842" class="Symbol">:</a> <a id="15844" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">Image</a> <a id="15850" href="Demos.HSP-markdown.html#15397" class="Bound">g</a> <a id="15852" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="15856" href="Demos.HSP-markdown.html#15386" class="Bound">f</a> <a id="15858" href="Demos.HSP-markdown.html#12367" class="Datatype Operator">âˆ‹</a> <a id="15860" href="Demos.HSP-markdown.html#15630" class="Bound">y</a>
  <a id="15864" href="Demos.HSP-markdown.html#15837" class="Function">Goal</a> <a id="15869" class="Symbol">=</a> <a id="15871" href="Demos.HSP-markdown.html#15650" class="Function">mp</a> <a id="15874" href="Demos.HSP-markdown.html#15623" class="Bound">gonto</a>
</pre>


### <a id="kernels">Kernels</a>

The *kernel* of a function `f : A â†’ B` (where `A` and `B` are bare types) is defined
informally by `{(x , y) âˆˆ A Ã— A : f x = f y}`.
This can be represented in Agda in a number of ways, but for our purposes we find it most
convenient to define the kernel as an inhabitant of a (unary) predicate over the square of
the function's domain.

<pre class="Agda">

<a id="16277" class="Keyword">module</a> <a id="16284" href="Demos.HSP-markdown.html#16284" class="Module">_</a> <a id="16286" class="Symbol">{</a><a id="16287" href="Demos.HSP-markdown.html#16287" class="Bound">A</a> <a id="16289" class="Symbol">:</a> <a id="16291" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="16296" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a><a id="16297" class="Symbol">}{</a><a id="16299" href="Demos.HSP-markdown.html#16299" class="Bound">B</a> <a id="16301" class="Symbol">:</a> <a id="16303" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="16308" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a><a id="16309" class="Symbol">}</a> <a id="16311" class="Keyword">where</a>

 <a id="16319" href="Demos.HSP-markdown.html#16319" class="Function">kernel</a> <a id="16326" class="Symbol">:</a> <a id="16328" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="16332" href="Demos.HSP-markdown.html#16299" class="Bound">B</a> <a id="16334" href="Demos.HSP-markdown.html#8501" class="Generalizable">Ï</a> <a id="16336" class="Symbol">â†’</a> <a id="16338" class="Symbol">(</a><a id="16339" href="Demos.HSP-markdown.html#16287" class="Bound">A</a> <a id="16341" class="Symbol">â†’</a> <a id="16343" href="Demos.HSP-markdown.html#16299" class="Bound">B</a><a id="16344" class="Symbol">)</a> <a id="16346" class="Symbol">â†’</a> <a id="16348" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="16353" class="Symbol">(</a><a id="16354" href="Demos.HSP-markdown.html#16287" class="Bound">A</a> <a id="16356" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="16358" href="Demos.HSP-markdown.html#16287" class="Bound">A</a><a id="16359" class="Symbol">)</a> <a id="16361" href="Demos.HSP-markdown.html#8501" class="Generalizable">Ï</a>
 <a id="16364" href="Demos.HSP-markdown.html#16319" class="Function">kernel</a> <a id="16371" href="Demos.HSP-markdown.html#16371" class="Bound Operator">_â‰ˆ_</a> <a id="16375" href="Demos.HSP-markdown.html#16375" class="Bound">f</a> <a id="16377" class="Symbol">(</a><a id="16378" href="Demos.HSP-markdown.html#16378" class="Bound">x</a> <a id="16380" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16382" href="Demos.HSP-markdown.html#16382" class="Bound">y</a><a id="16383" class="Symbol">)</a> <a id="16385" class="Symbol">=</a> <a id="16387" href="Demos.HSP-markdown.html#16375" class="Bound">f</a> <a id="16389" href="Demos.HSP-markdown.html#16378" class="Bound">x</a> <a id="16391" href="Demos.HSP-markdown.html#16371" class="Bound Operator">â‰ˆ</a> <a id="16393" href="Demos.HSP-markdown.html#16375" class="Bound">f</a> <a id="16395" href="Demos.HSP-markdown.html#16382" class="Bound">y</a>

</pre>

The kernel of a setoid function `f : ğ´ âŸ¶ ğµ` is defined informally by
`{(x , y) âˆˆ A Ã— A : f âŸ¨$âŸ© x â‰ˆ f âŸ¨$âŸ© y}`, where `_â‰ˆ_` denotes the equality of `ğµ`.

<pre class="Agda">

<a id="16576" class="Keyword">module</a> <a id="16583" href="Demos.HSP-markdown.html#16583" class="Module">_</a> <a id="16585" class="Symbol">{</a><a id="16586" href="Demos.HSP-markdown.html#16586" class="Bound">ğ´</a> <a id="16588" class="Symbol">:</a> <a id="16590" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="16597" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="16599" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="16601" class="Symbol">}{</a><a id="16603" href="Demos.HSP-markdown.html#16603" class="Bound">ğµ</a> <a id="16605" class="Symbol">:</a> <a id="16607" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="16614" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="16616" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="16618" class="Symbol">}</a> <a id="16620" class="Keyword">where</a>
 <a id="16627" class="Keyword">open</a> <a id="16632" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="16639" href="Demos.HSP-markdown.html#16586" class="Bound">ğ´</a> <a id="16641" class="Keyword">using</a> <a id="16647" class="Symbol">()</a> <a id="16650" class="Keyword">renaming</a> <a id="16659" class="Symbol">(</a> <a id="16661" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="16669" class="Symbol">to</a> <a id="16672" class="Field">A</a> <a id="16674" class="Symbol">)</a>

 <a id="16678" href="Demos.HSP-markdown.html#16678" class="Function">ker</a> <a id="16682" class="Symbol">:</a> <a id="16684" class="Symbol">(</a><a id="16685" href="Demos.HSP-markdown.html#16586" class="Bound">ğ´</a> <a id="16687" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="16689" href="Demos.HSP-markdown.html#16603" class="Bound">ğµ</a><a id="16690" class="Symbol">)</a> <a id="16692" class="Symbol">â†’</a> <a id="16694" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="16699" class="Symbol">(</a><a id="16700" href="Demos.HSP-markdown.html#16672" class="Function">A</a> <a id="16702" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="16704" href="Demos.HSP-markdown.html#16672" class="Function">A</a><a id="16705" class="Symbol">)</a> <a id="16707" href="Demos.HSP-markdown.html#16616" class="Bound">Ïáµ‡</a>
 <a id="16711" href="Demos.HSP-markdown.html#16678" class="Function">ker</a> <a id="16715" href="Demos.HSP-markdown.html#16715" class="Bound">g</a> <a id="16717" class="Symbol">(</a><a id="16718" href="Demos.HSP-markdown.html#16718" class="Bound">x</a> <a id="16720" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="16722" href="Demos.HSP-markdown.html#16722" class="Bound">y</a><a id="16723" class="Symbol">)</a> <a id="16725" class="Symbol">=</a> <a id="16727" href="Demos.HSP-markdown.html#16715" class="Bound">g</a> <a id="16729" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="16733" href="Demos.HSP-markdown.html#16718" class="Bound">x</a> <a id="16735" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="16737" href="Demos.HSP-markdown.html#16715" class="Bound">g</a> <a id="16739" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="16743" href="Demos.HSP-markdown.html#16722" class="Bound">y</a> <a id="16745" class="Keyword">where</a> <a id="16751" class="Keyword">open</a> <a id="16756" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="16763" href="Demos.HSP-markdown.html#16603" class="Bound">ğµ</a> <a id="16765" class="Keyword">using</a> <a id="16771" class="Symbol">(</a> <a id="16773" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="16777" class="Symbol">)</a>
</pre>





<!-- ------------------------------------------------------------------------------------- -->

## Algebras

In this section we define the notion of an algebraic structure whose *domain* (or "carrier" or "universe") is a setoid. Our first goal is to develop a working vocabulary and formal types for classical (single-sorted, set-based) universal algebra.

### <a id="signatures-of-an-algebra">Signatures of an algebra</a>

In [model theory](https://en.wikipedia.org/wiki/Model_theory), the *signature* `ğ‘† = (ğ¶, ğ¹, ğ‘…, Ï)` of a structure consists of three (possibly empty) sets `ğ¶`, `ğ¹`, and `ğ‘…`---called *constant symbols*, *function symbols*, and *relation symbols*, respectively---along with a function `Ï : ğ¶ + ğ¹ + ğ‘… â†’ ğ‘` that assigns an *arity* to each symbol. Often, but not always, `ğ‘` is taken to be the set of natural numbers.

As our focus here is universal algebra, we are more concerned with the restricted notion of an *algebraic signature* (or *signature* for algebraic structures), by which we mean a pair `ğ‘† = (F, Ï)` consisting of a collection `ğ¹` of *operation symbols* and an *arity function* `Ï : F â†’ N` that maps each operation symbol to its arity; here, ğ‘ denotes the *arity type*. Heuristically, the arity `Ï f` of an operation symbol `f âˆˆ F` may be thought of as the "number of arguments" that `f` takes as "input".

If the arity of `f` is `n`, then we call `f` an `n`-*ary* operation symbol.  In case `n` is 0 (or 1 or 2 or 3, respectively) we call the function *nullary* (or *unary* or *binary* or *ternary*, respectively).

If `A` is a set and `f` is a (`Ï f`)-ary operation on `A`, then the arguments of `f` form a (`Ï f`)-tuple, say, `(a 0, a 1, â€¦, a (Ïf-1))`, which may be viewed as the graph of a function, say, `a : Ïf â†’ A`. When the codomain of `Ï` is `â„•`, we may view `Ï f` as the finite set `{0, 1, â€¦, Ïf - 1}`. Thus, by identifying the `Ïf`-th power of `A` with the type `Ï f â†’ A` of functions from `{0, 1, â€¦, Ïf - 1}` to `A`, we identify the collection of all tuples of arguments of `f` with the function type `(Ïf â†’ A) â†’ A`.

#### <a id="signature-type">Signature type</a>

The [agda-algebras][] library represents a *signature* as an inhabitant of the following dependent pair type.

```
Signature : (ğ“ ğ“¥ : Level) â†’ Type (lsuc (ğ“ âŠ” ğ“¥))
Signature ğ“ ğ“¥ = Î£[ F âˆˆ Type ğ“ ] (F â†’ Type ğ“¥)
```

Using special syntax for the first and second projections---`âˆ£_âˆ£` and `âˆ¥_âˆ¥`, respectively---if `ğ‘† : Signature ğ“ ğ“¥` is a signature, then

* `âˆ£ ğ‘† âˆ£` denotes the set of operation symbols;
* `âˆ¥ ğ‘† âˆ¥` denotes the arity function.

Thus, if `ğ‘“ : âˆ£ ğ‘† âˆ£` is an operation symbol in the signature `ğ‘†`, then `âˆ¥ ğ‘† âˆ¥ ğ‘“` is the arity of `ğ‘“`.

We need to augment the ordinary `Signature` type so that it supports algebras over setoid domains.
To do so, we define an operator `âŸ¨_âŸ©` which translates an ordinary signature into a setoid signature, that is, a signature over a setoid domain.  But first we must resolve a techinical issue involving dependent types that we now describe.

Suppose we are given two operations `f` and `g` and we have a tuple of arguments for `f`, say, `u : âˆ¥ ğ‘† âˆ¥ f â†’ A`, and a tuple of arguments for `g`, say, `v : âˆ¥ ğ‘† âˆ¥ g â†’ A`.  If we know that `f` is identically equal to `g`---that is, `f â‰¡ g` (intensionally)---then we should be able to check whether `u` and `v` are pointwise equal.  The problem here is that `u` and `v` ostensibly inhabit different types.  To compare `u` and `v` we must convince Agda that, from `f â‰¡ g` we can deduce that `u` and `v` are actually of the same type. The type `EqArgs` (defined below, and adapted from Andreas Abel's development [ref needed]) resolves this technical issue nicely.

<pre class="Agda">

<a id="EqArgs"></a><a id="20462" href="Demos.HSP-markdown.html#20462" class="Function">EqArgs</a> <a id="20469" class="Symbol">:</a>  <a id="20472" class="Symbol">{</a><a id="20473" href="Demos.HSP-markdown.html#20473" class="Bound">ğ‘†</a> <a id="20475" class="Symbol">:</a> <a id="20477" href="Base.Algebras.Basic.html#3890" class="Function">Signature</a> <a id="20487" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="20489" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a><a id="20490" class="Symbol">}{</a><a id="20492" href="Demos.HSP-markdown.html#20492" class="Bound">Î¾</a> <a id="20494" class="Symbol">:</a> <a id="20496" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="20503" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="20505" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="20507" class="Symbol">}</a>
 <a id="20510" class="Symbol">â†’</a>        <a id="20519" class="Symbol">âˆ€</a> <a id="20521" class="Symbol">{</a><a id="20522" href="Demos.HSP-markdown.html#20522" class="Bound">f</a> <a id="20524" href="Demos.HSP-markdown.html#20524" class="Bound">g</a><a id="20525" class="Symbol">}</a> <a id="20527" class="Symbol">â†’</a> <a id="20529" href="Demos.HSP-markdown.html#20522" class="Bound">f</a> <a id="20531" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="20533" href="Demos.HSP-markdown.html#20524" class="Bound">g</a> <a id="20535" class="Symbol">â†’</a> <a id="20537" class="Symbol">(</a><a id="20538" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="20540" href="Demos.HSP-markdown.html#20473" class="Bound">ğ‘†</a> <a id="20542" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="20544" href="Demos.HSP-markdown.html#20522" class="Bound">f</a> <a id="20546" class="Symbol">â†’</a> <a id="20548" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="20556" href="Demos.HSP-markdown.html#20492" class="Bound">Î¾</a><a id="20557" class="Symbol">)</a> <a id="20559" class="Symbol">â†’</a> <a id="20561" class="Symbol">(</a><a id="20562" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="20564" href="Demos.HSP-markdown.html#20473" class="Bound">ğ‘†</a> <a id="20566" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="20568" href="Demos.HSP-markdown.html#20524" class="Bound">g</a> <a id="20570" class="Symbol">â†’</a> <a id="20572" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="20580" href="Demos.HSP-markdown.html#20492" class="Bound">Î¾</a><a id="20581" class="Symbol">)</a> <a id="20583" class="Symbol">â†’</a> <a id="20585" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="20590" class="Symbol">(</a><a id="20591" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="20593" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="20595" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="20597" class="Symbol">)</a>

<a id="20600" href="Demos.HSP-markdown.html#20462" class="Function">EqArgs</a> <a id="20607" class="Symbol">{</a><a id="20608" class="Argument">Î¾</a> <a id="20610" class="Symbol">=</a> <a id="20612" href="Demos.HSP-markdown.html#20612" class="Bound">Î¾</a><a id="20613" class="Symbol">}</a> <a id="20615" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="20622" href="Demos.HSP-markdown.html#20622" class="Bound">u</a> <a id="20624" href="Demos.HSP-markdown.html#20624" class="Bound">v</a> <a id="20626" class="Symbol">=</a> <a id="20628" class="Symbol">âˆ€</a> <a id="20630" href="Demos.HSP-markdown.html#20630" class="Bound">i</a> <a id="20632" class="Symbol">â†’</a> <a id="20634" href="Demos.HSP-markdown.html#20622" class="Bound">u</a> <a id="20636" href="Demos.HSP-markdown.html#20630" class="Bound">i</a> <a id="20638" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="20640" href="Demos.HSP-markdown.html#20624" class="Bound">v</a> <a id="20642" href="Demos.HSP-markdown.html#20630" class="Bound">i</a> <a id="20644" class="Keyword">where</a> <a id="20650" class="Keyword">open</a> <a id="20655" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="20662" href="Demos.HSP-markdown.html#20612" class="Bound">Î¾</a> <a id="20664" class="Keyword">using</a> <a id="20670" class="Symbol">(</a> <a id="20672" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="20676" class="Symbol">)</a>

</pre>

Now we are ready to define the `âŸ¨_âŸ©` operator, which translates an ordinary signature into a setoid signature.

<pre class="Agda">

<a id="20817" class="Keyword">module</a> <a id="20824" href="Demos.HSP-markdown.html#20824" class="Module">_</a> <a id="20826" class="Keyword">where</a>
 <a id="20833" class="Keyword">open</a> <a id="20838" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a>        <a id="20852" class="Keyword">using</a> <a id="20858" class="Symbol">(</a> <a id="20860" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="20864" class="Symbol">)</a>
 <a id="20867" class="Keyword">open</a> <a id="20872" href="Relation.Binary.Structures.html#1522" class="Module">IsEquivalence</a> <a id="20886" class="Keyword">using</a> <a id="20892" class="Symbol">(</a> <a id="20894" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="20899" class="Symbol">;</a> <a id="20901" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="20905" class="Symbol">;</a> <a id="20907" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="20913" class="Symbol">)</a>

 <a id="20917" href="Demos.HSP-markdown.html#20917" class="Function Operator">âŸ¨_âŸ©</a> <a id="20921" class="Symbol">:</a> <a id="20923" href="Base.Algebras.Basic.html#3890" class="Function">Signature</a> <a id="20933" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="20935" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="20937" class="Symbol">â†’</a> <a id="20939" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="20946" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="20948" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="20951" class="Symbol">â†’</a> <a id="20953" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="20960" class="Symbol">_</a> <a id="20962" class="Symbol">_</a>

 <a id="20966" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="20974" class="Symbol">(</a><a id="20975" href="Demos.HSP-markdown.html#20917" class="Function Operator">âŸ¨</a> <a id="20977" href="Demos.HSP-markdown.html#20977" class="Bound">ğ‘†</a> <a id="20979" href="Demos.HSP-markdown.html#20917" class="Function Operator">âŸ©</a> <a id="20981" href="Demos.HSP-markdown.html#20981" class="Bound">Î¾</a><a id="20982" class="Symbol">)</a>              <a id="20997" class="Symbol">=</a> <a id="20999" href="Data.Product.html#916" class="Function">Î£[</a> <a id="21002" href="Demos.HSP-markdown.html#21002" class="Bound">f</a> <a id="21004" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="21006" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="21008" href="Demos.HSP-markdown.html#20977" class="Bound">ğ‘†</a> <a id="21010" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="21012" href="Data.Product.html#916" class="Function">]</a> <a id="21014" class="Symbol">((</a><a id="21016" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="21018" href="Demos.HSP-markdown.html#20977" class="Bound">ğ‘†</a> <a id="21020" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="21022" href="Demos.HSP-markdown.html#21002" class="Bound">f</a><a id="21023" class="Symbol">)</a> <a id="21025" class="Symbol">â†’</a> <a id="21027" href="Demos.HSP-markdown.html#20981" class="Bound">Î¾</a> <a id="21029" class="Symbol">.</a><a id="21030" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a><a id="21037" class="Symbol">)</a>

 <a id="21041" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="21045" class="Symbol">(</a><a id="21046" href="Demos.HSP-markdown.html#20917" class="Function Operator">âŸ¨</a> <a id="21048" href="Demos.HSP-markdown.html#21048" class="Bound">ğ‘†</a> <a id="21050" href="Demos.HSP-markdown.html#20917" class="Function Operator">âŸ©</a> <a id="21052" href="Demos.HSP-markdown.html#21052" class="Bound">Î¾</a><a id="21053" class="Symbol">)</a> <a id="21055" class="Symbol">(</a><a id="21056" href="Demos.HSP-markdown.html#21056" class="Bound">f</a> <a id="21058" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21060" href="Demos.HSP-markdown.html#21060" class="Bound">u</a><a id="21061" class="Symbol">)</a> <a id="21063" class="Symbol">(</a><a id="21064" href="Demos.HSP-markdown.html#21064" class="Bound">g</a> <a id="21066" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21068" href="Demos.HSP-markdown.html#21068" class="Bound">v</a><a id="21069" class="Symbol">)</a>  <a id="21072" class="Symbol">=</a> <a id="21074" href="Data.Product.html#916" class="Function">Î£[</a> <a id="21077" href="Demos.HSP-markdown.html#21077" class="Bound">eqv</a> <a id="21081" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="21083" href="Demos.HSP-markdown.html#21056" class="Bound">f</a> <a id="21085" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="21087" href="Demos.HSP-markdown.html#21064" class="Bound">g</a> <a id="21089" href="Data.Product.html#916" class="Function">]</a> <a id="21091" href="Demos.HSP-markdown.html#20462" class="Function">EqArgs</a><a id="21097" class="Symbol">{</a><a id="21098" class="Argument">Î¾</a> <a id="21100" class="Symbol">=</a> <a id="21102" href="Demos.HSP-markdown.html#21052" class="Bound">Î¾</a><a id="21103" class="Symbol">}</a> <a id="21105" href="Demos.HSP-markdown.html#21077" class="Bound">eqv</a> <a id="21109" href="Demos.HSP-markdown.html#21060" class="Bound">u</a> <a id="21111" href="Demos.HSP-markdown.html#21068" class="Bound">v</a>

 <a id="21115" href="Relation.Binary.Structures.html#1568" class="Field">refl</a>   <a id="21122" class="Symbol">(</a><a id="21123" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="21137" class="Symbol">(</a><a id="21138" href="Demos.HSP-markdown.html#20917" class="Function Operator">âŸ¨</a> <a id="21140" href="Demos.HSP-markdown.html#21140" class="Bound">ğ‘†</a> <a id="21142" href="Demos.HSP-markdown.html#20917" class="Function Operator">âŸ©</a> <a id="21144" href="Demos.HSP-markdown.html#21144" class="Bound">Î¾</a><a id="21145" class="Symbol">))</a>                           <a id="21174" class="Symbol">=</a> <a id="21176" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="21183" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21185" class="Symbol">Î»</a> <a id="21187" href="Demos.HSP-markdown.html#21187" class="Bound">i</a> <a id="21189" class="Symbol">â†’</a> <a id="21191" href="Relation.Binary.Structures.html#1568" class="Function">Setoid.refl</a>   <a id="21205" href="Demos.HSP-markdown.html#21144" class="Bound">Î¾</a>
 <a id="21208" href="Relation.Binary.Structures.html#1594" class="Field">sym</a>    <a id="21215" class="Symbol">(</a><a id="21216" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="21230" class="Symbol">(</a><a id="21231" href="Demos.HSP-markdown.html#20917" class="Function Operator">âŸ¨</a> <a id="21233" href="Demos.HSP-markdown.html#21233" class="Bound">ğ‘†</a> <a id="21235" href="Demos.HSP-markdown.html#20917" class="Function Operator">âŸ©</a> <a id="21237" href="Demos.HSP-markdown.html#21237" class="Bound">Î¾</a><a id="21238" class="Symbol">))</a> <a id="21241" class="Symbol">(</a><a id="21242" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="21249" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21251" href="Demos.HSP-markdown.html#21251" class="Bound">g</a><a id="21252" class="Symbol">)</a>              <a id="21267" class="Symbol">=</a> <a id="21269" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="21276" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21278" class="Symbol">Î»</a> <a id="21280" href="Demos.HSP-markdown.html#21280" class="Bound">i</a> <a id="21282" class="Symbol">â†’</a> <a id="21284" href="Relation.Binary.Structures.html#1594" class="Function">Setoid.sym</a>    <a id="21298" href="Demos.HSP-markdown.html#21237" class="Bound">Î¾</a> <a id="21300" class="Symbol">(</a><a id="21301" href="Demos.HSP-markdown.html#21251" class="Bound">g</a> <a id="21303" href="Demos.HSP-markdown.html#21280" class="Bound">i</a><a id="21304" class="Symbol">)</a>
 <a id="21307" href="Relation.Binary.Structures.html#1620" class="Field">trans</a>  <a id="21314" class="Symbol">(</a><a id="21315" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="21329" class="Symbol">(</a><a id="21330" href="Demos.HSP-markdown.html#20917" class="Function Operator">âŸ¨</a> <a id="21332" href="Demos.HSP-markdown.html#21332" class="Bound">ğ‘†</a> <a id="21334" href="Demos.HSP-markdown.html#20917" class="Function Operator">âŸ©</a> <a id="21336" href="Demos.HSP-markdown.html#21336" class="Bound">Î¾</a><a id="21337" class="Symbol">))</a> <a id="21340" class="Symbol">(</a><a id="21341" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="21348" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21350" href="Demos.HSP-markdown.html#21350" class="Bound">g</a><a id="21351" class="Symbol">)(</a><a id="21353" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="21360" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21362" href="Demos.HSP-markdown.html#21362" class="Bound">h</a><a id="21363" class="Symbol">)</a>  <a id="21366" class="Symbol">=</a> <a id="21368" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="21375" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="21377" class="Symbol">Î»</a> <a id="21379" href="Demos.HSP-markdown.html#21379" class="Bound">i</a> <a id="21381" class="Symbol">â†’</a> <a id="21383" href="Relation.Binary.Structures.html#1620" class="Function">Setoid.trans</a>  <a id="21397" href="Demos.HSP-markdown.html#21336" class="Bound">Î¾</a> <a id="21399" class="Symbol">(</a><a id="21400" href="Demos.HSP-markdown.html#21350" class="Bound">g</a> <a id="21402" href="Demos.HSP-markdown.html#21379" class="Bound">i</a><a id="21403" class="Symbol">)</a> <a id="21405" class="Symbol">(</a><a id="21406" href="Demos.HSP-markdown.html#21362" class="Bound">h</a> <a id="21408" href="Demos.HSP-markdown.html#21379" class="Bound">i</a><a id="21409" class="Symbol">)</a>
</pre>

### <a id="Algebra type">Algebra type</a>

Informally, an *algebraic structure in the signature* `ğ‘† = (F, Ï)` (or `ğ‘†`-*algebra*) is typically denoted by `ğ‘¨ = (A, Fá´¬)` and consists of

* `A` := a *nonempty* set (or type), called the *domain* (or *carrier* or *universe*) of the algebra;
* `Fá´¬` := `{ fá´¬ âˆ£ f âˆˆ F, fá´¬ : (Ïf â†’ A) â†’ A }`, a collection of *operations* on `ğ´`;
* a (potentially empty) collection of *identities* satisfied by elements and operations of `ğ´`.

We represent an algebra in Agda using a record type with two fields:

* `Domain` is a setoid denoting the underlying *universe* of the algebra (informally, the set of elements of the algebra);
* `Interp` represents the *interpretation* in the algebra of each operation symbol of the given signature.  The record type `Func` from the Agda Standard Library provides what we need for an operation on the domain setoid.

Let us present the definition of the `Algebra` type and then discuss the definition of the `Func` type that provides the interpretation of each operation symbol.

<pre class="Agda">

<a id="22484" class="Keyword">record</a> <a id="Algebra"></a><a id="22491" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="22499" href="Demos.HSP-markdown.html#22499" class="Bound">Î±</a> <a id="22501" href="Demos.HSP-markdown.html#22501" class="Bound">Ï</a> <a id="22503" class="Symbol">:</a> <a id="22505" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="22510" class="Symbol">(</a><a id="22511" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="22513" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="22515" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="22517" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="22519" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="22524" class="Symbol">(</a><a id="22525" href="Demos.HSP-markdown.html#22499" class="Bound">Î±</a> <a id="22527" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="22529" href="Demos.HSP-markdown.html#22501" class="Bound">Ï</a><a id="22530" class="Symbol">))</a> <a id="22533" class="Keyword">where</a>
 <a id="22540" class="Keyword">field</a>  <a id="Algebra.Domain"></a><a id="22547" href="Demos.HSP-markdown.html#22547" class="Field">Domain</a> <a id="22554" class="Symbol">:</a> <a id="22556" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="22563" href="Demos.HSP-markdown.html#22499" class="Bound">Î±</a> <a id="22565" href="Demos.HSP-markdown.html#22501" class="Bound">Ï</a>
        <a id="Algebra.Interp"></a><a id="22575" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="22582" class="Symbol">:</a> <a id="22584" class="Symbol">(</a><a id="22585" href="Demos.HSP-markdown.html#20917" class="Function Operator">âŸ¨</a> <a id="22587" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="22589" href="Demos.HSP-markdown.html#20917" class="Function Operator">âŸ©</a> <a id="22591" href="Demos.HSP-markdown.html#22547" class="Field">Domain</a><a id="22597" class="Symbol">)</a> <a id="22599" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="22601" href="Demos.HSP-markdown.html#22547" class="Field">Domain</a>

</pre>

The `Interp` field actually has type `Func (âŸ¨ ğ‘† âŸ© Domain) Domain` (recall we renamed `Func` as the infix long-arrow symbol).  The `Func` type is from the standard library and is defined as a record type with two fields. In the present instance, the fields are

1. a function  `f : Carrier (âŸ¨ ğ‘† âŸ© Domain) â†’ Carrier Domain`
2. a proof `cong : f Preserves _â‰ˆâ‚_ âŸ¶ _â‰ˆâ‚‚_` that `f` preserves the underlying setoid equalities.

Thus `Interp` gives, for each operation symbol in the signature `ğ‘†`, a setoid function `f`---namely, a function where the domain is a power of `Domain` and the codomain is `Domain`---along with a proof that all operations so interpreted respect the underlying setoid equality on `Domain`.

Next we define some syntactic sugar that will make our Agda code easier to read and comprehend.
If `ğ‘¨` is an algebra, then

* `f Ì‚ ğ‘¨` will denote the interpretation in the algebra `ğ‘¨` of the operation symbol `f`,
* `ğ”»[ ğ‘¨ ]` will denote the setoid `Domain ğ‘¨`, and
* `ğ•Œ[ ğ‘¨ ]` will be the underlying carrier or "universe" of the algebra `ğ‘¨`.

<pre class="Agda">

<a id="23685" class="Keyword">open</a> <a id="23690" href="Demos.HSP-markdown.html#22491" class="Module">Algebra</a>

<a id="ğ•Œ[_]"></a><a id="23699" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[_]</a> <a id="23704" class="Symbol">:</a> <a id="23706" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="23714" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="23716" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="23719" class="Symbol">â†’</a>  <a id="23722" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="23727" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a>
<a id="23729" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="23732" href="Demos.HSP-markdown.html#23732" class="Bound">ğ‘¨</a> <a id="23734" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a> <a id="23736" class="Symbol">=</a> <a id="23738" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="23746" class="Symbol">(</a><a id="23747" href="Demos.HSP-markdown.html#22547" class="Field">Domain</a> <a id="23754" href="Demos.HSP-markdown.html#23732" class="Bound">ğ‘¨</a><a id="23755" class="Symbol">)</a>

<a id="ğ”»[_]"></a><a id="23758" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[_]</a> <a id="23763" class="Symbol">:</a> <a id="23765" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="23773" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="23775" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="23778" class="Symbol">â†’</a>  <a id="23781" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="23788" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="23790" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a>
<a id="23793" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="23796" href="Demos.HSP-markdown.html#23796" class="Bound">ğ‘¨</a> <a id="23798" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="23800" class="Symbol">=</a> <a id="23802" href="Demos.HSP-markdown.html#22547" class="Field">Domain</a> <a id="23809" href="Demos.HSP-markdown.html#23796" class="Bound">ğ‘¨</a>

<a id="_Ì‚_"></a><a id="23812" href="Demos.HSP-markdown.html#23812" class="Function Operator">_Ì‚_</a> <a id="23816" class="Symbol">:</a> <a id="23818" class="Symbol">(</a><a id="23819" href="Demos.HSP-markdown.html#23819" class="Bound">f</a> <a id="23821" class="Symbol">:</a> <a id="23823" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="23825" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="23827" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a><a id="23828" class="Symbol">)(</a><a id="23830" href="Demos.HSP-markdown.html#23830" class="Bound">ğ‘¨</a> <a id="23832" class="Symbol">:</a> <a id="23834" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="23842" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="23844" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="23846" class="Symbol">)</a> <a id="23848" class="Symbol">â†’</a> <a id="23850" class="Symbol">(</a><a id="23851" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="23853" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="23855" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="23857" href="Demos.HSP-markdown.html#23819" class="Bound">f</a>  <a id="23860" class="Symbol">â†’</a>  <a id="23863" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="23866" href="Demos.HSP-markdown.html#23830" class="Bound">ğ‘¨</a> <a id="23868" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a><a id="23869" class="Symbol">)</a> <a id="23871" class="Symbol">â†’</a> <a id="23873" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="23876" href="Demos.HSP-markdown.html#23830" class="Bound">ğ‘¨</a> <a id="23878" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a>

<a id="23881" href="Demos.HSP-markdown.html#23881" class="Bound">f</a> <a id="23883" href="Demos.HSP-markdown.html#23812" class="Function Operator">Ì‚</a> <a id="23885" href="Demos.HSP-markdown.html#23885" class="Bound">ğ‘¨</a> <a id="23887" class="Symbol">=</a> <a id="23889" class="Symbol">Î»</a> <a id="23891" href="Demos.HSP-markdown.html#23891" class="Bound">a</a> <a id="23893" class="Symbol">â†’</a> <a id="23895" class="Symbol">(</a><a id="23896" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="23903" href="Demos.HSP-markdown.html#23885" class="Bound">ğ‘¨</a><a id="23904" class="Symbol">)</a> <a id="23906" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="23910" class="Symbol">(</a><a id="23911" href="Demos.HSP-markdown.html#23881" class="Bound">f</a> <a id="23913" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="23915" href="Demos.HSP-markdown.html#23891" class="Bound">a</a><a id="23916" class="Symbol">)</a>
</pre>


### <a id="universe-lifting-of-algebra-types">Universe lifting of algebra types</a>

A technical aspect of dealing with the noncumulativity of the hierarchy of type levels in Agda...

<pre class="Agda">

<a id="24129" class="Keyword">module</a> <a id="24136" href="Demos.HSP-markdown.html#24136" class="Module">_</a> <a id="24138" class="Symbol">(</a><a id="24139" href="Demos.HSP-markdown.html#24139" class="Bound">ğ‘¨</a> <a id="24141" class="Symbol">:</a> <a id="24143" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="24151" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="24153" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="24155" class="Symbol">)</a> <a id="24157" class="Keyword">where</a>
 <a id="24164" class="Keyword">open</a> <a id="24169" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="24176" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="24179" href="Demos.HSP-markdown.html#24139" class="Bound">ğ‘¨</a> <a id="24181" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="24183" class="Keyword">using</a> <a id="24189" class="Symbol">(</a> <a id="24191" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="24195" class="Symbol">;</a> <a id="24197" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="24202" class="Symbol">;</a> <a id="24204" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="24208" class="Symbol">;</a> <a id="24210" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="24216" class="Symbol">)</a>
 <a id="24219" class="Keyword">open</a> <a id="24224" href="Level.html" class="Module">Level</a>

 <a id="24232" href="Demos.HSP-markdown.html#24232" class="Function">Lift-AlgË¡</a> <a id="24242" class="Symbol">:</a> <a id="24244" class="Symbol">(</a><a id="24245" href="Demos.HSP-markdown.html#24245" class="Bound">â„“</a> <a id="24247" class="Symbol">:</a> <a id="24249" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="24254" class="Symbol">)</a> <a id="24256" class="Symbol">â†’</a> <a id="24258" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="24266" class="Symbol">(</a><a id="24267" href="Demos.HSP-markdown.html#24151" class="Bound">Î±</a> <a id="24269" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="24271" href="Demos.HSP-markdown.html#24245" class="Bound">â„“</a><a id="24272" class="Symbol">)</a> <a id="24274" href="Demos.HSP-markdown.html#24153" class="Bound">Ïáµƒ</a>
 <a id="24278" href="Demos.HSP-markdown.html#22547" class="Field">Domain</a> <a id="24285" class="Symbol">(</a><a id="24286" href="Demos.HSP-markdown.html#24232" class="Function">Lift-AlgË¡</a> <a id="24296" href="Demos.HSP-markdown.html#24296" class="Bound">â„“</a><a id="24297" class="Symbol">)</a> <a id="24299" class="Symbol">=</a>
  <a id="24303" class="Keyword">record</a>   <a id="24312" class="Symbol">{</a> <a id="24314" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="24322" class="Symbol">=</a> <a id="24324" href="Level.html#400" class="Record">Lift</a> <a id="24329" href="Demos.HSP-markdown.html#24296" class="Bound">â„“</a> <a id="24331" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="24334" href="Demos.HSP-markdown.html#24139" class="Bound">ğ‘¨</a> <a id="24336" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a>
           <a id="24349" class="Symbol">;</a> <a id="24351" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="24355" class="Symbol">=</a> <a id="24357" class="Symbol">Î»</a> <a id="24359" href="Demos.HSP-markdown.html#24359" class="Bound">x</a> <a id="24361" href="Demos.HSP-markdown.html#24361" class="Bound">y</a> <a id="24363" class="Symbol">â†’</a> <a id="24365" href="Level.html#470" class="Field">lower</a> <a id="24371" href="Demos.HSP-markdown.html#24359" class="Bound">x</a> <a id="24373" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="24375" href="Level.html#470" class="Field">lower</a> <a id="24381" href="Demos.HSP-markdown.html#24361" class="Bound">y</a>
           <a id="24394" class="Symbol">;</a> <a id="24396" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="24410" class="Symbol">=</a> <a id="24412" class="Keyword">record</a> <a id="24419" class="Symbol">{</a> <a id="24421" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="24426" class="Symbol">=</a> <a id="24428" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="24433" class="Symbol">;</a> <a id="24435" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="24439" class="Symbol">=</a> <a id="24441" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="24445" class="Symbol">;</a> <a id="24447" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="24453" class="Symbol">=</a> <a id="24455" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="24461" class="Symbol">}}</a>
 <a id="24465" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="24472" class="Symbol">(</a><a id="24473" href="Demos.HSP-markdown.html#24232" class="Function">Lift-AlgË¡</a> <a id="24483" href="Demos.HSP-markdown.html#24483" class="Bound">â„“</a><a id="24484" class="Symbol">)</a> <a id="24486" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="24490" class="Symbol">(</a><a id="24491" href="Demos.HSP-markdown.html#24491" class="Bound">f</a> <a id="24493" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="24495" href="Demos.HSP-markdown.html#24495" class="Bound">la</a><a id="24497" class="Symbol">)</a> <a id="24499" class="Symbol">=</a> <a id="24501" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="24506" class="Symbol">((</a><a id="24508" href="Demos.HSP-markdown.html#24491" class="Bound">f</a> <a id="24510" href="Demos.HSP-markdown.html#23812" class="Function Operator">Ì‚</a> <a id="24512" href="Demos.HSP-markdown.html#24139" class="Bound">ğ‘¨</a><a id="24513" class="Symbol">)</a> <a id="24515" class="Symbol">(</a><a id="24516" href="Level.html#470" class="Field">lower</a> <a id="24522" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="24524" href="Demos.HSP-markdown.html#24495" class="Bound">la</a><a id="24526" class="Symbol">))</a>
 <a id="24530" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="24535" class="Symbol">(</a><a id="24536" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="24543" class="Symbol">(</a><a id="24544" href="Demos.HSP-markdown.html#24232" class="Function">Lift-AlgË¡</a> <a id="24554" href="Demos.HSP-markdown.html#24554" class="Bound">â„“</a><a id="24555" class="Symbol">))</a> <a id="24558" class="Symbol">(</a><a id="24559" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="24566" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="24568" href="Demos.HSP-markdown.html#24568" class="Bound">la=lb</a><a id="24573" class="Symbol">)</a> <a id="24575" class="Symbol">=</a> <a id="24577" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="24582" class="Symbol">(</a><a id="24583" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="24590" href="Demos.HSP-markdown.html#24139" class="Bound">ğ‘¨</a><a id="24591" class="Symbol">)</a> <a id="24593" class="Symbol">((</a><a id="24595" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="24602" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="24604" href="Demos.HSP-markdown.html#24568" class="Bound">la=lb</a><a id="24609" class="Symbol">))</a>

 <a id="24614" href="Demos.HSP-markdown.html#24614" class="Function">Lift-AlgÊ³</a> <a id="24624" class="Symbol">:</a> <a id="24626" class="Symbol">(</a><a id="24627" href="Demos.HSP-markdown.html#24627" class="Bound">â„“</a> <a id="24629" class="Symbol">:</a> <a id="24631" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="24636" class="Symbol">)</a> <a id="24638" class="Symbol">â†’</a> <a id="24640" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="24648" href="Demos.HSP-markdown.html#24151" class="Bound">Î±</a> <a id="24650" class="Symbol">(</a><a id="24651" href="Demos.HSP-markdown.html#24153" class="Bound">Ïáµƒ</a> <a id="24654" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="24656" href="Demos.HSP-markdown.html#24627" class="Bound">â„“</a><a id="24657" class="Symbol">)</a>
 <a id="24660" href="Demos.HSP-markdown.html#22547" class="Field">Domain</a> <a id="24667" class="Symbol">(</a><a id="24668" href="Demos.HSP-markdown.html#24614" class="Function">Lift-AlgÊ³</a> <a id="24678" href="Demos.HSP-markdown.html#24678" class="Bound">â„“</a><a id="24679" class="Symbol">)</a> <a id="24681" class="Symbol">=</a>
  <a id="24685" class="Keyword">record</a>  <a id="24693" class="Symbol">{</a> <a id="24695" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="24703" class="Symbol">=</a> <a id="24705" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="24708" href="Demos.HSP-markdown.html#24139" class="Bound">ğ‘¨</a> <a id="24710" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a>
          <a id="24722" class="Symbol">;</a> <a id="24724" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="24728" class="Symbol">=</a> <a id="24730" class="Symbol">Î»</a> <a id="24732" href="Demos.HSP-markdown.html#24732" class="Bound">x</a> <a id="24734" href="Demos.HSP-markdown.html#24734" class="Bound">y</a> <a id="24736" class="Symbol">â†’</a> <a id="24738" href="Level.html#400" class="Record">Lift</a> <a id="24743" href="Demos.HSP-markdown.html#24678" class="Bound">â„“</a> <a id="24745" class="Symbol">(</a><a id="24746" href="Demos.HSP-markdown.html#24732" class="Bound">x</a> <a id="24748" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="24750" href="Demos.HSP-markdown.html#24734" class="Bound">y</a><a id="24751" class="Symbol">)</a>
          <a id="24763" class="Symbol">;</a> <a id="24765" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="24779" class="Symbol">=</a> <a id="24781" class="Keyword">record</a>  <a id="24789" class="Symbol">{</a> <a id="24791" href="Relation.Binary.Structures.html#1568" class="Field">refl</a>  <a id="24797" class="Symbol">=</a> <a id="24799" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="24804" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
                                    <a id="24845" class="Symbol">;</a> <a id="24847" href="Relation.Binary.Structures.html#1594" class="Field">sym</a>   <a id="24853" class="Symbol">=</a> <a id="24855" class="Symbol">Î»</a> <a id="24857" href="Demos.HSP-markdown.html#24857" class="Bound">x</a> <a id="24859" class="Symbol">â†’</a> <a id="24861" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="24866" class="Symbol">(</a><a id="24867" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="24871" class="Symbol">(</a><a id="24872" href="Level.html#470" class="Field">lower</a> <a id="24878" href="Demos.HSP-markdown.html#24857" class="Bound">x</a><a id="24879" class="Symbol">))</a>
                                    <a id="24918" class="Symbol">;</a> <a id="24920" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="24926" class="Symbol">=</a> <a id="24928" class="Symbol">Î»</a> <a id="24930" href="Demos.HSP-markdown.html#24930" class="Bound">x</a> <a id="24932" href="Demos.HSP-markdown.html#24932" class="Bound">y</a> <a id="24934" class="Symbol">â†’</a> <a id="24936" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="24941" class="Symbol">(</a><a id="24942" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="24948" class="Symbol">(</a><a id="24949" href="Level.html#470" class="Field">lower</a> <a id="24955" href="Demos.HSP-markdown.html#24930" class="Bound">x</a><a id="24956" class="Symbol">)</a> <a id="24958" class="Symbol">(</a><a id="24959" href="Level.html#470" class="Field">lower</a> <a id="24965" href="Demos.HSP-markdown.html#24932" class="Bound">y</a><a id="24966" class="Symbol">))</a> <a id="24969" class="Symbol">}}</a>
 <a id="24973" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="24980" class="Symbol">(</a><a id="24981" href="Demos.HSP-markdown.html#24614" class="Function">Lift-AlgÊ³</a> <a id="24991" href="Demos.HSP-markdown.html#24991" class="Bound">â„“</a> <a id="24993" class="Symbol">)</a> <a id="24995" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="24999" class="Symbol">(</a><a id="25000" href="Demos.HSP-markdown.html#25000" class="Bound">f</a> <a id="25002" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="25004" href="Demos.HSP-markdown.html#25004" class="Bound">la</a><a id="25006" class="Symbol">)</a> <a id="25008" class="Symbol">=</a> <a id="25010" class="Symbol">(</a><a id="25011" href="Demos.HSP-markdown.html#25000" class="Bound">f</a> <a id="25013" href="Demos.HSP-markdown.html#23812" class="Function Operator">Ì‚</a> <a id="25015" href="Demos.HSP-markdown.html#24139" class="Bound">ğ‘¨</a><a id="25016" class="Symbol">)</a> <a id="25018" href="Demos.HSP-markdown.html#25004" class="Bound">la</a>
 <a id="25022" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="25027" class="Symbol">(</a><a id="25028" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="25035" class="Symbol">(</a><a id="25036" href="Demos.HSP-markdown.html#24614" class="Function">Lift-AlgÊ³</a> <a id="25046" href="Demos.HSP-markdown.html#25046" class="Bound">â„“</a><a id="25047" class="Symbol">))(</a><a id="25050" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="25057" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="25059" href="Demos.HSP-markdown.html#25059" class="Bound">laâ‰¡lb</a><a id="25064" class="Symbol">)</a> <a id="25066" class="Symbol">=</a> <a id="25068" href="Level.html#457" class="InductiveConstructor">lift</a><a id="25072" class="Symbol">(</a><a id="25073" href="Function.Bundles.html#1938" class="Field">cong</a><a id="25077" class="Symbol">(</a><a id="25078" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="25085" href="Demos.HSP-markdown.html#24139" class="Bound">ğ‘¨</a><a id="25086" class="Symbol">)(</a><a id="25088" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="25095" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="25097" class="Symbol">Î»</a> <a id="25099" href="Demos.HSP-markdown.html#25099" class="Bound">i</a> <a id="25101" class="Symbol">â†’</a> <a id="25103" href="Level.html#470" class="Field">lower</a> <a id="25109" class="Symbol">(</a><a id="25110" href="Demos.HSP-markdown.html#25059" class="Bound">laâ‰¡lb</a> <a id="25116" href="Demos.HSP-markdown.html#25099" class="Bound">i</a><a id="25117" class="Symbol">)))</a>

<a id="Lift-Alg"></a><a id="25122" href="Demos.HSP-markdown.html#25122" class="Function">Lift-Alg</a> <a id="25131" class="Symbol">:</a> <a id="25133" class="Symbol">(</a><a id="25134" href="Demos.HSP-markdown.html#25134" class="Bound">ğ‘¨</a> <a id="25136" class="Symbol">:</a> <a id="25138" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="25146" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="25148" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="25150" class="Symbol">)(</a><a id="25152" href="Demos.HSP-markdown.html#25152" class="Bound">â„“â‚€</a> <a id="25155" href="Demos.HSP-markdown.html#25155" class="Bound">â„“â‚</a> <a id="25158" class="Symbol">:</a> <a id="25160" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="25165" class="Symbol">)</a> <a id="25167" class="Symbol">â†’</a> <a id="25169" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="25177" class="Symbol">(</a><a id="25178" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="25180" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="25182" href="Demos.HSP-markdown.html#25152" class="Bound">â„“â‚€</a><a id="25184" class="Symbol">)</a> <a id="25186" class="Symbol">(</a><a id="25187" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="25190" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="25192" href="Demos.HSP-markdown.html#25155" class="Bound">â„“â‚</a><a id="25194" class="Symbol">)</a>
<a id="25196" href="Demos.HSP-markdown.html#25122" class="Function">Lift-Alg</a> <a id="25205" href="Demos.HSP-markdown.html#25205" class="Bound">ğ‘¨</a> <a id="25207" href="Demos.HSP-markdown.html#25207" class="Bound">â„“â‚€</a> <a id="25210" href="Demos.HSP-markdown.html#25210" class="Bound">â„“â‚</a> <a id="25213" class="Symbol">=</a> <a id="25215" href="Demos.HSP-markdown.html#24614" class="Function">Lift-AlgÊ³</a> <a id="25225" class="Symbol">(</a><a id="25226" href="Demos.HSP-markdown.html#24232" class="Function">Lift-AlgË¡</a> <a id="25236" href="Demos.HSP-markdown.html#25205" class="Bound">ğ‘¨</a> <a id="25238" href="Demos.HSP-markdown.html#25207" class="Bound">â„“â‚€</a><a id="25240" class="Symbol">)</a> <a id="25242" href="Demos.HSP-markdown.html#25210" class="Bound">â„“â‚</a>
</pre>


### <a id="product-algebras">Product Algebras</a>

(cf. the [Algebras.Func.Products][] module of the [Agda Universal Algebra Library][].)

<pre class="Agda">

<a id="25411" class="Keyword">module</a> <a id="25418" href="Demos.HSP-markdown.html#25418" class="Module">_</a> <a id="25420" class="Symbol">{</a><a id="25421" href="Demos.HSP-markdown.html#25421" class="Bound">Î¹</a> <a id="25423" class="Symbol">:</a> <a id="25425" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="25430" class="Symbol">}{</a><a id="25432" href="Demos.HSP-markdown.html#25432" class="Bound">I</a> <a id="25434" class="Symbol">:</a> <a id="25436" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="25441" href="Demos.HSP-markdown.html#25421" class="Bound">Î¹</a> <a id="25443" class="Symbol">}</a> <a id="25445" class="Keyword">where</a>

 <a id="25453" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="25455" class="Symbol">:</a> <a id="25457" class="Symbol">(</a><a id="25458" href="Demos.HSP-markdown.html#25458" class="Bound">ğ’œ</a> <a id="25460" class="Symbol">:</a> <a id="25462" href="Demos.HSP-markdown.html#25432" class="Bound">I</a> <a id="25464" class="Symbol">â†’</a> <a id="25466" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="25474" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="25476" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="25478" class="Symbol">)</a> <a id="25480" class="Symbol">â†’</a> <a id="25482" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="25490" class="Symbol">(</a><a id="25491" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="25493" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="25495" href="Demos.HSP-markdown.html#25421" class="Bound">Î¹</a><a id="25496" class="Symbol">)</a> <a id="25498" class="Symbol">(</a><a id="25499" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="25502" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="25504" href="Demos.HSP-markdown.html#25421" class="Bound">Î¹</a><a id="25505" class="Symbol">)</a>
 <a id="25508" href="Demos.HSP-markdown.html#22547" class="Field">Domain</a> <a id="25515" class="Symbol">(</a><a id="25516" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="25518" href="Demos.HSP-markdown.html#25518" class="Bound">ğ’œ</a><a id="25519" class="Symbol">)</a> <a id="25521" class="Symbol">=</a>
  <a id="25525" class="Keyword">record</a>  <a id="25533" class="Symbol">{</a> <a id="25535" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="25543" class="Symbol">=</a> <a id="25545" class="Symbol">âˆ€</a> <a id="25547" href="Demos.HSP-markdown.html#25547" class="Bound">i</a> <a id="25549" class="Symbol">â†’</a> <a id="25551" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="25554" href="Demos.HSP-markdown.html#25518" class="Bound">ğ’œ</a> <a id="25556" href="Demos.HSP-markdown.html#25547" class="Bound">i</a> <a id="25558" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a>
          <a id="25570" class="Symbol">;</a> <a id="25572" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="25576" class="Symbol">=</a> <a id="25578" class="Symbol">Î»</a> <a id="25580" href="Demos.HSP-markdown.html#25580" class="Bound">a</a> <a id="25582" href="Demos.HSP-markdown.html#25582" class="Bound">b</a> <a id="25584" class="Symbol">â†’</a> <a id="25586" class="Symbol">âˆ€</a> <a id="25588" href="Demos.HSP-markdown.html#25588" class="Bound">i</a> <a id="25590" class="Symbol">â†’</a> <a id="25592" class="Symbol">(</a><a id="25593" href="Relation.Binary.Bundles.html#1098" class="Field Operator">Setoid._â‰ˆ_</a> <a id="25604" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="25607" href="Demos.HSP-markdown.html#25518" class="Bound">ğ’œ</a> <a id="25609" href="Demos.HSP-markdown.html#25588" class="Bound">i</a> <a id="25611" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a><a id="25612" class="Symbol">)</a> <a id="25614" class="Symbol">(</a><a id="25615" href="Demos.HSP-markdown.html#25580" class="Bound">a</a> <a id="25617" href="Demos.HSP-markdown.html#25588" class="Bound">i</a><a id="25618" class="Symbol">)(</a><a id="25620" href="Demos.HSP-markdown.html#25582" class="Bound">b</a> <a id="25622" href="Demos.HSP-markdown.html#25588" class="Bound">i</a><a id="25623" class="Symbol">)</a>
          <a id="25635" class="Symbol">;</a> <a id="25637" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="25651" class="Symbol">=</a>
            <a id="25665" class="Keyword">record</a>  <a id="25673" class="Symbol">{</a> <a id="25675" href="Relation.Binary.Structures.html#1568" class="Field">refl</a>   <a id="25682" class="Symbol">=</a> <a id="25684" class="Symbol">Î»</a> <a id="25686" href="Demos.HSP-markdown.html#25686" class="Bound">i</a> <a id="25688" class="Symbol">â†’</a>      <a id="25695" href="Relation.Binary.Structures.html#1568" class="Field">IsEquivalence.refl</a>   <a id="25716" class="Symbol">(</a><a id="25717" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="25731" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="25734" href="Demos.HSP-markdown.html#25518" class="Bound">ğ’œ</a> <a id="25736" href="Demos.HSP-markdown.html#25686" class="Bound">i</a> <a id="25738" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a><a id="25739" class="Symbol">)</a>
                    <a id="25761" class="Symbol">;</a> <a id="25763" href="Relation.Binary.Structures.html#1594" class="Field">sym</a>    <a id="25770" class="Symbol">=</a> <a id="25772" class="Symbol">Î»</a> <a id="25774" href="Demos.HSP-markdown.html#25774" class="Bound">x</a> <a id="25776" href="Demos.HSP-markdown.html#25776" class="Bound">i</a> <a id="25778" class="Symbol">â†’</a>    <a id="25783" href="Relation.Binary.Structures.html#1594" class="Field">IsEquivalence.sym</a>    <a id="25804" class="Symbol">(</a><a id="25805" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="25819" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="25822" href="Demos.HSP-markdown.html#25518" class="Bound">ğ’œ</a> <a id="25824" href="Demos.HSP-markdown.html#25776" class="Bound">i</a> <a id="25826" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a><a id="25827" class="Symbol">)(</a><a id="25829" href="Demos.HSP-markdown.html#25774" class="Bound">x</a> <a id="25831" href="Demos.HSP-markdown.html#25776" class="Bound">i</a><a id="25832" class="Symbol">)</a>
                    <a id="25854" class="Symbol">;</a> <a id="25856" href="Relation.Binary.Structures.html#1620" class="Field">trans</a>  <a id="25863" class="Symbol">=</a> <a id="25865" class="Symbol">Î»</a> <a id="25867" href="Demos.HSP-markdown.html#25867" class="Bound">x</a> <a id="25869" href="Demos.HSP-markdown.html#25869" class="Bound">y</a> <a id="25871" href="Demos.HSP-markdown.html#25871" class="Bound">i</a> <a id="25873" class="Symbol">â†’</a>  <a id="25876" href="Relation.Binary.Structures.html#1620" class="Field">IsEquivalence.trans</a>  <a id="25897" class="Symbol">(</a><a id="25898" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="25912" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="25915" href="Demos.HSP-markdown.html#25518" class="Bound">ğ’œ</a> <a id="25917" href="Demos.HSP-markdown.html#25871" class="Bound">i</a> <a id="25919" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a><a id="25920" class="Symbol">)(</a><a id="25922" href="Demos.HSP-markdown.html#25867" class="Bound">x</a> <a id="25924" href="Demos.HSP-markdown.html#25871" class="Bound">i</a><a id="25925" class="Symbol">)(</a><a id="25927" href="Demos.HSP-markdown.html#25869" class="Bound">y</a> <a id="25929" href="Demos.HSP-markdown.html#25871" class="Bound">i</a><a id="25930" class="Symbol">)</a> <a id="25932" class="Symbol">}}</a>
 <a id="25936" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="25943" class="Symbol">(</a><a id="25944" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="25946" href="Demos.HSP-markdown.html#25946" class="Bound">ğ’œ</a><a id="25947" class="Symbol">)</a> <a id="25949" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="25953" class="Symbol">(</a><a id="25954" href="Demos.HSP-markdown.html#25954" class="Bound">f</a> <a id="25956" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="25958" href="Demos.HSP-markdown.html#25958" class="Bound">a</a><a id="25959" class="Symbol">)</a> <a id="25961" class="Symbol">=</a> <a id="25963" class="Symbol">Î»</a> <a id="25965" href="Demos.HSP-markdown.html#25965" class="Bound">i</a> <a id="25967" class="Symbol">â†’</a> <a id="25969" class="Symbol">(</a><a id="25970" href="Demos.HSP-markdown.html#25954" class="Bound">f</a> <a id="25972" href="Demos.HSP-markdown.html#23812" class="Function Operator">Ì‚</a> <a id="25974" class="Symbol">(</a><a id="25975" href="Demos.HSP-markdown.html#25946" class="Bound">ğ’œ</a> <a id="25977" href="Demos.HSP-markdown.html#25965" class="Bound">i</a><a id="25978" class="Symbol">))</a> <a id="25981" class="Symbol">(</a><a id="25982" href="Function.Base.html#1554" class="Function">flip</a> <a id="25987" href="Demos.HSP-markdown.html#25958" class="Bound">a</a> <a id="25989" href="Demos.HSP-markdown.html#25965" class="Bound">i</a><a id="25990" class="Symbol">)</a>
 <a id="25993" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="25998" class="Symbol">(</a><a id="25999" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="26006" class="Symbol">(</a><a id="26007" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="26009" href="Demos.HSP-markdown.html#26009" class="Bound">ğ’œ</a><a id="26010" class="Symbol">))</a> <a id="26013" class="Symbol">(</a><a id="26014" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="26021" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="26023" href="Demos.HSP-markdown.html#26023" class="Bound">f=g</a> <a id="26027" class="Symbol">)</a> <a id="26029" class="Symbol">=</a> <a id="26031" class="Symbol">Î»</a> <a id="26033" href="Demos.HSP-markdown.html#26033" class="Bound">i</a> <a id="26035" class="Symbol">â†’</a> <a id="26037" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="26042" class="Symbol">(</a><a id="26043" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="26050" class="Symbol">(</a><a id="26051" href="Demos.HSP-markdown.html#26009" class="Bound">ğ’œ</a> <a id="26053" href="Demos.HSP-markdown.html#26033" class="Bound">i</a><a id="26054" class="Symbol">))</a> <a id="26057" class="Symbol">(</a><a id="26058" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="26065" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="26067" href="Function.Base.html#1554" class="Function">flip</a> <a id="26072" href="Demos.HSP-markdown.html#26023" class="Bound">f=g</a> <a id="26076" href="Demos.HSP-markdown.html#26033" class="Bound">i</a> <a id="26078" class="Symbol">)</a>
</pre>





<!-- ------------------------------------------------------------------------------------- -->

## <a id="Homomorphisms">Homomorphisms</a>
### <a id="homomorphism-basic-definitions">Basic definitions</a>
Here are some useful definitions and theorems extracted from the [Homomorphisms.Func.Basic][] module of the [Agda Universal Algebra Library][].

<pre class="Agda">

<a id="26459" class="Keyword">module</a> <a id="26466" href="Demos.HSP-markdown.html#26466" class="Module">_</a> <a id="26468" class="Symbol">(</a><a id="26469" href="Demos.HSP-markdown.html#26469" class="Bound">ğ‘¨</a> <a id="26471" class="Symbol">:</a> <a id="26473" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="26481" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="26483" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="26485" class="Symbol">)(</a><a id="26487" href="Demos.HSP-markdown.html#26487" class="Bound">ğ‘©</a> <a id="26489" class="Symbol">:</a> <a id="26491" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="26499" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="26501" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="26503" class="Symbol">)</a> <a id="26505" class="Keyword">where</a>
 <a id="26512" class="Keyword">private</a> <a id="26520" href="Demos.HSP-markdown.html#26520" class="Function">ov</a> <a id="26523" class="Symbol">=</a> <a id="26525" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="26527" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26529" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="26531" class="Symbol">;</a> <a id="26533" href="Demos.HSP-markdown.html#26533" class="Function">a</a> <a id="26535" class="Symbol">=</a> <a id="26537" href="Demos.HSP-markdown.html#26481" class="Bound">Î±</a> <a id="26539" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26541" href="Demos.HSP-markdown.html#26483" class="Bound">Ïáµƒ</a> <a id="26544" class="Symbol">;</a> <a id="26546" href="Demos.HSP-markdown.html#26546" class="Function">b</a> <a id="26548" class="Symbol">=</a> <a id="26550" href="Demos.HSP-markdown.html#26499" class="Bound">Î²</a> <a id="26552" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26554" href="Demos.HSP-markdown.html#26501" class="Bound">Ïáµ‡</a> <a id="26557" class="Symbol">;</a> <a id="26559" href="Demos.HSP-markdown.html#26559" class="Function">c</a> <a id="26561" class="Symbol">=</a> <a id="26563" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="26565" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26567" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="26569" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26571" href="Demos.HSP-markdown.html#26481" class="Bound">Î±</a> <a id="26573" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26575" href="Demos.HSP-markdown.html#26483" class="Bound">Ïáµƒ</a> <a id="26578" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26580" href="Demos.HSP-markdown.html#26499" class="Bound">Î²</a> <a id="26582" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26584" href="Demos.HSP-markdown.html#26501" class="Bound">Ïáµ‡</a>

 <a id="26589" href="Demos.HSP-markdown.html#26589" class="Function">compatible-map-op</a> <a id="26607" class="Symbol">:</a> <a id="26609" class="Symbol">(</a><a id="26610" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="26613" href="Demos.HSP-markdown.html#26469" class="Bound">ğ‘¨</a> <a id="26615" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="26617" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="26619" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="26622" href="Demos.HSP-markdown.html#26487" class="Bound">ğ‘©</a> <a id="26624" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a><a id="26625" class="Symbol">)</a> <a id="26627" class="Symbol">â†’</a> <a id="26629" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="26631" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="26633" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="26635" class="Symbol">â†’</a> <a id="26637" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="26642" class="Symbol">(</a><a id="26643" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="26645" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26647" href="Demos.HSP-markdown.html#26481" class="Bound">Î±</a> <a id="26649" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26651" href="Demos.HSP-markdown.html#26501" class="Bound">Ïáµ‡</a><a id="26653" class="Symbol">)</a>
 <a id="26656" href="Demos.HSP-markdown.html#26589" class="Function">compatible-map-op</a> <a id="26674" href="Demos.HSP-markdown.html#26674" class="Bound">h</a> <a id="26676" href="Demos.HSP-markdown.html#26676" class="Bound">f</a> <a id="26678" class="Symbol">=</a> <a id="26680" class="Symbol">âˆ€</a> <a id="26682" class="Symbol">{</a><a id="26683" href="Demos.HSP-markdown.html#26683" class="Bound">a</a><a id="26684" class="Symbol">}</a> <a id="26686" class="Symbol">â†’</a> <a id="26688" class="Symbol">(</a><a id="26689" href="Demos.HSP-markdown.html#26674" class="Bound">h</a> <a id="26691" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="26695" class="Symbol">((</a><a id="26697" href="Demos.HSP-markdown.html#26676" class="Bound">f</a> <a id="26699" href="Demos.HSP-markdown.html#23812" class="Function Operator">Ì‚</a> <a id="26701" href="Demos.HSP-markdown.html#26469" class="Bound">ğ‘¨</a><a id="26702" class="Symbol">)</a> <a id="26704" href="Demos.HSP-markdown.html#26683" class="Bound">a</a><a id="26705" class="Symbol">))</a> <a id="26708" href="Demos.HSP-markdown.html#26798" class="Function Operator">â‰ˆâ‚‚</a> <a id="26711" class="Symbol">((</a><a id="26713" href="Demos.HSP-markdown.html#26676" class="Bound">f</a> <a id="26715" href="Demos.HSP-markdown.html#23812" class="Function Operator">Ì‚</a> <a id="26717" href="Demos.HSP-markdown.html#26487" class="Bound">ğ‘©</a><a id="26718" class="Symbol">)</a> <a id="26720" class="Symbol">(Î»</a> <a id="26723" href="Demos.HSP-markdown.html#26723" class="Bound">x</a> <a id="26725" class="Symbol">â†’</a> <a id="26727" class="Symbol">(</a><a id="26728" href="Demos.HSP-markdown.html#26674" class="Bound">h</a> <a id="26730" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="26734" class="Symbol">(</a><a id="26735" href="Demos.HSP-markdown.html#26683" class="Bound">a</a> <a id="26737" href="Demos.HSP-markdown.html#26723" class="Bound">x</a><a id="26738" class="Symbol">))))</a>
  <a id="26745" class="Keyword">where</a>  <a id="26752" class="Keyword">open</a> <a id="26757" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="26764" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="26767" href="Demos.HSP-markdown.html#26487" class="Bound">ğ‘©</a> <a id="26769" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="26771" class="Keyword">using</a> <a id="26777" class="Symbol">()</a> <a id="26780" class="Keyword">renaming</a> <a id="26789" class="Symbol">(</a> <a id="26791" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="26795" class="Symbol">to</a> <a id="26798" class="Field Operator">_â‰ˆâ‚‚_</a> <a id="26803" class="Symbol">)</a>

 <a id="26807" href="Demos.HSP-markdown.html#26807" class="Function">compatible-map</a> <a id="26822" class="Symbol">:</a> <a id="26824" class="Symbol">(</a><a id="26825" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="26828" href="Demos.HSP-markdown.html#26469" class="Bound">ğ‘¨</a> <a id="26830" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="26832" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="26834" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="26837" href="Demos.HSP-markdown.html#26487" class="Bound">ğ‘©</a> <a id="26839" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a><a id="26840" class="Symbol">)</a> <a id="26842" class="Symbol">â†’</a> <a id="26844" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="26849" class="Symbol">(</a><a id="26850" href="Demos.HSP-markdown.html#26520" class="Function">ov</a> <a id="26853" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26855" href="Demos.HSP-markdown.html#26481" class="Bound">Î±</a> <a id="26857" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="26859" href="Demos.HSP-markdown.html#26501" class="Bound">Ïáµ‡</a><a id="26861" class="Symbol">)</a>
 <a id="26864" href="Demos.HSP-markdown.html#26807" class="Function">compatible-map</a> <a id="26879" href="Demos.HSP-markdown.html#26879" class="Bound">h</a> <a id="26881" class="Symbol">=</a> <a id="26883" class="Symbol">âˆ€</a> <a id="26885" class="Symbol">{</a><a id="26886" href="Demos.HSP-markdown.html#26886" class="Bound">f</a><a id="26887" class="Symbol">}</a> <a id="26889" class="Symbol">â†’</a> <a id="26891" href="Demos.HSP-markdown.html#26589" class="Function">compatible-map-op</a> <a id="26909" href="Demos.HSP-markdown.html#26879" class="Bound">h</a> <a id="26911" href="Demos.HSP-markdown.html#26886" class="Bound">f</a>

 <a id="26915" class="Comment">-- The property of being a homomorphism.</a>
 <a id="26957" class="Keyword">record</a> <a id="26964" href="Demos.HSP-markdown.html#26964" class="Record">IsHom</a> <a id="26970" class="Symbol">(</a><a id="26971" href="Demos.HSP-markdown.html#26971" class="Bound">h</a> <a id="26973" class="Symbol">:</a> <a id="26975" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="26978" href="Demos.HSP-markdown.html#26469" class="Bound">ğ‘¨</a> <a id="26980" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="26982" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="26984" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="26987" href="Demos.HSP-markdown.html#26487" class="Bound">ğ‘©</a> <a id="26989" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a><a id="26990" class="Symbol">)</a> <a id="26992" class="Symbol">:</a> <a id="26994" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="26999" class="Symbol">(</a><a id="27000" href="Demos.HSP-markdown.html#26520" class="Function">ov</a> <a id="27003" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="27005" href="Demos.HSP-markdown.html#26481" class="Bound">Î±</a> <a id="27007" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="27009" href="Demos.HSP-markdown.html#26501" class="Bound">Ïáµ‡</a><a id="27011" class="Symbol">)</a> <a id="27013" class="Keyword">where</a>
  <a id="27021" class="Keyword">constructor</a> <a id="27033" href="Demos.HSP-markdown.html#27033" class="InductiveConstructor">mkhom</a>
  <a id="27041" class="Keyword">field</a> <a id="27047" href="Demos.HSP-markdown.html#27047" class="Field">compatible</a> <a id="27058" class="Symbol">:</a> <a id="27060" href="Demos.HSP-markdown.html#26807" class="Function">compatible-map</a> <a id="27075" href="Demos.HSP-markdown.html#26971" class="Bound">h</a>

 <a id="27079" class="Comment">-- The type of homomorphisms.</a>
 <a id="27110" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="27114" class="Symbol">:</a> <a id="27116" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="27121" href="Demos.HSP-markdown.html#26559" class="Function">c</a>
 <a id="27124" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="27128" class="Symbol">=</a> <a id="27130" href="Agda.Builtin.Sigma.html#166" class="Record">Î£</a> <a id="27132" class="Symbol">(</a><a id="27133" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a>Â <a id="27136" href="Demos.HSP-markdown.html#26469" class="Bound">ğ‘¨</a> <a id="27138" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="27140" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="27142" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="27145" href="Demos.HSP-markdown.html#26487" class="Bound">ğ‘©</a> <a id="27147" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a><a id="27148" class="Symbol">)</a> <a id="27150" href="Demos.HSP-markdown.html#26964" class="Record">IsHom</a>
</pre>


### <a id="monomorphisms-and-epimorphisms">Monomorphisms and epimorphisms</a>

<pre class="Agda">

 <a id="27263" class="Keyword">record</a> <a id="27270" href="Demos.HSP-markdown.html#27270" class="Record">IsMon</a> <a id="27276" class="Symbol">(</a><a id="27277" href="Demos.HSP-markdown.html#27277" class="Bound">h</a> <a id="27279" class="Symbol">:</a> <a id="27281" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="27284" href="Demos.HSP-markdown.html#26469" class="Bound">ğ‘¨</a> <a id="27286" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="27288" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="27290" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="27293" href="Demos.HSP-markdown.html#26487" class="Bound">ğ‘©</a> <a id="27295" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a><a id="27296" class="Symbol">)</a> <a id="27298" class="Symbol">:</a> <a id="27300" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="27305" class="Symbol">(</a><a id="27306" href="Demos.HSP-markdown.html#26520" class="Function">ov</a> <a id="27309" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="27311" href="Demos.HSP-markdown.html#26533" class="Function">a</a> <a id="27313" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="27315" href="Demos.HSP-markdown.html#26501" class="Bound">Ïáµ‡</a><a id="27317" class="Symbol">)</a> <a id="27319" class="Keyword">where</a>
  <a id="27327" class="Keyword">field</a>  <a id="27334" href="Demos.HSP-markdown.html#27334" class="Field">isHom</a> <a id="27340" class="Symbol">:</a> <a id="27342" href="Demos.HSP-markdown.html#26964" class="Record">IsHom</a> <a id="27348" href="Demos.HSP-markdown.html#27277" class="Bound">h</a>
         <a id="27359" href="Demos.HSP-markdown.html#27359" class="Field">isInjective</a> <a id="27371" class="Symbol">:</a> <a id="27373" href="Demos.HSP-markdown.html#14660" class="Function">IsInjective</a> <a id="27385" href="Demos.HSP-markdown.html#27277" class="Bound">h</a>

  <a id="27390" href="Demos.HSP-markdown.html#27390" class="Function">HomReduct</a> <a id="27400" class="Symbol">:</a> <a id="27402" href="Demos.HSP-markdown.html#27110" class="Function">hom</a>
  <a id="27408" href="Demos.HSP-markdown.html#27390" class="Function">HomReduct</a> <a id="27418" class="Symbol">=</a> <a id="27420" href="Demos.HSP-markdown.html#27277" class="Bound">h</a> <a id="27422" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="27424" href="Demos.HSP-markdown.html#27334" class="Field">isHom</a>

 <a id="27432" href="Demos.HSP-markdown.html#27432" class="Function">mon</a> <a id="27436" class="Symbol">:</a> <a id="27438" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="27443" href="Demos.HSP-markdown.html#26559" class="Function">c</a>
 <a id="27446" href="Demos.HSP-markdown.html#27432" class="Function">mon</a> <a id="27450" class="Symbol">=</a> <a id="27452" href="Agda.Builtin.Sigma.html#166" class="Record">Î£</a> <a id="27454" class="Symbol">(</a><a id="27455" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="27458" href="Demos.HSP-markdown.html#26469" class="Bound">ğ‘¨</a> <a id="27460" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="27462" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="27464" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="27467" href="Demos.HSP-markdown.html#26487" class="Bound">ğ‘©</a> <a id="27469" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a><a id="27470" class="Symbol">)</a> <a id="27472" href="Demos.HSP-markdown.html#27270" class="Record">IsMon</a>

 <a id="27480" class="Keyword">record</a> <a id="27487" href="Demos.HSP-markdown.html#27487" class="Record">IsEpi</a> <a id="27493" class="Symbol">(</a><a id="27494" href="Demos.HSP-markdown.html#27494" class="Bound">h</a> <a id="27496" class="Symbol">:</a> <a id="27498" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="27501" href="Demos.HSP-markdown.html#26469" class="Bound">ğ‘¨</a> <a id="27503" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="27505" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="27507" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="27510" href="Demos.HSP-markdown.html#26487" class="Bound">ğ‘©</a> <a id="27512" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a><a id="27513" class="Symbol">)</a> <a id="27515" class="Symbol">:</a> <a id="27517" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="27522" class="Symbol">(</a><a id="27523" href="Demos.HSP-markdown.html#26520" class="Function">ov</a> <a id="27526" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="27528" href="Demos.HSP-markdown.html#26481" class="Bound">Î±</a> <a id="27530" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="27532" href="Demos.HSP-markdown.html#26546" class="Function">b</a><a id="27533" class="Symbol">)</a> <a id="27535" class="Keyword">where</a>
  <a id="27543" class="Keyword">field</a>  <a id="27550" href="Demos.HSP-markdown.html#27550" class="Field">isHom</a> <a id="27556" class="Symbol">:</a> <a id="27558" href="Demos.HSP-markdown.html#26964" class="Record">IsHom</a> <a id="27564" href="Demos.HSP-markdown.html#27494" class="Bound">h</a>
         <a id="27575" href="Demos.HSP-markdown.html#27575" class="Field">isSurjective</a> <a id="27588" class="Symbol">:</a> <a id="27590" href="Demos.HSP-markdown.html#14743" class="Function">IsSurjective</a> <a id="27603" href="Demos.HSP-markdown.html#27494" class="Bound">h</a>

  <a id="27608" href="Demos.HSP-markdown.html#27608" class="Function">HomReduct</a> <a id="27618" class="Symbol">:</a> <a id="27620" href="Demos.HSP-markdown.html#27110" class="Function">hom</a>
  <a id="27626" href="Demos.HSP-markdown.html#27608" class="Function">HomReduct</a> <a id="27636" class="Symbol">=</a> <a id="27638" href="Demos.HSP-markdown.html#27494" class="Bound">h</a> <a id="27640" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="27642" href="Demos.HSP-markdown.html#27550" class="Field">isHom</a>

 <a id="27650" href="Demos.HSP-markdown.html#27650" class="Function">epi</a> <a id="27654" class="Symbol">:</a> <a id="27656" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="27661" href="Demos.HSP-markdown.html#26559" class="Function">c</a>
 <a id="27664" href="Demos.HSP-markdown.html#27650" class="Function">epi</a> <a id="27668" class="Symbol">=</a> <a id="27670" href="Agda.Builtin.Sigma.html#166" class="Record">Î£</a> <a id="27672" class="Symbol">(</a><a id="27673" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="27676" href="Demos.HSP-markdown.html#26469" class="Bound">ğ‘¨</a> <a id="27678" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="27680" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="27682" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="27685" href="Demos.HSP-markdown.html#26487" class="Bound">ğ‘©</a> <a id="27687" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a><a id="27688" class="Symbol">)</a> <a id="27690" href="Demos.HSP-markdown.html#27487" class="Record">IsEpi</a>

<a id="27697" class="Keyword">open</a> <a id="27702" href="Demos.HSP-markdown.html#26964" class="Module">IsHom</a> <a id="27708" class="Symbol">;</a> <a id="27710" class="Keyword">open</a> <a id="27715" href="Demos.HSP-markdown.html#27270" class="Module">IsMon</a> <a id="27721" class="Symbol">;</a> <a id="27723" class="Keyword">open</a> <a id="27728" href="Demos.HSP-markdown.html#27487" class="Module">IsEpi</a>

<a id="27735" class="Keyword">module</a> <a id="27742" href="Demos.HSP-markdown.html#27742" class="Module">_</a> <a id="27744" class="Symbol">(</a><a id="27745" href="Demos.HSP-markdown.html#27745" class="Bound">ğ‘¨</a> <a id="27747" class="Symbol">:</a> <a id="27749" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="27757" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="27759" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="27761" class="Symbol">)(</a><a id="27763" href="Demos.HSP-markdown.html#27763" class="Bound">ğ‘©</a> <a id="27765" class="Symbol">:</a> <a id="27767" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="27775" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="27777" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="27779" class="Symbol">)</a> <a id="27781" class="Keyword">where</a>

 <a id="27789" href="Demos.HSP-markdown.html#27789" class="Function">monâ†’intohom</a> <a id="27801" class="Symbol">:</a> <a id="27803" href="Demos.HSP-markdown.html#27432" class="Function">mon</a> <a id="27807" href="Demos.HSP-markdown.html#27745" class="Bound">ğ‘¨</a> <a id="27809" href="Demos.HSP-markdown.html#27763" class="Bound">ğ‘©</a> <a id="27811" class="Symbol">â†’</a> <a id="27813" href="Data.Product.html#916" class="Function">Î£[</a> <a id="27816" href="Demos.HSP-markdown.html#27816" class="Bound">h</a> <a id="27818" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="27820" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="27824" href="Demos.HSP-markdown.html#27745" class="Bound">ğ‘¨</a> <a id="27826" href="Demos.HSP-markdown.html#27763" class="Bound">ğ‘©</a> <a id="27828" href="Data.Product.html#916" class="Function">]</a> <a id="27830" href="Demos.HSP-markdown.html#14660" class="Function">IsInjective</a> <a id="27842" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="27844" href="Demos.HSP-markdown.html#27816" class="Bound">h</a> <a id="27846" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
 <a id="27849" href="Demos.HSP-markdown.html#27789" class="Function">monâ†’intohom</a> <a id="27861" class="Symbol">(</a><a id="27862" href="Demos.HSP-markdown.html#27862" class="Bound">hh</a> <a id="27865" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="27867" href="Demos.HSP-markdown.html#27867" class="Bound">hhM</a><a id="27870" class="Symbol">)</a> <a id="27872" class="Symbol">=</a> <a id="27874" class="Symbol">(</a><a id="27875" href="Demos.HSP-markdown.html#27862" class="Bound">hh</a> <a id="27878" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="27880" href="Demos.HSP-markdown.html#27334" class="Field">isHom</a> <a id="27886" href="Demos.HSP-markdown.html#27867" class="Bound">hhM</a><a id="27889" class="Symbol">)</a> <a id="27891" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="27893" href="Demos.HSP-markdown.html#27359" class="Field">isInjective</a> <a id="27905" href="Demos.HSP-markdown.html#27867" class="Bound">hhM</a>

 <a id="27911" href="Demos.HSP-markdown.html#27911" class="Function">epiâ†’ontohom</a> <a id="27923" class="Symbol">:</a> <a id="27925" href="Demos.HSP-markdown.html#27650" class="Function">epi</a> <a id="27929" href="Demos.HSP-markdown.html#27745" class="Bound">ğ‘¨</a> <a id="27931" href="Demos.HSP-markdown.html#27763" class="Bound">ğ‘©</a> <a id="27933" class="Symbol">â†’</a> <a id="27935" href="Data.Product.html#916" class="Function">Î£[</a> <a id="27938" href="Demos.HSP-markdown.html#27938" class="Bound">h</a> <a id="27940" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="27942" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="27946" href="Demos.HSP-markdown.html#27745" class="Bound">ğ‘¨</a> <a id="27948" href="Demos.HSP-markdown.html#27763" class="Bound">ğ‘©</a> <a id="27950" href="Data.Product.html#916" class="Function">]</a> <a id="27952" href="Demos.HSP-markdown.html#14743" class="Function">IsSurjective</a> <a id="27965" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="27967" href="Demos.HSP-markdown.html#27938" class="Bound">h</a> <a id="27969" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
 <a id="27972" href="Demos.HSP-markdown.html#27911" class="Function">epiâ†’ontohom</a> <a id="27984" class="Symbol">(</a><a id="27985" href="Demos.HSP-markdown.html#27985" class="Bound">hh</a> <a id="27988" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="27990" href="Demos.HSP-markdown.html#27990" class="Bound">hhE</a><a id="27993" class="Symbol">)</a> <a id="27995" class="Symbol">=</a> <a id="27997" class="Symbol">(</a><a id="27998" href="Demos.HSP-markdown.html#27985" class="Bound">hh</a> <a id="28001" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="28003" href="Demos.HSP-markdown.html#27550" class="Field">isHom</a> <a id="28009" href="Demos.HSP-markdown.html#27990" class="Bound">hhE</a><a id="28012" class="Symbol">)</a> <a id="28014" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="28016" href="Demos.HSP-markdown.html#27575" class="Field">isSurjective</a> <a id="28029" href="Demos.HSP-markdown.html#27990" class="Bound">hhE</a>
</pre>


### <a id="basic-properties-of-homomorphisms">Basic properties of homomorphisms</a>

Here are some definitions and theorems extracted from the [Homomorphisms.Func.Properties][] module of the [Agda Universal Algebra Library][].


#### <a id="composition-of-homomorphisms">Composition of homomorphisms</a>

The composition of homomorphisms is again a homomorphism. Similarly,
the composition of epimorphisms is again an epimorphism.

<pre class="Agda">

<a id="28492" class="Keyword">module</a> <a id="28499" href="Demos.HSP-markdown.html#28499" class="Module">_</a>  <a id="28502" class="Symbol">{</a><a id="28503" href="Demos.HSP-markdown.html#28503" class="Bound">ğ‘¨</a> <a id="28505" class="Symbol">:</a> <a id="28507" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="28515" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="28517" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="28519" class="Symbol">}</a> <a id="28521" class="Symbol">{</a><a id="28522" href="Demos.HSP-markdown.html#28522" class="Bound">ğ‘©</a> <a id="28524" class="Symbol">:</a> <a id="28526" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="28534" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="28536" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="28538" class="Symbol">}</a> <a id="28540" class="Symbol">{</a><a id="28541" href="Demos.HSP-markdown.html#28541" class="Bound">ğ‘ª</a> <a id="28543" class="Symbol">:</a> <a id="28545" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="28553" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a> <a id="28555" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="28557" class="Symbol">}</a>
          <a id="28569" class="Symbol">{</a><a id="28570" href="Demos.HSP-markdown.html#28570" class="Bound">g</a> <a id="28572" class="Symbol">:</a> <a id="28574" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="28577" href="Demos.HSP-markdown.html#28503" class="Bound">ğ‘¨</a> <a id="28579" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="28581" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="28583" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="28586" href="Demos.HSP-markdown.html#28522" class="Bound">ğ‘©</a> <a id="28588" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a><a id="28589" class="Symbol">}{</a><a id="28591" href="Demos.HSP-markdown.html#28591" class="Bound">h</a> <a id="28593" class="Symbol">:</a> <a id="28595" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="28598" href="Demos.HSP-markdown.html#28522" class="Bound">ğ‘©</a> <a id="28600" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="28602" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="28604" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="28607" href="Demos.HSP-markdown.html#28541" class="Bound">ğ‘ª</a> <a id="28609" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a><a id="28610" class="Symbol">}</a> <a id="28612" class="Keyword">where</a>

  <a id="28621" class="Keyword">open</a> <a id="28626" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="28633" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="28636" href="Demos.HSP-markdown.html#28541" class="Bound">ğ‘ª</a> <a id="28638" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="28640" class="Keyword">using</a> <a id="28646" class="Symbol">(</a> <a id="28648" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="28654" class="Symbol">)</a>

  <a id="28659" href="Demos.HSP-markdown.html#28659" class="Function">âˆ˜-is-hom</a> <a id="28668" class="Symbol">:</a> <a id="28670" href="Demos.HSP-markdown.html#26964" class="Record">IsHom</a> <a id="28676" href="Demos.HSP-markdown.html#28503" class="Bound">ğ‘¨</a> <a id="28678" href="Demos.HSP-markdown.html#28522" class="Bound">ğ‘©</a> <a id="28680" href="Demos.HSP-markdown.html#28570" class="Bound">g</a> <a id="28682" class="Symbol">â†’</a> <a id="28684" href="Demos.HSP-markdown.html#26964" class="Record">IsHom</a> <a id="28690" href="Demos.HSP-markdown.html#28522" class="Bound">ğ‘©</a> <a id="28692" href="Demos.HSP-markdown.html#28541" class="Bound">ğ‘ª</a> <a id="28694" href="Demos.HSP-markdown.html#28591" class="Bound">h</a> <a id="28696" class="Symbol">â†’</a> <a id="28698" href="Demos.HSP-markdown.html#26964" class="Record">IsHom</a> <a id="28704" href="Demos.HSP-markdown.html#28503" class="Bound">ğ‘¨</a> <a id="28706" href="Demos.HSP-markdown.html#28541" class="Bound">ğ‘ª</a> <a id="28708" class="Symbol">(</a><a id="28709" href="Demos.HSP-markdown.html#28591" class="Bound">h</a> <a id="28711" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="28715" href="Demos.HSP-markdown.html#28570" class="Bound">g</a><a id="28716" class="Symbol">)</a>
  <a id="28720" href="Demos.HSP-markdown.html#28659" class="Function">âˆ˜-is-hom</a> <a id="28729" href="Demos.HSP-markdown.html#28729" class="Bound">ghom</a> <a id="28734" href="Demos.HSP-markdown.html#28734" class="Bound">hhom</a> <a id="28739" class="Symbol">=</a> <a id="28741" href="Demos.HSP-markdown.html#27033" class="InductiveConstructor">mkhom</a> <a id="28747" href="Demos.HSP-markdown.html#28761" class="Function">c</a>
   <a id="28752" class="Keyword">where</a>
   <a id="28761" href="Demos.HSP-markdown.html#28761" class="Function">c</a> <a id="28763" class="Symbol">:</a> <a id="28765" href="Demos.HSP-markdown.html#26807" class="Function">compatible-map</a> <a id="28780" href="Demos.HSP-markdown.html#28503" class="Bound">ğ‘¨</a> <a id="28782" href="Demos.HSP-markdown.html#28541" class="Bound">ğ‘ª</a> <a id="28784" class="Symbol">(</a><a id="28785" href="Demos.HSP-markdown.html#28591" class="Bound">h</a> <a id="28787" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="28791" href="Demos.HSP-markdown.html#28570" class="Bound">g</a><a id="28792" class="Symbol">)</a>
   <a id="28797" href="Demos.HSP-markdown.html#28761" class="Function">c</a> <a id="28799" class="Symbol">=</a> <a id="28801" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="28807" class="Symbol">(</a><a id="28808" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="28813" href="Demos.HSP-markdown.html#28591" class="Bound">h</a> <a id="28815" class="Symbol">(</a><a id="28816" href="Demos.HSP-markdown.html#27047" class="Field">compatible</a> <a id="28827" href="Demos.HSP-markdown.html#28729" class="Bound">ghom</a><a id="28831" class="Symbol">))</a> <a id="28834" class="Symbol">(</a><a id="28835" href="Demos.HSP-markdown.html#27047" class="Field">compatible</a> <a id="28846" href="Demos.HSP-markdown.html#28734" class="Bound">hhom</a><a id="28850" class="Symbol">)</a>

  <a id="28855" href="Demos.HSP-markdown.html#28855" class="Function">âˆ˜-is-epi</a> <a id="28864" class="Symbol">:</a> <a id="28866" href="Demos.HSP-markdown.html#27487" class="Record">IsEpi</a> <a id="28872" href="Demos.HSP-markdown.html#28503" class="Bound">ğ‘¨</a> <a id="28874" href="Demos.HSP-markdown.html#28522" class="Bound">ğ‘©</a> <a id="28876" href="Demos.HSP-markdown.html#28570" class="Bound">g</a> <a id="28878" class="Symbol">â†’</a> <a id="28880" href="Demos.HSP-markdown.html#27487" class="Record">IsEpi</a> <a id="28886" href="Demos.HSP-markdown.html#28522" class="Bound">ğ‘©</a> <a id="28888" href="Demos.HSP-markdown.html#28541" class="Bound">ğ‘ª</a> <a id="28890" href="Demos.HSP-markdown.html#28591" class="Bound">h</a> <a id="28892" class="Symbol">â†’</a> <a id="28894" href="Demos.HSP-markdown.html#27487" class="Record">IsEpi</a> <a id="28900" href="Demos.HSP-markdown.html#28503" class="Bound">ğ‘¨</a> <a id="28902" href="Demos.HSP-markdown.html#28541" class="Bound">ğ‘ª</a> <a id="28904" class="Symbol">(</a><a id="28905" href="Demos.HSP-markdown.html#28591" class="Bound">h</a> <a id="28907" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="28911" href="Demos.HSP-markdown.html#28570" class="Bound">g</a><a id="28912" class="Symbol">)</a>
  <a id="28916" href="Demos.HSP-markdown.html#28855" class="Function">âˆ˜-is-epi</a> <a id="28925" href="Demos.HSP-markdown.html#28925" class="Bound">gE</a> <a id="28928" href="Demos.HSP-markdown.html#28928" class="Bound">hE</a> <a id="28931" class="Symbol">=</a> <a id="28933" class="Keyword">record</a>  <a id="28941" class="Symbol">{</a> <a id="28943" href="Demos.HSP-markdown.html#27550" class="Field">isHom</a> <a id="28949" class="Symbol">=</a> <a id="28951" href="Demos.HSP-markdown.html#28659" class="Function">âˆ˜-is-hom</a> <a id="28960" class="Symbol">(</a><a id="28961" href="Demos.HSP-markdown.html#27550" class="Field">isHom</a> <a id="28967" href="Demos.HSP-markdown.html#28925" class="Bound">gE</a><a id="28969" class="Symbol">)</a> <a id="28971" class="Symbol">(</a><a id="28972" href="Demos.HSP-markdown.html#27550" class="Field">isHom</a> <a id="28978" href="Demos.HSP-markdown.html#28928" class="Bound">hE</a><a id="28980" class="Symbol">)</a>
                           <a id="29009" class="Symbol">;</a> <a id="29011" href="Demos.HSP-markdown.html#27575" class="Field">isSurjective</a> <a id="29024" class="Symbol">=</a> <a id="29026" href="Demos.HSP-markdown.html#15527" class="Function">âˆ˜-IsSurjective</a> <a id="29041" href="Demos.HSP-markdown.html#28570" class="Bound">g</a> <a id="29043" href="Demos.HSP-markdown.html#28591" class="Bound">h</a> <a id="29045" class="Symbol">(</a><a id="29046" href="Demos.HSP-markdown.html#27575" class="Field">isSurjective</a> <a id="29059" href="Demos.HSP-markdown.html#28925" class="Bound">gE</a><a id="29061" class="Symbol">)</a> <a id="29063" class="Symbol">(</a><a id="29064" href="Demos.HSP-markdown.html#27575" class="Field">isSurjective</a> <a id="29077" href="Demos.HSP-markdown.html#28928" class="Bound">hE</a><a id="29079" class="Symbol">)</a> <a id="29081" class="Symbol">}</a>


<a id="29085" class="Keyword">module</a> <a id="29092" href="Demos.HSP-markdown.html#29092" class="Module">_</a> <a id="29094" class="Symbol">{</a><a id="29095" href="Demos.HSP-markdown.html#29095" class="Bound">ğ‘¨</a> <a id="29097" class="Symbol">:</a> <a id="29099" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="29107" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="29109" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="29111" class="Symbol">}</a> <a id="29113" class="Symbol">{</a><a id="29114" href="Demos.HSP-markdown.html#29114" class="Bound">ğ‘©</a> <a id="29116" class="Symbol">:</a> <a id="29118" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="29126" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="29128" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="29130" class="Symbol">}</a> <a id="29132" class="Symbol">{</a><a id="29133" href="Demos.HSP-markdown.html#29133" class="Bound">ğ‘ª</a> <a id="29135" class="Symbol">:</a> <a id="29137" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="29145" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a> <a id="29147" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="29149" class="Symbol">}</a> <a id="29151" class="Keyword">where</a>

  <a id="29160" href="Demos.HSP-markdown.html#29160" class="Function">âˆ˜-hom</a> <a id="29166" class="Symbol">:</a> <a id="29168" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="29172" href="Demos.HSP-markdown.html#29095" class="Bound">ğ‘¨</a> <a id="29174" href="Demos.HSP-markdown.html#29114" class="Bound">ğ‘©</a> <a id="29176" class="Symbol">â†’</a> <a id="29178" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="29182" href="Demos.HSP-markdown.html#29114" class="Bound">ğ‘©</a> <a id="29184" href="Demos.HSP-markdown.html#29133" class="Bound">ğ‘ª</a>  <a id="29187" class="Symbol">â†’</a> <a id="29189" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="29193" href="Demos.HSP-markdown.html#29095" class="Bound">ğ‘¨</a> <a id="29195" href="Demos.HSP-markdown.html#29133" class="Bound">ğ‘ª</a>
  <a id="29199" href="Demos.HSP-markdown.html#29160" class="Function">âˆ˜-hom</a> <a id="29205" class="Symbol">(</a><a id="29206" href="Demos.HSP-markdown.html#29206" class="Bound">h</a> <a id="29208" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29210" href="Demos.HSP-markdown.html#29210" class="Bound">hhom</a><a id="29214" class="Symbol">)</a> <a id="29216" class="Symbol">(</a><a id="29217" href="Demos.HSP-markdown.html#29217" class="Bound">g</a> <a id="29219" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29221" href="Demos.HSP-markdown.html#29221" class="Bound">ghom</a><a id="29225" class="Symbol">)</a> <a id="29227" class="Symbol">=</a> <a id="29229" class="Symbol">(</a><a id="29230" href="Demos.HSP-markdown.html#29217" class="Bound">g</a> <a id="29232" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="29236" href="Demos.HSP-markdown.html#29206" class="Bound">h</a><a id="29237" class="Symbol">)</a> <a id="29239" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29241" href="Demos.HSP-markdown.html#28659" class="Function">âˆ˜-is-hom</a> <a id="29250" href="Demos.HSP-markdown.html#29210" class="Bound">hhom</a> <a id="29255" href="Demos.HSP-markdown.html#29221" class="Bound">ghom</a>

  <a id="29263" href="Demos.HSP-markdown.html#29263" class="Function">âˆ˜-epi</a> <a id="29269" class="Symbol">:</a> <a id="29271" href="Demos.HSP-markdown.html#27650" class="Function">epi</a> <a id="29275" href="Demos.HSP-markdown.html#29095" class="Bound">ğ‘¨</a> <a id="29277" href="Demos.HSP-markdown.html#29114" class="Bound">ğ‘©</a> <a id="29279" class="Symbol">â†’</a> <a id="29281" href="Demos.HSP-markdown.html#27650" class="Function">epi</a> <a id="29285" href="Demos.HSP-markdown.html#29114" class="Bound">ğ‘©</a> <a id="29287" href="Demos.HSP-markdown.html#29133" class="Bound">ğ‘ª</a>  <a id="29290" class="Symbol">â†’</a> <a id="29292" href="Demos.HSP-markdown.html#27650" class="Function">epi</a> <a id="29296" href="Demos.HSP-markdown.html#29095" class="Bound">ğ‘¨</a> <a id="29298" href="Demos.HSP-markdown.html#29133" class="Bound">ğ‘ª</a>
  <a id="29302" href="Demos.HSP-markdown.html#29263" class="Function">âˆ˜-epi</a> <a id="29308" class="Symbol">(</a><a id="29309" href="Demos.HSP-markdown.html#29309" class="Bound">h</a> <a id="29311" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29313" href="Demos.HSP-markdown.html#29313" class="Bound">hepi</a><a id="29317" class="Symbol">)</a> <a id="29319" class="Symbol">(</a><a id="29320" href="Demos.HSP-markdown.html#29320" class="Bound">g</a> <a id="29322" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29324" href="Demos.HSP-markdown.html#29324" class="Bound">gepi</a><a id="29328" class="Symbol">)</a> <a id="29330" class="Symbol">=</a> <a id="29332" class="Symbol">(</a><a id="29333" href="Demos.HSP-markdown.html#29320" class="Bound">g</a> <a id="29335" href="Demos.HSP-markdown.html#11302" class="Function Operator">âŸ¨âˆ˜âŸ©</a> <a id="29339" href="Demos.HSP-markdown.html#29309" class="Bound">h</a><a id="29340" class="Symbol">)</a> <a id="29342" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29344" href="Demos.HSP-markdown.html#28855" class="Function">âˆ˜-is-epi</a> <a id="29353" href="Demos.HSP-markdown.html#29313" class="Bound">hepi</a> <a id="29358" href="Demos.HSP-markdown.html#29324" class="Bound">gepi</a>
</pre>


#### <a id="universe-lifting-of-homomorphisms">Universe lifting of homomorphisms</a>

First we define the identity homomorphism for setoid algebras and then we prove that the operations of lifting and lowering of a setoid algebra are homomorphisms.

<pre class="Agda">

<a id="ğ’¾ğ’¹"></a><a id="29646" href="Demos.HSP-markdown.html#29646" class="Function">ğ’¾ğ’¹</a> <a id="29649" class="Symbol">:</a> <a id="29651" class="Symbol">{</a><a id="29652" href="Demos.HSP-markdown.html#29652" class="Bound">ğ‘¨</a> <a id="29654" class="Symbol">:</a> <a id="29656" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="29664" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="29666" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="29668" class="Symbol">}</a> <a id="29670" class="Symbol">â†’</a> <a id="29672" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="29676" href="Demos.HSP-markdown.html#29652" class="Bound">ğ‘¨</a> <a id="29678" href="Demos.HSP-markdown.html#29652" class="Bound">ğ‘¨</a>
<a id="29680" href="Demos.HSP-markdown.html#29646" class="Function">ğ’¾ğ’¹</a> <a id="29683" class="Symbol">{</a><a id="29684" class="Argument">ğ‘¨</a> <a id="29686" class="Symbol">=</a> <a id="29688" href="Demos.HSP-markdown.html#29688" class="Bound">ğ‘¨</a><a id="29689" class="Symbol">}</a> <a id="29691" class="Symbol">=</a> <a id="29693" href="Demos.HSP-markdown.html#11231" class="Function">ğ‘–ğ‘‘</a> <a id="29696" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="29698" href="Demos.HSP-markdown.html#27033" class="InductiveConstructor">mkhom</a> <a id="29704" class="Symbol">(</a><a id="29705" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="29715" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a><a id="29721" class="Symbol">)</a> <a id="29723" class="Keyword">where</a> <a id="29729" class="Keyword">open</a> <a id="29734" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="29741" class="Symbol">(</a> <a id="29743" href="Demos.HSP-markdown.html#22547" class="Field">Domain</a> <a id="29750" href="Demos.HSP-markdown.html#29688" class="Bound">ğ‘¨</a> <a id="29752" class="Symbol">)</a> <a id="29754" class="Keyword">using</a> <a id="29760" class="Symbol">(</a> <a id="29762" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="29772" class="Symbol">)</a>

<a id="29775" class="Keyword">module</a> <a id="29782" href="Demos.HSP-markdown.html#29782" class="Module">_</a> <a id="29784" class="Symbol">{</a><a id="29785" href="Demos.HSP-markdown.html#29785" class="Bound">ğ‘¨</a> <a id="29787" class="Symbol">:</a> <a id="29789" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="29797" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="29799" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="29801" class="Symbol">}{</a><a id="29803" href="Demos.HSP-markdown.html#29803" class="Bound">â„“</a> <a id="29805" class="Symbol">:</a> <a id="29807" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="29812" class="Symbol">}</a> <a id="29814" class="Keyword">where</a>
 <a id="29821" class="Keyword">open</a> <a id="29826" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="29833" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="29836" href="Demos.HSP-markdown.html#29785" class="Bound">ğ‘¨</a> <a id="29838" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>              <a id="29853" class="Keyword">using</a> <a id="29859" class="Symbol">(</a> <a id="29861" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="29871" class="Symbol">)</a>  <a id="29874" class="Keyword">renaming</a> <a id="29883" class="Symbol">(</a> <a id="29885" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="29889" class="Symbol">to</a> <a id="29892" class="Field Operator">_â‰ˆâ‚_</a> <a id="29897" class="Symbol">;</a> <a id="29899" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="29904" class="Symbol">to</a> <a id="29907" class="Function">reflâ‚</a> <a id="29913" class="Symbol">)</a>
 <a id="29916" class="Keyword">open</a> <a id="29921" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="29928" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="29931" href="Demos.HSP-markdown.html#24232" class="Function">Lift-AlgË¡</a> <a id="29941" href="Demos.HSP-markdown.html#29785" class="Bound">ğ‘¨</a> <a id="29943" href="Demos.HSP-markdown.html#29803" class="Bound">â„“</a> <a id="29945" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>  <a id="29948" class="Keyword">using</a> <a id="29954" class="Symbol">()</a>             <a id="29969" class="Keyword">renaming</a> <a id="29978" class="Symbol">(</a> <a id="29980" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="29984" class="Symbol">to</a> <a id="29987" class="Field Operator">_â‰ˆË¡_</a> <a id="29992" class="Symbol">;</a> <a id="29994" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="29999" class="Symbol">to</a> <a id="30002" class="Function">reflË¡</a><a id="30007" class="Symbol">)</a>
 <a id="30010" class="Keyword">open</a> <a id="30015" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="30022" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="30025" href="Demos.HSP-markdown.html#24614" class="Function">Lift-AlgÊ³</a> <a id="30035" href="Demos.HSP-markdown.html#29785" class="Bound">ğ‘¨</a> <a id="30037" href="Demos.HSP-markdown.html#29803" class="Bound">â„“</a> <a id="30039" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>  <a id="30042" class="Keyword">using</a> <a id="30048" class="Symbol">()</a>             <a id="30063" class="Keyword">renaming</a> <a id="30072" class="Symbol">(</a> <a id="30074" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="30078" class="Symbol">to</a> <a id="30081" class="Field Operator">_â‰ˆÊ³_</a> <a id="30086" class="Symbol">;</a> <a id="30088" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="30093" class="Symbol">to</a> <a id="30096" class="Function">reflÊ³</a><a id="30101" class="Symbol">)</a>
 <a id="30104" class="Keyword">open</a> <a id="30109" href="Level.html" class="Module">Level</a>

 <a id="30117" href="Demos.HSP-markdown.html#30117" class="Function">ToLiftË¡</a> <a id="30125" class="Symbol">:</a> <a id="30127" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="30131" href="Demos.HSP-markdown.html#29785" class="Bound">ğ‘¨</a> <a id="30133" class="Symbol">(</a><a id="30134" href="Demos.HSP-markdown.html#24232" class="Function">Lift-AlgË¡</a> <a id="30144" href="Demos.HSP-markdown.html#29785" class="Bound">ğ‘¨</a> <a id="30146" href="Demos.HSP-markdown.html#29803" class="Bound">â„“</a><a id="30147" class="Symbol">)</a>
 <a id="30150" href="Demos.HSP-markdown.html#30117" class="Function">ToLiftË¡</a> <a id="30158" class="Symbol">=</a> <a id="30160" class="Keyword">record</a> <a id="30167" class="Symbol">{</a> <a id="30169" href="Function.Bundles.html#1919" class="Field">f</a> <a id="30171" class="Symbol">=</a> <a id="30173" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="30178" class="Symbol">;</a> <a id="30180" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="30185" class="Symbol">=</a> <a id="30187" href="Function.Base.html#615" class="Function">id</a> <a id="30190" class="Symbol">}</a> <a id="30192" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="30194" href="Demos.HSP-markdown.html#27033" class="InductiveConstructor">mkhom</a> <a id="30200" class="Symbol">(</a><a id="30201" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="30211" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a><a id="30217" class="Symbol">)</a>

 <a id="30221" href="Demos.HSP-markdown.html#30221" class="Function">FromLiftË¡</a> <a id="30231" class="Symbol">:</a> <a id="30233" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="30237" class="Symbol">(</a><a id="30238" href="Demos.HSP-markdown.html#24232" class="Function">Lift-AlgË¡</a> <a id="30248" href="Demos.HSP-markdown.html#29785" class="Bound">ğ‘¨</a> <a id="30250" href="Demos.HSP-markdown.html#29803" class="Bound">â„“</a><a id="30251" class="Symbol">)</a> <a id="30253" href="Demos.HSP-markdown.html#29785" class="Bound">ğ‘¨</a>
 <a id="30256" href="Demos.HSP-markdown.html#30221" class="Function">FromLiftË¡</a> <a id="30266" class="Symbol">=</a> <a id="30268" class="Keyword">record</a> <a id="30275" class="Symbol">{</a> <a id="30277" href="Function.Bundles.html#1919" class="Field">f</a> <a id="30279" class="Symbol">=</a> <a id="30281" href="Level.html#470" class="Field">lower</a> <a id="30287" class="Symbol">;</a> <a id="30289" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="30294" class="Symbol">=</a> <a id="30296" href="Function.Base.html#615" class="Function">id</a> <a id="30299" class="Symbol">}</a> <a id="30301" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="30303" href="Demos.HSP-markdown.html#27033" class="InductiveConstructor">mkhom</a> <a id="30309" href="Demos.HSP-markdown.html#30002" class="Function">reflË¡</a>

 <a id="30317" href="Demos.HSP-markdown.html#30317" class="Function">ToFromLiftË¡</a> <a id="30329" class="Symbol">:</a> <a id="30331" class="Symbol">âˆ€</a> <a id="30333" href="Demos.HSP-markdown.html#30333" class="Bound">b</a> <a id="30335" class="Symbol">â†’</a>  <a id="30338" class="Symbol">(</a><a id="30339" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30341" href="Demos.HSP-markdown.html#30117" class="Function">ToLiftË¡</a> <a id="30349" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30351" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="30355" class="Symbol">(</a><a id="30356" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30358" href="Demos.HSP-markdown.html#30221" class="Function">FromLiftË¡</a> <a id="30368" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30370" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="30374" href="Demos.HSP-markdown.html#30333" class="Bound">b</a><a id="30375" class="Symbol">))</a> <a id="30378" href="Demos.HSP-markdown.html#29987" class="Function Operator">â‰ˆË¡</a> <a id="30381" href="Demos.HSP-markdown.html#30333" class="Bound">b</a>
 <a id="30384" href="Demos.HSP-markdown.html#30317" class="Function">ToFromLiftË¡</a> <a id="30396" href="Demos.HSP-markdown.html#30396" class="Bound">b</a> <a id="30398" class="Symbol">=</a> <a id="30400" href="Demos.HSP-markdown.html#29907" class="Function">reflâ‚</a>

 <a id="30408" href="Demos.HSP-markdown.html#30408" class="Function">FromToLiftË¡</a> <a id="30420" class="Symbol">:</a> <a id="30422" class="Symbol">âˆ€</a> <a id="30424" href="Demos.HSP-markdown.html#30424" class="Bound">a</a> <a id="30426" class="Symbol">â†’</a> <a id="30428" class="Symbol">(</a><a id="30429" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30431" href="Demos.HSP-markdown.html#30221" class="Function">FromLiftË¡</a> <a id="30441" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30443" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="30447" class="Symbol">(</a><a id="30448" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30450" href="Demos.HSP-markdown.html#30117" class="Function">ToLiftË¡</a> <a id="30458" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30460" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="30464" href="Demos.HSP-markdown.html#30424" class="Bound">a</a><a id="30465" class="Symbol">))</a> <a id="30468" href="Demos.HSP-markdown.html#29892" class="Function Operator">â‰ˆâ‚</a> <a id="30471" href="Demos.HSP-markdown.html#30424" class="Bound">a</a>
 <a id="30474" href="Demos.HSP-markdown.html#30408" class="Function">FromToLiftË¡</a> <a id="30486" href="Demos.HSP-markdown.html#30486" class="Bound">a</a> <a id="30488" class="Symbol">=</a> <a id="30490" href="Demos.HSP-markdown.html#29907" class="Function">reflâ‚</a>

 <a id="30498" href="Demos.HSP-markdown.html#30498" class="Function">ToLiftÊ³</a> <a id="30506" class="Symbol">:</a> <a id="30508" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="30512" href="Demos.HSP-markdown.html#29785" class="Bound">ğ‘¨</a> <a id="30514" class="Symbol">(</a><a id="30515" href="Demos.HSP-markdown.html#24614" class="Function">Lift-AlgÊ³</a> <a id="30525" href="Demos.HSP-markdown.html#29785" class="Bound">ğ‘¨</a> <a id="30527" href="Demos.HSP-markdown.html#29803" class="Bound">â„“</a><a id="30528" class="Symbol">)</a>
 <a id="30531" href="Demos.HSP-markdown.html#30498" class="Function">ToLiftÊ³</a> <a id="30539" class="Symbol">=</a> <a id="30541" class="Keyword">record</a> <a id="30548" class="Symbol">{</a> <a id="30550" href="Function.Bundles.html#1919" class="Field">f</a> <a id="30552" class="Symbol">=</a> <a id="30554" href="Function.Base.html#615" class="Function">id</a> <a id="30557" class="Symbol">;</a> <a id="30559" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="30564" class="Symbol">=</a> <a id="30566" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="30571" class="Symbol">}</a> <a id="30573" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="30575" href="Demos.HSP-markdown.html#27033" class="InductiveConstructor">mkhom</a> <a id="30581" class="Symbol">(</a><a id="30582" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="30587" class="Symbol">(</a><a id="30588" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="30598" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a><a id="30604" class="Symbol">))</a>

 <a id="30609" href="Demos.HSP-markdown.html#30609" class="Function">FromLiftÊ³</a> <a id="30619" class="Symbol">:</a> <a id="30621" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="30625" class="Symbol">(</a><a id="30626" href="Demos.HSP-markdown.html#24614" class="Function">Lift-AlgÊ³</a> <a id="30636" href="Demos.HSP-markdown.html#29785" class="Bound">ğ‘¨</a> <a id="30638" href="Demos.HSP-markdown.html#29803" class="Bound">â„“</a><a id="30639" class="Symbol">)</a> <a id="30641" href="Demos.HSP-markdown.html#29785" class="Bound">ğ‘¨</a>
 <a id="30644" href="Demos.HSP-markdown.html#30609" class="Function">FromLiftÊ³</a> <a id="30654" class="Symbol">=</a> <a id="30656" class="Keyword">record</a> <a id="30663" class="Symbol">{</a> <a id="30665" href="Function.Bundles.html#1919" class="Field">f</a> <a id="30667" class="Symbol">=</a> <a id="30669" href="Function.Base.html#615" class="Function">id</a> <a id="30672" class="Symbol">;</a> <a id="30674" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="30679" class="Symbol">=</a> <a id="30681" href="Level.html#470" class="Field">lower</a> <a id="30687" class="Symbol">}</a> <a id="30689" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="30691" href="Demos.HSP-markdown.html#27033" class="InductiveConstructor">mkhom</a> <a id="30697" href="Demos.HSP-markdown.html#30002" class="Function">reflË¡</a>

 <a id="30705" href="Demos.HSP-markdown.html#30705" class="Function">ToFromLiftÊ³</a> <a id="30717" class="Symbol">:</a> <a id="30719" class="Symbol">âˆ€</a> <a id="30721" href="Demos.HSP-markdown.html#30721" class="Bound">b</a> <a id="30723" class="Symbol">â†’</a> <a id="30725" class="Symbol">(</a><a id="30726" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30728" href="Demos.HSP-markdown.html#30498" class="Function">ToLiftÊ³</a> <a id="30736" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30738" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="30742" class="Symbol">(</a><a id="30743" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30745" href="Demos.HSP-markdown.html#30609" class="Function">FromLiftÊ³</a> <a id="30755" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30757" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="30761" href="Demos.HSP-markdown.html#30721" class="Bound">b</a><a id="30762" class="Symbol">))</a> <a id="30765" href="Demos.HSP-markdown.html#30081" class="Function Operator">â‰ˆÊ³</a> <a id="30768" href="Demos.HSP-markdown.html#30721" class="Bound">b</a>
 <a id="30771" href="Demos.HSP-markdown.html#30705" class="Function">ToFromLiftÊ³</a> <a id="30783" href="Demos.HSP-markdown.html#30783" class="Bound">b</a> <a id="30785" class="Symbol">=</a> <a id="30787" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="30792" href="Demos.HSP-markdown.html#29907" class="Function">reflâ‚</a>

 <a id="30800" href="Demos.HSP-markdown.html#30800" class="Function">FromToLiftÊ³</a> <a id="30812" class="Symbol">:</a> <a id="30814" class="Symbol">âˆ€</a> <a id="30816" href="Demos.HSP-markdown.html#30816" class="Bound">a</a> <a id="30818" class="Symbol">â†’</a> <a id="30820" class="Symbol">(</a><a id="30821" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30823" href="Demos.HSP-markdown.html#30609" class="Function">FromLiftÊ³</a> <a id="30833" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30835" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="30839" class="Symbol">(</a><a id="30840" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30842" href="Demos.HSP-markdown.html#30498" class="Function">ToLiftÊ³</a> <a id="30850" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="30852" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="30856" href="Demos.HSP-markdown.html#30816" class="Bound">a</a><a id="30857" class="Symbol">))</a> <a id="30860" href="Demos.HSP-markdown.html#29892" class="Function Operator">â‰ˆâ‚</a> <a id="30863" href="Demos.HSP-markdown.html#30816" class="Bound">a</a>
 <a id="30866" href="Demos.HSP-markdown.html#30800" class="Function">FromToLiftÊ³</a> <a id="30878" href="Demos.HSP-markdown.html#30878" class="Bound">a</a> <a id="30880" class="Symbol">=</a> <a id="30882" href="Demos.HSP-markdown.html#29907" class="Function">reflâ‚</a>


<a id="30890" class="Keyword">module</a> <a id="30897" href="Demos.HSP-markdown.html#30897" class="Module">_</a> <a id="30899" class="Symbol">{</a><a id="30900" href="Demos.HSP-markdown.html#30900" class="Bound">ğ‘¨</a> <a id="30902" class="Symbol">:</a> <a id="30904" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="30912" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="30914" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="30916" class="Symbol">}{</a><a id="30918" href="Demos.HSP-markdown.html#30918" class="Bound">â„“</a> <a id="30920" href="Demos.HSP-markdown.html#30920" class="Bound">r</a> <a id="30922" class="Symbol">:</a> <a id="30924" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="30929" class="Symbol">}</a> <a id="30931" class="Keyword">where</a>
 <a id="30938" class="Keyword">open</a>  <a id="30944" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="30951" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="30954" href="Demos.HSP-markdown.html#30900" class="Bound">ğ‘¨</a> <a id="30956" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>               <a id="30972" class="Keyword">using</a> <a id="30978" class="Symbol">(</a> <a id="30980" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="30985" class="Symbol">)</a>
 <a id="30988" class="Keyword">open</a>  <a id="30994" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="31001" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="31004" href="Demos.HSP-markdown.html#25122" class="Function">Lift-Alg</a> <a id="31013" href="Demos.HSP-markdown.html#30900" class="Bound">ğ‘¨</a> <a id="31015" href="Demos.HSP-markdown.html#30918" class="Bound">â„“</a> <a id="31017" href="Demos.HSP-markdown.html#30920" class="Bound">r</a> <a id="31019" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>  <a id="31022" class="Keyword">using</a> <a id="31028" class="Symbol">(</a> <a id="31030" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="31034" class="Symbol">)</a>
 <a id="31037" class="Keyword">open</a>  <a id="31043" href="Level.html" class="Module">Level</a>

 <a id="31051" href="Demos.HSP-markdown.html#31051" class="Function">ToLift</a> <a id="31058" class="Symbol">:</a> <a id="31060" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="31064" href="Demos.HSP-markdown.html#30900" class="Bound">ğ‘¨</a> <a id="31066" class="Symbol">(</a><a id="31067" href="Demos.HSP-markdown.html#25122" class="Function">Lift-Alg</a> <a id="31076" href="Demos.HSP-markdown.html#30900" class="Bound">ğ‘¨</a> <a id="31078" href="Demos.HSP-markdown.html#30918" class="Bound">â„“</a> <a id="31080" href="Demos.HSP-markdown.html#30920" class="Bound">r</a><a id="31081" class="Symbol">)</a>
 <a id="31084" href="Demos.HSP-markdown.html#31051" class="Function">ToLift</a> <a id="31091" class="Symbol">=</a> <a id="31093" href="Demos.HSP-markdown.html#29160" class="Function">âˆ˜-hom</a> <a id="31099" href="Demos.HSP-markdown.html#30117" class="Function">ToLiftË¡</a> <a id="31107" href="Demos.HSP-markdown.html#30498" class="Function">ToLiftÊ³</a>

 <a id="31117" href="Demos.HSP-markdown.html#31117" class="Function">FromLift</a> <a id="31126" class="Symbol">:</a> <a id="31128" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="31132" class="Symbol">(</a><a id="31133" href="Demos.HSP-markdown.html#25122" class="Function">Lift-Alg</a> <a id="31142" href="Demos.HSP-markdown.html#30900" class="Bound">ğ‘¨</a> <a id="31144" href="Demos.HSP-markdown.html#30918" class="Bound">â„“</a> <a id="31146" href="Demos.HSP-markdown.html#30920" class="Bound">r</a><a id="31147" class="Symbol">)</a> <a id="31149" href="Demos.HSP-markdown.html#30900" class="Bound">ğ‘¨</a>
 <a id="31152" href="Demos.HSP-markdown.html#31117" class="Function">FromLift</a> <a id="31161" class="Symbol">=</a> <a id="31163" href="Demos.HSP-markdown.html#29160" class="Function">âˆ˜-hom</a> <a id="31169" href="Demos.HSP-markdown.html#30609" class="Function">FromLiftÊ³</a> <a id="31179" href="Demos.HSP-markdown.html#30221" class="Function">FromLiftË¡</a>

 <a id="31191" href="Demos.HSP-markdown.html#31191" class="Function">ToFromLift</a> <a id="31202" class="Symbol">:</a> <a id="31204" class="Symbol">âˆ€</a> <a id="31206" href="Demos.HSP-markdown.html#31206" class="Bound">b</a> <a id="31208" class="Symbol">â†’</a> <a id="31210" class="Symbol">(</a><a id="31211" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="31213" href="Demos.HSP-markdown.html#31051" class="Function">ToLift</a> <a id="31220" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="31222" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="31226" class="Symbol">(</a><a id="31227" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="31229" href="Demos.HSP-markdown.html#31117" class="Function">FromLift</a> <a id="31238" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="31240" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="31244" href="Demos.HSP-markdown.html#31206" class="Bound">b</a><a id="31245" class="Symbol">))</a> <a id="31248" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="31250" href="Demos.HSP-markdown.html#31206" class="Bound">b</a>
 <a id="31253" href="Demos.HSP-markdown.html#31191" class="Function">ToFromLift</a> <a id="31264" href="Demos.HSP-markdown.html#31264" class="Bound">b</a> <a id="31266" class="Symbol">=</a> <a id="31268" href="Level.html#457" class="InductiveConstructor">lift</a> <a id="31273" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>

 <a id="31280" href="Demos.HSP-markdown.html#31280" class="Function">ToLift-epi</a> <a id="31291" class="Symbol">:</a> <a id="31293" href="Demos.HSP-markdown.html#27650" class="Function">epi</a> <a id="31297" href="Demos.HSP-markdown.html#30900" class="Bound">ğ‘¨</a> <a id="31299" class="Symbol">(</a><a id="31300" href="Demos.HSP-markdown.html#25122" class="Function">Lift-Alg</a> <a id="31309" href="Demos.HSP-markdown.html#30900" class="Bound">ğ‘¨</a> <a id="31311" href="Demos.HSP-markdown.html#30918" class="Bound">â„“</a> <a id="31313" href="Demos.HSP-markdown.html#30920" class="Bound">r</a><a id="31314" class="Symbol">)</a>
 <a id="31317" href="Demos.HSP-markdown.html#31280" class="Function">ToLift-epi</a> <a id="31328" class="Symbol">=</a> <a id="31330" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="31332" href="Demos.HSP-markdown.html#31051" class="Function">ToLift</a> <a id="31339" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="31341" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a>  <a id="31344" class="Keyword">record</a> <a id="31351" class="Symbol">{</a> <a id="31353" href="Demos.HSP-markdown.html#27550" class="Field">isHom</a> <a id="31359" class="Symbol">=</a> <a id="31361" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="31363" href="Demos.HSP-markdown.html#31051" class="Function">ToLift</a> <a id="31370" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>
                            <a id="31400" class="Symbol">;</a> <a id="31402" href="Demos.HSP-markdown.html#27575" class="Field">isSurjective</a> <a id="31415" class="Symbol">=</a> <a id="31417" class="Symbol">Î»</a> <a id="31419" class="Symbol">{</a><a id="31420" href="Demos.HSP-markdown.html#31420" class="Bound">y</a><a id="31421" class="Symbol">}</a> <a id="31423" class="Symbol">â†’</a> <a id="31425" href="Demos.HSP-markdown.html#12420" class="InductiveConstructor">eq</a> <a id="31428" class="Symbol">(</a><a id="31429" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="31431" href="Demos.HSP-markdown.html#31117" class="Function">FromLift</a> <a id="31440" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="31442" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="31446" href="Demos.HSP-markdown.html#31420" class="Bound">y</a><a id="31447" class="Symbol">)</a> <a id="31449" class="Symbol">(</a><a id="31450" href="Demos.HSP-markdown.html#31191" class="Function">ToFromLift</a> <a id="31461" href="Demos.HSP-markdown.html#31420" class="Bound">y</a><a id="31462" class="Symbol">)</a> <a id="31464" class="Symbol">}</a>
</pre>


<!--

### <a id="homomorphisms-of-product-algebras">Homomorphisms of product algebras</a>

Suppose we have an algebra `ğ‘¨`, a type `I : Type ğ“˜`, and a family `â„¬ : I â†’ Algebra Î² ğ‘†` of algebras.  We sometimes refer to the inhabitants of `I` as *indices*, and call `â„¬` an *indexed family of algebras*.
If in addition we have a family `ğ’½ : (i : I) â†’ hom ğ‘¨ (â„¬ i)` of homomorphisms, then we can construct a homomorphism from `ğ‘¨` to the product `â¨… â„¬` in the natural way.  Here is how we implement these notions in dependent type theory (cf. the [Homomorphisms.Func.Products][] module of the [Agda Universal Algebra Library][]).

-->

<pre class="Agda">

<a id="32125" class="Keyword">module</a> <a id="32132" href="Demos.HSP-markdown.html#32132" class="Module">_</a> <a id="32134" class="Symbol">{</a><a id="32135" href="Demos.HSP-markdown.html#32135" class="Bound">Î¹</a> <a id="32137" class="Symbol">:</a> <a id="32139" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="32144" class="Symbol">}{</a><a id="32146" href="Demos.HSP-markdown.html#32146" class="Bound">I</a> <a id="32148" class="Symbol">:</a> <a id="32150" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="32155" href="Demos.HSP-markdown.html#32135" class="Bound">Î¹</a><a id="32156" class="Symbol">}{</a><a id="32158" href="Demos.HSP-markdown.html#32158" class="Bound">ğ‘¨</a> <a id="32160" class="Symbol">:</a> <a id="32162" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="32170" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="32172" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="32174" class="Symbol">}(</a><a id="32176" href="Demos.HSP-markdown.html#32176" class="Bound">â„¬</a> <a id="32178" class="Symbol">:</a> <a id="32180" href="Demos.HSP-markdown.html#32146" class="Bound">I</a> <a id="32182" class="Symbol">â†’</a> <a id="32184" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="32192" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="32194" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="32196" class="Symbol">)</a>  <a id="32199" class="Keyword">where</a>
 <a id="32206" href="Demos.HSP-markdown.html#32206" class="Function">â¨…-hom-co</a> <a id="32215" class="Symbol">:</a> <a id="32217" class="Symbol">(âˆ€(</a><a id="32220" href="Demos.HSP-markdown.html#32220" class="Bound">i</a> <a id="32222" class="Symbol">:</a> <a id="32224" href="Demos.HSP-markdown.html#32146" class="Bound">I</a><a id="32225" class="Symbol">)</a> <a id="32227" class="Symbol">â†’</a> <a id="32229" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="32233" href="Demos.HSP-markdown.html#32158" class="Bound">ğ‘¨</a> <a id="32235" class="Symbol">(</a><a id="32236" href="Demos.HSP-markdown.html#32176" class="Bound">â„¬</a> <a id="32238" href="Demos.HSP-markdown.html#32220" class="Bound">i</a><a id="32239" class="Symbol">))</a> <a id="32242" class="Symbol">â†’</a> <a id="32244" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="32248" href="Demos.HSP-markdown.html#32158" class="Bound">ğ‘¨</a> <a id="32250" class="Symbol">(</a><a id="32251" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="32253" href="Demos.HSP-markdown.html#32176" class="Bound">â„¬</a><a id="32254" class="Symbol">)</a>
 <a id="32257" href="Demos.HSP-markdown.html#32206" class="Function">â¨…-hom-co</a> <a id="32266" href="Demos.HSP-markdown.html#32266" class="Bound">ğ’½</a> <a id="32268" class="Symbol">=</a> <a id="32270" href="Demos.HSP-markdown.html#32289" class="Function">h</a> <a id="32272" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="32274" href="Demos.HSP-markdown.html#32379" class="Function">hhom</a>
  <a id="32281" class="Keyword">where</a>
  <a id="32289" href="Demos.HSP-markdown.html#32289" class="Function">h</a> <a id="32291" class="Symbol">:</a> <a id="32293" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="32296" href="Demos.HSP-markdown.html#32158" class="Bound">ğ‘¨</a> <a id="32298" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="32300" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="32302" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="32305" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="32307" href="Demos.HSP-markdown.html#32176" class="Bound">â„¬</a> <a id="32309" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>
  <a id="32313" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="32319" href="Demos.HSP-markdown.html#32289" class="Function">h</a> <a id="32321" class="Symbol">=</a> <a id="32323" class="Symbol">Î»</a> <a id="32325" href="Demos.HSP-markdown.html#32325" class="Bound">a</a> <a id="32327" href="Demos.HSP-markdown.html#32327" class="Bound">i</a> <a id="32329" class="Symbol">â†’</a> <a id="32331" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="32333" href="Demos.HSP-markdown.html#32266" class="Bound">ğ’½</a> <a id="32335" href="Demos.HSP-markdown.html#32327" class="Bound">i</a> <a id="32337" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="32339" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="32343" href="Demos.HSP-markdown.html#32325" class="Bound">a</a>
  <a id="32347" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="32352" href="Demos.HSP-markdown.html#32289" class="Function">h</a> <a id="32354" href="Demos.HSP-markdown.html#32354" class="Bound">xy</a> <a id="32357" href="Demos.HSP-markdown.html#32357" class="Bound">i</a> <a id="32359" class="Symbol">=</a> <a id="32361" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="32366" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="32368" href="Demos.HSP-markdown.html#32266" class="Bound">ğ’½</a> <a id="32370" href="Demos.HSP-markdown.html#32357" class="Bound">i</a> <a id="32372" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="32374" href="Demos.HSP-markdown.html#32354" class="Bound">xy</a>
  <a id="32379" href="Demos.HSP-markdown.html#32379" class="Function">hhom</a> <a id="32384" class="Symbol">:</a> <a id="32386" href="Demos.HSP-markdown.html#26964" class="Record">IsHom</a> <a id="32392" href="Demos.HSP-markdown.html#32158" class="Bound">ğ‘¨</a> <a id="32394" class="Symbol">(</a><a id="32395" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="32397" href="Demos.HSP-markdown.html#32176" class="Bound">â„¬</a><a id="32398" class="Symbol">)</a> <a id="32400" href="Demos.HSP-markdown.html#32289" class="Function">h</a>
  <a id="32404" href="Demos.HSP-markdown.html#27047" class="Field">compatible</a> <a id="32415" href="Demos.HSP-markdown.html#32379" class="Function">hhom</a> <a id="32420" class="Symbol">=</a> <a id="32422" class="Symbol">Î»</a> <a id="32424" href="Demos.HSP-markdown.html#32424" class="Bound">i</a> <a id="32426" class="Symbol">â†’</a> <a id="32428" href="Demos.HSP-markdown.html#27047" class="Field">compatible</a> <a id="32439" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="32441" href="Demos.HSP-markdown.html#32266" class="Bound">ğ’½</a> <a id="32443" href="Demos.HSP-markdown.html#32424" class="Bound">i</a> <a id="32445" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>
</pre>



### <a id="factorization-of-homomorphisms">Factorization of homomorphisms</a>

If `g : hom ğ‘¨ ğ‘©`, `h : hom ğ‘¨ ğ‘ª`, `h` is surjective, and `ker h âŠ† ker g`, then there exists `Ï† : hom ğ‘ª ğ‘©` such that `g = Ï† âˆ˜ h` (cf. the [Homomorphisms.Func.Factor][] module of the [Agda Universal Algebra Library][]).

<pre class="Agda">

<a id="32772" class="Keyword">module</a> <a id="32779" href="Demos.HSP-markdown.html#32779" class="Module">_</a> <a id="32781" class="Symbol">{</a><a id="32782" href="Demos.HSP-markdown.html#32782" class="Bound">ğ‘¨</a> <a id="32784" class="Symbol">:</a> <a id="32786" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="32794" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="32796" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="32798" class="Symbol">}(</a><a id="32800" href="Demos.HSP-markdown.html#32800" class="Bound">ğ‘©</a> <a id="32802" class="Symbol">:</a> <a id="32804" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="32812" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="32814" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="32816" class="Symbol">){</a><a id="32818" href="Demos.HSP-markdown.html#32818" class="Bound">ğ‘ª</a> <a id="32820" class="Symbol">:</a> <a id="32822" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="32830" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a> <a id="32832" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="32834" class="Symbol">}</a>
         <a id="32845" class="Symbol">(</a><a id="32846" href="Demos.HSP-markdown.html#32846" class="Bound">gh</a> <a id="32849" class="Symbol">:</a> <a id="32851" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="32855" href="Demos.HSP-markdown.html#32782" class="Bound">ğ‘¨</a> <a id="32857" href="Demos.HSP-markdown.html#32800" class="Bound">ğ‘©</a><a id="32858" class="Symbol">)(</a><a id="32860" href="Demos.HSP-markdown.html#32860" class="Bound">hh</a> <a id="32863" class="Symbol">:</a> <a id="32865" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="32869" href="Demos.HSP-markdown.html#32782" class="Bound">ğ‘¨</a> <a id="32871" href="Demos.HSP-markdown.html#32818" class="Bound">ğ‘ª</a><a id="32872" class="Symbol">)</a> <a id="32874" class="Keyword">where</a>
 <a id="32881" class="Keyword">open</a> <a id="32886" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="32893" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="32896" href="Demos.HSP-markdown.html#32800" class="Bound">ğ‘©</a> <a id="32898" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="32900" class="Keyword">using</a> <a id="32906" class="Symbol">()</a> <a id="32909" class="Keyword">renaming</a> <a id="32918" class="Symbol">(</a> <a id="32920" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="32924" class="Symbol">to</a> <a id="32927" class="Field Operator">_â‰ˆâ‚‚_</a> <a id="32932" class="Symbol">;</a> <a id="32934" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="32938" class="Symbol">to</a> <a id="32941" class="Function">symâ‚‚</a> <a id="32946" class="Symbol">)</a>
 <a id="32949" class="Keyword">open</a> <a id="32954" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="32961" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="32964" href="Demos.HSP-markdown.html#32818" class="Bound">ğ‘ª</a> <a id="32966" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="32968" class="Keyword">using</a> <a id="32974" class="Symbol">(</a> <a id="32976" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="32982" class="Symbol">)</a> <a id="32984" class="Keyword">renaming</a> <a id="32993" class="Symbol">(</a> <a id="32995" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="32999" class="Symbol">to</a> <a id="33002" class="Field Operator">_â‰ˆâ‚ƒ_</a> <a id="33007" class="Symbol">;</a> <a id="33009" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="33013" class="Symbol">to</a> <a id="33016" class="Function">symâ‚ƒ</a> <a id="33021" class="Symbol">)</a>
 <a id="33024" class="Keyword">open</a> <a id="33029" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="33045" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="33048" href="Demos.HSP-markdown.html#32800" class="Bound">ğ‘©</a> <a id="33050" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>
 <a id="33053" class="Keyword">private</a> <a id="33061" href="Demos.HSP-markdown.html#33061" class="Function">gfunc</a> <a id="33067" class="Symbol">=</a> <a id="33069" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="33071" href="Demos.HSP-markdown.html#32846" class="Bound">gh</a> <a id="33074" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="33076" class="Symbol">;</a> <a id="33078" href="Demos.HSP-markdown.html#33078" class="Function">g</a> <a id="33080" class="Symbol">=</a> <a id="33082" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="33088" href="Demos.HSP-markdown.html#33061" class="Function">gfunc</a> <a id="33094" class="Symbol">;</a> <a id="33096" href="Demos.HSP-markdown.html#33096" class="Function">hfunc</a> <a id="33102" class="Symbol">=</a> <a id="33104" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="33106" href="Demos.HSP-markdown.html#32860" class="Bound">hh</a> <a id="33109" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="33111" class="Symbol">;</a> <a id="33113" href="Demos.HSP-markdown.html#33113" class="Function">h</a> <a id="33115" class="Symbol">=</a> <a id="33117" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="33123" href="Demos.HSP-markdown.html#33096" class="Function">hfunc</a>

 <a id="33131" href="Demos.HSP-markdown.html#33131" class="Function">HomFactor</a> <a id="33141" class="Symbol">:</a>  <a id="33144" href="Demos.HSP-markdown.html#16319" class="Function">kernel</a> <a id="33151" href="Demos.HSP-markdown.html#33002" class="Function Operator">_â‰ˆâ‚ƒ_</a> <a id="33156" href="Demos.HSP-markdown.html#33113" class="Function">h</a> <a id="33158" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="33160" href="Demos.HSP-markdown.html#16319" class="Function">kernel</a> <a id="33167" href="Demos.HSP-markdown.html#32927" class="Function Operator">_â‰ˆâ‚‚_</a> <a id="33172" href="Demos.HSP-markdown.html#33078" class="Function">g</a> <a id="33174" class="Symbol">â†’</a> <a id="33176" href="Demos.HSP-markdown.html#14743" class="Function">IsSurjective</a> <a id="33189" href="Demos.HSP-markdown.html#33096" class="Function">hfunc</a>
  <a id="33197" class="Symbol">â†’</a>           <a id="33209" href="Data.Product.html#916" class="Function">Î£[</a> <a id="33212" href="Demos.HSP-markdown.html#33212" class="Bound">Ï†</a> <a id="33214" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="33216" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="33220" href="Demos.HSP-markdown.html#32818" class="Bound">ğ‘ª</a> <a id="33222" href="Demos.HSP-markdown.html#32800" class="Bound">ğ‘©</a> <a id="33224" href="Data.Product.html#916" class="Function">]</a> <a id="33226" class="Symbol">âˆ€</a> <a id="33228" href="Demos.HSP-markdown.html#33228" class="Bound">a</a> <a id="33230" class="Symbol">â†’</a> <a id="33232" class="Symbol">(</a><a id="33233" href="Demos.HSP-markdown.html#33078" class="Function">g</a> <a id="33235" href="Demos.HSP-markdown.html#33228" class="Bound">a</a><a id="33236" class="Symbol">)</a> <a id="33238" href="Demos.HSP-markdown.html#32927" class="Function Operator">â‰ˆâ‚‚</a> <a id="33241" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="33243" href="Demos.HSP-markdown.html#33212" class="Bound">Ï†</a> <a id="33245" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="33247" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="33251" class="Symbol">(</a><a id="33252" href="Demos.HSP-markdown.html#33113" class="Function">h</a> <a id="33254" href="Demos.HSP-markdown.html#33228" class="Bound">a</a><a id="33255" class="Symbol">)</a>

 <a id="33259" href="Demos.HSP-markdown.html#33131" class="Function">HomFactor</a> <a id="33269" href="Demos.HSP-markdown.html#33269" class="Bound">Khg</a> <a id="33273" href="Demos.HSP-markdown.html#33273" class="Bound">hE</a> <a id="33276" class="Symbol">=</a> <a id="33278" class="Symbol">(</a><a id="33279" href="Demos.HSP-markdown.html#33577" class="Function">Ï†map</a> <a id="33284" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="33286" href="Demos.HSP-markdown.html#34214" class="Function">Ï†hom</a><a id="33290" class="Symbol">)</a> <a id="33292" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="33294" href="Demos.HSP-markdown.html#33698" class="Function">gÏ†h</a>
  <a id="33300" class="Keyword">where</a>
  <a id="33308" href="Demos.HSP-markdown.html#33308" class="Function">kerpres</a> <a id="33316" class="Symbol">:</a> <a id="33318" class="Symbol">âˆ€</a> <a id="33320" href="Demos.HSP-markdown.html#33320" class="Bound">aâ‚€</a> <a id="33323" href="Demos.HSP-markdown.html#33323" class="Bound">aâ‚</a> <a id="33326" class="Symbol">â†’</a> <a id="33328" href="Demos.HSP-markdown.html#33113" class="Function">h</a> <a id="33330" href="Demos.HSP-markdown.html#33320" class="Bound">aâ‚€</a> <a id="33333" href="Demos.HSP-markdown.html#33002" class="Function Operator">â‰ˆâ‚ƒ</a> <a id="33336" href="Demos.HSP-markdown.html#33113" class="Function">h</a> <a id="33338" href="Demos.HSP-markdown.html#33323" class="Bound">aâ‚</a> <a id="33341" class="Symbol">â†’</a> <a id="33343" href="Demos.HSP-markdown.html#33078" class="Function">g</a> <a id="33345" href="Demos.HSP-markdown.html#33320" class="Bound">aâ‚€</a> <a id="33348" href="Demos.HSP-markdown.html#32927" class="Function Operator">â‰ˆâ‚‚</a> <a id="33351" href="Demos.HSP-markdown.html#33078" class="Function">g</a> <a id="33353" href="Demos.HSP-markdown.html#33323" class="Bound">aâ‚</a>
  <a id="33358" href="Demos.HSP-markdown.html#33308" class="Function">kerpres</a> <a id="33366" href="Demos.HSP-markdown.html#33366" class="Bound">aâ‚€</a> <a id="33369" href="Demos.HSP-markdown.html#33369" class="Bound">aâ‚</a> <a id="33372" href="Demos.HSP-markdown.html#33372" class="Bound">hyp</a> <a id="33376" class="Symbol">=</a> <a id="33378" href="Demos.HSP-markdown.html#33269" class="Bound">Khg</a> <a id="33382" href="Demos.HSP-markdown.html#33372" class="Bound">hyp</a>

  <a id="33389" href="Demos.HSP-markdown.html#33389" class="Function">hâ»Â¹</a> <a id="33393" class="Symbol">:</a> <a id="33395" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="33398" href="Demos.HSP-markdown.html#32818" class="Bound">ğ‘ª</a> <a id="33400" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a> <a id="33402" class="Symbol">â†’</a> <a id="33404" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="33407" href="Demos.HSP-markdown.html#32782" class="Bound">ğ‘¨</a> <a id="33409" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a>
  <a id="33413" href="Demos.HSP-markdown.html#33389" class="Function">hâ»Â¹</a> <a id="33417" class="Symbol">=</a> <a id="33419" href="Demos.HSP-markdown.html#14827" class="Function">SurjInv</a> <a id="33427" href="Demos.HSP-markdown.html#33096" class="Function">hfunc</a> <a id="33433" href="Demos.HSP-markdown.html#33273" class="Bound">hE</a>

  <a id="33439" href="Demos.HSP-markdown.html#33439" class="Function">Î·</a> <a id="33441" class="Symbol">:</a> <a id="33443" class="Symbol">âˆ€</a> <a id="33445" class="Symbol">{</a><a id="33446" href="Demos.HSP-markdown.html#33446" class="Bound">c</a><a id="33447" class="Symbol">}</a> <a id="33449" class="Symbol">â†’</a> <a id="33451" href="Demos.HSP-markdown.html#33113" class="Function">h</a> <a id="33453" class="Symbol">(</a><a id="33454" href="Demos.HSP-markdown.html#33389" class="Function">hâ»Â¹</a> <a id="33458" href="Demos.HSP-markdown.html#33446" class="Bound">c</a><a id="33459" class="Symbol">)</a> <a id="33461" href="Demos.HSP-markdown.html#33002" class="Function Operator">â‰ˆâ‚ƒ</a> <a id="33464" href="Demos.HSP-markdown.html#33446" class="Bound">c</a>
  <a id="33468" href="Demos.HSP-markdown.html#33439" class="Function">Î·</a> <a id="33470" class="Symbol">=</a> <a id="33472" href="Demos.HSP-markdown.html#13043" class="Function">InvIsInverseÊ³</a> <a id="33486" href="Demos.HSP-markdown.html#33273" class="Bound">hE</a>

  <a id="33492" href="Demos.HSP-markdown.html#33492" class="Function">Î¶</a> <a id="33494" class="Symbol">:</a> <a id="33496" class="Symbol">âˆ€{</a><a id="33498" href="Demos.HSP-markdown.html#33498" class="Bound">x</a> <a id="33500" href="Demos.HSP-markdown.html#33500" class="Bound">y</a><a id="33501" class="Symbol">}</a> <a id="33503" class="Symbol">â†’</a> <a id="33505" href="Demos.HSP-markdown.html#33498" class="Bound">x</a> <a id="33507" href="Demos.HSP-markdown.html#33002" class="Function Operator">â‰ˆâ‚ƒ</a> <a id="33510" href="Demos.HSP-markdown.html#33500" class="Bound">y</a> <a id="33512" class="Symbol">â†’</a> <a id="33514" href="Demos.HSP-markdown.html#33113" class="Function">h</a> <a id="33516" class="Symbol">(</a><a id="33517" href="Demos.HSP-markdown.html#33389" class="Function">hâ»Â¹</a> <a id="33521" href="Demos.HSP-markdown.html#33498" class="Bound">x</a><a id="33522" class="Symbol">)</a> <a id="33524" href="Demos.HSP-markdown.html#33002" class="Function Operator">â‰ˆâ‚ƒ</a> <a id="33527" href="Demos.HSP-markdown.html#33113" class="Function">h</a> <a id="33529" class="Symbol">(</a><a id="33530" href="Demos.HSP-markdown.html#33389" class="Function">hâ»Â¹</a> <a id="33534" href="Demos.HSP-markdown.html#33500" class="Bound">y</a><a id="33535" class="Symbol">)</a>
  <a id="33539" href="Demos.HSP-markdown.html#33492" class="Function">Î¶</a> <a id="33541" href="Demos.HSP-markdown.html#33541" class="Bound">xy</a> <a id="33544" class="Symbol">=</a> <a id="33546" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="33552" href="Demos.HSP-markdown.html#33439" class="Function">Î·</a> <a id="33554" class="Symbol">(</a><a id="33555" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="33561" href="Demos.HSP-markdown.html#33541" class="Bound">xy</a> <a id="33564" class="Symbol">(</a><a id="33565" href="Demos.HSP-markdown.html#33016" class="Function">symâ‚ƒ</a> <a id="33570" href="Demos.HSP-markdown.html#33439" class="Function">Î·</a><a id="33571" class="Symbol">))</a>

  <a id="33577" href="Demos.HSP-markdown.html#33577" class="Function">Ï†map</a> <a id="33582" class="Symbol">:</a> <a id="33584" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="33587" href="Demos.HSP-markdown.html#32818" class="Bound">ğ‘ª</a> <a id="33589" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="33591" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="33593" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="33596" href="Demos.HSP-markdown.html#32800" class="Bound">ğ‘©</a> <a id="33598" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>
  <a id="33602" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="33608" href="Demos.HSP-markdown.html#33577" class="Function">Ï†map</a> <a id="33613" class="Symbol">=</a> <a id="33615" href="Demos.HSP-markdown.html#33078" class="Function">g</a> <a id="33617" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="33619" href="Demos.HSP-markdown.html#33389" class="Function">hâ»Â¹</a>
  <a id="33625" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="33630" href="Demos.HSP-markdown.html#33577" class="Function">Ï†map</a> <a id="33635" class="Symbol">=</a> <a id="33637" href="Demos.HSP-markdown.html#33269" class="Bound">Khg</a> <a id="33641" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="33643" href="Demos.HSP-markdown.html#33492" class="Function">Î¶</a>
  <a id="33647" class="Keyword">open</a> <a id="33652" href="Demos.HSP-markdown.html#7865" class="Module">_âŸ¶_</a> <a id="33656" href="Demos.HSP-markdown.html#33577" class="Function">Ï†map</a> <a id="33661" class="Keyword">using</a> <a id="33667" class="Symbol">()</a> <a id="33670" class="Keyword">renaming</a> <a id="33679" class="Symbol">(</a><a id="33680" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="33685" class="Symbol">to</a> <a id="33688" class="Field">Ï†cong</a><a id="33693" class="Symbol">)</a>

  <a id="33698" href="Demos.HSP-markdown.html#33698" class="Function">gÏ†h</a> <a id="33702" class="Symbol">:</a> <a id="33704" class="Symbol">(</a><a id="33705" href="Demos.HSP-markdown.html#33705" class="Bound">a</a> <a id="33707" class="Symbol">:</a> <a id="33709" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="33712" href="Demos.HSP-markdown.html#32782" class="Bound">ğ‘¨</a> <a id="33714" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a><a id="33715" class="Symbol">)</a> <a id="33717" class="Symbol">â†’</a> <a id="33719" href="Demos.HSP-markdown.html#33078" class="Function">g</a> <a id="33721" href="Demos.HSP-markdown.html#33705" class="Bound">a</a> <a id="33723" href="Demos.HSP-markdown.html#32927" class="Function Operator">â‰ˆâ‚‚</a> <a id="33726" href="Demos.HSP-markdown.html#33577" class="Function">Ï†map</a> <a id="33731" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="33735" class="Symbol">(</a><a id="33736" href="Demos.HSP-markdown.html#33113" class="Function">h</a> <a id="33738" href="Demos.HSP-markdown.html#33705" class="Bound">a</a><a id="33739" class="Symbol">)</a>
  <a id="33743" href="Demos.HSP-markdown.html#33698" class="Function">gÏ†h</a> <a id="33747" href="Demos.HSP-markdown.html#33747" class="Bound">a</a> <a id="33749" class="Symbol">=</a> <a id="33751" href="Demos.HSP-markdown.html#33269" class="Bound">Khg</a> <a id="33755" class="Symbol">(</a><a id="33756" href="Demos.HSP-markdown.html#33016" class="Function">symâ‚ƒ</a> <a id="33761" href="Demos.HSP-markdown.html#33439" class="Function">Î·</a><a id="33762" class="Symbol">)</a>

  <a id="33767" href="Demos.HSP-markdown.html#33767" class="Function">Ï†comp</a> <a id="33773" class="Symbol">:</a> <a id="33775" href="Demos.HSP-markdown.html#26807" class="Function">compatible-map</a> <a id="33790" href="Demos.HSP-markdown.html#32818" class="Bound">ğ‘ª</a> <a id="33792" href="Demos.HSP-markdown.html#32800" class="Bound">ğ‘©</a> <a id="33794" href="Demos.HSP-markdown.html#33577" class="Function">Ï†map</a>
  <a id="33801" href="Demos.HSP-markdown.html#33767" class="Function">Ï†comp</a> <a id="33807" class="Symbol">{</a><a id="33808" href="Demos.HSP-markdown.html#33808" class="Bound">f</a><a id="33809" class="Symbol">}{</a><a id="33811" href="Demos.HSP-markdown.html#33811" class="Bound">c</a><a id="33812" class="Symbol">}</a> <a id="33814" class="Symbol">=</a>
   <a id="33819" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
    <a id="33829" href="Demos.HSP-markdown.html#33577" class="Function">Ï†map</a> <a id="33834" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="33838" class="Symbol">((</a><a id="33840" href="Demos.HSP-markdown.html#33808" class="Bound">f</a> <a id="33842" href="Demos.HSP-markdown.html#23812" class="Function Operator">Ì‚</a> <a id="33844" href="Demos.HSP-markdown.html#32818" class="Bound">ğ‘ª</a><a id="33845" class="Symbol">)</a> <a id="33847" href="Demos.HSP-markdown.html#33811" class="Bound">c</a><a id="33848" class="Symbol">)</a>            <a id="33861" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a>  <a id="33866" href="Demos.HSP-markdown.html#33688" class="Function">Ï†cong</a> <a id="33872" class="Symbol">(</a><a id="33873" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="33878" class="Symbol">(</a><a id="33879" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="33886" href="Demos.HSP-markdown.html#32818" class="Bound">ğ‘ª</a><a id="33887" class="Symbol">)</a> <a id="33889" class="Symbol">(</a><a id="33890" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="33897" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="33899" class="Symbol">Î»</a> <a id="33901" href="Demos.HSP-markdown.html#33901" class="Bound">_</a> <a id="33903" class="Symbol">â†’</a> <a id="33905" href="Demos.HSP-markdown.html#33439" class="Function">Î·</a><a id="33906" class="Symbol">))</a>  <a id="33910" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
    <a id="33916" href="Demos.HSP-markdown.html#33078" class="Function">g</a> <a id="33918" class="Symbol">(</a><a id="33919" href="Demos.HSP-markdown.html#33389" class="Function">hâ»Â¹</a> <a id="33923" class="Symbol">((</a><a id="33925" href="Demos.HSP-markdown.html#33808" class="Bound">f</a> <a id="33927" href="Demos.HSP-markdown.html#23812" class="Function Operator">Ì‚</a> <a id="33929" href="Demos.HSP-markdown.html#32818" class="Bound">ğ‘ª</a><a id="33930" class="Symbol">)(</a><a id="33932" href="Demos.HSP-markdown.html#33113" class="Function">h</a> <a id="33934" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="33936" href="Demos.HSP-markdown.html#33389" class="Function">hâ»Â¹</a> <a id="33940" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="33942" href="Demos.HSP-markdown.html#33811" class="Bound">c</a><a id="33943" class="Symbol">)))</a>  <a id="33948" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a>  <a id="33953" href="Demos.HSP-markdown.html#33688" class="Function">Ï†cong</a> <a id="33959" class="Symbol">(</a><a id="33960" href="Demos.HSP-markdown.html#27047" class="Field">compatible</a> <a id="33971" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="33973" href="Demos.HSP-markdown.html#32860" class="Bound">hh</a> <a id="33976" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a><a id="33977" class="Symbol">)</a>                   <a id="33997" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
    <a id="34003" href="Demos.HSP-markdown.html#33078" class="Function">g</a> <a id="34005" class="Symbol">(</a><a id="34006" href="Demos.HSP-markdown.html#33389" class="Function">hâ»Â¹</a> <a id="34010" class="Symbol">(</a><a id="34011" href="Demos.HSP-markdown.html#33113" class="Function">h</a> <a id="34013" class="Symbol">((</a><a id="34015" href="Demos.HSP-markdown.html#33808" class="Bound">f</a> <a id="34017" href="Demos.HSP-markdown.html#23812" class="Function Operator">Ì‚</a> <a id="34019" href="Demos.HSP-markdown.html#32782" class="Bound">ğ‘¨</a><a id="34020" class="Symbol">)(</a><a id="34022" href="Demos.HSP-markdown.html#33389" class="Function">hâ»Â¹</a> <a id="34026" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="34028" href="Demos.HSP-markdown.html#33811" class="Bound">c</a><a id="34029" class="Symbol">))))</a>  <a id="34035" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a>  <a id="34040" href="Demos.HSP-markdown.html#33698" class="Function">gÏ†h</a> <a id="34044" class="Symbol">((</a><a id="34046" href="Demos.HSP-markdown.html#33808" class="Bound">f</a> <a id="34048" href="Demos.HSP-markdown.html#23812" class="Function Operator">Ì‚</a> <a id="34050" href="Demos.HSP-markdown.html#32782" class="Bound">ğ‘¨</a><a id="34051" class="Symbol">)(</a><a id="34053" href="Demos.HSP-markdown.html#33389" class="Function">hâ»Â¹</a> <a id="34057" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="34059" href="Demos.HSP-markdown.html#33811" class="Bound">c</a><a id="34060" class="Symbol">))</a>                      <a id="34084" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
    <a id="34090" href="Demos.HSP-markdown.html#33078" class="Function">g</a> <a id="34092" class="Symbol">((</a><a id="34094" href="Demos.HSP-markdown.html#33808" class="Bound">f</a> <a id="34096" href="Demos.HSP-markdown.html#23812" class="Function Operator">Ì‚</a> <a id="34098" href="Demos.HSP-markdown.html#32782" class="Bound">ğ‘¨</a><a id="34099" class="Symbol">)(</a><a id="34101" href="Demos.HSP-markdown.html#33389" class="Function">hâ»Â¹</a> <a id="34105" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="34107" href="Demos.HSP-markdown.html#33811" class="Bound">c</a><a id="34108" class="Symbol">))</a>            <a id="34122" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>   <a id="34127" href="Demos.HSP-markdown.html#27047" class="Field">compatible</a> <a id="34138" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="34140" href="Demos.HSP-markdown.html#32846" class="Bound">gh</a> <a id="34143" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>                           <a id="34171" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
    <a id="34177" class="Symbol">(</a><a id="34178" href="Demos.HSP-markdown.html#33808" class="Bound">f</a> <a id="34180" href="Demos.HSP-markdown.html#23812" class="Function Operator">Ì‚</a> <a id="34182" href="Demos.HSP-markdown.html#32800" class="Bound">ğ‘©</a><a id="34183" class="Symbol">)(</a><a id="34185" href="Demos.HSP-markdown.html#33078" class="Function">g</a> <a id="34187" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="34189" class="Symbol">(</a><a id="34190" href="Demos.HSP-markdown.html#33389" class="Function">hâ»Â¹</a> <a id="34194" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="34196" href="Demos.HSP-markdown.html#33811" class="Bound">c</a><a id="34197" class="Symbol">))</a>          <a id="34209" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">âˆ</a>

  <a id="34214" href="Demos.HSP-markdown.html#34214" class="Function">Ï†hom</a> <a id="34219" class="Symbol">:</a> <a id="34221" href="Demos.HSP-markdown.html#26964" class="Record">IsHom</a> <a id="34227" href="Demos.HSP-markdown.html#32818" class="Bound">ğ‘ª</a> <a id="34229" href="Demos.HSP-markdown.html#32800" class="Bound">ğ‘©</a> <a id="34231" href="Demos.HSP-markdown.html#33577" class="Function">Ï†map</a>
  <a id="34238" href="Demos.HSP-markdown.html#27047" class="Field">compatible</a> <a id="34249" href="Demos.HSP-markdown.html#34214" class="Function">Ï†hom</a> <a id="34254" class="Symbol">=</a> <a id="34256" href="Demos.HSP-markdown.html#33767" class="Function">Ï†comp</a>
</pre>



### <a id="isomorphisms">Isomorphisms</a>

(cf. the [Homomorphisms.Func.Isomorphisms] of the [Agda Universal Algebra Library][].)

Two structures are *isomorphic* provided there are homomorphisms going back and forth between them which compose to the identity map.

<pre class="Agda">

<a id="34556" class="Keyword">module</a> <a id="34563" href="Demos.HSP-markdown.html#34563" class="Module">_</a> <a id="34565" class="Symbol">(</a><a id="34566" href="Demos.HSP-markdown.html#34566" class="Bound">ğ‘¨</a> <a id="34568" class="Symbol">:</a> <a id="34570" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="34578" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="34580" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="34582" class="Symbol">)</a> <a id="34584" class="Symbol">(</a><a id="34585" href="Demos.HSP-markdown.html#34585" class="Bound">ğ‘©</a> <a id="34587" class="Symbol">:</a> <a id="34589" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="34597" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="34599" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="34601" class="Symbol">)</a> <a id="34603" class="Keyword">where</a>
 <a id="34610" class="Keyword">open</a> <a id="34615" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="34622" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="34625" href="Demos.HSP-markdown.html#34566" class="Bound">ğ‘¨</a> <a id="34627" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="34629" class="Keyword">using</a> <a id="34635" class="Symbol">(</a> <a id="34637" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="34641" class="Symbol">;</a> <a id="34643" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="34647" class="Symbol">;</a> <a id="34649" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="34655" class="Symbol">)</a>
 <a id="34658" class="Keyword">open</a> <a id="34663" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="34670" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="34673" href="Demos.HSP-markdown.html#34585" class="Bound">ğ‘©</a> <a id="34675" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="34677" class="Keyword">using</a> <a id="34683" class="Symbol">()</a> <a id="34686" class="Keyword">renaming</a> <a id="34695" class="Symbol">(</a> <a id="34697" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="34701" class="Symbol">to</a> <a id="34704" class="Field Operator">_â‰ˆáµ‡_</a> <a id="34709" class="Symbol">;</a> <a id="34711" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="34715" class="Symbol">to</a> <a id="34718" class="Function">symáµ‡</a> <a id="34723" class="Symbol">;</a> <a id="34725" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="34731" class="Symbol">to</a> <a id="34734" class="Function">transáµ‡</a><a id="34740" class="Symbol">)</a>

 <a id="34744" class="Keyword">record</a> <a id="34751" href="Demos.HSP-markdown.html#34751" class="Record Operator">_â‰…_</a> <a id="34755" class="Symbol">:</a> <a id="34757" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="34762" class="Symbol">(</a><a id="34763" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="34765" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="34767" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="34769" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="34771" href="Demos.HSP-markdown.html#34578" class="Bound">Î±</a> <a id="34773" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="34775" href="Demos.HSP-markdown.html#34597" class="Bound">Î²</a> <a id="34777" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="34779" href="Demos.HSP-markdown.html#34580" class="Bound">Ïáµƒ</a> <a id="34782" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="34784" href="Demos.HSP-markdown.html#34599" class="Bound">Ïáµ‡</a> <a id="34787" class="Symbol">)</a> <a id="34789" class="Keyword">where</a>
  <a id="34797" class="Keyword">constructor</a> <a id="34809" href="Demos.HSP-markdown.html#34809" class="InductiveConstructor">mkiso</a>
  <a id="34817" class="Keyword">field</a>
   <a id="34826" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="34829" class="Symbol">:</a> <a id="34831" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="34835" href="Demos.HSP-markdown.html#34566" class="Bound">ğ‘¨</a> <a id="34837" href="Demos.HSP-markdown.html#34585" class="Bound">ğ‘©</a>
   <a id="34842" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="34847" class="Symbol">:</a> <a id="34849" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="34853" href="Demos.HSP-markdown.html#34585" class="Bound">ğ‘©</a> <a id="34855" href="Demos.HSP-markdown.html#34566" class="Bound">ğ‘¨</a>
   <a id="34860" href="Demos.HSP-markdown.html#34860" class="Field">toâˆ¼from</a> <a id="34868" class="Symbol">:</a> <a id="34870" class="Symbol">âˆ€</a> <a id="34872" href="Demos.HSP-markdown.html#34872" class="Bound">b</a> <a id="34874" class="Symbol">â†’</a> <a id="34876" class="Symbol">(</a><a id="34877" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34879" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="34882" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34884" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="34888" class="Symbol">(</a><a id="34889" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34891" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="34896" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34898" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="34902" href="Demos.HSP-markdown.html#34872" class="Bound">b</a><a id="34903" class="Symbol">))</a> <a id="34906" href="Demos.HSP-markdown.html#34704" class="Function Operator">â‰ˆáµ‡</a> <a id="34909" href="Demos.HSP-markdown.html#34872" class="Bound">b</a>
   <a id="34914" href="Demos.HSP-markdown.html#34914" class="Field">fromâˆ¼to</a> <a id="34922" class="Symbol">:</a> <a id="34924" class="Symbol">âˆ€</a> <a id="34926" href="Demos.HSP-markdown.html#34926" class="Bound">a</a> <a id="34928" class="Symbol">â†’</a> <a id="34930" class="Symbol">(</a><a id="34931" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34933" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="34938" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34940" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="34944" class="Symbol">(</a><a id="34945" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34947" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="34950" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34952" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="34956" href="Demos.HSP-markdown.html#34926" class="Bound">a</a><a id="34957" class="Symbol">))</a> <a id="34960" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="34962" href="Demos.HSP-markdown.html#34926" class="Bound">a</a>

  <a id="34967" href="Demos.HSP-markdown.html#34967" class="Function">toIsSurjective</a> <a id="34982" class="Symbol">:</a> <a id="34984" href="Demos.HSP-markdown.html#14743" class="Function">IsSurjective</a> <a id="34997" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="34999" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="35002" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="35006" href="Demos.HSP-markdown.html#34967" class="Function">toIsSurjective</a> <a id="35021" class="Symbol">{</a><a id="35022" href="Demos.HSP-markdown.html#35022" class="Bound">y</a><a id="35023" class="Symbol">}</a> <a id="35025" class="Symbol">=</a> <a id="35027" href="Demos.HSP-markdown.html#12420" class="InductiveConstructor">eq</a> <a id="35030" class="Symbol">(</a><a id="35031" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35033" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="35038" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35040" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35044" href="Demos.HSP-markdown.html#35022" class="Bound">y</a><a id="35045" class="Symbol">)</a> <a id="35047" class="Symbol">(</a><a id="35048" href="Demos.HSP-markdown.html#34718" class="Function">symáµ‡</a> <a id="35053" class="Symbol">(</a><a id="35054" href="Demos.HSP-markdown.html#34860" class="Field">toâˆ¼from</a> <a id="35062" href="Demos.HSP-markdown.html#35022" class="Bound">y</a><a id="35063" class="Symbol">))</a>

  <a id="35069" href="Demos.HSP-markdown.html#35069" class="Function">toIsInjective</a> <a id="35083" class="Symbol">:</a> <a id="35085" href="Demos.HSP-markdown.html#14660" class="Function">IsInjective</a> <a id="35097" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35099" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="35102" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="35106" href="Demos.HSP-markdown.html#35069" class="Function">toIsInjective</a> <a id="35120" class="Symbol">{</a><a id="35121" href="Demos.HSP-markdown.html#35121" class="Bound">x</a><a id="35122" class="Symbol">}</a> <a id="35124" class="Symbol">{</a><a id="35125" href="Demos.HSP-markdown.html#35125" class="Bound">y</a><a id="35126" class="Symbol">}</a> <a id="35128" href="Demos.HSP-markdown.html#35128" class="Bound">xy</a> <a id="35131" class="Symbol">=</a> <a id="35133" href="Demos.HSP-markdown.html#35239" class="Function">Goal</a>
   <a id="35141" class="Keyword">where</a>
   <a id="35150" href="Demos.HSP-markdown.html#35150" class="Function">Î¾</a> <a id="35152" class="Symbol">:</a> <a id="35154" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35156" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="35161" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35163" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35167" class="Symbol">(</a><a id="35168" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35170" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="35173" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35175" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35179" href="Demos.HSP-markdown.html#35121" class="Bound">x</a><a id="35180" class="Symbol">)</a> <a id="35182" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="35184" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35186" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="35191" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35193" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35197" class="Symbol">(</a><a id="35198" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35200" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="35203" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35205" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35209" href="Demos.HSP-markdown.html#35125" class="Bound">y</a><a id="35210" class="Symbol">)</a>
   <a id="35215" href="Demos.HSP-markdown.html#35150" class="Function">Î¾</a> <a id="35217" class="Symbol">=</a> <a id="35219" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="35224" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35226" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="35231" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35233" href="Demos.HSP-markdown.html#35128" class="Bound">xy</a>
   <a id="35239" href="Demos.HSP-markdown.html#35239" class="Function">Goal</a> <a id="35244" class="Symbol">:</a> <a id="35246" href="Demos.HSP-markdown.html#35121" class="Bound">x</a> <a id="35248" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="35250" href="Demos.HSP-markdown.html#35125" class="Bound">y</a>
   <a id="35255" href="Demos.HSP-markdown.html#35239" class="Function">Goal</a> <a id="35260" class="Symbol">=</a> <a id="35262" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="35268" class="Symbol">(</a><a id="35269" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="35273" class="Symbol">(</a><a id="35274" href="Demos.HSP-markdown.html#34914" class="Field">fromâˆ¼to</a> <a id="35282" href="Demos.HSP-markdown.html#35121" class="Bound">x</a><a id="35283" class="Symbol">))</a> <a id="35286" class="Symbol">(</a><a id="35287" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="35293" href="Demos.HSP-markdown.html#35150" class="Function">Î¾</a> <a id="35295" class="Symbol">(</a><a id="35296" href="Demos.HSP-markdown.html#34914" class="Field">fromâˆ¼to</a> <a id="35304" href="Demos.HSP-markdown.html#35125" class="Bound">y</a><a id="35305" class="Symbol">))</a>

  <a id="35311" href="Demos.HSP-markdown.html#35311" class="Function">fromIsSurjective</a> <a id="35328" class="Symbol">:</a> <a id="35330" href="Demos.HSP-markdown.html#14743" class="Function">IsSurjective</a> <a id="35343" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35345" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="35350" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="35354" href="Demos.HSP-markdown.html#35311" class="Function">fromIsSurjective</a> <a id="35371" class="Symbol">{</a><a id="35372" href="Demos.HSP-markdown.html#35372" class="Bound">y</a><a id="35373" class="Symbol">}</a> <a id="35375" class="Symbol">=</a> <a id="35377" href="Demos.HSP-markdown.html#12420" class="InductiveConstructor">eq</a> <a id="35380" class="Symbol">(</a><a id="35381" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35383" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="35386" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35388" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35392" href="Demos.HSP-markdown.html#35372" class="Bound">y</a><a id="35393" class="Symbol">)</a> <a id="35395" class="Symbol">(</a><a id="35396" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="35400" class="Symbol">(</a><a id="35401" href="Demos.HSP-markdown.html#34914" class="Field">fromâˆ¼to</a> <a id="35409" href="Demos.HSP-markdown.html#35372" class="Bound">y</a><a id="35410" class="Symbol">))</a>

  <a id="35416" href="Demos.HSP-markdown.html#35416" class="Function">fromIsInjective</a> <a id="35432" class="Symbol">:</a> <a id="35434" href="Demos.HSP-markdown.html#14660" class="Function">IsInjective</a> <a id="35446" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35448" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="35453" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="35457" href="Demos.HSP-markdown.html#35416" class="Function">fromIsInjective</a> <a id="35473" class="Symbol">{</a><a id="35474" href="Demos.HSP-markdown.html#35474" class="Bound">x</a><a id="35475" class="Symbol">}</a> <a id="35477" class="Symbol">{</a><a id="35478" href="Demos.HSP-markdown.html#35478" class="Bound">y</a><a id="35479" class="Symbol">}</a> <a id="35481" href="Demos.HSP-markdown.html#35481" class="Bound">xy</a> <a id="35484" class="Symbol">=</a> <a id="35486" href="Demos.HSP-markdown.html#35591" class="Function">Goal</a>
   <a id="35494" class="Keyword">where</a>
   <a id="35503" href="Demos.HSP-markdown.html#35503" class="Function">Î¾</a> <a id="35505" class="Symbol">:</a> <a id="35507" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35509" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="35512" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35514" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35518" class="Symbol">(</a><a id="35519" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35521" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="35526" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35528" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35532" href="Demos.HSP-markdown.html#35474" class="Bound">x</a><a id="35533" class="Symbol">)</a> <a id="35535" href="Demos.HSP-markdown.html#34704" class="Function Operator">â‰ˆáµ‡</a> <a id="35538" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35540" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="35543" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35545" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35549" class="Symbol">(</a><a id="35550" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35552" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="35557" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35559" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="35563" href="Demos.HSP-markdown.html#35478" class="Bound">y</a><a id="35564" class="Symbol">)</a>
   <a id="35569" href="Demos.HSP-markdown.html#35503" class="Function">Î¾</a> <a id="35571" class="Symbol">=</a> <a id="35573" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="35578" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35580" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="35583" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="35585" href="Demos.HSP-markdown.html#35481" class="Bound">xy</a>
   <a id="35591" href="Demos.HSP-markdown.html#35591" class="Function">Goal</a> <a id="35596" class="Symbol">:</a> <a id="35598" href="Demos.HSP-markdown.html#35474" class="Bound">x</a> <a id="35600" href="Demos.HSP-markdown.html#34704" class="Function Operator">â‰ˆáµ‡</a> <a id="35603" href="Demos.HSP-markdown.html#35478" class="Bound">y</a>
   <a id="35608" href="Demos.HSP-markdown.html#35591" class="Function">Goal</a> <a id="35613" class="Symbol">=</a> <a id="35615" href="Demos.HSP-markdown.html#34734" class="Function">transáµ‡</a> <a id="35622" class="Symbol">(</a><a id="35623" href="Demos.HSP-markdown.html#34718" class="Function">symáµ‡</a> <a id="35628" class="Symbol">(</a><a id="35629" href="Demos.HSP-markdown.html#34860" class="Field">toâˆ¼from</a> <a id="35637" href="Demos.HSP-markdown.html#35474" class="Bound">x</a><a id="35638" class="Symbol">))</a> <a id="35641" class="Symbol">(</a><a id="35642" href="Demos.HSP-markdown.html#34734" class="Function">transáµ‡</a> <a id="35649" href="Demos.HSP-markdown.html#35503" class="Function">Î¾</a> <a id="35651" class="Symbol">(</a><a id="35652" href="Demos.HSP-markdown.html#34860" class="Field">toâˆ¼from</a> <a id="35660" href="Demos.HSP-markdown.html#35478" class="Bound">y</a><a id="35661" class="Symbol">))</a>

<a id="35665" class="Keyword">open</a> <a id="35670" href="Demos.HSP-markdown.html#34751" class="Module Operator">_â‰…_</a>
</pre>


#### <a id="properties-of-isomorphisms">Properties of isomorphisms</a>

<pre class="Agda">

<a id="â‰…-refl"></a><a id="35773" href="Demos.HSP-markdown.html#35773" class="Function">â‰…-refl</a> <a id="35780" class="Symbol">:</a> <a id="35782" href="Relation.Binary.Definitions.html#1339" class="Function">Reflexive</a> <a id="35792" class="Symbol">(</a><a id="35793" href="Demos.HSP-markdown.html#34751" class="Record Operator">_â‰…_</a> <a id="35797" class="Symbol">{</a><a id="35798" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a><a id="35799" class="Symbol">}{</a><a id="35801" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="35803" class="Symbol">})</a>
<a id="35806" href="Demos.HSP-markdown.html#35773" class="Function">â‰…-refl</a> <a id="35813" class="Symbol">{</a><a id="35814" href="Demos.HSP-markdown.html#35814" class="Bound">Î±</a><a id="35815" class="Symbol">}{</a><a id="35817" href="Demos.HSP-markdown.html#35817" class="Bound">Ïáµƒ</a><a id="35819" class="Symbol">}{</a><a id="35821" href="Demos.HSP-markdown.html#35821" class="Bound">ğ‘¨</a><a id="35822" class="Symbol">}</a> <a id="35824" class="Symbol">=</a> <a id="35826" href="Demos.HSP-markdown.html#34809" class="InductiveConstructor">mkiso</a> <a id="35832" href="Demos.HSP-markdown.html#29646" class="Function">ğ’¾ğ’¹</a> <a id="35835" href="Demos.HSP-markdown.html#29646" class="Function">ğ’¾ğ’¹</a> <a id="35838" class="Symbol">(Î»</a> <a id="35841" href="Demos.HSP-markdown.html#35841" class="Bound">b</a> <a id="35843" class="Symbol">â†’</a> <a id="35845" href="Relation.Binary.Structures.html#1568" class="Function">refl</a><a id="35849" class="Symbol">)</a> <a id="35851" class="Symbol">Î»</a> <a id="35853" href="Demos.HSP-markdown.html#35853" class="Bound">a</a> <a id="35855" class="Symbol">â†’</a> <a id="35857" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="35863" class="Keyword">where</a> <a id="35869" class="Keyword">open</a> <a id="35874" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="35881" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="35884" href="Demos.HSP-markdown.html#35821" class="Bound">ğ‘¨</a> <a id="35886" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="35888" class="Keyword">using</a> <a id="35894" class="Symbol">(</a> <a id="35896" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="35901" class="Symbol">)</a>

<a id="â‰…-sym"></a><a id="35904" href="Demos.HSP-markdown.html#35904" class="Function">â‰…-sym</a> <a id="35910" class="Symbol">:</a> <a id="35912" href="Relation.Binary.Definitions.html#1424" class="Function">Sym</a> <a id="35916" class="Symbol">(</a><a id="35917" href="Demos.HSP-markdown.html#34751" class="Record Operator">_â‰…_</a><a id="35920" class="Symbol">{</a><a id="35921" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a><a id="35922" class="Symbol">}{</a><a id="35924" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="35926" class="Symbol">})</a> <a id="35929" class="Symbol">(</a><a id="35930" href="Demos.HSP-markdown.html#34751" class="Record Operator">_â‰…_</a><a id="35933" class="Symbol">{</a><a id="35934" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a><a id="35935" class="Symbol">}{</a><a id="35937" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="35939" class="Symbol">})</a>
<a id="35942" href="Demos.HSP-markdown.html#35904" class="Function">â‰…-sym</a> <a id="35948" href="Demos.HSP-markdown.html#35948" class="Bound">Ï†</a> <a id="35950" class="Symbol">=</a> <a id="35952" href="Demos.HSP-markdown.html#34809" class="InductiveConstructor">mkiso</a> <a id="35958" class="Symbol">(</a><a id="35959" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="35964" href="Demos.HSP-markdown.html#35948" class="Bound">Ï†</a><a id="35965" class="Symbol">)</a> <a id="35967" class="Symbol">(</a><a id="35968" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="35971" href="Demos.HSP-markdown.html#35948" class="Bound">Ï†</a><a id="35972" class="Symbol">)</a> <a id="35974" class="Symbol">(</a><a id="35975" href="Demos.HSP-markdown.html#34914" class="Field">fromâˆ¼to</a> <a id="35983" href="Demos.HSP-markdown.html#35948" class="Bound">Ï†</a><a id="35984" class="Symbol">)</a> <a id="35986" class="Symbol">(</a><a id="35987" href="Demos.HSP-markdown.html#34860" class="Field">toâˆ¼from</a> <a id="35995" href="Demos.HSP-markdown.html#35948" class="Bound">Ï†</a><a id="35996" class="Symbol">)</a>

<a id="â‰…-trans"></a><a id="35999" href="Demos.HSP-markdown.html#35999" class="Function">â‰…-trans</a> <a id="36007" class="Symbol">:</a> <a id="36009" href="Relation.Binary.Definitions.html#1585" class="Function">Trans</a> <a id="36015" class="Symbol">(</a><a id="36016" href="Demos.HSP-markdown.html#34751" class="Record Operator">_â‰…_</a> <a id="36020" class="Symbol">{</a><a id="36021" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a><a id="36022" class="Symbol">}{</a><a id="36024" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="36026" class="Symbol">})(</a><a id="36029" href="Demos.HSP-markdown.html#34751" class="Record Operator">_â‰…_</a><a id="36032" class="Symbol">{</a><a id="36033" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a><a id="36034" class="Symbol">}{</a><a id="36036" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="36038" class="Symbol">})(</a><a id="36041" href="Demos.HSP-markdown.html#34751" class="Record Operator">_â‰…_</a><a id="36044" class="Symbol">{</a><a id="36045" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a><a id="36046" class="Symbol">}{</a><a id="36048" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="36050" class="Symbol">}{</a><a id="36052" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a><a id="36053" class="Symbol">}{</a><a id="36055" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="36057" class="Symbol">})</a>
<a id="36060" href="Demos.HSP-markdown.html#35999" class="Function">â‰…-trans</a> <a id="36068" class="Symbol">{</a><a id="36069" class="Argument">Ïá¶œ</a> <a id="36072" class="Symbol">=</a> <a id="36074" href="Demos.HSP-markdown.html#36074" class="Bound">Ïá¶œ</a><a id="36076" class="Symbol">}{</a><a id="36078" href="Demos.HSP-markdown.html#36078" class="Bound">ğ‘¨</a><a id="36079" class="Symbol">}{</a><a id="36081" href="Demos.HSP-markdown.html#36081" class="Bound">ğ‘©</a><a id="36082" class="Symbol">}{</a><a id="36084" href="Demos.HSP-markdown.html#36084" class="Bound">ğ‘ª</a><a id="36085" class="Symbol">}</a> <a id="36087" href="Demos.HSP-markdown.html#36087" class="Bound">ab</a> <a id="36090" href="Demos.HSP-markdown.html#36090" class="Bound">bc</a> <a id="36093" class="Symbol">=</a> <a id="36095" href="Demos.HSP-markdown.html#34809" class="InductiveConstructor">mkiso</a> <a id="36101" href="Demos.HSP-markdown.html#36234" class="Function">f</a> <a id="36103" href="Demos.HSP-markdown.html#36276" class="Function">g</a> <a id="36105" href="Demos.HSP-markdown.html#36322" class="Function">Ï„</a> <a id="36107" href="Demos.HSP-markdown.html#36446" class="Function">Î½</a>
 <a id="36110" class="Keyword">where</a>
  <a id="36118" class="Keyword">open</a> <a id="36123" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="36130" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="36133" href="Demos.HSP-markdown.html#36078" class="Bound">ğ‘¨</a> <a id="36135" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="36137" class="Keyword">using</a> <a id="36143" class="Symbol">(</a> <a id="36145" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="36149" class="Symbol">;</a> <a id="36151" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="36157" class="Symbol">)</a>
  <a id="36161" class="Keyword">open</a> <a id="36166" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="36173" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="36176" href="Demos.HSP-markdown.html#36084" class="Bound">ğ‘ª</a> <a id="36178" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="36180" class="Keyword">using</a> <a id="36186" class="Symbol">()</a> <a id="36189" class="Keyword">renaming</a> <a id="36198" class="Symbol">(</a> <a id="36200" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="36204" class="Symbol">to</a> <a id="36207" class="Field Operator">_â‰ˆá¶œ_</a> <a id="36212" class="Symbol">;</a> <a id="36214" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="36220" class="Symbol">to</a> <a id="36223" class="Function">transá¶œ</a> <a id="36230" class="Symbol">)</a>
  <a id="36234" href="Demos.HSP-markdown.html#36234" class="Function">f</a> <a id="36236" class="Symbol">:</a> <a id="36238" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="36242" href="Demos.HSP-markdown.html#36078" class="Bound">ğ‘¨</a> <a id="36244" href="Demos.HSP-markdown.html#36084" class="Bound">ğ‘ª</a>
  <a id="36248" href="Demos.HSP-markdown.html#36234" class="Function">f</a> <a id="36250" class="Symbol">=</a> <a id="36252" href="Demos.HSP-markdown.html#29160" class="Function">âˆ˜-hom</a> <a id="36258" class="Symbol">(</a><a id="36259" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="36262" href="Demos.HSP-markdown.html#36087" class="Bound">ab</a><a id="36264" class="Symbol">)</a> <a id="36266" class="Symbol">(</a><a id="36267" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="36270" href="Demos.HSP-markdown.html#36090" class="Bound">bc</a><a id="36272" class="Symbol">)</a>
  <a id="36276" href="Demos.HSP-markdown.html#36276" class="Function">g</a> <a id="36278" class="Symbol">:</a> <a id="36280" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="36284" href="Demos.HSP-markdown.html#36084" class="Bound">ğ‘ª</a> <a id="36286" href="Demos.HSP-markdown.html#36078" class="Bound">ğ‘¨</a>
  <a id="36290" href="Demos.HSP-markdown.html#36276" class="Function">g</a> <a id="36292" class="Symbol">=</a> <a id="36294" href="Demos.HSP-markdown.html#29160" class="Function">âˆ˜-hom</a> <a id="36300" class="Symbol">(</a><a id="36301" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="36306" href="Demos.HSP-markdown.html#36090" class="Bound">bc</a><a id="36308" class="Symbol">)</a> <a id="36310" class="Symbol">(</a><a id="36311" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="36316" href="Demos.HSP-markdown.html#36087" class="Bound">ab</a><a id="36318" class="Symbol">)</a>
  <a id="36322" href="Demos.HSP-markdown.html#36322" class="Function">Ï„</a> <a id="36324" class="Symbol">:</a> <a id="36326" class="Symbol">âˆ€</a> <a id="36328" href="Demos.HSP-markdown.html#36328" class="Bound">b</a> <a id="36330" class="Symbol">â†’</a> <a id="36332" class="Symbol">(</a><a id="36333" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36335" href="Demos.HSP-markdown.html#36234" class="Function">f</a> <a id="36337" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>  <a id="36340" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="36344" class="Symbol">(</a><a id="36345" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36347" href="Demos.HSP-markdown.html#36276" class="Function">g</a> <a id="36349" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36351" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="36355" href="Demos.HSP-markdown.html#36328" class="Bound">b</a><a id="36356" class="Symbol">))</a> <a id="36359" href="Demos.HSP-markdown.html#36207" class="Function Operator">â‰ˆá¶œ</a> <a id="36362" href="Demos.HSP-markdown.html#36328" class="Bound">b</a>
  <a id="36366" href="Demos.HSP-markdown.html#36322" class="Function">Ï„</a> <a id="36368" href="Demos.HSP-markdown.html#36368" class="Bound">b</a> <a id="36370" class="Symbol">=</a> <a id="36372" href="Demos.HSP-markdown.html#36223" class="Function">transá¶œ</a> <a id="36379" class="Symbol">(</a><a id="36380" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="36385" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36387" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="36390" href="Demos.HSP-markdown.html#36090" class="Bound">bc</a> <a id="36393" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36395" class="Symbol">(</a><a id="36396" href="Demos.HSP-markdown.html#34860" class="Field">toâˆ¼from</a> <a id="36404" href="Demos.HSP-markdown.html#36087" class="Bound">ab</a> <a id="36407" class="Symbol">(</a><a id="36408" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36410" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="36415" href="Demos.HSP-markdown.html#36090" class="Bound">bc</a> <a id="36418" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36420" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="36424" href="Demos.HSP-markdown.html#36368" class="Bound">b</a><a id="36425" class="Symbol">)))</a> <a id="36429" class="Symbol">(</a><a id="36430" href="Demos.HSP-markdown.html#34860" class="Field">toâˆ¼from</a> <a id="36438" href="Demos.HSP-markdown.html#36090" class="Bound">bc</a> <a id="36441" href="Demos.HSP-markdown.html#36368" class="Bound">b</a><a id="36442" class="Symbol">)</a>
  <a id="36446" href="Demos.HSP-markdown.html#36446" class="Function">Î½</a> <a id="36448" class="Symbol">:</a> <a id="36450" class="Symbol">âˆ€</a> <a id="36452" href="Demos.HSP-markdown.html#36452" class="Bound">a</a> <a id="36454" class="Symbol">â†’</a> <a id="36456" class="Symbol">(</a><a id="36457" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36459" href="Demos.HSP-markdown.html#36276" class="Function">g</a> <a id="36461" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36463" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="36467" class="Symbol">(</a><a id="36468" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36470" href="Demos.HSP-markdown.html#36234" class="Function">f</a> <a id="36472" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36474" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="36478" href="Demos.HSP-markdown.html#36452" class="Bound">a</a><a id="36479" class="Symbol">))</a> <a id="36482" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="36484" href="Demos.HSP-markdown.html#36452" class="Bound">a</a>
  <a id="36488" href="Demos.HSP-markdown.html#36446" class="Function">Î½</a> <a id="36490" href="Demos.HSP-markdown.html#36490" class="Bound">a</a> <a id="36492" class="Symbol">=</a> <a id="36494" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="36500" class="Symbol">(</a><a id="36501" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="36506" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36508" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="36513" href="Demos.HSP-markdown.html#36087" class="Bound">ab</a> <a id="36516" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36518" class="Symbol">(</a><a id="36519" href="Demos.HSP-markdown.html#34914" class="Field">fromâˆ¼to</a> <a id="36527" href="Demos.HSP-markdown.html#36090" class="Bound">bc</a> <a id="36530" class="Symbol">(</a><a id="36531" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36533" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="36536" href="Demos.HSP-markdown.html#36087" class="Bound">ab</a> <a id="36539" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="36541" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="36545" href="Demos.HSP-markdown.html#36490" class="Bound">a</a><a id="36546" class="Symbol">)))</a> <a id="36550" class="Symbol">(</a><a id="36551" href="Demos.HSP-markdown.html#34914" class="Field">fromâˆ¼to</a> <a id="36559" href="Demos.HSP-markdown.html#36087" class="Bound">ab</a> <a id="36562" href="Demos.HSP-markdown.html#36490" class="Bound">a</a><a id="36563" class="Symbol">)</a>

</pre>

Fortunately, the lift operation preserves isomorphism (i.e., it's an *algebraic invariant*). As our focus is universal algebra, this is important and is what makes the lift operation a workable solution to the technical problems that arise from the noncumulativity of Agda's universe hierarchy.

<pre class="Agda">
<a id="36893" class="Keyword">module</a> <a id="36900" href="Demos.HSP-markdown.html#36900" class="Module">_</a> <a id="36902" class="Symbol">{</a><a id="36903" href="Demos.HSP-markdown.html#36903" class="Bound">ğ‘¨</a> <a id="36905" class="Symbol">:</a> <a id="36907" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="36915" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="36917" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="36919" class="Symbol">}{</a><a id="36921" href="Demos.HSP-markdown.html#36921" class="Bound">â„“</a> <a id="36923" class="Symbol">:</a> <a id="36925" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="36930" class="Symbol">}</a> <a id="36932" class="Keyword">where</a>
 <a id="36939" href="Demos.HSP-markdown.html#36939" class="Function">Lift-â‰…Ë¡</a> <a id="36947" class="Symbol">:</a> <a id="36949" href="Demos.HSP-markdown.html#36903" class="Bound">ğ‘¨</a> <a id="36951" href="Demos.HSP-markdown.html#34751" class="Record Operator">â‰…</a> <a id="36953" class="Symbol">(</a><a id="36954" href="Demos.HSP-markdown.html#24232" class="Function">Lift-AlgË¡</a> <a id="36964" href="Demos.HSP-markdown.html#36903" class="Bound">ğ‘¨</a> <a id="36966" href="Demos.HSP-markdown.html#36921" class="Bound">â„“</a><a id="36967" class="Symbol">)</a>
 <a id="36970" href="Demos.HSP-markdown.html#36939" class="Function">Lift-â‰…Ë¡</a> <a id="36978" class="Symbol">=</a> <a id="36980" href="Demos.HSP-markdown.html#34809" class="InductiveConstructor">mkiso</a> <a id="36986" href="Demos.HSP-markdown.html#30117" class="Function">ToLiftË¡</a> <a id="36994" href="Demos.HSP-markdown.html#30221" class="Function">FromLiftË¡</a> <a id="37004" class="Symbol">(</a><a id="37005" href="Demos.HSP-markdown.html#30317" class="Function">ToFromLiftË¡</a><a id="37016" class="Symbol">{</a><a id="37017" class="Argument">ğ‘¨</a> <a id="37019" class="Symbol">=</a> <a id="37021" href="Demos.HSP-markdown.html#36903" class="Bound">ğ‘¨</a><a id="37022" class="Symbol">})</a> <a id="37025" class="Symbol">(</a><a id="37026" href="Demos.HSP-markdown.html#30408" class="Function">FromToLiftË¡</a><a id="37037" class="Symbol">{</a><a id="37038" class="Argument">ğ‘¨</a> <a id="37040" class="Symbol">=</a> <a id="37042" href="Demos.HSP-markdown.html#36903" class="Bound">ğ‘¨</a><a id="37043" class="Symbol">}{</a><a id="37045" href="Demos.HSP-markdown.html#36921" class="Bound">â„“</a><a id="37046" class="Symbol">})</a>

 <a id="37051" href="Demos.HSP-markdown.html#37051" class="Function">Lift-â‰…Ê³</a> <a id="37059" class="Symbol">:</a> <a id="37061" href="Demos.HSP-markdown.html#36903" class="Bound">ğ‘¨</a> <a id="37063" href="Demos.HSP-markdown.html#34751" class="Record Operator">â‰…</a> <a id="37065" class="Symbol">(</a><a id="37066" href="Demos.HSP-markdown.html#24614" class="Function">Lift-AlgÊ³</a> <a id="37076" href="Demos.HSP-markdown.html#36903" class="Bound">ğ‘¨</a> <a id="37078" href="Demos.HSP-markdown.html#36921" class="Bound">â„“</a><a id="37079" class="Symbol">)</a>
 <a id="37082" href="Demos.HSP-markdown.html#37051" class="Function">Lift-â‰…Ê³</a> <a id="37090" class="Symbol">=</a> <a id="37092" href="Demos.HSP-markdown.html#34809" class="InductiveConstructor">mkiso</a> <a id="37098" href="Demos.HSP-markdown.html#30498" class="Function">ToLiftÊ³</a> <a id="37106" href="Demos.HSP-markdown.html#30609" class="Function">FromLiftÊ³</a> <a id="37116" class="Symbol">(</a><a id="37117" href="Demos.HSP-markdown.html#30705" class="Function">ToFromLiftÊ³</a><a id="37128" class="Symbol">{</a><a id="37129" class="Argument">ğ‘¨</a> <a id="37131" class="Symbol">=</a> <a id="37133" href="Demos.HSP-markdown.html#36903" class="Bound">ğ‘¨</a><a id="37134" class="Symbol">})</a> <a id="37137" class="Symbol">(</a><a id="37138" href="Demos.HSP-markdown.html#30800" class="Function">FromToLiftÊ³</a><a id="37149" class="Symbol">{</a><a id="37150" class="Argument">ğ‘¨</a> <a id="37152" class="Symbol">=</a> <a id="37154" href="Demos.HSP-markdown.html#36903" class="Bound">ğ‘¨</a><a id="37155" class="Symbol">}{</a><a id="37157" href="Demos.HSP-markdown.html#36921" class="Bound">â„“</a><a id="37158" class="Symbol">})</a>

<a id="Lift-â‰…"></a><a id="37162" href="Demos.HSP-markdown.html#37162" class="Function">Lift-â‰…</a> <a id="37169" class="Symbol">:</a> <a id="37171" class="Symbol">{</a><a id="37172" href="Demos.HSP-markdown.html#37172" class="Bound">ğ‘¨</a> <a id="37174" class="Symbol">:</a> <a id="37176" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="37184" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="37186" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="37188" class="Symbol">}{</a><a id="37190" href="Demos.HSP-markdown.html#37190" class="Bound">â„“</a> <a id="37192" href="Demos.HSP-markdown.html#37192" class="Bound">Ï</a> <a id="37194" class="Symbol">:</a> <a id="37196" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="37201" class="Symbol">}</a> <a id="37203" class="Symbol">â†’</a> <a id="37205" href="Demos.HSP-markdown.html#37172" class="Bound">ğ‘¨</a> <a id="37207" href="Demos.HSP-markdown.html#34751" class="Record Operator">â‰…</a> <a id="37209" class="Symbol">(</a><a id="37210" href="Demos.HSP-markdown.html#25122" class="Function">Lift-Alg</a> <a id="37219" href="Demos.HSP-markdown.html#37172" class="Bound">ğ‘¨</a> <a id="37221" href="Demos.HSP-markdown.html#37190" class="Bound">â„“</a> <a id="37223" href="Demos.HSP-markdown.html#37192" class="Bound">Ï</a><a id="37224" class="Symbol">)</a>
<a id="37226" href="Demos.HSP-markdown.html#37162" class="Function">Lift-â‰…</a> <a id="37233" class="Symbol">=</a> <a id="37235" href="Demos.HSP-markdown.html#35999" class="Function">â‰…-trans</a> <a id="37243" href="Demos.HSP-markdown.html#36939" class="Function">Lift-â‰…Ë¡</a> <a id="37251" href="Demos.HSP-markdown.html#37051" class="Function">Lift-â‰…Ê³</a>
</pre>


### Homomorphic Images

We begin with what for our purposes is the most useful way to represent the class of *homomorphic images* of an algebra in dependent type theory (cf. the [Homomorphisms.Func.HomomorphicImages][] module of the [Agda Universal Algebra Library][]). (The first definition is merely a short-hand.)

<pre class="Agda">
<a id="ov"></a><a id="37603" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="37606" class="Symbol">:</a> <a id="37608" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="37614" class="Symbol">â†’</a> <a id="37616" href="Agda.Primitive.html#597" class="Postulate">Level</a>
<a id="37622" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="37625" href="Demos.HSP-markdown.html#37625" class="Bound">Î±</a> <a id="37627" class="Symbol">=</a> <a id="37629" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="37631" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37633" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="37635" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37637" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="37642" href="Demos.HSP-markdown.html#37625" class="Bound">Î±</a>

<a id="_IsHomImageOf_"></a><a id="37645" href="Demos.HSP-markdown.html#37645" class="Function Operator">_IsHomImageOf_</a> <a id="37660" class="Symbol">:</a> <a id="37662" class="Symbol">(</a><a id="37663" href="Demos.HSP-markdown.html#37663" class="Bound">ğ‘©</a> <a id="37665" class="Symbol">:</a> <a id="37667" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="37675" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="37677" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="37679" class="Symbol">)(</a><a id="37681" href="Demos.HSP-markdown.html#37681" class="Bound">ğ‘¨</a> <a id="37683" class="Symbol">:</a> <a id="37685" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="37693" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="37695" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="37697" class="Symbol">)</a> <a id="37699" class="Symbol">â†’</a> <a id="37701" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="37706" class="Symbol">(</a><a id="37707" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="37709" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37711" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="37713" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37715" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="37717" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37719" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="37721" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37723" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="37726" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37728" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="37730" class="Symbol">)</a>
<a id="37732" href="Demos.HSP-markdown.html#37732" class="Bound">ğ‘©</a> <a id="37734" href="Demos.HSP-markdown.html#37645" class="Function Operator">IsHomImageOf</a> <a id="37747" href="Demos.HSP-markdown.html#37747" class="Bound">ğ‘¨</a> <a id="37749" class="Symbol">=</a> <a id="37751" href="Data.Product.html#916" class="Function">Î£[</a> <a id="37754" href="Demos.HSP-markdown.html#37754" class="Bound">Ï†</a> <a id="37756" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="37758" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="37762" href="Demos.HSP-markdown.html#37747" class="Bound">ğ‘¨</a> <a id="37764" href="Demos.HSP-markdown.html#37732" class="Bound">ğ‘©</a> <a id="37766" href="Data.Product.html#916" class="Function">]</a> <a id="37768" href="Demos.HSP-markdown.html#14743" class="Function">IsSurjective</a> <a id="37781" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="37783" href="Demos.HSP-markdown.html#37754" class="Bound">Ï†</a> <a id="37785" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>

<a id="HomImages"></a><a id="37788" href="Demos.HSP-markdown.html#37788" class="Function">HomImages</a> <a id="37798" class="Symbol">:</a> <a id="37800" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="37808" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="37810" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="37813" class="Symbol">â†’</a> <a id="37815" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="37820" class="Symbol">(</a><a id="37821" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="37823" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37825" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="37828" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37830" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="37833" class="Symbol">(</a><a id="37834" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="37836" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="37838" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="37840" class="Symbol">))</a>
<a id="37843" href="Demos.HSP-markdown.html#37788" class="Function">HomImages</a> <a id="37853" class="Symbol">{</a><a id="37854" class="Argument">Î²</a> <a id="37856" class="Symbol">=</a> <a id="37858" href="Demos.HSP-markdown.html#37858" class="Bound">Î²</a><a id="37859" class="Symbol">}{</a><a id="37861" class="Argument">Ïáµ‡</a> <a id="37864" class="Symbol">=</a> <a id="37866" href="Demos.HSP-markdown.html#37866" class="Bound">Ïáµ‡</a><a id="37868" class="Symbol">}</a> <a id="37870" href="Demos.HSP-markdown.html#37870" class="Bound">ğ‘¨</a> <a id="37872" class="Symbol">=</a> <a id="37874" href="Data.Product.html#916" class="Function">Î£[</a> <a id="37877" href="Demos.HSP-markdown.html#37877" class="Bound">ğ‘©</a> <a id="37879" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="37881" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="37889" href="Demos.HSP-markdown.html#37858" class="Bound">Î²</a> <a id="37891" href="Demos.HSP-markdown.html#37866" class="Bound">Ïáµ‡</a> <a id="37894" href="Data.Product.html#916" class="Function">]</a> <a id="37896" href="Demos.HSP-markdown.html#37877" class="Bound">ğ‘©</a> <a id="37898" href="Demos.HSP-markdown.html#37645" class="Function Operator">IsHomImageOf</a> <a id="37911" href="Demos.HSP-markdown.html#37870" class="Bound">ğ‘¨</a>

</pre>

These types should be self-explanatory, but just to be sure, let's describe the Sigma type appearing in the second definition. Given an `ğ‘†`-algebra `ğ‘¨ : Algebra Î± Ï`, the type `HomImages ğ‘¨` denotes the class of algebras `ğ‘© : Algebra Î² Ï` with a map `Ï† : âˆ£ ğ‘¨ âˆ£ â†’ âˆ£ ğ‘© âˆ£` such that `Ï†` is a surjective homomorphism.

<pre class="Agda">
<a id="38259" class="Keyword">module</a> <a id="38266" href="Demos.HSP-markdown.html#38266" class="Module">_</a> <a id="38268" class="Symbol">{</a><a id="38269" href="Demos.HSP-markdown.html#38269" class="Bound">ğ‘¨</a> <a id="38271" class="Symbol">:</a> <a id="38273" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="38281" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="38283" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="38285" class="Symbol">}{</a><a id="38287" href="Demos.HSP-markdown.html#38287" class="Bound">ğ‘©</a> <a id="38289" class="Symbol">:</a> <a id="38291" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="38299" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="38301" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="38303" class="Symbol">}</a> <a id="38305" class="Keyword">where</a>

 <a id="38313" href="Demos.HSP-markdown.html#38313" class="Function">Lift-HomImage-lemma</a> <a id="38333" class="Symbol">:</a> <a id="38335" class="Symbol">âˆ€{</a><a id="38337" href="Demos.HSP-markdown.html#38337" class="Bound">Î³</a><a id="38338" class="Symbol">}</a> <a id="38340" class="Symbol">â†’</a> <a id="38342" class="Symbol">(</a><a id="38343" href="Demos.HSP-markdown.html#25122" class="Function">Lift-Alg</a> <a id="38352" href="Demos.HSP-markdown.html#38269" class="Bound">ğ‘¨</a> <a id="38354" href="Demos.HSP-markdown.html#38337" class="Bound">Î³</a> <a id="38356" href="Demos.HSP-markdown.html#38337" class="Bound">Î³</a><a id="38357" class="Symbol">)</a> <a id="38359" href="Demos.HSP-markdown.html#37645" class="Function Operator">IsHomImageOf</a> <a id="38372" href="Demos.HSP-markdown.html#38287" class="Bound">ğ‘©</a> <a id="38374" class="Symbol">â†’</a> <a id="38376" href="Demos.HSP-markdown.html#38269" class="Bound">ğ‘¨</a> <a id="38378" href="Demos.HSP-markdown.html#37645" class="Function Operator">IsHomImageOf</a> <a id="38391" href="Demos.HSP-markdown.html#38287" class="Bound">ğ‘©</a>
 <a id="38394" href="Demos.HSP-markdown.html#38313" class="Function">Lift-HomImage-lemma</a> <a id="38414" class="Symbol">{</a><a id="38415" href="Demos.HSP-markdown.html#38415" class="Bound">Î³</a><a id="38416" class="Symbol">}</a> <a id="38418" href="Demos.HSP-markdown.html#38418" class="Bound">Ï†</a> <a id="38420" class="Symbol">=</a> <a id="38422" href="Demos.HSP-markdown.html#29160" class="Function">âˆ˜-hom</a> <a id="38428" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="38430" href="Demos.HSP-markdown.html#38418" class="Bound">Ï†</a> <a id="38432" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="38434" class="Symbol">(</a><a id="38435" href="Demos.HSP-markdown.html#34842" class="Field">from</a> <a id="38440" href="Demos.HSP-markdown.html#37162" class="Function">Lift-â‰…</a><a id="38446" class="Symbol">)</a> <a id="38448" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a>
                             <a id="38479" href="Demos.HSP-markdown.html#15527" class="Function">âˆ˜-IsSurjective</a> <a id="38494" class="Symbol">_</a> <a id="38496" class="Symbol">_</a> <a id="38498" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="38500" href="Demos.HSP-markdown.html#38418" class="Bound">Ï†</a> <a id="38502" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="38504" class="Symbol">(</a><a id="38505" href="Demos.HSP-markdown.html#35311" class="Function">fromIsSurjective</a> <a id="38522" class="Symbol">(</a><a id="38523" href="Demos.HSP-markdown.html#37162" class="Function">Lift-â‰…</a><a id="38529" class="Symbol">{</a><a id="38530" class="Argument">ğ‘¨</a> <a id="38532" class="Symbol">=</a> <a id="38534" href="Demos.HSP-markdown.html#38269" class="Bound">ğ‘¨</a><a id="38535" class="Symbol">}))</a>

<a id="38540" class="Keyword">module</a> <a id="38547" href="Demos.HSP-markdown.html#38547" class="Module">_</a> <a id="38549" class="Symbol">{</a><a id="38550" href="Demos.HSP-markdown.html#38550" class="Bound">ğ‘¨</a> <a id="38552" href="Demos.HSP-markdown.html#38552" class="Bound">ğ‘¨&#39;</a> <a id="38555" class="Symbol">:</a> <a id="38557" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="38565" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="38567" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="38569" class="Symbol">}{</a><a id="38571" href="Demos.HSP-markdown.html#38571" class="Bound">ğ‘©</a> <a id="38573" class="Symbol">:</a> <a id="38575" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="38583" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="38585" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="38587" class="Symbol">}</a> <a id="38589" class="Keyword">where</a>

 <a id="38597" href="Demos.HSP-markdown.html#38597" class="Function">HomImage-â‰…</a> <a id="38608" class="Symbol">:</a> <a id="38610" href="Demos.HSP-markdown.html#38550" class="Bound">ğ‘¨</a> <a id="38612" href="Demos.HSP-markdown.html#37645" class="Function Operator">IsHomImageOf</a> <a id="38625" href="Demos.HSP-markdown.html#38552" class="Bound">ğ‘¨&#39;</a> <a id="38628" class="Symbol">â†’</a> <a id="38630" href="Demos.HSP-markdown.html#38550" class="Bound">ğ‘¨</a> <a id="38632" href="Demos.HSP-markdown.html#34751" class="Record Operator">â‰…</a> <a id="38634" href="Demos.HSP-markdown.html#38571" class="Bound">ğ‘©</a> <a id="38636" class="Symbol">â†’</a> <a id="38638" href="Demos.HSP-markdown.html#38571" class="Bound">ğ‘©</a> <a id="38640" href="Demos.HSP-markdown.html#37645" class="Function Operator">IsHomImageOf</a> <a id="38653" href="Demos.HSP-markdown.html#38552" class="Bound">ğ‘¨&#39;</a>
 <a id="38657" href="Demos.HSP-markdown.html#38597" class="Function">HomImage-â‰…</a> <a id="38668" href="Demos.HSP-markdown.html#38668" class="Bound">Ï†</a> <a id="38670" href="Demos.HSP-markdown.html#38670" class="Bound">Aâ‰…B</a> <a id="38674" class="Symbol">=</a> <a id="38676" href="Demos.HSP-markdown.html#29160" class="Function">âˆ˜-hom</a> <a id="38682" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="38684" href="Demos.HSP-markdown.html#38668" class="Bound">Ï†</a> <a id="38686" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="38688" class="Symbol">(</a><a id="38689" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="38692" href="Demos.HSP-markdown.html#38670" class="Bound">Aâ‰…B</a><a id="38695" class="Symbol">)</a> <a id="38697" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="38699" href="Demos.HSP-markdown.html#15527" class="Function">âˆ˜-IsSurjective</a> <a id="38714" class="Symbol">_</a> <a id="38716" class="Symbol">_</a> <a id="38718" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="38720" href="Demos.HSP-markdown.html#38668" class="Bound">Ï†</a> <a id="38722" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="38724" class="Symbol">(</a><a id="38725" href="Demos.HSP-markdown.html#34967" class="Function">toIsSurjective</a> <a id="38740" href="Demos.HSP-markdown.html#38670" class="Bound">Aâ‰…B</a><a id="38743" class="Symbol">)</a>
</pre>




<!-- ------------------------------------------------------------------------------------- -->

## <a id="subalgebras">Subalgebras</a>
### <a id="subalgebras-basic-definitions">Basic definitions</a>

<pre class="Agda">

<a id="_â‰¤_"></a><a id="38974" href="Demos.HSP-markdown.html#38974" class="Function Operator">_â‰¤_</a> <a id="38978" class="Symbol">:</a> <a id="38980" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="38988" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="38990" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="38993" class="Symbol">â†’</a> <a id="38995" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="39003" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="39005" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a> <a id="39008" class="Symbol">â†’</a> <a id="39010" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="39015" class="Symbol">(</a><a id="39016" href="Demos.HSP-markdown.html#7564" class="Bound">ğ“</a> <a id="39018" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="39020" href="Demos.HSP-markdown.html#7566" class="Bound">ğ“¥</a> <a id="39022" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="39024" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="39026" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="39028" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="39031" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="39033" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="39035" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="39037" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="39039" class="Symbol">)</a>
<a id="39041" href="Demos.HSP-markdown.html#39041" class="Bound">ğ‘¨</a> <a id="39043" href="Demos.HSP-markdown.html#38974" class="Function Operator">â‰¤</a> <a id="39045" href="Demos.HSP-markdown.html#39045" class="Bound">ğ‘©</a> <a id="39047" class="Symbol">=</a> <a id="39049" href="Data.Product.html#916" class="Function">Î£[</a> <a id="39052" href="Demos.HSP-markdown.html#39052" class="Bound">h</a> <a id="39054" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="39056" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="39060" href="Demos.HSP-markdown.html#39041" class="Bound">ğ‘¨</a> <a id="39062" href="Demos.HSP-markdown.html#39045" class="Bound">ğ‘©</a> <a id="39064" href="Data.Product.html#916" class="Function">]</a> <a id="39066" href="Demos.HSP-markdown.html#14660" class="Function">IsInjective</a> <a id="39078" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39080" href="Demos.HSP-markdown.html#39052" class="Bound">h</a> <a id="39082" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
</pre>

### <a id="subalgebras-basic-properties">Basic properties</a>

<pre class="Agda">

<a id="â‰¤-reflexive"></a><a id="39173" href="Demos.HSP-markdown.html#39173" class="Function">â‰¤-reflexive</a> <a id="39185" class="Symbol">:</a> <a id="39187" class="Symbol">{</a><a id="39188" href="Demos.HSP-markdown.html#39188" class="Bound">ğ‘¨</a> <a id="39190" class="Symbol">:</a> <a id="39192" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="39200" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="39202" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="39204" class="Symbol">}</a> <a id="39206" class="Symbol">â†’</a> <a id="39208" href="Demos.HSP-markdown.html#39188" class="Bound">ğ‘¨</a> <a id="39210" href="Demos.HSP-markdown.html#38974" class="Function Operator">â‰¤</a> <a id="39212" href="Demos.HSP-markdown.html#39188" class="Bound">ğ‘¨</a>
<a id="39214" href="Demos.HSP-markdown.html#39173" class="Function">â‰¤-reflexive</a> <a id="39226" class="Symbol">{</a><a id="39227" class="Argument">ğ‘¨</a> <a id="39229" class="Symbol">=</a> <a id="39231" href="Demos.HSP-markdown.html#39231" class="Bound">ğ‘¨</a><a id="39232" class="Symbol">}</a> <a id="39234" class="Symbol">=</a> <a id="39236" href="Demos.HSP-markdown.html#29646" class="Function">ğ’¾ğ’¹</a> <a id="39239" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39241" href="Function.Base.html#615" class="Function">id</a>

<a id="monâ†’â‰¤"></a><a id="39245" href="Demos.HSP-markdown.html#39245" class="Function">monâ†’â‰¤</a> <a id="39251" class="Symbol">:</a> <a id="39253" class="Symbol">{</a><a id="39254" href="Demos.HSP-markdown.html#39254" class="Bound">ğ‘¨</a> <a id="39256" class="Symbol">:</a> <a id="39258" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="39266" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="39268" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="39270" class="Symbol">}{</a><a id="39272" href="Demos.HSP-markdown.html#39272" class="Bound">ğ‘©</a> <a id="39274" class="Symbol">:</a> <a id="39276" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="39284" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="39286" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="39288" class="Symbol">}</a> <a id="39290" class="Symbol">â†’</a> <a id="39292" href="Demos.HSP-markdown.html#27432" class="Function">mon</a> <a id="39296" href="Demos.HSP-markdown.html#39254" class="Bound">ğ‘¨</a> <a id="39298" href="Demos.HSP-markdown.html#39272" class="Bound">ğ‘©</a> <a id="39300" class="Symbol">â†’</a> <a id="39302" href="Demos.HSP-markdown.html#39254" class="Bound">ğ‘¨</a> <a id="39304" href="Demos.HSP-markdown.html#38974" class="Function Operator">â‰¤</a> <a id="39306" href="Demos.HSP-markdown.html#39272" class="Bound">ğ‘©</a>
<a id="39308" href="Demos.HSP-markdown.html#39245" class="Function">monâ†’â‰¤</a> <a id="39314" class="Symbol">{</a><a id="39315" class="Argument">ğ‘¨</a> <a id="39317" class="Symbol">=</a> <a id="39319" href="Demos.HSP-markdown.html#39319" class="Bound">ğ‘¨</a><a id="39320" class="Symbol">}{</a><a id="39322" href="Demos.HSP-markdown.html#39322" class="Bound">ğ‘©</a><a id="39323" class="Symbol">}</a> <a id="39325" href="Demos.HSP-markdown.html#39325" class="Bound">x</a> <a id="39327" class="Symbol">=</a> <a id="39329" href="Demos.HSP-markdown.html#27789" class="Function">monâ†’intohom</a> <a id="39341" href="Demos.HSP-markdown.html#39319" class="Bound">ğ‘¨</a> <a id="39343" href="Demos.HSP-markdown.html#39322" class="Bound">ğ‘©</a> <a id="39345" href="Demos.HSP-markdown.html#39325" class="Bound">x</a>

<a id="39348" class="Keyword">module</a> <a id="39355" href="Demos.HSP-markdown.html#39355" class="Module">_</a> <a id="39357" class="Symbol">{</a><a id="39358" href="Demos.HSP-markdown.html#39358" class="Bound">ğ‘¨</a> <a id="39360" class="Symbol">:</a> <a id="39362" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="39370" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="39372" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="39374" class="Symbol">}{</a><a id="39376" href="Demos.HSP-markdown.html#39376" class="Bound">ğ‘©</a> <a id="39378" class="Symbol">:</a> <a id="39380" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="39388" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="39390" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="39392" class="Symbol">}{</a><a id="39394" href="Demos.HSP-markdown.html#39394" class="Bound">ğ‘ª</a> <a id="39396" class="Symbol">:</a> <a id="39398" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="39406" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a> <a id="39408" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="39410" class="Symbol">}</a> <a id="39412" class="Keyword">where</a>
 <a id="39419" href="Demos.HSP-markdown.html#39419" class="Function">â‰¤-trans</a> <a id="39427" class="Symbol">:</a> <a id="39429" href="Demos.HSP-markdown.html#39358" class="Bound">ğ‘¨</a> <a id="39431" href="Demos.HSP-markdown.html#38974" class="Function Operator">â‰¤</a> <a id="39433" href="Demos.HSP-markdown.html#39376" class="Bound">ğ‘©</a> <a id="39435" class="Symbol">â†’</a> <a id="39437" href="Demos.HSP-markdown.html#39376" class="Bound">ğ‘©</a> <a id="39439" href="Demos.HSP-markdown.html#38974" class="Function Operator">â‰¤</a> <a id="39441" href="Demos.HSP-markdown.html#39394" class="Bound">ğ‘ª</a> <a id="39443" class="Symbol">â†’</a> <a id="39445" href="Demos.HSP-markdown.html#39358" class="Bound">ğ‘¨</a> <a id="39447" href="Demos.HSP-markdown.html#38974" class="Function Operator">â‰¤</a> <a id="39449" href="Demos.HSP-markdown.html#39394" class="Bound">ğ‘ª</a>
 <a id="39452" href="Demos.HSP-markdown.html#39419" class="Function">â‰¤-trans</a> <a id="39460" class="Symbol">(</a> <a id="39462" href="Demos.HSP-markdown.html#39462" class="Bound">f</a> <a id="39464" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39466" href="Demos.HSP-markdown.html#39466" class="Bound">finj</a> <a id="39471" class="Symbol">)</a> <a id="39473" class="Symbol">(</a> <a id="39475" href="Demos.HSP-markdown.html#39475" class="Bound">g</a> <a id="39477" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39479" href="Demos.HSP-markdown.html#39479" class="Bound">ginj</a> <a id="39484" class="Symbol">)</a> <a id="39486" class="Symbol">=</a> <a id="39488" class="Symbol">(</a><a id="39489" href="Demos.HSP-markdown.html#29160" class="Function">âˆ˜-hom</a> <a id="39495" href="Demos.HSP-markdown.html#39462" class="Bound">f</a> <a id="39497" href="Demos.HSP-markdown.html#39475" class="Bound">g</a> <a id="39499" class="Symbol">)</a> <a id="39501" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39503" href="Demos.HSP-markdown.html#15416" class="Function">âˆ˜-IsInjective</a> <a id="39517" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39519" href="Demos.HSP-markdown.html#39462" class="Bound">f</a> <a id="39521" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39523" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39525" href="Demos.HSP-markdown.html#39475" class="Bound">g</a> <a id="39527" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39529" href="Demos.HSP-markdown.html#39466" class="Bound">finj</a> <a id="39534" href="Demos.HSP-markdown.html#39479" class="Bound">ginj</a>

 <a id="39541" href="Demos.HSP-markdown.html#39541" class="Function">â‰…-trans-â‰¤</a> <a id="39551" class="Symbol">:</a> <a id="39553" href="Demos.HSP-markdown.html#39358" class="Bound">ğ‘¨</a> <a id="39555" href="Demos.HSP-markdown.html#34751" class="Record Operator">â‰…</a> <a id="39557" href="Demos.HSP-markdown.html#39376" class="Bound">ğ‘©</a> <a id="39559" class="Symbol">â†’</a> <a id="39561" href="Demos.HSP-markdown.html#39376" class="Bound">ğ‘©</a> <a id="39563" href="Demos.HSP-markdown.html#38974" class="Function Operator">â‰¤</a> <a id="39565" href="Demos.HSP-markdown.html#39394" class="Bound">ğ‘ª</a> <a id="39567" class="Symbol">â†’</a> <a id="39569" href="Demos.HSP-markdown.html#39358" class="Bound">ğ‘¨</a> <a id="39571" href="Demos.HSP-markdown.html#38974" class="Function Operator">â‰¤</a> <a id="39573" href="Demos.HSP-markdown.html#39394" class="Bound">ğ‘ª</a>
 <a id="39576" href="Demos.HSP-markdown.html#39541" class="Function">â‰…-trans-â‰¤</a> <a id="39586" href="Demos.HSP-markdown.html#39586" class="Bound">Aâ‰…B</a> <a id="39590" class="Symbol">(</a><a id="39591" href="Demos.HSP-markdown.html#39591" class="Bound">h</a> <a id="39593" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39595" href="Demos.HSP-markdown.html#39595" class="Bound">hinj</a><a id="39599" class="Symbol">)</a> <a id="39601" class="Symbol">=</a> <a id="39603" class="Symbol">(</a><a id="39604" href="Demos.HSP-markdown.html#29160" class="Function">âˆ˜-hom</a> <a id="39610" class="Symbol">(</a><a id="39611" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="39614" href="Demos.HSP-markdown.html#39586" class="Bound">Aâ‰…B</a><a id="39617" class="Symbol">)</a> <a id="39619" href="Demos.HSP-markdown.html#39591" class="Bound">h</a><a id="39620" class="Symbol">)</a> <a id="39622" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39624" class="Symbol">(</a><a id="39625" href="Demos.HSP-markdown.html#15416" class="Function">âˆ˜-IsInjective</a> <a id="39639" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39641" href="Demos.HSP-markdown.html#34826" class="Field">to</a> <a id="39644" href="Demos.HSP-markdown.html#39586" class="Bound">Aâ‰…B</a> <a id="39648" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39650" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39652" href="Demos.HSP-markdown.html#39591" class="Bound">h</a> <a id="39654" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39656" class="Symbol">(</a><a id="39657" href="Demos.HSP-markdown.html#35069" class="Function">toIsInjective</a> <a id="39671" href="Demos.HSP-markdown.html#39586" class="Bound">Aâ‰…B</a><a id="39674" class="Symbol">)</a> <a id="39676" href="Demos.HSP-markdown.html#39595" class="Bound">hinj</a><a id="39680" class="Symbol">)</a>
</pre>

### <a id="products-of-subalgebras">Products of subalgebras</a>

<pre class="Agda">

<a id="39773" class="Keyword">module</a> <a id="39780" href="Demos.HSP-markdown.html#39780" class="Module">_</a> <a id="39782" class="Symbol">{</a><a id="39783" href="Demos.HSP-markdown.html#39783" class="Bound">Î¹</a> <a id="39785" class="Symbol">:</a> <a id="39787" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="39792" class="Symbol">}</a> <a id="39794" class="Symbol">{</a><a id="39795" href="Demos.HSP-markdown.html#39795" class="Bound">I</a> <a id="39797" class="Symbol">:</a> <a id="39799" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="39804" href="Demos.HSP-markdown.html#39783" class="Bound">Î¹</a><a id="39805" class="Symbol">}{</a><a id="39807" href="Demos.HSP-markdown.html#39807" class="Bound">ğ’œ</a> <a id="39809" class="Symbol">:</a> <a id="39811" href="Demos.HSP-markdown.html#39795" class="Bound">I</a> <a id="39813" class="Symbol">â†’</a> <a id="39815" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="39823" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="39825" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="39827" class="Symbol">}{</a><a id="39829" href="Demos.HSP-markdown.html#39829" class="Bound">â„¬</a> <a id="39831" class="Symbol">:</a> <a id="39833" href="Demos.HSP-markdown.html#39795" class="Bound">I</a> <a id="39835" class="Symbol">â†’</a> <a id="39837" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="39845" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="39847" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="39849" class="Symbol">}</a> <a id="39851" class="Keyword">where</a>

 <a id="39859" href="Demos.HSP-markdown.html#39859" class="Function">â¨…-â‰¤</a> <a id="39863" class="Symbol">:</a> <a id="39865" class="Symbol">(âˆ€</a> <a id="39868" href="Demos.HSP-markdown.html#39868" class="Bound">i</a> <a id="39870" class="Symbol">â†’</a> <a id="39872" href="Demos.HSP-markdown.html#39829" class="Bound">â„¬</a> <a id="39874" href="Demos.HSP-markdown.html#39868" class="Bound">i</a> <a id="39876" href="Demos.HSP-markdown.html#38974" class="Function Operator">â‰¤</a> <a id="39878" href="Demos.HSP-markdown.html#39807" class="Bound">ğ’œ</a> <a id="39880" href="Demos.HSP-markdown.html#39868" class="Bound">i</a><a id="39881" class="Symbol">)</a> <a id="39883" class="Symbol">â†’</a> <a id="39885" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="39887" href="Demos.HSP-markdown.html#39829" class="Bound">â„¬</a> <a id="39889" href="Demos.HSP-markdown.html#38974" class="Function Operator">â‰¤</a> <a id="39891" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="39893" href="Demos.HSP-markdown.html#39807" class="Bound">ğ’œ</a>
 <a id="39896" href="Demos.HSP-markdown.html#39859" class="Function">â¨…-â‰¤</a> <a id="39900" href="Demos.HSP-markdown.html#39900" class="Bound">Bâ‰¤A</a> <a id="39904" class="Symbol">=</a> <a id="39906" class="Symbol">(</a><a id="39907" href="Demos.HSP-markdown.html#39985" class="Function">hfunc</a> <a id="39913" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39915" href="Demos.HSP-markdown.html#40100" class="Function">hhom</a><a id="39919" class="Symbol">)</a> <a id="39921" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="39923" href="Demos.HSP-markdown.html#40180" class="Function">hM</a>
  <a id="39928" class="Keyword">where</a>
  <a id="39936" href="Demos.HSP-markdown.html#39936" class="Function">hi</a> <a id="39939" class="Symbol">:</a> <a id="39941" class="Symbol">âˆ€</a> <a id="39943" href="Demos.HSP-markdown.html#39943" class="Bound">i</a> <a id="39945" class="Symbol">â†’</a> <a id="39947" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="39951" class="Symbol">(</a><a id="39952" href="Demos.HSP-markdown.html#39829" class="Bound">â„¬</a> <a id="39954" href="Demos.HSP-markdown.html#39943" class="Bound">i</a><a id="39955" class="Symbol">)</a> <a id="39957" class="Symbol">(</a><a id="39958" href="Demos.HSP-markdown.html#39807" class="Bound">ğ’œ</a> <a id="39960" href="Demos.HSP-markdown.html#39943" class="Bound">i</a><a id="39961" class="Symbol">)</a>
  <a id="39965" href="Demos.HSP-markdown.html#39936" class="Function">hi</a> <a id="39968" href="Demos.HSP-markdown.html#39968" class="Bound">i</a> <a id="39970" class="Symbol">=</a> <a id="39972" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="39974" href="Demos.HSP-markdown.html#39900" class="Bound">Bâ‰¤A</a> <a id="39978" href="Demos.HSP-markdown.html#39968" class="Bound">i</a> <a id="39980" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>

  <a id="39985" href="Demos.HSP-markdown.html#39985" class="Function">hfunc</a> <a id="39991" class="Symbol">:</a> <a id="39993" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="39996" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="39998" href="Demos.HSP-markdown.html#39829" class="Bound">â„¬</a> <a id="40000" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="40002" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="40004" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="40007" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="40009" href="Demos.HSP-markdown.html#39807" class="Bound">ğ’œ</a> <a id="40011" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>
  <a id="40015" class="Symbol">(</a><a id="40016" href="Demos.HSP-markdown.html#39985" class="Function">hfunc</a> <a id="40022" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="40026" href="Demos.HSP-markdown.html#40026" class="Bound">x</a><a id="40027" class="Symbol">)</a> <a id="40029" href="Demos.HSP-markdown.html#40029" class="Bound">i</a> <a id="40031" class="Symbol">=</a> <a id="40033" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="40035" href="Demos.HSP-markdown.html#39936" class="Function">hi</a> <a id="40038" href="Demos.HSP-markdown.html#40029" class="Bound">i</a> <a id="40040" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="40042" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="40046" class="Symbol">(</a><a id="40047" href="Demos.HSP-markdown.html#40026" class="Bound">x</a> <a id="40049" href="Demos.HSP-markdown.html#40029" class="Bound">i</a><a id="40050" class="Symbol">)</a>
  <a id="40054" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="40059" href="Demos.HSP-markdown.html#39985" class="Function">hfunc</a> <a id="40065" class="Symbol">=</a> <a id="40067" class="Symbol">Î»</a> <a id="40069" href="Demos.HSP-markdown.html#40069" class="Bound">xy</a> <a id="40072" href="Demos.HSP-markdown.html#40072" class="Bound">i</a> <a id="40074" class="Symbol">â†’</a> <a id="40076" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="40081" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="40083" href="Demos.HSP-markdown.html#39936" class="Function">hi</a> <a id="40086" href="Demos.HSP-markdown.html#40072" class="Bound">i</a> <a id="40088" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="40090" class="Symbol">(</a><a id="40091" href="Demos.HSP-markdown.html#40069" class="Bound">xy</a> <a id="40094" href="Demos.HSP-markdown.html#40072" class="Bound">i</a><a id="40095" class="Symbol">)</a>

  <a id="40100" href="Demos.HSP-markdown.html#40100" class="Function">hhom</a> <a id="40105" class="Symbol">:</a> <a id="40107" href="Demos.HSP-markdown.html#26964" class="Record">IsHom</a> <a id="40113" class="Symbol">(</a><a id="40114" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="40116" href="Demos.HSP-markdown.html#39829" class="Bound">â„¬</a><a id="40117" class="Symbol">)</a> <a id="40119" class="Symbol">(</a><a id="40120" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="40122" href="Demos.HSP-markdown.html#39807" class="Bound">ğ’œ</a><a id="40123" class="Symbol">)</a> <a id="40125" href="Demos.HSP-markdown.html#39985" class="Function">hfunc</a>
  <a id="40133" href="Demos.HSP-markdown.html#27047" class="Field">compatible</a> <a id="40144" href="Demos.HSP-markdown.html#40100" class="Function">hhom</a> <a id="40149" class="Symbol">=</a> <a id="40151" class="Symbol">Î»</a> <a id="40153" href="Demos.HSP-markdown.html#40153" class="Bound">i</a> <a id="40155" class="Symbol">â†’</a> <a id="40157" href="Demos.HSP-markdown.html#27047" class="Field">compatible</a> <a id="40168" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="40170" href="Demos.HSP-markdown.html#39936" class="Function">hi</a> <a id="40173" href="Demos.HSP-markdown.html#40153" class="Bound">i</a> <a id="40175" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>

  <a id="40180" href="Demos.HSP-markdown.html#40180" class="Function">hM</a> <a id="40183" class="Symbol">:</a> <a id="40185" href="Demos.HSP-markdown.html#14660" class="Function">IsInjective</a> <a id="40197" href="Demos.HSP-markdown.html#39985" class="Function">hfunc</a>
  <a id="40205" href="Demos.HSP-markdown.html#40180" class="Function">hM</a> <a id="40208" class="Symbol">=</a> <a id="40210" class="Symbol">Î»</a> <a id="40212" href="Demos.HSP-markdown.html#40212" class="Bound">xy</a> <a id="40215" href="Demos.HSP-markdown.html#40215" class="Bound">i</a> <a id="40217" class="Symbol">â†’</a> <a id="40219" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="40221" href="Demos.HSP-markdown.html#39900" class="Bound">Bâ‰¤A</a> <a id="40225" href="Demos.HSP-markdown.html#40215" class="Bound">i</a> <a id="40227" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="40229" class="Symbol">(</a><a id="40230" href="Demos.HSP-markdown.html#40212" class="Bound">xy</a> <a id="40233" href="Demos.HSP-markdown.html#40215" class="Bound">i</a><a id="40234" class="Symbol">)</a>
</pre>




<!-- ------------------------------------------------------------------------------------- -->

## Terms

### <a id="terms-basic-definitions">Basic definitions</a>

Fix a signature `ğ‘†` and let `X` denote an arbitrary nonempty collection of variable symbols. Assume the symbols in `X` are distinct from the operation symbols of `ğ‘†`, that is `X âˆ© âˆ£ ğ‘† âˆ£ = âˆ…`.

By a *word* in the language of `ğ‘†`, we mean a nonempty, finite sequence of members of `X âˆª âˆ£ ğ‘† âˆ£`. We denote the concatenation of such sequences by simple juxtaposition.

Let `Sâ‚€` denote the set of nullary operation symbols of `ğ‘†`. We define by induction on `n` the sets `ğ‘‡â‚™` of *words* over `X âˆª âˆ£ ğ‘† âˆ£` as follows (cf. [Bergman (2012)][] Def. 4.19):

`ğ‘‡â‚€ := X âˆª Sâ‚€` and `ğ‘‡â‚™â‚Šâ‚ := ğ‘‡â‚™ âˆª ğ’¯â‚™`

where `ğ’¯â‚™` is the collection of all `f t` such that `f : âˆ£ ğ‘† âˆ£` and `t : âˆ¥ ğ‘† âˆ¥ f â†’ ğ‘‡â‚™`. (Recall, `âˆ¥ ğ‘† âˆ¥ f` is the arity of the operation symbol f.)

We define the collection of *terms* in the signature `ğ‘†` over `X` by `Term X := â‹ƒâ‚™ ğ‘‡â‚™`. By an ğ‘†-*term* we mean a term in the language of `ğ‘†`.

The definition of `Term X` is recursive, indicating that an inductive type could be used to represent the semantic notion of terms in type theory. Indeed, such a representation is given by the following inductive type.
<pre class="Agda">

<a id="41524" class="Keyword">data</a> <a id="Term"></a><a id="41529" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="41534" class="Symbol">(</a><a id="41535" href="Demos.HSP-markdown.html#41535" class="Bound">X</a> <a id="41537" class="Symbol">:</a> <a id="41539" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="41544" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a> <a id="41546" class="Symbol">)</a> <a id="41548" class="Symbol">:</a> <a id="41550" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="41555" class="Symbol">(</a><a id="41556" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="41559" href="Demos.HSP-markdown.html#41544" class="Bound">Ï‡</a><a id="41560" class="Symbol">)</a>  <a id="41563" class="Keyword">where</a>
 <a id="Term.â„Š"></a><a id="41570" href="Demos.HSP-markdown.html#41570" class="InductiveConstructor">â„Š</a> <a id="41572" class="Symbol">:</a> <a id="41574" href="Demos.HSP-markdown.html#41535" class="Bound">X</a> <a id="41576" class="Symbol">â†’</a> <a id="41578" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="41583" href="Demos.HSP-markdown.html#41535" class="Bound">X</a>
 <a id="Term.node"></a><a id="41586" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="41591" class="Symbol">:</a> <a id="41593" class="Symbol">(</a><a id="41594" href="Demos.HSP-markdown.html#41594" class="Bound">f</a> <a id="41596" class="Symbol">:</a> <a id="41598" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="41600" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="41602" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a><a id="41603" class="Symbol">)(</a><a id="41605" href="Demos.HSP-markdown.html#41605" class="Bound">t</a> <a id="41607" class="Symbol">:</a> <a id="41609" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="41611" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="41613" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="41615" href="Demos.HSP-markdown.html#41594" class="Bound">f</a> <a id="41617" class="Symbol">â†’</a> <a id="41619" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="41624" href="Demos.HSP-markdown.html#41535" class="Bound">X</a><a id="41625" class="Symbol">)</a> <a id="41627" class="Symbol">â†’</a> <a id="41629" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="41634" href="Demos.HSP-markdown.html#41535" class="Bound">X</a>
<a id="41636" class="Keyword">open</a> <a id="41641" href="Demos.HSP-markdown.html#41529" class="Module">Term</a>

</pre>

This is a very basic inductive type that represents each term as a tree with an operation symbol at each `node` and a variable symbol at each leaf (`generator`); hence the constructor names (`â„Š` for "generator" and `node` for node).

**Notation**. As usual, the type `X` represents an arbitrary collection of variable symbols. Recall, `ov Ï‡` is our shorthand notation for the universe level `ğ“ âŠ” ğ“¥ âŠ” lsuc Ï‡`.


### <a id="equality-of-terms">Equality of terms</a>

We take a different approach here, using Setoids instead of quotient types.
That is, we will define the collection of terms in a signature as a setoid
with a particular equality-of-terms relation, which we must define.
Ultimately we will use this to define the (absolutely free) term algebra
as a Algebra whose carrier is the setoid of terms.

<pre class="Agda">

<a id="42481" class="Keyword">module</a> <a id="42488" href="Demos.HSP-markdown.html#42488" class="Module">_</a> <a id="42490" class="Symbol">{</a><a id="42491" href="Demos.HSP-markdown.html#42491" class="Bound">X</a> <a id="42493" class="Symbol">:</a> <a id="42495" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="42500" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a> <a id="42502" class="Symbol">}</a> <a id="42504" class="Keyword">where</a>

 <a id="42512" class="Keyword">data</a> <a id="42517" href="Demos.HSP-markdown.html#42517" class="Datatype Operator">_â‰_</a> <a id="42521" class="Symbol">:</a> <a id="42523" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="42528" href="Demos.HSP-markdown.html#42491" class="Bound">X</a> <a id="42530" class="Symbol">â†’</a> <a id="42532" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="42537" href="Demos.HSP-markdown.html#42491" class="Bound">X</a> <a id="42539" class="Symbol">â†’</a> <a id="42541" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="42546" class="Symbol">(</a><a id="42547" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="42550" href="Demos.HSP-markdown.html#42500" class="Bound">Ï‡</a><a id="42551" class="Symbol">)</a> <a id="42553" class="Keyword">where</a>
  <a id="42561" href="Demos.HSP-markdown.html#42561" class="InductiveConstructor">rfl</a> <a id="42565" class="Symbol">:</a> <a id="42567" class="Symbol">{</a><a id="42568" href="Demos.HSP-markdown.html#42568" class="Bound">x</a> <a id="42570" href="Demos.HSP-markdown.html#42570" class="Bound">y</a> <a id="42572" class="Symbol">:</a> <a id="42574" href="Demos.HSP-markdown.html#42491" class="Bound">X</a><a id="42575" class="Symbol">}</a> <a id="42577" class="Symbol">â†’</a> <a id="42579" href="Demos.HSP-markdown.html#42568" class="Bound">x</a> <a id="42581" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="42583" href="Demos.HSP-markdown.html#42570" class="Bound">y</a> <a id="42585" class="Symbol">â†’</a> <a id="42587" class="Symbol">(</a><a id="42588" href="Demos.HSP-markdown.html#41570" class="InductiveConstructor">â„Š</a> <a id="42590" href="Demos.HSP-markdown.html#42568" class="Bound">x</a><a id="42591" class="Symbol">)</a> <a id="42593" href="Demos.HSP-markdown.html#42517" class="Datatype Operator">â‰</a> <a id="42595" class="Symbol">(</a><a id="42596" href="Demos.HSP-markdown.html#41570" class="InductiveConstructor">â„Š</a> <a id="42598" href="Demos.HSP-markdown.html#42570" class="Bound">y</a><a id="42599" class="Symbol">)</a>
  <a id="42603" href="Demos.HSP-markdown.html#42603" class="InductiveConstructor">gnl</a> <a id="42607" class="Symbol">:</a> <a id="42609" class="Symbol">âˆ€</a> <a id="42611" class="Symbol">{</a><a id="42612" href="Demos.HSP-markdown.html#42612" class="Bound">f</a><a id="42613" class="Symbol">}{</a><a id="42615" href="Demos.HSP-markdown.html#42615" class="Bound">s</a> <a id="42617" href="Demos.HSP-markdown.html#42617" class="Bound">t</a> <a id="42619" class="Symbol">:</a> <a id="42621" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="42623" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="42625" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="42627" href="Demos.HSP-markdown.html#42612" class="Bound">f</a> <a id="42629" class="Symbol">â†’</a> <a id="42631" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="42636" href="Demos.HSP-markdown.html#42491" class="Bound">X</a><a id="42637" class="Symbol">}</a> <a id="42639" class="Symbol">â†’</a> <a id="42641" class="Symbol">(âˆ€</a> <a id="42644" href="Demos.HSP-markdown.html#42644" class="Bound">i</a> <a id="42646" class="Symbol">â†’</a> <a id="42648" class="Symbol">(</a><a id="42649" href="Demos.HSP-markdown.html#42615" class="Bound">s</a> <a id="42651" href="Demos.HSP-markdown.html#42644" class="Bound">i</a><a id="42652" class="Symbol">)</a> <a id="42654" href="Demos.HSP-markdown.html#42517" class="Datatype Operator">â‰</a> <a id="42656" class="Symbol">(</a><a id="42657" href="Demos.HSP-markdown.html#42617" class="Bound">t</a> <a id="42659" href="Demos.HSP-markdown.html#42644" class="Bound">i</a><a id="42660" class="Symbol">))</a> <a id="42663" class="Symbol">â†’</a> <a id="42665" class="Symbol">(</a><a id="42666" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="42671" href="Demos.HSP-markdown.html#42612" class="Bound">f</a> <a id="42673" href="Demos.HSP-markdown.html#42615" class="Bound">s</a><a id="42674" class="Symbol">)</a> <a id="42676" href="Demos.HSP-markdown.html#42517" class="Datatype Operator">â‰</a> <a id="42678" class="Symbol">(</a><a id="42679" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="42684" href="Demos.HSP-markdown.html#42612" class="Bound">f</a> <a id="42686" href="Demos.HSP-markdown.html#42617" class="Bound">t</a><a id="42687" class="Symbol">)</a>

</pre>

It is easy to show that the equality-of-terms relation `_â‰_` is an equivalence relation, so we omit the formal proof. (See the [Terms.Func.Basic][] module of the [agda-algebras][] library for details.)

<pre class="Agda">
 <a id="42925" href="Demos.HSP-markdown.html#42925" class="Function">â‰-isRefl</a> <a id="42934" class="Symbol">:</a> <a id="42936" href="Relation.Binary.Definitions.html#1339" class="Function">Reflexive</a> <a id="42946" href="Demos.HSP-markdown.html#42517" class="Datatype Operator">_â‰_</a>
 <a id="42951" href="Demos.HSP-markdown.html#42925" class="Function">â‰-isRefl</a> <a id="42960" class="Symbol">{</a><a id="42961" href="Demos.HSP-markdown.html#41570" class="InductiveConstructor">â„Š</a> <a id="42963" class="Symbol">_}</a> <a id="42966" class="Symbol">=</a> <a id="42968" href="Demos.HSP-markdown.html#42561" class="InductiveConstructor">rfl</a> <a id="42972" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a>
 <a id="42980" href="Demos.HSP-markdown.html#42925" class="Function">â‰-isRefl</a> <a id="42989" class="Symbol">{</a><a id="42990" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="42995" class="Symbol">_</a> <a id="42997" class="Symbol">_}</a> <a id="43000" class="Symbol">=</a> <a id="43002" href="Demos.HSP-markdown.html#42603" class="InductiveConstructor">gnl</a> <a id="43006" class="Symbol">(Î»</a> <a id="43009" href="Demos.HSP-markdown.html#43009" class="Bound">_</a> <a id="43011" class="Symbol">â†’</a> <a id="43013" href="Demos.HSP-markdown.html#42925" class="Function">â‰-isRefl</a><a id="43021" class="Symbol">)</a>

 <a id="43025" href="Demos.HSP-markdown.html#43025" class="Function">â‰-isSym</a> <a id="43033" class="Symbol">:</a> <a id="43035" href="Relation.Binary.Definitions.html#1498" class="Function">Symmetric</a> <a id="43045" href="Demos.HSP-markdown.html#42517" class="Datatype Operator">_â‰_</a>
 <a id="43050" href="Demos.HSP-markdown.html#43025" class="Function">â‰-isSym</a> <a id="43058" class="Symbol">(</a><a id="43059" href="Demos.HSP-markdown.html#42561" class="InductiveConstructor">rfl</a> <a id="43063" href="Demos.HSP-markdown.html#43063" class="Bound">x</a><a id="43064" class="Symbol">)</a> <a id="43066" class="Symbol">=</a> <a id="43068" href="Demos.HSP-markdown.html#42561" class="InductiveConstructor">rfl</a> <a id="43072" class="Symbol">(</a><a id="43073" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">â‰¡.sym</a> <a id="43079" href="Demos.HSP-markdown.html#43063" class="Bound">x</a><a id="43080" class="Symbol">)</a>
 <a id="43083" href="Demos.HSP-markdown.html#43025" class="Function">â‰-isSym</a> <a id="43091" class="Symbol">(</a><a id="43092" href="Demos.HSP-markdown.html#42603" class="InductiveConstructor">gnl</a> <a id="43096" href="Demos.HSP-markdown.html#43096" class="Bound">x</a><a id="43097" class="Symbol">)</a> <a id="43099" class="Symbol">=</a> <a id="43101" href="Demos.HSP-markdown.html#42603" class="InductiveConstructor">gnl</a> <a id="43105" class="Symbol">(Î»</a> <a id="43108" href="Demos.HSP-markdown.html#43108" class="Bound">i</a> <a id="43110" class="Symbol">â†’</a> <a id="43112" href="Demos.HSP-markdown.html#43025" class="Function">â‰-isSym</a> <a id="43120" class="Symbol">(</a><a id="43121" href="Demos.HSP-markdown.html#43096" class="Bound">x</a> <a id="43123" href="Demos.HSP-markdown.html#43108" class="Bound">i</a><a id="43124" class="Symbol">))</a>

 <a id="43129" href="Demos.HSP-markdown.html#43129" class="Function">â‰-isTrans</a> <a id="43139" class="Symbol">:</a> <a id="43141" href="Relation.Binary.Definitions.html#1978" class="Function">Transitive</a> <a id="43152" href="Demos.HSP-markdown.html#42517" class="Datatype Operator">_â‰_</a>
 <a id="43157" href="Demos.HSP-markdown.html#43129" class="Function">â‰-isTrans</a> <a id="43167" class="Symbol">(</a><a id="43168" href="Demos.HSP-markdown.html#42561" class="InductiveConstructor">rfl</a> <a id="43172" href="Demos.HSP-markdown.html#43172" class="Bound">x</a><a id="43173" class="Symbol">)</a> <a id="43175" class="Symbol">(</a><a id="43176" href="Demos.HSP-markdown.html#42561" class="InductiveConstructor">rfl</a> <a id="43180" href="Demos.HSP-markdown.html#43180" class="Bound">y</a><a id="43181" class="Symbol">)</a> <a id="43183" class="Symbol">=</a> <a id="43185" href="Demos.HSP-markdown.html#42561" class="InductiveConstructor">rfl</a> <a id="43189" class="Symbol">(</a><a id="43190" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">â‰¡.trans</a> <a id="43198" href="Demos.HSP-markdown.html#43172" class="Bound">x</a> <a id="43200" href="Demos.HSP-markdown.html#43180" class="Bound">y</a><a id="43201" class="Symbol">)</a>
 <a id="43204" href="Demos.HSP-markdown.html#43129" class="Function">â‰-isTrans</a> <a id="43214" class="Symbol">(</a><a id="43215" href="Demos.HSP-markdown.html#42603" class="InductiveConstructor">gnl</a> <a id="43219" href="Demos.HSP-markdown.html#43219" class="Bound">x</a><a id="43220" class="Symbol">)</a> <a id="43222" class="Symbol">(</a><a id="43223" href="Demos.HSP-markdown.html#42603" class="InductiveConstructor">gnl</a> <a id="43227" href="Demos.HSP-markdown.html#43227" class="Bound">y</a><a id="43228" class="Symbol">)</a> <a id="43230" class="Symbol">=</a> <a id="43232" href="Demos.HSP-markdown.html#42603" class="InductiveConstructor">gnl</a> <a id="43236" class="Symbol">(Î»</a> <a id="43239" href="Demos.HSP-markdown.html#43239" class="Bound">i</a> <a id="43241" class="Symbol">â†’</a> <a id="43243" href="Demos.HSP-markdown.html#43129" class="Function">â‰-isTrans</a> <a id="43253" class="Symbol">(</a><a id="43254" href="Demos.HSP-markdown.html#43219" class="Bound">x</a> <a id="43256" href="Demos.HSP-markdown.html#43239" class="Bound">i</a><a id="43257" class="Symbol">)</a> <a id="43259" class="Symbol">(</a><a id="43260" href="Demos.HSP-markdown.html#43227" class="Bound">y</a> <a id="43262" href="Demos.HSP-markdown.html#43239" class="Bound">i</a><a id="43263" class="Symbol">))</a>

 <a id="43268" href="Demos.HSP-markdown.html#43268" class="Function">â‰-isEquiv</a> <a id="43278" class="Symbol">:</a> <a id="43280" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="43294" href="Demos.HSP-markdown.html#42517" class="Datatype Operator">_â‰_</a>
 <a id="43299" href="Demos.HSP-markdown.html#43268" class="Function">â‰-isEquiv</a> <a id="43309" class="Symbol">=</a> <a id="43311" class="Keyword">record</a> <a id="43318" class="Symbol">{</a> <a id="43320" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="43325" class="Symbol">=</a> <a id="43327" href="Demos.HSP-markdown.html#42925" class="Function">â‰-isRefl</a> <a id="43336" class="Symbol">;</a> <a id="43338" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="43342" class="Symbol">=</a> <a id="43344" href="Demos.HSP-markdown.html#43025" class="Function">â‰-isSym</a> <a id="43352" class="Symbol">;</a> <a id="43354" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="43360" class="Symbol">=</a> <a id="43362" href="Demos.HSP-markdown.html#43129" class="Function">â‰-isTrans</a> <a id="43372" class="Symbol">}</a>
</pre>


### <a id="the-term-algebra">The term algebra</a>

For a given signature `ğ‘†`, if the type `Term X` is nonempty (equivalently, if `X` or `âˆ£ ğ‘† âˆ£` is nonempty), then we can define an algebraic structure, denoted by `ğ‘» X` and called the *term algebra in the signature* `ğ‘†` *over* `X`.  Terms are viewed as acting on other terms, so both the domain and basic operations of the algebra are the terms themselves.


+ For each operation symbol `f : âˆ£ ğ‘† âˆ£`, denote by `f Ì‚ (ğ‘» X)` the operation on `Term X` that maps a tuple `t : âˆ¥ ğ‘† âˆ¥ f â†’ âˆ£ ğ‘» X âˆ£` to the formal term `f t`.
+ Define `ğ‘» X` to be the algebra with universe `âˆ£ ğ‘» X âˆ£ := Term X` and operations `f Ì‚ (ğ‘» X)`, one for each symbol `f` in `âˆ£ ğ‘† âˆ£`.

In [Agda][] the term algebra can be defined as simply as one might hope.

<pre class="Agda">

<a id="TermSetoid"></a><a id="44172" href="Demos.HSP-markdown.html#44172" class="Function">TermSetoid</a> <a id="44183" class="Symbol">:</a> <a id="44185" class="Symbol">(</a><a id="44186" href="Demos.HSP-markdown.html#44186" class="Bound">X</a> <a id="44188" class="Symbol">:</a> <a id="44190" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="44195" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="44196" class="Symbol">)</a> <a id="44198" class="Symbol">â†’</a> <a id="44200" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="44207" class="Symbol">(</a><a id="44208" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="44211" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="44212" class="Symbol">)</a> <a id="44214" class="Symbol">(</a><a id="44215" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="44218" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="44219" class="Symbol">)</a>
<a id="44221" href="Demos.HSP-markdown.html#44172" class="Function">TermSetoid</a> <a id="44232" href="Demos.HSP-markdown.html#44232" class="Bound">X</a> <a id="44234" class="Symbol">=</a> <a id="44236" class="Keyword">record</a> <a id="44243" class="Symbol">{</a> <a id="44245" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="44253" class="Symbol">=</a> <a id="44255" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="44260" href="Demos.HSP-markdown.html#44232" class="Bound">X</a> <a id="44262" class="Symbol">;</a> <a id="44264" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="44268" class="Symbol">=</a> <a id="44270" href="Demos.HSP-markdown.html#42517" class="Datatype Operator">_â‰_</a> <a id="44274" class="Symbol">;</a> <a id="44276" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="44290" class="Symbol">=</a> <a id="44292" href="Demos.HSP-markdown.html#43268" class="Function">â‰-isEquiv</a> <a id="44302" class="Symbol">}</a>

<a id="ğ‘»"></a><a id="44305" href="Demos.HSP-markdown.html#44305" class="Function">ğ‘»</a> <a id="44307" class="Symbol">:</a> <a id="44309" class="Symbol">(</a><a id="44310" href="Demos.HSP-markdown.html#44310" class="Bound">X</a> <a id="44312" class="Symbol">:</a> <a id="44314" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="44319" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="44320" class="Symbol">)</a> <a id="44322" class="Symbol">â†’</a> <a id="44324" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="44332" class="Symbol">(</a><a id="44333" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="44336" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="44337" class="Symbol">)</a> <a id="44339" class="Symbol">(</a><a id="44340" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="44343" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="44344" class="Symbol">)</a>
<a id="44346" href="Demos.HSP-markdown.html#22547" class="Field">Algebra.Domain</a> <a id="44361" class="Symbol">(</a><a id="44362" href="Demos.HSP-markdown.html#44305" class="Function">ğ‘»</a> <a id="44364" href="Demos.HSP-markdown.html#44364" class="Bound">X</a><a id="44365" class="Symbol">)</a> <a id="44367" class="Symbol">=</a> <a id="44369" href="Demos.HSP-markdown.html#44172" class="Function">TermSetoid</a> <a id="44380" href="Demos.HSP-markdown.html#44364" class="Bound">X</a>
<a id="44382" href="Demos.HSP-markdown.html#22575" class="Field">Algebra.Interp</a> <a id="44397" class="Symbol">(</a><a id="44398" href="Demos.HSP-markdown.html#44305" class="Function">ğ‘»</a> <a id="44400" href="Demos.HSP-markdown.html#44400" class="Bound">X</a><a id="44401" class="Symbol">)</a> <a id="44403" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="44407" class="Symbol">(</a><a id="44408" href="Demos.HSP-markdown.html#44408" class="Bound">f</a> <a id="44410" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="44412" href="Demos.HSP-markdown.html#44412" class="Bound">ts</a><a id="44414" class="Symbol">)</a> <a id="44416" class="Symbol">=</a> <a id="44418" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="44423" href="Demos.HSP-markdown.html#44408" class="Bound">f</a> <a id="44425" href="Demos.HSP-markdown.html#44412" class="Bound">ts</a>
<a id="44428" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="44433" class="Symbol">(</a><a id="44434" href="Demos.HSP-markdown.html#22575" class="Field">Algebra.Interp</a> <a id="44449" class="Symbol">(</a><a id="44450" href="Demos.HSP-markdown.html#44305" class="Function">ğ‘»</a> <a id="44452" href="Demos.HSP-markdown.html#44452" class="Bound">X</a><a id="44453" class="Symbol">))</a> <a id="44456" class="Symbol">(</a><a id="44457" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="44464" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="44466" href="Demos.HSP-markdown.html#44466" class="Bound">ssâ‰ts</a><a id="44471" class="Symbol">)</a> <a id="44473" class="Symbol">=</a> <a id="44475" href="Demos.HSP-markdown.html#42603" class="InductiveConstructor">gnl</a> <a id="44479" href="Demos.HSP-markdown.html#44466" class="Bound">ssâ‰ts</a>
</pre>

### <a id="interpretation-of-terms">Interpretation of terms</a>

The approach to terms and their interpretation in this module was inspired by
[Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).

A substitution from `X` to `Y` associates a term in `X` with each variable in `Y`.  The definition of `Sub` given here is essentially the same as the one given by Andreas Abel, as is the recursive definition of the syntax `t [ Ïƒ ]`, which denotes a term `t` applied to a substitution `Ïƒ`.

<pre class="Agda">

<a id="Sub"></a><a id="45074" href="Demos.HSP-markdown.html#45074" class="Function">Sub</a> <a id="45078" class="Symbol">:</a> <a id="45080" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="45085" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a> <a id="45087" class="Symbol">â†’</a> <a id="45089" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="45094" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a> <a id="45096" class="Symbol">â†’</a> <a id="45098" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="45103" class="Symbol">(</a><a id="45104" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="45107" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="45108" class="Symbol">)</a>
<a id="45110" href="Demos.HSP-markdown.html#45074" class="Function">Sub</a> <a id="45114" href="Demos.HSP-markdown.html#45114" class="Bound">X</a> <a id="45116" href="Demos.HSP-markdown.html#45116" class="Bound">Y</a> <a id="45118" class="Symbol">=</a> <a id="45120" class="Symbol">(</a><a id="45121" href="Demos.HSP-markdown.html#45121" class="Bound">y</a> <a id="45123" class="Symbol">:</a> <a id="45125" href="Demos.HSP-markdown.html#45116" class="Bound">Y</a><a id="45126" class="Symbol">)</a> <a id="45128" class="Symbol">â†’</a> <a id="45130" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="45135" href="Demos.HSP-markdown.html#45114" class="Bound">X</a>

<a id="_[_]"></a><a id="45138" href="Demos.HSP-markdown.html#45138" class="Function Operator">_[_]</a> <a id="45143" class="Symbol">:</a> <a id="45145" class="Symbol">{</a><a id="45146" href="Demos.HSP-markdown.html#45146" class="Bound">X</a> <a id="45148" href="Demos.HSP-markdown.html#45148" class="Bound">Y</a> <a id="45150" class="Symbol">:</a> <a id="45152" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="45157" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="45158" class="Symbol">}(</a><a id="45160" href="Demos.HSP-markdown.html#45160" class="Bound">t</a> <a id="45162" class="Symbol">:</a> <a id="45164" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="45169" href="Demos.HSP-markdown.html#45148" class="Bound">Y</a><a id="45170" class="Symbol">)</a> <a id="45172" class="Symbol">(</a><a id="45173" href="Demos.HSP-markdown.html#45173" class="Bound">Ïƒ</a> <a id="45175" class="Symbol">:</a> <a id="45177" href="Demos.HSP-markdown.html#45074" class="Function">Sub</a> <a id="45181" href="Demos.HSP-markdown.html#45146" class="Bound">X</a> <a id="45183" href="Demos.HSP-markdown.html#45148" class="Bound">Y</a><a id="45184" class="Symbol">)</a> <a id="45186" class="Symbol">â†’</a> <a id="45188" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="45193" href="Demos.HSP-markdown.html#45146" class="Bound">X</a>
<a id="45195" class="Symbol">(</a><a id="45196" href="Demos.HSP-markdown.html#41570" class="InductiveConstructor">â„Š</a> <a id="45198" href="Demos.HSP-markdown.html#45198" class="Bound">x</a><a id="45199" class="Symbol">)</a> <a id="45201" href="Demos.HSP-markdown.html#45138" class="Function Operator">[</a> <a id="45203" href="Demos.HSP-markdown.html#45203" class="Bound">Ïƒ</a> <a id="45205" href="Demos.HSP-markdown.html#45138" class="Function Operator">]</a> <a id="45207" class="Symbol">=</a> <a id="45209" href="Demos.HSP-markdown.html#45203" class="Bound">Ïƒ</a> <a id="45211" href="Demos.HSP-markdown.html#45198" class="Bound">x</a>
<a id="45213" class="Symbol">(</a><a id="45214" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="45219" href="Demos.HSP-markdown.html#45219" class="Bound">f</a> <a id="45221" href="Demos.HSP-markdown.html#45221" class="Bound">ts</a><a id="45223" class="Symbol">)</a> <a id="45225" href="Demos.HSP-markdown.html#45138" class="Function Operator">[</a> <a id="45227" href="Demos.HSP-markdown.html#45227" class="Bound">Ïƒ</a> <a id="45229" href="Demos.HSP-markdown.html#45138" class="Function Operator">]</a> <a id="45231" class="Symbol">=</a> <a id="45233" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="45238" href="Demos.HSP-markdown.html#45219" class="Bound">f</a> <a id="45240" class="Symbol">(Î»</a> <a id="45243" href="Demos.HSP-markdown.html#45243" class="Bound">i</a> <a id="45245" class="Symbol">â†’</a> <a id="45247" href="Demos.HSP-markdown.html#45221" class="Bound">ts</a> <a id="45250" href="Demos.HSP-markdown.html#45243" class="Bound">i</a> <a id="45252" href="Demos.HSP-markdown.html#45138" class="Function Operator">[</a> <a id="45254" href="Demos.HSP-markdown.html#45227" class="Bound">Ïƒ</a> <a id="45256" href="Demos.HSP-markdown.html#45138" class="Function Operator">]</a><a id="45257" class="Symbol">)</a>

</pre>

An environment for an algebra `ğ‘¨` in a context `X` is a map that assigns to each variable `x : X` an element in the domain of `ğ‘¨`, packaged together with an equality of environments, which is simply pointwise equality (relatively to the setoid equality of the underlying domain of `ğ‘¨`).

<pre class="Agda">

<a id="45574" class="Keyword">module</a> <a id="Environment"></a><a id="45581" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="45593" class="Symbol">(</a><a id="45594" href="Demos.HSP-markdown.html#45594" class="Bound">ğ‘¨</a> <a id="45596" class="Symbol">:</a> <a id="45598" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="45606" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="45608" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="45609" class="Symbol">)</a> <a id="45611" class="Keyword">where</a>
 <a id="45618" class="Keyword">open</a> <a id="45623" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="45630" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="45633" href="Demos.HSP-markdown.html#45594" class="Bound">ğ‘¨</a> <a id="45635" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="45637" class="Keyword">using</a> <a id="45643" class="Symbol">(</a> <a id="45645" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="45649" class="Symbol">;</a> <a id="45651" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="45656" class="Symbol">;</a> <a id="45658" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="45662" class="Symbol">;</a> <a id="45664" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="45670" class="Symbol">)</a>
 <a id="Environment.Env"></a><a id="45673" href="Demos.HSP-markdown.html#45673" class="Function">Env</a> <a id="45677" class="Symbol">:</a> <a id="45679" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="45684" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a> <a id="45686" class="Symbol">â†’</a> <a id="45688" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="45695" class="Symbol">_</a> <a id="45697" class="Symbol">_</a>
 <a id="45700" href="Demos.HSP-markdown.html#45673" class="Function">Env</a> <a id="45704" href="Demos.HSP-markdown.html#45704" class="Bound">X</a> <a id="45706" class="Symbol">=</a> <a id="45708" class="Keyword">record</a>  <a id="45716" class="Symbol">{</a> <a id="45718" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="45726" class="Symbol">=</a> <a id="45728" href="Demos.HSP-markdown.html#45704" class="Bound">X</a> <a id="45730" class="Symbol">â†’</a> <a id="45732" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="45735" href="Demos.HSP-markdown.html#45594" class="Bound">ğ‘¨</a> <a id="45737" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a>
                 <a id="45756" class="Symbol">;</a> <a id="45758" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="45762" class="Symbol">=</a> <a id="45764" class="Symbol">Î»</a> <a id="45766" href="Demos.HSP-markdown.html#45766" class="Bound">Ï</a> <a id="45768" href="Demos.HSP-markdown.html#45768" class="Bound">Ï&#39;</a> <a id="45771" class="Symbol">â†’</a> <a id="45773" class="Symbol">(</a><a id="45774" href="Demos.HSP-markdown.html#45774" class="Bound">x</a> <a id="45776" class="Symbol">:</a> <a id="45778" href="Demos.HSP-markdown.html#45704" class="Bound">X</a><a id="45779" class="Symbol">)</a> <a id="45781" class="Symbol">â†’</a> <a id="45783" href="Demos.HSP-markdown.html#45766" class="Bound">Ï</a> <a id="45785" href="Demos.HSP-markdown.html#45774" class="Bound">x</a> <a id="45787" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="45789" href="Demos.HSP-markdown.html#45768" class="Bound">Ï&#39;</a> <a id="45792" href="Demos.HSP-markdown.html#45774" class="Bound">x</a>
                 <a id="45811" class="Symbol">;</a> <a id="45813" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="45827" class="Symbol">=</a> <a id="45829" class="Keyword">record</a>  <a id="45837" class="Symbol">{</a> <a id="45839" href="Relation.Binary.Structures.html#1568" class="Field">refl</a>   <a id="45846" class="Symbol">=</a> <a id="45848" class="Symbol">Î»</a> <a id="45850" href="Demos.HSP-markdown.html#45850" class="Bound">_</a> <a id="45852" class="Symbol">â†’</a> <a id="45854" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
                                           <a id="45902" class="Symbol">;</a> <a id="45904" href="Relation.Binary.Structures.html#1594" class="Field">sym</a>    <a id="45911" class="Symbol">=</a> <a id="45913" class="Symbol">Î»</a> <a id="45915" href="Demos.HSP-markdown.html#45915" class="Bound">h</a> <a id="45917" href="Demos.HSP-markdown.html#45917" class="Bound">x</a> <a id="45919" class="Symbol">â†’</a> <a id="45921" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="45925" class="Symbol">(</a><a id="45926" href="Demos.HSP-markdown.html#45915" class="Bound">h</a> <a id="45928" href="Demos.HSP-markdown.html#45917" class="Bound">x</a><a id="45929" class="Symbol">)</a>
                                           <a id="45974" class="Symbol">;</a> <a id="45976" href="Relation.Binary.Structures.html#1620" class="Field">trans</a>  <a id="45983" class="Symbol">=</a> <a id="45985" class="Symbol">Î»</a> <a id="45987" href="Demos.HSP-markdown.html#45987" class="Bound">g</a> <a id="45989" href="Demos.HSP-markdown.html#45989" class="Bound">h</a> <a id="45991" href="Demos.HSP-markdown.html#45991" class="Bound">x</a> <a id="45993" class="Symbol">â†’</a> <a id="45995" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="46001" class="Symbol">(</a><a id="46002" href="Demos.HSP-markdown.html#45987" class="Bound">g</a> <a id="46004" href="Demos.HSP-markdown.html#45991" class="Bound">x</a><a id="46005" class="Symbol">)(</a><a id="46007" href="Demos.HSP-markdown.html#45989" class="Bound">h</a> <a id="46009" href="Demos.HSP-markdown.html#45991" class="Bound">x</a><a id="46010" class="Symbol">)</a> <a id="46012" class="Symbol">}}</a>

</pre>

Next we define *evaluation of a term* in an environment `Ï`, interpreted in the algebra `ğ‘¨`.

<pre class="Agda">

 <a id="Environment.âŸ¦_âŸ§"></a><a id="46137" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="46141" class="Symbol">:</a> <a id="46143" class="Symbol">{</a><a id="46144" href="Demos.HSP-markdown.html#46144" class="Bound">X</a> <a id="46146" class="Symbol">:</a> <a id="46148" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="46153" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="46154" class="Symbol">}(</a><a id="46156" href="Demos.HSP-markdown.html#46156" class="Bound">t</a> <a id="46158" class="Symbol">:</a> <a id="46160" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="46165" href="Demos.HSP-markdown.html#46144" class="Bound">X</a><a id="46166" class="Symbol">)</a> <a id="46168" class="Symbol">â†’</a> <a id="46170" class="Symbol">(</a><a id="46171" href="Demos.HSP-markdown.html#45673" class="Function">Env</a> <a id="46175" href="Demos.HSP-markdown.html#46144" class="Bound">X</a><a id="46176" class="Symbol">)</a> <a id="46178" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="46180" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="46183" href="Demos.HSP-markdown.html#45594" class="Bound">ğ‘¨</a> <a id="46185" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>
 <a id="46188" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="46190" href="Demos.HSP-markdown.html#41570" class="InductiveConstructor">â„Š</a> <a id="46192" href="Demos.HSP-markdown.html#46192" class="Bound">x</a> <a id="46194" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="46196" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="46200" href="Demos.HSP-markdown.html#46200" class="Bound">Ï</a> <a id="46202" class="Symbol">=</a> <a id="46204" href="Demos.HSP-markdown.html#46200" class="Bound">Ï</a> <a id="46206" href="Demos.HSP-markdown.html#46192" class="Bound">x</a>
 <a id="46209" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="46211" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="46216" href="Demos.HSP-markdown.html#46216" class="Bound">f</a> <a id="46218" href="Demos.HSP-markdown.html#46218" class="Bound">args</a> <a id="46223" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="46225" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="46229" href="Demos.HSP-markdown.html#46229" class="Bound">Ï</a> <a id="46231" class="Symbol">=</a> <a id="46233" class="Symbol">(</a><a id="46234" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="46241" href="Demos.HSP-markdown.html#45594" class="Bound">ğ‘¨</a><a id="46242" class="Symbol">)</a> <a id="46244" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="46248" class="Symbol">(</a><a id="46249" href="Demos.HSP-markdown.html#46216" class="Bound">f</a> <a id="46251" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="46253" class="Symbol">Î»</a> <a id="46255" href="Demos.HSP-markdown.html#46255" class="Bound">i</a> <a id="46257" class="Symbol">â†’</a> <a id="46259" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="46261" href="Demos.HSP-markdown.html#46218" class="Bound">args</a> <a id="46266" href="Demos.HSP-markdown.html#46255" class="Bound">i</a> <a id="46268" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="46270" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="46274" href="Demos.HSP-markdown.html#46229" class="Bound">Ï</a><a id="46275" class="Symbol">)</a>
 <a id="46278" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="46283" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="46285" href="Demos.HSP-markdown.html#41570" class="InductiveConstructor">â„Š</a> <a id="46287" href="Demos.HSP-markdown.html#46287" class="Bound">x</a> <a id="46289" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="46291" href="Demos.HSP-markdown.html#46291" class="Bound">uâ‰ˆv</a> <a id="46295" class="Symbol">=</a> <a id="46297" href="Demos.HSP-markdown.html#46291" class="Bound">uâ‰ˆv</a> <a id="46301" href="Demos.HSP-markdown.html#46287" class="Bound">x</a>
 <a id="46304" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="46309" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="46311" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="46316" href="Demos.HSP-markdown.html#46316" class="Bound">f</a> <a id="46318" href="Demos.HSP-markdown.html#46318" class="Bound">args</a> <a id="46323" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="46325" href="Demos.HSP-markdown.html#46325" class="Bound">xâ‰ˆy</a> <a id="46329" class="Symbol">=</a> <a id="46331" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="46336" class="Symbol">(</a><a id="46337" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="46344" href="Demos.HSP-markdown.html#45594" class="Bound">ğ‘¨</a><a id="46345" class="Symbol">)(</a><a id="46347" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="46354" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="46356" class="Symbol">Î»</a> <a id="46358" href="Demos.HSP-markdown.html#46358" class="Bound">i</a> <a id="46360" class="Symbol">â†’</a> <a id="46362" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="46367" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="46369" href="Demos.HSP-markdown.html#46318" class="Bound">args</a> <a id="46374" href="Demos.HSP-markdown.html#46358" class="Bound">i</a> <a id="46376" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="46378" href="Demos.HSP-markdown.html#46325" class="Bound">xâ‰ˆy</a> <a id="46382" class="Symbol">)</a>

</pre>

An equality between two terms holds in a model if the two terms are equal under all valuations of their free variables (cf. [Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf)).

<pre class="Agda">

 <a id="Environment.Equal"></a><a id="46667" href="Demos.HSP-markdown.html#46667" class="Function">Equal</a> <a id="46673" class="Symbol">:</a> <a id="46675" class="Symbol">âˆ€</a> <a id="46677" class="Symbol">{</a><a id="46678" href="Demos.HSP-markdown.html#46678" class="Bound">X</a> <a id="46680" class="Symbol">:</a> <a id="46682" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="46687" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="46688" class="Symbol">}</a> <a id="46690" class="Symbol">(</a><a id="46691" href="Demos.HSP-markdown.html#46691" class="Bound">s</a> <a id="46693" href="Demos.HSP-markdown.html#46693" class="Bound">t</a> <a id="46695" class="Symbol">:</a> <a id="46697" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="46702" href="Demos.HSP-markdown.html#46678" class="Bound">X</a><a id="46703" class="Symbol">)</a> <a id="46705" class="Symbol">â†’</a> <a id="46707" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="46712" class="Symbol">_</a>
 <a id="46715" href="Demos.HSP-markdown.html#46667" class="Function">Equal</a> <a id="46721" class="Symbol">{</a><a id="46722" class="Argument">X</a> <a id="46724" class="Symbol">=</a> <a id="46726" href="Demos.HSP-markdown.html#46726" class="Bound">X</a><a id="46727" class="Symbol">}</a> <a id="46729" href="Demos.HSP-markdown.html#46729" class="Bound">s</a> <a id="46731" href="Demos.HSP-markdown.html#46731" class="Bound">t</a> <a id="46733" class="Symbol">=</a> <a id="46735" class="Symbol">âˆ€</a> <a id="46737" class="Symbol">(</a><a id="46738" href="Demos.HSP-markdown.html#46738" class="Bound">Ï</a> <a id="46740" class="Symbol">:</a> <a id="46742" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="46750" class="Symbol">(</a><a id="46751" href="Demos.HSP-markdown.html#45673" class="Function">Env</a> <a id="46755" href="Demos.HSP-markdown.html#46726" class="Bound">X</a><a id="46756" class="Symbol">))</a> <a id="46759" class="Symbol">â†’</a>  <a id="46762" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="46764" href="Demos.HSP-markdown.html#46729" class="Bound">s</a> <a id="46766" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="46768" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="46772" href="Demos.HSP-markdown.html#46738" class="Bound">Ï</a> <a id="46774" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="46776" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="46778" href="Demos.HSP-markdown.html#46731" class="Bound">t</a> <a id="46780" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="46782" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="46786" href="Demos.HSP-markdown.html#46738" class="Bound">Ï</a>

 <a id="Environment.â‰â†’Equal"></a><a id="46790" href="Demos.HSP-markdown.html#46790" class="Function">â‰â†’Equal</a> <a id="46798" class="Symbol">:</a> <a id="46800" class="Symbol">{</a><a id="46801" href="Demos.HSP-markdown.html#46801" class="Bound">X</a> <a id="46803" class="Symbol">:</a> <a id="46805" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="46810" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="46811" class="Symbol">}(</a><a id="46813" href="Demos.HSP-markdown.html#46813" class="Bound">s</a> <a id="46815" href="Demos.HSP-markdown.html#46815" class="Bound">t</a> <a id="46817" class="Symbol">:</a> <a id="46819" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="46824" href="Demos.HSP-markdown.html#46801" class="Bound">X</a><a id="46825" class="Symbol">)</a> <a id="46827" class="Symbol">â†’</a> <a id="46829" href="Demos.HSP-markdown.html#46813" class="Bound">s</a> <a id="46831" href="Demos.HSP-markdown.html#42517" class="Datatype Operator">â‰</a> <a id="46833" href="Demos.HSP-markdown.html#46815" class="Bound">t</a> <a id="46835" class="Symbol">â†’</a> <a id="46837" href="Demos.HSP-markdown.html#46667" class="Function">Equal</a> <a id="46843" href="Demos.HSP-markdown.html#46813" class="Bound">s</a> <a id="46845" href="Demos.HSP-markdown.html#46815" class="Bound">t</a>
 <a id="46848" href="Demos.HSP-markdown.html#46790" class="Function">â‰â†’Equal</a> <a id="46856" class="DottedPattern Symbol">.(</a><a id="46858" href="Demos.HSP-markdown.html#41570" class="DottedPattern InductiveConstructor">â„Š</a> <a id="46860" class="DottedPattern Symbol">_)</a> <a id="46863" class="DottedPattern Symbol">.(</a><a id="46865" href="Demos.HSP-markdown.html#41570" class="DottedPattern InductiveConstructor">â„Š</a> <a id="46867" class="DottedPattern Symbol">_)</a> <a id="46870" class="Symbol">(</a><a id="46871" href="Demos.HSP-markdown.html#42561" class="InductiveConstructor">rfl</a> <a id="46875" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a><a id="46881" class="Symbol">)</a> <a id="46883" class="Symbol">=</a> <a id="46885" class="Symbol">Î»</a> <a id="46887" href="Demos.HSP-markdown.html#46887" class="Bound">_</a> <a id="46889" class="Symbol">â†’</a> <a id="46891" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="46897" href="Demos.HSP-markdown.html#46790" class="Function">â‰â†’Equal</a> <a id="46905" class="Symbol">(</a><a id="46906" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="46911" class="Symbol">_</a> <a id="46913" href="Demos.HSP-markdown.html#46913" class="Bound">s</a><a id="46914" class="Symbol">)(</a><a id="46916" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="46921" class="Symbol">_</a> <a id="46923" href="Demos.HSP-markdown.html#46923" class="Bound">t</a><a id="46924" class="Symbol">)(</a><a id="46926" href="Demos.HSP-markdown.html#42603" class="InductiveConstructor">gnl</a> <a id="46930" href="Demos.HSP-markdown.html#46930" class="Bound">x</a><a id="46931" class="Symbol">)</a> <a id="46933" class="Symbol">=</a>
  <a id="46937" class="Symbol">Î»</a> <a id="46939" href="Demos.HSP-markdown.html#46939" class="Bound">Ï</a> <a id="46941" class="Symbol">â†’</a> <a id="46943" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="46948" class="Symbol">(</a><a id="46949" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="46956" href="Demos.HSP-markdown.html#45594" class="Bound">ğ‘¨</a><a id="46957" class="Symbol">)(</a><a id="46959" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="46966" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="46968" class="Symbol">Î»</a> <a id="46970" href="Demos.HSP-markdown.html#46970" class="Bound">i</a> <a id="46972" class="Symbol">â†’</a> <a id="46974" href="Demos.HSP-markdown.html#46790" class="Function">â‰â†’Equal</a><a id="46981" class="Symbol">(</a><a id="46982" href="Demos.HSP-markdown.html#46913" class="Bound">s</a> <a id="46984" href="Demos.HSP-markdown.html#46970" class="Bound">i</a><a id="46985" class="Symbol">)(</a><a id="46987" href="Demos.HSP-markdown.html#46923" class="Bound">t</a> <a id="46989" href="Demos.HSP-markdown.html#46970" class="Bound">i</a><a id="46990" class="Symbol">)(</a><a id="46992" href="Demos.HSP-markdown.html#46930" class="Bound">x</a> <a id="46994" href="Demos.HSP-markdown.html#46970" class="Bound">i</a><a id="46995" class="Symbol">)</a><a id="46996" href="Demos.HSP-markdown.html#46939" class="Bound">Ï</a> <a id="46998" class="Symbol">)</a>

</pre>

The proof that `Equal` is an equivalence relation is trivial, so we omit it. (See the [Varieties.Func.SoundAndComplete][] module of the [agda-algebras][] library for details.)

<pre class="Agda">
 <a id="Environment.EqualIsEquiv"></a><a id="47210" href="Demos.HSP-markdown.html#47210" class="Function">EqualIsEquiv</a> <a id="47223" class="Symbol">:</a> <a id="47225" class="Symbol">{</a><a id="47226" href="Demos.HSP-markdown.html#47226" class="Bound">Î“</a> <a id="47228" class="Symbol">:</a> <a id="47230" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="47235" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="47236" class="Symbol">}</a> <a id="47238" class="Symbol">â†’</a> <a id="47240" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="47254" class="Symbol">(</a><a id="47255" href="Demos.HSP-markdown.html#46667" class="Function">Equal</a> <a id="47261" class="Symbol">{</a><a id="47262" class="Argument">X</a> <a id="47264" class="Symbol">=</a> <a id="47266" href="Demos.HSP-markdown.html#47226" class="Bound">Î“</a><a id="47267" class="Symbol">})</a>
 <a id="47271" href="Relation.Binary.Structures.html#1568" class="Field">IsEquivalence.refl</a>  <a id="47291" href="Demos.HSP-markdown.html#47210" class="Function">EqualIsEquiv</a> <a id="47304" class="Symbol">=</a> <a id="47306" class="Symbol">Î»</a> <a id="47308" href="Demos.HSP-markdown.html#47308" class="Bound">_</a> <a id="47310" class="Symbol">â†’</a> <a id="47312" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="47318" href="Relation.Binary.Structures.html#1594" class="Field">IsEquivalence.sym</a>   <a id="47338" href="Demos.HSP-markdown.html#47210" class="Function">EqualIsEquiv</a> <a id="47351" class="Symbol">=</a> <a id="47353" class="Symbol">Î»</a> <a id="47355" href="Demos.HSP-markdown.html#47355" class="Bound">x=y</a> <a id="47359" href="Demos.HSP-markdown.html#47359" class="Bound">Ï</a> <a id="47361" class="Symbol">â†’</a> <a id="47363" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="47367" class="Symbol">(</a><a id="47368" href="Demos.HSP-markdown.html#47355" class="Bound">x=y</a> <a id="47372" href="Demos.HSP-markdown.html#47359" class="Bound">Ï</a><a id="47373" class="Symbol">)</a>
 <a id="47376" href="Relation.Binary.Structures.html#1620" class="Field">IsEquivalence.trans</a> <a id="47396" href="Demos.HSP-markdown.html#47210" class="Function">EqualIsEquiv</a> <a id="47409" class="Symbol">=</a> <a id="47411" class="Symbol">Î»</a> <a id="47413" href="Demos.HSP-markdown.html#47413" class="Bound">ij</a> <a id="47416" href="Demos.HSP-markdown.html#47416" class="Bound">jk</a> <a id="47419" href="Demos.HSP-markdown.html#47419" class="Bound">Ï</a> <a id="47421" class="Symbol">â†’</a> <a id="47423" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="47429" class="Symbol">(</a><a id="47430" href="Demos.HSP-markdown.html#47413" class="Bound">ij</a> <a id="47433" href="Demos.HSP-markdown.html#47419" class="Bound">Ï</a><a id="47434" class="Symbol">)</a> <a id="47436" class="Symbol">(</a><a id="47437" href="Demos.HSP-markdown.html#47416" class="Bound">jk</a> <a id="47440" href="Demos.HSP-markdown.html#47419" class="Bound">Ï</a><a id="47441" class="Symbol">)</a>
</pre>

Evaluation of a substitution gives an environment (cf. [Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf))

<pre class="Agda">

 <a id="Environment.âŸ¦_âŸ§s"></a><a id="47655" href="Demos.HSP-markdown.html#47655" class="Function Operator">âŸ¦_âŸ§s</a> <a id="47660" class="Symbol">:</a> <a id="47662" class="Symbol">{</a><a id="47663" href="Demos.HSP-markdown.html#47663" class="Bound">X</a> <a id="47665" href="Demos.HSP-markdown.html#47665" class="Bound">Y</a> <a id="47667" class="Symbol">:</a> <a id="47669" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="47674" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="47675" class="Symbol">}</a> <a id="47677" class="Symbol">â†’</a> <a id="47679" href="Demos.HSP-markdown.html#45074" class="Function">Sub</a> <a id="47683" href="Demos.HSP-markdown.html#47663" class="Bound">X</a> <a id="47685" href="Demos.HSP-markdown.html#47665" class="Bound">Y</a> <a id="47687" class="Symbol">â†’</a> <a id="47689" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a><a id="47696" class="Symbol">(</a><a id="47697" href="Demos.HSP-markdown.html#45673" class="Function">Env</a> <a id="47701" href="Demos.HSP-markdown.html#47663" class="Bound">X</a><a id="47702" class="Symbol">)</a> <a id="47704" class="Symbol">â†’</a> <a id="47706" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="47714" class="Symbol">(</a><a id="47715" href="Demos.HSP-markdown.html#45673" class="Function">Env</a> <a id="47719" href="Demos.HSP-markdown.html#47665" class="Bound">Y</a><a id="47720" class="Symbol">)</a>
 <a id="47723" href="Demos.HSP-markdown.html#47655" class="Function Operator">âŸ¦</a> <a id="47725" href="Demos.HSP-markdown.html#47725" class="Bound">Ïƒ</a> <a id="47727" href="Demos.HSP-markdown.html#47655" class="Function Operator">âŸ§s</a> <a id="47730" href="Demos.HSP-markdown.html#47730" class="Bound">Ï</a> <a id="47732" href="Demos.HSP-markdown.html#47732" class="Bound">x</a> <a id="47734" class="Symbol">=</a> <a id="47736" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="47738" href="Demos.HSP-markdown.html#47725" class="Bound">Ïƒ</a> <a id="47740" href="Demos.HSP-markdown.html#47732" class="Bound">x</a> <a id="47742" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="47744" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="47748" href="Demos.HSP-markdown.html#47730" class="Bound">Ï</a>

</pre>

Next we prove that âŸ¦t[Ïƒ]âŸ§Ï â‰ƒ âŸ¦tâŸ§âŸ¦ÏƒâŸ§Ï (cf. [Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf)).

<pre class="Agda">

 <a id="Environment.substitution"></a><a id="47951" href="Demos.HSP-markdown.html#47951" class="Function">substitution</a> <a id="47964" class="Symbol">:</a> <a id="47966" class="Symbol">{</a><a id="47967" href="Demos.HSP-markdown.html#47967" class="Bound">X</a> <a id="47969" href="Demos.HSP-markdown.html#47969" class="Bound">Y</a> <a id="47971" class="Symbol">:</a> <a id="47973" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="47978" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="47979" class="Symbol">}</a> <a id="47981" class="Symbol">â†’</a> <a id="47983" class="Symbol">(</a><a id="47984" href="Demos.HSP-markdown.html#47984" class="Bound">t</a> <a id="47986" class="Symbol">:</a> <a id="47988" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="47993" href="Demos.HSP-markdown.html#47969" class="Bound">Y</a><a id="47994" class="Symbol">)</a> <a id="47996" class="Symbol">(</a><a id="47997" href="Demos.HSP-markdown.html#47997" class="Bound">Ïƒ</a> <a id="47999" class="Symbol">:</a> <a id="48001" href="Demos.HSP-markdown.html#45074" class="Function">Sub</a> <a id="48005" href="Demos.HSP-markdown.html#47967" class="Bound">X</a> <a id="48007" href="Demos.HSP-markdown.html#47969" class="Bound">Y</a><a id="48008" class="Symbol">)</a> <a id="48010" class="Symbol">(</a><a id="48011" href="Demos.HSP-markdown.html#48011" class="Bound">Ï</a> <a id="48013" class="Symbol">:</a> <a id="48015" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a><a id="48022" class="Symbol">(</a> <a id="48024" href="Demos.HSP-markdown.html#45673" class="Function">Env</a> <a id="48028" href="Demos.HSP-markdown.html#47967" class="Bound">X</a> <a id="48030" class="Symbol">)</a> <a id="48032" class="Symbol">)</a>
  <a id="48036" class="Symbol">â†’</a>             <a id="48050" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="48052" href="Demos.HSP-markdown.html#47984" class="Bound">t</a> <a id="48054" href="Demos.HSP-markdown.html#45138" class="Function Operator">[</a> <a id="48056" href="Demos.HSP-markdown.html#47997" class="Bound">Ïƒ</a> <a id="48058" href="Demos.HSP-markdown.html#45138" class="Function Operator">]</a> <a id="48060" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="48062" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="48066" href="Demos.HSP-markdown.html#48011" class="Bound">Ï</a>  <a id="48069" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a>  <a id="48072" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="48074" href="Demos.HSP-markdown.html#47984" class="Bound">t</a> <a id="48076" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="48078" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="48082" class="Symbol">(</a><a id="48083" href="Demos.HSP-markdown.html#47655" class="Function Operator">âŸ¦</a> <a id="48085" href="Demos.HSP-markdown.html#47997" class="Bound">Ïƒ</a> <a id="48087" href="Demos.HSP-markdown.html#47655" class="Function Operator">âŸ§s</a> <a id="48090" href="Demos.HSP-markdown.html#48011" class="Bound">Ï</a><a id="48091" class="Symbol">)</a>

 <a id="48095" href="Demos.HSP-markdown.html#47951" class="Function">substitution</a> <a id="48108" class="Symbol">(</a><a id="48109" href="Demos.HSP-markdown.html#41570" class="InductiveConstructor">â„Š</a> <a id="48111" href="Demos.HSP-markdown.html#48111" class="Bound">x</a><a id="48112" class="Symbol">)</a> <a id="48114" href="Demos.HSP-markdown.html#48114" class="Bound">Ïƒ</a> <a id="48116" href="Demos.HSP-markdown.html#48116" class="Bound">Ï</a> <a id="48118" class="Symbol">=</a> <a id="48120" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="48126" href="Demos.HSP-markdown.html#47951" class="Function">substitution</a> <a id="48139" class="Symbol">(</a><a id="48140" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="48145" href="Demos.HSP-markdown.html#48145" class="Bound">f</a> <a id="48147" href="Demos.HSP-markdown.html#48147" class="Bound">ts</a><a id="48149" class="Symbol">)</a> <a id="48151" href="Demos.HSP-markdown.html#48151" class="Bound">Ïƒ</a> <a id="48153" href="Demos.HSP-markdown.html#48153" class="Bound">Ï</a> <a id="48155" class="Symbol">=</a> <a id="48157" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="48162" class="Symbol">(</a><a id="48163" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="48170" href="Demos.HSP-markdown.html#45594" class="Bound">ğ‘¨</a><a id="48171" class="Symbol">)(</a><a id="48173" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="48180" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="48182" class="Symbol">Î»</a> <a id="48184" href="Demos.HSP-markdown.html#48184" class="Bound">i</a> <a id="48186" class="Symbol">â†’</a> <a id="48188" href="Demos.HSP-markdown.html#47951" class="Function">substitution</a> <a id="48201" class="Symbol">(</a><a id="48202" href="Demos.HSP-markdown.html#48147" class="Bound">ts</a> <a id="48205" href="Demos.HSP-markdown.html#48184" class="Bound">i</a><a id="48206" class="Symbol">)</a> <a id="48208" href="Demos.HSP-markdown.html#48151" class="Bound">Ïƒ</a> <a id="48210" href="Demos.HSP-markdown.html#48153" class="Bound">Ï</a><a id="48211" class="Symbol">)</a>
</pre>


### <a id="compatibility-of-terms">Compatibility of terms</a>

We now prove two important facts about term operations.  The first of these, which is used very often in the sequel, asserts that every term commutes with every homomorphism.

<pre class="Agda">

<a id="48479" class="Keyword">module</a> <a id="48486" href="Demos.HSP-markdown.html#48486" class="Module">_</a> <a id="48488" class="Symbol">{</a><a id="48489" href="Demos.HSP-markdown.html#48489" class="Bound">X</a> <a id="48491" class="Symbol">:</a> <a id="48493" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="48498" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="48499" class="Symbol">}{</a><a id="48501" href="Demos.HSP-markdown.html#48501" class="Bound">ğ‘¨</a> <a id="48503" class="Symbol">:</a> <a id="48505" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="48513" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="48515" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="48517" class="Symbol">}{</a><a id="48519" href="Demos.HSP-markdown.html#48519" class="Bound">ğ‘©</a> <a id="48521" class="Symbol">:</a> <a id="48523" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="48531" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="48533" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="48535" class="Symbol">}(</a><a id="48537" href="Demos.HSP-markdown.html#48537" class="Bound">hh</a> <a id="48540" class="Symbol">:</a> <a id="48542" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="48546" href="Demos.HSP-markdown.html#48501" class="Bound">ğ‘¨</a> <a id="48548" href="Demos.HSP-markdown.html#48519" class="Bound">ğ‘©</a><a id="48549" class="Symbol">)</a> <a id="48551" class="Keyword">where</a>
 <a id="48558" class="Keyword">open</a> <a id="48563" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="48570" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="48573" href="Demos.HSP-markdown.html#48519" class="Bound">ğ‘©</a> <a id="48575" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="48577" class="Keyword">using</a> <a id="48583" class="Symbol">(</a> <a id="48585" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="48589" class="Symbol">;</a> <a id="48591" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="48596" class="Symbol">)</a>
 <a id="48599" class="Keyword">open</a> <a id="48604" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="48620" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="48623" href="Demos.HSP-markdown.html#48519" class="Bound">ğ‘©</a> <a id="48625" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>
 <a id="48628" class="Keyword">private</a> <a id="48636" href="Demos.HSP-markdown.html#48636" class="Function">hfunc</a> <a id="48642" class="Symbol">=</a> <a id="48644" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="48646" href="Demos.HSP-markdown.html#48537" class="Bound">hh</a> <a id="48649" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="48651" class="Symbol">;</a> <a id="48653" href="Demos.HSP-markdown.html#48653" class="Function">h</a> <a id="48655" class="Symbol">=</a> <a id="48657" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="48663" href="Demos.HSP-markdown.html#48636" class="Function">hfunc</a>
 <a id="48670" class="Keyword">open</a> <a id="48675" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="48687" href="Demos.HSP-markdown.html#48501" class="Bound">ğ‘¨</a> <a id="48689" class="Keyword">using</a> <a id="48695" class="Symbol">(</a> <a id="48697" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="48701" class="Symbol">)</a>
 <a id="48704" class="Keyword">open</a> <a id="48709" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="48721" href="Demos.HSP-markdown.html#48519" class="Bound">ğ‘©</a> <a id="48723" class="Keyword">using</a> <a id="48729" class="Symbol">()</a> <a id="48732" class="Keyword">renaming</a> <a id="48741" class="Symbol">(</a> <a id="48743" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="48747" class="Symbol">to</a> <a id="48750" class="Function Operator">âŸ¦_âŸ§á´®</a> <a id="48755" class="Symbol">)</a>

 <a id="48759" href="Demos.HSP-markdown.html#48759" class="Function">comm-hom-term</a> <a id="48773" class="Symbol">:</a> <a id="48775" class="Symbol">(</a><a id="48776" href="Demos.HSP-markdown.html#48776" class="Bound">t</a> <a id="48778" class="Symbol">:</a> <a id="48780" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="48785" href="Demos.HSP-markdown.html#48489" class="Bound">X</a><a id="48786" class="Symbol">)</a> <a id="48788" class="Symbol">(</a><a id="48789" href="Demos.HSP-markdown.html#48789" class="Bound">a</a> <a id="48791" class="Symbol">:</a> <a id="48793" href="Demos.HSP-markdown.html#48489" class="Bound">X</a> <a id="48795" class="Symbol">â†’</a> <a id="48797" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="48800" href="Demos.HSP-markdown.html#48501" class="Bound">ğ‘¨</a> <a id="48802" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a><a id="48803" class="Symbol">)</a> <a id="48805" class="Symbol">â†’</a> <a id="48807" href="Demos.HSP-markdown.html#48653" class="Function">h</a> <a id="48809" class="Symbol">(</a><a id="48810" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="48812" href="Demos.HSP-markdown.html#48776" class="Bound">t</a> <a id="48814" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="48816" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="48820" href="Demos.HSP-markdown.html#48789" class="Bound">a</a><a id="48821" class="Symbol">)</a> <a id="48823" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="48825" href="Demos.HSP-markdown.html#48750" class="Function Operator">âŸ¦</a> <a id="48827" href="Demos.HSP-markdown.html#48776" class="Bound">t</a> <a id="48829" href="Demos.HSP-markdown.html#48750" class="Function Operator">âŸ§á´®</a> <a id="48832" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="48836" class="Symbol">(</a><a id="48837" href="Demos.HSP-markdown.html#48653" class="Function">h</a> <a id="48839" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="48841" href="Demos.HSP-markdown.html#48789" class="Bound">a</a><a id="48842" class="Symbol">)</a>
 <a id="48845" href="Demos.HSP-markdown.html#48759" class="Function">comm-hom-term</a> <a id="48859" class="Symbol">(</a><a id="48860" href="Demos.HSP-markdown.html#41570" class="InductiveConstructor">â„Š</a> <a id="48862" href="Demos.HSP-markdown.html#48862" class="Bound">x</a><a id="48863" class="Symbol">)</a> <a id="48865" href="Demos.HSP-markdown.html#48865" class="Bound">a</a> <a id="48867" class="Symbol">=</a> <a id="48869" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="48875" href="Demos.HSP-markdown.html#48759" class="Function">comm-hom-term</a> <a id="48889" class="Symbol">(</a><a id="48890" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="48895" href="Demos.HSP-markdown.html#48895" class="Bound">f</a> <a id="48897" href="Demos.HSP-markdown.html#48897" class="Bound">t</a><a id="48898" class="Symbol">)</a> <a id="48900" href="Demos.HSP-markdown.html#48900" class="Bound">a</a> <a id="48902" class="Symbol">=</a> <a id="48904" href="Demos.HSP-markdown.html#48919" class="Function">goal</a>
  <a id="48911" class="Keyword">where</a>
  <a id="48919" href="Demos.HSP-markdown.html#48919" class="Function">goal</a> <a id="48924" class="Symbol">:</a> <a id="48926" href="Demos.HSP-markdown.html#48653" class="Function">h</a> <a id="48928" class="Symbol">(</a><a id="48929" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="48931" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="48936" href="Demos.HSP-markdown.html#48895" class="Bound">f</a> <a id="48938" href="Demos.HSP-markdown.html#48897" class="Bound">t</a> <a id="48940" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="48942" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="48946" href="Demos.HSP-markdown.html#48900" class="Bound">a</a><a id="48947" class="Symbol">)</a> <a id="48949" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="48951" class="Symbol">(</a><a id="48952" href="Demos.HSP-markdown.html#48750" class="Function Operator">âŸ¦</a> <a id="48954" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="48959" href="Demos.HSP-markdown.html#48895" class="Bound">f</a> <a id="48961" href="Demos.HSP-markdown.html#48897" class="Bound">t</a> <a id="48963" href="Demos.HSP-markdown.html#48750" class="Function Operator">âŸ§á´®</a> <a id="48966" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="48970" class="Symbol">(</a><a id="48971" href="Demos.HSP-markdown.html#48653" class="Function">h</a> <a id="48973" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="48975" href="Demos.HSP-markdown.html#48900" class="Bound">a</a><a id="48976" class="Symbol">))</a>
  <a id="48981" href="Demos.HSP-markdown.html#48919" class="Function">goal</a> <a id="48986" class="Symbol">=</a> <a id="48988" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
          <a id="49004" href="Demos.HSP-markdown.html#48653" class="Function">h</a> <a id="49006" class="Symbol">(</a><a id="49007" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="49009" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="49014" href="Demos.HSP-markdown.html#48895" class="Bound">f</a> <a id="49016" href="Demos.HSP-markdown.html#48897" class="Bound">t</a> <a id="49018" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="49020" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="49024" href="Demos.HSP-markdown.html#48900" class="Bound">a</a><a id="49025" class="Symbol">)</a>              <a id="49040" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>  <a id="49044" href="Demos.HSP-markdown.html#27047" class="Field">compatible</a> <a id="49055" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="49057" href="Demos.HSP-markdown.html#48537" class="Bound">hh</a> <a id="49060" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>                                     <a id="49098" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
          <a id="49110" class="Symbol">(</a><a id="49111" href="Demos.HSP-markdown.html#48895" class="Bound">f</a> <a id="49113" href="Demos.HSP-markdown.html#23812" class="Function Operator">Ì‚</a> <a id="49115" href="Demos.HSP-markdown.html#48519" class="Bound">ğ‘©</a><a id="49116" class="Symbol">)(Î»</a> <a id="49120" href="Demos.HSP-markdown.html#49120" class="Bound">i</a> <a id="49122" class="Symbol">â†’</a> <a id="49124" href="Demos.HSP-markdown.html#48653" class="Function">h</a> <a id="49126" class="Symbol">(</a><a id="49127" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="49129" href="Demos.HSP-markdown.html#48897" class="Bound">t</a> <a id="49131" href="Demos.HSP-markdown.html#49120" class="Bound">i</a> <a id="49133" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="49135" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="49139" href="Demos.HSP-markdown.html#48900" class="Bound">a</a><a id="49140" class="Symbol">))</a>     <a id="49147" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>  <a id="49151" href="Function.Bundles.html#1938" class="Field">cong</a><a id="49155" class="Symbol">(</a><a id="49156" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="49163" href="Demos.HSP-markdown.html#48519" class="Bound">ğ‘©</a><a id="49164" class="Symbol">)(</a><a id="49166" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="49173" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="49175" class="Symbol">Î»</a> <a id="49177" href="Demos.HSP-markdown.html#49177" class="Bound">i</a> <a id="49179" class="Symbol">â†’</a> <a id="49181" href="Demos.HSP-markdown.html#48759" class="Function">comm-hom-term</a> <a id="49195" class="Symbol">(</a><a id="49196" href="Demos.HSP-markdown.html#48897" class="Bound">t</a> <a id="49198" href="Demos.HSP-markdown.html#49177" class="Bound">i</a><a id="49199" class="Symbol">)</a> <a id="49201" href="Demos.HSP-markdown.html#48900" class="Bound">a</a><a id="49202" class="Symbol">)</a>  <a id="49205" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
          <a id="49217" class="Symbol">(</a><a id="49218" href="Demos.HSP-markdown.html#48895" class="Bound">f</a> <a id="49220" href="Demos.HSP-markdown.html#23812" class="Function Operator">Ì‚</a> <a id="49222" href="Demos.HSP-markdown.html#48519" class="Bound">ğ‘©</a><a id="49223" class="Symbol">)(Î»</a> <a id="49227" href="Demos.HSP-markdown.html#49227" class="Bound">i</a> <a id="49229" class="Symbol">â†’</a> <a id="49231" href="Demos.HSP-markdown.html#48750" class="Function Operator">âŸ¦</a> <a id="49233" href="Demos.HSP-markdown.html#48897" class="Bound">t</a> <a id="49235" href="Demos.HSP-markdown.html#49227" class="Bound">i</a> <a id="49237" href="Demos.HSP-markdown.html#48750" class="Function Operator">âŸ§á´®</a> <a id="49240" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="49244" class="Symbol">(</a><a id="49245" href="Demos.HSP-markdown.html#48653" class="Function">h</a> <a id="49247" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="49249" href="Demos.HSP-markdown.html#48900" class="Bound">a</a><a id="49250" class="Symbol">))</a>  <a id="49254" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>  <a id="49258" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>                                                  <a id="49312" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
          <a id="49324" class="Symbol">(</a><a id="49325" href="Demos.HSP-markdown.html#48750" class="Function Operator">âŸ¦</a> <a id="49327" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="49332" href="Demos.HSP-markdown.html#48895" class="Bound">f</a> <a id="49334" href="Demos.HSP-markdown.html#48897" class="Bound">t</a> <a id="49336" href="Demos.HSP-markdown.html#48750" class="Function Operator">âŸ§á´®</a> <a id="49339" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="49343" class="Symbol">(</a><a id="49344" href="Demos.HSP-markdown.html#48653" class="Function">h</a> <a id="49346" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="49348" href="Demos.HSP-markdown.html#48900" class="Bound">a</a><a id="49349" class="Symbol">))</a>         <a id="49360" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">âˆ</a>
</pre>

<!--
### <a id="interpretation-of-terms-in-product-algebras">Interpretation of terms in product algebras</a>
-->
<pre class="Agda">
<a id="49506" class="Keyword">module</a> <a id="49513" href="Demos.HSP-markdown.html#49513" class="Module">_</a> <a id="49515" class="Symbol">{</a><a id="49516" href="Demos.HSP-markdown.html#49516" class="Bound">X</a> <a id="49518" class="Symbol">:</a> <a id="49520" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="49525" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="49526" class="Symbol">}{</a><a id="49528" href="Demos.HSP-markdown.html#49528" class="Bound">Î¹</a> <a id="49530" class="Symbol">:</a> <a id="49532" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="49537" class="Symbol">}</a> <a id="49539" class="Symbol">{</a><a id="49540" href="Demos.HSP-markdown.html#49540" class="Bound">I</a> <a id="49542" class="Symbol">:</a> <a id="49544" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="49549" href="Demos.HSP-markdown.html#49528" class="Bound">Î¹</a><a id="49550" class="Symbol">}</a> <a id="49552" class="Symbol">(</a><a id="49553" href="Demos.HSP-markdown.html#49553" class="Bound">ğ’œ</a> <a id="49555" class="Symbol">:</a> <a id="49557" href="Demos.HSP-markdown.html#49540" class="Bound">I</a> <a id="49559" class="Symbol">â†’</a> <a id="49561" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="49569" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="49571" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="49573" class="Symbol">)</a> <a id="49575" class="Keyword">where</a>
 <a id="49582" class="Keyword">open</a> <a id="49587" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="49594" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="49597" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="49599" href="Demos.HSP-markdown.html#49553" class="Bound">ğ’œ</a> <a id="49601" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="49603" class="Keyword">using</a> <a id="49609" class="Symbol">(</a> <a id="49611" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="49615" class="Symbol">)</a>
 <a id="49618" class="Keyword">open</a> <a id="49623" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="49635" class="Symbol">(</a><a id="49636" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="49638" href="Demos.HSP-markdown.html#49553" class="Bound">ğ’œ</a><a id="49639" class="Symbol">)</a> <a id="49641" class="Keyword">using</a> <a id="49647" class="Symbol">()</a> <a id="49650" class="Keyword">renaming</a> <a id="49659" class="Symbol">(</a> <a id="49661" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="49665" class="Symbol">to</a> <a id="49668" class="Function Operator">âŸ¦_âŸ§â‚</a> <a id="49673" class="Symbol">)</a>
 <a id="49676" class="Keyword">open</a> <a id="49681" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="49693" class="Keyword">using</a> <a id="49699" class="Symbol">(</a> <a id="49701" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="49705" class="Symbol">;</a> <a id="49707" href="Demos.HSP-markdown.html#46790" class="Function">â‰â†’Equal</a> <a id="49715" class="Symbol">)</a>

 <a id="49719" href="Demos.HSP-markdown.html#49719" class="Function">interp-prod</a> <a id="49731" class="Symbol">:</a> <a id="49733" class="Symbol">(</a><a id="49734" href="Demos.HSP-markdown.html#49734" class="Bound">p</a> <a id="49736" class="Symbol">:</a> <a id="49738" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="49743" href="Demos.HSP-markdown.html#49516" class="Bound">X</a><a id="49744" class="Symbol">)</a> <a id="49746" class="Symbol">â†’</a> <a id="49748" class="Symbol">âˆ€</a> <a id="49750" href="Demos.HSP-markdown.html#49750" class="Bound">Ï</a> <a id="49752" class="Symbol">â†’</a> <a id="49754" href="Demos.HSP-markdown.html#49668" class="Function Operator">âŸ¦</a> <a id="49756" href="Demos.HSP-markdown.html#49734" class="Bound">p</a> <a id="49758" href="Demos.HSP-markdown.html#49668" class="Function Operator">âŸ§â‚</a> <a id="49761" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="49765" href="Demos.HSP-markdown.html#49750" class="Bound">Ï</a> <a id="49767" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="49769" class="Symbol">(Î»</a> <a id="49772" href="Demos.HSP-markdown.html#49772" class="Bound">i</a> <a id="49774" class="Symbol">â†’</a> <a id="49776" class="Symbol">(</a><a id="49777" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="49779" href="Demos.HSP-markdown.html#49553" class="Bound">ğ’œ</a> <a id="49781" href="Demos.HSP-markdown.html#49772" class="Bound">i</a> <a id="49783" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="49785" href="Demos.HSP-markdown.html#49734" class="Bound">p</a><a id="49786" class="Symbol">)</a> <a id="49788" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="49792" class="Symbol">(Î»</a> <a id="49795" href="Demos.HSP-markdown.html#49795" class="Bound">x</a> <a id="49797" class="Symbol">â†’</a> <a id="49799" class="Symbol">(</a><a id="49800" href="Demos.HSP-markdown.html#49750" class="Bound">Ï</a> <a id="49802" href="Demos.HSP-markdown.html#49795" class="Bound">x</a><a id="49803" class="Symbol">)</a> <a id="49805" href="Demos.HSP-markdown.html#49772" class="Bound">i</a><a id="49806" class="Symbol">))</a>
 <a id="49810" href="Demos.HSP-markdown.html#49719" class="Function">interp-prod</a> <a id="49822" class="Symbol">(</a><a id="49823" href="Demos.HSP-markdown.html#41570" class="InductiveConstructor">â„Š</a> <a id="49825" href="Demos.HSP-markdown.html#49825" class="Bound">x</a><a id="49826" class="Symbol">)</a> <a id="49828" class="Symbol">=</a> <a id="49830" class="Symbol">Î»</a> <a id="49832" href="Demos.HSP-markdown.html#49832" class="Bound">Ï</a> <a id="49834" href="Demos.HSP-markdown.html#49834" class="Bound">i</a> <a id="49836" class="Symbol">â†’</a> <a id="49838" href="Demos.HSP-markdown.html#46790" class="Function">â‰â†’Equal</a> <a id="49846" class="Symbol">(</a><a id="49847" href="Demos.HSP-markdown.html#49553" class="Bound">ğ’œ</a> <a id="49849" href="Demos.HSP-markdown.html#49834" class="Bound">i</a><a id="49850" class="Symbol">)</a> <a id="49852" class="Symbol">(</a><a id="49853" href="Demos.HSP-markdown.html#41570" class="InductiveConstructor">â„Š</a> <a id="49855" href="Demos.HSP-markdown.html#49825" class="Bound">x</a><a id="49856" class="Symbol">)</a> <a id="49858" class="Symbol">(</a><a id="49859" href="Demos.HSP-markdown.html#41570" class="InductiveConstructor">â„Š</a> <a id="49861" href="Demos.HSP-markdown.html#49825" class="Bound">x</a><a id="49862" class="Symbol">)</a> <a id="49864" href="Demos.HSP-markdown.html#42925" class="Function">â‰-isRefl</a> <a id="49873" class="Symbol">Î»</a> <a id="49875" href="Demos.HSP-markdown.html#49875" class="Bound">x&#39;</a> <a id="49878" class="Symbol">â†’</a> <a id="49880" class="Symbol">(</a><a id="49881" href="Demos.HSP-markdown.html#49832" class="Bound">Ï</a> <a id="49883" href="Demos.HSP-markdown.html#49825" class="Bound">x</a><a id="49884" class="Symbol">)</a> <a id="49886" href="Demos.HSP-markdown.html#49834" class="Bound">i</a>
 <a id="49889" href="Demos.HSP-markdown.html#49719" class="Function">interp-prod</a> <a id="49901" class="Symbol">(</a><a id="49902" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="49907" href="Demos.HSP-markdown.html#49907" class="Bound">f</a> <a id="49909" href="Demos.HSP-markdown.html#49909" class="Bound">t</a><a id="49910" class="Symbol">)</a> <a id="49912" class="Symbol">=</a> <a id="49914" class="Symbol">Î»</a> <a id="49916" href="Demos.HSP-markdown.html#49916" class="Bound">Ï</a> <a id="49918" href="Demos.HSP-markdown.html#49918" class="Bound">i</a> <a id="49920" class="Symbol">â†’</a> <a id="49922" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="49927" class="Symbol">(</a><a id="49928" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="49935" class="Symbol">(</a><a id="49936" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="49938" href="Demos.HSP-markdown.html#49553" class="Bound">ğ’œ</a><a id="49939" class="Symbol">))(</a><a id="49942" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="49949" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="49951" class="Symbol">(Î»</a> <a id="49954" href="Demos.HSP-markdown.html#49954" class="Bound">j</a> <a id="49956" href="Demos.HSP-markdown.html#49956" class="Bound">k</a> <a id="49958" class="Symbol">â†’</a> <a id="49960" href="Demos.HSP-markdown.html#49719" class="Function">interp-prod</a> <a id="49972" class="Symbol">(</a><a id="49973" href="Demos.HSP-markdown.html#49909" class="Bound">t</a> <a id="49975" href="Demos.HSP-markdown.html#49954" class="Bound">j</a><a id="49976" class="Symbol">)</a> <a id="49978" href="Demos.HSP-markdown.html#49916" class="Bound">Ï</a> <a id="49980" href="Demos.HSP-markdown.html#49956" class="Bound">k</a><a id="49981" class="Symbol">))</a> <a id="49984" href="Demos.HSP-markdown.html#49918" class="Bound">i</a>
</pre>





<!-- ------------------------------------------------------------------------------------- -->

## <a id="model-theory-and-equational-logic">Model Theory and Equational Logic</a>

(cf. the [Varieties.Func.SoundAndComplete][] module of the [Agda Universal Algebra Library][])

### <a id="model-theory-basic-definitions">Basic definitions</a>

Let `ğ‘†` be a signature. By an *identity* or *equation* in `ğ‘†` we mean an ordered pair of terms in a given context.  For instance, if the context happens to be the type `X : Type Ï‡`, then an equation will be a pair of inhabitants of the domain of term algebra `ğ‘» X`.

We define an equation in Agda using the following record type with fields denoting the left-hand and right-hand sides of the equation, along with an equation "context" representing the underlying collection of variable symbols (cf. [Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf)).

<pre class="Agda">

<a id="50988" class="Keyword">record</a> <a id="Eq"></a><a id="50995" href="Demos.HSP-markdown.html#50995" class="Record">Eq</a> <a id="50998" class="Symbol">:</a> <a id="51000" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="51005" class="Symbol">(</a><a id="51006" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="51009" href="Demos.HSP-markdown.html#51009" class="Bound">Ï‡</a><a id="51010" class="Symbol">)</a> <a id="51012" class="Keyword">where</a>
 <a id="51019" class="Keyword">constructor</a> <a id="_â‰ˆÌ‡_"></a><a id="51031" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">_â‰ˆÌ‡_</a>
 <a id="51037" class="Keyword">field</a>  <a id="51044" class="Symbol">{</a><a id="Eq.cxt"></a><a id="51045" href="Demos.HSP-markdown.html#51045" class="Field">cxt</a><a id="51048" class="Symbol">}</a>  <a id="51051" class="Symbol">:</a> <a id="51053" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="51058" href="Demos.HSP-markdown.html#51009" class="Bound">Ï‡</a>
        <a id="Eq.lhs"></a><a id="51068" href="Demos.HSP-markdown.html#51068" class="Field">lhs</a>    <a id="51075" class="Symbol">:</a> <a id="51077" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="51082" href="Demos.HSP-markdown.html#51045" class="Field">cxt</a>
        <a id="Eq.rhs"></a><a id="51094" href="Demos.HSP-markdown.html#51094" class="Field">rhs</a>    <a id="51101" class="Symbol">:</a> <a id="51103" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="51108" href="Demos.HSP-markdown.html#51045" class="Field">cxt</a>

<a id="51113" class="Keyword">open</a> <a id="51118" href="Demos.HSP-markdown.html#50995" class="Module">Eq</a> <a id="51121" class="Keyword">public</a>

</pre>

We now define a type representing the notion of an equation `p â‰ˆÌ‡ q` holding (when `p` and `q` are interpreted) in algebra `ğ‘¨`.

If `ğ‘¨` is an `ğ‘†`-algebra we say that `ğ‘¨` *satisfies* `p â‰ˆ q` provided for all environments `Ï : X â†’ âˆ£ ğ‘¨ âˆ£` (assigning values in the domain of `ğ‘¨` to variable symbols in `X`) we have `âŸ¦ p âŸ§âŸ¨$âŸ© Ï â‰ˆ âŸ¦ q âŸ§ âŸ¨$âŸ© Ï`.  In this situation, we write `ğ‘¨ âŠ§ (p â‰ˆÌ‡ q)` and say that `ğ‘¨` *models* the identity `p â‰ˆ q`.

If `ğ’¦` is a class of algebras, all of the same signature, we write `ğ’¦ âŠ« (p â‰ˆÌ‡ q) if, for every `ğ‘¨ âˆˆ ğ’¦`, we have `ğ‘¨ âŠ§ (p â‰ˆÌ‡ q)`.

Because a class of structures has a different type than a single structure, we must use a slightly different syntax to avoid overloading the relations `âŠ§` and `â‰ˆ`. As a reasonable alternative to what we would normally express informally as `ğ’¦ âŠ§ p â‰ˆ q`, we have settled on `ğ’¦ âŠ« (p â‰ˆÌ‡ q)` to denote this relation.  To reiterate, if `ğ’¦` is a class of `ğ‘†`-algebras, we write `ğ’¦ âŠ« (p â‰ˆÌ‡ q)` provided every `ğ‘¨ âˆˆ ğ’¦` satisfies `ğ‘¨ âŠ§ (p â‰ˆÌ‡ q)`.

<pre class="Agda">

<a id="_âŠ§_"></a><a id="52152" href="Demos.HSP-markdown.html#52152" class="Function Operator">_âŠ§_</a> <a id="52156" class="Symbol">:</a> <a id="52158" class="Symbol">(</a><a id="52159" href="Demos.HSP-markdown.html#52159" class="Bound">ğ‘¨</a> <a id="52161" class="Symbol">:</a> <a id="52163" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="52171" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="52173" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="52175" class="Symbol">)(</a><a id="52177" href="Demos.HSP-markdown.html#52177" class="Bound">term-identity</a> <a id="52191" class="Symbol">:</a> <a id="52193" href="Demos.HSP-markdown.html#50995" class="Record">Eq</a><a id="52195" class="Symbol">{</a><a id="52196" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="52197" class="Symbol">})</a> <a id="52200" class="Symbol">â†’</a> <a id="52202" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="52207" class="Symbol">_</a>
<a id="52209" href="Demos.HSP-markdown.html#52209" class="Bound">ğ‘¨</a> <a id="52211" href="Demos.HSP-markdown.html#52152" class="Function Operator">âŠ§</a> <a id="52213" class="Symbol">(</a><a id="52214" href="Demos.HSP-markdown.html#52214" class="Bound">p</a> <a id="52216" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="52219" href="Demos.HSP-markdown.html#52219" class="Bound">q</a><a id="52220" class="Symbol">)</a> <a id="52222" class="Symbol">=</a> <a id="52224" href="Demos.HSP-markdown.html#46667" class="Function">Equal</a> <a id="52230" href="Demos.HSP-markdown.html#52214" class="Bound">p</a> <a id="52232" href="Demos.HSP-markdown.html#52219" class="Bound">q</a> <a id="52234" class="Keyword">where</a> <a id="52240" class="Keyword">open</a> <a id="52245" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="52257" href="Demos.HSP-markdown.html#52209" class="Bound">ğ‘¨</a>

<a id="_âŠ«_"></a><a id="52260" href="Demos.HSP-markdown.html#52260" class="Function Operator">_âŠ«_</a> <a id="52264" class="Symbol">:</a> <a id="52266" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="52271" class="Symbol">(</a><a id="52272" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="52280" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="52282" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="52284" class="Symbol">)</a> <a id="52286" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a> <a id="52288" class="Symbol">â†’</a> <a id="52290" href="Demos.HSP-markdown.html#50995" class="Record">Eq</a><a id="52292" class="Symbol">{</a><a id="52293" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="52294" class="Symbol">}</a> <a id="52296" class="Symbol">â†’</a> <a id="52298" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="52303" class="Symbol">(</a><a id="52304" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a> <a id="52306" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="52308" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a> <a id="52310" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="52312" href="Demos.HSP-markdown.html#37603" class="Function">ov</a><a id="52314" class="Symbol">(</a><a id="52315" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="52317" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="52319" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="52321" class="Symbol">))</a>
<a id="52324" href="Demos.HSP-markdown.html#52324" class="Bound">ğ’¦</a> <a id="52326" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="52328" href="Demos.HSP-markdown.html#52328" class="Bound">equ</a> <a id="52332" class="Symbol">=</a> <a id="52334" class="Symbol">âˆ€</a> <a id="52336" href="Demos.HSP-markdown.html#52336" class="Bound">ğ‘¨</a> <a id="52338" class="Symbol">â†’</a> <a id="52340" href="Demos.HSP-markdown.html#52324" class="Bound">ğ’¦</a> <a id="52342" href="Demos.HSP-markdown.html#52336" class="Bound">ğ‘¨</a> <a id="52344" class="Symbol">â†’</a> <a id="52346" href="Demos.HSP-markdown.html#52336" class="Bound">ğ‘¨</a> <a id="52348" href="Demos.HSP-markdown.html#52152" class="Function Operator">âŠ§</a> <a id="52350" href="Demos.HSP-markdown.html#52328" class="Bound">equ</a>

</pre>

We denote by `ğ‘¨ âŠ¨ â„°` the assertion that the algebra ğ‘¨ models every equation in a collection `â„°` of equations.

<pre class="Agda">

<a id="_âŠ¨_"></a><a id="52492" href="Demos.HSP-markdown.html#52492" class="Function Operator">_âŠ¨_</a> <a id="52496" class="Symbol">:</a> <a id="52498" class="Symbol">(</a><a id="52499" href="Demos.HSP-markdown.html#52499" class="Bound">ğ‘¨</a> <a id="52501" class="Symbol">:</a> <a id="52503" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="52511" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="52513" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="52515" class="Symbol">)</a> <a id="52517" class="Symbol">â†’</a> <a id="52519" class="Symbol">{</a><a id="52520" href="Demos.HSP-markdown.html#52520" class="Bound">Î¹</a> <a id="52522" class="Symbol">:</a> <a id="52524" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="52529" class="Symbol">}{</a><a id="52531" href="Demos.HSP-markdown.html#52531" class="Bound">I</a> <a id="52533" class="Symbol">:</a> <a id="52535" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="52540" href="Demos.HSP-markdown.html#52520" class="Bound">Î¹</a><a id="52541" class="Symbol">}</a> <a id="52543" class="Symbol">â†’</a> <a id="52545" class="Symbol">(</a><a id="52546" href="Demos.HSP-markdown.html#52531" class="Bound">I</a> <a id="52548" class="Symbol">â†’</a> <a id="52550" href="Demos.HSP-markdown.html#50995" class="Record">Eq</a><a id="52552" class="Symbol">{</a><a id="52553" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="52554" class="Symbol">})</a> <a id="52557" class="Symbol">â†’</a> <a id="52559" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="52564" class="Symbol">_</a>
<a id="52566" href="Demos.HSP-markdown.html#52566" class="Bound">ğ‘¨</a> <a id="52568" href="Demos.HSP-markdown.html#52492" class="Function Operator">âŠ¨</a> <a id="52570" href="Demos.HSP-markdown.html#52570" class="Bound">â„°</a> <a id="52572" class="Symbol">=</a> <a id="52574" class="Symbol">âˆ€</a> <a id="52576" href="Demos.HSP-markdown.html#52576" class="Bound">i</a> <a id="52578" class="Symbol">â†’</a> <a id="52580" href="Demos.HSP-markdown.html#46667" class="Function">Equal</a> <a id="52586" class="Symbol">(</a><a id="52587" href="Demos.HSP-markdown.html#51068" class="Field">lhs</a> <a id="52591" class="Symbol">(</a><a id="52592" href="Demos.HSP-markdown.html#52570" class="Bound">â„°</a> <a id="52594" href="Demos.HSP-markdown.html#52576" class="Bound">i</a><a id="52595" class="Symbol">))(</a><a id="52598" href="Demos.HSP-markdown.html#51094" class="Field">rhs</a> <a id="52602" class="Symbol">(</a><a id="52603" href="Demos.HSP-markdown.html#52570" class="Bound">â„°</a> <a id="52605" href="Demos.HSP-markdown.html#52576" class="Bound">i</a><a id="52606" class="Symbol">))</a> <a id="52609" class="Keyword">where</a> <a id="52615" class="Keyword">open</a> <a id="52620" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="52632" href="Demos.HSP-markdown.html#52566" class="Bound">ğ‘¨</a>
</pre>

### <a id="equational-theories-and-models">Equational theories and models</a>

If `ğ’¦` denotes a class of structures, then `Th ğ’¦` represents the set of identities
modeled by the members of `ğ’¦`.

<pre class="Agda">

<a id="Th"></a><a id="52854" href="Demos.HSP-markdown.html#52854" class="Function">Th</a> <a id="52857" class="Symbol">:</a> <a id="52859" class="Symbol">{</a><a id="52860" href="Demos.HSP-markdown.html#52860" class="Bound">X</a> <a id="52862" class="Symbol">:</a> <a id="52864" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="52869" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="52870" class="Symbol">}</a> <a id="52872" class="Symbol">â†’</a> <a id="52874" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="52879" class="Symbol">(</a><a id="52880" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="52888" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="52890" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="52892" class="Symbol">)</a> <a id="52894" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a> <a id="52896" class="Symbol">â†’</a> <a id="52898" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="52902" class="Symbol">(</a><a id="52903" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="52908" href="Demos.HSP-markdown.html#52860" class="Bound">X</a> <a id="52910" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="52912" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="52917" href="Demos.HSP-markdown.html#52860" class="Bound">X</a><a id="52918" class="Symbol">)</a> <a id="52920" class="Symbol">_</a>
<a id="52922" href="Demos.HSP-markdown.html#52854" class="Function">Th</a> <a id="52925" href="Demos.HSP-markdown.html#52925" class="Bound">ğ’¦</a> <a id="52927" class="Symbol">=</a> <a id="52929" class="Symbol">Î»</a> <a id="52931" class="Symbol">(</a><a id="52932" href="Demos.HSP-markdown.html#52932" class="Bound">p</a> <a id="52934" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="52936" href="Demos.HSP-markdown.html#52936" class="Bound">q</a><a id="52937" class="Symbol">)</a> <a id="52939" class="Symbol">â†’</a> <a id="52941" href="Demos.HSP-markdown.html#52925" class="Bound">ğ’¦</a> <a id="52943" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="52945" class="Symbol">(</a><a id="52946" href="Demos.HSP-markdown.html#52932" class="Bound">p</a> <a id="52948" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="52951" href="Demos.HSP-markdown.html#52936" class="Bound">q</a><a id="52952" class="Symbol">)</a>

<a id="Mod"></a><a id="52955" href="Demos.HSP-markdown.html#52955" class="Function">Mod</a> <a id="52959" class="Symbol">:</a> <a id="52961" class="Symbol">{</a><a id="52962" href="Demos.HSP-markdown.html#52962" class="Bound">X</a> <a id="52964" class="Symbol">:</a> <a id="52966" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="52971" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="52972" class="Symbol">}</a> <a id="52974" class="Symbol">â†’</a> <a id="52976" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="52980" class="Symbol">(</a><a id="52981" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="52986" href="Demos.HSP-markdown.html#52962" class="Bound">X</a> <a id="52988" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="52990" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="52995" href="Demos.HSP-markdown.html#52962" class="Bound">X</a><a id="52996" class="Symbol">)</a> <a id="52998" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a> <a id="53000" class="Symbol">â†’</a> <a id="53002" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="53007" class="Symbol">(</a><a id="53008" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="53016" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="53018" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="53020" class="Symbol">)</a> <a id="53022" class="Symbol">_</a>
<a id="53024" href="Demos.HSP-markdown.html#52955" class="Function">Mod</a> <a id="53028" href="Demos.HSP-markdown.html#53028" class="Bound">â„°</a> <a id="53030" href="Demos.HSP-markdown.html#53030" class="Bound">ğ‘¨</a> <a id="53032" class="Symbol">=</a> <a id="53034" class="Symbol">âˆ€</a> <a id="53036" class="Symbol">{</a><a id="53037" href="Demos.HSP-markdown.html#53037" class="Bound">p</a> <a id="53039" href="Demos.HSP-markdown.html#53039" class="Bound">q</a><a id="53040" class="Symbol">}</a> <a id="53042" class="Symbol">â†’</a> <a id="53044" class="Symbol">(</a><a id="53045" href="Demos.HSP-markdown.html#53037" class="Bound">p</a> <a id="53047" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="53049" href="Demos.HSP-markdown.html#53039" class="Bound">q</a><a id="53050" class="Symbol">)</a> <a id="53052" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="53054" href="Demos.HSP-markdown.html#53028" class="Bound">â„°</a> <a id="53056" class="Symbol">â†’</a> <a id="53058" href="Demos.HSP-markdown.html#46667" class="Function">Equal</a> <a id="53064" href="Demos.HSP-markdown.html#53037" class="Bound">p</a> <a id="53066" href="Demos.HSP-markdown.html#53039" class="Bound">q</a> <a id="53068" class="Keyword">where</a> <a id="53074" class="Keyword">open</a> <a id="53079" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="53091" href="Demos.HSP-markdown.html#53030" class="Bound">ğ‘¨</a>
</pre>

### <a id="the-entailment-relation">The entailment relation</a>

Based on [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).)

<pre class="Agda">

<a id="53330" class="Keyword">module</a> <a id="53337" href="Demos.HSP-markdown.html#53337" class="Module">_</a> <a id="53339" class="Symbol">{</a><a id="53340" href="Demos.HSP-markdown.html#53340" class="Bound">Ï‡</a> <a id="53342" href="Demos.HSP-markdown.html#53342" class="Bound">Î¹</a> <a id="53344" class="Symbol">:</a> <a id="53346" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="53351" class="Symbol">}</a> <a id="53353" class="Keyword">where</a>

 <a id="53361" class="Keyword">data</a> <a id="53366" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">_âŠ¢_â–¹_â‰ˆ_</a> <a id="53374" class="Symbol">{</a><a id="53375" href="Demos.HSP-markdown.html#53375" class="Bound">I</a> <a id="53377" class="Symbol">:</a> <a id="53379" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="53384" href="Demos.HSP-markdown.html#53342" class="Bound">Î¹</a><a id="53385" class="Symbol">}(</a><a id="53387" href="Demos.HSP-markdown.html#53387" class="Bound">â„°</a> <a id="53389" class="Symbol">:</a> <a id="53391" href="Demos.HSP-markdown.html#53375" class="Bound">I</a> <a id="53393" class="Symbol">â†’</a> <a id="53395" href="Demos.HSP-markdown.html#50995" class="Record">Eq</a><a id="53397" class="Symbol">)</a> <a id="53399" class="Symbol">:</a> <a id="53401" class="Symbol">(</a><a id="53402" href="Demos.HSP-markdown.html#53402" class="Bound">X</a> <a id="53404" class="Symbol">:</a> <a id="53406" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="53411" href="Demos.HSP-markdown.html#53340" class="Bound">Ï‡</a><a id="53412" class="Symbol">)(</a><a id="53414" href="Demos.HSP-markdown.html#53414" class="Bound">p</a> <a id="53416" href="Demos.HSP-markdown.html#53416" class="Bound">q</a> <a id="53418" class="Symbol">:</a> <a id="53420" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="53425" href="Demos.HSP-markdown.html#53402" class="Bound">X</a><a id="53426" class="Symbol">)</a> <a id="53428" class="Symbol">â†’</a> <a id="53430" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="53435" class="Symbol">(</a><a id="53436" href="Demos.HSP-markdown.html#53342" class="Bound">Î¹</a> <a id="53438" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="53440" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="53443" href="Demos.HSP-markdown.html#53340" class="Bound">Ï‡</a><a id="53444" class="Symbol">)</a> <a id="53446" class="Keyword">where</a>
  <a id="53454" href="Demos.HSP-markdown.html#53454" class="InductiveConstructor">hyp</a> <a id="53458" class="Symbol">:</a> <a id="53460" class="Symbol">âˆ€</a> <a id="53462" href="Demos.HSP-markdown.html#53462" class="Bound">i</a> <a id="53464" class="Symbol">â†’</a> <a id="53466" class="Keyword">let</a> <a id="53470" href="Demos.HSP-markdown.html#53470" class="Bound">p</a> <a id="53472" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="53475" href="Demos.HSP-markdown.html#53475" class="Bound">q</a> <a id="53477" class="Symbol">=</a> <a id="53479" href="Demos.HSP-markdown.html#53387" class="Bound">â„°</a> <a id="53481" href="Demos.HSP-markdown.html#53462" class="Bound">i</a> <a id="53483" class="Keyword">in</a> <a id="53486" href="Demos.HSP-markdown.html#53387" class="Bound">â„°</a> <a id="53488" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="53490" class="Symbol">_</a> <a id="53492" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹</a> <a id="53494" href="Demos.HSP-markdown.html#53470" class="Bound">p</a> <a id="53496" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â‰ˆ</a> <a id="53498" href="Demos.HSP-markdown.html#53475" class="Bound">q</a>
  <a id="53502" href="Demos.HSP-markdown.html#53502" class="InductiveConstructor">app</a> <a id="53506" class="Symbol">:</a> <a id="53508" class="Symbol">âˆ€</a> <a id="53510" class="Symbol">{</a><a id="53511" href="Demos.HSP-markdown.html#53511" class="Bound">ps</a> <a id="53514" href="Demos.HSP-markdown.html#53514" class="Bound">qs</a><a id="53516" class="Symbol">}</a> <a id="53518" class="Symbol">â†’</a> <a id="53520" class="Symbol">(âˆ€</a> <a id="53523" href="Demos.HSP-markdown.html#53523" class="Bound">i</a> <a id="53525" class="Symbol">â†’</a> <a id="53527" href="Demos.HSP-markdown.html#53387" class="Bound">â„°</a> <a id="53529" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="53531" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53533" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹</a> <a id="53535" href="Demos.HSP-markdown.html#53511" class="Bound">ps</a> <a id="53538" href="Demos.HSP-markdown.html#53523" class="Bound">i</a> <a id="53540" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â‰ˆ</a> <a id="53542" href="Demos.HSP-markdown.html#53514" class="Bound">qs</a> <a id="53545" href="Demos.HSP-markdown.html#53523" class="Bound">i</a><a id="53546" class="Symbol">)</a> <a id="53548" class="Symbol">â†’</a> <a id="53550" href="Demos.HSP-markdown.html#53387" class="Bound">â„°</a> <a id="53552" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="53554" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53556" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹</a> <a id="53558" class="Symbol">(</a><a id="53559" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="53564" href="Demos.HSP-markdown.html#8530" class="Generalizable">ğ‘“</a> <a id="53566" href="Demos.HSP-markdown.html#53511" class="Bound">ps</a><a id="53568" class="Symbol">)</a> <a id="53570" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â‰ˆ</a> <a id="53572" class="Symbol">(</a><a id="53573" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="53578" href="Demos.HSP-markdown.html#8530" class="Generalizable">ğ‘“</a> <a id="53580" href="Demos.HSP-markdown.html#53514" class="Bound">qs</a><a id="53582" class="Symbol">)</a>
  <a id="53586" href="Demos.HSP-markdown.html#53586" class="InductiveConstructor">sub</a> <a id="53590" class="Symbol">:</a> <a id="53592" class="Symbol">âˆ€</a> <a id="53594" class="Symbol">{</a><a id="53595" href="Demos.HSP-markdown.html#53595" class="Bound">p</a> <a id="53597" href="Demos.HSP-markdown.html#53597" class="Bound">q</a><a id="53598" class="Symbol">}</a> <a id="53600" class="Symbol">â†’</a> <a id="53602" href="Demos.HSP-markdown.html#53387" class="Bound">â„°</a> <a id="53604" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="53606" href="Demos.HSP-markdown.html#8518" class="Generalizable">Î”</a> <a id="53608" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹</a> <a id="53610" href="Demos.HSP-markdown.html#53595" class="Bound">p</a> <a id="53612" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â‰ˆ</a> <a id="53614" href="Demos.HSP-markdown.html#53597" class="Bound">q</a> <a id="53616" class="Symbol">â†’</a> <a id="53618" class="Symbol">âˆ€</a> <a id="53620" class="Symbol">(</a><a id="53621" href="Demos.HSP-markdown.html#53621" class="Bound">Ïƒ</a> <a id="53623" class="Symbol">:</a> <a id="53625" href="Demos.HSP-markdown.html#45074" class="Function">Sub</a> <a id="53629" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53631" href="Demos.HSP-markdown.html#8518" class="Generalizable">Î”</a><a id="53632" class="Symbol">)</a> <a id="53634" class="Symbol">â†’</a> <a id="53636" href="Demos.HSP-markdown.html#53387" class="Bound">â„°</a> <a id="53638" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="53640" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53642" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹</a> <a id="53644" class="Symbol">(</a><a id="53645" href="Demos.HSP-markdown.html#53595" class="Bound">p</a> <a id="53647" href="Demos.HSP-markdown.html#45138" class="Function Operator">[</a> <a id="53649" href="Demos.HSP-markdown.html#53621" class="Bound">Ïƒ</a> <a id="53651" href="Demos.HSP-markdown.html#45138" class="Function Operator">]</a><a id="53652" class="Symbol">)</a> <a id="53654" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â‰ˆ</a> <a id="53656" class="Symbol">(</a><a id="53657" href="Demos.HSP-markdown.html#53597" class="Bound">q</a> <a id="53659" href="Demos.HSP-markdown.html#45138" class="Function Operator">[</a> <a id="53661" href="Demos.HSP-markdown.html#53621" class="Bound">Ïƒ</a> <a id="53663" href="Demos.HSP-markdown.html#45138" class="Function Operator">]</a><a id="53664" class="Symbol">)</a>

  <a id="53669" href="Demos.HSP-markdown.html#53669" class="InductiveConstructor">âŠ¢refl</a>   <a id="53677" class="Symbol">:</a> <a id="53679" class="Symbol">âˆ€</a> <a id="53681" class="Symbol">{</a><a id="53682" href="Demos.HSP-markdown.html#53682" class="Bound">p</a><a id="53683" class="Symbol">}</a>               <a id="53699" class="Symbol">â†’</a> <a id="53701" href="Demos.HSP-markdown.html#53387" class="Bound">â„°</a> <a id="53703" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="53705" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53707" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹</a> <a id="53709" href="Demos.HSP-markdown.html#53682" class="Bound">p</a> <a id="53711" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â‰ˆ</a> <a id="53713" href="Demos.HSP-markdown.html#53682" class="Bound">p</a>
  <a id="53717" href="Demos.HSP-markdown.html#53717" class="InductiveConstructor">âŠ¢sym</a>    <a id="53725" class="Symbol">:</a> <a id="53727" class="Symbol">âˆ€</a> <a id="53729" class="Symbol">{</a><a id="53730" href="Demos.HSP-markdown.html#53730" class="Bound">p</a> <a id="53732" href="Demos.HSP-markdown.html#53732" class="Bound">q</a> <a id="53734" class="Symbol">:</a> <a id="53736" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="53741" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a><a id="53742" class="Symbol">}</a>    <a id="53747" class="Symbol">â†’</a> <a id="53749" href="Demos.HSP-markdown.html#53387" class="Bound">â„°</a> <a id="53751" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="53753" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53755" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹</a> <a id="53757" href="Demos.HSP-markdown.html#53730" class="Bound">p</a> <a id="53759" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â‰ˆ</a> <a id="53761" href="Demos.HSP-markdown.html#53732" class="Bound">q</a> <a id="53763" class="Symbol">â†’</a> <a id="53765" href="Demos.HSP-markdown.html#53387" class="Bound">â„°</a> <a id="53767" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="53769" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53771" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹</a> <a id="53773" href="Demos.HSP-markdown.html#53732" class="Bound">q</a> <a id="53775" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â‰ˆ</a> <a id="53777" href="Demos.HSP-markdown.html#53730" class="Bound">p</a>
  <a id="53781" href="Demos.HSP-markdown.html#53781" class="InductiveConstructor">âŠ¢trans</a>  <a id="53789" class="Symbol">:</a> <a id="53791" class="Symbol">âˆ€</a> <a id="53793" class="Symbol">{</a><a id="53794" href="Demos.HSP-markdown.html#53794" class="Bound">p</a> <a id="53796" href="Demos.HSP-markdown.html#53796" class="Bound">q</a> <a id="53798" href="Demos.HSP-markdown.html#53798" class="Bound">r</a> <a id="53800" class="Symbol">:</a> <a id="53802" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="53807" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a><a id="53808" class="Symbol">}</a>  <a id="53811" class="Symbol">â†’</a> <a id="53813" href="Demos.HSP-markdown.html#53387" class="Bound">â„°</a> <a id="53815" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="53817" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53819" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹</a> <a id="53821" href="Demos.HSP-markdown.html#53794" class="Bound">p</a> <a id="53823" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â‰ˆ</a> <a id="53825" href="Demos.HSP-markdown.html#53796" class="Bound">q</a> <a id="53827" class="Symbol">â†’</a> <a id="53829" href="Demos.HSP-markdown.html#53387" class="Bound">â„°</a> <a id="53831" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="53833" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53835" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹</a> <a id="53837" href="Demos.HSP-markdown.html#53796" class="Bound">q</a> <a id="53839" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â‰ˆ</a> <a id="53841" href="Demos.HSP-markdown.html#53798" class="Bound">r</a> <a id="53843" class="Symbol">â†’</a> <a id="53845" href="Demos.HSP-markdown.html#53387" class="Bound">â„°</a> <a id="53847" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="53849" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="53851" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹</a> <a id="53853" href="Demos.HSP-markdown.html#53794" class="Bound">p</a> <a id="53855" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â‰ˆ</a> <a id="53857" href="Demos.HSP-markdown.html#53798" class="Bound">r</a>

 <a id="53861" href="Demos.HSP-markdown.html#53861" class="Function">âŠ¢â–¹â‰ˆIsEquiv</a> <a id="53872" class="Symbol">:</a> <a id="53874" class="Symbol">{</a><a id="53875" href="Demos.HSP-markdown.html#53875" class="Bound">X</a> <a id="53877" class="Symbol">:</a> <a id="53879" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="53884" href="Demos.HSP-markdown.html#53340" class="Bound">Ï‡</a><a id="53885" class="Symbol">}{</a><a id="53887" href="Demos.HSP-markdown.html#53887" class="Bound">I</a> <a id="53889" class="Symbol">:</a> <a id="53891" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="53896" href="Demos.HSP-markdown.html#53342" class="Bound">Î¹</a><a id="53897" class="Symbol">}{</a><a id="53899" href="Demos.HSP-markdown.html#53899" class="Bound">â„°</a> <a id="53901" class="Symbol">:</a> <a id="53903" href="Demos.HSP-markdown.html#53887" class="Bound">I</a> <a id="53905" class="Symbol">â†’</a> <a id="53907" href="Demos.HSP-markdown.html#50995" class="Record">Eq</a><a id="53909" class="Symbol">}</a> <a id="53911" class="Symbol">â†’</a> <a id="53913" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="53927" class="Symbol">(</a><a id="53928" href="Demos.HSP-markdown.html#53899" class="Bound">â„°</a> <a id="53930" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="53932" href="Demos.HSP-markdown.html#53875" class="Bound">X</a> <a id="53934" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹_â‰ˆ_</a><a id="53938" class="Symbol">)</a>
 <a id="53941" href="Demos.HSP-markdown.html#53861" class="Function">âŠ¢â–¹â‰ˆIsEquiv</a> <a id="53952" class="Symbol">=</a> <a id="53954" class="Keyword">record</a> <a id="53961" class="Symbol">{</a> <a id="53963" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="53968" class="Symbol">=</a> <a id="53970" href="Demos.HSP-markdown.html#53669" class="InductiveConstructor">âŠ¢refl</a> <a id="53976" class="Symbol">;</a> <a id="53978" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="53982" class="Symbol">=</a> <a id="53984" href="Demos.HSP-markdown.html#53717" class="InductiveConstructor">âŠ¢sym</a> <a id="53989" class="Symbol">;</a> <a id="53991" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="53997" class="Symbol">=</a> <a id="53999" href="Demos.HSP-markdown.html#53781" class="InductiveConstructor">âŠ¢trans</a> <a id="54006" class="Symbol">}</a>
</pre>

### <a id="soundness">Soundness</a>

In any model ğ‘¨ that satisfies the equations â„°, derived equality is actual equality
(cf. [Andreas Abel's Agda formalization of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).)

<pre class="Agda">

<a id="54296" class="Keyword">module</a> <a id="Soundness"></a><a id="54303" href="Demos.HSP-markdown.html#54303" class="Module">Soundness</a>  <a id="54314" class="Symbol">{</a><a id="54315" href="Demos.HSP-markdown.html#54315" class="Bound">Ï‡</a> <a id="54317" href="Demos.HSP-markdown.html#54317" class="Bound">Î±</a> <a id="54319" href="Demos.HSP-markdown.html#54319" class="Bound">Î¹</a> <a id="54321" class="Symbol">:</a> <a id="54323" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="54328" class="Symbol">}{</a><a id="54330" href="Demos.HSP-markdown.html#54330" class="Bound">I</a> <a id="54332" class="Symbol">:</a> <a id="54334" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="54339" href="Demos.HSP-markdown.html#54319" class="Bound">Î¹</a><a id="54340" class="Symbol">}</a> <a id="54342" class="Symbol">(</a><a id="54343" href="Demos.HSP-markdown.html#54343" class="Bound">â„°</a> <a id="54345" class="Symbol">:</a> <a id="54347" href="Demos.HSP-markdown.html#54330" class="Bound">I</a> <a id="54349" class="Symbol">â†’</a> <a id="54351" href="Demos.HSP-markdown.html#50995" class="Record">Eq</a><a id="54353" class="Symbol">{</a><a id="54354" href="Demos.HSP-markdown.html#54315" class="Bound">Ï‡</a><a id="54355" class="Symbol">})</a>
                  <a id="54376" class="Symbol">(</a><a id="54377" href="Demos.HSP-markdown.html#54377" class="Bound">ğ‘¨</a> <a id="54379" class="Symbol">:</a> <a id="54381" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="54389" href="Demos.HSP-markdown.html#54317" class="Bound">Î±</a> <a id="54391" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="54393" class="Symbol">)</a>     <a id="54399" class="Comment">-- We assume an algebra ğ‘¨</a>
                  <a id="54443" class="Symbol">(</a><a id="54444" href="Demos.HSP-markdown.html#54444" class="Bound">V</a> <a id="54446" class="Symbol">:</a> <a id="54448" href="Demos.HSP-markdown.html#54377" class="Bound">ğ‘¨</a> <a id="54450" href="Demos.HSP-markdown.html#52492" class="Function Operator">âŠ¨</a> <a id="54452" href="Demos.HSP-markdown.html#54343" class="Bound">â„°</a><a id="54453" class="Symbol">)</a>            <a id="54466" class="Comment">-- that models all equations in â„°.</a>
                  <a id="54519" class="Keyword">where</a>

 <a id="54527" class="Keyword">open</a> <a id="54532" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="54548" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="54551" href="Demos.HSP-markdown.html#54377" class="Bound">ğ‘¨</a> <a id="54553" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>
 <a id="54556" class="Keyword">open</a> <a id="54561" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="54573" href="Demos.HSP-markdown.html#54377" class="Bound">ğ‘¨</a>
 <a id="54576" class="Keyword">open</a> <a id="54581" href="Relation.Binary.Structures.html#1522" class="Module">IsEquivalence</a> <a id="54595" class="Keyword">using</a> <a id="54601" class="Symbol">(</a> <a id="54603" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="54608" class="Symbol">;</a> <a id="54610" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="54614" class="Symbol">;</a> <a id="54616" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="54622" class="Symbol">)</a>

 <a id="Soundness.sound"></a><a id="54626" href="Demos.HSP-markdown.html#54626" class="Function">sound</a> <a id="54632" class="Symbol">:</a> <a id="54634" class="Symbol">âˆ€</a> <a id="54636" class="Symbol">{</a><a id="54637" href="Demos.HSP-markdown.html#54637" class="Bound">p</a> <a id="54639" href="Demos.HSP-markdown.html#54639" class="Bound">q</a><a id="54640" class="Symbol">}</a> <a id="54642" class="Symbol">â†’</a> <a id="54644" href="Demos.HSP-markdown.html#54343" class="Bound">â„°</a> <a id="54646" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="54648" href="Demos.HSP-markdown.html#8516" class="Generalizable">Î“</a> <a id="54650" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹</a> <a id="54652" href="Demos.HSP-markdown.html#54637" class="Bound">p</a> <a id="54654" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â‰ˆ</a> <a id="54656" href="Demos.HSP-markdown.html#54639" class="Bound">q</a> <a id="54658" class="Symbol">â†’</a> <a id="54660" href="Demos.HSP-markdown.html#54377" class="Bound">ğ‘¨</a> <a id="54662" href="Demos.HSP-markdown.html#52152" class="Function Operator">âŠ§</a> <a id="54664" class="Symbol">(</a><a id="54665" href="Demos.HSP-markdown.html#54637" class="Bound">p</a> <a id="54667" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="54670" href="Demos.HSP-markdown.html#54639" class="Bound">q</a><a id="54671" class="Symbol">)</a>
 <a id="54674" href="Demos.HSP-markdown.html#54626" class="Function">sound</a> <a id="54680" class="Symbol">(</a><a id="54681" href="Demos.HSP-markdown.html#53454" class="InductiveConstructor">hyp</a> <a id="54685" href="Demos.HSP-markdown.html#54685" class="Bound">i</a><a id="54686" class="Symbol">)</a> <a id="54688" class="Symbol">=</a> <a id="54690" href="Demos.HSP-markdown.html#54444" class="Bound">V</a> <a id="54692" href="Demos.HSP-markdown.html#54685" class="Bound">i</a>
 <a id="54695" href="Demos.HSP-markdown.html#54626" class="Function">sound</a> <a id="54701" class="Symbol">(</a><a id="54702" href="Demos.HSP-markdown.html#53502" class="InductiveConstructor">app</a> <a id="54706" href="Demos.HSP-markdown.html#54706" class="Bound">es</a><a id="54708" class="Symbol">)</a> <a id="54710" href="Demos.HSP-markdown.html#54710" class="Bound">Ï</a> <a id="54712" class="Symbol">=</a> <a id="54714" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="54719" class="Symbol">(</a><a id="54720" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="54727" href="Demos.HSP-markdown.html#54377" class="Bound">ğ‘¨</a><a id="54728" class="Symbol">)</a> <a id="54730" class="Symbol">(</a><a id="54731" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="54738" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="54740" class="Symbol">Î»</a> <a id="54742" href="Demos.HSP-markdown.html#54742" class="Bound">i</a> <a id="54744" class="Symbol">â†’</a> <a id="54746" href="Demos.HSP-markdown.html#54626" class="Function">sound</a> <a id="54752" class="Symbol">(</a><a id="54753" href="Demos.HSP-markdown.html#54706" class="Bound">es</a> <a id="54756" href="Demos.HSP-markdown.html#54742" class="Bound">i</a><a id="54757" class="Symbol">)</a> <a id="54759" href="Demos.HSP-markdown.html#54710" class="Bound">Ï</a><a id="54760" class="Symbol">)</a>
 <a id="54763" href="Demos.HSP-markdown.html#54626" class="Function">sound</a> <a id="54769" class="Symbol">(</a><a id="54770" href="Demos.HSP-markdown.html#53586" class="InductiveConstructor">sub</a> <a id="54774" class="Symbol">{</a><a id="54775" class="Argument">p</a> <a id="54777" class="Symbol">=</a> <a id="54779" href="Demos.HSP-markdown.html#54779" class="Bound">p</a><a id="54780" class="Symbol">}{</a><a id="54782" href="Demos.HSP-markdown.html#54782" class="Bound">q</a><a id="54783" class="Symbol">}</a> <a id="54785" href="Demos.HSP-markdown.html#54785" class="Bound">Epq</a> <a id="54789" href="Demos.HSP-markdown.html#54789" class="Bound">Ïƒ</a><a id="54790" class="Symbol">)</a> <a id="54792" href="Demos.HSP-markdown.html#54792" class="Bound">Ï</a> <a id="54794" class="Symbol">=</a>
  <a id="54798" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
   <a id="54807" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="54809" href="Demos.HSP-markdown.html#54779" class="Bound">p</a> <a id="54811" href="Demos.HSP-markdown.html#45138" class="Function Operator">[</a> <a id="54813" href="Demos.HSP-markdown.html#54789" class="Bound">Ïƒ</a> <a id="54815" href="Demos.HSP-markdown.html#45138" class="Function Operator">]</a> <a id="54817" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="54819" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a>         <a id="54831" href="Demos.HSP-markdown.html#54792" class="Bound">Ï</a> <a id="54833" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>   <a id="54838" href="Demos.HSP-markdown.html#47951" class="Function">substitution</a> <a id="54851" href="Demos.HSP-markdown.html#54779" class="Bound">p</a> <a id="54853" href="Demos.HSP-markdown.html#54789" class="Bound">Ïƒ</a> <a id="54855" href="Demos.HSP-markdown.html#54792" class="Bound">Ï</a>    <a id="54860" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
   <a id="54865" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="54867" href="Demos.HSP-markdown.html#54779" class="Bound">p</a>       <a id="54875" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="54877" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="54881" href="Demos.HSP-markdown.html#47655" class="Function Operator">âŸ¦</a> <a id="54883" href="Demos.HSP-markdown.html#54789" class="Bound">Ïƒ</a> <a id="54885" href="Demos.HSP-markdown.html#47655" class="Function Operator">âŸ§s</a>  <a id="54889" href="Demos.HSP-markdown.html#54792" class="Bound">Ï</a> <a id="54891" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>   <a id="54896" href="Demos.HSP-markdown.html#54626" class="Function">sound</a> <a id="54902" href="Demos.HSP-markdown.html#54785" class="Bound">Epq</a> <a id="54906" class="Symbol">(</a><a id="54907" href="Demos.HSP-markdown.html#47655" class="Function Operator">âŸ¦</a> <a id="54909" href="Demos.HSP-markdown.html#54789" class="Bound">Ïƒ</a> <a id="54911" href="Demos.HSP-markdown.html#47655" class="Function Operator">âŸ§s</a> <a id="54914" href="Demos.HSP-markdown.html#54792" class="Bound">Ï</a><a id="54915" class="Symbol">)</a>  <a id="54918" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
   <a id="54923" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="54925" href="Demos.HSP-markdown.html#54782" class="Bound">q</a>       <a id="54933" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="54935" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="54939" href="Demos.HSP-markdown.html#47655" class="Function Operator">âŸ¦</a> <a id="54941" href="Demos.HSP-markdown.html#54789" class="Bound">Ïƒ</a> <a id="54943" href="Demos.HSP-markdown.html#47655" class="Function Operator">âŸ§s</a>  <a id="54947" href="Demos.HSP-markdown.html#54792" class="Bound">Ï</a> <a id="54949" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a>  <a id="54954" href="Demos.HSP-markdown.html#47951" class="Function">substitution</a>  <a id="54968" href="Demos.HSP-markdown.html#54782" class="Bound">q</a> <a id="54970" href="Demos.HSP-markdown.html#54789" class="Bound">Ïƒ</a> <a id="54972" href="Demos.HSP-markdown.html#54792" class="Bound">Ï</a>   <a id="54976" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
   <a id="54981" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="54983" href="Demos.HSP-markdown.html#54782" class="Bound">q</a> <a id="54985" href="Demos.HSP-markdown.html#45138" class="Function Operator">[</a> <a id="54987" href="Demos.HSP-markdown.html#54789" class="Bound">Ïƒ</a> <a id="54989" href="Demos.HSP-markdown.html#45138" class="Function Operator">]</a> <a id="54991" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="54993" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a>         <a id="55005" href="Demos.HSP-markdown.html#54792" class="Bound">Ï</a> <a id="55007" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">âˆ</a>
 <a id="55010" href="Demos.HSP-markdown.html#54626" class="Function">sound</a> <a id="55016" class="Symbol">(</a> <a id="55018" href="Demos.HSP-markdown.html#53669" class="InductiveConstructor">âŠ¢refl</a>   <a id="55026" class="Symbol">{</a><a id="55027" class="Argument">p</a> <a id="55029" class="Symbol">=</a> <a id="55031" href="Demos.HSP-markdown.html#55031" class="Bound">p</a><a id="55032" class="Symbol">}</a>                 <a id="55050" class="Symbol">)</a> <a id="55052" class="Symbol">=</a> <a id="55054" href="Relation.Binary.Structures.html#1568" class="Field">refl</a>   <a id="55061" href="Demos.HSP-markdown.html#47210" class="Function">EqualIsEquiv</a> <a id="55074" class="Symbol">{</a><a id="55075" class="Argument">x</a> <a id="55077" class="Symbol">=</a> <a id="55079" href="Demos.HSP-markdown.html#55031" class="Bound">p</a><a id="55080" class="Symbol">}</a>
 <a id="55083" href="Demos.HSP-markdown.html#54626" class="Function">sound</a> <a id="55089" class="Symbol">(</a> <a id="55091" href="Demos.HSP-markdown.html#53717" class="InductiveConstructor">âŠ¢sym</a>    <a id="55099" class="Symbol">{</a><a id="55100" class="Argument">p</a> <a id="55102" class="Symbol">=</a> <a id="55104" href="Demos.HSP-markdown.html#55104" class="Bound">p</a><a id="55105" class="Symbol">}{</a><a id="55107" href="Demos.HSP-markdown.html#55107" class="Bound">q</a><a id="55108" class="Symbol">}</a>     <a id="55114" href="Demos.HSP-markdown.html#55114" class="Bound">Epq</a>      <a id="55123" class="Symbol">)</a> <a id="55125" class="Symbol">=</a> <a id="55127" href="Relation.Binary.Structures.html#1594" class="Field">sym</a>    <a id="55134" href="Demos.HSP-markdown.html#47210" class="Function">EqualIsEquiv</a> <a id="55147" class="Symbol">{</a><a id="55148" class="Argument">x</a> <a id="55150" class="Symbol">=</a> <a id="55152" href="Demos.HSP-markdown.html#55104" class="Bound">p</a><a id="55153" class="Symbol">}{</a><a id="55155" href="Demos.HSP-markdown.html#55107" class="Bound">q</a><a id="55156" class="Symbol">}</a>     <a id="55162" class="Symbol">(</a><a id="55163" href="Demos.HSP-markdown.html#54626" class="Function">sound</a> <a id="55169" href="Demos.HSP-markdown.html#55114" class="Bound">Epq</a><a id="55172" class="Symbol">)</a>
 <a id="55175" href="Demos.HSP-markdown.html#54626" class="Function">sound</a> <a id="55181" class="Symbol">(</a> <a id="55183" href="Demos.HSP-markdown.html#53781" class="InductiveConstructor">âŠ¢trans</a>  <a id="55191" class="Symbol">{</a><a id="55192" class="Argument">p</a> <a id="55194" class="Symbol">=</a> <a id="55196" href="Demos.HSP-markdown.html#55196" class="Bound">p</a><a id="55197" class="Symbol">}{</a><a id="55199" href="Demos.HSP-markdown.html#55199" class="Bound">q</a><a id="55200" class="Symbol">}{</a><a id="55202" href="Demos.HSP-markdown.html#55202" class="Bound">r</a><a id="55203" class="Symbol">}</a>  <a id="55206" href="Demos.HSP-markdown.html#55206" class="Bound">Epq</a> <a id="55210" href="Demos.HSP-markdown.html#55210" class="Bound">Eqr</a>  <a id="55215" class="Symbol">)</a> <a id="55217" class="Symbol">=</a> <a id="55219" href="Relation.Binary.Structures.html#1620" class="Field">trans</a>  <a id="55226" href="Demos.HSP-markdown.html#47210" class="Function">EqualIsEquiv</a> <a id="55239" class="Symbol">{</a><a id="55240" class="Argument">i</a> <a id="55242" class="Symbol">=</a> <a id="55244" href="Demos.HSP-markdown.html#55196" class="Bound">p</a><a id="55245" class="Symbol">}{</a><a id="55247" href="Demos.HSP-markdown.html#55199" class="Bound">q</a><a id="55248" class="Symbol">}{</a><a id="55250" href="Demos.HSP-markdown.html#55202" class="Bound">r</a><a id="55251" class="Symbol">}</a>  <a id="55254" class="Symbol">(</a><a id="55255" href="Demos.HSP-markdown.html#54626" class="Function">sound</a> <a id="55261" href="Demos.HSP-markdown.html#55206" class="Bound">Epq</a><a id="55264" class="Symbol">)(</a><a id="55266" href="Demos.HSP-markdown.html#54626" class="Function">sound</a> <a id="55272" href="Demos.HSP-markdown.html#55210" class="Bound">Eqr</a><a id="55275" class="Symbol">)</a>
</pre>


### <a id="the-closure-operators-h-s-p-and-v">The Closure Operators H, S, P and V</a>

Fix a signature `ğ‘†`, let `ğ’¦` be a class of `ğ‘†`-algebras, and define

* `H ğ’¦` = algebras isomorphic to a homomorphic image of a member of `ğ’¦`;
* `S ğ’¦` = algebras isomorphic to a subalgebra of a member of `ğ’¦`;
* `P ğ’¦` = algebras isomorphic to a product of members of `ğ’¦`.

A straight-forward verification confirms that `H`, `S`, and `P` are *closure operators* (expansive, monotone, and idempotent).  A class `ğ’¦` of `ğ‘†`-algebras is said to be *closed under the taking of homomorphic images* provided `H ğ’¦ âŠ† ğ’¦`. Similarly, `ğ’¦` is *closed under the taking of subalgebras* (resp., *arbitrary products*) provided `S ğ’¦ âŠ† ğ’¦` (resp., `P ğ’¦ âŠ† ğ’¦`). The operators `H`, `S`, and `P` can be composed with one another repeatedly, forming yet more closure operators.

An algebra is a homomorphic image (resp., subalgebra; resp., product) of every algebra to which it is isomorphic. Thus, the class `H ğ’¦` (resp., `S ğ’¦`; resp., `P ğ’¦`) is closed under isomorphism.

A *variety* is a class of `ğ‘†`-algebras that is closed under the taking of homomorphic images, subalgebras, and arbitrary products.  To represent varieties we define types for the closure operators `H`, `S`, and `P` that are composable.  Separately, we define a type `V` which represents closure under all three operators, `H`, `S`, and `P`.



We now define the type `H` to represent classes of algebras that include all homomorphic images of algebras in the class---i.e., classes that are closed under the taking of homomorphic images---the type `S` to represent classes of algebras that closed under the taking of subalgebras, and the type `P` to represent classes of algebras closed under the taking of arbitrary products.

<pre class="Agda">

<a id="57064" class="Keyword">module</a> <a id="57071" href="Demos.HSP-markdown.html#57071" class="Module">_</a>  <a id="57074" class="Symbol">{</a><a id="57075" href="Demos.HSP-markdown.html#57075" class="Bound">Î±</a> <a id="57077" href="Demos.HSP-markdown.html#57077" class="Bound">Ïáµƒ</a> <a id="57080" href="Demos.HSP-markdown.html#57080" class="Bound">Î²</a> <a id="57082" href="Demos.HSP-markdown.html#57082" class="Bound">Ïáµ‡</a> <a id="57085" class="Symbol">:</a> <a id="57087" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="57092" class="Symbol">}</a> <a id="57094" class="Keyword">where</a>
 <a id="57101" class="Keyword">private</a> <a id="57109" href="Demos.HSP-markdown.html#57109" class="Function">a</a> <a id="57111" class="Symbol">=</a> <a id="57113" href="Demos.HSP-markdown.html#57075" class="Bound">Î±</a> <a id="57115" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57117" href="Demos.HSP-markdown.html#57077" class="Bound">Ïáµƒ</a> <a id="57120" class="Symbol">;</a> <a id="57122" href="Demos.HSP-markdown.html#57122" class="Function">b</a> <a id="57124" class="Symbol">=</a> <a id="57126" href="Demos.HSP-markdown.html#57080" class="Bound">Î²</a> <a id="57128" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57130" href="Demos.HSP-markdown.html#57082" class="Bound">Ïáµ‡</a>

 <a id="57135" href="Demos.HSP-markdown.html#57135" class="Function">H</a> <a id="57137" class="Symbol">:</a> <a id="57139" class="Symbol">âˆ€</a> <a id="57141" href="Demos.HSP-markdown.html#57141" class="Bound">â„“</a> <a id="57143" class="Symbol">â†’</a> <a id="57145" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="57149" class="Symbol">(</a><a id="57150" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="57158" href="Demos.HSP-markdown.html#57075" class="Bound">Î±</a> <a id="57160" href="Demos.HSP-markdown.html#57077" class="Bound">Ïáµƒ</a><a id="57162" class="Symbol">)</a> <a id="57164" class="Symbol">(</a><a id="57165" href="Demos.HSP-markdown.html#57109" class="Function">a</a> <a id="57167" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57169" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="57172" href="Demos.HSP-markdown.html#57141" class="Bound">â„“</a><a id="57173" class="Symbol">)</a> <a id="57175" class="Symbol">â†’</a> <a id="57177" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="57181" class="Symbol">(</a><a id="57182" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="57190" href="Demos.HSP-markdown.html#57080" class="Bound">Î²</a> <a id="57192" href="Demos.HSP-markdown.html#57082" class="Bound">Ïáµ‡</a><a id="57194" class="Symbol">)</a> <a id="57196" class="Symbol">(</a><a id="57197" href="Demos.HSP-markdown.html#57122" class="Function">b</a> <a id="57199" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57201" href="Demos.HSP-markdown.html#37603" class="Function">ov</a><a id="57203" class="Symbol">(</a><a id="57204" href="Demos.HSP-markdown.html#57109" class="Function">a</a> <a id="57206" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57208" href="Demos.HSP-markdown.html#57141" class="Bound">â„“</a><a id="57209" class="Symbol">))</a>
 <a id="57213" href="Demos.HSP-markdown.html#57135" class="Function">H</a> <a id="57215" class="Symbol">_</a> <a id="57217" href="Demos.HSP-markdown.html#57217" class="Bound">ğ’¦</a> <a id="57219" href="Demos.HSP-markdown.html#57219" class="Bound">ğ‘©</a> <a id="57221" class="Symbol">=</a> <a id="57223" href="Data.Product.html#916" class="Function">Î£[</a> <a id="57226" href="Demos.HSP-markdown.html#57226" class="Bound">ğ‘¨</a> <a id="57228" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="57230" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="57238" href="Demos.HSP-markdown.html#57075" class="Bound">Î±</a> <a id="57240" href="Demos.HSP-markdown.html#57077" class="Bound">Ïáµƒ</a> <a id="57243" href="Data.Product.html#916" class="Function">]</a> <a id="57245" href="Demos.HSP-markdown.html#57226" class="Bound">ğ‘¨</a> <a id="57247" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="57249" href="Demos.HSP-markdown.html#57217" class="Bound">ğ’¦</a> <a id="57251" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="57253" href="Demos.HSP-markdown.html#57219" class="Bound">ğ‘©</a> <a id="57255" href="Demos.HSP-markdown.html#37645" class="Function Operator">IsHomImageOf</a> <a id="57268" href="Demos.HSP-markdown.html#57226" class="Bound">ğ‘¨</a>

 <a id="57272" href="Demos.HSP-markdown.html#57272" class="Function">S</a> <a id="57274" class="Symbol">:</a> <a id="57276" class="Symbol">âˆ€</a> <a id="57278" href="Demos.HSP-markdown.html#57278" class="Bound">â„“</a> <a id="57280" class="Symbol">â†’</a> <a id="57282" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="57286" class="Symbol">(</a><a id="57287" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="57295" href="Demos.HSP-markdown.html#57075" class="Bound">Î±</a> <a id="57297" href="Demos.HSP-markdown.html#57077" class="Bound">Ïáµƒ</a><a id="57299" class="Symbol">)</a> <a id="57301" class="Symbol">(</a><a id="57302" href="Demos.HSP-markdown.html#57109" class="Function">a</a> <a id="57304" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57306" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="57309" href="Demos.HSP-markdown.html#57278" class="Bound">â„“</a><a id="57310" class="Symbol">)</a> <a id="57312" class="Symbol">â†’</a> <a id="57314" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="57318" class="Symbol">(</a><a id="57319" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="57327" href="Demos.HSP-markdown.html#57080" class="Bound">Î²</a> <a id="57329" href="Demos.HSP-markdown.html#57082" class="Bound">Ïáµ‡</a><a id="57331" class="Symbol">)</a> <a id="57333" class="Symbol">(</a><a id="57334" href="Demos.HSP-markdown.html#57122" class="Function">b</a> <a id="57336" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57338" href="Demos.HSP-markdown.html#37603" class="Function">ov</a><a id="57340" class="Symbol">(</a><a id="57341" href="Demos.HSP-markdown.html#57109" class="Function">a</a> <a id="57343" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57345" href="Demos.HSP-markdown.html#57278" class="Bound">â„“</a><a id="57346" class="Symbol">))</a>
 <a id="57350" href="Demos.HSP-markdown.html#57272" class="Function">S</a> <a id="57352" class="Symbol">_</a> <a id="57354" href="Demos.HSP-markdown.html#57354" class="Bound">ğ’¦</a> <a id="57356" href="Demos.HSP-markdown.html#57356" class="Bound">ğ‘©</a> <a id="57358" class="Symbol">=</a> <a id="57360" href="Data.Product.html#916" class="Function">Î£[</a> <a id="57363" href="Demos.HSP-markdown.html#57363" class="Bound">ğ‘¨</a> <a id="57365" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="57367" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="57375" href="Demos.HSP-markdown.html#57075" class="Bound">Î±</a> <a id="57377" href="Demos.HSP-markdown.html#57077" class="Bound">Ïáµƒ</a> <a id="57380" href="Data.Product.html#916" class="Function">]</a> <a id="57382" href="Demos.HSP-markdown.html#57363" class="Bound">ğ‘¨</a> <a id="57384" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="57386" href="Demos.HSP-markdown.html#57354" class="Bound">ğ’¦</a> <a id="57388" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="57390" href="Demos.HSP-markdown.html#57356" class="Bound">ğ‘©</a> <a id="57392" href="Demos.HSP-markdown.html#38974" class="Function Operator">â‰¤</a> <a id="57394" href="Demos.HSP-markdown.html#57363" class="Bound">ğ‘¨</a>

 <a id="57398" href="Demos.HSP-markdown.html#57398" class="Function">P</a> <a id="57400" class="Symbol">:</a> <a id="57402" class="Symbol">âˆ€</a> <a id="57404" href="Demos.HSP-markdown.html#57404" class="Bound">â„“</a> <a id="57406" href="Demos.HSP-markdown.html#57406" class="Bound">Î¹</a> <a id="57408" class="Symbol">â†’</a> <a id="57410" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="57414" class="Symbol">(</a><a id="57415" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="57423" href="Demos.HSP-markdown.html#57075" class="Bound">Î±</a> <a id="57425" href="Demos.HSP-markdown.html#57077" class="Bound">Ïáµƒ</a><a id="57427" class="Symbol">)</a> <a id="57429" class="Symbol">(</a><a id="57430" href="Demos.HSP-markdown.html#57109" class="Function">a</a> <a id="57432" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57434" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="57437" href="Demos.HSP-markdown.html#57404" class="Bound">â„“</a><a id="57438" class="Symbol">)</a> <a id="57440" class="Symbol">â†’</a> <a id="57442" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="57446" class="Symbol">(</a><a id="57447" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="57455" href="Demos.HSP-markdown.html#57080" class="Bound">Î²</a> <a id="57457" href="Demos.HSP-markdown.html#57082" class="Bound">Ïáµ‡</a><a id="57459" class="Symbol">)</a> <a id="57461" class="Symbol">(</a><a id="57462" href="Demos.HSP-markdown.html#57122" class="Function">b</a> <a id="57464" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57466" href="Demos.HSP-markdown.html#37603" class="Function">ov</a><a id="57468" class="Symbol">(</a><a id="57469" href="Demos.HSP-markdown.html#57109" class="Function">a</a> <a id="57471" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57473" href="Demos.HSP-markdown.html#57404" class="Bound">â„“</a> <a id="57475" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57477" href="Demos.HSP-markdown.html#57406" class="Bound">Î¹</a><a id="57478" class="Symbol">))</a>
 <a id="57482" href="Demos.HSP-markdown.html#57398" class="Function">P</a> <a id="57484" class="Symbol">_</a> <a id="57486" href="Demos.HSP-markdown.html#57486" class="Bound">Î¹</a> <a id="57488" href="Demos.HSP-markdown.html#57488" class="Bound">ğ’¦</a> <a id="57490" href="Demos.HSP-markdown.html#57490" class="Bound">ğ‘©</a> <a id="57492" class="Symbol">=</a> <a id="57494" href="Data.Product.html#916" class="Function">Î£[</a> <a id="57497" href="Demos.HSP-markdown.html#57497" class="Bound">I</a> <a id="57499" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="57501" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="57506" href="Demos.HSP-markdown.html#57486" class="Bound">Î¹</a> <a id="57508" href="Data.Product.html#916" class="Function">]</a> <a id="57510" class="Symbol">(</a><a id="57511" href="Data.Product.html#916" class="Function">Î£[</a> <a id="57514" href="Demos.HSP-markdown.html#57514" class="Bound">ğ’œ</a> <a id="57516" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="57518" class="Symbol">(</a><a id="57519" href="Demos.HSP-markdown.html#57497" class="Bound">I</a> <a id="57521" class="Symbol">â†’</a> <a id="57523" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="57531" href="Demos.HSP-markdown.html#57075" class="Bound">Î±</a> <a id="57533" href="Demos.HSP-markdown.html#57077" class="Bound">Ïáµƒ</a><a id="57535" class="Symbol">)</a> <a id="57537" href="Data.Product.html#916" class="Function">]</a> <a id="57539" class="Symbol">(âˆ€</a> <a id="57542" href="Demos.HSP-markdown.html#57542" class="Bound">i</a> <a id="57544" class="Symbol">â†’</a> <a id="57546" href="Demos.HSP-markdown.html#57514" class="Bound">ğ’œ</a> <a id="57548" href="Demos.HSP-markdown.html#57542" class="Bound">i</a> <a id="57550" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="57552" href="Demos.HSP-markdown.html#57488" class="Bound">ğ’¦</a><a id="57553" class="Symbol">)</a> <a id="57555" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="57557" class="Symbol">(</a><a id="57558" href="Demos.HSP-markdown.html#57490" class="Bound">ğ‘©</a> <a id="57560" href="Demos.HSP-markdown.html#34751" class="Record Operator">â‰…</a> <a id="57562" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="57564" href="Demos.HSP-markdown.html#57514" class="Bound">ğ’œ</a><a id="57565" class="Symbol">))</a>

</pre>

A class `ğ’¦` of `ğ‘†`-algebras is called a *variety* if it is closed under each of the closure operators `H`, `S`, and `P` defined above. The corresponding closure operator is often denoted `ğ•` or `ğ’±`, but we will denote it by `V`.

<pre class="Agda">

<a id="57825" class="Keyword">module</a> <a id="57832" href="Demos.HSP-markdown.html#57832" class="Module">_</a>  <a id="57835" class="Symbol">{</a><a id="57836" href="Demos.HSP-markdown.html#57836" class="Bound">Î±</a> <a id="57838" href="Demos.HSP-markdown.html#57838" class="Bound">Ïáµƒ</a> <a id="57841" href="Demos.HSP-markdown.html#57841" class="Bound">Î²</a> <a id="57843" href="Demos.HSP-markdown.html#57843" class="Bound">Ïáµ‡</a> <a id="57846" href="Demos.HSP-markdown.html#57846" class="Bound">Î³</a> <a id="57848" href="Demos.HSP-markdown.html#57848" class="Bound">Ïá¶œ</a> <a id="57851" href="Demos.HSP-markdown.html#57851" class="Bound">Î´</a> <a id="57853" href="Demos.HSP-markdown.html#57853" class="Bound">Ïáµˆ</a> <a id="57856" class="Symbol">:</a> <a id="57858" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="57863" class="Symbol">}</a> <a id="57865" class="Keyword">where</a>
 <a id="57872" class="Keyword">private</a> <a id="57880" href="Demos.HSP-markdown.html#57880" class="Function">a</a> <a id="57882" class="Symbol">=</a> <a id="57884" href="Demos.HSP-markdown.html#57836" class="Bound">Î±</a> <a id="57886" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57888" href="Demos.HSP-markdown.html#57838" class="Bound">Ïáµƒ</a> <a id="57891" class="Symbol">;</a> <a id="57893" href="Demos.HSP-markdown.html#57893" class="Function">b</a> <a id="57895" class="Symbol">=</a> <a id="57897" href="Demos.HSP-markdown.html#57841" class="Bound">Î²</a> <a id="57899" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57901" href="Demos.HSP-markdown.html#57843" class="Bound">Ïáµ‡</a> <a id="57904" class="Symbol">;</a> <a id="57906" href="Demos.HSP-markdown.html#57906" class="Function">c</a> <a id="57908" class="Symbol">=</a> <a id="57910" href="Demos.HSP-markdown.html#57846" class="Bound">Î³</a> <a id="57912" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57914" href="Demos.HSP-markdown.html#57848" class="Bound">Ïá¶œ</a> <a id="57917" class="Symbol">;</a> <a id="57919" href="Demos.HSP-markdown.html#57919" class="Function">d</a> <a id="57921" class="Symbol">=</a> <a id="57923" href="Demos.HSP-markdown.html#57851" class="Bound">Î´</a> <a id="57925" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57927" href="Demos.HSP-markdown.html#57853" class="Bound">Ïáµˆ</a>

 <a id="57932" href="Demos.HSP-markdown.html#57932" class="Function">V</a> <a id="57934" class="Symbol">:</a> <a id="57936" class="Symbol">âˆ€</a> <a id="57938" href="Demos.HSP-markdown.html#57938" class="Bound">â„“</a> <a id="57940" href="Demos.HSP-markdown.html#57940" class="Bound">Î¹</a> <a id="57942" class="Symbol">â†’</a> <a id="57944" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="57948" class="Symbol">(</a><a id="57949" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="57957" href="Demos.HSP-markdown.html#57836" class="Bound">Î±</a> <a id="57959" href="Demos.HSP-markdown.html#57838" class="Bound">Ïáµƒ</a><a id="57961" class="Symbol">)</a> <a id="57963" class="Symbol">(</a><a id="57964" href="Demos.HSP-markdown.html#57880" class="Function">a</a> <a id="57966" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="57968" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="57971" href="Demos.HSP-markdown.html#57938" class="Bound">â„“</a><a id="57972" class="Symbol">)</a> <a id="57974" class="Symbol">â†’</a>  <a id="57977" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="57981" class="Symbol">(</a><a id="57982" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="57990" href="Demos.HSP-markdown.html#57851" class="Bound">Î´</a> <a id="57992" href="Demos.HSP-markdown.html#57853" class="Bound">Ïáµˆ</a><a id="57994" class="Symbol">)</a> <a id="57996" class="Symbol">(</a><a id="57997" href="Demos.HSP-markdown.html#57919" class="Function">d</a> <a id="57999" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58001" href="Demos.HSP-markdown.html#37603" class="Function">ov</a><a id="58003" class="Symbol">(</a><a id="58004" href="Demos.HSP-markdown.html#57880" class="Function">a</a> <a id="58006" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58008" href="Demos.HSP-markdown.html#57893" class="Function">b</a> <a id="58010" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58012" href="Demos.HSP-markdown.html#57906" class="Function">c</a> <a id="58014" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58016" href="Demos.HSP-markdown.html#57938" class="Bound">â„“</a> <a id="58018" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58020" href="Demos.HSP-markdown.html#57940" class="Bound">Î¹</a><a id="58021" class="Symbol">))</a>
 <a id="58025" href="Demos.HSP-markdown.html#57932" class="Function">V</a> <a id="58027" href="Demos.HSP-markdown.html#58027" class="Bound">â„“</a> <a id="58029" href="Demos.HSP-markdown.html#58029" class="Bound">Î¹</a> <a id="58031" href="Demos.HSP-markdown.html#58031" class="Bound">ğ’¦</a> <a id="58033" class="Symbol">=</a> <a id="58035" href="Demos.HSP-markdown.html#57135" class="Function">H</a><a id="58036" class="Symbol">{</a><a id="58037" href="Demos.HSP-markdown.html#57846" class="Bound">Î³</a><a id="58038" class="Symbol">}{</a><a id="58040" href="Demos.HSP-markdown.html#57848" class="Bound">Ïá¶œ</a><a id="58042" class="Symbol">}{</a><a id="58044" href="Demos.HSP-markdown.html#57851" class="Bound">Î´</a><a id="58045" class="Symbol">}{</a><a id="58047" href="Demos.HSP-markdown.html#57853" class="Bound">Ïáµˆ</a><a id="58049" class="Symbol">}</a> <a id="58051" class="Symbol">(</a><a id="58052" href="Demos.HSP-markdown.html#57880" class="Function">a</a> <a id="58054" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58056" href="Demos.HSP-markdown.html#57893" class="Function">b</a> <a id="58058" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58060" href="Demos.HSP-markdown.html#58027" class="Bound">â„“</a> <a id="58062" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58064" href="Demos.HSP-markdown.html#58029" class="Bound">Î¹</a><a id="58065" class="Symbol">)</a> <a id="58067" class="Symbol">(</a><a id="58068" href="Demos.HSP-markdown.html#57272" class="Function">S</a><a id="58069" class="Symbol">{</a><a id="58070" href="Demos.HSP-markdown.html#57841" class="Bound">Î²</a><a id="58071" class="Symbol">}{</a><a id="58073" href="Demos.HSP-markdown.html#57843" class="Bound">Ïáµ‡</a><a id="58075" class="Symbol">}</a> <a id="58077" class="Symbol">(</a><a id="58078" href="Demos.HSP-markdown.html#57880" class="Function">a</a> <a id="58080" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58082" href="Demos.HSP-markdown.html#58027" class="Bound">â„“</a> <a id="58084" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58086" href="Demos.HSP-markdown.html#58029" class="Bound">Î¹</a><a id="58087" class="Symbol">)</a> <a id="58089" class="Symbol">(</a><a id="58090" href="Demos.HSP-markdown.html#57398" class="Function">P</a> <a id="58092" href="Demos.HSP-markdown.html#58027" class="Bound">â„“</a> <a id="58094" href="Demos.HSP-markdown.html#58029" class="Bound">Î¹</a> <a id="58096" href="Demos.HSP-markdown.html#58031" class="Bound">ğ’¦</a><a id="58097" class="Symbol">))</a>

<a id="58101" class="Keyword">module</a> <a id="58108" href="Demos.HSP-markdown.html#58108" class="Module">_</a> <a id="58110" class="Symbol">{</a><a id="58111" href="Demos.HSP-markdown.html#58111" class="Bound">Î±</a> <a id="58113" href="Demos.HSP-markdown.html#58113" class="Bound">Ïáµƒ</a> <a id="58116" href="Demos.HSP-markdown.html#58116" class="Bound">â„“</a> <a id="58118" class="Symbol">:</a> <a id="58120" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="58125" class="Symbol">}(</a><a id="58127" href="Demos.HSP-markdown.html#58127" class="Bound">ğ’¦</a> <a id="58129" class="Symbol">:</a> <a id="58131" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="58135" class="Symbol">(</a><a id="58136" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="58144" href="Demos.HSP-markdown.html#58111" class="Bound">Î±</a> <a id="58146" href="Demos.HSP-markdown.html#58113" class="Bound">Ïáµƒ</a><a id="58148" class="Symbol">)</a> <a id="58150" class="Symbol">(</a><a id="58151" href="Demos.HSP-markdown.html#58111" class="Bound">Î±</a> <a id="58153" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58155" href="Demos.HSP-markdown.html#58113" class="Bound">Ïáµƒ</a> <a id="58158" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58160" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="58163" href="Demos.HSP-markdown.html#58116" class="Bound">â„“</a><a id="58164" class="Symbol">))</a>
         <a id="58176" class="Symbol">(</a><a id="58177" href="Demos.HSP-markdown.html#58177" class="Bound">ğ‘¨</a> <a id="58179" class="Symbol">:</a> <a id="58181" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="58189" class="Symbol">(</a><a id="58190" href="Demos.HSP-markdown.html#58111" class="Bound">Î±</a> <a id="58192" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58194" href="Demos.HSP-markdown.html#58113" class="Bound">Ïáµƒ</a> <a id="58197" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58199" href="Demos.HSP-markdown.html#58116" class="Bound">â„“</a><a id="58200" class="Symbol">)</a> <a id="58202" class="Symbol">(</a><a id="58203" href="Demos.HSP-markdown.html#58111" class="Bound">Î±</a> <a id="58205" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58207" href="Demos.HSP-markdown.html#58113" class="Bound">Ïáµƒ</a> <a id="58210" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58212" href="Demos.HSP-markdown.html#58116" class="Bound">â„“</a><a id="58213" class="Symbol">))</a> <a id="58216" class="Keyword">where</a>
 <a id="58223" class="Keyword">private</a> <a id="58231" href="Demos.HSP-markdown.html#58231" class="Function">Î¹</a> <a id="58233" class="Symbol">=</a> <a id="58235" href="Demos.HSP-markdown.html#37603" class="Function">ov</a><a id="58237" class="Symbol">(</a><a id="58238" href="Demos.HSP-markdown.html#58111" class="Bound">Î±</a> <a id="58240" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58242" href="Demos.HSP-markdown.html#58113" class="Bound">Ïáµƒ</a> <a id="58245" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58247" href="Demos.HSP-markdown.html#58116" class="Bound">â„“</a><a id="58248" class="Symbol">)</a>

 <a id="58252" href="Demos.HSP-markdown.html#58252" class="Function">V-â‰…-lc</a> <a id="58259" class="Symbol">:</a> <a id="58261" href="Demos.HSP-markdown.html#25122" class="Function">Lift-Alg</a> <a id="58270" href="Demos.HSP-markdown.html#58177" class="Bound">ğ‘¨</a> <a id="58272" href="Demos.HSP-markdown.html#58231" class="Function">Î¹</a> <a id="58274" href="Demos.HSP-markdown.html#58231" class="Function">Î¹</a> <a id="58276" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="58278" href="Demos.HSP-markdown.html#57932" class="Function">V</a><a id="58279" class="Symbol">{</a><a id="58280" class="Argument">Î²</a> <a id="58282" class="Symbol">=</a> <a id="58284" href="Demos.HSP-markdown.html#58231" class="Function">Î¹</a><a id="58285" class="Symbol">}{</a><a id="58287" href="Demos.HSP-markdown.html#58231" class="Function">Î¹</a><a id="58288" class="Symbol">}</a> <a id="58290" href="Demos.HSP-markdown.html#58116" class="Bound">â„“</a> <a id="58292" href="Demos.HSP-markdown.html#58231" class="Function">Î¹</a> <a id="58294" href="Demos.HSP-markdown.html#58127" class="Bound">ğ’¦</a> <a id="58296" class="Symbol">â†’</a> <a id="58298" href="Demos.HSP-markdown.html#58177" class="Bound">ğ‘¨</a> <a id="58300" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="58302" href="Demos.HSP-markdown.html#57932" class="Function">V</a><a id="58303" class="Symbol">{</a><a id="58304" class="Argument">Î³</a> <a id="58306" class="Symbol">=</a> <a id="58308" href="Demos.HSP-markdown.html#58231" class="Function">Î¹</a><a id="58309" class="Symbol">}{</a><a id="58311" href="Demos.HSP-markdown.html#58231" class="Function">Î¹</a><a id="58312" class="Symbol">}</a> <a id="58314" href="Demos.HSP-markdown.html#58116" class="Bound">â„“</a> <a id="58316" href="Demos.HSP-markdown.html#58231" class="Function">Î¹</a> <a id="58318" href="Demos.HSP-markdown.html#58127" class="Bound">ğ’¦</a>
 <a id="58321" href="Demos.HSP-markdown.html#58252" class="Function">V-â‰…-lc</a> <a id="58328" class="Symbol">(</a><a id="58329" href="Demos.HSP-markdown.html#58329" class="Bound">ğ‘¨&#39;</a> <a id="58332" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58334" href="Demos.HSP-markdown.html#58334" class="Bound">spA&#39;</a> <a id="58339" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58341" href="Demos.HSP-markdown.html#58341" class="Bound">lAimgA&#39;</a><a id="58348" class="Symbol">)</a> <a id="58350" class="Symbol">=</a> <a id="58352" href="Demos.HSP-markdown.html#58329" class="Bound">ğ‘¨&#39;</a> <a id="58355" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58357" class="Symbol">(</a><a id="58358" href="Demos.HSP-markdown.html#58334" class="Bound">spA&#39;</a> <a id="58363" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58365" href="Demos.HSP-markdown.html#58383" class="Function">AimgA&#39;</a><a id="58371" class="Symbol">)</a>
  <a id="58375" class="Keyword">where</a>
  <a id="58383" href="Demos.HSP-markdown.html#58383" class="Function">AimgA&#39;</a> <a id="58390" class="Symbol">:</a> <a id="58392" href="Demos.HSP-markdown.html#58177" class="Bound">ğ‘¨</a> <a id="58394" href="Demos.HSP-markdown.html#37645" class="Function Operator">IsHomImageOf</a> <a id="58407" href="Demos.HSP-markdown.html#58329" class="Bound">ğ‘¨&#39;</a>
  <a id="58412" href="Demos.HSP-markdown.html#58383" class="Function">AimgA&#39;</a> <a id="58419" class="Symbol">=</a> <a id="58421" href="Demos.HSP-markdown.html#38313" class="Function">Lift-HomImage-lemma</a> <a id="58441" href="Demos.HSP-markdown.html#58341" class="Bound">lAimgA&#39;</a>
</pre>


#### <a id="idempotence-of-s">Idempotence of S</a>

`S` is a closure operator.  The facts that S is monotone and expansive won't be needed, so we omit the proof of these facts.  However, we will make use of idempotence of `S`, so we prove that property as follows.

<pre class="Agda">

<a id="S-idem"></a><a id="58742" href="Demos.HSP-markdown.html#58742" class="Function">S-idem</a> <a id="58749" class="Symbol">:</a> <a id="58751" class="Symbol">{</a><a id="58752" href="Demos.HSP-markdown.html#58752" class="Bound">ğ’¦</a> <a id="58754" class="Symbol">:</a> <a id="58756" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="58761" class="Symbol">(</a><a id="58762" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="58770" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="58772" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="58774" class="Symbol">)(</a><a id="58776" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="58778" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58780" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="58783" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58785" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="58788" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="58789" class="Symbol">)}</a>
 <a id="58793" class="Symbol">â†’</a>       <a id="58801" href="Demos.HSP-markdown.html#57272" class="Function">S</a><a id="58802" class="Symbol">{</a><a id="58803" class="Argument">Î²</a> <a id="58805" class="Symbol">=</a> <a id="58807" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a><a id="58808" class="Symbol">}{</a><a id="58810" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="58812" class="Symbol">}</a> <a id="58814" class="Symbol">(</a><a id="58815" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="58817" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58819" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a>  <a id="58823" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="58825" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="58826" class="Symbol">)</a> <a id="58828" class="Symbol">(</a><a id="58829" href="Demos.HSP-markdown.html#57272" class="Function">S</a><a id="58830" class="Symbol">{</a><a id="58831" class="Argument">Î²</a> <a id="58833" class="Symbol">=</a> <a id="58835" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a><a id="58836" class="Symbol">}{</a><a id="58838" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="58840" class="Symbol">}</a> <a id="58842" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a> <a id="58844" href="Demos.HSP-markdown.html#58752" class="Bound">ğ’¦</a><a id="58845" class="Symbol">)</a> <a id="58847" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="58849" href="Demos.HSP-markdown.html#57272" class="Function">S</a><a id="58850" class="Symbol">{</a><a id="58851" class="Argument">Î²</a> <a id="58853" class="Symbol">=</a> <a id="58855" href="Demos.HSP-markdown.html#8491" class="Generalizable">Î³</a><a id="58856" class="Symbol">}{</a><a id="58858" href="Demos.HSP-markdown.html#8493" class="Generalizable">Ïá¶œ</a><a id="58860" class="Symbol">}</a> <a id="58862" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a> <a id="58864" href="Demos.HSP-markdown.html#58752" class="Bound">ğ’¦</a>

<a id="58867" href="Demos.HSP-markdown.html#58742" class="Function">S-idem</a> <a id="58874" class="Symbol">(</a><a id="58875" href="Demos.HSP-markdown.html#58875" class="Bound">ğ‘¨</a> <a id="58877" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58879" class="Symbol">(</a><a id="58880" href="Demos.HSP-markdown.html#58880" class="Bound">ğ‘©</a> <a id="58882" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58884" href="Demos.HSP-markdown.html#58884" class="Bound">sB</a> <a id="58887" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58889" href="Demos.HSP-markdown.html#58889" class="Bound">Aâ‰¤B</a><a id="58892" class="Symbol">)</a> <a id="58894" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58896" href="Demos.HSP-markdown.html#58896" class="Bound">xâ‰¤A</a><a id="58899" class="Symbol">)</a> <a id="58901" class="Symbol">=</a> <a id="58903" href="Demos.HSP-markdown.html#58880" class="Bound">ğ‘©</a> <a id="58905" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58907" class="Symbol">(</a><a id="58908" href="Demos.HSP-markdown.html#58884" class="Bound">sB</a> <a id="58911" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="58913" href="Demos.HSP-markdown.html#39419" class="Function">â‰¤-trans</a> <a id="58921" href="Demos.HSP-markdown.html#58896" class="Bound">xâ‰¤A</a> <a id="58925" href="Demos.HSP-markdown.html#58889" class="Bound">Aâ‰¤B</a><a id="58928" class="Symbol">)</a>
</pre>

#### <a id="algebraic-invariance-of-models">Algebraic invariance of âŠ§</a>

The binary relation `âŠ§` would be practically useless if it were not an *algebraic invariant* (i.e., invariant under isomorphism). Let us now verify that the models relation we defined above has this essential property.

<pre class="Agda">

<a id="59251" class="Keyword">module</a> <a id="59258" href="Demos.HSP-markdown.html#59258" class="Module">_</a> <a id="59260" class="Symbol">{</a><a id="59261" href="Demos.HSP-markdown.html#59261" class="Bound">X</a> <a id="59263" class="Symbol">:</a> <a id="59265" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="59270" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="59271" class="Symbol">}{</a><a id="59273" href="Demos.HSP-markdown.html#59273" class="Bound">ğ‘¨</a> <a id="59275" class="Symbol">:</a> <a id="59277" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="59285" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="59287" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="59289" class="Symbol">}(</a><a id="59291" href="Demos.HSP-markdown.html#59291" class="Bound">ğ‘©</a> <a id="59293" class="Symbol">:</a> <a id="59295" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="59303" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="59305" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="59307" class="Symbol">)(</a><a id="59309" href="Demos.HSP-markdown.html#59309" class="Bound">p</a> <a id="59311" href="Demos.HSP-markdown.html#59311" class="Bound">q</a> <a id="59313" class="Symbol">:</a> <a id="59315" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="59320" href="Demos.HSP-markdown.html#59261" class="Bound">X</a><a id="59321" class="Symbol">)</a> <a id="59323" class="Keyword">where</a>

 <a id="59331" href="Demos.HSP-markdown.html#59331" class="Function">âŠ§-I-invar</a> <a id="59341" class="Symbol">:</a> <a id="59343" href="Demos.HSP-markdown.html#59273" class="Bound">ğ‘¨</a> <a id="59345" href="Demos.HSP-markdown.html#52152" class="Function Operator">âŠ§</a> <a id="59347" class="Symbol">(</a><a id="59348" href="Demos.HSP-markdown.html#59309" class="Bound">p</a> <a id="59350" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="59353" href="Demos.HSP-markdown.html#59311" class="Bound">q</a><a id="59354" class="Symbol">)</a>  <a id="59357" class="Symbol">â†’</a>  <a id="59360" href="Demos.HSP-markdown.html#59273" class="Bound">ğ‘¨</a> <a id="59362" href="Demos.HSP-markdown.html#34751" class="Record Operator">â‰…</a> <a id="59364" href="Demos.HSP-markdown.html#59291" class="Bound">ğ‘©</a>  <a id="59367" class="Symbol">â†’</a>  <a id="59370" href="Demos.HSP-markdown.html#59291" class="Bound">ğ‘©</a> <a id="59372" href="Demos.HSP-markdown.html#52152" class="Function Operator">âŠ§</a> <a id="59374" class="Symbol">(</a><a id="59375" href="Demos.HSP-markdown.html#59309" class="Bound">p</a> <a id="59377" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="59380" href="Demos.HSP-markdown.html#59311" class="Bound">q</a><a id="59381" class="Symbol">)</a>
 <a id="59384" href="Demos.HSP-markdown.html#59331" class="Function">âŠ§-I-invar</a> <a id="59394" href="Demos.HSP-markdown.html#59394" class="Bound">Apq</a> <a id="59398" class="Symbol">(</a><a id="59399" href="Demos.HSP-markdown.html#34809" class="InductiveConstructor">mkiso</a> <a id="59405" href="Demos.HSP-markdown.html#59405" class="Bound">fh</a> <a id="59408" href="Demos.HSP-markdown.html#59408" class="Bound">gh</a> <a id="59411" href="Demos.HSP-markdown.html#59411" class="Bound">fâˆ¼g</a> <a id="59415" href="Demos.HSP-markdown.html#59415" class="Bound">gâˆ¼f</a><a id="59418" class="Symbol">)</a> <a id="59420" href="Demos.HSP-markdown.html#59420" class="Bound">Ï</a> <a id="59422" class="Symbol">=</a>
  <a id="59426" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
   <a id="59435" href="Demos.HSP-markdown.html#59917" class="Function Operator">âŸ¦</a> <a id="59437" href="Demos.HSP-markdown.html#59309" class="Bound">p</a> <a id="59439" href="Demos.HSP-markdown.html#59917" class="Function Operator">âŸ§â‚‚</a> <a id="59442" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="59446" href="Demos.HSP-markdown.html#59420" class="Bound">Ï</a>              <a id="59461" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a>  <a id="59466" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="59471" href="Demos.HSP-markdown.html#59917" class="Function Operator">âŸ¦</a> <a id="59473" href="Demos.HSP-markdown.html#59309" class="Bound">p</a> <a id="59475" href="Demos.HSP-markdown.html#59917" class="Function Operator">âŸ§â‚‚</a> <a id="59478" class="Symbol">(Î»</a> <a id="59481" href="Demos.HSP-markdown.html#59481" class="Bound">x</a> <a id="59483" class="Symbol">â†’</a> <a id="59485" href="Demos.HSP-markdown.html#59411" class="Bound">fâˆ¼g</a> <a id="59489" class="Symbol">(</a><a id="59490" href="Demos.HSP-markdown.html#59420" class="Bound">Ï</a> <a id="59492" href="Demos.HSP-markdown.html#59481" class="Bound">x</a><a id="59493" class="Symbol">))</a>  <a id="59497" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
   <a id="59502" href="Demos.HSP-markdown.html#59917" class="Function Operator">âŸ¦</a> <a id="59504" href="Demos.HSP-markdown.html#59309" class="Bound">p</a> <a id="59506" href="Demos.HSP-markdown.html#59917" class="Function Operator">âŸ§â‚‚</a> <a id="59509" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="59513" class="Symbol">(</a><a id="59514" href="Demos.HSP-markdown.html#59964" class="Function">f</a> <a id="59516" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59518" class="Symbol">(</a><a id="59519" href="Demos.HSP-markdown.html#59983" class="Function">g</a> <a id="59521" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59523" href="Demos.HSP-markdown.html#59420" class="Bound">Ï</a><a id="59524" class="Symbol">))</a>  <a id="59528" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a>  <a id="59533" href="Demos.HSP-markdown.html#48759" class="Function">comm-hom-term</a> <a id="59547" href="Demos.HSP-markdown.html#59405" class="Bound">fh</a> <a id="59550" href="Demos.HSP-markdown.html#59309" class="Bound">p</a> <a id="59552" class="Symbol">(</a><a id="59553" href="Demos.HSP-markdown.html#59983" class="Function">g</a> <a id="59555" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59557" href="Demos.HSP-markdown.html#59420" class="Bound">Ï</a><a id="59558" class="Symbol">)</a>     <a id="59564" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
   <a id="59569" href="Demos.HSP-markdown.html#59964" class="Function">f</a> <a id="59571" class="Symbol">(</a><a id="59572" href="Demos.HSP-markdown.html#59858" class="Function Operator">âŸ¦</a> <a id="59574" href="Demos.HSP-markdown.html#59309" class="Bound">p</a> <a id="59576" href="Demos.HSP-markdown.html#59858" class="Function Operator">âŸ§â‚</a> <a id="59579" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="59583" class="Symbol">(</a><a id="59584" href="Demos.HSP-markdown.html#59983" class="Function">g</a> <a id="59586" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59588" href="Demos.HSP-markdown.html#59420" class="Bound">Ï</a><a id="59589" class="Symbol">))</a>    <a id="59595" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>   <a id="59600" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="59605" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="59607" href="Demos.HSP-markdown.html#59405" class="Bound">fh</a> <a id="59610" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="59612" class="Symbol">(</a><a id="59613" href="Demos.HSP-markdown.html#59394" class="Bound">Apq</a> <a id="59617" class="Symbol">(</a><a id="59618" href="Demos.HSP-markdown.html#59983" class="Function">g</a> <a id="59620" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59622" href="Demos.HSP-markdown.html#59420" class="Bound">Ï</a><a id="59623" class="Symbol">))</a>      <a id="59631" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
   <a id="59636" href="Demos.HSP-markdown.html#59964" class="Function">f</a> <a id="59638" class="Symbol">(</a><a id="59639" href="Demos.HSP-markdown.html#59858" class="Function Operator">âŸ¦</a> <a id="59641" href="Demos.HSP-markdown.html#59311" class="Bound">q</a> <a id="59643" href="Demos.HSP-markdown.html#59858" class="Function Operator">âŸ§â‚</a> <a id="59646" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="59650" class="Symbol">(</a><a id="59651" href="Demos.HSP-markdown.html#59983" class="Function">g</a> <a id="59653" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59655" href="Demos.HSP-markdown.html#59420" class="Bound">Ï</a><a id="59656" class="Symbol">))</a>    <a id="59662" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>   <a id="59667" href="Demos.HSP-markdown.html#48759" class="Function">comm-hom-term</a> <a id="59681" href="Demos.HSP-markdown.html#59405" class="Bound">fh</a> <a id="59684" href="Demos.HSP-markdown.html#59311" class="Bound">q</a> <a id="59686" class="Symbol">(</a><a id="59687" href="Demos.HSP-markdown.html#59983" class="Function">g</a> <a id="59689" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59691" href="Demos.HSP-markdown.html#59420" class="Bound">Ï</a><a id="59692" class="Symbol">)</a>     <a id="59698" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
   <a id="59703" href="Demos.HSP-markdown.html#59917" class="Function Operator">âŸ¦</a> <a id="59705" href="Demos.HSP-markdown.html#59311" class="Bound">q</a> <a id="59707" href="Demos.HSP-markdown.html#59917" class="Function Operator">âŸ§â‚‚</a> <a id="59710" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="59714" class="Symbol">(</a><a id="59715" href="Demos.HSP-markdown.html#59964" class="Function">f</a> <a id="59717" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59719" class="Symbol">(</a><a id="59720" href="Demos.HSP-markdown.html#59983" class="Function">g</a> <a id="59722" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="59724" href="Demos.HSP-markdown.html#59420" class="Bound">Ï</a><a id="59725" class="Symbol">))</a>  <a id="59729" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a>   <a id="59734" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="59739" href="Demos.HSP-markdown.html#59917" class="Function Operator">âŸ¦</a> <a id="59741" href="Demos.HSP-markdown.html#59311" class="Bound">q</a> <a id="59743" href="Demos.HSP-markdown.html#59917" class="Function Operator">âŸ§â‚‚</a> <a id="59746" class="Symbol">(Î»</a> <a id="59749" href="Demos.HSP-markdown.html#59749" class="Bound">x</a> <a id="59751" class="Symbol">â†’</a> <a id="59753" href="Demos.HSP-markdown.html#59411" class="Bound">fâˆ¼g</a> <a id="59757" class="Symbol">(</a><a id="59758" href="Demos.HSP-markdown.html#59420" class="Bound">Ï</a> <a id="59760" href="Demos.HSP-markdown.html#59749" class="Bound">x</a><a id="59761" class="Symbol">))</a>  <a id="59765" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
   <a id="59770" href="Demos.HSP-markdown.html#59917" class="Function Operator">âŸ¦</a> <a id="59772" href="Demos.HSP-markdown.html#59311" class="Bound">q</a> <a id="59774" href="Demos.HSP-markdown.html#59917" class="Function Operator">âŸ§â‚‚</a> <a id="59777" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="59781" href="Demos.HSP-markdown.html#59420" class="Bound">Ï</a>              <a id="59796" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">âˆ</a>
  <a id="59800" class="Keyword">where</a>
  <a id="59808" class="Keyword">open</a> <a id="59813" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="59825" href="Demos.HSP-markdown.html#59273" class="Bound">ğ‘¨</a>     <a id="59831" class="Keyword">using</a> <a id="59837" class="Symbol">()</a> <a id="59840" class="Keyword">renaming</a> <a id="59849" class="Symbol">(</a> <a id="59851" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="59855" class="Symbol">to</a> <a id="59858" class="Function Operator">âŸ¦_âŸ§â‚</a> <a id="59863" class="Symbol">)</a>
  <a id="59867" class="Keyword">open</a> <a id="59872" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="59884" href="Demos.HSP-markdown.html#59291" class="Bound">ğ‘©</a>     <a id="59890" class="Keyword">using</a> <a id="59896" class="Symbol">()</a> <a id="59899" class="Keyword">renaming</a> <a id="59908" class="Symbol">(</a> <a id="59910" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="59914" class="Symbol">to</a> <a id="59917" class="Function Operator">âŸ¦_âŸ§â‚‚</a> <a id="59922" class="Symbol">)</a>
  <a id="59926" class="Keyword">open</a> <a id="59931" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="59947" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="59950" href="Demos.HSP-markdown.html#59291" class="Bound">ğ‘©</a> <a id="59952" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>
  <a id="59956" class="Keyword">private</a> <a id="59964" href="Demos.HSP-markdown.html#59964" class="Function">f</a> <a id="59966" class="Symbol">=</a> <a id="59968" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="59974" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="59976" href="Demos.HSP-markdown.html#59405" class="Bound">fh</a> <a id="59979" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="59981" class="Symbol">;</a> <a id="59983" href="Demos.HSP-markdown.html#59983" class="Function">g</a> <a id="59985" class="Symbol">=</a> <a id="59987" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="59993" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="59995" href="Demos.HSP-markdown.html#59408" class="Bound">gh</a> <a id="59998" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
</pre>

#### <a id="subalgebraic-invariance-of-models">Subalgebraic invariance of âŠ§</a>
Identities modeled by an algebra `ğ‘¨` are also modeled by every subalgebra of `ğ‘¨`, which fact can be formalized as follows.

<pre class="Agda">

<a id="60230" class="Keyword">module</a> <a id="60237" href="Demos.HSP-markdown.html#60237" class="Module">_</a> <a id="60239" class="Symbol">{</a><a id="60240" href="Demos.HSP-markdown.html#60240" class="Bound">X</a> <a id="60242" class="Symbol">:</a> <a id="60244" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="60249" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="60250" class="Symbol">}{</a><a id="60252" href="Demos.HSP-markdown.html#60252" class="Bound">ğ‘¨</a> <a id="60254" class="Symbol">:</a> <a id="60256" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="60264" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="60266" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="60268" class="Symbol">}{</a><a id="60270" href="Demos.HSP-markdown.html#60270" class="Bound">ğ‘©</a> <a id="60272" class="Symbol">:</a> <a id="60274" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="60282" href="Demos.HSP-markdown.html#8486" class="Generalizable">Î²</a> <a id="60284" href="Demos.HSP-markdown.html#8488" class="Generalizable">Ïáµ‡</a><a id="60286" class="Symbol">}{</a><a id="60288" href="Demos.HSP-markdown.html#60288" class="Bound">p</a> <a id="60290" href="Demos.HSP-markdown.html#60290" class="Bound">q</a> <a id="60292" class="Symbol">:</a> <a id="60294" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="60299" href="Demos.HSP-markdown.html#60240" class="Bound">X</a><a id="60300" class="Symbol">}</a> <a id="60302" class="Keyword">where</a>

 <a id="60310" href="Demos.HSP-markdown.html#60310" class="Function">âŠ§-S-invar</a> <a id="60320" class="Symbol">:</a> <a id="60322" href="Demos.HSP-markdown.html#60252" class="Bound">ğ‘¨</a> <a id="60324" href="Demos.HSP-markdown.html#52152" class="Function Operator">âŠ§</a> <a id="60326" class="Symbol">(</a><a id="60327" href="Demos.HSP-markdown.html#60288" class="Bound">p</a> <a id="60329" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="60332" href="Demos.HSP-markdown.html#60290" class="Bound">q</a><a id="60333" class="Symbol">)</a> <a id="60335" class="Symbol">â†’</a>  <a id="60338" href="Demos.HSP-markdown.html#60270" class="Bound">ğ‘©</a> <a id="60340" href="Demos.HSP-markdown.html#38974" class="Function Operator">â‰¤</a> <a id="60342" href="Demos.HSP-markdown.html#60252" class="Bound">ğ‘¨</a>  <a id="60345" class="Symbol">â†’</a>  <a id="60348" href="Demos.HSP-markdown.html#60270" class="Bound">ğ‘©</a> <a id="60350" href="Demos.HSP-markdown.html#52152" class="Function Operator">âŠ§</a> <a id="60352" class="Symbol">(</a><a id="60353" href="Demos.HSP-markdown.html#60288" class="Bound">p</a> <a id="60355" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="60358" href="Demos.HSP-markdown.html#60290" class="Bound">q</a><a id="60359" class="Symbol">)</a>
 <a id="60362" href="Demos.HSP-markdown.html#60310" class="Function">âŠ§-S-invar</a> <a id="60372" href="Demos.HSP-markdown.html#60372" class="Bound">Apq</a> <a id="60376" href="Demos.HSP-markdown.html#60376" class="Bound">Bâ‰¤A</a> <a id="60380" href="Demos.HSP-markdown.html#60380" class="Bound">b</a> <a id="60382" class="Symbol">=</a> <a id="60384" href="Demos.HSP-markdown.html#60920" class="Function">goal</a>
  <a id="60391" class="Keyword">where</a>
  <a id="60399" class="Keyword">open</a> <a id="60404" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="60411" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="60414" href="Demos.HSP-markdown.html#60252" class="Bound">ğ‘¨</a> <a id="60416" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="60418" class="Keyword">using</a> <a id="60424" class="Symbol">(</a> <a id="60426" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="60430" class="Symbol">)</a>
  <a id="60434" class="Keyword">open</a> <a id="60439" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="60451" href="Demos.HSP-markdown.html#60252" class="Bound">ğ‘¨</a> <a id="60453" class="Keyword">using</a> <a id="60459" class="Symbol">()</a> <a id="60462" class="Keyword">renaming</a> <a id="60471" class="Symbol">(</a> <a id="60473" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="60477" class="Symbol">to</a> <a id="60480" class="Function Operator">âŸ¦_âŸ§áµƒ</a> <a id="60485" class="Symbol">)</a>
  <a id="60489" class="Keyword">open</a> <a id="60494" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="60501" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="60504" href="Demos.HSP-markdown.html#60270" class="Bound">ğ‘©</a> <a id="60506" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="60508" class="Keyword">using</a> <a id="60514" class="Symbol">()</a> <a id="60517" class="Keyword">renaming</a> <a id="60526" class="Symbol">(</a> <a id="60528" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="60532" class="Symbol">to</a> <a id="60535" class="Field Operator">_â‰ˆáµ‡_</a> <a id="60540" class="Symbol">)</a>
  <a id="60544" class="Keyword">open</a> <a id="60549" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="60561" href="Demos.HSP-markdown.html#60270" class="Bound">ğ‘©</a> <a id="60563" class="Keyword">using</a> <a id="60569" class="Symbol">(</a> <a id="60571" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="60575" class="Symbol">)</a>
  <a id="60579" class="Keyword">open</a> <a id="60584" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="60600" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="60603" href="Demos.HSP-markdown.html#60252" class="Bound">ğ‘¨</a> <a id="60605" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>
  <a id="60609" href="Demos.HSP-markdown.html#60609" class="Function">hh</a> <a id="60612" class="Symbol">:</a> <a id="60614" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="60618" href="Demos.HSP-markdown.html#60270" class="Bound">ğ‘©</a> <a id="60620" href="Demos.HSP-markdown.html#60252" class="Bound">ğ‘¨</a>
  <a id="60624" href="Demos.HSP-markdown.html#60609" class="Function">hh</a> <a id="60627" class="Symbol">=</a> <a id="60629" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="60631" href="Demos.HSP-markdown.html#60376" class="Bound">Bâ‰¤A</a> <a id="60635" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="60639" href="Demos.HSP-markdown.html#60639" class="Function">h</a> <a id="60641" class="Symbol">=</a> <a id="60643" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="60649" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="60651" href="Demos.HSP-markdown.html#60609" class="Function">hh</a> <a id="60654" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="60658" href="Demos.HSP-markdown.html#60658" class="Function">Î¾</a> <a id="60660" class="Symbol">:</a> <a id="60662" class="Symbol">âˆ€</a> <a id="60664" href="Demos.HSP-markdown.html#60664" class="Bound">b</a> <a id="60666" class="Symbol">â†’</a> <a id="60668" href="Demos.HSP-markdown.html#60639" class="Function">h</a> <a id="60670" class="Symbol">(</a><a id="60671" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="60673" href="Demos.HSP-markdown.html#60288" class="Bound">p</a> <a id="60675" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="60677" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="60681" href="Demos.HSP-markdown.html#60664" class="Bound">b</a><a id="60682" class="Symbol">)</a> <a id="60684" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="60686" href="Demos.HSP-markdown.html#60639" class="Function">h</a> <a id="60688" class="Symbol">(</a><a id="60689" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="60691" href="Demos.HSP-markdown.html#60290" class="Bound">q</a> <a id="60693" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="60695" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="60699" href="Demos.HSP-markdown.html#60664" class="Bound">b</a><a id="60700" class="Symbol">)</a>
  <a id="60704" href="Demos.HSP-markdown.html#60658" class="Function">Î¾</a> <a id="60706" href="Demos.HSP-markdown.html#60706" class="Bound">b</a> <a id="60708" class="Symbol">=</a> <a id="60710" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
         <a id="60725" href="Demos.HSP-markdown.html#60639" class="Function">h</a> <a id="60727" class="Symbol">(</a><a id="60728" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="60730" href="Demos.HSP-markdown.html#60288" class="Bound">p</a> <a id="60732" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="60734" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="60738" href="Demos.HSP-markdown.html#60706" class="Bound">b</a><a id="60739" class="Symbol">)</a>     <a id="60745" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a> <a id="60748" href="Demos.HSP-markdown.html#48759" class="Function">comm-hom-term</a> <a id="60762" href="Demos.HSP-markdown.html#60609" class="Function">hh</a> <a id="60765" href="Demos.HSP-markdown.html#60288" class="Bound">p</a> <a id="60767" href="Demos.HSP-markdown.html#60706" class="Bound">b</a>   <a id="60771" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
         <a id="60782" href="Demos.HSP-markdown.html#60480" class="Function Operator">âŸ¦</a> <a id="60784" href="Demos.HSP-markdown.html#60288" class="Bound">p</a> <a id="60786" href="Demos.HSP-markdown.html#60480" class="Function Operator">âŸ§áµƒ</a> <a id="60789" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="60793" class="Symbol">(</a><a id="60794" href="Demos.HSP-markdown.html#60639" class="Function">h</a> <a id="60796" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="60798" href="Demos.HSP-markdown.html#60706" class="Bound">b</a><a id="60799" class="Symbol">)</a>  <a id="60802" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a> <a id="60805" href="Demos.HSP-markdown.html#60372" class="Bound">Apq</a> <a id="60809" class="Symbol">(</a><a id="60810" href="Demos.HSP-markdown.html#60639" class="Function">h</a> <a id="60812" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="60814" href="Demos.HSP-markdown.html#60706" class="Bound">b</a><a id="60815" class="Symbol">)</a>            <a id="60828" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
         <a id="60839" href="Demos.HSP-markdown.html#60480" class="Function Operator">âŸ¦</a> <a id="60841" href="Demos.HSP-markdown.html#60290" class="Bound">q</a> <a id="60843" href="Demos.HSP-markdown.html#60480" class="Function Operator">âŸ§áµƒ</a> <a id="60846" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="60850" class="Symbol">(</a><a id="60851" href="Demos.HSP-markdown.html#60639" class="Function">h</a> <a id="60853" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="60855" href="Demos.HSP-markdown.html#60706" class="Bound">b</a><a id="60856" class="Symbol">)</a>  <a id="60859" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a> <a id="60863" href="Demos.HSP-markdown.html#48759" class="Function">comm-hom-term</a> <a id="60877" href="Demos.HSP-markdown.html#60609" class="Function">hh</a> <a id="60880" href="Demos.HSP-markdown.html#60290" class="Bound">q</a> <a id="60882" href="Demos.HSP-markdown.html#60706" class="Bound">b</a>  <a id="60885" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
         <a id="60896" href="Demos.HSP-markdown.html#60639" class="Function">h</a> <a id="60898" class="Symbol">(</a><a id="60899" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="60901" href="Demos.HSP-markdown.html#60290" class="Bound">q</a> <a id="60903" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="60905" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="60909" href="Demos.HSP-markdown.html#60706" class="Bound">b</a><a id="60910" class="Symbol">)</a>     <a id="60916" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">âˆ</a>
  <a id="60920" href="Demos.HSP-markdown.html#60920" class="Function">goal</a> <a id="60925" class="Symbol">:</a> <a id="60927" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="60929" href="Demos.HSP-markdown.html#60288" class="Bound">p</a> <a id="60931" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="60933" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="60937" href="Demos.HSP-markdown.html#60380" class="Bound">b</a> <a id="60939" href="Demos.HSP-markdown.html#60535" class="Function Operator">â‰ˆáµ‡</a> <a id="60942" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="60944" href="Demos.HSP-markdown.html#60290" class="Bound">q</a> <a id="60946" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="60948" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="60952" href="Demos.HSP-markdown.html#60380" class="Bound">b</a>
  <a id="60956" href="Demos.HSP-markdown.html#60920" class="Function">goal</a> <a id="60961" class="Symbol">=</a> <a id="60963" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="60965" href="Demos.HSP-markdown.html#60376" class="Bound">Bâ‰¤A</a> <a id="60969" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="60971" class="Symbol">(</a><a id="60972" href="Demos.HSP-markdown.html#60658" class="Function">Î¾</a> <a id="60974" href="Demos.HSP-markdown.html#60380" class="Bound">b</a><a id="60975" class="Symbol">)</a>
</pre>

#### <a id="product-invariance-of-models">Product invariance of âŠ§</a>
An identity satisfied by all algebras in an indexed collection is also satisfied by the product of algebras in that collection.

 <pre class="Agda">


<a id="61204" class="Keyword">module</a> <a id="61211" href="Demos.HSP-markdown.html#61211" class="Module">_</a> <a id="61213" class="Symbol">{</a><a id="61214" href="Demos.HSP-markdown.html#61214" class="Bound">X</a> <a id="61216" class="Symbol">:</a> <a id="61218" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="61223" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="61224" class="Symbol">}{</a><a id="61226" href="Demos.HSP-markdown.html#61226" class="Bound">I</a> <a id="61228" class="Symbol">:</a> <a id="61230" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="61235" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="61236" class="Symbol">}(</a><a id="61238" href="Demos.HSP-markdown.html#61238" class="Bound">ğ’œ</a> <a id="61240" class="Symbol">:</a> <a id="61242" href="Demos.HSP-markdown.html#61226" class="Bound">I</a> <a id="61244" class="Symbol">â†’</a> <a id="61246" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="61254" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="61256" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="61258" class="Symbol">){</a><a id="61260" href="Demos.HSP-markdown.html#61260" class="Bound">p</a> <a id="61262" href="Demos.HSP-markdown.html#61262" class="Bound">q</a> <a id="61264" class="Symbol">:</a> <a id="61266" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="61271" href="Demos.HSP-markdown.html#61214" class="Bound">X</a><a id="61272" class="Symbol">}</a> <a id="61274" class="Keyword">where</a>

 <a id="61282" href="Demos.HSP-markdown.html#61282" class="Function">âŠ§-P-invar</a> <a id="61292" class="Symbol">:</a> <a id="61294" class="Symbol">(âˆ€</a> <a id="61297" href="Demos.HSP-markdown.html#61297" class="Bound">i</a> <a id="61299" class="Symbol">â†’</a> <a id="61301" href="Demos.HSP-markdown.html#61238" class="Bound">ğ’œ</a> <a id="61303" href="Demos.HSP-markdown.html#61297" class="Bound">i</a> <a id="61305" href="Demos.HSP-markdown.html#52152" class="Function Operator">âŠ§</a> <a id="61307" class="Symbol">(</a><a id="61308" href="Demos.HSP-markdown.html#61260" class="Bound">p</a> <a id="61310" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="61313" href="Demos.HSP-markdown.html#61262" class="Bound">q</a><a id="61314" class="Symbol">))</a> <a id="61317" class="Symbol">â†’</a> <a id="61319" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="61321" href="Demos.HSP-markdown.html#61238" class="Bound">ğ’œ</a> <a id="61323" href="Demos.HSP-markdown.html#52152" class="Function Operator">âŠ§</a> <a id="61325" class="Symbol">(</a><a id="61326" href="Demos.HSP-markdown.html#61260" class="Bound">p</a> <a id="61328" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="61331" href="Demos.HSP-markdown.html#61262" class="Bound">q</a><a id="61332" class="Symbol">)</a>
 <a id="61335" href="Demos.HSP-markdown.html#61282" class="Function">âŠ§-P-invar</a> <a id="61345" href="Demos.HSP-markdown.html#61345" class="Bound">ğ’œpq</a> <a id="61349" href="Demos.HSP-markdown.html#61349" class="Bound">a</a> <a id="61351" class="Symbol">=</a> <a id="61353" href="Demos.HSP-markdown.html#61651" class="Function">goal</a>
  <a id="61360" class="Keyword">where</a>
  <a id="61368" class="Keyword">open</a> <a id="61373" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="61385" class="Symbol">(</a><a id="61386" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="61388" href="Demos.HSP-markdown.html#61238" class="Bound">ğ’œ</a><a id="61389" class="Symbol">)</a> <a id="61391" class="Keyword">using</a> <a id="61397" class="Symbol">()</a> <a id="61400" class="Keyword">renaming</a> <a id="61409" class="Symbol">(</a> <a id="61411" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="61415" class="Symbol">to</a> <a id="61418" class="Function Operator">âŸ¦_âŸ§â‚</a> <a id="61423" class="Symbol">)</a>
  <a id="61427" class="Keyword">open</a> <a id="61432" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="61444" class="Keyword">using</a> <a id="61450" class="Symbol">(</a> <a id="61452" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="61456" class="Symbol">)</a>
  <a id="61460" class="Keyword">open</a> <a id="61465" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="61472" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="61475" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="61477" href="Demos.HSP-markdown.html#61238" class="Bound">ğ’œ</a> <a id="61479" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="61481" class="Keyword">using</a> <a id="61487" class="Symbol">(</a> <a id="61489" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="61493" class="Symbol">)</a>
  <a id="61497" class="Keyword">open</a> <a id="61502" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="61518" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="61521" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="61523" href="Demos.HSP-markdown.html#61238" class="Bound">ğ’œ</a> <a id="61525" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>
  <a id="61529" href="Demos.HSP-markdown.html#61529" class="Function">Î¾</a> <a id="61531" class="Symbol">:</a> <a id="61533" class="Symbol">(Î»</a> <a id="61536" href="Demos.HSP-markdown.html#61536" class="Bound">i</a> <a id="61538" class="Symbol">â†’</a> <a id="61540" class="Symbol">(</a><a id="61541" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="61543" href="Demos.HSP-markdown.html#61238" class="Bound">ğ’œ</a> <a id="61545" href="Demos.HSP-markdown.html#61536" class="Bound">i</a> <a id="61547" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="61549" href="Demos.HSP-markdown.html#61260" class="Bound">p</a><a id="61550" class="Symbol">)</a> <a id="61552" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="61556" class="Symbol">(Î»</a> <a id="61559" href="Demos.HSP-markdown.html#61559" class="Bound">x</a> <a id="61561" class="Symbol">â†’</a> <a id="61563" class="Symbol">(</a><a id="61564" href="Demos.HSP-markdown.html#61349" class="Bound">a</a> <a id="61566" href="Demos.HSP-markdown.html#61559" class="Bound">x</a><a id="61567" class="Symbol">)</a> <a id="61569" href="Demos.HSP-markdown.html#61536" class="Bound">i</a><a id="61570" class="Symbol">))</a> <a id="61573" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="61575" class="Symbol">(Î»</a> <a id="61578" href="Demos.HSP-markdown.html#61578" class="Bound">i</a> <a id="61580" class="Symbol">â†’</a> <a id="61582" class="Symbol">(</a><a id="61583" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="61585" href="Demos.HSP-markdown.html#61238" class="Bound">ğ’œ</a> <a id="61587" href="Demos.HSP-markdown.html#61578" class="Bound">i</a> <a id="61589" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="61591" href="Demos.HSP-markdown.html#61262" class="Bound">q</a><a id="61592" class="Symbol">)</a> <a id="61594" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="61598" class="Symbol">(Î»</a> <a id="61601" href="Demos.HSP-markdown.html#61601" class="Bound">x</a> <a id="61603" class="Symbol">â†’</a> <a id="61605" class="Symbol">(</a><a id="61606" href="Demos.HSP-markdown.html#61349" class="Bound">a</a> <a id="61608" href="Demos.HSP-markdown.html#61601" class="Bound">x</a><a id="61609" class="Symbol">)</a> <a id="61611" href="Demos.HSP-markdown.html#61578" class="Bound">i</a><a id="61612" class="Symbol">))</a>
  <a id="61617" href="Demos.HSP-markdown.html#61529" class="Function">Î¾</a> <a id="61619" class="Symbol">=</a> <a id="61621" class="Symbol">Î»</a> <a id="61623" href="Demos.HSP-markdown.html#61623" class="Bound">i</a> <a id="61625" class="Symbol">â†’</a> <a id="61627" href="Demos.HSP-markdown.html#61345" class="Bound">ğ’œpq</a> <a id="61631" href="Demos.HSP-markdown.html#61623" class="Bound">i</a> <a id="61633" class="Symbol">(Î»</a> <a id="61636" href="Demos.HSP-markdown.html#61636" class="Bound">x</a> <a id="61638" class="Symbol">â†’</a> <a id="61640" class="Symbol">(</a><a id="61641" href="Demos.HSP-markdown.html#61349" class="Bound">a</a> <a id="61643" href="Demos.HSP-markdown.html#61636" class="Bound">x</a><a id="61644" class="Symbol">)</a> <a id="61646" href="Demos.HSP-markdown.html#61623" class="Bound">i</a><a id="61647" class="Symbol">)</a>
  <a id="61651" href="Demos.HSP-markdown.html#61651" class="Function">goal</a> <a id="61656" class="Symbol">:</a> <a id="61658" href="Demos.HSP-markdown.html#61418" class="Function Operator">âŸ¦</a> <a id="61660" href="Demos.HSP-markdown.html#61260" class="Bound">p</a> <a id="61662" href="Demos.HSP-markdown.html#61418" class="Function Operator">âŸ§â‚</a> <a id="61665" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="61669" href="Demos.HSP-markdown.html#61349" class="Bound">a</a> <a id="61671" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="61673" href="Demos.HSP-markdown.html#61418" class="Function Operator">âŸ¦</a> <a id="61675" href="Demos.HSP-markdown.html#61262" class="Bound">q</a> <a id="61677" href="Demos.HSP-markdown.html#61418" class="Function Operator">âŸ§â‚</a> <a id="61680" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="61684" href="Demos.HSP-markdown.html#61349" class="Bound">a</a>
  <a id="61688" href="Demos.HSP-markdown.html#61651" class="Function">goal</a> <a id="61693" class="Symbol">=</a> <a id="61695" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
          <a id="61711" href="Demos.HSP-markdown.html#61418" class="Function Operator">âŸ¦</a> <a id="61713" href="Demos.HSP-markdown.html#61260" class="Bound">p</a> <a id="61715" href="Demos.HSP-markdown.html#61418" class="Function Operator">âŸ§â‚</a> <a id="61718" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="61722" href="Demos.HSP-markdown.html#61349" class="Bound">a</a>                             <a id="61752" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a> <a id="61755" href="Demos.HSP-markdown.html#49719" class="Function">interp-prod</a> <a id="61767" href="Demos.HSP-markdown.html#61238" class="Bound">ğ’œ</a> <a id="61769" href="Demos.HSP-markdown.html#61260" class="Bound">p</a> <a id="61771" href="Demos.HSP-markdown.html#61349" class="Bound">a</a>   <a id="61775" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
          <a id="61787" class="Symbol">(Î»</a> <a id="61790" href="Demos.HSP-markdown.html#61790" class="Bound">i</a> <a id="61792" class="Symbol">â†’</a> <a id="61794" class="Symbol">(</a><a id="61795" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="61797" href="Demos.HSP-markdown.html#61238" class="Bound">ğ’œ</a> <a id="61799" href="Demos.HSP-markdown.html#61790" class="Bound">i</a> <a id="61801" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="61803" href="Demos.HSP-markdown.html#61260" class="Bound">p</a><a id="61804" class="Symbol">)</a> <a id="61806" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="61810" class="Symbol">(Î»</a> <a id="61813" href="Demos.HSP-markdown.html#61813" class="Bound">x</a> <a id="61815" class="Symbol">â†’</a> <a id="61817" class="Symbol">(</a><a id="61818" href="Demos.HSP-markdown.html#61349" class="Bound">a</a> <a id="61820" href="Demos.HSP-markdown.html#61813" class="Bound">x</a><a id="61821" class="Symbol">)</a> <a id="61823" href="Demos.HSP-markdown.html#61790" class="Bound">i</a><a id="61824" class="Symbol">))</a>  <a id="61828" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a> <a id="61831" href="Demos.HSP-markdown.html#61529" class="Function">Î¾</a>                   <a id="61851" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
          <a id="61863" class="Symbol">(Î»</a> <a id="61866" href="Demos.HSP-markdown.html#61866" class="Bound">i</a> <a id="61868" class="Symbol">â†’</a> <a id="61870" class="Symbol">(</a><a id="61871" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="61873" href="Demos.HSP-markdown.html#61238" class="Bound">ğ’œ</a> <a id="61875" href="Demos.HSP-markdown.html#61866" class="Bound">i</a> <a id="61877" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="61879" href="Demos.HSP-markdown.html#61262" class="Bound">q</a><a id="61880" class="Symbol">)</a> <a id="61882" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="61886" class="Symbol">(Î»</a> <a id="61889" href="Demos.HSP-markdown.html#61889" class="Bound">x</a> <a id="61891" class="Symbol">â†’</a> <a id="61893" class="Symbol">(</a><a id="61894" href="Demos.HSP-markdown.html#61349" class="Bound">a</a> <a id="61896" href="Demos.HSP-markdown.html#61889" class="Bound">x</a><a id="61897" class="Symbol">)</a> <a id="61899" href="Demos.HSP-markdown.html#61866" class="Bound">i</a><a id="61900" class="Symbol">))</a>  <a id="61904" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a> <a id="61908" href="Demos.HSP-markdown.html#49719" class="Function">interp-prod</a> <a id="61920" href="Demos.HSP-markdown.html#61238" class="Bound">ğ’œ</a> <a id="61922" href="Demos.HSP-markdown.html#61262" class="Bound">q</a> <a id="61924" href="Demos.HSP-markdown.html#61349" class="Bound">a</a>  <a id="61927" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
          <a id="61939" href="Demos.HSP-markdown.html#61418" class="Function Operator">âŸ¦</a> <a id="61941" href="Demos.HSP-markdown.html#61262" class="Bound">q</a> <a id="61943" href="Demos.HSP-markdown.html#61418" class="Function Operator">âŸ§â‚</a> <a id="61946" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="61950" href="Demos.HSP-markdown.html#61349" class="Bound">a</a>                             <a id="61980" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">âˆ</a>
</pre>


#### <a id="PS-subset-SP">PS âŠ† SP</a>

Another important fact we will need about the operators `S` and `P` is that a product of subalgebras of algebras in a class `ğ’¦` is a subalgebra of a product of algebras in `ğ’¦`. We denote this inclusion by `PSâŠ†SP`, which we state and prove as follows.

<pre class="Agda">

<a id="62300" class="Keyword">module</a> <a id="62307" href="Demos.HSP-markdown.html#62307" class="Module">_</a>  <a id="62310" class="Symbol">{</a><a id="62311" href="Demos.HSP-markdown.html#62311" class="Bound">ğ’¦</a> <a id="62313" class="Symbol">:</a> <a id="62315" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="62319" class="Symbol">(</a><a id="62320" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="62328" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="62330" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="62332" class="Symbol">)</a> <a id="62334" class="Symbol">(</a><a id="62335" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="62337" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="62339" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="62342" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="62344" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="62347" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="62348" class="Symbol">)}</a> <a id="62351" class="Keyword">where</a>
 <a id="62358" class="Keyword">private</a>
  <a id="62368" href="Demos.HSP-markdown.html#62368" class="Function">a</a> <a id="62370" class="Symbol">=</a> <a id="62372" href="Demos.HSP-markdown.html#62328" class="Bound">Î±</a> <a id="62374" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="62376" href="Demos.HSP-markdown.html#62330" class="Bound">Ïáµƒ</a>
  <a id="62381" href="Demos.HSP-markdown.html#62381" class="Function">oaâ„“</a> <a id="62385" class="Symbol">=</a> <a id="62387" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="62390" class="Symbol">(</a><a id="62391" href="Demos.HSP-markdown.html#62368" class="Function">a</a> <a id="62393" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="62395" href="Demos.HSP-markdown.html#62347" class="Bound">â„“</a><a id="62396" class="Symbol">)</a>

 <a id="62400" href="Demos.HSP-markdown.html#62400" class="Function">PSâŠ†SP</a> <a id="62406" class="Symbol">:</a> <a id="62408" href="Demos.HSP-markdown.html#57398" class="Function">P</a> <a id="62410" class="Symbol">(</a><a id="62411" href="Demos.HSP-markdown.html#62368" class="Function">a</a> <a id="62413" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="62415" href="Demos.HSP-markdown.html#62347" class="Bound">â„“</a><a id="62416" class="Symbol">)</a> <a id="62418" href="Demos.HSP-markdown.html#62381" class="Function">oaâ„“</a> <a id="62422" class="Symbol">(</a><a id="62423" href="Demos.HSP-markdown.html#57272" class="Function">S</a><a id="62424" class="Symbol">{</a><a id="62425" class="Argument">Î²</a> <a id="62427" class="Symbol">=</a> <a id="62429" href="Demos.HSP-markdown.html#62328" class="Bound">Î±</a><a id="62430" class="Symbol">}{</a><a id="62432" href="Demos.HSP-markdown.html#62330" class="Bound">Ïáµƒ</a><a id="62434" class="Symbol">}</a> <a id="62436" href="Demos.HSP-markdown.html#62347" class="Bound">â„“</a> <a id="62438" href="Demos.HSP-markdown.html#62311" class="Bound">ğ’¦</a><a id="62439" class="Symbol">)</a> <a id="62441" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="62443" href="Demos.HSP-markdown.html#57272" class="Function">S</a> <a id="62445" href="Demos.HSP-markdown.html#62381" class="Function">oaâ„“</a> <a id="62449" class="Symbol">(</a><a id="62450" href="Demos.HSP-markdown.html#57398" class="Function">P</a> <a id="62452" href="Demos.HSP-markdown.html#62347" class="Bound">â„“</a> <a id="62454" href="Demos.HSP-markdown.html#62381" class="Function">oaâ„“</a> <a id="62458" href="Demos.HSP-markdown.html#62311" class="Bound">ğ’¦</a><a id="62459" class="Symbol">)</a>
 <a id="62462" href="Demos.HSP-markdown.html#62400" class="Function">PSâŠ†SP</a> <a id="62468" class="Symbol">{</a><a id="62469" href="Demos.HSP-markdown.html#62469" class="Bound">ğ‘©</a><a id="62470" class="Symbol">}</a> <a id="62472" class="Symbol">(</a><a id="62473" href="Demos.HSP-markdown.html#62473" class="Bound">I</a> <a id="62475" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62477" class="Symbol">(</a> <a id="62479" href="Demos.HSP-markdown.html#62479" class="Bound">ğ’œ</a> <a id="62481" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62483" href="Demos.HSP-markdown.html#62483" class="Bound">sA</a> <a id="62486" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62488" href="Demos.HSP-markdown.html#62488" class="Bound">Bâ‰…â¨…A</a> <a id="62493" class="Symbol">))</a> <a id="62496" class="Symbol">=</a> <a id="62498" href="Demos.HSP-markdown.html#62654" class="Function">Goal</a>
  <a id="62505" class="Keyword">where</a>
  <a id="62513" href="Demos.HSP-markdown.html#62513" class="Function">â„¬</a> <a id="62515" class="Symbol">:</a> <a id="62517" href="Demos.HSP-markdown.html#62473" class="Bound">I</a> <a id="62519" class="Symbol">â†’</a> <a id="62521" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="62529" href="Demos.HSP-markdown.html#62328" class="Bound">Î±</a> <a id="62531" href="Demos.HSP-markdown.html#62330" class="Bound">Ïáµƒ</a>
  <a id="62536" href="Demos.HSP-markdown.html#62513" class="Function">â„¬</a> <a id="62538" href="Demos.HSP-markdown.html#62538" class="Bound">i</a> <a id="62540" class="Symbol">=</a> <a id="62542" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="62544" href="Demos.HSP-markdown.html#62483" class="Bound">sA</a> <a id="62547" href="Demos.HSP-markdown.html#62538" class="Bound">i</a> <a id="62549" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="62553" href="Demos.HSP-markdown.html#62553" class="Function">kB</a> <a id="62556" class="Symbol">:</a> <a id="62558" class="Symbol">(</a><a id="62559" href="Demos.HSP-markdown.html#62559" class="Bound">i</a> <a id="62561" class="Symbol">:</a> <a id="62563" href="Demos.HSP-markdown.html#62473" class="Bound">I</a><a id="62564" class="Symbol">)</a> <a id="62566" class="Symbol">â†’</a> <a id="62568" href="Demos.HSP-markdown.html#62513" class="Function">â„¬</a> <a id="62570" href="Demos.HSP-markdown.html#62559" class="Bound">i</a> <a id="62572" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="62574" href="Demos.HSP-markdown.html#62311" class="Bound">ğ’¦</a>
  <a id="62578" href="Demos.HSP-markdown.html#62553" class="Function">kB</a> <a id="62581" href="Demos.HSP-markdown.html#62581" class="Bound">i</a> <a id="62583" class="Symbol">=</a>  <a id="62586" href="Demos.HSP-markdown.html#7750" class="Field">fst</a> <a id="62590" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="62592" href="Demos.HSP-markdown.html#62483" class="Bound">sA</a> <a id="62595" href="Demos.HSP-markdown.html#62581" class="Bound">i</a> <a id="62597" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>
  <a id="62601" href="Demos.HSP-markdown.html#62601" class="Function">â¨…Aâ‰¤â¨…B</a> <a id="62607" class="Symbol">:</a> <a id="62609" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="62611" href="Demos.HSP-markdown.html#62479" class="Bound">ğ’œ</a> <a id="62613" href="Demos.HSP-markdown.html#38974" class="Function Operator">â‰¤</a> <a id="62615" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="62617" href="Demos.HSP-markdown.html#62513" class="Function">â„¬</a>
  <a id="62621" href="Demos.HSP-markdown.html#62601" class="Function">â¨…Aâ‰¤â¨…B</a> <a id="62627" class="Symbol">=</a> <a id="62629" href="Demos.HSP-markdown.html#39859" class="Function">â¨…-â‰¤</a> <a id="62633" class="Symbol">Î»</a> <a id="62635" href="Demos.HSP-markdown.html#62635" class="Bound">i</a> <a id="62637" class="Symbol">â†’</a> <a id="62639" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="62643" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="62645" href="Demos.HSP-markdown.html#62483" class="Bound">sA</a> <a id="62648" href="Demos.HSP-markdown.html#62635" class="Bound">i</a> <a id="62650" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>
  <a id="62654" href="Demos.HSP-markdown.html#62654" class="Function">Goal</a> <a id="62659" class="Symbol">:</a> <a id="62661" href="Demos.HSP-markdown.html#62469" class="Bound">ğ‘©</a> <a id="62663" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="62665" href="Demos.HSP-markdown.html#57272" class="Function">S</a><a id="62666" class="Symbol">{</a><a id="62667" class="Argument">Î²</a> <a id="62669" class="Symbol">=</a> <a id="62671" href="Demos.HSP-markdown.html#62381" class="Function">oaâ„“</a><a id="62674" class="Symbol">}{</a><a id="62676" href="Demos.HSP-markdown.html#62381" class="Function">oaâ„“</a><a id="62679" class="Symbol">}</a><a id="62680" href="Demos.HSP-markdown.html#62381" class="Function">oaâ„“</a> <a id="62684" class="Symbol">(</a><a id="62685" href="Demos.HSP-markdown.html#57398" class="Function">P</a> <a id="62687" class="Symbol">{</a><a id="62688" class="Argument">Î²</a> <a id="62690" class="Symbol">=</a> <a id="62692" href="Demos.HSP-markdown.html#62381" class="Function">oaâ„“</a><a id="62695" class="Symbol">}{</a><a id="62697" href="Demos.HSP-markdown.html#62381" class="Function">oaâ„“</a><a id="62700" class="Symbol">}</a> <a id="62702" href="Demos.HSP-markdown.html#62347" class="Bound">â„“</a> <a id="62704" href="Demos.HSP-markdown.html#62381" class="Function">oaâ„“</a> <a id="62708" href="Demos.HSP-markdown.html#62311" class="Bound">ğ’¦</a><a id="62709" class="Symbol">)</a>
  <a id="62713" href="Demos.HSP-markdown.html#62654" class="Function">Goal</a> <a id="62718" class="Symbol">=</a> <a id="62720" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="62722" href="Demos.HSP-markdown.html#62513" class="Function">â„¬</a> <a id="62724" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62726" class="Symbol">(</a><a id="62727" href="Demos.HSP-markdown.html#62473" class="Bound">I</a> <a id="62729" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62731" class="Symbol">(</a><a id="62732" href="Demos.HSP-markdown.html#62513" class="Function">â„¬</a> <a id="62734" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62736" class="Symbol">(</a><a id="62737" href="Demos.HSP-markdown.html#62553" class="Function">kB</a> <a id="62740" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62742" href="Demos.HSP-markdown.html#35773" class="Function">â‰…-refl</a><a id="62748" class="Symbol">)))</a> <a id="62752" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="62754" class="Symbol">(</a><a id="62755" href="Demos.HSP-markdown.html#39541" class="Function">â‰…-trans-â‰¤</a> <a id="62765" href="Demos.HSP-markdown.html#62488" class="Bound">Bâ‰…â¨…A</a> <a id="62770" href="Demos.HSP-markdown.html#62601" class="Function">â¨…Aâ‰¤â¨…B</a><a id="62775" class="Symbol">)</a>
</pre>

#### <a id="identity-preservation">Identity preservation</a>

The classes `H ğ’¦`, `S ğ’¦`, `P ğ’¦`, and `V ğ’¦` all satisfy the same set of equations.  We will only use a subset of the inclusions used to prove this fact. (For a complete proof, see the
[Varieties.Func.Preservation][] module of the [Agda Universal Algebra Library][].)


##### <a id="h-preserves-identities">H preserves identities</a>

First we prove that the closure operator H is compatible with identities that hold in the given class.

<pre class="Agda">

<a id="63302" class="Keyword">module</a> <a id="63309" href="Demos.HSP-markdown.html#63309" class="Module">_</a>  <a id="63312" class="Symbol">{</a><a id="63313" href="Demos.HSP-markdown.html#63313" class="Bound">X</a> <a id="63315" class="Symbol">:</a> <a id="63317" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="63322" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="63323" class="Symbol">}{</a><a id="63325" href="Demos.HSP-markdown.html#63325" class="Bound">ğ’¦</a> <a id="63327" class="Symbol">:</a> <a id="63329" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="63333" class="Symbol">(</a><a id="63334" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="63342" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="63344" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="63346" class="Symbol">)</a> <a id="63348" class="Symbol">(</a><a id="63349" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="63351" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="63353" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="63356" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="63358" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="63361" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="63362" class="Symbol">)}{</a><a id="63365" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="63367" href="Demos.HSP-markdown.html#63367" class="Bound">q</a> <a id="63369" class="Symbol">:</a> <a id="63371" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="63376" href="Demos.HSP-markdown.html#63313" class="Bound">X</a><a id="63377" class="Symbol">}</a> <a id="63379" class="Keyword">where</a>

 <a id="63387" href="Demos.HSP-markdown.html#63387" class="Function">H-id1</a> <a id="63393" class="Symbol">:</a> <a id="63395" href="Demos.HSP-markdown.html#63325" class="Bound">ğ’¦</a> <a id="63397" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="63399" class="Symbol">(</a><a id="63400" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="63402" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="63405" href="Demos.HSP-markdown.html#63367" class="Bound">q</a><a id="63406" class="Symbol">)</a> <a id="63408" class="Symbol">â†’</a> <a id="63410" class="Symbol">(</a><a id="63411" href="Demos.HSP-markdown.html#57135" class="Function">H</a> <a id="63413" class="Symbol">{</a><a id="63414" class="Argument">Î²</a> <a id="63416" class="Symbol">=</a> <a id="63418" href="Demos.HSP-markdown.html#63342" class="Bound">Î±</a><a id="63419" class="Symbol">}{</a><a id="63421" href="Demos.HSP-markdown.html#63344" class="Bound">Ïáµƒ</a><a id="63423" class="Symbol">}</a><a id="63424" href="Demos.HSP-markdown.html#63361" class="Bound">â„“</a> <a id="63426" href="Demos.HSP-markdown.html#63325" class="Bound">ğ’¦</a><a id="63427" class="Symbol">)</a> <a id="63429" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="63431" class="Symbol">(</a><a id="63432" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="63434" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="63437" href="Demos.HSP-markdown.html#63367" class="Bound">q</a><a id="63438" class="Symbol">)</a>
 <a id="63441" href="Demos.HSP-markdown.html#63387" class="Function">H-id1</a> <a id="63447" href="Demos.HSP-markdown.html#63447" class="Bound">Ïƒ</a> <a id="63449" href="Demos.HSP-markdown.html#63449" class="Bound">ğ‘©</a> <a id="63451" class="Symbol">(</a><a id="63452" href="Demos.HSP-markdown.html#63452" class="Bound">ğ‘¨</a> <a id="63454" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="63456" href="Demos.HSP-markdown.html#63456" class="Bound">kA</a> <a id="63459" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="63461" href="Demos.HSP-markdown.html#63461" class="Bound">BimgOfA</a><a id="63468" class="Symbol">)</a> <a id="63470" href="Demos.HSP-markdown.html#63470" class="Bound">Ï</a> <a id="63472" class="Symbol">=</a> <a id="63474" href="Demos.HSP-markdown.html#63878" class="Function">BâŠ§pq</a>
  <a id="63481" class="Keyword">where</a>
  <a id="63489" href="Demos.HSP-markdown.html#63489" class="Function">IH</a> <a id="63492" class="Symbol">:</a> <a id="63494" href="Demos.HSP-markdown.html#63452" class="Bound">ğ‘¨</a> <a id="63496" href="Demos.HSP-markdown.html#52152" class="Function Operator">âŠ§</a> <a id="63498" class="Symbol">(</a><a id="63499" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="63501" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="63504" href="Demos.HSP-markdown.html#63367" class="Bound">q</a><a id="63505" class="Symbol">)</a>
  <a id="63509" href="Demos.HSP-markdown.html#63489" class="Function">IH</a> <a id="63512" class="Symbol">=</a> <a id="63514" href="Demos.HSP-markdown.html#63447" class="Bound">Ïƒ</a> <a id="63516" href="Demos.HSP-markdown.html#63452" class="Bound">ğ‘¨</a> <a id="63518" href="Demos.HSP-markdown.html#63456" class="Bound">kA</a>
  <a id="63523" class="Keyword">open</a> <a id="63528" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="63540" href="Demos.HSP-markdown.html#63452" class="Bound">ğ‘¨</a> <a id="63542" class="Keyword">using</a> <a id="63548" class="Symbol">()</a> <a id="63551" class="Keyword">renaming</a> <a id="63560" class="Symbol">(</a> <a id="63562" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="63566" class="Symbol">to</a> <a id="63569" class="Function Operator">âŸ¦_âŸ§â‚</a><a id="63573" class="Symbol">)</a>
  <a id="63577" class="Keyword">open</a> <a id="63582" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="63594" href="Demos.HSP-markdown.html#63449" class="Bound">ğ‘©</a> <a id="63596" class="Keyword">using</a> <a id="63602" class="Symbol">(</a> <a id="63604" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="63608" class="Symbol">)</a>
  <a id="63612" class="Keyword">open</a> <a id="63617" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="63624" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="63627" href="Demos.HSP-markdown.html#63449" class="Bound">ğ‘©</a> <a id="63629" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="63631" class="Keyword">using</a> <a id="63637" class="Symbol">(</a> <a id="63639" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="63643" class="Symbol">)</a>
  <a id="63647" class="Keyword">open</a> <a id="63652" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="63668" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="63671" href="Demos.HSP-markdown.html#63449" class="Bound">ğ‘©</a> <a id="63673" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>

  <a id="63678" href="Demos.HSP-markdown.html#63678" class="Function">Ï†</a> <a id="63680" class="Symbol">:</a> <a id="63682" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="63686" href="Demos.HSP-markdown.html#63452" class="Bound">ğ‘¨</a> <a id="63688" href="Demos.HSP-markdown.html#63449" class="Bound">ğ‘©</a>
  <a id="63692" href="Demos.HSP-markdown.html#63678" class="Function">Ï†</a> <a id="63694" class="Symbol">=</a> <a id="63696" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="63698" href="Demos.HSP-markdown.html#63461" class="Bound">BimgOfA</a> <a id="63706" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="63710" href="Demos.HSP-markdown.html#63710" class="Function">Ï†E</a> <a id="63713" class="Symbol">:</a> <a id="63715" href="Demos.HSP-markdown.html#14743" class="Function">IsSurjective</a> <a id="63728" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="63730" href="Demos.HSP-markdown.html#63678" class="Function">Ï†</a> <a id="63732" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="63736" href="Demos.HSP-markdown.html#63710" class="Function">Ï†E</a> <a id="63739" class="Symbol">=</a> <a id="63741" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="63743" href="Demos.HSP-markdown.html#63461" class="Bound">BimgOfA</a> <a id="63751" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>
  <a id="63755" href="Demos.HSP-markdown.html#63755" class="Function">Ï†â»Â¹</a> <a id="63759" class="Symbol">:</a> <a id="63761" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="63764" href="Demos.HSP-markdown.html#63449" class="Bound">ğ‘©</a> <a id="63766" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a> <a id="63768" class="Symbol">â†’</a> <a id="63770" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="63773" href="Demos.HSP-markdown.html#63452" class="Bound">ğ‘¨</a> <a id="63775" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a>
  <a id="63779" href="Demos.HSP-markdown.html#63755" class="Function">Ï†â»Â¹</a> <a id="63783" class="Symbol">=</a> <a id="63785" href="Demos.HSP-markdown.html#14827" class="Function">SurjInv</a> <a id="63793" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="63795" href="Demos.HSP-markdown.html#63678" class="Function">Ï†</a> <a id="63797" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="63799" href="Demos.HSP-markdown.html#63710" class="Function">Ï†E</a>

  <a id="63805" href="Demos.HSP-markdown.html#63805" class="Function">Î¶</a> <a id="63807" class="Symbol">:</a> <a id="63809" class="Symbol">âˆ€</a> <a id="63811" href="Demos.HSP-markdown.html#63811" class="Bound">x</a> <a id="63813" class="Symbol">â†’</a> <a id="63815" class="Symbol">(</a><a id="63816" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="63818" href="Demos.HSP-markdown.html#63678" class="Function">Ï†</a> <a id="63820" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="63822" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="63826" class="Symbol">(</a><a id="63827" href="Demos.HSP-markdown.html#63755" class="Function">Ï†â»Â¹</a> <a id="63831" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="63833" href="Demos.HSP-markdown.html#63470" class="Bound">Ï</a><a id="63834" class="Symbol">)</a> <a id="63836" href="Demos.HSP-markdown.html#63811" class="Bound">x</a> <a id="63838" class="Symbol">)</a> <a id="63840" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="63842" href="Demos.HSP-markdown.html#63470" class="Bound">Ï</a> <a id="63844" href="Demos.HSP-markdown.html#63811" class="Bound">x</a>
  <a id="63848" href="Demos.HSP-markdown.html#63805" class="Function">Î¶</a> <a id="63850" class="Symbol">=</a> <a id="63852" class="Symbol">Î»</a> <a id="63854" href="Demos.HSP-markdown.html#63854" class="Bound">_</a> <a id="63856" class="Symbol">â†’</a> <a id="63858" href="Demos.HSP-markdown.html#13043" class="Function">InvIsInverseÊ³</a> <a id="63872" href="Demos.HSP-markdown.html#63710" class="Function">Ï†E</a>

  <a id="63878" href="Demos.HSP-markdown.html#63878" class="Function">BâŠ§pq</a> <a id="63883" class="Symbol">:</a> <a id="63885" class="Symbol">(</a><a id="63886" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="63888" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="63890" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="63892" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="63896" href="Demos.HSP-markdown.html#63470" class="Bound">Ï</a><a id="63897" class="Symbol">)</a> <a id="63899" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="63901" class="Symbol">(</a><a id="63902" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="63904" href="Demos.HSP-markdown.html#63367" class="Bound">q</a> <a id="63906" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="63908" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="63912" href="Demos.HSP-markdown.html#63470" class="Bound">Ï</a><a id="63913" class="Symbol">)</a>
  <a id="63917" href="Demos.HSP-markdown.html#63878" class="Function">BâŠ§pq</a> <a id="63922" class="Symbol">=</a> <a id="63924" href="Relation.Binary.Reasoning.Base.Single.html#1916" class="Function Operator">begin</a>
         <a id="63939" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="63941" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="63943" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="63945" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="63949" href="Demos.HSP-markdown.html#63470" class="Bound">Ï</a>                                <a id="63982" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a> <a id="63986" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="63991" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="63993" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="63995" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="63997" href="Demos.HSP-markdown.html#63805" class="Function">Î¶</a>                 <a id="64015" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
         <a id="64026" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="64028" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="64030" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="64032" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64036" class="Symbol">(Î»</a> <a id="64039" href="Demos.HSP-markdown.html#64039" class="Bound">x</a> <a id="64041" class="Symbol">â†’</a> <a id="64043" class="Symbol">(</a><a id="64044" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64046" href="Demos.HSP-markdown.html#63678" class="Function">Ï†</a> <a id="64048" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64050" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64054" class="Symbol">(</a><a id="64055" href="Demos.HSP-markdown.html#63755" class="Function">Ï†â»Â¹</a> <a id="64059" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="64061" href="Demos.HSP-markdown.html#63470" class="Bound">Ï</a><a id="64062" class="Symbol">)</a> <a id="64064" href="Demos.HSP-markdown.html#64039" class="Bound">x</a><a id="64065" class="Symbol">))</a>  <a id="64069" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">â‰ˆË˜âŸ¨</a> <a id="64073" href="Demos.HSP-markdown.html#48759" class="Function">comm-hom-term</a> <a id="64087" href="Demos.HSP-markdown.html#63678" class="Function">Ï†</a> <a id="64089" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="64091" class="Symbol">(</a><a id="64092" href="Demos.HSP-markdown.html#63755" class="Function">Ï†â»Â¹</a> <a id="64096" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="64098" href="Demos.HSP-markdown.html#63470" class="Bound">Ï</a><a id="64099" class="Symbol">)</a>  <a id="64102" href="Relation.Binary.Reasoning.Setoid.html#1153" class="Function">âŸ©</a>
         <a id="64113" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64115" href="Demos.HSP-markdown.html#63678" class="Function">Ï†</a> <a id="64117" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64119" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64123" class="Symbol">(</a><a id="64124" href="Demos.HSP-markdown.html#63569" class="Function Operator">âŸ¦</a> <a id="64126" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="64128" href="Demos.HSP-markdown.html#63569" class="Function Operator">âŸ§â‚</a> <a id="64131" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64135" class="Symbol">(</a><a id="64136" href="Demos.HSP-markdown.html#63755" class="Function">Ï†â»Â¹</a> <a id="64140" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="64142" href="Demos.HSP-markdown.html#63470" class="Bound">Ï</a><a id="64143" class="Symbol">))</a>           <a id="64156" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a> <a id="64159" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="64164" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64166" href="Demos.HSP-markdown.html#63678" class="Function">Ï†</a> <a id="64168" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64170" class="Symbol">(</a><a id="64171" href="Demos.HSP-markdown.html#63489" class="Function">IH</a> <a id="64174" class="Symbol">(</a><a id="64175" href="Demos.HSP-markdown.html#63755" class="Function">Ï†â»Â¹</a> <a id="64179" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="64181" href="Demos.HSP-markdown.html#63470" class="Bound">Ï</a><a id="64182" class="Symbol">))</a>     <a id="64189" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
         <a id="64200" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64202" href="Demos.HSP-markdown.html#63678" class="Function">Ï†</a> <a id="64204" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64206" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64210" class="Symbol">(</a><a id="64211" href="Demos.HSP-markdown.html#63569" class="Function Operator">âŸ¦</a> <a id="64213" href="Demos.HSP-markdown.html#63367" class="Bound">q</a> <a id="64215" href="Demos.HSP-markdown.html#63569" class="Function Operator">âŸ§â‚</a> <a id="64218" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64222" class="Symbol">(</a><a id="64223" href="Demos.HSP-markdown.html#63755" class="Function">Ï†â»Â¹</a> <a id="64227" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="64229" href="Demos.HSP-markdown.html#63470" class="Bound">Ï</a><a id="64230" class="Symbol">))</a>           <a id="64243" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a> <a id="64246" href="Demos.HSP-markdown.html#48759" class="Function">comm-hom-term</a> <a id="64260" href="Demos.HSP-markdown.html#63678" class="Function">Ï†</a> <a id="64262" href="Demos.HSP-markdown.html#63367" class="Bound">q</a> <a id="64264" class="Symbol">(</a><a id="64265" href="Demos.HSP-markdown.html#63755" class="Function">Ï†â»Â¹</a> <a id="64269" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="64271" href="Demos.HSP-markdown.html#63470" class="Bound">Ï</a><a id="64272" class="Symbol">)</a>   <a id="64276" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
         <a id="64287" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="64289" href="Demos.HSP-markdown.html#63367" class="Bound">q</a> <a id="64291" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="64293" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64297" class="Symbol">(Î»</a> <a id="64300" href="Demos.HSP-markdown.html#64300" class="Bound">x</a> <a id="64302" class="Symbol">â†’</a> <a id="64304" class="Symbol">(</a><a id="64305" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64307" href="Demos.HSP-markdown.html#63678" class="Function">Ï†</a> <a id="64309" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="64311" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64315" class="Symbol">(</a><a id="64316" href="Demos.HSP-markdown.html#63755" class="Function">Ï†â»Â¹</a> <a id="64320" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="64322" href="Demos.HSP-markdown.html#63470" class="Bound">Ï</a><a id="64323" class="Symbol">)</a> <a id="64325" href="Demos.HSP-markdown.html#64300" class="Bound">x</a><a id="64326" class="Symbol">))</a>  <a id="64330" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">â‰ˆâŸ¨</a> <a id="64333" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="64338" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="64340" href="Demos.HSP-markdown.html#63367" class="Bound">q</a> <a id="64342" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="64344" href="Demos.HSP-markdown.html#63805" class="Function">Î¶</a>                  <a id="64363" href="Relation.Binary.Reasoning.Setoid.html#1052" class="Function">âŸ©</a>
         <a id="64374" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="64376" href="Demos.HSP-markdown.html#63367" class="Bound">q</a> <a id="64378" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="64380" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="64384" href="Demos.HSP-markdown.html#63470" class="Bound">Ï</a>                                <a id="64417" href="Relation.Binary.Reasoning.Base.Single.html#2555" class="Function Operator">âˆ</a>
</pre>


##### <a id="s-preserves-identities">S preserves identities</a>

<pre class="Agda">

 <a id="64512" href="Demos.HSP-markdown.html#64512" class="Function">S-id1</a> <a id="64518" class="Symbol">:</a> <a id="64520" href="Demos.HSP-markdown.html#63325" class="Bound">ğ’¦</a> <a id="64522" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="64524" class="Symbol">(</a><a id="64525" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="64527" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="64530" href="Demos.HSP-markdown.html#63367" class="Bound">q</a><a id="64531" class="Symbol">)</a> <a id="64533" class="Symbol">â†’</a> <a id="64535" class="Symbol">(</a><a id="64536" href="Demos.HSP-markdown.html#57272" class="Function">S</a> <a id="64538" class="Symbol">{</a><a id="64539" class="Argument">Î²</a> <a id="64541" class="Symbol">=</a> <a id="64543" href="Demos.HSP-markdown.html#63342" class="Bound">Î±</a><a id="64544" class="Symbol">}{</a><a id="64546" href="Demos.HSP-markdown.html#63344" class="Bound">Ïáµƒ</a><a id="64548" class="Symbol">}</a> <a id="64550" href="Demos.HSP-markdown.html#63361" class="Bound">â„“</a> <a id="64552" href="Demos.HSP-markdown.html#63325" class="Bound">ğ’¦</a><a id="64553" class="Symbol">)</a> <a id="64555" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="64557" class="Symbol">(</a><a id="64558" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="64560" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="64563" href="Demos.HSP-markdown.html#63367" class="Bound">q</a><a id="64564" class="Symbol">)</a>
 <a id="64567" href="Demos.HSP-markdown.html#64512" class="Function">S-id1</a> <a id="64573" href="Demos.HSP-markdown.html#64573" class="Bound">Ïƒ</a> <a id="64575" href="Demos.HSP-markdown.html#64575" class="Bound">ğ‘©</a> <a id="64577" class="Symbol">(</a><a id="64578" href="Demos.HSP-markdown.html#64578" class="Bound">ğ‘¨</a> <a id="64580" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="64582" href="Demos.HSP-markdown.html#64582" class="Bound">kA</a> <a id="64585" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="64587" href="Demos.HSP-markdown.html#64587" class="Bound">Bâ‰¤A</a><a id="64590" class="Symbol">)</a> <a id="64592" class="Symbol">=</a> <a id="64594" href="Demos.HSP-markdown.html#60310" class="Function">âŠ§-S-invar</a><a id="64603" class="Symbol">{</a><a id="64604" class="Argument">p</a> <a id="64606" class="Symbol">=</a> <a id="64608" href="Demos.HSP-markdown.html#63365" class="Bound">p</a><a id="64609" class="Symbol">}{</a><a id="64611" href="Demos.HSP-markdown.html#63367" class="Bound">q</a><a id="64612" class="Symbol">}</a> <a id="64614" class="Symbol">(</a><a id="64615" href="Demos.HSP-markdown.html#64573" class="Bound">Ïƒ</a> <a id="64617" href="Demos.HSP-markdown.html#64578" class="Bound">ğ‘¨</a> <a id="64619" href="Demos.HSP-markdown.html#64582" class="Bound">kA</a><a id="64621" class="Symbol">)</a> <a id="64623" href="Demos.HSP-markdown.html#64587" class="Bound">Bâ‰¤A</a>

</pre>

The obvious converse is barely worth the bits needed to formalize it, but we will use it below, so let's prove it now.

<pre class="Agda">

 <a id="64775" href="Demos.HSP-markdown.html#64775" class="Function">S-id2</a> <a id="64781" class="Symbol">:</a> <a id="64783" href="Demos.HSP-markdown.html#57272" class="Function">S</a> <a id="64785" href="Demos.HSP-markdown.html#63361" class="Bound">â„“</a> <a id="64787" href="Demos.HSP-markdown.html#63325" class="Bound">ğ’¦</a> <a id="64789" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="64791" class="Symbol">(</a><a id="64792" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="64794" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="64797" href="Demos.HSP-markdown.html#63367" class="Bound">q</a><a id="64798" class="Symbol">)</a> <a id="64800" class="Symbol">â†’</a> <a id="64802" href="Demos.HSP-markdown.html#63325" class="Bound">ğ’¦</a> <a id="64804" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="64806" class="Symbol">(</a><a id="64807" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="64809" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="64812" href="Demos.HSP-markdown.html#63367" class="Bound">q</a><a id="64813" class="Symbol">)</a>
 <a id="64816" href="Demos.HSP-markdown.html#64775" class="Function">S-id2</a> <a id="64822" href="Demos.HSP-markdown.html#64822" class="Bound">Spq</a> <a id="64826" href="Demos.HSP-markdown.html#64826" class="Bound">ğ‘¨</a> <a id="64828" href="Demos.HSP-markdown.html#64828" class="Bound">kA</a> <a id="64831" class="Symbol">=</a> <a id="64833" href="Demos.HSP-markdown.html#64822" class="Bound">Spq</a> <a id="64837" href="Demos.HSP-markdown.html#64826" class="Bound">ğ‘¨</a> <a id="64839" class="Symbol">(</a><a id="64840" href="Demos.HSP-markdown.html#64826" class="Bound">ğ‘¨</a> <a id="64842" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="64844" class="Symbol">(</a><a id="64845" href="Demos.HSP-markdown.html#64828" class="Bound">kA</a> <a id="64848" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="64850" href="Demos.HSP-markdown.html#39173" class="Function">â‰¤-reflexive</a><a id="64861" class="Symbol">))</a>
</pre>


##### <a id="p-preserves-identities">P preserves identities</a>

<pre class="Agda">

 <a id="64957" href="Demos.HSP-markdown.html#64957" class="Function">P-id1</a> <a id="64963" class="Symbol">:</a> <a id="64965" class="Symbol">âˆ€{</a><a id="64967" href="Demos.HSP-markdown.html#64967" class="Bound">Î¹</a><a id="64968" class="Symbol">}</a> <a id="64970" class="Symbol">â†’</a> <a id="64972" href="Demos.HSP-markdown.html#63325" class="Bound">ğ’¦</a> <a id="64974" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="64976" class="Symbol">(</a><a id="64977" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="64979" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="64982" href="Demos.HSP-markdown.html#63367" class="Bound">q</a><a id="64983" class="Symbol">)</a> <a id="64985" class="Symbol">â†’</a> <a id="64987" href="Demos.HSP-markdown.html#57398" class="Function">P</a> <a id="64989" class="Symbol">{</a><a id="64990" class="Argument">Î²</a> <a id="64992" class="Symbol">=</a> <a id="64994" href="Demos.HSP-markdown.html#63342" class="Bound">Î±</a><a id="64995" class="Symbol">}{</a><a id="64997" href="Demos.HSP-markdown.html#63344" class="Bound">Ïáµƒ</a><a id="64999" class="Symbol">}</a><a id="65000" href="Demos.HSP-markdown.html#63361" class="Bound">â„“</a> <a id="65002" href="Demos.HSP-markdown.html#64967" class="Bound">Î¹</a> <a id="65004" href="Demos.HSP-markdown.html#63325" class="Bound">ğ’¦</a> <a id="65006" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="65008" class="Symbol">(</a><a id="65009" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="65011" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="65014" href="Demos.HSP-markdown.html#63367" class="Bound">q</a><a id="65015" class="Symbol">)</a>
 <a id="65018" href="Demos.HSP-markdown.html#64957" class="Function">P-id1</a> <a id="65024" href="Demos.HSP-markdown.html#65024" class="Bound">Ïƒ</a> <a id="65026" href="Demos.HSP-markdown.html#65026" class="Bound">ğ‘¨</a> <a id="65028" class="Symbol">(</a><a id="65029" href="Demos.HSP-markdown.html#65029" class="Bound">I</a> <a id="65031" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65033" href="Demos.HSP-markdown.html#65033" class="Bound">ğ’œ</a> <a id="65035" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65037" href="Demos.HSP-markdown.html#65037" class="Bound">kA</a> <a id="65040" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65042" href="Demos.HSP-markdown.html#65042" class="Bound">Aâ‰…â¨…A</a><a id="65046" class="Symbol">)</a> <a id="65048" class="Symbol">=</a> <a id="65050" href="Demos.HSP-markdown.html#59331" class="Function">âŠ§-I-invar</a> <a id="65060" href="Demos.HSP-markdown.html#65026" class="Bound">ğ‘¨</a> <a id="65062" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="65064" href="Demos.HSP-markdown.html#63367" class="Bound">q</a> <a id="65066" href="Demos.HSP-markdown.html#65144" class="Function">IH</a> <a id="65069" class="Symbol">(</a><a id="65070" href="Demos.HSP-markdown.html#35904" class="Function">â‰…-sym</a> <a id="65076" href="Demos.HSP-markdown.html#65042" class="Bound">Aâ‰…â¨…A</a><a id="65080" class="Symbol">)</a>
  <a id="65084" class="Keyword">where</a>
  <a id="65092" href="Demos.HSP-markdown.html#65092" class="Function">ih</a> <a id="65095" class="Symbol">:</a> <a id="65097" class="Symbol">âˆ€</a> <a id="65099" href="Demos.HSP-markdown.html#65099" class="Bound">i</a> <a id="65101" class="Symbol">â†’</a> <a id="65103" href="Demos.HSP-markdown.html#65033" class="Bound">ğ’œ</a> <a id="65105" href="Demos.HSP-markdown.html#65099" class="Bound">i</a> <a id="65107" href="Demos.HSP-markdown.html#52152" class="Function Operator">âŠ§</a> <a id="65109" class="Symbol">(</a><a id="65110" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="65112" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="65115" href="Demos.HSP-markdown.html#63367" class="Bound">q</a><a id="65116" class="Symbol">)</a>
  <a id="65120" href="Demos.HSP-markdown.html#65092" class="Function">ih</a> <a id="65123" href="Demos.HSP-markdown.html#65123" class="Bound">i</a> <a id="65125" class="Symbol">=</a> <a id="65127" href="Demos.HSP-markdown.html#65024" class="Bound">Ïƒ</a> <a id="65129" class="Symbol">(</a><a id="65130" href="Demos.HSP-markdown.html#65033" class="Bound">ğ’œ</a> <a id="65132" href="Demos.HSP-markdown.html#65123" class="Bound">i</a><a id="65133" class="Symbol">)</a> <a id="65135" class="Symbol">(</a><a id="65136" href="Demos.HSP-markdown.html#65037" class="Bound">kA</a> <a id="65139" href="Demos.HSP-markdown.html#65123" class="Bound">i</a><a id="65140" class="Symbol">)</a>
  <a id="65144" href="Demos.HSP-markdown.html#65144" class="Function">IH</a> <a id="65147" class="Symbol">:</a> <a id="65149" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="65151" href="Demos.HSP-markdown.html#65033" class="Bound">ğ’œ</a> <a id="65153" href="Demos.HSP-markdown.html#52152" class="Function Operator">âŠ§</a> <a id="65155" class="Symbol">(</a><a id="65156" href="Demos.HSP-markdown.html#63365" class="Bound">p</a> <a id="65158" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="65161" href="Demos.HSP-markdown.html#63367" class="Bound">q</a><a id="65162" class="Symbol">)</a>
  <a id="65166" href="Demos.HSP-markdown.html#65144" class="Function">IH</a> <a id="65169" class="Symbol">=</a> <a id="65171" href="Demos.HSP-markdown.html#61282" class="Function">âŠ§-P-invar</a> <a id="65181" href="Demos.HSP-markdown.html#65033" class="Bound">ğ’œ</a> <a id="65183" class="Symbol">{</a><a id="65184" href="Demos.HSP-markdown.html#63365" class="Bound">p</a><a id="65185" class="Symbol">}{</a><a id="65187" href="Demos.HSP-markdown.html#63367" class="Bound">q</a><a id="65188" class="Symbol">}</a> <a id="65190" href="Demos.HSP-markdown.html#65092" class="Function">ih</a>
</pre>


##### <a id="v-preserves-identities">V preserves identities</a>

Finally, we prove the analogous preservation lemmas for the closure operator `V`.

<pre class="Agda">

<a id="65368" class="Keyword">module</a> <a id="65375" href="Demos.HSP-markdown.html#65375" class="Module">_</a> <a id="65377" class="Symbol">{</a><a id="65378" href="Demos.HSP-markdown.html#65378" class="Bound">X</a> <a id="65380" class="Symbol">:</a> <a id="65382" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="65387" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="65388" class="Symbol">}{</a><a id="65390" href="Demos.HSP-markdown.html#65390" class="Bound">Î¹</a> <a id="65392" class="Symbol">:</a> <a id="65394" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="65399" class="Symbol">}{</a><a id="65401" href="Demos.HSP-markdown.html#65401" class="Bound">ğ’¦</a> <a id="65403" class="Symbol">:</a> <a id="65405" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="65409" class="Symbol">(</a><a id="65410" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="65418" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="65420" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="65422" class="Symbol">)(</a><a id="65424" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="65426" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="65428" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="65431" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="65433" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="65436" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="65437" class="Symbol">)}{</a><a id="65440" href="Demos.HSP-markdown.html#65440" class="Bound">p</a> <a id="65442" href="Demos.HSP-markdown.html#65442" class="Bound">q</a> <a id="65444" class="Symbol">:</a> <a id="65446" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="65451" href="Demos.HSP-markdown.html#65378" class="Bound">X</a><a id="65452" class="Symbol">}</a> <a id="65454" class="Keyword">where</a>
 <a id="65461" class="Keyword">private</a>
  <a id="65471" href="Demos.HSP-markdown.html#65471" class="Function">aâ„“Î¹</a> <a id="65475" class="Symbol">=</a> <a id="65477" href="Demos.HSP-markdown.html#65418" class="Bound">Î±</a> <a id="65479" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="65481" href="Demos.HSP-markdown.html#65420" class="Bound">Ïáµƒ</a> <a id="65484" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="65486" href="Demos.HSP-markdown.html#65436" class="Bound">â„“</a> <a id="65488" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="65490" href="Demos.HSP-markdown.html#65390" class="Bound">Î¹</a>

 <a id="65494" href="Demos.HSP-markdown.html#65494" class="Function">V-id1</a> <a id="65500" class="Symbol">:</a> <a id="65502" href="Demos.HSP-markdown.html#65401" class="Bound">ğ’¦</a> <a id="65504" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="65506" class="Symbol">(</a><a id="65507" href="Demos.HSP-markdown.html#65440" class="Bound">p</a> <a id="65509" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="65512" href="Demos.HSP-markdown.html#65442" class="Bound">q</a><a id="65513" class="Symbol">)</a> <a id="65515" class="Symbol">â†’</a> <a id="65517" href="Demos.HSP-markdown.html#57932" class="Function">V</a> <a id="65519" href="Demos.HSP-markdown.html#65436" class="Bound">â„“</a> <a id="65521" href="Demos.HSP-markdown.html#65390" class="Bound">Î¹</a> <a id="65523" href="Demos.HSP-markdown.html#65401" class="Bound">ğ’¦</a> <a id="65525" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="65527" class="Symbol">(</a><a id="65528" href="Demos.HSP-markdown.html#65440" class="Bound">p</a> <a id="65530" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="65533" href="Demos.HSP-markdown.html#65442" class="Bound">q</a><a id="65534" class="Symbol">)</a>
 <a id="65537" href="Demos.HSP-markdown.html#65494" class="Function">V-id1</a> <a id="65543" href="Demos.HSP-markdown.html#65543" class="Bound">Ïƒ</a> <a id="65545" href="Demos.HSP-markdown.html#65545" class="Bound">ğ‘©</a> <a id="65547" class="Symbol">(</a><a id="65548" href="Demos.HSP-markdown.html#65548" class="Bound">ğ‘¨</a> <a id="65550" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65552" class="Symbol">(</a><a id="65553" href="Demos.HSP-markdown.html#65553" class="Bound">â¨…A</a> <a id="65556" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65558" href="Demos.HSP-markdown.html#65558" class="Bound">pâ¨…A</a> <a id="65562" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65564" href="Demos.HSP-markdown.html#65564" class="Bound">Aâ‰¤â¨…A</a><a id="65568" class="Symbol">)</a> <a id="65570" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65572" href="Demos.HSP-markdown.html#65572" class="Bound">BimgA</a><a id="65577" class="Symbol">)</a> <a id="65579" class="Symbol">=</a>
  <a id="65583" href="Demos.HSP-markdown.html#63387" class="Function">H-id1</a><a id="65588" class="Symbol">{</a><a id="65589" class="Argument">â„“</a> <a id="65591" class="Symbol">=</a> <a id="65593" href="Demos.HSP-markdown.html#65471" class="Function">aâ„“Î¹</a><a id="65596" class="Symbol">}{</a><a id="65598" class="Argument">ğ’¦</a> <a id="65600" class="Symbol">=</a> <a id="65602" href="Demos.HSP-markdown.html#57272" class="Function">S</a> <a id="65604" href="Demos.HSP-markdown.html#65471" class="Function">aâ„“Î¹</a> <a id="65608" class="Symbol">(</a><a id="65609" href="Demos.HSP-markdown.html#57398" class="Function">P</a> <a id="65611" class="Symbol">{</a><a id="65612" class="Argument">Î²</a> <a id="65614" class="Symbol">=</a> <a id="65616" href="Demos.HSP-markdown.html#65418" class="Bound">Î±</a><a id="65617" class="Symbol">}{</a><a id="65619" href="Demos.HSP-markdown.html#65420" class="Bound">Ïáµƒ</a><a id="65621" class="Symbol">}</a><a id="65622" href="Demos.HSP-markdown.html#65436" class="Bound">â„“</a> <a id="65624" href="Demos.HSP-markdown.html#65390" class="Bound">Î¹</a> <a id="65626" href="Demos.HSP-markdown.html#65401" class="Bound">ğ’¦</a><a id="65627" class="Symbol">)}{</a><a id="65630" class="Argument">p</a> <a id="65632" class="Symbol">=</a> <a id="65634" href="Demos.HSP-markdown.html#65440" class="Bound">p</a><a id="65635" class="Symbol">}{</a><a id="65637" href="Demos.HSP-markdown.html#65442" class="Bound">q</a><a id="65638" class="Symbol">}</a> <a id="65640" href="Demos.HSP-markdown.html#65748" class="Function">spKâŠ§pq</a> <a id="65647" href="Demos.HSP-markdown.html#65545" class="Bound">ğ‘©</a> <a id="65649" class="Symbol">(</a><a id="65650" href="Demos.HSP-markdown.html#65548" class="Bound">ğ‘¨</a> <a id="65652" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65654" class="Symbol">(</a><a id="65655" href="Demos.HSP-markdown.html#65681" class="Function">spA</a> <a id="65659" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65661" href="Demos.HSP-markdown.html#65572" class="Bound">BimgA</a><a id="65666" class="Symbol">))</a>
   <a id="65672" class="Keyword">where</a>
   <a id="65681" href="Demos.HSP-markdown.html#65681" class="Function">spA</a> <a id="65685" class="Symbol">:</a> <a id="65687" href="Demos.HSP-markdown.html#65548" class="Bound">ğ‘¨</a> <a id="65689" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="65691" href="Demos.HSP-markdown.html#57272" class="Function">S</a> <a id="65693" href="Demos.HSP-markdown.html#65471" class="Function">aâ„“Î¹</a> <a id="65697" class="Symbol">(</a><a id="65698" href="Demos.HSP-markdown.html#57398" class="Function">P</a> <a id="65700" class="Symbol">{</a><a id="65701" class="Argument">Î²</a> <a id="65703" class="Symbol">=</a> <a id="65705" href="Demos.HSP-markdown.html#65418" class="Bound">Î±</a><a id="65706" class="Symbol">}{</a><a id="65708" href="Demos.HSP-markdown.html#65420" class="Bound">Ïáµƒ</a><a id="65710" class="Symbol">}</a><a id="65711" href="Demos.HSP-markdown.html#65436" class="Bound">â„“</a> <a id="65713" href="Demos.HSP-markdown.html#65390" class="Bound">Î¹</a> <a id="65715" href="Demos.HSP-markdown.html#65401" class="Bound">ğ’¦</a><a id="65716" class="Symbol">)</a>
   <a id="65721" href="Demos.HSP-markdown.html#65681" class="Function">spA</a> <a id="65725" class="Symbol">=</a> <a id="65727" href="Demos.HSP-markdown.html#65553" class="Bound">â¨…A</a> <a id="65730" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65732" class="Symbol">(</a><a id="65733" href="Demos.HSP-markdown.html#65558" class="Bound">pâ¨…A</a> <a id="65737" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="65739" href="Demos.HSP-markdown.html#65564" class="Bound">Aâ‰¤â¨…A</a><a id="65743" class="Symbol">)</a>
   <a id="65748" href="Demos.HSP-markdown.html#65748" class="Function">spKâŠ§pq</a> <a id="65755" class="Symbol">:</a> <a id="65757" href="Demos.HSP-markdown.html#57272" class="Function">S</a> <a id="65759" href="Demos.HSP-markdown.html#65471" class="Function">aâ„“Î¹</a> <a id="65763" class="Symbol">(</a><a id="65764" href="Demos.HSP-markdown.html#57398" class="Function">P</a> <a id="65766" href="Demos.HSP-markdown.html#65436" class="Bound">â„“</a> <a id="65768" href="Demos.HSP-markdown.html#65390" class="Bound">Î¹</a> <a id="65770" href="Demos.HSP-markdown.html#65401" class="Bound">ğ’¦</a><a id="65771" class="Symbol">)</a> <a id="65773" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="65775" class="Symbol">(</a><a id="65776" href="Demos.HSP-markdown.html#65440" class="Bound">p</a> <a id="65778" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="65781" href="Demos.HSP-markdown.html#65442" class="Bound">q</a><a id="65782" class="Symbol">)</a>
   <a id="65787" href="Demos.HSP-markdown.html#65748" class="Function">spKâŠ§pq</a> <a id="65794" class="Symbol">=</a> <a id="65796" href="Demos.HSP-markdown.html#64512" class="Function">S-id1</a><a id="65801" class="Symbol">{</a><a id="65802" class="Argument">â„“</a> <a id="65804" class="Symbol">=</a> <a id="65806" href="Demos.HSP-markdown.html#65471" class="Function">aâ„“Î¹</a><a id="65809" class="Symbol">}{</a><a id="65811" class="Argument">p</a> <a id="65813" class="Symbol">=</a> <a id="65815" href="Demos.HSP-markdown.html#65440" class="Bound">p</a><a id="65816" class="Symbol">}{</a><a id="65818" href="Demos.HSP-markdown.html#65442" class="Bound">q</a><a id="65819" class="Symbol">}</a> <a id="65821" class="Symbol">(</a><a id="65822" href="Demos.HSP-markdown.html#64957" class="Function">P-id1</a><a id="65827" class="Symbol">{</a><a id="65828" class="Argument">â„“</a> <a id="65830" class="Symbol">=</a> <a id="65832" href="Demos.HSP-markdown.html#65436" class="Bound">â„“</a><a id="65833" class="Symbol">}</a> <a id="65835" class="Symbol">{</a><a id="65836" class="Argument">ğ’¦</a> <a id="65838" class="Symbol">=</a> <a id="65840" href="Demos.HSP-markdown.html#65401" class="Bound">ğ’¦</a><a id="65841" class="Symbol">}{</a><a id="65843" class="Argument">p</a> <a id="65845" class="Symbol">=</a> <a id="65847" href="Demos.HSP-markdown.html#65440" class="Bound">p</a><a id="65848" class="Symbol">}{</a><a id="65850" href="Demos.HSP-markdown.html#65442" class="Bound">q</a><a id="65851" class="Symbol">}</a> <a id="65853" href="Demos.HSP-markdown.html#65543" class="Bound">Ïƒ</a><a id="65854" class="Symbol">)</a>
</pre>

#### <a id="th-k-subset-th-v">Th ğ’¦ âŠ† Th (V ğ’¦)</a>

From `V-id1` it follows that if ğ’¦ is a class of algebras, then the set of identities modeled by the algebras in `ğ’¦` is contained in the set of identities modeled by the algebras in `V ğ’¦`.  In other terms, `Th ğ’¦ âŠ† Th (V ğ’¦)`.  We formalize this observation as follows.

<pre class="Agda">

 <a id="66202" href="Demos.HSP-markdown.html#66202" class="Function">classIds-âŠ†-VIds</a> <a id="66218" class="Symbol">:</a> <a id="66220" href="Demos.HSP-markdown.html#65401" class="Bound">ğ’¦</a> <a id="66222" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="66224" class="Symbol">(</a><a id="66225" href="Demos.HSP-markdown.html#65440" class="Bound">p</a> <a id="66227" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="66230" href="Demos.HSP-markdown.html#65442" class="Bound">q</a><a id="66231" class="Symbol">)</a>  <a id="66234" class="Symbol">â†’</a> <a id="66236" class="Symbol">(</a><a id="66237" href="Demos.HSP-markdown.html#65440" class="Bound">p</a> <a id="66239" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="66241" href="Demos.HSP-markdown.html#65442" class="Bound">q</a><a id="66242" class="Symbol">)</a> <a id="66244" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="66246" href="Demos.HSP-markdown.html#52854" class="Function">Th</a> <a id="66249" class="Symbol">(</a><a id="66250" href="Demos.HSP-markdown.html#57932" class="Function">V</a> <a id="66252" href="Demos.HSP-markdown.html#65436" class="Bound">â„“</a> <a id="66254" href="Demos.HSP-markdown.html#65390" class="Bound">Î¹</a> <a id="66256" href="Demos.HSP-markdown.html#65401" class="Bound">ğ’¦</a><a id="66257" class="Symbol">)</a>
 <a id="66260" href="Demos.HSP-markdown.html#66202" class="Function">classIds-âŠ†-VIds</a> <a id="66276" href="Demos.HSP-markdown.html#66276" class="Bound">pKq</a> <a id="66280" href="Demos.HSP-markdown.html#66280" class="Bound">ğ‘¨</a> <a id="66282" class="Symbol">=</a> <a id="66284" href="Demos.HSP-markdown.html#65494" class="Function">V-id1</a> <a id="66290" href="Demos.HSP-markdown.html#66276" class="Bound">pKq</a> <a id="66294" href="Demos.HSP-markdown.html#66280" class="Bound">ğ‘¨</a>
</pre>




<!-- ------------------------------------------------------------------------------------- -->

## <a id="free-algebras">Free Algebras</a>

### <a id="the-absolutely-free-algebra-tx">The absolutely free algebra ğ‘» X</a>

The term algebra `ğ‘» X` is *absolutely free* (or *universal*, or *initial*) for algebras in the signature `ğ‘†`. That is, for every ğ‘†-algebra `ğ‘¨`, the following hold.

1. Every function from `ğ‘‹` to `âˆ£ ğ‘¨ âˆ£` lifts to a homomorphism from `ğ‘» X` to `ğ‘¨`.
2. The homomorphism that exists by item 1 is unique.

We now prove this in [Agda][], starting with the fact that every map from `X` to `âˆ£ ğ‘¨ âˆ£` lifts to a map from `âˆ£ ğ‘» X âˆ£` to `âˆ£ ğ‘¨ âˆ£` in a natural way, by induction on the structure of the given term.

<pre class="Agda">

<a id="67043" class="Keyword">module</a> <a id="67050" href="Demos.HSP-markdown.html#67050" class="Module">_</a> <a id="67052" class="Symbol">{</a><a id="67053" href="Demos.HSP-markdown.html#67053" class="Bound">X</a> <a id="67055" class="Symbol">:</a> <a id="67057" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="67062" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="67063" class="Symbol">}{</a><a id="67065" href="Demos.HSP-markdown.html#67065" class="Bound">ğ‘¨</a> <a id="67067" class="Symbol">:</a> <a id="67069" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="67077" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="67079" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="67081" class="Symbol">}(</a><a id="67083" href="Demos.HSP-markdown.html#67083" class="Bound">h</a> <a id="67085" class="Symbol">:</a> <a id="67087" href="Demos.HSP-markdown.html#67053" class="Bound">X</a> <a id="67089" class="Symbol">â†’</a> <a id="67091" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="67094" href="Demos.HSP-markdown.html#67065" class="Bound">ğ‘¨</a> <a id="67096" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a><a id="67097" class="Symbol">)</a> <a id="67099" class="Keyword">where</a>
 <a id="67106" class="Keyword">open</a> <a id="67111" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="67118" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="67121" href="Demos.HSP-markdown.html#67065" class="Bound">ğ‘¨</a> <a id="67123" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="67125" class="Keyword">using</a> <a id="67131" class="Symbol">(</a> <a id="67133" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="67137" class="Symbol">;</a> <a id="67139" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="67149" class="Symbol">;</a> <a id="67151" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="67156" class="Symbol">;</a> <a id="67158" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="67164" class="Symbol">)</a>

 <a id="67168" href="Demos.HSP-markdown.html#67168" class="Function">free-lift</a> <a id="67178" class="Symbol">:</a> <a id="67180" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="67183" href="Demos.HSP-markdown.html#44305" class="Function">ğ‘»</a> <a id="67185" href="Demos.HSP-markdown.html#67053" class="Bound">X</a> <a id="67187" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a> <a id="67189" class="Symbol">â†’</a> <a id="67191" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="67194" href="Demos.HSP-markdown.html#67065" class="Bound">ğ‘¨</a> <a id="67196" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a>
 <a id="67199" href="Demos.HSP-markdown.html#67168" class="Function">free-lift</a> <a id="67209" class="Symbol">(</a><a id="67210" href="Demos.HSP-markdown.html#41570" class="InductiveConstructor">â„Š</a> <a id="67212" href="Demos.HSP-markdown.html#67212" class="Bound">x</a><a id="67213" class="Symbol">)</a> <a id="67215" class="Symbol">=</a> <a id="67217" href="Demos.HSP-markdown.html#67083" class="Bound">h</a> <a id="67219" href="Demos.HSP-markdown.html#67212" class="Bound">x</a>
 <a id="67222" href="Demos.HSP-markdown.html#67168" class="Function">free-lift</a> <a id="67232" class="Symbol">(</a><a id="67233" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="67238" href="Demos.HSP-markdown.html#67238" class="Bound">f</a> <a id="67240" href="Demos.HSP-markdown.html#67240" class="Bound">t</a><a id="67241" class="Symbol">)</a> <a id="67243" class="Symbol">=</a> <a id="67245" class="Symbol">(</a><a id="67246" href="Demos.HSP-markdown.html#67238" class="Bound">f</a> <a id="67248" href="Demos.HSP-markdown.html#23812" class="Function Operator">Ì‚</a> <a id="67250" href="Demos.HSP-markdown.html#67065" class="Bound">ğ‘¨</a><a id="67251" class="Symbol">)</a> <a id="67253" class="Symbol">(Î»</a> <a id="67256" href="Demos.HSP-markdown.html#67256" class="Bound">i</a> <a id="67258" class="Symbol">â†’</a> <a id="67260" href="Demos.HSP-markdown.html#67168" class="Function">free-lift</a> <a id="67270" class="Symbol">(</a><a id="67271" href="Demos.HSP-markdown.html#67240" class="Bound">t</a> <a id="67273" href="Demos.HSP-markdown.html#67256" class="Bound">i</a><a id="67274" class="Symbol">))</a>

 <a id="67279" href="Demos.HSP-markdown.html#67279" class="Function">free-lift-func</a> <a id="67294" class="Symbol">:</a> <a id="67296" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="67299" href="Demos.HSP-markdown.html#44305" class="Function">ğ‘»</a> <a id="67301" href="Demos.HSP-markdown.html#67053" class="Bound">X</a> <a id="67303" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="67305" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="67307" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="67310" href="Demos.HSP-markdown.html#67065" class="Bound">ğ‘¨</a> <a id="67312" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>
 <a id="67315" href="Demos.HSP-markdown.html#67279" class="Function">free-lift-func</a> <a id="67330" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="67334" href="Demos.HSP-markdown.html#67334" class="Bound">x</a> <a id="67336" class="Symbol">=</a> <a id="67338" href="Demos.HSP-markdown.html#67168" class="Function">free-lift</a> <a id="67348" href="Demos.HSP-markdown.html#67334" class="Bound">x</a>
 <a id="67351" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="67356" href="Demos.HSP-markdown.html#67279" class="Function">free-lift-func</a> <a id="67371" class="Symbol">=</a> <a id="67373" href="Demos.HSP-markdown.html#67390" class="Function">flcong</a>
  <a id="67382" class="Keyword">where</a>
  <a id="67390" href="Demos.HSP-markdown.html#67390" class="Function">flcong</a> <a id="67397" class="Symbol">:</a> <a id="67399" class="Symbol">âˆ€</a> <a id="67401" class="Symbol">{</a><a id="67402" href="Demos.HSP-markdown.html#67402" class="Bound">s</a> <a id="67404" href="Demos.HSP-markdown.html#67404" class="Bound">t</a><a id="67405" class="Symbol">}</a> <a id="67407" class="Symbol">â†’</a> <a id="67409" href="Demos.HSP-markdown.html#67402" class="Bound">s</a> <a id="67411" href="Demos.HSP-markdown.html#42517" class="Datatype Operator">â‰</a> <a id="67413" href="Demos.HSP-markdown.html#67404" class="Bound">t</a> <a id="67415" class="Symbol">â†’</a>  <a id="67418" href="Demos.HSP-markdown.html#67168" class="Function">free-lift</a> <a id="67428" href="Demos.HSP-markdown.html#67402" class="Bound">s</a> <a id="67430" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="67432" href="Demos.HSP-markdown.html#67168" class="Function">free-lift</a> <a id="67442" href="Demos.HSP-markdown.html#67404" class="Bound">t</a>
  <a id="67446" href="Demos.HSP-markdown.html#67390" class="Function">flcong</a> <a id="67453" class="Symbol">(</a><a id="67454" href="Demos.HSP-markdown.html#42561" class="InductiveConstructor">_â‰_.rfl</a> <a id="67462" href="Demos.HSP-markdown.html#67462" class="Bound">x</a><a id="67463" class="Symbol">)</a> <a id="67465" class="Symbol">=</a> <a id="67467" href="Relation.Binary.Structures.html#1646" class="Function">reflexive</a> <a id="67477" class="Symbol">(</a><a id="67478" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">â‰¡.cong</a> <a id="67485" href="Demos.HSP-markdown.html#67083" class="Bound">h</a> <a id="67487" href="Demos.HSP-markdown.html#67462" class="Bound">x</a><a id="67488" class="Symbol">)</a>
  <a id="67492" href="Demos.HSP-markdown.html#67390" class="Function">flcong</a> <a id="67499" class="Symbol">(</a><a id="67500" href="Demos.HSP-markdown.html#42603" class="InductiveConstructor">_â‰_.gnl</a> <a id="67508" href="Demos.HSP-markdown.html#67508" class="Bound">x</a><a id="67509" class="Symbol">)</a> <a id="67511" class="Symbol">=</a> <a id="67513" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="67518" class="Symbol">(</a><a id="67519" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="67526" href="Demos.HSP-markdown.html#67065" class="Bound">ğ‘¨</a><a id="67527" class="Symbol">)</a> <a id="67529" class="Symbol">(</a><a id="67530" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="67537" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="67539" class="Symbol">(Î»</a> <a id="67542" href="Demos.HSP-markdown.html#67542" class="Bound">i</a> <a id="67544" class="Symbol">â†’</a> <a id="67546" href="Demos.HSP-markdown.html#67390" class="Function">flcong</a> <a id="67553" class="Symbol">(</a><a id="67554" href="Demos.HSP-markdown.html#67508" class="Bound">x</a> <a id="67556" href="Demos.HSP-markdown.html#67542" class="Bound">i</a><a id="67557" class="Symbol">)))</a>

</pre>

Naturally, at the base step of the induction, when the term has the form `generator`
x, the free lift of `h` agrees with `h`.  For the inductive step, when the
given term has the form `node f t`, the free lift is defined as
follows: Assuming (the induction hypothesis) that we know the image of each
subterm `t i` under the free lift of `h`, define the free lift at the
full term by applying `f Ì‚ ğ‘¨` to the images of the subterms.

The free lift so defined is a homomorphism by construction. Indeed, here is the trivial proof.

<pre class="Agda">

 <a id="68117" href="Demos.HSP-markdown.html#68117" class="Function">lift-hom</a> <a id="68126" class="Symbol">:</a> <a id="68128" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="68132" class="Symbol">(</a><a id="68133" href="Demos.HSP-markdown.html#44305" class="Function">ğ‘»</a> <a id="68135" href="Demos.HSP-markdown.html#67053" class="Bound">X</a><a id="68136" class="Symbol">)</a> <a id="68138" href="Demos.HSP-markdown.html#67065" class="Bound">ğ‘¨</a>
 <a id="68141" href="Demos.HSP-markdown.html#68117" class="Function">lift-hom</a> <a id="68150" class="Symbol">=</a> <a id="68152" href="Demos.HSP-markdown.html#67279" class="Function">free-lift-func</a> <a id="68167" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="68169" href="Demos.HSP-markdown.html#68375" class="Function">hhom</a>
  <a id="68176" class="Keyword">where</a>
  <a id="68184" href="Demos.HSP-markdown.html#68184" class="Function">hfunc</a> <a id="68190" class="Symbol">:</a> <a id="68192" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="68195" href="Demos.HSP-markdown.html#44305" class="Function">ğ‘»</a> <a id="68197" href="Demos.HSP-markdown.html#67053" class="Bound">X</a> <a id="68199" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="68201" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="68203" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="68206" href="Demos.HSP-markdown.html#67065" class="Bound">ğ‘¨</a> <a id="68208" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>
  <a id="68212" href="Demos.HSP-markdown.html#68184" class="Function">hfunc</a> <a id="68218" class="Symbol">=</a> <a id="68220" href="Demos.HSP-markdown.html#67279" class="Function">free-lift-func</a>

  <a id="68238" href="Demos.HSP-markdown.html#68238" class="Function">hcomp</a> <a id="68244" class="Symbol">:</a> <a id="68246" href="Demos.HSP-markdown.html#26807" class="Function">compatible-map</a> <a id="68261" class="Symbol">(</a><a id="68262" href="Demos.HSP-markdown.html#44305" class="Function">ğ‘»</a> <a id="68264" href="Demos.HSP-markdown.html#67053" class="Bound">X</a><a id="68265" class="Symbol">)</a> <a id="68267" href="Demos.HSP-markdown.html#67065" class="Bound">ğ‘¨</a> <a id="68269" href="Demos.HSP-markdown.html#67279" class="Function">free-lift-func</a>
  <a id="68286" href="Demos.HSP-markdown.html#68238" class="Function">hcomp</a> <a id="68292" class="Symbol">{</a><a id="68293" href="Demos.HSP-markdown.html#68293" class="Bound">f</a><a id="68294" class="Symbol">}{</a><a id="68296" href="Demos.HSP-markdown.html#68296" class="Bound">a</a><a id="68297" class="Symbol">}</a> <a id="68299" class="Symbol">=</a> <a id="68301" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="68306" class="Symbol">(</a><a id="68307" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="68314" href="Demos.HSP-markdown.html#67065" class="Bound">ğ‘¨</a><a id="68315" class="Symbol">)</a> <a id="68317" class="Symbol">(</a><a id="68318" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="68325" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="68327" class="Symbol">(Î»</a> <a id="68330" href="Demos.HSP-markdown.html#68330" class="Bound">i</a> <a id="68332" class="Symbol">â†’</a> <a id="68334" class="Symbol">(</a><a id="68335" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="68340" href="Demos.HSP-markdown.html#67279" class="Function">free-lift-func</a><a id="68354" class="Symbol">){</a><a id="68356" href="Demos.HSP-markdown.html#68296" class="Bound">a</a> <a id="68358" href="Demos.HSP-markdown.html#68330" class="Bound">i</a><a id="68359" class="Symbol">}</a> <a id="68361" href="Demos.HSP-markdown.html#42925" class="Function">â‰-isRefl</a><a id="68369" class="Symbol">))</a>

  <a id="68375" href="Demos.HSP-markdown.html#68375" class="Function">hhom</a> <a id="68380" class="Symbol">:</a> <a id="68382" href="Demos.HSP-markdown.html#26964" class="Record">IsHom</a> <a id="68388" class="Symbol">(</a><a id="68389" href="Demos.HSP-markdown.html#44305" class="Function">ğ‘»</a> <a id="68391" href="Demos.HSP-markdown.html#67053" class="Bound">X</a><a id="68392" class="Symbol">)</a> <a id="68394" href="Demos.HSP-markdown.html#67065" class="Bound">ğ‘¨</a> <a id="68396" href="Demos.HSP-markdown.html#68184" class="Function">hfunc</a>
  <a id="68404" href="Demos.HSP-markdown.html#68375" class="Function">hhom</a> <a id="68409" class="Symbol">=</a> <a id="68411" href="Demos.HSP-markdown.html#27033" class="InductiveConstructor">mkhom</a> <a id="68417" class="Symbol">(Î»{</a><a id="68420" href="Demos.HSP-markdown.html#68420" class="Bound">f</a><a id="68421" class="Symbol">}{</a><a id="68423" href="Demos.HSP-markdown.html#68423" class="Bound">a</a><a id="68424" class="Symbol">}</a> <a id="68426" class="Symbol">â†’</a> <a id="68428" href="Demos.HSP-markdown.html#68238" class="Function">hcomp</a><a id="68433" class="Symbol">{</a><a id="68434" href="Demos.HSP-markdown.html#68420" class="Bound">f</a><a id="68435" class="Symbol">}{</a><a id="68437" href="Demos.HSP-markdown.html#68423" class="Bound">a</a><a id="68438" class="Symbol">})</a>


<a id="68443" class="Keyword">module</a> <a id="68450" href="Demos.HSP-markdown.html#68450" class="Module">_</a> <a id="68452" class="Symbol">{</a><a id="68453" href="Demos.HSP-markdown.html#68453" class="Bound">X</a> <a id="68455" class="Symbol">:</a> <a id="68457" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="68462" href="Demos.HSP-markdown.html#8503" class="Generalizable">Ï‡</a><a id="68463" class="Symbol">}{</a><a id="68465" href="Demos.HSP-markdown.html#68465" class="Bound">ğ‘¨</a> <a id="68467" class="Symbol">:</a> <a id="68469" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="68477" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="68479" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="68481" class="Symbol">}</a> <a id="68483" class="Keyword">where</a>
 <a id="68490" class="Keyword">open</a> <a id="68495" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="68502" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="68505" href="Demos.HSP-markdown.html#68465" class="Bound">ğ‘¨</a> <a id="68507" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="68509" class="Keyword">using</a> <a id="68515" class="Symbol">(</a> <a id="68517" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="68521" class="Symbol">;</a> <a id="68523" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="68528" class="Symbol">)</a>
 <a id="68531" class="Keyword">open</a> <a id="68536" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="68548" href="Demos.HSP-markdown.html#68465" class="Bound">ğ‘¨</a> <a id="68550" class="Keyword">using</a> <a id="68556" class="Symbol">(</a> <a id="68558" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="68562" class="Symbol">)</a>

 <a id="68566" href="Demos.HSP-markdown.html#68566" class="Function">free-lift-interp</a> <a id="68583" class="Symbol">:</a> <a id="68585" class="Symbol">(</a><a id="68586" href="Demos.HSP-markdown.html#68586" class="Bound">Î·</a> <a id="68588" class="Symbol">:</a> <a id="68590" href="Demos.HSP-markdown.html#68453" class="Bound">X</a> <a id="68592" class="Symbol">â†’</a> <a id="68594" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="68597" href="Demos.HSP-markdown.html#68465" class="Bound">ğ‘¨</a> <a id="68599" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a><a id="68600" class="Symbol">)(</a><a id="68602" href="Demos.HSP-markdown.html#68602" class="Bound">p</a> <a id="68604" class="Symbol">:</a> <a id="68606" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="68611" href="Demos.HSP-markdown.html#68453" class="Bound">X</a><a id="68612" class="Symbol">)</a> <a id="68614" class="Symbol">â†’</a> <a id="68616" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="68618" href="Demos.HSP-markdown.html#68602" class="Bound">p</a> <a id="68620" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="68622" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="68626" href="Demos.HSP-markdown.html#68586" class="Bound">Î·</a> <a id="68628" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="68630" class="Symbol">(</a><a id="68631" href="Demos.HSP-markdown.html#67168" class="Function">free-lift</a> <a id="68641" class="Symbol">{</a><a id="68642" class="Argument">ğ‘¨</a> <a id="68644" class="Symbol">=</a> <a id="68646" href="Demos.HSP-markdown.html#68465" class="Bound">ğ‘¨</a><a id="68647" class="Symbol">}</a> <a id="68649" href="Demos.HSP-markdown.html#68586" class="Bound">Î·</a><a id="68650" class="Symbol">)</a> <a id="68652" href="Demos.HSP-markdown.html#68602" class="Bound">p</a>
 <a id="68655" href="Demos.HSP-markdown.html#68566" class="Function">free-lift-interp</a> <a id="68672" href="Demos.HSP-markdown.html#68672" class="Bound">Î·</a> <a id="68674" class="Symbol">(</a><a id="68675" href="Demos.HSP-markdown.html#41570" class="InductiveConstructor">â„Š</a> <a id="68677" href="Demos.HSP-markdown.html#68677" class="Bound">x</a><a id="68678" class="Symbol">)</a> <a id="68680" class="Symbol">=</a> <a id="68682" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
 <a id="68688" href="Demos.HSP-markdown.html#68566" class="Function">free-lift-interp</a> <a id="68705" href="Demos.HSP-markdown.html#68705" class="Bound">Î·</a> <a id="68707" class="Symbol">(</a><a id="68708" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="68713" href="Demos.HSP-markdown.html#68713" class="Bound">f</a> <a id="68715" href="Demos.HSP-markdown.html#68715" class="Bound">t</a><a id="68716" class="Symbol">)</a> <a id="68718" class="Symbol">=</a> <a id="68720" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="68725" class="Symbol">(</a><a id="68726" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="68733" href="Demos.HSP-markdown.html#68465" class="Bound">ğ‘¨</a><a id="68734" class="Symbol">)</a> <a id="68736" class="Symbol">(</a><a id="68737" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="68744" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="68746" class="Symbol">(</a><a id="68747" href="Demos.HSP-markdown.html#68566" class="Function">free-lift-interp</a> <a id="68764" href="Demos.HSP-markdown.html#68705" class="Bound">Î·</a><a id="68765" class="Symbol">)</a> <a id="68767" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="68769" href="Demos.HSP-markdown.html#68715" class="Bound">t</a><a id="68770" class="Symbol">)</a>
</pre>

### <a id="the-relatively-free-algebra-f">The relatively free algebra ğ”½</a>

We now define the algebra `ğ”½[ X ]`, which plays the role of the relatively free algebra, along with the natural epimorphism `epiğ”½ : epi (ğ‘» X) ğ”½[ X ]` from `ğ‘» X` to `ğ”½[ X ]`.

<pre class="Agda">

<a id="69050" class="Keyword">module</a> <a id="FreeAlgebra"></a><a id="69057" href="Demos.HSP-markdown.html#69057" class="Module">FreeAlgebra</a> <a id="69069" class="Symbol">{</a><a id="69070" href="Demos.HSP-markdown.html#69070" class="Bound">Ï‡</a> <a id="69072" class="Symbol">:</a> <a id="69074" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="69079" class="Symbol">}{</a><a id="69081" href="Demos.HSP-markdown.html#69081" class="Bound">Î¹</a> <a id="69083" class="Symbol">:</a> <a id="69085" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="69090" class="Symbol">}{</a><a id="69092" href="Demos.HSP-markdown.html#69092" class="Bound">I</a> <a id="69094" class="Symbol">:</a> <a id="69096" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="69101" href="Demos.HSP-markdown.html#69081" class="Bound">Î¹</a><a id="69102" class="Symbol">}(</a><a id="69104" href="Demos.HSP-markdown.html#69104" class="Bound">â„°</a> <a id="69106" class="Symbol">:</a> <a id="69108" href="Demos.HSP-markdown.html#69092" class="Bound">I</a> <a id="69110" class="Symbol">â†’</a> <a id="69112" href="Demos.HSP-markdown.html#50995" class="Record">Eq</a><a id="69114" class="Symbol">)</a> <a id="69116" class="Keyword">where</a>
 <a id="69123" class="Keyword">open</a> <a id="69128" href="Demos.HSP-markdown.html#22491" class="Module">Algebra</a>

 <a id="FreeAlgebra.FreeDomain"></a><a id="69138" href="Demos.HSP-markdown.html#69138" class="Function">FreeDomain</a> <a id="69149" class="Symbol">:</a> <a id="69151" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="69156" href="Demos.HSP-markdown.html#69070" class="Bound">Ï‡</a> <a id="69158" class="Symbol">â†’</a> <a id="69160" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="69167" class="Symbol">_</a> <a id="69169" class="Symbol">_</a>
 <a id="69172" href="Demos.HSP-markdown.html#69138" class="Function">FreeDomain</a> <a id="69183" href="Demos.HSP-markdown.html#69183" class="Bound">X</a> <a id="69185" class="Symbol">=</a> <a id="69187" class="Keyword">record</a>  <a id="69195" class="Symbol">{</a> <a id="69197" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a>        <a id="69212" class="Symbol">=</a> <a id="69214" href="Demos.HSP-markdown.html#41529" class="Datatype">Term</a> <a id="69219" href="Demos.HSP-markdown.html#69183" class="Bound">X</a>
                        <a id="69245" class="Symbol">;</a> <a id="69247" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a>            <a id="69262" class="Symbol">=</a> <a id="69264" href="Demos.HSP-markdown.html#69104" class="Bound">â„°</a> <a id="69266" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="69268" href="Demos.HSP-markdown.html#69183" class="Bound">X</a> <a id="69270" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹_â‰ˆ_</a>
                        <a id="69299" class="Symbol">;</a> <a id="69301" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a>  <a id="69316" class="Symbol">=</a> <a id="69318" href="Demos.HSP-markdown.html#53861" class="Function">âŠ¢â–¹â‰ˆIsEquiv</a> <a id="69329" class="Symbol">}</a>
</pre>

The interpretation of an operation is simply the operation itself.
This works since `â„° âŠ¢ X â–¹_â‰ˆ_` is a congruence.

<pre class="Agda">

 <a id="FreeAlgebra.FreeInterp"></a><a id="69473" href="Demos.HSP-markdown.html#69473" class="Function">FreeInterp</a> <a id="69484" class="Symbol">:</a> <a id="69486" class="Symbol">âˆ€</a> <a id="69488" class="Symbol">{</a><a id="69489" href="Demos.HSP-markdown.html#69489" class="Bound">X</a><a id="69490" class="Symbol">}</a> <a id="69492" class="Symbol">â†’</a> <a id="69494" href="Demos.HSP-markdown.html#20917" class="Function Operator">âŸ¨</a> <a id="69496" href="Demos.HSP-markdown.html#7550" class="Bound">ğ‘†</a> <a id="69498" href="Demos.HSP-markdown.html#20917" class="Function Operator">âŸ©</a> <a id="69500" class="Symbol">(</a><a id="69501" href="Demos.HSP-markdown.html#69138" class="Function">FreeDomain</a> <a id="69512" href="Demos.HSP-markdown.html#69489" class="Bound">X</a><a id="69513" class="Symbol">)</a> <a id="69515" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="69517" href="Demos.HSP-markdown.html#69138" class="Function">FreeDomain</a> <a id="69528" href="Demos.HSP-markdown.html#69489" class="Bound">X</a>
 <a id="69531" href="Demos.HSP-markdown.html#69473" class="Function">FreeInterp</a> <a id="69542" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="69546" class="Symbol">(</a><a id="69547" href="Demos.HSP-markdown.html#69547" class="Bound">f</a> <a id="69549" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="69551" href="Demos.HSP-markdown.html#69551" class="Bound">ts</a><a id="69553" class="Symbol">)</a> <a id="69555" class="Symbol">=</a> <a id="69557" href="Demos.HSP-markdown.html#41586" class="InductiveConstructor">node</a> <a id="69562" href="Demos.HSP-markdown.html#69547" class="Bound">f</a> <a id="69564" href="Demos.HSP-markdown.html#69551" class="Bound">ts</a>
 <a id="69568" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="69573" href="Demos.HSP-markdown.html#69473" class="Function">FreeInterp</a> <a id="69584" class="Symbol">(</a><a id="69585" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="69592" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="69594" href="Demos.HSP-markdown.html#69594" class="Bound">h</a><a id="69595" class="Symbol">)</a> <a id="69597" class="Symbol">=</a> <a id="69599" href="Demos.HSP-markdown.html#53502" class="InductiveConstructor">app</a> <a id="69603" href="Demos.HSP-markdown.html#69594" class="Bound">h</a>

 <a id="FreeAlgebra.ğ”½[_]"></a><a id="69607" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[_]</a> <a id="69612" class="Symbol">:</a> <a id="69614" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="69619" href="Demos.HSP-markdown.html#69070" class="Bound">Ï‡</a> <a id="69621" class="Symbol">â†’</a> <a id="69623" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="69631" class="Symbol">(</a><a id="69632" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="69635" href="Demos.HSP-markdown.html#69070" class="Bound">Ï‡</a><a id="69636" class="Symbol">)</a> <a id="69638" class="Symbol">(</a><a id="69639" href="Demos.HSP-markdown.html#69081" class="Bound">Î¹</a> <a id="69641" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="69643" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="69646" href="Demos.HSP-markdown.html#69070" class="Bound">Ï‡</a><a id="69647" class="Symbol">)</a>
 <a id="69650" href="Demos.HSP-markdown.html#22547" class="Field">Domain</a> <a id="69657" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="69660" href="Demos.HSP-markdown.html#69660" class="Bound">X</a> <a id="69662" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="69664" class="Symbol">=</a> <a id="69666" href="Demos.HSP-markdown.html#69138" class="Function">FreeDomain</a> <a id="69677" href="Demos.HSP-markdown.html#69660" class="Bound">X</a>
 <a id="69680" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="69687" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="69690" href="Demos.HSP-markdown.html#69690" class="Bound">X</a> <a id="69692" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="69694" class="Symbol">=</a> <a id="69696" href="Demos.HSP-markdown.html#69473" class="Function">FreeInterp</a>
</pre>

### <a id="basic-properties-of-free-algebras">Basic properties of free algebras</a>

In the code below, `X` will play the role of an arbitrary collection of variables; it would suffice to take `X` to be the cardinality of the largest algebra in ğ’¦, but since we don't know that cardinality, we leave `X` aribtrary for now.

<pre class="Agda">

<a id="70056" class="Keyword">module</a> <a id="FreeHom"></a><a id="70063" href="Demos.HSP-markdown.html#70063" class="Module">FreeHom</a> <a id="70071" class="Symbol">(</a><a id="70072" href="Demos.HSP-markdown.html#70072" class="Bound">Ï‡</a> <a id="70074" class="Symbol">:</a> <a id="70076" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="70081" class="Symbol">)</a> <a id="70083" class="Symbol">{</a><a id="70084" href="Demos.HSP-markdown.html#70084" class="Bound">ğ’¦</a> <a id="70086" class="Symbol">:</a> <a id="70088" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="70092" class="Symbol">(</a><a id="70093" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="70101" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="70103" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="70105" class="Symbol">)</a> <a id="70107" class="Symbol">(</a><a id="70108" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="70110" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="70112" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="70115" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="70117" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="70120" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="70121" class="Symbol">)}</a> <a id="70124" class="Keyword">where</a>
 <a id="70131" class="Keyword">private</a> <a id="FreeHom.Î¹"></a><a id="70139" href="Demos.HSP-markdown.html#70139" class="Function">Î¹</a> <a id="70141" class="Symbol">=</a> <a id="70143" href="Demos.HSP-markdown.html#37603" class="Function">ov</a><a id="70145" class="Symbol">(</a><a id="70146" href="Demos.HSP-markdown.html#70072" class="Bound">Ï‡</a> <a id="70148" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="70150" href="Demos.HSP-markdown.html#70101" class="Bound">Î±</a> <a id="70152" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="70154" href="Demos.HSP-markdown.html#70103" class="Bound">Ïáµƒ</a> <a id="70157" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="70159" href="Demos.HSP-markdown.html#70120" class="Bound">â„“</a><a id="70160" class="Symbol">)</a>
 <a id="70163" class="Keyword">open</a> <a id="70168" href="Demos.HSP-markdown.html#50995" class="Module">Eq</a>

 <a id="FreeHom.â„"></a><a id="70173" href="Demos.HSP-markdown.html#70173" class="Function">â„</a> <a id="70175" class="Symbol">:</a> <a id="70177" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="70182" href="Demos.HSP-markdown.html#70139" class="Function">Î¹</a> <a id="70184" class="Comment">-- indexes the collection of equations modeled by ğ’¦</a>
 <a id="70237" href="Demos.HSP-markdown.html#70173" class="Function">â„</a> <a id="70239" class="Symbol">=</a> <a id="70241" href="Data.Product.html#916" class="Function">Î£[</a> <a id="70244" href="Demos.HSP-markdown.html#70244" class="Bound">eq</a> <a id="70247" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="70249" href="Demos.HSP-markdown.html#50995" class="Record">Eq</a><a id="70251" class="Symbol">{</a><a id="70252" href="Demos.HSP-markdown.html#70072" class="Bound">Ï‡</a><a id="70253" class="Symbol">}</a> <a id="70255" href="Data.Product.html#916" class="Function">]</a> <a id="70257" href="Demos.HSP-markdown.html#70084" class="Bound">ğ’¦</a> <a id="70259" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="70261" class="Symbol">((</a><a id="70263" href="Demos.HSP-markdown.html#51068" class="Field">lhs</a> <a id="70267" href="Demos.HSP-markdown.html#70244" class="Bound">eq</a><a id="70269" class="Symbol">)</a> <a id="70271" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="70274" class="Symbol">(</a><a id="70275" href="Demos.HSP-markdown.html#51094" class="Field">rhs</a> <a id="70279" href="Demos.HSP-markdown.html#70244" class="Bound">eq</a><a id="70281" class="Symbol">))</a>

 <a id="FreeHom.â„°"></a><a id="70286" href="Demos.HSP-markdown.html#70286" class="Function">â„°</a> <a id="70288" class="Symbol">:</a> <a id="70290" href="Demos.HSP-markdown.html#70173" class="Function">â„</a> <a id="70292" class="Symbol">â†’</a> <a id="70294" href="Demos.HSP-markdown.html#50995" class="Record">Eq</a>
 <a id="70298" href="Demos.HSP-markdown.html#70286" class="Function">â„°</a> <a id="70300" class="Symbol">(</a><a id="70301" href="Demos.HSP-markdown.html#70301" class="Bound">eqv</a> <a id="70305" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="70307" href="Demos.HSP-markdown.html#70307" class="Bound">p</a><a id="70308" class="Symbol">)</a> <a id="70310" class="Symbol">=</a> <a id="70312" href="Demos.HSP-markdown.html#70301" class="Bound">eqv</a>

 <a id="FreeHom.â„°âŠ¢[_]â–¹Thğ’¦"></a><a id="70318" href="Demos.HSP-markdown.html#70318" class="Function Operator">â„°âŠ¢[_]â–¹Thğ’¦</a> <a id="70328" class="Symbol">:</a> <a id="70330" class="Symbol">(</a><a id="70331" href="Demos.HSP-markdown.html#70331" class="Bound">X</a> <a id="70333" class="Symbol">:</a> <a id="70335" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="70340" href="Demos.HSP-markdown.html#70072" class="Bound">Ï‡</a><a id="70341" class="Symbol">)</a> <a id="70343" class="Symbol">â†’</a> <a id="70345" class="Symbol">âˆ€{</a><a id="70347" href="Demos.HSP-markdown.html#70347" class="Bound">p</a> <a id="70349" href="Demos.HSP-markdown.html#70349" class="Bound">q</a><a id="70350" class="Symbol">}</a> <a id="70352" class="Symbol">â†’</a> <a id="70354" href="Demos.HSP-markdown.html#70286" class="Function">â„°</a> <a id="70356" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="70358" href="Demos.HSP-markdown.html#70331" class="Bound">X</a> <a id="70360" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹</a> <a id="70362" href="Demos.HSP-markdown.html#70347" class="Bound">p</a> <a id="70364" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â‰ˆ</a> <a id="70366" href="Demos.HSP-markdown.html#70349" class="Bound">q</a> <a id="70368" class="Symbol">â†’</a> <a id="70370" href="Demos.HSP-markdown.html#70084" class="Bound">ğ’¦</a> <a id="70372" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="70374" class="Symbol">(</a><a id="70375" href="Demos.HSP-markdown.html#70347" class="Bound">p</a> <a id="70377" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="70380" href="Demos.HSP-markdown.html#70349" class="Bound">q</a><a id="70381" class="Symbol">)</a>
 <a id="70384" href="Demos.HSP-markdown.html#70318" class="Function Operator">â„°âŠ¢[</a> <a id="70388" href="Demos.HSP-markdown.html#70388" class="Bound">X</a> <a id="70390" href="Demos.HSP-markdown.html#70318" class="Function Operator">]â–¹Thğ’¦</a> <a id="70396" href="Demos.HSP-markdown.html#70396" class="Bound">x</a> <a id="70398" href="Demos.HSP-markdown.html#70398" class="Bound">ğ‘¨</a> <a id="70400" href="Demos.HSP-markdown.html#70400" class="Bound">kA</a> <a id="70403" class="Symbol">=</a> <a id="70405" href="Demos.HSP-markdown.html#54626" class="Function">sound</a> <a id="70411" class="Symbol">(Î»</a> <a id="70414" href="Demos.HSP-markdown.html#70414" class="Bound">i</a> <a id="70416" href="Demos.HSP-markdown.html#70416" class="Bound">Ï</a> <a id="70418" class="Symbol">â†’</a> <a id="70420" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="70422" href="Demos.HSP-markdown.html#70414" class="Bound">i</a> <a id="70424" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="70426" href="Demos.HSP-markdown.html#70398" class="Bound">ğ‘¨</a> <a id="70428" href="Demos.HSP-markdown.html#70400" class="Bound">kA</a> <a id="70431" href="Demos.HSP-markdown.html#70416" class="Bound">Ï</a><a id="70432" class="Symbol">)</a> <a id="70434" href="Demos.HSP-markdown.html#70396" class="Bound">x</a>
  <a id="70438" class="Keyword">where</a> <a id="70444" class="Keyword">open</a> <a id="70449" href="Demos.HSP-markdown.html#54303" class="Module">Soundness</a> <a id="70459" href="Demos.HSP-markdown.html#70286" class="Function">â„°</a> <a id="70461" href="Demos.HSP-markdown.html#70398" class="Bound">ğ‘¨</a>
 <a id="70464" class="Keyword">open</a> <a id="70469" href="Demos.HSP-markdown.html#69057" class="Module">FreeAlgebra</a> <a id="70481" class="Symbol">{</a><a id="70482" class="Argument">Î¹</a> <a id="70484" class="Symbol">=</a> <a id="70486" href="Demos.HSP-markdown.html#70139" class="Function">Î¹</a><a id="70487" class="Symbol">}{</a><a id="70489" class="Argument">I</a> <a id="70491" class="Symbol">=</a> <a id="70493" href="Demos.HSP-markdown.html#70173" class="Function">â„</a><a id="70494" class="Symbol">}</a> <a id="70496" href="Demos.HSP-markdown.html#70286" class="Function">â„°</a> <a id="70498" class="Keyword">using</a> <a id="70504" class="Symbol">(</a> <a id="70506" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[_]</a> <a id="70511" class="Symbol">)</a>
</pre>


#### <a id="the-natural-epimorphism-from-tx-to-f">The natural epimorphism from ğ‘» X to ğ”½[ X ]</a>
Next we define an epimorphism from `ğ‘» X` onto the relatively free algebra `ğ”½[ X ]`.  Of course, the kernel of this epimorphism will be the congruence of `ğ‘» X` defined by identities modeled by (`S ğ’¦`, hence) `ğ’¦`.

<pre class="Agda">

 <a id="FreeHom.epiğ”½[_]"></a><a id="70851" href="Demos.HSP-markdown.html#70851" class="Function Operator">epiğ”½[_]</a> <a id="70859" class="Symbol">:</a> <a id="70861" class="Symbol">(</a><a id="70862" href="Demos.HSP-markdown.html#70862" class="Bound">X</a> <a id="70864" class="Symbol">:</a> <a id="70866" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="70871" href="Demos.HSP-markdown.html#70072" class="Bound">Ï‡</a><a id="70872" class="Symbol">)</a> <a id="70874" class="Symbol">â†’</a> <a id="70876" href="Demos.HSP-markdown.html#27650" class="Function">epi</a> <a id="70880" class="Symbol">(</a><a id="70881" href="Demos.HSP-markdown.html#44305" class="Function">ğ‘»</a> <a id="70883" href="Demos.HSP-markdown.html#70862" class="Bound">X</a><a id="70884" class="Symbol">)</a> <a id="70886" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="70889" href="Demos.HSP-markdown.html#70862" class="Bound">X</a> <a id="70891" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a>
 <a id="70894" href="Demos.HSP-markdown.html#70851" class="Function Operator">epiğ”½[</a> <a id="70900" href="Demos.HSP-markdown.html#70900" class="Bound">X</a> <a id="70902" href="Demos.HSP-markdown.html#70851" class="Function Operator">]</a> <a id="70904" class="Symbol">=</a> <a id="70906" href="Demos.HSP-markdown.html#71308" class="Function">h</a> <a id="70908" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="70910" href="Demos.HSP-markdown.html#71357" class="Function">hepi</a>
  <a id="70917" class="Keyword">where</a>
  <a id="70925" class="Keyword">open</a> <a id="70930" href="Demos.HSP-markdown.html#22491" class="Module">Algebra</a> <a id="70938" class="Symbol">(</a><a id="70939" href="Demos.HSP-markdown.html#44305" class="Function">ğ‘»</a> <a id="70941" href="Demos.HSP-markdown.html#70900" class="Bound">X</a><a id="70942" class="Symbol">)</a> <a id="70944" class="Keyword">using</a> <a id="70950" class="Symbol">()</a> <a id="70953" class="Keyword">renaming</a> <a id="70962" class="Symbol">(</a><a id="70963" href="Demos.HSP-markdown.html#22547" class="Field">Domain</a> <a id="70970" class="Symbol">to</a> <a id="70973" class="Field">TX</a><a id="70975" class="Symbol">)</a>
  <a id="70979" class="Keyword">open</a> <a id="70984" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="70991" href="Demos.HSP-markdown.html#70973" class="Function">TX</a> <a id="70994" class="Keyword">using</a> <a id="71000" class="Symbol">()</a> <a id="71003" class="Keyword">renaming</a> <a id="71012" class="Symbol">(</a> <a id="71014" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="71018" class="Symbol">to</a> <a id="71021" class="Field Operator">_â‰ˆâ‚€_</a> <a id="71026" class="Symbol">;</a> <a id="71028" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="71033" class="Symbol">to</a> <a id="71036" class="Function">reflâ‚€</a> <a id="71042" class="Symbol">)</a>
  <a id="71046" class="Keyword">open</a> <a id="71051" href="Demos.HSP-markdown.html#22491" class="Module">Algebra</a> <a id="71059" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="71062" href="Demos.HSP-markdown.html#70900" class="Bound">X</a> <a id="71064" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="71066" class="Keyword">using</a> <a id="71072" class="Symbol">()</a> <a id="71075" class="Keyword">renaming</a> <a id="71084" class="Symbol">(</a> <a id="71086" href="Demos.HSP-markdown.html#22547" class="Field">Domain</a> <a id="71093" class="Symbol">to</a> <a id="71096" class="Field">F</a> <a id="71098" class="Symbol">)</a>
  <a id="71102" class="Keyword">open</a> <a id="71107" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="71114" href="Demos.HSP-markdown.html#71096" class="Function">F</a> <a id="71116" class="Keyword">using</a> <a id="71122" class="Symbol">()</a> <a id="71125" class="Keyword">renaming</a> <a id="71134" class="Symbol">(</a> <a id="71136" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a>  <a id="71141" class="Symbol">to</a> <a id="71144" class="Field Operator">_â‰ˆâ‚_</a> <a id="71149" class="Symbol">;</a> <a id="71151" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="71156" class="Symbol">to</a> <a id="71159" class="Function">reflâ‚</a> <a id="71165" class="Symbol">)</a>
  <a id="71169" class="Keyword">open</a> <a id="71174" href="Demos.HSP-markdown.html#42517" class="Module Operator">_â‰_</a>

  <a id="71181" href="Demos.HSP-markdown.html#71181" class="Function">c</a> <a id="71183" class="Symbol">:</a> <a id="71185" class="Symbol">âˆ€</a> <a id="71187" class="Symbol">{</a><a id="71188" href="Demos.HSP-markdown.html#71188" class="Bound">x</a> <a id="71190" href="Demos.HSP-markdown.html#71190" class="Bound">y</a><a id="71191" class="Symbol">}</a> <a id="71193" class="Symbol">â†’</a> <a id="71195" href="Demos.HSP-markdown.html#71188" class="Bound">x</a> <a id="71197" href="Demos.HSP-markdown.html#71021" class="Function Operator">â‰ˆâ‚€</a> <a id="71200" href="Demos.HSP-markdown.html#71190" class="Bound">y</a> <a id="71202" class="Symbol">â†’</a> <a id="71204" href="Demos.HSP-markdown.html#71188" class="Bound">x</a> <a id="71206" href="Demos.HSP-markdown.html#71144" class="Function Operator">â‰ˆâ‚</a> <a id="71209" href="Demos.HSP-markdown.html#71190" class="Bound">y</a>
  <a id="71213" href="Demos.HSP-markdown.html#71181" class="Function">c</a> <a id="71215" class="Symbol">(</a><a id="71216" href="Demos.HSP-markdown.html#42561" class="InductiveConstructor">rfl</a> <a id="71220" class="Symbol">{</a><a id="71221" href="Demos.HSP-markdown.html#71221" class="Bound">x</a><a id="71222" class="Symbol">}{</a><a id="71224" href="Demos.HSP-markdown.html#71224" class="Bound">y</a><a id="71225" class="Symbol">}</a> <a id="71227" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a><a id="71233" class="Symbol">)</a> <a id="71235" class="Symbol">=</a> <a id="71237" href="Demos.HSP-markdown.html#71159" class="Function">reflâ‚</a>
  <a id="71245" href="Demos.HSP-markdown.html#71181" class="Function">c</a> <a id="71247" class="Symbol">(</a><a id="71248" href="Demos.HSP-markdown.html#42603" class="InductiveConstructor">gnl</a> <a id="71252" class="Symbol">{</a><a id="71253" href="Demos.HSP-markdown.html#71253" class="Bound">f</a><a id="71254" class="Symbol">}{</a><a id="71256" href="Demos.HSP-markdown.html#71256" class="Bound">s</a><a id="71257" class="Symbol">}{</a><a id="71259" href="Demos.HSP-markdown.html#71259" class="Bound">t</a><a id="71260" class="Symbol">}</a> <a id="71262" href="Demos.HSP-markdown.html#71262" class="Bound">x</a><a id="71263" class="Symbol">)</a> <a id="71265" class="Symbol">=</a> <a id="71267" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="71272" class="Symbol">(</a><a id="71273" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="71280" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="71283" href="Demos.HSP-markdown.html#70900" class="Bound">X</a> <a id="71285" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a><a id="71286" class="Symbol">)</a> <a id="71288" class="Symbol">(</a><a id="71289" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="71296" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="71298" href="Demos.HSP-markdown.html#71181" class="Function">c</a> <a id="71300" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="71302" href="Demos.HSP-markdown.html#71262" class="Bound">x</a><a id="71303" class="Symbol">)</a>

  <a id="71308" href="Demos.HSP-markdown.html#71308" class="Function">h</a> <a id="71310" class="Symbol">:</a> <a id="71312" href="Demos.HSP-markdown.html#70973" class="Function">TX</a> <a id="71315" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="71317" href="Demos.HSP-markdown.html#71096" class="Function">F</a>
  <a id="71321" href="Demos.HSP-markdown.html#71308" class="Function">h</a> <a id="71323" class="Symbol">=</a> <a id="71325" class="Keyword">record</a> <a id="71332" class="Symbol">{</a> <a id="71334" href="Function.Bundles.html#1919" class="Field">f</a> <a id="71336" class="Symbol">=</a> <a id="71338" href="Function.Base.html#615" class="Function">id</a> <a id="71341" class="Symbol">;</a> <a id="71343" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="71348" class="Symbol">=</a> <a id="71350" href="Demos.HSP-markdown.html#71181" class="Function">c</a> <a id="71352" class="Symbol">}</a>

  <a id="71357" href="Demos.HSP-markdown.html#71357" class="Function">hepi</a> <a id="71362" class="Symbol">:</a> <a id="71364" href="Demos.HSP-markdown.html#27487" class="Record">IsEpi</a> <a id="71370" class="Symbol">(</a><a id="71371" href="Demos.HSP-markdown.html#44305" class="Function">ğ‘»</a> <a id="71373" href="Demos.HSP-markdown.html#70900" class="Bound">X</a><a id="71374" class="Symbol">)</a> <a id="71376" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="71379" href="Demos.HSP-markdown.html#70900" class="Bound">X</a> <a id="71381" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="71383" href="Demos.HSP-markdown.html#71308" class="Function">h</a>
  <a id="71387" href="Demos.HSP-markdown.html#27047" class="Field">compatible</a> <a id="71398" class="Symbol">(</a><a id="71399" href="Demos.HSP-markdown.html#27550" class="Field">isHom</a> <a id="71405" href="Demos.HSP-markdown.html#71357" class="Function">hepi</a><a id="71409" class="Symbol">)</a> <a id="71411" class="Symbol">=</a> <a id="71413" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="71418" href="Demos.HSP-markdown.html#71308" class="Function">h</a> <a id="71420" href="Demos.HSP-markdown.html#71036" class="Function">reflâ‚€</a>
  <a id="71428" href="Demos.HSP-markdown.html#27575" class="Field">isSurjective</a> <a id="71441" href="Demos.HSP-markdown.html#71357" class="Function">hepi</a> <a id="71446" class="Symbol">{</a><a id="71447" href="Demos.HSP-markdown.html#71447" class="Bound">y</a><a id="71448" class="Symbol">}</a> <a id="71450" class="Symbol">=</a> <a id="71452" href="Demos.HSP-markdown.html#12420" class="InductiveConstructor">eq</a> <a id="71455" href="Demos.HSP-markdown.html#71447" class="Bound">y</a> <a id="71457" href="Demos.HSP-markdown.html#71159" class="Function">reflâ‚</a>

 <a id="FreeHom.homğ”½[_]"></a><a id="71465" href="Demos.HSP-markdown.html#71465" class="Function Operator">homğ”½[_]</a> <a id="71473" class="Symbol">:</a> <a id="71475" class="Symbol">(</a><a id="71476" href="Demos.HSP-markdown.html#71476" class="Bound">X</a> <a id="71478" class="Symbol">:</a> <a id="71480" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="71485" href="Demos.HSP-markdown.html#70072" class="Bound">Ï‡</a><a id="71486" class="Symbol">)</a> <a id="71488" class="Symbol">â†’</a> <a id="71490" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="71494" class="Symbol">(</a><a id="71495" href="Demos.HSP-markdown.html#44305" class="Function">ğ‘»</a> <a id="71497" href="Demos.HSP-markdown.html#71476" class="Bound">X</a><a id="71498" class="Symbol">)</a> <a id="71500" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="71503" href="Demos.HSP-markdown.html#71476" class="Bound">X</a> <a id="71505" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a>
 <a id="71508" href="Demos.HSP-markdown.html#71465" class="Function Operator">homğ”½[</a> <a id="71514" href="Demos.HSP-markdown.html#71514" class="Bound">X</a> <a id="71516" href="Demos.HSP-markdown.html#71465" class="Function Operator">]</a> <a id="71518" class="Symbol">=</a> <a id="71520" href="Demos.HSP-markdown.html#27608" class="Function">IsEpi.HomReduct</a> <a id="71536" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="71538" href="Demos.HSP-markdown.html#70851" class="Function Operator">epiğ”½[</a> <a id="71544" href="Demos.HSP-markdown.html#71514" class="Bound">X</a> <a id="71546" href="Demos.HSP-markdown.html#70851" class="Function Operator">]</a> <a id="71548" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>

 <a id="FreeHom.homğ”½[_]-is-epic"></a><a id="71552" href="Demos.HSP-markdown.html#71552" class="Function Operator">homğ”½[_]-is-epic</a> <a id="71568" class="Symbol">:</a> <a id="71570" class="Symbol">(</a><a id="71571" href="Demos.HSP-markdown.html#71571" class="Bound">X</a> <a id="71573" class="Symbol">:</a> <a id="71575" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="71580" href="Demos.HSP-markdown.html#70072" class="Bound">Ï‡</a><a id="71581" class="Symbol">)</a> <a id="71583" class="Symbol">â†’</a> <a id="71585" href="Demos.HSP-markdown.html#14743" class="Function">IsSurjective</a> <a id="71598" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="71600" href="Demos.HSP-markdown.html#71465" class="Function Operator">homğ”½[</a> <a id="71606" href="Demos.HSP-markdown.html#71571" class="Bound">X</a> <a id="71608" href="Demos.HSP-markdown.html#71465" class="Function Operator">]</a> <a id="71610" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
 <a id="71613" href="Demos.HSP-markdown.html#71552" class="Function Operator">homğ”½[</a> <a id="71619" href="Demos.HSP-markdown.html#71619" class="Bound">X</a> <a id="71621" href="Demos.HSP-markdown.html#71552" class="Function Operator">]-is-epic</a> <a id="71631" class="Symbol">=</a> <a id="71633" href="Demos.HSP-markdown.html#27575" class="Field">IsEpi.isSurjective</a> <a id="71652" class="Symbol">(</a><a id="71653" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="71657" class="Symbol">(</a><a id="71658" href="Demos.HSP-markdown.html#70851" class="Function Operator">epiğ”½[</a> <a id="71664" href="Demos.HSP-markdown.html#71619" class="Bound">X</a> <a id="71666" href="Demos.HSP-markdown.html#70851" class="Function Operator">]</a><a id="71667" class="Symbol">))</a>
</pre>


#### <a id="the-kernel-of-the-natural-epimorphism">The kernel of the natural epimorphism</a>

<pre class="Agda">

 <a id="FreeHom.class-models-kernel"></a><a id="71792" href="Demos.HSP-markdown.html#71792" class="Function">class-models-kernel</a> <a id="71812" class="Symbol">:</a> <a id="71814" class="Symbol">âˆ€{</a><a id="71816" href="Demos.HSP-markdown.html#71816" class="Bound">X</a> <a id="71818" href="Demos.HSP-markdown.html#71818" class="Bound">p</a> <a id="71820" href="Demos.HSP-markdown.html#71820" class="Bound">q</a><a id="71821" class="Symbol">}</a> <a id="71823" class="Symbol">â†’</a> <a id="71825" class="Symbol">(</a><a id="71826" href="Demos.HSP-markdown.html#71818" class="Bound">p</a> <a id="71828" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="71830" href="Demos.HSP-markdown.html#71820" class="Bound">q</a><a id="71831" class="Symbol">)</a> <a id="71833" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="71835" href="Demos.HSP-markdown.html#16678" class="Function">ker</a> <a id="71839" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="71841" href="Demos.HSP-markdown.html#71465" class="Function Operator">homğ”½[</a> <a id="71847" href="Demos.HSP-markdown.html#71816" class="Bound">X</a> <a id="71849" href="Demos.HSP-markdown.html#71465" class="Function Operator">]</a> <a id="71851" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="71853" class="Symbol">â†’</a> <a id="71855" href="Demos.HSP-markdown.html#70084" class="Bound">ğ’¦</a> <a id="71857" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="71859" class="Symbol">(</a><a id="71860" href="Demos.HSP-markdown.html#71818" class="Bound">p</a> <a id="71862" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="71865" href="Demos.HSP-markdown.html#71820" class="Bound">q</a><a id="71866" class="Symbol">)</a>
 <a id="71869" href="Demos.HSP-markdown.html#71792" class="Function">class-models-kernel</a> <a id="71889" class="Symbol">{</a><a id="71890" class="Argument">X</a> <a id="71892" class="Symbol">=</a> <a id="71894" href="Demos.HSP-markdown.html#71894" class="Bound">X</a><a id="71895" class="Symbol">}{</a><a id="71897" href="Demos.HSP-markdown.html#71897" class="Bound">p</a><a id="71898" class="Symbol">}{</a><a id="71900" href="Demos.HSP-markdown.html#71900" class="Bound">q</a><a id="71901" class="Symbol">}</a> <a id="71903" href="Demos.HSP-markdown.html#71903" class="Bound">pKq</a> <a id="71907" class="Symbol">=</a> <a id="71909" href="Demos.HSP-markdown.html#70318" class="Function Operator">â„°âŠ¢[</a> <a id="71913" href="Demos.HSP-markdown.html#71894" class="Bound">X</a> <a id="71915" href="Demos.HSP-markdown.html#70318" class="Function Operator">]â–¹Thğ’¦</a> <a id="71921" href="Demos.HSP-markdown.html#71903" class="Bound">pKq</a>

 <a id="FreeHom.kernel-in-theory"></a><a id="71927" href="Demos.HSP-markdown.html#71927" class="Function">kernel-in-theory</a> <a id="71944" class="Symbol">:</a> <a id="71946" class="Symbol">{</a><a id="71947" href="Demos.HSP-markdown.html#71947" class="Bound">X</a> <a id="71949" class="Symbol">:</a> <a id="71951" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="71956" href="Demos.HSP-markdown.html#70072" class="Bound">Ï‡</a><a id="71957" class="Symbol">}</a> <a id="71959" class="Symbol">â†’</a> <a id="71961" href="Demos.HSP-markdown.html#16678" class="Function">ker</a> <a id="71965" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="71967" href="Demos.HSP-markdown.html#71465" class="Function Operator">homğ”½[</a> <a id="71973" href="Demos.HSP-markdown.html#71947" class="Bound">X</a> <a id="71975" href="Demos.HSP-markdown.html#71465" class="Function Operator">]</a> <a id="71977" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="71979" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="71981" href="Demos.HSP-markdown.html#52854" class="Function">Th</a> <a id="71984" class="Symbol">(</a><a id="71985" href="Demos.HSP-markdown.html#57932" class="Function">V</a> <a id="71987" href="Demos.HSP-markdown.html#70120" class="Bound">â„“</a> <a id="71989" href="Demos.HSP-markdown.html#70139" class="Function">Î¹</a> <a id="71991" href="Demos.HSP-markdown.html#70084" class="Bound">ğ’¦</a><a id="71992" class="Symbol">)</a>
 <a id="71995" href="Demos.HSP-markdown.html#71927" class="Function">kernel-in-theory</a> <a id="72012" class="Symbol">{</a><a id="72013" class="Argument">X</a> <a id="72015" class="Symbol">=</a> <a id="72017" href="Demos.HSP-markdown.html#72017" class="Bound">X</a><a id="72018" class="Symbol">}</a> <a id="72020" class="Symbol">{</a><a id="72021" href="Demos.HSP-markdown.html#72021" class="Bound">p</a> <a id="72023" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="72025" href="Demos.HSP-markdown.html#72025" class="Bound">q</a><a id="72026" class="Symbol">}</a> <a id="72028" href="Demos.HSP-markdown.html#72028" class="Bound">pKq</a> <a id="72032" href="Demos.HSP-markdown.html#72032" class="Bound">vkA</a> <a id="72036" href="Demos.HSP-markdown.html#72036" class="Bound">x</a> <a id="72038" class="Symbol">=</a> <a id="72040" href="Demos.HSP-markdown.html#66202" class="Function">classIds-âŠ†-VIds</a> <a id="72056" class="Symbol">{</a><a id="72057" class="Argument">â„“</a> <a id="72059" class="Symbol">=</a> <a id="72061" href="Demos.HSP-markdown.html#70120" class="Bound">â„“</a><a id="72062" class="Symbol">}{</a><a id="72064" class="Argument">p</a> <a id="72066" class="Symbol">=</a> <a id="72068" href="Demos.HSP-markdown.html#72021" class="Bound">p</a><a id="72069" class="Symbol">}{</a><a id="72071" href="Demos.HSP-markdown.html#72025" class="Bound">q</a><a id="72072" class="Symbol">}</a>
                                               <a id="72121" class="Symbol">(</a><a id="72122" href="Demos.HSP-markdown.html#71792" class="Function">class-models-kernel</a> <a id="72142" href="Demos.HSP-markdown.html#72028" class="Bound">pKq</a><a id="72145" class="Symbol">)</a> <a id="72147" href="Demos.HSP-markdown.html#72032" class="Bound">vkA</a> <a id="72151" href="Demos.HSP-markdown.html#72036" class="Bound">x</a>

 <a id="72155" class="Keyword">module</a> <a id="72162" href="Demos.HSP-markdown.html#72162" class="Module">_</a> <a id="72164" class="Symbol">{</a><a id="72165" href="Demos.HSP-markdown.html#72165" class="Bound">X</a> <a id="72167" class="Symbol">:</a> <a id="72169" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="72174" href="Demos.HSP-markdown.html#70072" class="Bound">Ï‡</a><a id="72175" class="Symbol">}</a> <a id="72177" class="Symbol">{</a><a id="72178" href="Demos.HSP-markdown.html#72178" class="Bound">ğ‘¨</a> <a id="72180" class="Symbol">:</a> <a id="72182" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="72190" href="Demos.HSP-markdown.html#70101" class="Bound">Î±</a> <a id="72192" href="Demos.HSP-markdown.html#70103" class="Bound">Ïáµƒ</a><a id="72194" class="Symbol">}{</a><a id="72196" href="Demos.HSP-markdown.html#72196" class="Bound">sA</a> <a id="72199" class="Symbol">:</a> <a id="72201" href="Demos.HSP-markdown.html#72178" class="Bound">ğ‘¨</a> <a id="72203" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="72205" href="Demos.HSP-markdown.html#57272" class="Function">S</a> <a id="72207" class="Symbol">{</a><a id="72208" class="Argument">Î²</a> <a id="72210" class="Symbol">=</a> <a id="72212" href="Demos.HSP-markdown.html#70101" class="Bound">Î±</a><a id="72213" class="Symbol">}{</a><a id="72215" href="Demos.HSP-markdown.html#70103" class="Bound">Ïáµƒ</a><a id="72217" class="Symbol">}</a> <a id="72219" href="Demos.HSP-markdown.html#70120" class="Bound">â„“</a> <a id="72221" href="Demos.HSP-markdown.html#70084" class="Bound">ğ’¦</a><a id="72222" class="Symbol">}</a> <a id="72224" class="Keyword">where</a>
  <a id="72232" class="Keyword">open</a> <a id="72237" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="72249" href="Demos.HSP-markdown.html#72178" class="Bound">ğ‘¨</a> <a id="72251" class="Keyword">using</a> <a id="72257" class="Symbol">(</a> <a id="72259" href="Demos.HSP-markdown.html#46667" class="Function">Equal</a> <a id="72265" class="Symbol">)</a>
  <a id="72269" href="Demos.HSP-markdown.html#72269" class="Function">kerğ”½âŠ†Equal</a> <a id="72280" class="Symbol">:</a> <a id="72282" class="Symbol">âˆ€{</a><a id="72284" href="Demos.HSP-markdown.html#72284" class="Bound">p</a> <a id="72286" href="Demos.HSP-markdown.html#72286" class="Bound">q</a><a id="72287" class="Symbol">}</a> <a id="72289" class="Symbol">â†’</a> <a id="72291" class="Symbol">(</a><a id="72292" href="Demos.HSP-markdown.html#72284" class="Bound">p</a> <a id="72294" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="72296" href="Demos.HSP-markdown.html#72286" class="Bound">q</a><a id="72297" class="Symbol">)</a> <a id="72299" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="72301" href="Demos.HSP-markdown.html#16678" class="Function">ker</a> <a id="72305" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="72307" href="Demos.HSP-markdown.html#71465" class="Function Operator">homğ”½[</a> <a id="72313" href="Demos.HSP-markdown.html#72165" class="Bound">X</a> <a id="72315" href="Demos.HSP-markdown.html#71465" class="Function Operator">]</a> <a id="72317" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="72319" class="Symbol">â†’</a> <a id="72321" href="Demos.HSP-markdown.html#46667" class="Function">Equal</a> <a id="72327" href="Demos.HSP-markdown.html#72284" class="Bound">p</a> <a id="72329" href="Demos.HSP-markdown.html#72286" class="Bound">q</a>
  <a id="72333" href="Demos.HSP-markdown.html#72269" class="Function">kerğ”½âŠ†Equal</a><a id="72343" class="Symbol">{</a><a id="72344" class="Argument">p</a> <a id="72346" class="Symbol">=</a> <a id="72348" href="Demos.HSP-markdown.html#72348" class="Bound">p</a><a id="72349" class="Symbol">}{</a><a id="72351" href="Demos.HSP-markdown.html#72351" class="Bound">q</a><a id="72352" class="Symbol">}</a> <a id="72354" href="Demos.HSP-markdown.html#72354" class="Bound">x</a> <a id="72356" class="Symbol">=</a> <a id="72358" href="Demos.HSP-markdown.html#64512" class="Function">S-id1</a><a id="72363" class="Symbol">{</a><a id="72364" class="Argument">â„“</a> <a id="72366" class="Symbol">=</a> <a id="72368" href="Demos.HSP-markdown.html#70120" class="Bound">â„“</a><a id="72369" class="Symbol">}{</a><a id="72371" class="Argument">p</a> <a id="72373" class="Symbol">=</a> <a id="72375" href="Demos.HSP-markdown.html#72348" class="Bound">p</a><a id="72376" class="Symbol">}{</a><a id="72378" href="Demos.HSP-markdown.html#72351" class="Bound">q</a><a id="72379" class="Symbol">}</a> <a id="72381" class="Symbol">(</a><a id="72382" href="Demos.HSP-markdown.html#70318" class="Function Operator">â„°âŠ¢[</a> <a id="72386" href="Demos.HSP-markdown.html#72165" class="Bound">X</a> <a id="72388" href="Demos.HSP-markdown.html#70318" class="Function Operator">]â–¹Thğ’¦</a> <a id="72394" href="Demos.HSP-markdown.html#72354" class="Bound">x</a><a id="72395" class="Symbol">)</a> <a id="72397" href="Demos.HSP-markdown.html#72178" class="Bound">ğ‘¨</a> <a id="72399" href="Demos.HSP-markdown.html#72196" class="Bound">sA</a>

 <a id="FreeHom.ğ’¦âŠ«â†’â„°âŠ¢"></a><a id="72404" href="Demos.HSP-markdown.html#72404" class="Function">ğ’¦âŠ«â†’â„°âŠ¢</a> <a id="72410" class="Symbol">:</a> <a id="72412" class="Symbol">{</a><a id="72413" href="Demos.HSP-markdown.html#72413" class="Bound">X</a> <a id="72415" class="Symbol">:</a> <a id="72417" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="72422" href="Demos.HSP-markdown.html#70072" class="Bound">Ï‡</a><a id="72423" class="Symbol">}</a> <a id="72425" class="Symbol">â†’</a> <a id="72427" class="Symbol">âˆ€{</a><a id="72429" href="Demos.HSP-markdown.html#72429" class="Bound">p</a> <a id="72431" href="Demos.HSP-markdown.html#72431" class="Bound">q</a><a id="72432" class="Symbol">}</a> <a id="72434" class="Symbol">â†’</a> <a id="72436" href="Demos.HSP-markdown.html#70084" class="Bound">ğ’¦</a> <a id="72438" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="72440" class="Symbol">(</a><a id="72441" href="Demos.HSP-markdown.html#72429" class="Bound">p</a> <a id="72443" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="72446" href="Demos.HSP-markdown.html#72431" class="Bound">q</a><a id="72447" class="Symbol">)</a> <a id="72449" class="Symbol">â†’</a> <a id="72451" href="Demos.HSP-markdown.html#70286" class="Function">â„°</a> <a id="72453" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="72455" href="Demos.HSP-markdown.html#72413" class="Bound">X</a> <a id="72457" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹</a> <a id="72459" href="Demos.HSP-markdown.html#72429" class="Bound">p</a> <a id="72461" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â‰ˆ</a> <a id="72463" href="Demos.HSP-markdown.html#72431" class="Bound">q</a>
 <a id="72466" href="Demos.HSP-markdown.html#72404" class="Function">ğ’¦âŠ«â†’â„°âŠ¢</a> <a id="72472" class="Symbol">{</a><a id="72473" class="Argument">p</a> <a id="72475" class="Symbol">=</a> <a id="72477" href="Demos.HSP-markdown.html#72477" class="Bound">p</a><a id="72478" class="Symbol">}</a> <a id="72480" class="Symbol">{</a><a id="72481" href="Demos.HSP-markdown.html#72481" class="Bound">q</a><a id="72482" class="Symbol">}</a> <a id="72484" href="Demos.HSP-markdown.html#72484" class="Bound">pKq</a> <a id="72488" class="Symbol">=</a> <a id="72490" href="Demos.HSP-markdown.html#53454" class="InductiveConstructor">hyp</a> <a id="72494" class="Symbol">((</a><a id="72496" href="Demos.HSP-markdown.html#72477" class="Bound">p</a> <a id="72498" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="72501" href="Demos.HSP-markdown.html#72481" class="Bound">q</a><a id="72502" class="Symbol">)</a> <a id="72504" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="72506" href="Demos.HSP-markdown.html#72484" class="Bound">pKq</a><a id="72509" class="Symbol">)</a> <a id="72511" class="Keyword">where</a> <a id="72517" class="Keyword">open</a> <a id="72522" href="Demos.HSP-markdown.html#53366" class="Module Operator">_âŠ¢_â–¹_â‰ˆ_</a> <a id="72530" class="Keyword">using</a> <a id="72536" class="Symbol">(</a><a id="72537" href="Demos.HSP-markdown.html#53454" class="InductiveConstructor">hyp</a><a id="72540" class="Symbol">)</a>
</pre>

#### <a id="the-universal-property">The universal property</a>

<pre class="Agda">

<a id="72632" class="Keyword">module</a> <a id="72639" href="Demos.HSP-markdown.html#72639" class="Module">_</a>  <a id="72642" class="Symbol">{</a><a id="72643" href="Demos.HSP-markdown.html#72643" class="Bound">ğ‘¨</a> <a id="72645" class="Symbol">:</a> <a id="72647" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="72655" class="Symbol">(</a><a id="72656" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="72658" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72660" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="72663" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72665" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="72666" class="Symbol">)</a> <a id="72668" class="Symbol">(</a><a id="72669" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="72671" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72673" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="72676" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72678" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="72679" class="Symbol">)}</a> <a id="72682" class="Symbol">{</a><a id="72683" href="Demos.HSP-markdown.html#72683" class="Bound">ğ’¦</a> <a id="72685" class="Symbol">:</a> <a id="72687" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="72691" class="Symbol">(</a><a id="72692" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="72700" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="72702" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="72704" class="Symbol">)</a> <a id="72706" class="Symbol">(</a><a id="72707" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="72709" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72711" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="72714" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72716" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="72719" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="72720" class="Symbol">)}</a> <a id="72723" class="Keyword">where</a>
 <a id="72730" class="Keyword">private</a> <a id="72738" href="Demos.HSP-markdown.html#72738" class="Function">Î¹</a> <a id="72740" class="Symbol">=</a> <a id="72742" href="Demos.HSP-markdown.html#37603" class="Function">ov</a><a id="72744" class="Symbol">(</a><a id="72745" href="Demos.HSP-markdown.html#72656" class="Bound">Î±</a> <a id="72747" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72749" href="Demos.HSP-markdown.html#72660" class="Bound">Ïáµƒ</a> <a id="72752" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72754" href="Demos.HSP-markdown.html#72665" class="Bound">â„“</a><a id="72755" class="Symbol">)</a>

 <a id="72759" class="Keyword">open</a> <a id="72764" href="Demos.HSP-markdown.html#70063" class="Module">FreeHom</a> <a id="72772" class="Symbol">{</a><a id="72773" class="Argument">â„“</a> <a id="72775" class="Symbol">=</a> <a id="72777" href="Demos.HSP-markdown.html#72665" class="Bound">â„“</a><a id="72778" class="Symbol">}(</a><a id="72780" href="Demos.HSP-markdown.html#72656" class="Bound">Î±</a> <a id="72782" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72784" href="Demos.HSP-markdown.html#72660" class="Bound">Ïáµƒ</a> <a id="72787" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="72789" href="Demos.HSP-markdown.html#72665" class="Bound">â„“</a><a id="72790" class="Symbol">)</a> <a id="72792" class="Symbol">{</a><a id="72793" href="Demos.HSP-markdown.html#72683" class="Bound">ğ’¦</a><a id="72794" class="Symbol">}</a>
 <a id="72797" class="Keyword">open</a> <a id="72802" href="Demos.HSP-markdown.html#69057" class="Module">FreeAlgebra</a> <a id="72814" class="Symbol">{</a><a id="72815" class="Argument">Î¹</a> <a id="72817" class="Symbol">=</a> <a id="72819" href="Demos.HSP-markdown.html#72738" class="Function">Î¹</a><a id="72820" class="Symbol">}{</a><a id="72822" class="Argument">I</a> <a id="72824" class="Symbol">=</a> <a id="72826" href="Demos.HSP-markdown.html#70173" class="Function">â„</a><a id="72827" class="Symbol">}</a> <a id="72829" href="Demos.HSP-markdown.html#70286" class="Function">â„°</a>  <a id="72832" class="Keyword">using</a> <a id="72838" class="Symbol">(</a> <a id="72840" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[_]</a> <a id="72845" class="Symbol">)</a>
 <a id="72848" class="Keyword">open</a> <a id="72853" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="72860" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="72863" href="Demos.HSP-markdown.html#72643" class="Bound">ğ‘¨</a> <a id="72865" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>                 <a id="72883" class="Keyword">using</a> <a id="72889" class="Symbol">(</a> <a id="72891" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="72897" class="Symbol">;</a> <a id="72899" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="72903" class="Symbol">;</a> <a id="72905" href="Relation.Binary.Structures.html#1568" class="Function">refl</a> <a id="72910" class="Symbol">)</a> <a id="72912" class="Keyword">renaming</a> <a id="72921" class="Symbol">(</a> <a id="72923" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="72931" class="Symbol">to</a> <a id="72934" class="Field">A</a> <a id="72936" class="Symbol">)</a>


 <a id="72941" href="Demos.HSP-markdown.html#72941" class="Function">ğ”½-ModTh-epi</a> <a id="72953" class="Symbol">:</a> <a id="72955" href="Demos.HSP-markdown.html#72643" class="Bound">ğ‘¨</a> <a id="72957" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="72959" href="Demos.HSP-markdown.html#52955" class="Function">Mod</a> <a id="72963" class="Symbol">(</a><a id="72964" href="Demos.HSP-markdown.html#52854" class="Function">Th</a> <a id="72967" class="Symbol">(</a><a id="72968" href="Demos.HSP-markdown.html#57932" class="Function">V</a> <a id="72970" href="Demos.HSP-markdown.html#72665" class="Bound">â„“</a> <a id="72972" href="Demos.HSP-markdown.html#72738" class="Function">Î¹</a> <a id="72974" href="Demos.HSP-markdown.html#72683" class="Bound">ğ’¦</a><a id="72975" class="Symbol">))</a>
  <a id="72980" class="Symbol">â†’</a>            <a id="72993" href="Demos.HSP-markdown.html#27650" class="Function">epi</a> <a id="72997" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="73000" href="Demos.HSP-markdown.html#72934" class="Function">A</a> <a id="73002" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="73004" href="Demos.HSP-markdown.html#72643" class="Bound">ğ‘¨</a>
 <a id="73007" href="Demos.HSP-markdown.html#72941" class="Function">ğ”½-ModTh-epi</a> <a id="73019" href="Demos.HSP-markdown.html#73019" class="Bound">AâˆˆModThK</a> <a id="73028" class="Symbol">=</a> <a id="73030" href="Demos.HSP-markdown.html#73051" class="Function">Ï†</a> <a id="73032" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="73034" href="Demos.HSP-markdown.html#73327" class="Function">isEpi</a>
  <a id="73042" class="Keyword">where</a>
   <a id="73051" href="Demos.HSP-markdown.html#73051" class="Function">Ï†</a> <a id="73053" class="Symbol">:</a> <a id="73055" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="73058" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="73061" href="Demos.HSP-markdown.html#72934" class="Function">A</a> <a id="73063" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="73065" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="73067" href="Demos.HSP-markdown.html#7865" class="Record Operator">âŸ¶</a> <a id="73069" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="73072" href="Demos.HSP-markdown.html#72643" class="Bound">ğ‘¨</a> <a id="73074" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a>
   <a id="73079" href="Demos.HSP-markdown.html#7926" class="Field Operator">_âŸ¨$âŸ©_</a> <a id="73085" href="Demos.HSP-markdown.html#73051" class="Function">Ï†</a> <a id="73087" class="Symbol">=</a> <a id="73089" href="Demos.HSP-markdown.html#67168" class="Function">free-lift</a><a id="73098" class="Symbol">{</a><a id="73099" class="Argument">ğ‘¨</a> <a id="73101" class="Symbol">=</a> <a id="73103" href="Demos.HSP-markdown.html#72643" class="Bound">ğ‘¨</a><a id="73104" class="Symbol">}</a> <a id="73106" href="Function.Base.html#615" class="Function">id</a>
   <a id="73112" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="73117" href="Demos.HSP-markdown.html#73051" class="Function">Ï†</a> <a id="73119" class="Symbol">{</a><a id="73120" href="Demos.HSP-markdown.html#73120" class="Bound">p</a><a id="73121" class="Symbol">}</a> <a id="73123" class="Symbol">{</a><a id="73124" href="Demos.HSP-markdown.html#73124" class="Bound">q</a><a id="73125" class="Symbol">}</a> <a id="73127" href="Demos.HSP-markdown.html#73127" class="Bound">pq</a>  <a id="73131" class="Symbol">=</a> <a id="73133" href="Relation.Binary.Structures.html#1620" class="Function">trans</a>  <a id="73140" class="Symbol">(</a> <a id="73142" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="73146" class="Symbol">(</a><a id="73147" href="Demos.HSP-markdown.html#68566" class="Function">free-lift-interp</a><a id="73163" class="Symbol">{</a><a id="73164" class="Argument">ğ‘¨</a> <a id="73166" class="Symbol">=</a> <a id="73168" href="Demos.HSP-markdown.html#72643" class="Bound">ğ‘¨</a><a id="73169" class="Symbol">}</a> <a id="73171" href="Function.Base.html#615" class="Function">id</a> <a id="73174" href="Demos.HSP-markdown.html#73120" class="Bound">p</a><a id="73175" class="Symbol">)</a> <a id="73177" class="Symbol">)</a>
                      <a id="73201" class="Symbol">(</a> <a id="73203" href="Relation.Binary.Structures.html#1620" class="Function">trans</a>  <a id="73210" class="Symbol">(</a> <a id="73212" href="Demos.HSP-markdown.html#73019" class="Bound">AâˆˆModThK</a><a id="73220" class="Symbol">{</a><a id="73221" class="Argument">p</a> <a id="73223" class="Symbol">=</a> <a id="73225" href="Demos.HSP-markdown.html#73120" class="Bound">p</a><a id="73226" class="Symbol">}{</a><a id="73228" href="Demos.HSP-markdown.html#73124" class="Bound">q</a><a id="73229" class="Symbol">}</a> <a id="73231" class="Symbol">(</a><a id="73232" href="Demos.HSP-markdown.html#71927" class="Function">kernel-in-theory</a> <a id="73249" href="Demos.HSP-markdown.html#73127" class="Bound">pq</a><a id="73251" class="Symbol">)</a> <a id="73253" href="Function.Base.html#615" class="Function">id</a> <a id="73256" class="Symbol">)</a>
                               <a id="73289" class="Symbol">(</a> <a id="73291" href="Demos.HSP-markdown.html#68566" class="Function">free-lift-interp</a><a id="73307" class="Symbol">{</a><a id="73308" class="Argument">ğ‘¨</a> <a id="73310" class="Symbol">=</a> <a id="73312" href="Demos.HSP-markdown.html#72643" class="Bound">ğ‘¨</a><a id="73313" class="Symbol">}</a> <a id="73315" href="Function.Base.html#615" class="Function">id</a> <a id="73318" href="Demos.HSP-markdown.html#73124" class="Bound">q</a> <a id="73320" class="Symbol">)</a> <a id="73322" class="Symbol">)</a>
   <a id="73327" href="Demos.HSP-markdown.html#73327" class="Function">isEpi</a> <a id="73333" class="Symbol">:</a> <a id="73335" href="Demos.HSP-markdown.html#27487" class="Record">IsEpi</a> <a id="73341" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="73344" href="Demos.HSP-markdown.html#72934" class="Function">A</a> <a id="73346" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="73348" href="Demos.HSP-markdown.html#72643" class="Bound">ğ‘¨</a> <a id="73350" href="Demos.HSP-markdown.html#73051" class="Function">Ï†</a>
   <a id="73355" href="Demos.HSP-markdown.html#27047" class="Field">compatible</a> <a id="73366" class="Symbol">(</a><a id="73367" href="Demos.HSP-markdown.html#27550" class="Field">isHom</a> <a id="73373" href="Demos.HSP-markdown.html#73327" class="Function">isEpi</a><a id="73378" class="Symbol">)</a> <a id="73380" class="Symbol">=</a> <a id="73382" href="Function.Bundles.html#1938" class="Field">cong</a> <a id="73387" class="Symbol">(</a><a id="73388" href="Demos.HSP-markdown.html#22575" class="Field">Interp</a> <a id="73395" href="Demos.HSP-markdown.html#72643" class="Bound">ğ‘¨</a><a id="73396" class="Symbol">)</a> <a id="73398" class="Symbol">(</a><a id="73399" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">â‰¡.refl</a> <a id="73406" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="73408" class="Symbol">(Î»</a> <a id="73411" href="Demos.HSP-markdown.html#73411" class="Bound">_</a> <a id="73413" class="Symbol">â†’</a> <a id="73415" href="Relation.Binary.Structures.html#1568" class="Function">refl</a><a id="73419" class="Symbol">))</a>
   <a id="73425" href="Demos.HSP-markdown.html#27575" class="Field">isSurjective</a> <a id="73438" href="Demos.HSP-markdown.html#73327" class="Function">isEpi</a> <a id="73444" class="Symbol">{</a><a id="73445" href="Demos.HSP-markdown.html#73445" class="Bound">y</a><a id="73446" class="Symbol">}</a> <a id="73448" class="Symbol">=</a> <a id="73450" href="Demos.HSP-markdown.html#12420" class="InductiveConstructor">eq</a> <a id="73453" class="Symbol">(</a><a id="73454" href="Demos.HSP-markdown.html#41570" class="InductiveConstructor">â„Š</a> <a id="73456" href="Demos.HSP-markdown.html#73445" class="Bound">y</a><a id="73457" class="Symbol">)</a> <a id="73459" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>

 <a id="73466" href="Demos.HSP-markdown.html#73466" class="Function">ğ”½-ModTh-epi-lift</a> <a id="73483" class="Symbol">:</a> <a id="73485" href="Demos.HSP-markdown.html#72643" class="Bound">ğ‘¨</a> <a id="73487" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="73489" href="Demos.HSP-markdown.html#52955" class="Function">Mod</a> <a id="73493" class="Symbol">(</a><a id="73494" href="Demos.HSP-markdown.html#52854" class="Function">Th</a> <a id="73497" class="Symbol">(</a><a id="73498" href="Demos.HSP-markdown.html#57932" class="Function">V</a> <a id="73500" href="Demos.HSP-markdown.html#72665" class="Bound">â„“</a> <a id="73502" href="Demos.HSP-markdown.html#72738" class="Function">Î¹</a> <a id="73504" href="Demos.HSP-markdown.html#72683" class="Bound">ğ’¦</a><a id="73505" class="Symbol">))</a> <a id="73508" class="Symbol">â†’</a> <a id="73510" href="Demos.HSP-markdown.html#27650" class="Function">epi</a> <a id="73514" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="73517" href="Demos.HSP-markdown.html#72934" class="Function">A</a> <a id="73519" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="73521" class="Symbol">(</a><a id="73522" href="Demos.HSP-markdown.html#25122" class="Function">Lift-Alg</a> <a id="73531" href="Demos.HSP-markdown.html#72643" class="Bound">ğ‘¨</a> <a id="73533" href="Demos.HSP-markdown.html#72738" class="Function">Î¹</a> <a id="73535" href="Demos.HSP-markdown.html#72738" class="Function">Î¹</a><a id="73536" class="Symbol">)</a>
 <a id="73539" href="Demos.HSP-markdown.html#73466" class="Function">ğ”½-ModTh-epi-lift</a> <a id="73556" href="Demos.HSP-markdown.html#73556" class="Bound">AâˆˆModThK</a> <a id="73565" class="Symbol">=</a> <a id="73567" href="Demos.HSP-markdown.html#29263" class="Function">âˆ˜-epi</a> <a id="73573" class="Symbol">(</a><a id="73574" href="Demos.HSP-markdown.html#72941" class="Function">ğ”½-ModTh-epi</a> <a id="73586" class="Symbol">(Î»</a> <a id="73589" class="Symbol">{</a><a id="73590" href="Demos.HSP-markdown.html#73590" class="Bound">p</a> <a id="73592" href="Demos.HSP-markdown.html#73592" class="Bound">q</a><a id="73593" class="Symbol">}</a> <a id="73595" class="Symbol">â†’</a> <a id="73597" href="Demos.HSP-markdown.html#73556" class="Bound">AâˆˆModThK</a><a id="73605" class="Symbol">{</a><a id="73606" class="Argument">p</a> <a id="73608" class="Symbol">=</a> <a id="73610" href="Demos.HSP-markdown.html#73590" class="Bound">p</a><a id="73611" class="Symbol">}{</a><a id="73613" href="Demos.HSP-markdown.html#73592" class="Bound">q</a><a id="73614" class="Symbol">}))</a> <a id="73618" href="Demos.HSP-markdown.html#31280" class="Function">ToLift-epi</a>
</pre>



<!-- ------------------------------------------------------------------------------------- -->

## <a id="products-of-classes-of-algebras">Products of classes of algebras</a>

We want to pair each `(ğ‘¨ , p)` (where p : ğ‘¨ âˆˆ S ğ’¦) with an environment
`Ï : X â†’ âˆ£ ğ‘¨ âˆ£` so that we can quantify over all algebras *and* all
assignments of values in the domain `âˆ£ ğ‘¨ âˆ£` to variables in `X`.

<pre class="Agda">

<a id="74038" class="Keyword">module</a> <a id="74045" href="Demos.HSP-markdown.html#74045" class="Module">_</a> <a id="74047" class="Symbol">(</a><a id="74048" href="Demos.HSP-markdown.html#74048" class="Bound">ğ’¦</a> <a id="74050" class="Symbol">:</a> <a id="74052" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="74056" class="Symbol">(</a><a id="74057" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="74065" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="74067" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="74069" class="Symbol">)</a> <a id="74071" class="Symbol">(</a><a id="74072" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="74074" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="74076" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="74079" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="74081" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="74084" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="74085" class="Symbol">)){</a><a id="74088" href="Demos.HSP-markdown.html#74088" class="Bound">X</a> <a id="74090" class="Symbol">:</a> <a id="74092" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="74097" class="Symbol">(</a><a id="74098" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="74100" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="74102" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="74105" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="74107" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="74108" class="Symbol">)}</a> <a id="74111" class="Keyword">where</a>
 <a id="74118" class="Keyword">private</a> <a id="74126" href="Demos.HSP-markdown.html#74126" class="Function">Î¹</a> <a id="74128" class="Symbol">=</a> <a id="74130" href="Demos.HSP-markdown.html#37603" class="Function">ov</a><a id="74132" class="Symbol">(</a><a id="74133" href="Demos.HSP-markdown.html#74065" class="Bound">Î±</a> <a id="74135" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="74137" href="Demos.HSP-markdown.html#74067" class="Bound">Ïáµƒ</a> <a id="74140" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="74142" href="Demos.HSP-markdown.html#74084" class="Bound">â„“</a><a id="74143" class="Symbol">)</a>
 <a id="74146" class="Keyword">open</a> <a id="74151" href="Demos.HSP-markdown.html#70063" class="Module">FreeHom</a> <a id="74159" class="Symbol">{</a><a id="74160" class="Argument">â„“</a> <a id="74162" class="Symbol">=</a> <a id="74164" href="Demos.HSP-markdown.html#74084" class="Bound">â„“</a><a id="74165" class="Symbol">}</a> <a id="74167" class="Symbol">(</a><a id="74168" href="Demos.HSP-markdown.html#74065" class="Bound">Î±</a> <a id="74170" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="74172" href="Demos.HSP-markdown.html#74067" class="Bound">Ïáµƒ</a> <a id="74175" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="74177" href="Demos.HSP-markdown.html#74084" class="Bound">â„“</a><a id="74178" class="Symbol">){</a><a id="74180" href="Demos.HSP-markdown.html#74048" class="Bound">ğ’¦</a><a id="74181" class="Symbol">}</a>
 <a id="74184" class="Keyword">open</a> <a id="74189" href="Demos.HSP-markdown.html#69057" class="Module">FreeAlgebra</a> <a id="74201" class="Symbol">{</a><a id="74202" class="Argument">Î¹</a> <a id="74204" class="Symbol">=</a> <a id="74206" href="Demos.HSP-markdown.html#74126" class="Function">Î¹</a><a id="74207" class="Symbol">}{</a><a id="74209" class="Argument">I</a> <a id="74211" class="Symbol">=</a> <a id="74213" href="Demos.HSP-markdown.html#70173" class="Function">â„</a><a id="74214" class="Symbol">}</a> <a id="74216" href="Demos.HSP-markdown.html#70286" class="Function">â„°</a> <a id="74218" class="Keyword">using</a> <a id="74224" class="Symbol">(</a> <a id="74226" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[_]</a> <a id="74231" class="Symbol">)</a>
 <a id="74234" class="Keyword">open</a> <a id="74239" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a>   <a id="74253" class="Keyword">using</a> <a id="74259" class="Symbol">(</a> <a id="74261" href="Demos.HSP-markdown.html#45673" class="Function">Env</a> <a id="74265" class="Symbol">)</a>

 <a id="74269" href="Demos.HSP-markdown.html#74269" class="Function">â„‘âº</a> <a id="74272" class="Symbol">:</a> <a id="74274" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="74279" href="Demos.HSP-markdown.html#74126" class="Function">Î¹</a>
 <a id="74282" href="Demos.HSP-markdown.html#74269" class="Function">â„‘âº</a> <a id="74285" class="Symbol">=</a> <a id="74287" href="Data.Product.html#916" class="Function">Î£[</a> <a id="74290" href="Demos.HSP-markdown.html#74290" class="Bound">ğ‘¨</a> <a id="74292" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="74294" class="Symbol">(</a><a id="74295" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="74303" href="Demos.HSP-markdown.html#74065" class="Bound">Î±</a> <a id="74305" href="Demos.HSP-markdown.html#74067" class="Bound">Ïáµƒ</a><a id="74307" class="Symbol">)</a> <a id="74309" href="Data.Product.html#916" class="Function">]</a> <a id="74311" class="Symbol">(</a><a id="74312" href="Demos.HSP-markdown.html#74290" class="Bound">ğ‘¨</a> <a id="74314" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="74316" href="Demos.HSP-markdown.html#57272" class="Function">S</a> <a id="74318" href="Demos.HSP-markdown.html#74084" class="Bound">â„“</a> <a id="74320" href="Demos.HSP-markdown.html#74048" class="Bound">ğ’¦</a><a id="74321" class="Symbol">)</a> <a id="74323" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="74325" class="Symbol">(</a><a id="74326" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="74334" class="Symbol">(</a><a id="74335" href="Demos.HSP-markdown.html#45673" class="Function">Env</a> <a id="74339" href="Demos.HSP-markdown.html#74290" class="Bound">ğ‘¨</a> <a id="74341" href="Demos.HSP-markdown.html#74088" class="Bound">X</a><a id="74342" class="Symbol">))</a>

 <a id="74347" href="Demos.HSP-markdown.html#74347" class="Function">ğ”„âº</a> <a id="74350" class="Symbol">:</a> <a id="74352" href="Demos.HSP-markdown.html#74269" class="Function">â„‘âº</a> <a id="74355" class="Symbol">â†’</a> <a id="74357" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="74365" href="Demos.HSP-markdown.html#74065" class="Bound">Î±</a> <a id="74367" href="Demos.HSP-markdown.html#74067" class="Bound">Ïáµƒ</a>
 <a id="74371" href="Demos.HSP-markdown.html#74347" class="Function">ğ”„âº</a> <a id="74374" href="Demos.HSP-markdown.html#74374" class="Bound">i</a> <a id="74376" class="Symbol">=</a> <a id="74378" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="74380" href="Demos.HSP-markdown.html#74374" class="Bound">i</a> <a id="74382" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>

 <a id="74386" href="Demos.HSP-markdown.html#74386" class="Function">â„­</a> <a id="74388" class="Symbol">:</a> <a id="74390" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="74398" href="Demos.HSP-markdown.html#74126" class="Function">Î¹</a> <a id="74400" href="Demos.HSP-markdown.html#74126" class="Function">Î¹</a>
 <a id="74403" href="Demos.HSP-markdown.html#74386" class="Function">â„­</a> <a id="74405" class="Symbol">=</a> <a id="74407" href="Demos.HSP-markdown.html#25453" class="Function">â¨…</a> <a id="74409" href="Demos.HSP-markdown.html#74347" class="Function">ğ”„âº</a>

</pre>

Next we define a useful type, `skEqual`, which we use to represent a term identity `p â‰ˆ q` for any
given `i = (ğ‘¨ , sA , Ï)` (where `ğ‘¨` is an algebra, `sA : ğ‘¨ âˆˆ S ğ’¦` is a proof that `ğ‘¨` belongs
to `S ğ’¦`, and `Ï` is a mapping from `X` to the domain of `ğ‘¨`). Then we prove `AllEqualâŠ†kerğ”½` which
asserts that if the identity `p â‰ˆ q` holds in all `ğ‘¨ âˆˆ S ğ’¦` (for all environments), then `p â‰ˆ q`
holds in the relatively free algebra `ğ”½[ X ]`; equivalently, the pair `(p , q)` belongs to the
kernel of the natural homomorphism from `ğ‘» X` onto `ğ”½[ X ]`. We will use this fact below to prove
that there is a monomorphism from `ğ”½[ X ]` into `â„­`, and thus `ğ”½[ X ]` is a subalgebra of â„­,
so belongs to `S (P ğ’¦)`.

<pre class="Agda">

 <a id="75141" href="Demos.HSP-markdown.html#75141" class="Function">skEqual</a> <a id="75149" class="Symbol">:</a> <a id="75151" class="Symbol">(</a><a id="75152" href="Demos.HSP-markdown.html#75152" class="Bound">i</a> <a id="75154" class="Symbol">:</a> <a id="75156" href="Demos.HSP-markdown.html#74269" class="Function">â„‘âº</a><a id="75158" class="Symbol">)</a> <a id="75160" class="Symbol">â†’</a> <a id="75162" class="Symbol">âˆ€{</a><a id="75164" href="Demos.HSP-markdown.html#75164" class="Bound">p</a> <a id="75166" href="Demos.HSP-markdown.html#75166" class="Bound">q</a><a id="75167" class="Symbol">}</a> <a id="75169" class="Symbol">â†’</a> <a id="75171" href="Demos.HSP-markdown.html#7664" class="Primitive">Type</a> <a id="75176" href="Demos.HSP-markdown.html#74067" class="Bound">Ïáµƒ</a>
 <a id="75180" href="Demos.HSP-markdown.html#75141" class="Function">skEqual</a> <a id="75188" href="Demos.HSP-markdown.html#75188" class="Bound">i</a> <a id="75190" class="Symbol">{</a><a id="75191" href="Demos.HSP-markdown.html#75191" class="Bound">p</a><a id="75192" class="Symbol">}{</a><a id="75194" href="Demos.HSP-markdown.html#75194" class="Bound">q</a><a id="75195" class="Symbol">}</a> <a id="75197" class="Symbol">=</a> <a id="75199" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="75201" href="Demos.HSP-markdown.html#75191" class="Bound">p</a> <a id="75203" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="75205" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="75209" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="75213" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="75215" href="Demos.HSP-markdown.html#75188" class="Bound">i</a> <a id="75217" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="75219" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="75221" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="75223" href="Demos.HSP-markdown.html#75194" class="Bound">q</a> <a id="75225" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="75227" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="75231" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="75235" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="75237" href="Demos.HSP-markdown.html#75188" class="Bound">i</a> <a id="75239" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>
  <a id="75243" class="Keyword">where</a>
  <a id="75251" class="Keyword">open</a> <a id="75256" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="75263" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="75266" href="Demos.HSP-markdown.html#74347" class="Function">ğ”„âº</a> <a id="75269" href="Demos.HSP-markdown.html#75188" class="Bound">i</a> <a id="75271" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="75273" class="Keyword">using</a> <a id="75279" class="Symbol">(</a> <a id="75281" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="75285" class="Symbol">)</a>
  <a id="75289" class="Keyword">open</a> <a id="75294" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="75306" class="Symbol">(</a><a id="75307" href="Demos.HSP-markdown.html#74347" class="Function">ğ”„âº</a> <a id="75310" href="Demos.HSP-markdown.html#75188" class="Bound">i</a><a id="75311" class="Symbol">)</a> <a id="75313" class="Keyword">using</a> <a id="75319" class="Symbol">(</a> <a id="75321" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="75325" class="Symbol">)</a>

 <a id="75329" href="Demos.HSP-markdown.html#75329" class="Function">AllEqualâŠ†kerğ”½</a> <a id="75343" class="Symbol">:</a> <a id="75345" class="Symbol">âˆ€</a> <a id="75347" class="Symbol">{</a><a id="75348" href="Demos.HSP-markdown.html#75348" class="Bound">p</a> <a id="75350" href="Demos.HSP-markdown.html#75350" class="Bound">q</a><a id="75351" class="Symbol">}</a> <a id="75353" class="Symbol">â†’</a> <a id="75355" class="Symbol">(âˆ€</a> <a id="75358" href="Demos.HSP-markdown.html#75358" class="Bound">i</a> <a id="75360" class="Symbol">â†’</a> <a id="75362" href="Demos.HSP-markdown.html#75141" class="Function">skEqual</a> <a id="75370" href="Demos.HSP-markdown.html#75358" class="Bound">i</a> <a id="75372" class="Symbol">{</a><a id="75373" href="Demos.HSP-markdown.html#75348" class="Bound">p</a><a id="75374" class="Symbol">}{</a><a id="75376" href="Demos.HSP-markdown.html#75350" class="Bound">q</a><a id="75377" class="Symbol">})</a> <a id="75380" class="Symbol">â†’</a> <a id="75382" class="Symbol">(</a><a id="75383" href="Demos.HSP-markdown.html#75348" class="Bound">p</a> <a id="75385" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="75387" href="Demos.HSP-markdown.html#75350" class="Bound">q</a><a id="75388" class="Symbol">)</a> <a id="75390" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="75392" href="Demos.HSP-markdown.html#16678" class="Function">ker</a> <a id="75396" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="75398" href="Demos.HSP-markdown.html#71465" class="Function Operator">homğ”½[</a> <a id="75404" href="Demos.HSP-markdown.html#74088" class="Bound">X</a> <a id="75406" href="Demos.HSP-markdown.html#71465" class="Function Operator">]</a> <a id="75408" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
 <a id="75411" href="Demos.HSP-markdown.html#75329" class="Function">AllEqualâŠ†kerğ”½</a> <a id="75425" class="Symbol">{</a><a id="75426" href="Demos.HSP-markdown.html#75426" class="Bound">p</a><a id="75427" class="Symbol">}</a> <a id="75429" class="Symbol">{</a><a id="75430" href="Demos.HSP-markdown.html#75430" class="Bound">q</a><a id="75431" class="Symbol">}</a> <a id="75433" href="Demos.HSP-markdown.html#75433" class="Bound">x</a> <a id="75435" class="Symbol">=</a> <a id="75437" href="Demos.HSP-markdown.html#75562" class="Function">Goal</a>
  <a id="75444" class="Keyword">where</a>
  <a id="75452" class="Keyword">open</a> <a id="75457" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="75464" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="75467" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="75470" href="Demos.HSP-markdown.html#74088" class="Bound">X</a> <a id="75472" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="75474" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="75476" class="Keyword">using</a> <a id="75482" class="Symbol">(</a> <a id="75484" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="75488" class="Symbol">)</a>
  <a id="75492" href="Demos.HSP-markdown.html#75492" class="Function">Sğ’¦âŠ«pq</a> <a id="75498" class="Symbol">:</a> <a id="75500" href="Demos.HSP-markdown.html#57272" class="Function">S</a><a id="75501" class="Symbol">{</a><a id="75502" class="Argument">Î²</a> <a id="75504" class="Symbol">=</a> <a id="75506" href="Demos.HSP-markdown.html#74065" class="Bound">Î±</a><a id="75507" class="Symbol">}{</a><a id="75509" href="Demos.HSP-markdown.html#74067" class="Bound">Ïáµƒ</a><a id="75511" class="Symbol">}</a> <a id="75513" href="Demos.HSP-markdown.html#74084" class="Bound">â„“</a> <a id="75515" href="Demos.HSP-markdown.html#74048" class="Bound">ğ’¦</a> <a id="75517" href="Demos.HSP-markdown.html#52260" class="Function Operator">âŠ«</a> <a id="75519" class="Symbol">(</a><a id="75520" href="Demos.HSP-markdown.html#75426" class="Bound">p</a> <a id="75522" href="Demos.HSP-markdown.html#51031" class="InductiveConstructor Operator">â‰ˆÌ‡</a> <a id="75525" href="Demos.HSP-markdown.html#75430" class="Bound">q</a><a id="75526" class="Symbol">)</a>
  <a id="75530" href="Demos.HSP-markdown.html#75492" class="Function">Sğ’¦âŠ«pq</a> <a id="75536" href="Demos.HSP-markdown.html#75536" class="Bound">ğ‘¨</a> <a id="75538" href="Demos.HSP-markdown.html#75538" class="Bound">sA</a> <a id="75541" href="Demos.HSP-markdown.html#75541" class="Bound">Ï</a> <a id="75543" class="Symbol">=</a> <a id="75545" href="Demos.HSP-markdown.html#75433" class="Bound">x</a> <a id="75547" class="Symbol">(</a><a id="75548" href="Demos.HSP-markdown.html#75536" class="Bound">ğ‘¨</a> <a id="75550" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="75552" href="Demos.HSP-markdown.html#75538" class="Bound">sA</a> <a id="75555" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="75557" href="Demos.HSP-markdown.html#75541" class="Bound">Ï</a><a id="75558" class="Symbol">)</a>
  <a id="75562" href="Demos.HSP-markdown.html#75562" class="Function">Goal</a> <a id="75567" class="Symbol">:</a> <a id="75569" href="Demos.HSP-markdown.html#75426" class="Bound">p</a> <a id="75571" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="75573" href="Demos.HSP-markdown.html#75430" class="Bound">q</a>
  <a id="75577" href="Demos.HSP-markdown.html#75562" class="Function">Goal</a> <a id="75582" class="Symbol">=</a> <a id="75584" href="Demos.HSP-markdown.html#72404" class="Function">ğ’¦âŠ«â†’â„°âŠ¢</a> <a id="75590" class="Symbol">(</a><a id="75591" href="Demos.HSP-markdown.html#64775" class="Function">S-id2</a><a id="75596" class="Symbol">{</a><a id="75597" class="Argument">â„“</a> <a id="75599" class="Symbol">=</a> <a id="75601" href="Demos.HSP-markdown.html#74084" class="Bound">â„“</a><a id="75602" class="Symbol">}{</a><a id="75604" class="Argument">p</a> <a id="75606" class="Symbol">=</a> <a id="75608" href="Demos.HSP-markdown.html#75426" class="Bound">p</a><a id="75609" class="Symbol">}{</a><a id="75611" href="Demos.HSP-markdown.html#75430" class="Bound">q</a><a id="75612" class="Symbol">}</a> <a id="75614" href="Demos.HSP-markdown.html#75492" class="Function">Sğ’¦âŠ«pq</a><a id="75619" class="Symbol">)</a>

 <a id="75623" href="Demos.HSP-markdown.html#75623" class="Function">homâ„­</a> <a id="75628" class="Symbol">:</a> <a id="75630" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="75634" class="Symbol">(</a><a id="75635" href="Demos.HSP-markdown.html#44305" class="Function">ğ‘»</a> <a id="75637" href="Demos.HSP-markdown.html#74088" class="Bound">X</a><a id="75638" class="Symbol">)</a> <a id="75640" href="Demos.HSP-markdown.html#74386" class="Function">â„­</a>
 <a id="75643" href="Demos.HSP-markdown.html#75623" class="Function">homâ„­</a> <a id="75648" class="Symbol">=</a> <a id="75650" href="Demos.HSP-markdown.html#32206" class="Function">â¨…-hom-co</a> <a id="75659" href="Demos.HSP-markdown.html#74347" class="Function">ğ”„âº</a> <a id="75662" href="Demos.HSP-markdown.html#75674" class="Function">h</a>
  <a id="75666" class="Keyword">where</a>
  <a id="75674" href="Demos.HSP-markdown.html#75674" class="Function">h</a> <a id="75676" class="Symbol">:</a> <a id="75678" class="Symbol">âˆ€</a> <a id="75680" href="Demos.HSP-markdown.html#75680" class="Bound">i</a> <a id="75682" class="Symbol">â†’</a> <a id="75684" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="75688" class="Symbol">(</a><a id="75689" href="Demos.HSP-markdown.html#44305" class="Function">ğ‘»</a> <a id="75691" href="Demos.HSP-markdown.html#74088" class="Bound">X</a><a id="75692" class="Symbol">)</a> <a id="75694" class="Symbol">(</a><a id="75695" href="Demos.HSP-markdown.html#74347" class="Function">ğ”„âº</a> <a id="75698" href="Demos.HSP-markdown.html#75680" class="Bound">i</a><a id="75699" class="Symbol">)</a>
  <a id="75703" href="Demos.HSP-markdown.html#75674" class="Function">h</a> <a id="75705" href="Demos.HSP-markdown.html#75705" class="Bound">i</a> <a id="75707" class="Symbol">=</a> <a id="75709" href="Demos.HSP-markdown.html#68117" class="Function">lift-hom</a> <a id="75718" class="Symbol">(</a><a id="75719" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="75723" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="75725" href="Demos.HSP-markdown.html#75705" class="Bound">i</a> <a id="75727" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a><a id="75728" class="Symbol">)</a>

 <a id="75732" href="Demos.HSP-markdown.html#75732" class="Function">kerğ”½âŠ†kerâ„­</a> <a id="75742" class="Symbol">:</a> <a id="75744" href="Demos.HSP-markdown.html#16678" class="Function">ker</a> <a id="75748" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="75750" href="Demos.HSP-markdown.html#71465" class="Function Operator">homğ”½[</a> <a id="75756" href="Demos.HSP-markdown.html#74088" class="Bound">X</a> <a id="75758" href="Demos.HSP-markdown.html#71465" class="Function Operator">]</a> <a id="75760" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="75762" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="75764" href="Demos.HSP-markdown.html#16678" class="Function">ker</a> <a id="75768" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="75770" href="Demos.HSP-markdown.html#75623" class="Function">homâ„­</a> <a id="75775" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
 <a id="75778" href="Demos.HSP-markdown.html#75732" class="Function">kerğ”½âŠ†kerâ„­</a> <a id="75788" class="Symbol">{</a><a id="75789" href="Demos.HSP-markdown.html#75789" class="Bound">p</a> <a id="75791" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="75793" href="Demos.HSP-markdown.html#75793" class="Bound">q</a><a id="75794" class="Symbol">}</a> <a id="75796" href="Demos.HSP-markdown.html#75796" class="Bound">pKq</a> <a id="75800" class="Symbol">(</a><a id="75801" href="Demos.HSP-markdown.html#75801" class="Bound">ğ‘¨</a> <a id="75803" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="75805" href="Demos.HSP-markdown.html#75805" class="Bound">sA</a> <a id="75808" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="75810" href="Demos.HSP-markdown.html#75810" class="Bound">Ï</a><a id="75811" class="Symbol">)</a> <a id="75813" class="Symbol">=</a> <a id="75815" href="Demos.HSP-markdown.html#76071" class="Function">Goal</a>
  <a id="75822" class="Keyword">where</a>
  <a id="75830" class="Keyword">open</a> <a id="75835" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="75842" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="75845" href="Demos.HSP-markdown.html#75801" class="Bound">ğ‘¨</a> <a id="75847" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="75849" class="Keyword">using</a> <a id="75855" class="Symbol">(</a> <a id="75857" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="75861" class="Symbol">;</a> <a id="75863" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="75867" class="Symbol">;</a> <a id="75869" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="75875" class="Symbol">)</a>
  <a id="75879" class="Keyword">open</a> <a id="75884" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="75896" href="Demos.HSP-markdown.html#75801" class="Bound">ğ‘¨</a> <a id="75898" class="Keyword">using</a> <a id="75904" class="Symbol">(</a> <a id="75906" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="75910" class="Symbol">)</a>
  <a id="75914" href="Demos.HSP-markdown.html#75914" class="Function">fl</a> <a id="75917" class="Symbol">:</a> <a id="75919" class="Symbol">âˆ€</a> <a id="75921" href="Demos.HSP-markdown.html#75921" class="Bound">t</a> <a id="75923" class="Symbol">â†’</a> <a id="75925" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="75927" href="Demos.HSP-markdown.html#75921" class="Bound">t</a> <a id="75929" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="75931" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="75935" href="Demos.HSP-markdown.html#75810" class="Bound">Ï</a> <a id="75937" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="75939" href="Demos.HSP-markdown.html#67168" class="Function">free-lift</a> <a id="75949" href="Demos.HSP-markdown.html#75810" class="Bound">Ï</a> <a id="75951" href="Demos.HSP-markdown.html#75921" class="Bound">t</a>
  <a id="75955" href="Demos.HSP-markdown.html#75914" class="Function">fl</a> <a id="75958" href="Demos.HSP-markdown.html#75958" class="Bound">t</a> <a id="75960" class="Symbol">=</a> <a id="75962" href="Demos.HSP-markdown.html#68566" class="Function">free-lift-interp</a> <a id="75979" class="Symbol">{</a><a id="75980" class="Argument">ğ‘¨</a> <a id="75982" class="Symbol">=</a> <a id="75984" href="Demos.HSP-markdown.html#75801" class="Bound">ğ‘¨</a><a id="75985" class="Symbol">}</a> <a id="75987" href="Demos.HSP-markdown.html#75810" class="Bound">Ï</a> <a id="75989" href="Demos.HSP-markdown.html#75958" class="Bound">t</a>
  <a id="75993" href="Demos.HSP-markdown.html#75993" class="Function">subgoal</a> <a id="76001" class="Symbol">:</a> <a id="76003" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="76005" href="Demos.HSP-markdown.html#75789" class="Bound">p</a> <a id="76007" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="76009" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="76013" href="Demos.HSP-markdown.html#75810" class="Bound">Ï</a> <a id="76015" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="76017" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="76019" href="Demos.HSP-markdown.html#75793" class="Bound">q</a> <a id="76021" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="76023" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="76027" href="Demos.HSP-markdown.html#75810" class="Bound">Ï</a>
  <a id="76031" href="Demos.HSP-markdown.html#75993" class="Function">subgoal</a> <a id="76039" class="Symbol">=</a> <a id="76041" href="Demos.HSP-markdown.html#72269" class="Function">kerğ”½âŠ†Equal</a><a id="76051" class="Symbol">{</a><a id="76052" class="Argument">ğ‘¨</a> <a id="76054" class="Symbol">=</a> <a id="76056" href="Demos.HSP-markdown.html#75801" class="Bound">ğ‘¨</a><a id="76057" class="Symbol">}{</a><a id="76059" href="Demos.HSP-markdown.html#75805" class="Bound">sA</a><a id="76061" class="Symbol">}</a> <a id="76063" href="Demos.HSP-markdown.html#75796" class="Bound">pKq</a> <a id="76067" href="Demos.HSP-markdown.html#75810" class="Bound">Ï</a>
  <a id="76071" href="Demos.HSP-markdown.html#76071" class="Function">Goal</a> <a id="76076" class="Symbol">:</a> <a id="76078" class="Symbol">(</a><a id="76079" href="Demos.HSP-markdown.html#67168" class="Function">free-lift</a><a id="76088" class="Symbol">{</a><a id="76089" class="Argument">ğ‘¨</a> <a id="76091" class="Symbol">=</a> <a id="76093" href="Demos.HSP-markdown.html#75801" class="Bound">ğ‘¨</a><a id="76094" class="Symbol">}</a> <a id="76096" href="Demos.HSP-markdown.html#75810" class="Bound">Ï</a> <a id="76098" href="Demos.HSP-markdown.html#75789" class="Bound">p</a><a id="76099" class="Symbol">)</a> <a id="76101" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="76103" class="Symbol">(</a><a id="76104" href="Demos.HSP-markdown.html#67168" class="Function">free-lift</a><a id="76113" class="Symbol">{</a><a id="76114" class="Argument">ğ‘¨</a> <a id="76116" class="Symbol">=</a> <a id="76118" href="Demos.HSP-markdown.html#75801" class="Bound">ğ‘¨</a><a id="76119" class="Symbol">}</a> <a id="76121" href="Demos.HSP-markdown.html#75810" class="Bound">Ï</a> <a id="76123" href="Demos.HSP-markdown.html#75793" class="Bound">q</a><a id="76124" class="Symbol">)</a>
  <a id="76128" href="Demos.HSP-markdown.html#76071" class="Function">Goal</a> <a id="76133" class="Symbol">=</a> <a id="76135" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="76141" class="Symbol">(</a><a id="76142" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="76146" class="Symbol">(</a><a id="76147" href="Demos.HSP-markdown.html#75914" class="Function">fl</a> <a id="76150" href="Demos.HSP-markdown.html#75789" class="Bound">p</a><a id="76151" class="Symbol">))</a> <a id="76154" class="Symbol">(</a><a id="76155" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="76161" href="Demos.HSP-markdown.html#75993" class="Function">subgoal</a> <a id="76169" class="Symbol">(</a><a id="76170" href="Demos.HSP-markdown.html#75914" class="Function">fl</a> <a id="76173" href="Demos.HSP-markdown.html#75793" class="Bound">q</a><a id="76174" class="Symbol">))</a>


 <a id="76180" href="Demos.HSP-markdown.html#76180" class="Function">homğ”½â„­</a> <a id="76186" class="Symbol">:</a> <a id="76188" href="Demos.HSP-markdown.html#27110" class="Function">hom</a> <a id="76192" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="76195" href="Demos.HSP-markdown.html#74088" class="Bound">X</a> <a id="76197" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="76199" href="Demos.HSP-markdown.html#74386" class="Function">â„­</a>
 <a id="76202" href="Demos.HSP-markdown.html#76180" class="Function">homğ”½â„­</a> <a id="76208" class="Symbol">=</a> <a id="76210" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76212" href="Demos.HSP-markdown.html#33131" class="Function">HomFactor</a> <a id="76222" href="Demos.HSP-markdown.html#74386" class="Function">â„­</a> <a id="76224" href="Demos.HSP-markdown.html#75623" class="Function">homâ„­</a> <a id="76229" href="Demos.HSP-markdown.html#71465" class="Function Operator">homğ”½[</a> <a id="76235" href="Demos.HSP-markdown.html#74088" class="Bound">X</a> <a id="76237" href="Demos.HSP-markdown.html#71465" class="Function Operator">]</a> <a id="76239" href="Demos.HSP-markdown.html#75732" class="Function">kerğ”½âŠ†kerâ„­</a> <a id="76249" href="Demos.HSP-markdown.html#71552" class="Function Operator">homğ”½[</a> <a id="76255" href="Demos.HSP-markdown.html#74088" class="Bound">X</a> <a id="76257" href="Demos.HSP-markdown.html#71552" class="Function Operator">]-is-epic</a> <a id="76267" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>

 <a id="76271" href="Demos.HSP-markdown.html#76271" class="Function">kerâ„­âŠ†kerğ”½</a> <a id="76281" class="Symbol">:</a> <a id="76283" class="Symbol">âˆ€{</a><a id="76285" href="Demos.HSP-markdown.html#76285" class="Bound">p</a> <a id="76287" href="Demos.HSP-markdown.html#76287" class="Bound">q</a><a id="76288" class="Symbol">}</a> <a id="76290" class="Symbol">â†’</a> <a id="76292" class="Symbol">(</a><a id="76293" href="Demos.HSP-markdown.html#76285" class="Bound">p</a> <a id="76295" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="76297" href="Demos.HSP-markdown.html#76287" class="Bound">q</a><a id="76298" class="Symbol">)</a> <a id="76300" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="76302" href="Demos.HSP-markdown.html#16678" class="Function">ker</a> <a id="76306" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76308" href="Demos.HSP-markdown.html#75623" class="Function">homâ„­</a> <a id="76313" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76315" class="Symbol">â†’</a> <a id="76317" class="Symbol">(</a><a id="76318" href="Demos.HSP-markdown.html#76285" class="Bound">p</a> <a id="76320" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="76322" href="Demos.HSP-markdown.html#76287" class="Bound">q</a><a id="76323" class="Symbol">)</a> <a id="76325" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="76327" href="Demos.HSP-markdown.html#16678" class="Function">ker</a> <a id="76331" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76333" href="Demos.HSP-markdown.html#71465" class="Function Operator">homğ”½[</a> <a id="76339" href="Demos.HSP-markdown.html#74088" class="Bound">X</a> <a id="76341" href="Demos.HSP-markdown.html#71465" class="Function Operator">]</a> <a id="76343" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
 <a id="76346" href="Demos.HSP-markdown.html#76271" class="Function">kerâ„­âŠ†kerğ”½</a> <a id="76356" class="Symbol">{</a><a id="76357" href="Demos.HSP-markdown.html#76357" class="Bound">p</a><a id="76358" class="Symbol">}{</a><a id="76360" href="Demos.HSP-markdown.html#76360" class="Bound">q</a><a id="76361" class="Symbol">}</a> <a id="76363" href="Demos.HSP-markdown.html#76363" class="Bound">pKq</a> <a id="76367" class="Symbol">=</a> <a id="76369" href="Demos.HSP-markdown.html#76728" class="Function">EâŠ¢pq</a>
  <a id="76376" class="Keyword">where</a>
  <a id="76384" href="Demos.HSP-markdown.html#76384" class="Function">pqEqual</a> <a id="76392" class="Symbol">:</a> <a id="76394" class="Symbol">âˆ€</a> <a id="76396" href="Demos.HSP-markdown.html#76396" class="Bound">i</a> <a id="76398" class="Symbol">â†’</a> <a id="76400" href="Demos.HSP-markdown.html#75141" class="Function">skEqual</a> <a id="76408" href="Demos.HSP-markdown.html#76396" class="Bound">i</a> <a id="76410" class="Symbol">{</a><a id="76411" href="Demos.HSP-markdown.html#76357" class="Bound">p</a><a id="76412" class="Symbol">}{</a><a id="76414" href="Demos.HSP-markdown.html#76360" class="Bound">q</a><a id="76415" class="Symbol">}</a>
  <a id="76419" href="Demos.HSP-markdown.html#76384" class="Function">pqEqual</a> <a id="76427" href="Demos.HSP-markdown.html#76427" class="Bound">i</a> <a id="76429" class="Symbol">=</a> <a id="76431" href="Demos.HSP-markdown.html#76542" class="Function">goal</a>
   <a id="76439" class="Keyword">where</a>
   <a id="76448" class="Keyword">open</a> <a id="76453" href="Demos.HSP-markdown.html#45581" class="Module">Environment</a> <a id="76465" class="Symbol">(</a><a id="76466" href="Demos.HSP-markdown.html#74347" class="Function">ğ”„âº</a> <a id="76469" href="Demos.HSP-markdown.html#76427" class="Bound">i</a><a id="76470" class="Symbol">)</a> <a id="76472" class="Keyword">using</a> <a id="76478" class="Symbol">(</a> <a id="76480" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦_âŸ§</a> <a id="76484" class="Symbol">)</a>
   <a id="76489" class="Keyword">open</a> <a id="76494" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="76501" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="76504" href="Demos.HSP-markdown.html#74347" class="Function">ğ”„âº</a> <a id="76507" href="Demos.HSP-markdown.html#76427" class="Bound">i</a> <a id="76509" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="76511" class="Keyword">using</a> <a id="76517" class="Symbol">(</a> <a id="76519" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_â‰ˆ_</a> <a id="76523" class="Symbol">;</a> <a id="76525" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="76529" class="Symbol">;</a> <a id="76531" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="76537" class="Symbol">)</a>
   <a id="76542" href="Demos.HSP-markdown.html#76542" class="Function">goal</a> <a id="76547" class="Symbol">:</a> <a id="76549" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="76551" href="Demos.HSP-markdown.html#76357" class="Bound">p</a> <a id="76553" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="76555" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="76559" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="76563" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="76565" href="Demos.HSP-markdown.html#76427" class="Bound">i</a> <a id="76567" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="76569" href="Relation.Binary.Bundles.html#1098" class="Function Operator">â‰ˆ</a> <a id="76571" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ¦</a> <a id="76573" href="Demos.HSP-markdown.html#76360" class="Bound">q</a> <a id="76575" href="Demos.HSP-markdown.html#46137" class="Function Operator">âŸ§</a> <a id="76577" href="Demos.HSP-markdown.html#7926" class="Field Operator">âŸ¨$âŸ©</a> <a id="76581" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="76585" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="76587" href="Demos.HSP-markdown.html#76427" class="Bound">i</a> <a id="76589" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>
   <a id="76594" href="Demos.HSP-markdown.html#76542" class="Function">goal</a> <a id="76599" class="Symbol">=</a> <a id="76601" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="76607" class="Symbol">(</a><a id="76608" href="Demos.HSP-markdown.html#68566" class="Function">free-lift-interp</a><a id="76624" class="Symbol">{</a><a id="76625" class="Argument">ğ‘¨</a> <a id="76627" class="Symbol">=</a> <a id="76629" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76631" href="Demos.HSP-markdown.html#76427" class="Bound">i</a> <a id="76633" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a><a id="76634" class="Symbol">}(</a><a id="76636" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="76640" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="76642" href="Demos.HSP-markdown.html#76427" class="Bound">i</a> <a id="76644" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a><a id="76645" class="Symbol">)</a> <a id="76647" href="Demos.HSP-markdown.html#76357" class="Bound">p</a><a id="76648" class="Symbol">)</a>
           <a id="76661" class="Symbol">(</a><a id="76662" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="76668" class="Symbol">(</a><a id="76669" href="Demos.HSP-markdown.html#76363" class="Bound">pKq</a> <a id="76673" href="Demos.HSP-markdown.html#76427" class="Bound">i</a><a id="76674" class="Symbol">)(</a><a id="76676" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="76680" class="Symbol">(</a><a id="76681" href="Demos.HSP-markdown.html#68566" class="Function">free-lift-interp</a><a id="76697" class="Symbol">{</a><a id="76698" class="Argument">ğ‘¨</a> <a id="76700" class="Symbol">=</a> <a id="76702" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76704" href="Demos.HSP-markdown.html#76427" class="Bound">i</a> <a id="76706" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a><a id="76707" class="Symbol">}</a> <a id="76709" class="Symbol">(</a><a id="76710" href="Demos.HSP-markdown.html#7765" class="Field">snd</a> <a id="76714" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="76716" href="Demos.HSP-markdown.html#76427" class="Bound">i</a> <a id="76718" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a><a id="76719" class="Symbol">)</a> <a id="76721" href="Demos.HSP-markdown.html#76360" class="Bound">q</a><a id="76722" class="Symbol">)))</a>
  <a id="76728" href="Demos.HSP-markdown.html#76728" class="Function">EâŠ¢pq</a> <a id="76733" class="Symbol">:</a> <a id="76735" href="Demos.HSP-markdown.html#70286" class="Function">â„°</a> <a id="76737" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">âŠ¢</a> <a id="76739" href="Demos.HSP-markdown.html#74088" class="Bound">X</a> <a id="76741" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â–¹</a> <a id="76743" href="Demos.HSP-markdown.html#76357" class="Bound">p</a> <a id="76745" href="Demos.HSP-markdown.html#53366" class="Datatype Operator">â‰ˆ</a> <a id="76747" href="Demos.HSP-markdown.html#76360" class="Bound">q</a>
  <a id="76751" href="Demos.HSP-markdown.html#76728" class="Function">EâŠ¢pq</a> <a id="76756" class="Symbol">=</a> <a id="76758" href="Demos.HSP-markdown.html#75329" class="Function">AllEqualâŠ†kerğ”½</a> <a id="76772" href="Demos.HSP-markdown.html#76384" class="Function">pqEqual</a>

 <a id="76782" href="Demos.HSP-markdown.html#76782" class="Function">monğ”½â„­</a> <a id="76788" class="Symbol">:</a> <a id="76790" href="Demos.HSP-markdown.html#27432" class="Function">mon</a> <a id="76794" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="76797" href="Demos.HSP-markdown.html#74088" class="Bound">X</a> <a id="76799" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="76801" href="Demos.HSP-markdown.html#74386" class="Function">â„­</a>
 <a id="76804" href="Demos.HSP-markdown.html#76782" class="Function">monğ”½â„­</a> <a id="76810" class="Symbol">=</a> <a id="76812" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76814" href="Demos.HSP-markdown.html#76180" class="Function">homğ”½â„­</a> <a id="76820" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76822" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="76824" href="Demos.HSP-markdown.html#76840" class="Function">isMon</a>
  <a id="76832" class="Keyword">where</a>
  <a id="76840" href="Demos.HSP-markdown.html#76840" class="Function">isMon</a> <a id="76846" class="Symbol">:</a> <a id="76848" href="Demos.HSP-markdown.html#27270" class="Record">IsMon</a> <a id="76854" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="76857" href="Demos.HSP-markdown.html#74088" class="Bound">X</a> <a id="76859" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="76861" href="Demos.HSP-markdown.html#74386" class="Function">â„­</a> <a id="76863" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a> <a id="76865" href="Demos.HSP-markdown.html#76180" class="Function">homğ”½â„­</a> <a id="76871" href="Demos.HSP-markdown.html#11544" class="Function Operator">âˆ£</a>
  <a id="76875" href="Demos.HSP-markdown.html#27334" class="Field">isHom</a> <a id="76881" href="Demos.HSP-markdown.html#76840" class="Function">isMon</a> <a id="76887" class="Symbol">=</a> <a id="76889" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="76891" href="Demos.HSP-markdown.html#76180" class="Function">homğ”½â„­</a> <a id="76897" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a>
  <a id="76901" href="Demos.HSP-markdown.html#27359" class="Field">isInjective</a> <a id="76913" href="Demos.HSP-markdown.html#76840" class="Function">isMon</a> <a id="76919" class="Symbol">{</a><a id="76920" href="Demos.HSP-markdown.html#76920" class="Bound">p</a><a id="76921" class="Symbol">}</a> <a id="76923" class="Symbol">{</a><a id="76924" href="Demos.HSP-markdown.html#76924" class="Bound">q</a><a id="76925" class="Symbol">}</a> <a id="76927" href="Demos.HSP-markdown.html#76927" class="Bound">Ï†pq</a> <a id="76931" class="Symbol">=</a> <a id="76933" href="Demos.HSP-markdown.html#76271" class="Function">kerâ„­âŠ†kerğ”½</a> <a id="76943" href="Demos.HSP-markdown.html#76927" class="Bound">Ï†pq</a>

</pre>

Now that we have proved the existence of a monomorphism from `ğ”½[ X ]` to `â„­` we are in a position
to prove that `ğ”½[ X ]` is a subalgebra of â„­, so belongs to `S (P ğ’¦)`.  In fact, we will show
that `ğ”½[ X ]` is a subalgebra of the *lift* of `â„­`, denoted `â„“â„­`.

<pre class="Agda">

 <a id="77233" href="Demos.HSP-markdown.html#77233" class="Function">ğ”½â‰¤â„­</a> <a id="77237" class="Symbol">:</a> <a id="77239" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="77242" href="Demos.HSP-markdown.html#74088" class="Bound">X</a> <a id="77244" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="77246" href="Demos.HSP-markdown.html#38974" class="Function Operator">â‰¤</a> <a id="77248" href="Demos.HSP-markdown.html#74386" class="Function">â„­</a>
 <a id="77251" href="Demos.HSP-markdown.html#77233" class="Function">ğ”½â‰¤â„­</a> <a id="77255" class="Symbol">=</a> <a id="77257" href="Demos.HSP-markdown.html#39245" class="Function">monâ†’â‰¤</a> <a id="77263" href="Demos.HSP-markdown.html#76782" class="Function">monğ”½â„­</a>

 <a id="77271" href="Demos.HSP-markdown.html#77271" class="Function">SPğ”½</a> <a id="77275" class="Symbol">:</a> <a id="77277" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="77280" href="Demos.HSP-markdown.html#74088" class="Bound">X</a> <a id="77282" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="77284" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="77286" href="Demos.HSP-markdown.html#57272" class="Function">S</a> <a id="77288" href="Demos.HSP-markdown.html#74126" class="Function">Î¹</a> <a id="77290" class="Symbol">(</a><a id="77291" href="Demos.HSP-markdown.html#57398" class="Function">P</a> <a id="77293" href="Demos.HSP-markdown.html#74084" class="Bound">â„“</a> <a id="77295" href="Demos.HSP-markdown.html#74126" class="Function">Î¹</a> <a id="77297" href="Demos.HSP-markdown.html#74048" class="Bound">ğ’¦</a><a id="77298" class="Symbol">)</a>
 <a id="77301" href="Demos.HSP-markdown.html#77271" class="Function">SPğ”½</a> <a id="77305" class="Symbol">=</a> <a id="77307" href="Demos.HSP-markdown.html#58742" class="Function">S-idem</a> <a id="77314" href="Demos.HSP-markdown.html#77467" class="Function">SSPğ”½</a>
  <a id="77321" class="Keyword">where</a>
  <a id="77329" href="Demos.HSP-markdown.html#77329" class="Function">PSâ„­</a> <a id="77333" class="Symbol">:</a> <a id="77335" href="Demos.HSP-markdown.html#74386" class="Function">â„­</a> <a id="77337" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="77339" href="Demos.HSP-markdown.html#57398" class="Function">P</a> <a id="77341" class="Symbol">(</a><a id="77342" href="Demos.HSP-markdown.html#74065" class="Bound">Î±</a> <a id="77344" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="77346" href="Demos.HSP-markdown.html#74067" class="Bound">Ïáµƒ</a> <a id="77349" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="77351" href="Demos.HSP-markdown.html#74084" class="Bound">â„“</a><a id="77352" class="Symbol">)</a> <a id="77354" href="Demos.HSP-markdown.html#74126" class="Function">Î¹</a> <a id="77356" class="Symbol">(</a><a id="77357" href="Demos.HSP-markdown.html#57272" class="Function">S</a> <a id="77359" href="Demos.HSP-markdown.html#74084" class="Bound">â„“</a> <a id="77361" href="Demos.HSP-markdown.html#74048" class="Bound">ğ’¦</a><a id="77362" class="Symbol">)</a>
  <a id="77366" href="Demos.HSP-markdown.html#77329" class="Function">PSâ„­</a> <a id="77370" class="Symbol">=</a> <a id="77372" href="Demos.HSP-markdown.html#74269" class="Function">â„‘âº</a> <a id="77375" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="77377" class="Symbol">(</a><a id="77378" href="Demos.HSP-markdown.html#74347" class="Function">ğ”„âº</a> <a id="77381" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="77383" class="Symbol">((Î»</a> <a id="77387" href="Demos.HSP-markdown.html#77387" class="Bound">i</a> <a id="77389" class="Symbol">â†’</a> <a id="77391" href="Demos.HSP-markdown.html#7750" class="Field">fst</a> <a id="77395" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a> <a id="77397" href="Demos.HSP-markdown.html#77387" class="Bound">i</a> <a id="77399" href="Demos.HSP-markdown.html#11582" class="Function Operator">âˆ¥</a><a id="77400" class="Symbol">)</a> <a id="77402" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="77404" href="Demos.HSP-markdown.html#35773" class="Function">â‰…-refl</a><a id="77410" class="Symbol">))</a>
  <a id="77415" href="Demos.HSP-markdown.html#77415" class="Function">SPâ„­</a> <a id="77419" class="Symbol">:</a> <a id="77421" href="Demos.HSP-markdown.html#74386" class="Function">â„­</a> <a id="77423" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="77425" href="Demos.HSP-markdown.html#57272" class="Function">S</a> <a id="77427" href="Demos.HSP-markdown.html#74126" class="Function">Î¹</a> <a id="77429" class="Symbol">(</a><a id="77430" href="Demos.HSP-markdown.html#57398" class="Function">P</a> <a id="77432" href="Demos.HSP-markdown.html#74084" class="Bound">â„“</a> <a id="77434" href="Demos.HSP-markdown.html#74126" class="Function">Î¹</a> <a id="77436" href="Demos.HSP-markdown.html#74048" class="Bound">ğ’¦</a><a id="77437" class="Symbol">)</a>
  <a id="77441" href="Demos.HSP-markdown.html#77415" class="Function">SPâ„­</a> <a id="77445" class="Symbol">=</a> <a id="77447" href="Demos.HSP-markdown.html#62400" class="Function">PSâŠ†SP</a> <a id="77453" class="Symbol">{</a><a id="77454" class="Argument">â„“</a> <a id="77456" class="Symbol">=</a> <a id="77458" href="Demos.HSP-markdown.html#74084" class="Bound">â„“</a><a id="77459" class="Symbol">}</a> <a id="77461" href="Demos.HSP-markdown.html#77329" class="Function">PSâ„­</a>
  <a id="77467" href="Demos.HSP-markdown.html#77467" class="Function">SSPğ”½</a> <a id="77472" class="Symbol">:</a> <a id="77474" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="77477" href="Demos.HSP-markdown.html#74088" class="Bound">X</a> <a id="77479" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="77481" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="77483" href="Demos.HSP-markdown.html#57272" class="Function">S</a> <a id="77485" href="Demos.HSP-markdown.html#74126" class="Function">Î¹</a> <a id="77487" class="Symbol">(</a><a id="77488" href="Demos.HSP-markdown.html#57272" class="Function">S</a> <a id="77490" href="Demos.HSP-markdown.html#74126" class="Function">Î¹</a> <a id="77492" class="Symbol">(</a><a id="77493" href="Demos.HSP-markdown.html#57398" class="Function">P</a> <a id="77495" href="Demos.HSP-markdown.html#74084" class="Bound">â„“</a> <a id="77497" href="Demos.HSP-markdown.html#74126" class="Function">Î¹</a> <a id="77499" href="Demos.HSP-markdown.html#74048" class="Bound">ğ’¦</a><a id="77500" class="Symbol">))</a>
  <a id="77505" href="Demos.HSP-markdown.html#77467" class="Function">SSPğ”½</a> <a id="77510" class="Symbol">=</a> <a id="77512" href="Demos.HSP-markdown.html#74386" class="Function">â„­</a> <a id="77514" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="77516" class="Symbol">(</a><a id="77517" href="Demos.HSP-markdown.html#77415" class="Function">SPâ„­</a> <a id="77521" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="77523" href="Demos.HSP-markdown.html#77233" class="Function">ğ”½â‰¤â„­</a><a id="77526" class="Symbol">)</a>
</pre>



<!-- ------------------------------------------------------------------------------------- -->

## <a id="the-hsp-theorem">The HSP Theorem</a>

Finally, we are in a position to prove Birkhoff's celebrated variety theorem.

<pre class="Agda">

<a id="77779" class="Keyword">module</a> <a id="77786" href="Demos.HSP-markdown.html#77786" class="Module">_</a> <a id="77788" class="Symbol">{</a><a id="77789" href="Demos.HSP-markdown.html#77789" class="Bound">ğ’¦</a> <a id="77791" class="Symbol">:</a> <a id="77793" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="77797" class="Symbol">(</a><a id="77798" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="77806" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="77808" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a><a id="77810" class="Symbol">)</a> <a id="77812" class="Symbol">(</a><a id="77813" href="Demos.HSP-markdown.html#8481" class="Generalizable">Î±</a> <a id="77815" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="77817" href="Demos.HSP-markdown.html#8483" class="Generalizable">Ïáµƒ</a> <a id="77820" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="77822" href="Demos.HSP-markdown.html#37603" class="Function">ov</a> <a id="77825" href="Demos.HSP-markdown.html#8505" class="Generalizable">â„“</a><a id="77826" class="Symbol">)}</a> <a id="77829" class="Keyword">where</a>
 <a id="77836" class="Keyword">private</a> <a id="77844" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a> <a id="77846" class="Symbol">=</a> <a id="77848" href="Demos.HSP-markdown.html#37603" class="Function">ov</a><a id="77850" class="Symbol">(</a><a id="77851" href="Demos.HSP-markdown.html#77806" class="Bound">Î±</a> <a id="77853" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="77855" href="Demos.HSP-markdown.html#77808" class="Bound">Ïáµƒ</a> <a id="77858" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="77860" href="Demos.HSP-markdown.html#77825" class="Bound">â„“</a><a id="77861" class="Symbol">)</a>
 <a id="77864" class="Keyword">open</a> <a id="77869" href="Demos.HSP-markdown.html#70063" class="Module">FreeHom</a> <a id="77877" class="Symbol">{</a><a id="77878" class="Argument">â„“</a> <a id="77880" class="Symbol">=</a> <a id="77882" href="Demos.HSP-markdown.html#77825" class="Bound">â„“</a><a id="77883" class="Symbol">}(</a><a id="77885" href="Demos.HSP-markdown.html#77806" class="Bound">Î±</a> <a id="77887" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="77889" href="Demos.HSP-markdown.html#77808" class="Bound">Ïáµƒ</a> <a id="77892" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="77894" href="Demos.HSP-markdown.html#77825" class="Bound">â„“</a><a id="77895" class="Symbol">){</a><a id="77897" href="Demos.HSP-markdown.html#77789" class="Bound">ğ’¦</a><a id="77898" class="Symbol">}</a>
 <a id="77901" class="Keyword">open</a> <a id="77906" href="Demos.HSP-markdown.html#69057" class="Module">FreeAlgebra</a> <a id="77918" class="Symbol">{</a><a id="77919" class="Argument">Î¹</a> <a id="77921" class="Symbol">=</a> <a id="77923" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a><a id="77924" class="Symbol">}{</a><a id="77926" class="Argument">I</a> <a id="77928" class="Symbol">=</a> <a id="77930" href="Demos.HSP-markdown.html#70173" class="Function">â„</a><a id="77931" class="Symbol">}</a> <a id="77933" href="Demos.HSP-markdown.html#70286" class="Function">â„°</a> <a id="77935" class="Keyword">using</a> <a id="77941" class="Symbol">(</a> <a id="77943" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[_]</a> <a id="77948" class="Symbol">)</a>

 <a id="77952" href="Demos.HSP-markdown.html#77952" class="Function">Birkhoff</a> <a id="77961" class="Symbol">:</a> <a id="77963" class="Symbol">âˆ€</a> <a id="77965" href="Demos.HSP-markdown.html#77965" class="Bound">ğ‘¨</a> <a id="77967" class="Symbol">â†’</a> <a id="77969" href="Demos.HSP-markdown.html#77965" class="Bound">ğ‘¨</a> <a id="77971" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="77973" href="Demos.HSP-markdown.html#52955" class="Function">Mod</a> <a id="77977" class="Symbol">(</a><a id="77978" href="Demos.HSP-markdown.html#52854" class="Function">Th</a> <a id="77981" class="Symbol">(</a><a id="77982" href="Demos.HSP-markdown.html#57932" class="Function">V</a> <a id="77984" href="Demos.HSP-markdown.html#77825" class="Bound">â„“</a> <a id="77986" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a> <a id="77988" href="Demos.HSP-markdown.html#77789" class="Bound">ğ’¦</a><a id="77989" class="Symbol">))</a> <a id="77992" class="Symbol">â†’</a> <a id="77994" href="Demos.HSP-markdown.html#77965" class="Bound">ğ‘¨</a> <a id="77996" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="77998" href="Demos.HSP-markdown.html#57932" class="Function">V</a> <a id="78000" href="Demos.HSP-markdown.html#77825" class="Bound">â„“</a> <a id="78002" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a> <a id="78004" href="Demos.HSP-markdown.html#77789" class="Bound">ğ’¦</a>
 <a id="78007" href="Demos.HSP-markdown.html#77952" class="Function">Birkhoff</a> <a id="78016" href="Demos.HSP-markdown.html#78016" class="Bound">ğ‘¨</a> <a id="78018" href="Demos.HSP-markdown.html#78018" class="Bound">ModThA</a> <a id="78025" class="Symbol">=</a> <a id="78027" href="Demos.HSP-markdown.html#58252" class="Function">V-â‰…-lc</a><a id="78033" class="Symbol">{</a><a id="78034" href="Demos.HSP-markdown.html#77806" class="Bound">Î±</a><a id="78035" class="Symbol">}{</a><a id="78037" href="Demos.HSP-markdown.html#77808" class="Bound">Ïáµƒ</a><a id="78039" class="Symbol">}{</a><a id="78041" href="Demos.HSP-markdown.html#77825" class="Bound">â„“</a><a id="78042" class="Symbol">}</a> <a id="78044" href="Demos.HSP-markdown.html#77789" class="Bound">ğ’¦</a> <a id="78046" href="Demos.HSP-markdown.html#78016" class="Bound">ğ‘¨</a> <a id="78048" href="Demos.HSP-markdown.html#78380" class="Function">VlA</a>
  <a id="78054" class="Keyword">where</a>
  <a id="78062" class="Keyword">open</a> <a id="78067" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="78074" href="Demos.HSP-markdown.html#23758" class="Function Operator">ğ”»[</a> <a id="78077" href="Demos.HSP-markdown.html#78016" class="Bound">ğ‘¨</a> <a id="78079" href="Demos.HSP-markdown.html#23758" class="Function Operator">]</a> <a id="78081" class="Keyword">using</a> <a id="78087" class="Symbol">()</a> <a id="78090" class="Keyword">renaming</a> <a id="78099" class="Symbol">(</a> <a id="78101" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="78109" class="Symbol">to</a> <a id="78112" class="Field">A</a> <a id="78114" class="Symbol">)</a>
  <a id="78118" href="Demos.HSP-markdown.html#78118" class="Function">spğ”½A</a> <a id="78123" class="Symbol">:</a> <a id="78125" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="78128" href="Demos.HSP-markdown.html#78112" class="Function">A</a> <a id="78130" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="78132" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="78134" href="Demos.HSP-markdown.html#57272" class="Function">S</a><a id="78135" class="Symbol">{</a><a id="78136" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a><a id="78137" class="Symbol">}</a> <a id="78139" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a> <a id="78141" class="Symbol">(</a><a id="78142" href="Demos.HSP-markdown.html#57398" class="Function">P</a> <a id="78144" href="Demos.HSP-markdown.html#77825" class="Bound">â„“</a> <a id="78146" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a> <a id="78148" href="Demos.HSP-markdown.html#77789" class="Bound">ğ’¦</a><a id="78149" class="Symbol">)</a>
  <a id="78153" href="Demos.HSP-markdown.html#78118" class="Function">spğ”½A</a> <a id="78158" class="Symbol">=</a> <a id="78160" href="Demos.HSP-markdown.html#77271" class="Function">SPğ”½</a><a id="78163" class="Symbol">{</a><a id="78164" class="Argument">â„“</a> <a id="78166" class="Symbol">=</a> <a id="78168" href="Demos.HSP-markdown.html#77825" class="Bound">â„“</a><a id="78169" class="Symbol">}</a> <a id="78171" href="Demos.HSP-markdown.html#77789" class="Bound">ğ’¦</a>
  <a id="78175" href="Demos.HSP-markdown.html#78175" class="Function">epiğ”½lA</a> <a id="78182" class="Symbol">:</a> <a id="78184" href="Demos.HSP-markdown.html#27650" class="Function">epi</a> <a id="78188" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="78191" href="Demos.HSP-markdown.html#78112" class="Function">A</a> <a id="78193" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="78195" class="Symbol">(</a><a id="78196" href="Demos.HSP-markdown.html#25122" class="Function">Lift-Alg</a> <a id="78205" href="Demos.HSP-markdown.html#78016" class="Bound">ğ‘¨</a> <a id="78207" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a> <a id="78209" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a><a id="78210" class="Symbol">)</a>
  <a id="78214" href="Demos.HSP-markdown.html#78175" class="Function">epiğ”½lA</a> <a id="78221" class="Symbol">=</a> <a id="78223" href="Demos.HSP-markdown.html#73466" class="Function">ğ”½-ModTh-epi-lift</a><a id="78239" class="Symbol">{</a><a id="78240" class="Argument">â„“</a> <a id="78242" class="Symbol">=</a> <a id="78244" href="Demos.HSP-markdown.html#77825" class="Bound">â„“</a><a id="78245" class="Symbol">}</a> <a id="78247" class="Symbol">(Î»</a> <a id="78250" class="Symbol">{</a><a id="78251" href="Demos.HSP-markdown.html#78251" class="Bound">p</a> <a id="78253" href="Demos.HSP-markdown.html#78253" class="Bound">q</a><a id="78254" class="Symbol">}</a> <a id="78256" class="Symbol">â†’</a> <a id="78258" href="Demos.HSP-markdown.html#78018" class="Bound">ModThA</a><a id="78264" class="Symbol">{</a><a id="78265" class="Argument">p</a> <a id="78267" class="Symbol">=</a> <a id="78269" href="Demos.HSP-markdown.html#78251" class="Bound">p</a><a id="78270" class="Symbol">}{</a><a id="78272" href="Demos.HSP-markdown.html#78253" class="Bound">q</a><a id="78273" class="Symbol">})</a>
  <a id="78278" href="Demos.HSP-markdown.html#78278" class="Function">lAimgğ”½A</a> <a id="78286" class="Symbol">:</a> <a id="78288" href="Demos.HSP-markdown.html#25122" class="Function">Lift-Alg</a> <a id="78297" href="Demos.HSP-markdown.html#78016" class="Bound">ğ‘¨</a> <a id="78299" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a> <a id="78301" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a> <a id="78303" href="Demos.HSP-markdown.html#37645" class="Function Operator">IsHomImageOf</a> <a id="78316" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="78319" href="Demos.HSP-markdown.html#78112" class="Function">A</a> <a id="78321" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a>
  <a id="78325" href="Demos.HSP-markdown.html#78278" class="Function">lAimgğ”½A</a> <a id="78333" class="Symbol">=</a> <a id="78335" href="Demos.HSP-markdown.html#27911" class="Function">epiâ†’ontohom</a> <a id="78347" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="78350" href="Demos.HSP-markdown.html#78112" class="Function">A</a> <a id="78352" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="78354" class="Symbol">(</a><a id="78355" href="Demos.HSP-markdown.html#25122" class="Function">Lift-Alg</a> <a id="78364" href="Demos.HSP-markdown.html#78016" class="Bound">ğ‘¨</a> <a id="78366" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a> <a id="78368" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a><a id="78369" class="Symbol">)</a> <a id="78371" href="Demos.HSP-markdown.html#78175" class="Function">epiğ”½lA</a>
  <a id="78380" href="Demos.HSP-markdown.html#78380" class="Function">VlA</a> <a id="78384" class="Symbol">:</a> <a id="78386" href="Demos.HSP-markdown.html#25122" class="Function">Lift-Alg</a> <a id="78395" href="Demos.HSP-markdown.html#78016" class="Bound">ğ‘¨</a> <a id="78397" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a> <a id="78399" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a> <a id="78401" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="78403" href="Demos.HSP-markdown.html#57932" class="Function">V</a> <a id="78405" href="Demos.HSP-markdown.html#77825" class="Bound">â„“</a> <a id="78407" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a> <a id="78409" href="Demos.HSP-markdown.html#77789" class="Bound">ğ’¦</a>
  <a id="78413" href="Demos.HSP-markdown.html#78380" class="Function">VlA</a> <a id="78417" class="Symbol">=</a> <a id="78419" href="Demos.HSP-markdown.html#69607" class="Function Operator">ğ”½[</a> <a id="78422" href="Demos.HSP-markdown.html#78112" class="Function">A</a> <a id="78424" href="Demos.HSP-markdown.html#69607" class="Function Operator">]</a> <a id="78426" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="78428" href="Demos.HSP-markdown.html#78118" class="Function">spğ”½A</a> <a id="78433" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="78435" href="Demos.HSP-markdown.html#78278" class="Function">lAimgğ”½A</a>

</pre>

The converse inclusion, `V ğ’¦ âŠ† Mod (Th (V ğ’¦))`, is a simple consequence of the
fact that `Mod Th` is a closure operator. Nonetheless, completeness demands
that we formalize this inclusion as well, however trivial the proof.

<pre class="Agda">

 <a id="78696" class="Keyword">module</a> <a id="78703" href="Demos.HSP-markdown.html#78703" class="Module">_</a> <a id="78705" class="Symbol">{</a><a id="78706" href="Demos.HSP-markdown.html#78706" class="Bound">ğ‘¨</a> <a id="78708" class="Symbol">:</a> <a id="78710" href="Demos.HSP-markdown.html#22491" class="Record">Algebra</a> <a id="78718" href="Demos.HSP-markdown.html#77806" class="Bound">Î±</a> <a id="78720" href="Demos.HSP-markdown.html#77808" class="Bound">Ïáµƒ</a><a id="78722" class="Symbol">}</a> <a id="78724" class="Keyword">where</a>
  <a id="78732" href="Demos.HSP-markdown.html#78732" class="Function">Birkhoff-converse</a> <a id="78750" class="Symbol">:</a> <a id="78752" href="Demos.HSP-markdown.html#78706" class="Bound">ğ‘¨</a> <a id="78754" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="78756" href="Demos.HSP-markdown.html#57932" class="Function">V</a><a id="78757" class="Symbol">{</a><a id="78758" href="Demos.HSP-markdown.html#77806" class="Bound">Î±</a><a id="78759" class="Symbol">}{</a><a id="78761" href="Demos.HSP-markdown.html#77808" class="Bound">Ïáµƒ</a><a id="78763" class="Symbol">}{</a><a id="78765" href="Demos.HSP-markdown.html#77806" class="Bound">Î±</a><a id="78766" class="Symbol">}{</a><a id="78768" href="Demos.HSP-markdown.html#77808" class="Bound">Ïáµƒ</a><a id="78770" class="Symbol">}{</a><a id="78772" href="Demos.HSP-markdown.html#77806" class="Bound">Î±</a><a id="78773" class="Symbol">}{</a><a id="78775" href="Demos.HSP-markdown.html#77808" class="Bound">Ïáµƒ</a><a id="78777" class="Symbol">}</a> <a id="78779" href="Demos.HSP-markdown.html#77825" class="Bound">â„“</a> <a id="78781" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a> <a id="78783" href="Demos.HSP-markdown.html#77789" class="Bound">ğ’¦</a> <a id="78785" class="Symbol">â†’</a> <a id="78787" href="Demos.HSP-markdown.html#78706" class="Bound">ğ‘¨</a> <a id="78789" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="78791" href="Demos.HSP-markdown.html#52955" class="Function">Mod</a><a id="78794" class="Symbol">{</a><a id="78795" class="Argument">X</a> <a id="78797" class="Symbol">=</a> <a id="78799" href="Demos.HSP-markdown.html#23699" class="Function Operator">ğ•Œ[</a> <a id="78802" href="Demos.HSP-markdown.html#78706" class="Bound">ğ‘¨</a> <a id="78804" href="Demos.HSP-markdown.html#23699" class="Function Operator">]</a><a id="78805" class="Symbol">}</a> <a id="78807" class="Symbol">(</a><a id="78808" href="Demos.HSP-markdown.html#52854" class="Function">Th</a> <a id="78811" class="Symbol">(</a><a id="78812" href="Demos.HSP-markdown.html#57932" class="Function">V</a> <a id="78814" href="Demos.HSP-markdown.html#77825" class="Bound">â„“</a> <a id="78816" href="Demos.HSP-markdown.html#77844" class="Function">Î¹</a> <a id="78818" href="Demos.HSP-markdown.html#77789" class="Bound">ğ’¦</a><a id="78819" class="Symbol">))</a>
  <a id="78824" href="Demos.HSP-markdown.html#78732" class="Function">Birkhoff-converse</a> <a id="78842" href="Demos.HSP-markdown.html#78842" class="Bound">vA</a> <a id="78845" href="Demos.HSP-markdown.html#78845" class="Bound">pThq</a> <a id="78850" class="Symbol">=</a> <a id="78852" href="Demos.HSP-markdown.html#78845" class="Bound">pThq</a> <a id="78857" href="Demos.HSP-markdown.html#78706" class="Bound">ğ‘¨</a> <a id="78859" href="Demos.HSP-markdown.html#78842" class="Bound">vA</a>

</pre>

We have thus proved that every variety is an equational class.

Readers familiar with the classical formulation of the Birkhoff HSP theorem as an
"if and only if" assertion might worry that the proof is still incomplete. However,
recall that in the [Varieties.Func.Preservation][] module we proved the following
identity preservation lemma:

`V-id1 : ğ’¦ âŠ« p â‰ˆÌ‡ q â†’ V ğ’¦ âŠ« p â‰ˆÌ‡ q`

Thus, if `ğ’¦` is an equational class---that is, if `ğ’¦` is the class of algebras
satisfying all identities in some set---then `V ğ’¦` âŠ† ğ’¦`.  On the other hand, we
proved that `V` is expansive in the [Varieties.Func.Closure][] module:

`V-expa : ğ’¦ âŠ† V ğ’¦`

so `ğ’¦` (= `V ğ’¦` = `HSP ğ’¦`) is a variety.

Taken together, `V-id1` and `V-expa` constitute formal proof that every equational
class is a variety.

This completes the formal proof of Birkhoff's variety theorem.





--------------------------------

<span style="float:left;">[â† Varieties.Func.FreeAlgebras](Varieties.Func.FreeAlgebras.html)</span>
<span style="float:right;">[Structures â†’](Structures.html)</span>

{% include UALib.Links.md %}

