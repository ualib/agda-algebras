---
layout: default
title : "Base.Varieties.Preservation (The Agda Universal Algebra Library)"
date : "2021-01-14"
author: "agda-algebras development team"
---

### <a id="Equation preservation">Equation preservation</a>

This is the [Base.Varieties.Preservation][] module of the [Agda Universal Algebra Library][]. In this module we show that identities are preserved by closure operators H, S, and P.  This will establish the easy direction of Birkhoff's HSP Theorem.

<pre class="Agda">

<a id="486" class="Symbol">{-#</a> <a id="490" class="Keyword">OPTIONS</a> <a id="498" class="Pragma">--without-K</a> <a id="510" class="Pragma">--exact-split</a> <a id="524" class="Pragma">--safe</a> <a id="531" class="Symbol">#-}</a>

<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Base.Algebras.Basic.html" class="Module">Base.Algebras.Basic</a> <a id="568" class="Keyword">using</a> <a id="574" class="Symbol">(</a> <a id="576" href="Base.Algebras.Basic.html#1160" class="Generalizable">ğ“</a> <a id="578" class="Symbol">;</a> <a id="580" href="Base.Algebras.Basic.html#1162" class="Generalizable">ğ“¥</a> <a id="582" class="Symbol">;</a> <a id="584" href="Base.Algebras.Basic.html#3888" class="Function">Signature</a> <a id="594" class="Symbol">)</a>

<a id="597" class="Keyword">module</a> <a id="604" href="Base.Varieties.Preservation.html" class="Module">Base.Varieties.Preservation</a> <a id="632" class="Symbol">{</a><a id="633" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a> <a id="635" class="Symbol">:</a> <a id="637" href="Base.Algebras.Basic.html#3888" class="Function">Signature</a> <a id="647" href="Base.Algebras.Basic.html#1160" class="Generalizable">ğ“</a> <a id="649" href="Base.Algebras.Basic.html#1162" class="Generalizable">ğ“¥</a><a id="650" class="Symbol">}</a> <a id="652" class="Keyword">where</a>

<a id="659" class="Comment">-- Imports from Agda and the Agda Standard Library -----------------------------------------------</a>
<a id="758" class="Keyword">open</a> <a id="763" class="Keyword">import</a> <a id="770" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>  <a id="786" class="Keyword">using</a> <a id="792" class="Symbol">(</a> <a id="794" href="Agda.Primitive.html#810" class="Primitive Operator">_âŠ”_</a> <a id="798" class="Symbol">;</a> <a id="800" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="805" class="Symbol">;</a> <a id="807" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="813" class="Symbol">)</a> <a id="815" class="Keyword">renaming</a> <a id="824" class="Symbol">(</a> <a id="826" href="Agda.Primitive.html#326" class="Primitive">Set</a>   <a id="832" class="Symbol">to</a> <a id="835" class="Primitive">Type</a> <a id="840" class="Symbol">)</a>
<a id="842" class="Keyword">open</a> <a id="847" class="Keyword">import</a> <a id="854" href="Axiom.Extensionality.Propositional.html" class="Module">Axiom.Extensionality.Propositional</a>
                            <a id="917" class="Keyword">using</a> <a id="923" class="Symbol">()</a> <a id="926" class="Keyword">renaming</a> <a id="935" class="Symbol">(</a><a id="936" href="Axiom.Extensionality.Propositional.html#741" class="Function">Extensionality</a> <a id="951" class="Symbol">to</a> <a id="954" class="Function">funext</a><a id="960" class="Symbol">)</a>
<a id="962" class="Keyword">open</a> <a id="967" class="Keyword">import</a> <a id="974" href="Data.Product.html" class="Module">Data.Product</a>    <a id="990" class="Keyword">using</a> <a id="996" class="Symbol">(</a> <a id="998" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="1002" class="Symbol">;</a> <a id="1004" href="Data.Product.html#916" class="Function">Î£-syntax</a> <a id="1013" class="Symbol">;</a> <a id="1015" href="Data.Product.html#1167" class="Function Operator">_Ã—_</a> <a id="1019" class="Symbol">)</a> <a id="1021" class="Keyword">renaming</a> <a id="1030" class="Symbol">(</a> <a id="1032" href="Agda.Builtin.Sigma.html#252" class="Field">projâ‚</a> <a id="1038" class="Symbol">to</a> <a id="1041" class="Field">fst</a> <a id="1045" class="Symbol">;</a> <a id="1047" href="Agda.Builtin.Sigma.html#264" class="Field">projâ‚‚</a> <a id="1053" class="Symbol">to</a> <a id="1056" class="Field">snd</a> <a id="1060" class="Symbol">)</a>
<a id="1062" class="Keyword">open</a> <a id="1067" class="Keyword">import</a> <a id="1074" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a>   <a id="1090" class="Keyword">using</a> <a id="1096" class="Symbol">(</a> <a id="1098" href="Data.Sum.Base.html#734" class="Datatype Operator">_âŠ_</a> <a id="1102" class="Symbol">)</a> <a id="1104" class="Keyword">renaming</a> <a id="1113" class="Symbol">(</a> <a id="1115" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ‚</a>  <a id="1121" class="Symbol">to</a> <a id="1124" class="InductiveConstructor">inl</a> <a id="1128" class="Symbol">;</a> <a id="1130" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ‚‚</a>  <a id="1136" class="Symbol">to</a> <a id="1139" class="InductiveConstructor">inr</a> <a id="1143" class="Symbol">)</a>
<a id="1145" class="Keyword">open</a> <a id="1150" class="Keyword">import</a> <a id="1157" href="Function.Base.html" class="Module">Function.Base</a>   <a id="1173" class="Keyword">using</a> <a id="1179" class="Symbol">(</a> <a id="1181" href="Function.Base.html#1031" class="Function Operator">_âˆ˜_</a> <a id="1185" class="Symbol">)</a>
<a id="1187" class="Keyword">open</a> <a id="1192" class="Keyword">import</a> <a id="1199" href="Relation.Unary.html" class="Module">Relation.Unary</a>  <a id="1215" class="Keyword">using</a> <a id="1221" class="Symbol">(</a> <a id="1223" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="1228" class="Symbol">;</a> <a id="1230" href="Relation.Unary.html#1742" class="Function Operator">_âŠ†_</a> <a id="1234" class="Symbol">;</a> <a id="1236" href="Relation.Unary.html#1523" class="Function Operator">_âˆˆ_</a> <a id="1240" class="Symbol">;</a> <a id="1242" href="Relation.Unary.html#1335" class="Function Operator">ï½›_ï½</a> <a id="1246" class="Symbol">;</a> <a id="1248" href="Relation.Unary.html#4417" class="Function Operator">_âˆª_</a> <a id="1252" class="Symbol">)</a>
<a id="1254" class="Keyword">open</a> <a id="1259" class="Keyword">import</a> <a id="1266" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
                            <a id="1332" class="Keyword">using</a> <a id="1338" class="Symbol">(</a> <a id="1340" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_â‰¡_</a> <a id="1344" class="Symbol">;</a> <a id="1346" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1351" class="Symbol">;</a> <a id="1353" class="Keyword">module</a> <a id="1360" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">â‰¡-Reasoning</a> <a id="1372" class="Symbol">;</a> <a id="1374" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="1383" class="Symbol">;</a> <a id="1385" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1390" class="Symbol">)</a>

<a id="1393" class="Comment">-- Imports from the Agda Universal Algebra Library ---------------------------------------------</a>
<a id="1490" class="Keyword">open</a> <a id="1495" class="Keyword">import</a> <a id="1502" href="Base.Overture.Preliminaries.html" class="Module">Base.Overture.Preliminaries</a>             <a id="1542" class="Keyword">using</a> <a id="1548" class="Symbol">(</a> <a id="1550" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£_âˆ£</a> <a id="1554" class="Symbol">;</a> <a id="1556" href="Base.Overture.Preliminaries.html#4435" class="Function Operator">âˆ¥_âˆ¥</a> <a id="1560" class="Symbol">;</a> <a id="1562" href="Base.Overture.Preliminaries.html#4990" class="Function Operator">_â»Â¹</a> <a id="1566" class="Symbol">)</a>
<a id="1568" class="Keyword">open</a> <a id="1573" class="Keyword">import</a> <a id="1580" href="Base.Overture.Inverses.html" class="Module">Base.Overture.Inverses</a>                  <a id="1620" class="Keyword">using</a> <a id="1626" class="Symbol">(</a> <a id="1628" href="Base.Overture.Inverses.html#2210" class="Function">Inv</a> <a id="1632" class="Symbol">;</a> <a id="1634" href="Base.Overture.Inverses.html#2457" class="Function">InvIsInverseÊ³</a> <a id="1648" class="Symbol">)</a>
<a id="1650" class="Keyword">open</a> <a id="1655" class="Keyword">import</a> <a id="1662" href="Base.Overture.Injective.html" class="Module">Base.Overture.Injective</a>                 <a id="1702" class="Keyword">using</a> <a id="1708" class="Symbol">(</a> <a id="1710" href="Base.Overture.Injective.html#1280" class="Function">IsInjective</a> <a id="1722" class="Symbol">)</a>
<a id="1724" class="Keyword">open</a> <a id="1729" class="Keyword">import</a> <a id="1736" href="Base.Equality.Welldefined.html" class="Module">Base.Equality.Welldefined</a>               <a id="1776" class="Keyword">using</a> <a id="1782" class="Symbol">(</a> <a id="1784" href="Base.Equality.Welldefined.html#2969" class="Function">SwellDef</a> <a id="1793" class="Symbol">)</a>
<a id="1795" class="Keyword">open</a> <a id="1800" class="Keyword">import</a> <a id="1807" href="Base.Equality.Truncation.html" class="Module">Base.Equality.Truncation</a>                <a id="1847" class="Keyword">using</a> <a id="1853" class="Symbol">(</a> <a id="1855" href="Base.Equality.Truncation.html#3890" class="Function">hfunext</a> <a id="1863" class="Symbol">)</a>
<a id="1865" class="Keyword">open</a> <a id="1870" class="Keyword">import</a> <a id="1877" href="Base.Equality.Extensionality.html" class="Module">Base.Equality.Extensionality</a>            <a id="1917" class="Keyword">using</a> <a id="1923" class="Symbol">(</a> <a id="1925" href="Base.Equality.Extensionality.html#2294" class="Function">DFunExt</a> <a id="1933" class="Symbol">)</a>
<a id="1935" class="Keyword">open</a> <a id="1940" class="Keyword">import</a> <a id="1947" href="Base.Algebras.Basic.html" class="Module">Base.Algebras.Basic</a>                     <a id="1987" class="Keyword">using</a> <a id="1993" class="Symbol">(</a> <a id="1995" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="2003" class="Symbol">;</a> <a id="2005" href="Base.Algebras.Basic.html#10888" class="Function">Lift-Alg</a> <a id="2014" class="Symbol">)</a>
<a id="2016" class="Keyword">open</a> <a id="2021" class="Keyword">import</a> <a id="2028" href="Base.Algebras.Products.html" class="Module">Base.Algebras.Products</a>          <a id="2060" class="Symbol">{</a><a id="2061" class="Argument">ğ‘†</a> <a id="2063" class="Symbol">=</a> <a id="2065" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="2066" class="Symbol">}</a> <a id="2068" class="Keyword">using</a> <a id="2074" class="Symbol">(</a> <a id="2076" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="2079" class="Symbol">;</a> <a id="2081" href="Base.Algebras.Products.html#1899" class="Function">â¨…</a> <a id="2083" class="Symbol">;</a> <a id="2085" href="Base.Algebras.Products.html#5334" class="Function">ğ”„</a> <a id="2087" class="Symbol">;</a> <a id="2089" href="Base.Algebras.Products.html#5481" class="Function">class-product</a><a id="2102" class="Symbol">)</a>
<a id="2104" class="Keyword">open</a> <a id="2109" class="Keyword">import</a> <a id="2116" href="Base.Homomorphisms.Basic.html" class="Module">Base.Homomorphisms.Basic</a>        <a id="2148" class="Symbol">{</a><a id="2149" class="Argument">ğ‘†</a> <a id="2151" class="Symbol">=</a> <a id="2153" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="2154" class="Symbol">}</a> <a id="2156" class="Keyword">using</a> <a id="2162" class="Symbol">(</a> <a id="2164" href="Base.Homomorphisms.Basic.html#2573" class="Function">is-homomorphism</a> <a id="2180" class="Symbol">)</a>
<a id="2182" class="Keyword">open</a> <a id="2187" class="Keyword">import</a> <a id="2194" href="Base.Homomorphisms.Isomorphisms.html" class="Module">Base.Homomorphisms.Isomorphisms</a> <a id="2226" class="Symbol">{</a><a id="2227" class="Argument">ğ‘†</a> <a id="2229" class="Symbol">=</a> <a id="2231" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="2232" class="Symbol">}</a> <a id="2234" class="Keyword">using</a> <a id="2240" class="Symbol">(</a> <a id="2242" href="Base.Homomorphisms.Isomorphisms.html#2378" class="Record Operator">_â‰…_</a> <a id="2246" class="Symbol">;</a> <a id="2248" href="Base.Homomorphisms.Isomorphisms.html#3009" class="Function">â‰…-sym</a> <a id="2254" class="Symbol">;</a> <a id="2256" href="Base.Homomorphisms.Isomorphisms.html#4453" class="Function">Lift-â‰…</a> <a id="2263" class="Symbol">;</a> <a id="2265" href="Base.Homomorphisms.Isomorphisms.html#3098" class="Function">â‰…-trans</a> <a id="2273" class="Symbol">;</a> <a id="2275" href="Base.Homomorphisms.Isomorphisms.html#5775" class="Function">â¨…â‰…</a> <a id="2278" class="Symbol">;</a> <a id="2280" href="Base.Homomorphisms.Isomorphisms.html#2919" class="Function">â‰…-refl</a> <a id="2287" class="Symbol">)</a>
                                                    <a id="2341" class="Keyword">using</a> <a id="2347" class="Symbol">(</a> <a id="2349" href="Base.Homomorphisms.Isomorphisms.html#4772" class="Function">Lift-Alg-iso</a> <a id="2362" class="Symbol">;</a> <a id="2364" href="Base.Homomorphisms.Isomorphisms.html#5194" class="Function">Lift-Alg-assoc</a> <a id="2379" class="Symbol">)</a>
<a id="2381" class="Keyword">open</a> <a id="2386" class="Keyword">import</a> <a id="2393" href="Base.Terms.Basic.html" class="Module">Base.Terms.Basic</a>                <a id="2425" class="Symbol">{</a><a id="2426" class="Argument">ğ‘†</a> <a id="2428" class="Symbol">=</a> <a id="2430" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="2431" class="Symbol">}</a> <a id="2433" class="Keyword">using</a> <a id="2439" class="Symbol">(</a> <a id="2441" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="2446" class="Symbol">;</a> <a id="2448" href="Base.Terms.Basic.html#3304" class="Function">ğ‘»</a> <a id="2450" class="Symbol">)</a>
<a id="2452" class="Keyword">open</a> <a id="2457" class="Keyword">import</a> <a id="2464" href="Base.Terms.Operations.html" class="Module">Base.Terms.Operations</a>           <a id="2496" class="Symbol">{</a><a id="2497" class="Argument">ğ‘†</a> <a id="2499" class="Symbol">=</a> <a id="2501" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="2502" class="Symbol">}</a> <a id="2504" class="Keyword">using</a> <a id="2510" class="Symbol">(</a> <a id="2512" href="Base.Terms.Operations.html#2637" class="Function Operator">_âŸ¦_âŸ§</a><a id="2516" class="Symbol">;</a> <a id="2518" href="Base.Terms.Operations.html#6644" class="Function">comm-hom-term</a> <a id="2532" class="Symbol">)</a>
<a id="2534" class="Keyword">open</a> <a id="2539" class="Keyword">import</a> <a id="2546" href="Base.Subalgebras.Subalgebras.html" class="Module">Base.Subalgebras.Subalgebras</a>    <a id="2578" class="Symbol">{</a><a id="2579" class="Argument">ğ‘†</a> <a id="2581" class="Symbol">=</a> <a id="2583" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="2584" class="Symbol">}</a> <a id="2586" class="Keyword">using</a> <a id="2592" class="Symbol">(</a> <a id="2594" href="Base.Subalgebras.Subalgebras.html#2266" class="Function Operator">_â‰¤_</a> <a id="2598" class="Symbol">;</a> <a id="2600" href="Base.Subalgebras.Subalgebras.html#2308" class="Function Operator">_IsSubalgebraOf_</a> <a id="2617" class="Symbol">;</a> <a id="2619" href="Base.Subalgebras.Subalgebras.html#5824" class="Function Operator">_IsSubalgebraOfClass_</a> <a id="2641" class="Symbol">)</a>
                                                    <a id="2695" class="Keyword">using</a> <a id="2701" class="Symbol">(</a> <a id="2703" href="Base.Subalgebras.Subalgebras.html#6175" class="Function">SubalgebraOfClass</a> <a id="2721" class="Symbol">)</a>
<a id="2723" class="Keyword">open</a> <a id="2728" class="Keyword">import</a> <a id="2735" href="Base.Subalgebras.Properties.html" class="Module">Base.Subalgebras.Properties</a>     <a id="2767" class="Symbol">{</a><a id="2768" class="Argument">ğ‘†</a> <a id="2770" class="Symbol">=</a> <a id="2772" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="2773" class="Symbol">}</a> <a id="2775" class="Keyword">using</a> <a id="2781" class="Symbol">(</a> <a id="2783" href="Base.Subalgebras.Properties.html#5909" class="Function">â‰¤-Lift</a> <a id="2790" class="Symbol">;</a> <a id="2792" href="Base.Subalgebras.Properties.html#6159" class="Function">Lift-â‰¤-Lift</a> <a id="2804" class="Symbol">)</a>
<a id="2806" class="Keyword">open</a> <a id="2811" class="Keyword">import</a> <a id="2818" href="Base.Varieties.EquationalLogic.html" class="Module">Base.Varieties.EquationalLogic</a>  <a id="2850" class="Symbol">{</a><a id="2851" class="Argument">ğ‘†</a> <a id="2853" class="Symbol">=</a> <a id="2855" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="2856" class="Symbol">}</a> <a id="2858" class="Keyword">using</a> <a id="2864" class="Symbol">(</a> <a id="2866" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">_âŠ«_â‰ˆ_</a> <a id="2872" class="Symbol">;</a> <a id="2874" href="Base.Varieties.EquationalLogic.html#2688" class="Function Operator">_âŠ§_â‰ˆ_</a> <a id="2880" class="Symbol">;</a> <a id="2882" href="Base.Varieties.EquationalLogic.html#3560" class="Function">Th</a> <a id="2885" class="Symbol">)</a>
<a id="2887" class="Keyword">open</a> <a id="2892" class="Keyword">import</a> <a id="2899" href="Base.Varieties.Properties.html" class="Module">Base.Varieties.Properties</a>       <a id="2931" class="Symbol">{</a><a id="2932" class="Argument">ğ‘†</a> <a id="2934" class="Symbol">=</a> <a id="2936" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="2937" class="Symbol">}</a> <a id="2939" class="Keyword">using</a> <a id="2945" class="Symbol">(</a> <a id="2947" href="Base.Varieties.Properties.html#4334" class="Function">âŠ§-Lift-invar</a> <a id="2960" class="Symbol">;</a> <a id="2962" href="Base.Varieties.Properties.html#4468" class="Function">âŠ§-lower-invar</a> <a id="2976" class="Symbol">;</a> <a id="2978" href="Base.Varieties.Properties.html#5621" class="Function">âŠ§-S-class-invar</a> <a id="2994" class="Symbol">)</a>
                                                    <a id="3048" class="Keyword">using</a> <a id="3054" class="Symbol">(</a> <a id="3056" href="Base.Varieties.Properties.html#3391" class="Function">âŠ§-I-invar</a> <a id="3066" class="Symbol">;</a> <a id="3068" href="Base.Varieties.Properties.html#7404" class="Function">âŠ§-P-lift-invar</a> <a id="3083" class="Symbol">;</a> <a id="3085" href="Base.Varieties.Properties.html#6317" class="Function">âŠ§-P-invar</a> <a id="3095" class="Symbol">;</a> <a id="3097" href="Base.Varieties.Properties.html#4894" class="Function">âŠ§-S-invar</a><a id="3106" class="Symbol">)</a>
<a id="3108" class="Keyword">open</a> <a id="3113" class="Keyword">import</a> <a id="3120" href="Base.Varieties.Closure.html" class="Module">Base.Varieties.Closure</a>          <a id="3152" class="Symbol">{</a><a id="3153" class="Argument">ğ‘†</a> <a id="3155" class="Symbol">=</a> <a id="3157" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="3158" class="Symbol">}</a> <a id="3160" class="Keyword">using</a> <a id="3166" class="Symbol">(</a> <a id="3168" href="Base.Varieties.Closure.html#3615" class="Datatype">H</a> <a id="3170" class="Symbol">;</a> <a id="3172" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a> <a id="3174" class="Symbol">;</a> <a id="3176" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a> <a id="3178" class="Symbol">;</a> <a id="3180" href="Base.Varieties.Closure.html#5587" class="Datatype">V</a> <a id="3182" class="Symbol">;</a> <a id="3184" href="Base.Varieties.Closure.html#9774" class="Function">P-expa</a> <a id="3191" class="Symbol">;</a> <a id="3193" href="Base.Varieties.Closure.html#8119" class="Function">Sâ†’subalgebra</a> <a id="3206" class="Symbol">)</a>
                                                    <a id="3260" class="Keyword">using</a> <a id="3266" class="Symbol">(</a> <a id="3268" href="Base.Varieties.Closure.html#11081" class="Function">Lift-Alg-subP&#39;</a> <a id="3283" class="Symbol">;</a> <a id="3285" href="Base.Varieties.Closure.html#7747" class="Function">subalgebraâ†’S</a> <a id="3298" class="Symbol">;</a> <a id="3300" href="Base.Varieties.Closure.html#7168" class="Function">S-mono</a> <a id="3307" class="Symbol">)</a>
                                                    <a id="3361" class="Keyword">using</a> <a id="3367" class="Symbol">(</a> <a id="3369" href="Base.Varieties.Closure.html#9937" class="Function">P-idemp</a> <a id="3377" class="Symbol">;</a> <a id="3379" class="Keyword">module</a> <a id="3386" href="Base.Varieties.Closure.html#11991" class="Module">Vlift</a> <a id="3392" class="Symbol">)</a>
<a id="3394" class="Keyword">open</a> <a id="3399" href="Base.Varieties.Closure.html#3615" class="Module">H</a>
<a id="3401" class="Keyword">open</a> <a id="3406" href="Base.Varieties.Closure.html#4058" class="Module">S</a>
<a id="3408" class="Keyword">open</a> <a id="3413" href="Base.Varieties.Closure.html#4634" class="Module">P</a>
<a id="3415" class="Keyword">open</a> <a id="3420" href="Base.Varieties.Closure.html#5587" class="Module">V</a>

<a id="3423" class="Keyword">private</a> <a id="3431" class="Keyword">variable</a> <a id="3440" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a> <a id="3442" href="Base.Varieties.Preservation.html#3442" class="Generalizable">Î²</a> <a id="3444" class="Symbol">:</a> <a id="3446" href="Agda.Primitive.html#597" class="Postulate">Level</a>

</pre>



#### <a id="closure-properties">Closure properties</a>

The types defined above represent operators with useful closure properties. We now prove a handful of such properties that we need later.

The next lemma would be too obvious to care about were it not for the fact that we'll need it later, so it too must be formalized.

<pre class="Agda">

<a id="SâŠ†SP"></a><a id="3808" href="Base.Varieties.Preservation.html#3808" class="Function">SâŠ†SP</a> <a id="3813" class="Symbol">:</a> <a id="3815" class="Symbol">(</a><a id="3816" href="Base.Varieties.Preservation.html#3816" class="Bound">ğ’¦</a> <a id="3818" class="Symbol">:</a> <a id="3820" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3825" class="Symbol">(</a><a id="3826" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="3834" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a> <a id="3836" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="3837" class="Symbol">)(</a><a id="3839" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="3842" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a><a id="3843" class="Symbol">))</a>
 <a id="3847" class="Symbol">â†’</a>     <a id="3853" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a><a id="3854" class="Symbol">{</a><a id="3855" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a><a id="3856" class="Symbol">}{</a><a id="3858" href="Base.Varieties.Preservation.html#3442" class="Generalizable">Î²</a><a id="3859" class="Symbol">}</a> <a id="3861" href="Base.Varieties.Preservation.html#3816" class="Bound">ğ’¦</a> <a id="3863" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="3865" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a><a id="3866" class="Symbol">{</a><a id="3867" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a> <a id="3869" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3871" href="Base.Varieties.Preservation.html#3442" class="Generalizable">Î²</a><a id="3872" class="Symbol">}{</a><a id="3874" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a> <a id="3876" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3878" href="Base.Varieties.Preservation.html#3442" class="Generalizable">Î²</a><a id="3879" class="Symbol">}</a> <a id="3881" class="Symbol">(</a><a id="3882" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="3883" class="Symbol">{</a><a id="3884" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a><a id="3885" class="Symbol">}{</a><a id="3887" href="Base.Varieties.Preservation.html#3442" class="Generalizable">Î²</a><a id="3888" class="Symbol">}</a> <a id="3890" href="Base.Varieties.Preservation.html#3816" class="Bound">ğ’¦</a><a id="3891" class="Symbol">)</a>

<a id="3894" href="Base.Varieties.Preservation.html#3808" class="Function">SâŠ†SP</a> <a id="3899" class="Symbol">{</a><a id="3900" href="Base.Varieties.Preservation.html#3900" class="Bound">Î±</a><a id="3901" class="Symbol">}</a> <a id="3903" class="Symbol">{</a><a id="3904" href="Base.Varieties.Preservation.html#3904" class="Bound">Î²</a><a id="3905" class="Symbol">}</a> <a id="3907" href="Base.Varieties.Preservation.html#3907" class="Bound">ğ’¦</a> <a id="3909" class="Symbol">{</a><a id="3910" class="DottedPattern Symbol">.(</a><a id="3912" href="Base.Algebras.Basic.html#10888" class="DottedPattern Function">Lift-Alg</a> <a id="3921" href="Base.Varieties.Preservation.html#3933" class="DottedPattern Bound">ğ‘¨</a> <a id="3923" href="Base.Varieties.Preservation.html#3904" class="DottedPattern Bound">Î²</a><a id="3924" class="DottedPattern Symbol">)</a><a id="3925" class="Symbol">}(</a><a id="3927" href="Base.Varieties.Closure.html#4146" class="InductiveConstructor">sbase</a><a id="3932" class="Symbol">{</a><a id="3933" href="Base.Varieties.Preservation.html#3933" class="Bound">ğ‘¨</a><a id="3934" class="Symbol">}</a> <a id="3936" href="Base.Varieties.Preservation.html#3936" class="Bound">x</a><a id="3937" class="Symbol">)</a> <a id="3939" class="Symbol">=</a> <a id="3941" href="Base.Varieties.Closure.html#4344" class="InductiveConstructor">siso</a> <a id="3946" href="Base.Varieties.Preservation.html#4039" class="Function">spllA</a><a id="3951" class="Symbol">(</a><a id="3952" href="Base.Homomorphisms.Isomorphisms.html#3009" class="Function">â‰…-sym</a> <a id="3958" href="Base.Homomorphisms.Isomorphisms.html#4453" class="Function">Lift-â‰…</a><a id="3964" class="Symbol">)</a>
 <a id="3967" class="Keyword">where</a>
 <a id="3974" href="Base.Varieties.Preservation.html#3974" class="Function">llA</a> <a id="3978" class="Symbol">:</a> <a id="3980" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="3988" class="Symbol">(</a><a id="3989" href="Base.Varieties.Preservation.html#3900" class="Bound">Î±</a> <a id="3991" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="3993" href="Base.Varieties.Preservation.html#3904" class="Bound">Î²</a><a id="3994" class="Symbol">)</a> <a id="3996" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a>
 <a id="3999" href="Base.Varieties.Preservation.html#3974" class="Function">llA</a> <a id="4003" class="Symbol">=</a> <a id="4005" href="Base.Algebras.Basic.html#10888" class="Function">Lift-Alg</a> <a id="4014" class="Symbol">(</a><a id="4015" href="Base.Algebras.Basic.html#10888" class="Function">Lift-Alg</a> <a id="4024" href="Base.Varieties.Preservation.html#3933" class="Bound">ğ‘¨</a> <a id="4026" href="Base.Varieties.Preservation.html#3904" class="Bound">Î²</a><a id="4027" class="Symbol">)</a> <a id="4029" class="Symbol">(</a><a id="4030" href="Base.Varieties.Preservation.html#3900" class="Bound">Î±</a> <a id="4032" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4034" href="Base.Varieties.Preservation.html#3904" class="Bound">Î²</a><a id="4035" class="Symbol">)</a>

 <a id="4039" href="Base.Varieties.Preservation.html#4039" class="Function">spllA</a> <a id="4045" class="Symbol">:</a> <a id="4047" href="Base.Varieties.Preservation.html#3974" class="Function">llA</a> <a id="4051" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="4053" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a> <a id="4055" class="Symbol">(</a><a id="4056" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a> <a id="4058" href="Base.Varieties.Preservation.html#3907" class="Bound">ğ’¦</a><a id="4059" class="Symbol">)</a>
 <a id="4062" href="Base.Varieties.Preservation.html#4039" class="Function">spllA</a> <a id="4068" class="Symbol">=</a> <a id="4070" href="Base.Varieties.Closure.html#4146" class="InductiveConstructor">sbase</a><a id="4075" class="Symbol">{</a><a id="4076" href="Base.Varieties.Preservation.html#3900" class="Bound">Î±</a> <a id="4078" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4080" href="Base.Varieties.Preservation.html#3904" class="Bound">Î²</a><a id="4081" class="Symbol">}{</a><a id="4083" href="Base.Varieties.Preservation.html#3900" class="Bound">Î±</a> <a id="4085" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4087" href="Base.Varieties.Preservation.html#3904" class="Bound">Î²</a><a id="4088" class="Symbol">}</a> <a id="4090" class="Symbol">(</a><a id="4091" href="Base.Varieties.Closure.html#4722" class="InductiveConstructor">pbase</a> <a id="4097" href="Base.Varieties.Preservation.html#3936" class="Bound">x</a><a id="4098" class="Symbol">)</a>

<a id="4101" href="Base.Varieties.Preservation.html#3808" class="Function">SâŠ†SP</a> <a id="4106" class="Symbol">{</a><a id="4107" href="Base.Varieties.Preservation.html#4107" class="Bound">Î±</a><a id="4108" class="Symbol">}</a> <a id="4110" class="Symbol">{</a><a id="4111" href="Base.Varieties.Preservation.html#4111" class="Bound">Î²</a><a id="4112" class="Symbol">}</a> <a id="4114" href="Base.Varieties.Preservation.html#4114" class="Bound">ğ’¦</a> <a id="4116" class="Symbol">{</a><a id="4117" class="DottedPattern Symbol">.(</a><a id="4119" href="Base.Algebras.Basic.html#10888" class="DottedPattern Function">Lift-Alg</a> <a id="4128" href="Base.Varieties.Preservation.html#4140" class="DottedPattern Bound">ğ‘¨</a> <a id="4130" href="Base.Varieties.Preservation.html#4111" class="DottedPattern Bound">Î²</a><a id="4131" class="DottedPattern Symbol">)</a><a id="4132" class="Symbol">}(</a><a id="4134" href="Base.Varieties.Closure.html#4202" class="InductiveConstructor">slift</a><a id="4139" class="Symbol">{</a><a id="4140" href="Base.Varieties.Preservation.html#4140" class="Bound">ğ‘¨</a><a id="4141" class="Symbol">}</a> <a id="4143" href="Base.Varieties.Preservation.html#4143" class="Bound">x</a><a id="4144" class="Symbol">)</a> <a id="4146" class="Symbol">=</a> <a id="4148" href="Base.Varieties.Closure.html#7747" class="Function">subalgebraâ†’S</a> <a id="4161" href="Base.Varieties.Preservation.html#4298" class="Function">lAsc</a>
 <a id="4167" class="Keyword">where</a>
 <a id="4174" href="Base.Varieties.Preservation.html#4174" class="Function">splAu</a> <a id="4180" class="Symbol">:</a> <a id="4182" href="Base.Varieties.Preservation.html#4140" class="Bound">ğ‘¨</a> <a id="4184" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="4186" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a><a id="4187" class="Symbol">(</a><a id="4188" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a> <a id="4190" href="Base.Varieties.Preservation.html#4114" class="Bound">ğ’¦</a><a id="4191" class="Symbol">)</a>
 <a id="4194" href="Base.Varieties.Preservation.html#4174" class="Function">splAu</a> <a id="4200" class="Symbol">=</a> <a id="4202" href="Base.Varieties.Preservation.html#3808" class="Function">SâŠ†SP</a><a id="4206" class="Symbol">{</a><a id="4207" href="Base.Varieties.Preservation.html#4107" class="Bound">Î±</a><a id="4208" class="Symbol">}{</a><a id="4210" href="Base.Varieties.Preservation.html#4107" class="Bound">Î±</a><a id="4211" class="Symbol">}</a> <a id="4213" href="Base.Varieties.Preservation.html#4114" class="Bound">ğ’¦</a> <a id="4215" href="Base.Varieties.Preservation.html#4143" class="Bound">x</a>

 <a id="4219" href="Base.Varieties.Preservation.html#4219" class="Function">Asc</a> <a id="4223" class="Symbol">:</a> <a id="4225" href="Base.Varieties.Preservation.html#4140" class="Bound">ğ‘¨</a> <a id="4227" href="Base.Subalgebras.Subalgebras.html#5824" class="Function Operator">IsSubalgebraOfClass</a> <a id="4247" class="Symbol">(</a><a id="4248" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a> <a id="4250" href="Base.Varieties.Preservation.html#4114" class="Bound">ğ’¦</a><a id="4251" class="Symbol">)</a>
 <a id="4254" href="Base.Varieties.Preservation.html#4219" class="Function">Asc</a> <a id="4258" class="Symbol">=</a> <a id="4260" href="Base.Varieties.Closure.html#8119" class="Function">Sâ†’subalgebra</a><a id="4272" class="Symbol">{</a><a id="4273" href="Base.Varieties.Preservation.html#4107" class="Bound">Î±</a><a id="4274" class="Symbol">}{</a><a id="4276" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="4277" class="Symbol">{</a><a id="4278" href="Base.Varieties.Preservation.html#4107" class="Bound">Î±</a><a id="4279" class="Symbol">}{</a><a id="4281" href="Base.Varieties.Preservation.html#4107" class="Bound">Î±</a><a id="4282" class="Symbol">}</a> <a id="4284" href="Base.Varieties.Preservation.html#4114" class="Bound">ğ’¦</a><a id="4285" class="Symbol">}{</a><a id="4287" href="Base.Varieties.Preservation.html#4140" class="Bound">ğ‘¨</a><a id="4288" class="Symbol">}</a> <a id="4290" href="Base.Varieties.Preservation.html#4174" class="Function">splAu</a>

 <a id="4298" href="Base.Varieties.Preservation.html#4298" class="Function">lAsc</a> <a id="4303" class="Symbol">:</a> <a id="4305" class="Symbol">(</a><a id="4306" href="Base.Algebras.Basic.html#10888" class="Function">Lift-Alg</a> <a id="4315" href="Base.Varieties.Preservation.html#4140" class="Bound">ğ‘¨</a> <a id="4317" href="Base.Varieties.Preservation.html#4111" class="Bound">Î²</a><a id="4318" class="Symbol">)</a> <a id="4320" href="Base.Subalgebras.Subalgebras.html#5824" class="Function Operator">IsSubalgebraOfClass</a> <a id="4340" class="Symbol">(</a><a id="4341" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a> <a id="4343" href="Base.Varieties.Preservation.html#4114" class="Bound">ğ’¦</a><a id="4344" class="Symbol">)</a>
 <a id="4347" href="Base.Varieties.Preservation.html#4298" class="Function">lAsc</a> <a id="4352" class="Symbol">=</a> <a id="4354" href="Base.Varieties.Closure.html#11081" class="Function">Lift-Alg-subP&#39;</a> <a id="4369" href="Base.Varieties.Preservation.html#4219" class="Function">Asc</a>
<a id="4373" href="Base.Varieties.Preservation.html#3808" class="Function">SâŠ†SP</a> <a id="4378" class="Symbol">{</a><a id="4379" href="Base.Varieties.Preservation.html#4379" class="Bound">Î±</a><a id="4380" class="Symbol">}</a> <a id="4382" class="Symbol">{</a><a id="4383" href="Base.Varieties.Preservation.html#4383" class="Bound">Î²</a><a id="4384" class="Symbol">}</a> <a id="4386" href="Base.Varieties.Preservation.html#4386" class="Bound">ğ’¦</a> <a id="4388" class="Symbol">{</a><a id="4389" href="Base.Varieties.Preservation.html#4389" class="Bound">ğ‘©</a><a id="4390" class="Symbol">}(</a><a id="4392" href="Base.Varieties.Closure.html#4266" class="InductiveConstructor">ssub</a><a id="4396" class="Symbol">{</a><a id="4397" href="Base.Varieties.Preservation.html#4397" class="Bound">ğ‘¨</a><a id="4398" class="Symbol">}</a> <a id="4400" href="Base.Varieties.Preservation.html#4400" class="Bound">sA</a> <a id="4403" href="Base.Varieties.Preservation.html#4403" class="Bound">Bâ‰¤A</a><a id="4406" class="Symbol">)</a> <a id="4408" class="Symbol">=</a> <a id="4410" href="Base.Varieties.Closure.html#4266" class="InductiveConstructor">ssub</a> <a id="4415" class="Symbol">(</a><a id="4416" href="Base.Varieties.Closure.html#7747" class="Function">subalgebraâ†’S</a> <a id="4429" href="Base.Varieties.Preservation.html#4636" class="Function">lAsc</a><a id="4433" class="Symbol">)</a> <a id="4435" class="Symbol">(</a><a id="4436" href="Base.Subalgebras.Properties.html#5909" class="Function">â‰¤-Lift</a> <a id="4443" href="Base.Varieties.Preservation.html#4397" class="Bound">ğ‘¨</a> <a id="4445" href="Base.Varieties.Preservation.html#4403" class="Bound">Bâ‰¤A</a> <a id="4449" class="Symbol">)</a>
 <a id="4452" class="Keyword">where</a>
  <a id="4460" href="Base.Varieties.Preservation.html#4460" class="Function">lA</a> <a id="4463" class="Symbol">:</a> <a id="4465" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="4473" class="Symbol">(</a><a id="4474" href="Base.Varieties.Preservation.html#4379" class="Bound">Î±</a> <a id="4476" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4478" href="Base.Varieties.Preservation.html#4383" class="Bound">Î²</a><a id="4479" class="Symbol">)</a> <a id="4481" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a>
  <a id="4485" href="Base.Varieties.Preservation.html#4460" class="Function">lA</a> <a id="4488" class="Symbol">=</a> <a id="4490" href="Base.Algebras.Basic.html#10888" class="Function">Lift-Alg</a> <a id="4499" href="Base.Varieties.Preservation.html#4397" class="Bound">ğ‘¨</a> <a id="4501" href="Base.Varieties.Preservation.html#4383" class="Bound">Î²</a>

  <a id="4506" href="Base.Varieties.Preservation.html#4506" class="Function">splAu</a> <a id="4512" class="Symbol">:</a> <a id="4514" href="Base.Varieties.Preservation.html#4397" class="Bound">ğ‘¨</a> <a id="4516" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="4518" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a> <a id="4520" class="Symbol">(</a><a id="4521" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a> <a id="4523" href="Base.Varieties.Preservation.html#4386" class="Bound">ğ’¦</a><a id="4524" class="Symbol">)</a>
  <a id="4528" href="Base.Varieties.Preservation.html#4506" class="Function">splAu</a> <a id="4534" class="Symbol">=</a> <a id="4536" href="Base.Varieties.Preservation.html#3808" class="Function">SâŠ†SP</a><a id="4540" class="Symbol">{</a><a id="4541" href="Base.Varieties.Preservation.html#4379" class="Bound">Î±</a><a id="4542" class="Symbol">}{</a><a id="4544" href="Base.Varieties.Preservation.html#4379" class="Bound">Î±</a><a id="4545" class="Symbol">}</a> <a id="4547" href="Base.Varieties.Preservation.html#4386" class="Bound">ğ’¦</a> <a id="4549" href="Base.Varieties.Preservation.html#4400" class="Bound">sA</a>

  <a id="4555" href="Base.Varieties.Preservation.html#4555" class="Function">Asc</a> <a id="4559" class="Symbol">:</a> <a id="4561" href="Base.Varieties.Preservation.html#4397" class="Bound">ğ‘¨</a> <a id="4563" href="Base.Subalgebras.Subalgebras.html#5824" class="Function Operator">IsSubalgebraOfClass</a> <a id="4583" class="Symbol">(</a><a id="4584" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a> <a id="4586" href="Base.Varieties.Preservation.html#4386" class="Bound">ğ’¦</a><a id="4587" class="Symbol">)</a>
  <a id="4591" href="Base.Varieties.Preservation.html#4555" class="Function">Asc</a> <a id="4595" class="Symbol">=</a> <a id="4597" href="Base.Varieties.Closure.html#8119" class="Function">Sâ†’subalgebra</a><a id="4609" class="Symbol">{</a><a id="4610" href="Base.Varieties.Preservation.html#4379" class="Bound">Î±</a><a id="4611" class="Symbol">}{</a><a id="4613" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="4614" class="Symbol">{</a><a id="4615" href="Base.Varieties.Preservation.html#4379" class="Bound">Î±</a><a id="4616" class="Symbol">}{</a><a id="4618" href="Base.Varieties.Preservation.html#4379" class="Bound">Î±</a><a id="4619" class="Symbol">}</a> <a id="4621" href="Base.Varieties.Preservation.html#4386" class="Bound">ğ’¦</a><a id="4622" class="Symbol">}{</a><a id="4624" href="Base.Varieties.Preservation.html#4397" class="Bound">ğ‘¨</a><a id="4625" class="Symbol">}</a> <a id="4627" href="Base.Varieties.Preservation.html#4506" class="Function">splAu</a>

  <a id="4636" href="Base.Varieties.Preservation.html#4636" class="Function">lAsc</a> <a id="4641" class="Symbol">:</a> <a id="4643" href="Base.Varieties.Preservation.html#4460" class="Function">lA</a> <a id="4646" href="Base.Subalgebras.Subalgebras.html#5824" class="Function Operator">IsSubalgebraOfClass</a> <a id="4666" class="Symbol">(</a><a id="4667" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a> <a id="4669" href="Base.Varieties.Preservation.html#4386" class="Bound">ğ’¦</a><a id="4670" class="Symbol">)</a>
  <a id="4674" href="Base.Varieties.Preservation.html#4636" class="Function">lAsc</a> <a id="4679" class="Symbol">=</a> <a id="4681" href="Base.Varieties.Closure.html#11081" class="Function">Lift-Alg-subP&#39;</a> <a id="4696" href="Base.Varieties.Preservation.html#4555" class="Function">Asc</a>

<a id="4701" href="Base.Varieties.Preservation.html#3808" class="Function">SâŠ†SP</a> <a id="4706" class="Symbol">{</a><a id="4707" class="Argument">Î±</a> <a id="4709" class="Symbol">=</a> <a id="4711" href="Base.Varieties.Preservation.html#4711" class="Bound">Î±</a><a id="4712" class="Symbol">}{</a><a id="4714" href="Base.Varieties.Preservation.html#4714" class="Bound">Î²</a><a id="4715" class="Symbol">}</a> <a id="4717" href="Base.Varieties.Preservation.html#4717" class="Bound">ğ’¦</a> <a id="4719" class="Symbol">{</a><a id="4720" href="Base.Varieties.Preservation.html#4720" class="Bound">ğ‘©</a><a id="4721" class="Symbol">}(</a><a id="4723" href="Base.Varieties.Closure.html#4344" class="InductiveConstructor">siso</a><a id="4727" class="Symbol">{</a><a id="4728" href="Base.Varieties.Preservation.html#4728" class="Bound">ğ‘¨</a><a id="4729" class="Symbol">}</a> <a id="4731" href="Base.Varieties.Preservation.html#4731" class="Bound">sA</a> <a id="4734" href="Base.Varieties.Preservation.html#4734" class="Bound">Aâ‰…B</a><a id="4737" class="Symbol">)</a> <a id="4739" class="Symbol">=</a> <a id="4741" href="Base.Varieties.Closure.html#4344" class="InductiveConstructor">siso</a><a id="4745" class="Symbol">{</a><a id="4746" href="Base.Varieties.Preservation.html#4711" class="Bound">Î±</a> <a id="4748" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4750" href="Base.Varieties.Preservation.html#4714" class="Bound">Î²</a><a id="4751" class="Symbol">}{</a><a id="4753" href="Base.Varieties.Preservation.html#4711" class="Bound">Î±</a> <a id="4755" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4757" href="Base.Varieties.Preservation.html#4714" class="Bound">Î²</a><a id="4758" class="Symbol">}</a> <a id="4760" href="Base.Varieties.Preservation.html#4927" class="Function">lAsp</a> <a id="4765" href="Base.Varieties.Preservation.html#5003" class="Function">lAâ‰…B</a>
 <a id="4771" class="Keyword">where</a>
 <a id="4778" href="Base.Varieties.Preservation.html#4778" class="Function">lA</a> <a id="4781" class="Symbol">:</a> <a id="4783" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="4791" class="Symbol">(</a><a id="4792" href="Base.Varieties.Preservation.html#4711" class="Bound">Î±</a> <a id="4794" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4796" href="Base.Varieties.Preservation.html#4714" class="Bound">Î²</a><a id="4797" class="Symbol">)</a> <a id="4799" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a>
 <a id="4802" href="Base.Varieties.Preservation.html#4778" class="Function">lA</a> <a id="4805" class="Symbol">=</a> <a id="4807" href="Base.Algebras.Basic.html#10888" class="Function">Lift-Alg</a> <a id="4816" href="Base.Varieties.Preservation.html#4728" class="Bound">ğ‘¨</a> <a id="4818" href="Base.Varieties.Preservation.html#4714" class="Bound">Î²</a>

 <a id="4822" href="Base.Varieties.Preservation.html#4822" class="Function">lAsc</a> <a id="4827" class="Symbol">:</a> <a id="4829" href="Base.Varieties.Preservation.html#4778" class="Function">lA</a> <a id="4832" href="Base.Subalgebras.Subalgebras.html#5824" class="Function Operator">IsSubalgebraOfClass</a> <a id="4852" class="Symbol">(</a><a id="4853" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a> <a id="4855" href="Base.Varieties.Preservation.html#4717" class="Bound">ğ’¦</a><a id="4856" class="Symbol">)</a>
 <a id="4859" href="Base.Varieties.Preservation.html#4822" class="Function">lAsc</a> <a id="4864" class="Symbol">=</a> <a id="4866" href="Base.Varieties.Closure.html#11081" class="Function">Lift-Alg-subP&#39;</a> <a id="4881" class="Symbol">(</a><a id="4882" href="Base.Varieties.Closure.html#8119" class="Function">Sâ†’subalgebra</a><a id="4894" class="Symbol">{</a><a id="4895" href="Base.Varieties.Preservation.html#4711" class="Bound">Î±</a><a id="4896" class="Symbol">}{</a><a id="4898" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="4899" class="Symbol">{</a><a id="4900" href="Base.Varieties.Preservation.html#4711" class="Bound">Î±</a><a id="4901" class="Symbol">}{</a><a id="4903" href="Base.Varieties.Preservation.html#4711" class="Bound">Î±</a><a id="4904" class="Symbol">}</a> <a id="4906" href="Base.Varieties.Preservation.html#4717" class="Bound">ğ’¦</a><a id="4907" class="Symbol">}{</a><a id="4909" href="Base.Varieties.Preservation.html#4728" class="Bound">ğ‘¨</a><a id="4910" class="Symbol">}</a> <a id="4912" class="Symbol">(</a><a id="4913" href="Base.Varieties.Preservation.html#3808" class="Function">SâŠ†SP</a> <a id="4918" href="Base.Varieties.Preservation.html#4717" class="Bound">ğ’¦</a> <a id="4920" href="Base.Varieties.Preservation.html#4731" class="Bound">sA</a><a id="4922" class="Symbol">))</a>

 <a id="4927" href="Base.Varieties.Preservation.html#4927" class="Function">lAsp</a> <a id="4932" class="Symbol">:</a> <a id="4934" href="Base.Varieties.Preservation.html#4778" class="Function">lA</a> <a id="4937" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="4939" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a><a id="4940" class="Symbol">(</a><a id="4941" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a> <a id="4943" href="Base.Varieties.Preservation.html#4717" class="Bound">ğ’¦</a><a id="4944" class="Symbol">)</a>
 <a id="4947" href="Base.Varieties.Preservation.html#4927" class="Function">lAsp</a> <a id="4952" class="Symbol">=</a> <a id="4954" href="Base.Varieties.Closure.html#7747" class="Function">subalgebraâ†’S</a><a id="4966" class="Symbol">{</a><a id="4967" href="Base.Varieties.Preservation.html#4711" class="Bound">Î±</a> <a id="4969" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4971" href="Base.Varieties.Preservation.html#4714" class="Bound">Î²</a><a id="4972" class="Symbol">}{</a><a id="4974" href="Base.Varieties.Preservation.html#4711" class="Bound">Î±</a> <a id="4976" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="4978" href="Base.Varieties.Preservation.html#4714" class="Bound">Î²</a><a id="4979" class="Symbol">}{</a><a id="4981" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="4982" class="Symbol">{</a><a id="4983" href="Base.Varieties.Preservation.html#4711" class="Bound">Î±</a><a id="4984" class="Symbol">}{</a><a id="4986" href="Base.Varieties.Preservation.html#4714" class="Bound">Î²</a><a id="4987" class="Symbol">}</a> <a id="4989" href="Base.Varieties.Preservation.html#4717" class="Bound">ğ’¦</a><a id="4990" class="Symbol">}{</a><a id="4992" href="Base.Varieties.Preservation.html#4778" class="Function">lA</a><a id="4994" class="Symbol">}</a> <a id="4996" href="Base.Varieties.Preservation.html#4822" class="Function">lAsc</a>

 <a id="5003" href="Base.Varieties.Preservation.html#5003" class="Function">lAâ‰…B</a> <a id="5008" class="Symbol">:</a> <a id="5010" href="Base.Varieties.Preservation.html#4778" class="Function">lA</a> <a id="5013" href="Base.Homomorphisms.Isomorphisms.html#2378" class="Record Operator">â‰…</a> <a id="5015" href="Base.Varieties.Preservation.html#4720" class="Bound">ğ‘©</a>
 <a id="5018" href="Base.Varieties.Preservation.html#5003" class="Function">lAâ‰…B</a> <a id="5023" class="Symbol">=</a> <a id="5025" href="Base.Homomorphisms.Isomorphisms.html#3098" class="Function">â‰…-trans</a> <a id="5033" class="Symbol">(</a><a id="5034" href="Base.Homomorphisms.Isomorphisms.html#3009" class="Function">â‰…-sym</a> <a id="5040" href="Base.Homomorphisms.Isomorphisms.html#4453" class="Function">Lift-â‰…</a><a id="5046" class="Symbol">)</a> <a id="5048" href="Base.Varieties.Preservation.html#4734" class="Bound">Aâ‰…B</a>

</pre>


We need to formalize one more lemma before arriving the main objective of this section, which is the proof of the inclusion PSâŠ†SP.

<pre class="Agda">

<a id="5212" class="Keyword">module</a> <a id="5219" href="Base.Varieties.Preservation.html#5219" class="Module">_</a> <a id="5221" class="Symbol">{</a><a id="5222" href="Base.Varieties.Preservation.html#5222" class="Bound">Î±</a> <a id="5224" href="Base.Varieties.Preservation.html#5224" class="Bound">Î²</a> <a id="5226" class="Symbol">:</a> <a id="5228" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="5233" class="Symbol">}</a> <a id="5235" class="Symbol">{</a><a id="5236" href="Base.Varieties.Preservation.html#5236" class="Bound">ğ’¦</a> <a id="5238" class="Symbol">:</a> <a id="5240" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="5244" class="Symbol">(</a><a id="5245" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="5253" href="Base.Varieties.Preservation.html#5222" class="Bound">Î±</a> <a id="5255" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="5256" class="Symbol">)(</a><a id="5258" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="5261" href="Base.Varieties.Preservation.html#5222" class="Bound">Î±</a><a id="5262" class="Symbol">)}</a> <a id="5265" class="Keyword">where</a>

 <a id="5273" href="Base.Varieties.Preservation.html#5273" class="Function">lemPSâŠ†SP</a> <a id="5282" class="Symbol">:</a> <a id="5284" href="Base.Equality.Truncation.html#3890" class="Function">hfunext</a> <a id="5292" href="Base.Varieties.Preservation.html#5224" class="Bound">Î²</a> <a id="5294" href="Base.Varieties.Preservation.html#5222" class="Bound">Î±</a> <a id="5296" class="Symbol">â†’</a> <a id="5298" href="Base.Varieties.Preservation.html#954" class="Function">funext</a> <a id="5305" href="Base.Varieties.Preservation.html#5224" class="Bound">Î²</a> <a id="5307" href="Base.Varieties.Preservation.html#5222" class="Bound">Î±</a> <a id="5309" class="Symbol">â†’</a> <a id="5311" class="Symbol">{</a><a id="5312" href="Base.Varieties.Preservation.html#5312" class="Bound">I</a> <a id="5314" class="Symbol">:</a> <a id="5316" href="Base.Varieties.Preservation.html#835" class="Primitive">Type</a> <a id="5321" href="Base.Varieties.Preservation.html#5224" class="Bound">Î²</a><a id="5322" class="Symbol">}{</a><a id="5324" href="Base.Varieties.Preservation.html#5324" class="Bound">â„¬</a> <a id="5326" class="Symbol">:</a> <a id="5328" href="Base.Varieties.Preservation.html#5312" class="Bound">I</a> <a id="5330" class="Symbol">â†’</a> <a id="5332" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="5340" href="Base.Varieties.Preservation.html#5222" class="Bound">Î±</a> <a id="5342" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="5343" class="Symbol">}</a>
  <a id="5347" class="Symbol">â†’</a>         <a id="5357" class="Symbol">(âˆ€</a> <a id="5360" href="Base.Varieties.Preservation.html#5360" class="Bound">i</a> <a id="5362" class="Symbol">â†’</a> <a id="5364" class="Symbol">(</a><a id="5365" href="Base.Varieties.Preservation.html#5324" class="Bound">â„¬</a> <a id="5367" href="Base.Varieties.Preservation.html#5360" class="Bound">i</a><a id="5368" class="Symbol">)</a> <a id="5370" href="Base.Subalgebras.Subalgebras.html#5824" class="Function Operator">IsSubalgebraOfClass</a> <a id="5390" href="Base.Varieties.Preservation.html#5236" class="Bound">ğ’¦</a><a id="5391" class="Symbol">)</a>
  <a id="5395" class="Symbol">â†’</a>         <a id="5405" href="Base.Algebras.Products.html#1899" class="Function">â¨…</a> <a id="5407" href="Base.Varieties.Preservation.html#5324" class="Bound">â„¬</a> <a id="5409" href="Base.Subalgebras.Subalgebras.html#5824" class="Function Operator">IsSubalgebraOfClass</a> <a id="5429" class="Symbol">(</a><a id="5430" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="5431" class="Symbol">{</a><a id="5432" href="Base.Varieties.Preservation.html#5222" class="Bound">Î±</a><a id="5433" class="Symbol">}{</a><a id="5435" href="Base.Varieties.Preservation.html#5224" class="Bound">Î²</a><a id="5436" class="Symbol">}</a> <a id="5438" href="Base.Varieties.Preservation.html#5236" class="Bound">ğ’¦</a><a id="5439" class="Symbol">)</a>

 <a id="5443" href="Base.Varieties.Preservation.html#5273" class="Function">lemPSâŠ†SP</a> <a id="5452" href="Base.Varieties.Preservation.html#5452" class="Bound">hwu</a> <a id="5456" href="Base.Varieties.Preservation.html#5456" class="Bound">fwu</a> <a id="5460" class="Symbol">{</a><a id="5461" href="Base.Varieties.Preservation.html#5461" class="Bound">I</a><a id="5462" class="Symbol">}{</a><a id="5464" href="Base.Varieties.Preservation.html#5464" class="Bound">â„¬</a><a id="5465" class="Symbol">}</a> <a id="5467" href="Base.Varieties.Preservation.html#5467" class="Bound">Bâ‰¤K</a> <a id="5471" class="Symbol">=</a> <a id="5473" href="Base.Algebras.Products.html#1899" class="Function">â¨…</a> <a id="5475" href="Base.Varieties.Preservation.html#5544" class="Function">ğ’œ</a> <a id="5477" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5479" class="Symbol">(</a><a id="5480" href="Base.Algebras.Products.html#1899" class="Function">â¨…</a> <a id="5482" href="Base.Varieties.Preservation.html#5589" class="Function">SA</a> <a id="5485" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5487" href="Base.Varieties.Preservation.html#6133" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a><a id="5493" class="Symbol">)</a> <a id="5495" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5497" href="Base.Varieties.Preservation.html#6182" class="Function">Î¾</a> <a id="5499" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5501" class="Symbol">(</a><a id="5502" href="Base.Homomorphisms.Isomorphisms.html#5775" class="Function">â¨…â‰…</a> <a id="5505" class="Symbol">{</a><a id="5506" class="Argument">fiu</a> <a id="5510" class="Symbol">=</a> <a id="5512" href="Base.Varieties.Preservation.html#5456" class="Bound">fwu</a><a id="5515" class="Symbol">}{</a><a id="5517" class="Argument">fiw</a> <a id="5521" class="Symbol">=</a> <a id="5523" href="Base.Varieties.Preservation.html#5456" class="Bound">fwu</a><a id="5526" class="Symbol">}</a> <a id="5528" href="Base.Varieties.Preservation.html#5644" class="Function">Bâ‰…SA</a><a id="5532" class="Symbol">)</a>
  <a id="5536" class="Keyword">where</a>
  <a id="5544" href="Base.Varieties.Preservation.html#5544" class="Function">ğ’œ</a> <a id="5546" class="Symbol">:</a> <a id="5548" href="Base.Varieties.Preservation.html#5461" class="Bound">I</a> <a id="5550" class="Symbol">â†’</a> <a id="5552" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="5560" href="Base.Varieties.Preservation.html#5222" class="Bound">Î±</a> <a id="5562" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a>
  <a id="5566" href="Base.Varieties.Preservation.html#5544" class="Function">ğ’œ</a> <a id="5568" class="Symbol">=</a> <a id="5570" class="Symbol">Î»</a> <a id="5572" href="Base.Varieties.Preservation.html#5572" class="Bound">i</a> <a id="5574" class="Symbol">â†’</a> <a id="5576" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="5578" href="Base.Varieties.Preservation.html#5467" class="Bound">Bâ‰¤K</a> <a id="5582" href="Base.Varieties.Preservation.html#5572" class="Bound">i</a> <a id="5584" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a>

  <a id="5589" href="Base.Varieties.Preservation.html#5589" class="Function">SA</a> <a id="5592" class="Symbol">:</a> <a id="5594" href="Base.Varieties.Preservation.html#5461" class="Bound">I</a> <a id="5596" class="Symbol">â†’</a> <a id="5598" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="5606" href="Base.Varieties.Preservation.html#5222" class="Bound">Î±</a> <a id="5608" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a>
  <a id="5612" href="Base.Varieties.Preservation.html#5589" class="Function">SA</a> <a id="5615" class="Symbol">=</a> <a id="5617" class="Symbol">Î»</a> <a id="5619" href="Base.Varieties.Preservation.html#5619" class="Bound">i</a> <a id="5621" class="Symbol">â†’</a> <a id="5623" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="5625" href="Base.Varieties.Preservation.html#1041" class="Field">fst</a> <a id="5629" href="Base.Overture.Preliminaries.html#4435" class="Function Operator">âˆ¥</a> <a id="5631" href="Base.Varieties.Preservation.html#5467" class="Bound">Bâ‰¤K</a> <a id="5635" href="Base.Varieties.Preservation.html#5619" class="Bound">i</a> <a id="5637" href="Base.Overture.Preliminaries.html#4435" class="Function Operator">âˆ¥</a> <a id="5639" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a>

  <a id="5644" href="Base.Varieties.Preservation.html#5644" class="Function">Bâ‰…SA</a> <a id="5649" class="Symbol">:</a> <a id="5651" class="Symbol">âˆ€</a> <a id="5653" href="Base.Varieties.Preservation.html#5653" class="Bound">i</a> <a id="5655" class="Symbol">â†’</a> <a id="5657" href="Base.Varieties.Preservation.html#5464" class="Bound">â„¬</a> <a id="5659" href="Base.Varieties.Preservation.html#5653" class="Bound">i</a> <a id="5661" href="Base.Homomorphisms.Isomorphisms.html#2378" class="Record Operator">â‰…</a> <a id="5663" href="Base.Varieties.Preservation.html#5589" class="Function">SA</a> <a id="5666" href="Base.Varieties.Preservation.html#5653" class="Bound">i</a>
  <a id="5670" href="Base.Varieties.Preservation.html#5644" class="Function">Bâ‰…SA</a> <a id="5675" class="Symbol">=</a> <a id="5677" class="Symbol">Î»</a> <a id="5679" href="Base.Varieties.Preservation.html#5679" class="Bound">i</a> <a id="5681" class="Symbol">â†’</a> <a id="5683" href="Base.Overture.Preliminaries.html#4435" class="Function Operator">âˆ¥</a> <a id="5685" href="Base.Varieties.Preservation.html#1056" class="Field">snd</a> <a id="5689" href="Base.Overture.Preliminaries.html#4435" class="Function Operator">âˆ¥</a> <a id="5691" href="Base.Varieties.Preservation.html#5467" class="Bound">Bâ‰¤K</a> <a id="5695" href="Base.Varieties.Preservation.html#5679" class="Bound">i</a> <a id="5697" href="Base.Overture.Preliminaries.html#4435" class="Function Operator">âˆ¥</a> <a id="5699" href="Base.Overture.Preliminaries.html#4435" class="Function Operator">âˆ¥</a>

  <a id="5704" href="Base.Varieties.Preservation.html#5704" class="Function">SAâ‰¤ğ’œ</a> <a id="5709" class="Symbol">:</a> <a id="5711" class="Symbol">âˆ€</a> <a id="5713" href="Base.Varieties.Preservation.html#5713" class="Bound">i</a> <a id="5715" class="Symbol">â†’</a> <a id="5717" class="Symbol">(</a><a id="5718" href="Base.Varieties.Preservation.html#5589" class="Function">SA</a> <a id="5721" href="Base.Varieties.Preservation.html#5713" class="Bound">i</a><a id="5722" class="Symbol">)</a> <a id="5724" href="Base.Subalgebras.Subalgebras.html#2308" class="Function Operator">IsSubalgebraOf</a> <a id="5739" class="Symbol">(</a><a id="5740" href="Base.Varieties.Preservation.html#5544" class="Function">ğ’œ</a> <a id="5742" href="Base.Varieties.Preservation.html#5713" class="Bound">i</a><a id="5743" class="Symbol">)</a>
  <a id="5747" href="Base.Varieties.Preservation.html#5704" class="Function">SAâ‰¤ğ’œ</a> <a id="5752" class="Symbol">=</a> <a id="5754" class="Symbol">Î»</a> <a id="5756" href="Base.Varieties.Preservation.html#5756" class="Bound">i</a> <a id="5758" class="Symbol">â†’</a> <a id="5760" href="Base.Varieties.Preservation.html#1056" class="Field">snd</a> <a id="5764" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="5766" href="Base.Overture.Preliminaries.html#4435" class="Function Operator">âˆ¥</a> <a id="5768" href="Base.Varieties.Preservation.html#5467" class="Bound">Bâ‰¤K</a> <a id="5772" href="Base.Varieties.Preservation.html#5756" class="Bound">i</a> <a id="5774" href="Base.Overture.Preliminaries.html#4435" class="Function Operator">âˆ¥</a> <a id="5776" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a>

  <a id="5781" href="Base.Varieties.Preservation.html#5781" class="Function">h</a> <a id="5783" class="Symbol">:</a> <a id="5785" class="Symbol">âˆ€</a> <a id="5787" href="Base.Varieties.Preservation.html#5787" class="Bound">i</a> <a id="5789" class="Symbol">â†’</a> <a id="5791" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="5793" href="Base.Varieties.Preservation.html#5589" class="Function">SA</a> <a id="5796" href="Base.Varieties.Preservation.html#5787" class="Bound">i</a> <a id="5798" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="5800" class="Symbol">â†’</a> <a id="5802" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="5804" href="Base.Varieties.Preservation.html#5544" class="Function">ğ’œ</a> <a id="5806" href="Base.Varieties.Preservation.html#5787" class="Bound">i</a> <a id="5808" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a>
  <a id="5812" href="Base.Varieties.Preservation.html#5781" class="Function">h</a> <a id="5814" class="Symbol">=</a> <a id="5816" class="Symbol">Î»</a> <a id="5818" href="Base.Varieties.Preservation.html#5818" class="Bound">i</a> <a id="5820" class="Symbol">â†’</a> <a id="5822" href="Base.Varieties.Preservation.html#1041" class="Field">fst</a> <a id="5826" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="5828" href="Base.Varieties.Preservation.html#5704" class="Function">SAâ‰¤ğ’œ</a> <a id="5833" href="Base.Varieties.Preservation.html#5818" class="Bound">i</a> <a id="5835" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a>

  <a id="5840" href="Base.Varieties.Preservation.html#5840" class="Function">hinj</a> <a id="5845" class="Symbol">:</a> <a id="5847" class="Symbol">âˆ€</a> <a id="5849" href="Base.Varieties.Preservation.html#5849" class="Bound">i</a> <a id="5851" class="Symbol">â†’</a> <a id="5853" href="Base.Overture.Injective.html#1280" class="Function">IsInjective</a> <a id="5865" class="Symbol">(</a><a id="5866" href="Base.Varieties.Preservation.html#5781" class="Function">h</a> <a id="5868" href="Base.Varieties.Preservation.html#5849" class="Bound">i</a><a id="5869" class="Symbol">)</a>
  <a id="5873" href="Base.Varieties.Preservation.html#5840" class="Function">hinj</a> <a id="5878" class="Symbol">=</a> <a id="5880" class="Symbol">Î»</a> <a id="5882" href="Base.Varieties.Preservation.html#5882" class="Bound">i</a> <a id="5884" class="Symbol">â†’</a> <a id="5886" href="Base.Varieties.Preservation.html#1056" class="Field">snd</a> <a id="5890" class="Symbol">(</a><a id="5891" href="Base.Varieties.Preservation.html#1056" class="Field">snd</a> <a id="5895" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="5897" href="Base.Overture.Preliminaries.html#4435" class="Function Operator">âˆ¥</a> <a id="5899" href="Base.Varieties.Preservation.html#5467" class="Bound">Bâ‰¤K</a> <a id="5903" href="Base.Varieties.Preservation.html#5882" class="Bound">i</a> <a id="5905" href="Base.Overture.Preliminaries.html#4435" class="Function Operator">âˆ¥</a> <a id="5907" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a><a id="5908" class="Symbol">)</a>

  <a id="5913" href="Base.Varieties.Preservation.html#5913" class="Function">Ïƒ</a> <a id="5915" class="Symbol">:</a> <a id="5917" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="5919" href="Base.Algebras.Products.html#1899" class="Function">â¨…</a> <a id="5921" href="Base.Varieties.Preservation.html#5589" class="Function">SA</a> <a id="5924" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="5926" class="Symbol">â†’</a> <a id="5928" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="5930" href="Base.Algebras.Products.html#1899" class="Function">â¨…</a> <a id="5932" href="Base.Varieties.Preservation.html#5544" class="Function">ğ’œ</a> <a id="5934" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a>
  <a id="5938" href="Base.Varieties.Preservation.html#5913" class="Function">Ïƒ</a> <a id="5940" class="Symbol">=</a> <a id="5942" class="Symbol">Î»</a> <a id="5944" href="Base.Varieties.Preservation.html#5944" class="Bound">x</a> <a id="5946" href="Base.Varieties.Preservation.html#5946" class="Bound">i</a> <a id="5948" class="Symbol">â†’</a> <a id="5950" class="Symbol">(</a><a id="5951" href="Base.Varieties.Preservation.html#5781" class="Function">h</a> <a id="5953" href="Base.Varieties.Preservation.html#5946" class="Bound">i</a><a id="5954" class="Symbol">)</a> <a id="5956" class="Symbol">(</a><a id="5957" href="Base.Varieties.Preservation.html#5944" class="Bound">x</a> <a id="5959" href="Base.Varieties.Preservation.html#5946" class="Bound">i</a><a id="5960" class="Symbol">)</a>
  <a id="5964" href="Base.Varieties.Preservation.html#5964" class="Function">Î½</a> <a id="5966" class="Symbol">:</a> <a id="5968" href="Base.Homomorphisms.Basic.html#2573" class="Function">is-homomorphism</a> <a id="5984" class="Symbol">(</a><a id="5985" href="Base.Algebras.Products.html#1899" class="Function">â¨…</a> <a id="5987" href="Base.Varieties.Preservation.html#5589" class="Function">SA</a><a id="5989" class="Symbol">)</a> <a id="5991" class="Symbol">(</a><a id="5992" href="Base.Algebras.Products.html#1899" class="Function">â¨…</a> <a id="5994" href="Base.Varieties.Preservation.html#5544" class="Function">ğ’œ</a><a id="5995" class="Symbol">)</a> <a id="5997" href="Base.Varieties.Preservation.html#5913" class="Function">Ïƒ</a>
  <a id="6001" href="Base.Varieties.Preservation.html#5964" class="Function">Î½</a> <a id="6003" class="Symbol">=</a> <a id="6005" class="Symbol">Î»</a> <a id="6007" href="Base.Varieties.Preservation.html#6007" class="Bound">ğ‘“</a> <a id="6009" href="Base.Varieties.Preservation.html#6009" class="Bound">ğ’‚</a> <a id="6011" class="Symbol">â†’</a> <a id="6013" href="Base.Varieties.Preservation.html#5456" class="Bound">fwu</a> <a id="6017" class="Symbol">Î»</a> <a id="6019" href="Base.Varieties.Preservation.html#6019" class="Bound">i</a> <a id="6021" class="Symbol">â†’</a> <a id="6023" class="Symbol">(</a><a id="6024" href="Base.Varieties.Preservation.html#1056" class="Field">snd</a> <a id="6028" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="6030" href="Base.Varieties.Preservation.html#5704" class="Function">SAâ‰¤ğ’œ</a> <a id="6035" href="Base.Varieties.Preservation.html#6019" class="Bound">i</a> <a id="6037" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a><a id="6038" class="Symbol">)</a> <a id="6040" href="Base.Varieties.Preservation.html#6007" class="Bound">ğ‘“</a> <a id="6042" class="Symbol">(Î»</a> <a id="6045" href="Base.Varieties.Preservation.html#6045" class="Bound">x</a> <a id="6047" class="Symbol">â†’</a> <a id="6049" href="Base.Varieties.Preservation.html#6009" class="Bound">ğ’‚</a> <a id="6051" href="Base.Varieties.Preservation.html#6045" class="Bound">x</a> <a id="6053" href="Base.Varieties.Preservation.html#6019" class="Bound">i</a><a id="6054" class="Symbol">)</a>

  <a id="6059" href="Base.Varieties.Preservation.html#6059" class="Function">Ïƒinj</a> <a id="6064" class="Symbol">:</a> <a id="6066" href="Base.Overture.Injective.html#1280" class="Function">IsInjective</a> <a id="6078" href="Base.Varieties.Preservation.html#5913" class="Function">Ïƒ</a>
  <a id="6082" href="Base.Varieties.Preservation.html#6059" class="Function">Ïƒinj</a> <a id="6087" href="Base.Varieties.Preservation.html#6087" class="Bound">ÏƒxÏƒy</a> <a id="6092" class="Symbol">=</a> <a id="6094" href="Base.Varieties.Preservation.html#5456" class="Bound">fwu</a> <a id="6098" class="Symbol">Î»</a> <a id="6100" href="Base.Varieties.Preservation.html#6100" class="Bound">i</a> <a id="6102" class="Symbol">â†’</a> <a id="6104" class="Symbol">(</a><a id="6105" href="Base.Varieties.Preservation.html#5840" class="Function">hinj</a> <a id="6110" href="Base.Varieties.Preservation.html#6100" class="Bound">i</a><a id="6111" class="Symbol">)(</a><a id="6113" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="6122" href="Base.Varieties.Preservation.html#6087" class="Bound">ÏƒxÏƒy</a> <a id="6127" href="Base.Varieties.Preservation.html#6100" class="Bound">i</a><a id="6128" class="Symbol">)</a>

  <a id="6133" href="Base.Varieties.Preservation.html#6133" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a> <a id="6140" class="Symbol">:</a> <a id="6142" href="Base.Algebras.Products.html#1899" class="Function">â¨…</a> <a id="6144" href="Base.Varieties.Preservation.html#5589" class="Function">SA</a> <a id="6147" href="Base.Subalgebras.Subalgebras.html#2266" class="Function Operator">â‰¤</a> <a id="6149" href="Base.Algebras.Products.html#1899" class="Function">â¨…</a> <a id="6151" href="Base.Varieties.Preservation.html#5544" class="Function">ğ’œ</a>
  <a id="6155" href="Base.Varieties.Preservation.html#6133" class="Function">â¨…SAâ‰¤â¨…ğ’œ</a> <a id="6162" class="Symbol">=</a> <a id="6164" class="Symbol">(</a><a id="6165" href="Base.Varieties.Preservation.html#5913" class="Function">Ïƒ</a> <a id="6167" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6169" href="Base.Varieties.Preservation.html#5964" class="Function">Î½</a><a id="6170" class="Symbol">)</a> <a id="6172" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6174" href="Base.Varieties.Preservation.html#6059" class="Function">Ïƒinj</a>

  <a id="6182" href="Base.Varieties.Preservation.html#6182" class="Function">Î¾</a> <a id="6184" class="Symbol">:</a> <a id="6186" href="Base.Algebras.Products.html#1899" class="Function">â¨…</a> <a id="6188" href="Base.Varieties.Preservation.html#5544" class="Function">ğ’œ</a> <a id="6190" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="6192" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a> <a id="6194" href="Base.Varieties.Preservation.html#5236" class="Bound">ğ’¦</a>
  <a id="6198" href="Base.Varieties.Preservation.html#6182" class="Function">Î¾</a> <a id="6200" class="Symbol">=</a> <a id="6202" href="Base.Varieties.Closure.html#4921" class="InductiveConstructor">produ</a> <a id="6208" class="Symbol">(Î»</a> <a id="6211" href="Base.Varieties.Preservation.html#6211" class="Bound">i</a> <a id="6213" class="Symbol">â†’</a> <a id="6215" href="Base.Varieties.Closure.html#9774" class="Function">P-expa</a> <a id="6222" class="Symbol">(</a><a id="6223" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="6225" href="Base.Varieties.Preservation.html#1056" class="Field">snd</a> <a id="6229" href="Base.Overture.Preliminaries.html#4435" class="Function Operator">âˆ¥</a> <a id="6231" href="Base.Varieties.Preservation.html#5467" class="Bound">Bâ‰¤K</a> <a id="6235" href="Base.Varieties.Preservation.html#6211" class="Bound">i</a> <a id="6237" href="Base.Overture.Preliminaries.html#4435" class="Function Operator">âˆ¥</a> <a id="6239" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a><a id="6240" class="Symbol">))</a>


</pre>



#### <a id="PS-in-SP">PS(ğ’¦) âŠ† SP(ğ’¦)</a>

Finally, we are in a position to prove that a product of subalgebras of algebras in a class ğ’¦ is a subalgebra of a product of algebras in ğ’¦.

<pre class="Agda">

<a id="6456" class="Keyword">module</a> <a id="6463" href="Base.Varieties.Preservation.html#6463" class="Module">_</a> <a id="6465" class="Symbol">{</a><a id="6466" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a> <a id="6468" class="Symbol">:</a> <a id="6470" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="6475" class="Symbol">}</a> <a id="6477" class="Symbol">{</a><a id="6478" href="Base.Varieties.Preservation.html#6478" class="Bound">fovu</a> <a id="6483" class="Symbol">:</a> <a id="6485" href="Base.Varieties.Preservation.html#954" class="Function">funext</a> <a id="6492" class="Symbol">(</a><a id="6493" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="6496" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6497" class="Symbol">)</a> <a id="6499" class="Symbol">(</a><a id="6500" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="6503" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6504" class="Symbol">)}{</a><a id="6507" href="Base.Varieties.Preservation.html#6507" class="Bound">ğ’¦</a> <a id="6509" class="Symbol">:</a> <a id="6511" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="6516" class="Symbol">(</a><a id="6517" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="6525" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a> <a id="6527" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="6528" class="Symbol">)(</a><a id="6530" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="6533" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6534" class="Symbol">)}</a> <a id="6537" class="Keyword">where</a>

 <a id="6545" href="Base.Varieties.Preservation.html#6545" class="Function">PSâŠ†SP</a> <a id="6551" class="Symbol">:</a> <a id="6553" class="Comment">-- extensionality assumptions:</a>
            <a id="6596" href="Base.Equality.Truncation.html#3890" class="Function">hfunext</a> <a id="6604" class="Symbol">(</a><a id="6605" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="6608" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6609" class="Symbol">)(</a><a id="6611" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="6614" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6615" class="Symbol">)</a>

  <a id="6620" class="Symbol">â†’</a>      <a id="6627" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="6628" class="Symbol">{</a><a id="6629" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="6632" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6633" class="Symbol">}{</a><a id="6635" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="6638" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6639" class="Symbol">}</a> <a id="6641" class="Symbol">(</a><a id="6642" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a><a id="6643" class="Symbol">{</a><a id="6644" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6645" class="Symbol">}{</a><a id="6647" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="6650" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6651" class="Symbol">}</a> <a id="6653" href="Base.Varieties.Preservation.html#6507" class="Bound">ğ’¦</a><a id="6654" class="Symbol">)</a> <a id="6656" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="6658" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a><a id="6659" class="Symbol">{</a><a id="6660" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="6663" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6664" class="Symbol">}{</a><a id="6666" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="6669" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6670" class="Symbol">}</a> <a id="6672" class="Symbol">(</a><a id="6673" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="6674" class="Symbol">{</a><a id="6675" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6676" class="Symbol">}{</a><a id="6678" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="6681" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6682" class="Symbol">}</a> <a id="6684" href="Base.Varieties.Preservation.html#6507" class="Bound">ğ’¦</a><a id="6685" class="Symbol">)</a>

 <a id="6689" href="Base.Varieties.Preservation.html#6545" class="Function">PSâŠ†SP</a> <a id="6695" class="Symbol">_</a> <a id="6697" class="Symbol">(</a><a id="6698" href="Base.Varieties.Closure.html#4722" class="InductiveConstructor">pbase</a> <a id="6704" class="Symbol">(</a><a id="6705" href="Base.Varieties.Closure.html#4146" class="InductiveConstructor">sbase</a> <a id="6711" href="Base.Varieties.Preservation.html#6711" class="Bound">x</a><a id="6712" class="Symbol">))</a> <a id="6715" class="Symbol">=</a> <a id="6717" href="Base.Varieties.Closure.html#4146" class="InductiveConstructor">sbase</a> <a id="6723" class="Symbol">(</a><a id="6724" href="Base.Varieties.Closure.html#4722" class="InductiveConstructor">pbase</a> <a id="6730" href="Base.Varieties.Preservation.html#6711" class="Bound">x</a><a id="6731" class="Symbol">)</a>
 <a id="6734" href="Base.Varieties.Preservation.html#6545" class="Function">PSâŠ†SP</a> <a id="6740" class="Symbol">_</a> <a id="6742" class="Symbol">(</a><a id="6743" href="Base.Varieties.Closure.html#4722" class="InductiveConstructor">pbase</a> <a id="6749" class="Symbol">(</a><a id="6750" href="Base.Varieties.Closure.html#4202" class="InductiveConstructor">slift</a><a id="6755" class="Symbol">{</a><a id="6756" href="Base.Varieties.Preservation.html#6756" class="Bound">ğ‘¨</a><a id="6757" class="Symbol">}</a> <a id="6759" href="Base.Varieties.Preservation.html#6759" class="Bound">x</a><a id="6760" class="Symbol">))</a> <a id="6763" class="Symbol">=</a> <a id="6765" href="Base.Varieties.Closure.html#4202" class="InductiveConstructor">slift</a> <a id="6771" class="Symbol">(</a><a id="6772" href="Base.Varieties.Preservation.html#3808" class="Function">SâŠ†SP</a><a id="6776" class="Symbol">{</a><a id="6777" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6778" class="Symbol">}{</a><a id="6780" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="6783" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6784" class="Symbol">}</a> <a id="6786" href="Base.Varieties.Preservation.html#6507" class="Bound">ğ’¦</a> <a id="6788" class="Symbol">(</a><a id="6789" href="Base.Varieties.Closure.html#4202" class="InductiveConstructor">slift</a> <a id="6795" href="Base.Varieties.Preservation.html#6759" class="Bound">x</a><a id="6796" class="Symbol">))</a>
 <a id="6800" href="Base.Varieties.Preservation.html#6545" class="Function">PSâŠ†SP</a> <a id="6806" class="Symbol">_</a> <a id="6808" class="Symbol">(</a><a id="6809" href="Base.Varieties.Closure.html#4722" class="InductiveConstructor">pbase</a><a id="6814" class="Symbol">{</a><a id="6815" href="Base.Varieties.Preservation.html#6815" class="Bound">ğ‘©</a><a id="6816" class="Symbol">}(</a><a id="6818" href="Base.Varieties.Closure.html#4266" class="InductiveConstructor">ssub</a><a id="6822" class="Symbol">{</a><a id="6823" href="Base.Varieties.Preservation.html#6823" class="Bound">ğ‘¨</a><a id="6824" class="Symbol">}</a> <a id="6826" href="Base.Varieties.Preservation.html#6826" class="Bound">sA</a> <a id="6829" href="Base.Varieties.Preservation.html#6829" class="Bound">Bâ‰¤A</a><a id="6832" class="Symbol">))</a> <a id="6835" class="Symbol">=</a> <a id="6837" href="Base.Varieties.Closure.html#4344" class="InductiveConstructor">siso</a><a id="6841" class="Symbol">(</a><a id="6842" href="Base.Varieties.Closure.html#4266" class="InductiveConstructor">ssub</a><a id="6846" class="Symbol">(</a><a id="6847" href="Base.Varieties.Preservation.html#3808" class="Function">SâŠ†SP</a> <a id="6852" href="Base.Varieties.Preservation.html#6507" class="Bound">ğ’¦</a> <a id="6854" class="Symbol">(</a><a id="6855" href="Base.Varieties.Closure.html#4202" class="InductiveConstructor">slift</a> <a id="6861" href="Base.Varieties.Preservation.html#6826" class="Bound">sA</a><a id="6863" class="Symbol">))(</a><a id="6866" href="Base.Subalgebras.Properties.html#6159" class="Function">Lift-â‰¤-Lift</a> <a id="6878" class="Symbol">(</a><a id="6879" href="Base.Algebras.Products.html#3165" class="Function">ov</a><a id="6881" class="Symbol">(</a><a id="6882" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6883" class="Symbol">)){</a><a id="6886" href="Base.Varieties.Preservation.html#6823" class="Bound">ğ‘¨</a><a id="6887" class="Symbol">}(</a><a id="6889" href="Base.Algebras.Products.html#3165" class="Function">ov</a><a id="6891" class="Symbol">(</a><a id="6892" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="6893" class="Symbol">))</a><a id="6895" href="Base.Varieties.Preservation.html#6829" class="Bound">Bâ‰¤A</a><a id="6898" class="Symbol">))</a> <a id="6901" href="Base.Homomorphisms.Isomorphisms.html#2919" class="Function">â‰…-refl</a>
 <a id="6909" href="Base.Varieties.Preservation.html#6545" class="Function">PSâŠ†SP</a> <a id="6915" class="Symbol">_</a> <a id="6917" class="Symbol">(</a><a id="6918" href="Base.Varieties.Closure.html#4722" class="InductiveConstructor">pbase</a> <a id="6924" class="Symbol">(</a><a id="6925" href="Base.Varieties.Closure.html#4344" class="InductiveConstructor">siso</a><a id="6929" class="Symbol">{</a><a id="6930" href="Base.Varieties.Preservation.html#6930" class="Bound">ğ‘¨</a><a id="6931" class="Symbol">}{</a><a id="6933" href="Base.Varieties.Preservation.html#6933" class="Bound">ğ‘©</a><a id="6934" class="Symbol">}</a> <a id="6936" href="Base.Varieties.Preservation.html#6936" class="Bound">x</a> <a id="6938" href="Base.Varieties.Preservation.html#6938" class="Bound">Aâ‰…B</a><a id="6941" class="Symbol">))</a> <a id="6944" class="Symbol">=</a> <a id="6946" href="Base.Varieties.Closure.html#4344" class="InductiveConstructor">siso</a> <a id="6951" class="Symbol">(</a><a id="6952" href="Base.Varieties.Preservation.html#3808" class="Function">SâŠ†SP</a> <a id="6957" href="Base.Varieties.Preservation.html#6507" class="Bound">ğ’¦</a> <a id="6959" class="Symbol">(</a><a id="6960" href="Base.Varieties.Closure.html#4202" class="InductiveConstructor">slift</a> <a id="6966" href="Base.Varieties.Preservation.html#6936" class="Bound">x</a><a id="6967" class="Symbol">))</a> <a id="6970" class="Symbol">(</a> <a id="6972" href="Base.Homomorphisms.Isomorphisms.html#4772" class="Function">Lift-Alg-iso</a> <a id="6985" href="Base.Varieties.Preservation.html#6938" class="Bound">Aâ‰…B</a> <a id="6989" class="Symbol">)</a>
 <a id="6992" href="Base.Varieties.Preservation.html#6545" class="Function">PSâŠ†SP</a> <a id="6998" href="Base.Varieties.Preservation.html#6998" class="Bound">hfe</a> <a id="7002" class="Symbol">(</a><a id="7003" href="Base.Varieties.Closure.html#4779" class="InductiveConstructor">pliftu</a> <a id="7010" href="Base.Varieties.Preservation.html#7010" class="Bound">x</a><a id="7011" class="Symbol">)</a> <a id="7013" class="Symbol">=</a> <a id="7015" href="Base.Varieties.Closure.html#4202" class="InductiveConstructor">slift</a> <a id="7021" class="Symbol">(</a><a id="7022" href="Base.Varieties.Preservation.html#6545" class="Function">PSâŠ†SP</a> <a id="7028" href="Base.Varieties.Preservation.html#6998" class="Bound">hfe</a> <a id="7032" href="Base.Varieties.Preservation.html#7010" class="Bound">x</a><a id="7033" class="Symbol">)</a>
 <a id="7036" href="Base.Varieties.Preservation.html#6545" class="Function">PSâŠ†SP</a> <a id="7042" href="Base.Varieties.Preservation.html#7042" class="Bound">hfe</a> <a id="7046" class="Symbol">(</a><a id="7047" href="Base.Varieties.Closure.html#4844" class="InductiveConstructor">pliftw</a> <a id="7054" href="Base.Varieties.Preservation.html#7054" class="Bound">x</a><a id="7055" class="Symbol">)</a> <a id="7057" class="Symbol">=</a> <a id="7059" href="Base.Varieties.Closure.html#4202" class="InductiveConstructor">slift</a> <a id="7065" class="Symbol">(</a><a id="7066" href="Base.Varieties.Preservation.html#6545" class="Function">PSâŠ†SP</a> <a id="7072" href="Base.Varieties.Preservation.html#7042" class="Bound">hfe</a> <a id="7076" href="Base.Varieties.Preservation.html#7054" class="Bound">x</a><a id="7077" class="Symbol">)</a>

 <a id="7081" href="Base.Varieties.Preservation.html#6545" class="Function">PSâŠ†SP</a> <a id="7087" href="Base.Varieties.Preservation.html#7087" class="Bound">hfe</a> <a id="7091" class="Symbol">(</a><a id="7092" href="Base.Varieties.Closure.html#4921" class="InductiveConstructor">produ</a><a id="7097" class="Symbol">{</a><a id="7098" href="Base.Varieties.Preservation.html#7098" class="Bound">I</a><a id="7099" class="Symbol">}{</a><a id="7101" href="Base.Varieties.Preservation.html#7101" class="Bound">ğ’œ</a><a id="7102" class="Symbol">}</a> <a id="7104" href="Base.Varieties.Preservation.html#7104" class="Bound">x</a><a id="7105" class="Symbol">)</a> <a id="7107" class="Symbol">=</a> <a id="7109" class="Symbol">(</a><a id="7110" href="Base.Varieties.Closure.html#7168" class="Function">S-mono</a> <a id="7117" class="Symbol">(</a><a id="7118" href="Base.Varieties.Closure.html#9937" class="Function">P-idemp</a><a id="7125" class="Symbol">))</a> <a id="7128" class="Symbol">(</a><a id="7129" href="Base.Varieties.Closure.html#7747" class="Function">subalgebraâ†’S</a> <a id="7142" href="Base.Varieties.Preservation.html#7255" class="Function">Î·</a><a id="7143" class="Symbol">)</a>
  <a id="7147" class="Keyword">where</a>
   <a id="7156" href="Base.Varieties.Preservation.html#7156" class="Function">Î¾</a> <a id="7158" class="Symbol">:</a> <a id="7160" class="Symbol">(</a><a id="7161" href="Base.Varieties.Preservation.html#7161" class="Bound">i</a> <a id="7163" class="Symbol">:</a> <a id="7165" href="Base.Varieties.Preservation.html#7098" class="Bound">I</a><a id="7166" class="Symbol">)</a> <a id="7168" class="Symbol">â†’</a> <a id="7170" class="Symbol">(</a><a id="7171" href="Base.Varieties.Preservation.html#7101" class="Bound">ğ’œ</a> <a id="7173" href="Base.Varieties.Preservation.html#7161" class="Bound">i</a><a id="7174" class="Symbol">)</a> <a id="7176" href="Base.Subalgebras.Subalgebras.html#5824" class="Function Operator">IsSubalgebraOfClass</a> <a id="7196" class="Symbol">(</a><a id="7197" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="7198" class="Symbol">{</a><a id="7199" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="7200" class="Symbol">}{</a><a id="7202" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="7205" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="7206" class="Symbol">}</a> <a id="7208" href="Base.Varieties.Preservation.html#6507" class="Bound">ğ’¦</a><a id="7209" class="Symbol">)</a>
   <a id="7214" href="Base.Varieties.Preservation.html#7156" class="Function">Î¾</a> <a id="7216" href="Base.Varieties.Preservation.html#7216" class="Bound">i</a> <a id="7218" class="Symbol">=</a> <a id="7220" href="Base.Varieties.Closure.html#8119" class="Function">Sâ†’subalgebra</a> <a id="7233" class="Symbol">(</a><a id="7234" href="Base.Varieties.Preservation.html#6545" class="Function">PSâŠ†SP</a> <a id="7240" href="Base.Varieties.Preservation.html#7087" class="Bound">hfe</a> <a id="7244" class="Symbol">(</a><a id="7245" href="Base.Varieties.Preservation.html#7104" class="Bound">x</a> <a id="7247" href="Base.Varieties.Preservation.html#7216" class="Bound">i</a><a id="7248" class="Symbol">))</a>

   <a id="7255" href="Base.Varieties.Preservation.html#7255" class="Function">Î·</a> <a id="7257" class="Symbol">:</a> <a id="7259" href="Base.Algebras.Products.html#1899" class="Function">â¨…</a> <a id="7261" href="Base.Varieties.Preservation.html#7101" class="Bound">ğ’œ</a> <a id="7263" href="Base.Subalgebras.Subalgebras.html#5824" class="Function Operator">IsSubalgebraOfClass</a> <a id="7283" class="Symbol">(</a><a id="7284" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="7285" class="Symbol">{</a><a id="7286" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="7289" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="7290" class="Symbol">}{</a><a id="7292" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="7295" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="7296" class="Symbol">}</a> <a id="7298" class="Symbol">(</a><a id="7299" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="7300" class="Symbol">{</a><a id="7301" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="7302" class="Symbol">}{</a><a id="7304" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="7307" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="7308" class="Symbol">}</a> <a id="7310" href="Base.Varieties.Preservation.html#6507" class="Bound">ğ’¦</a><a id="7311" class="Symbol">))</a>
   <a id="7317" href="Base.Varieties.Preservation.html#7255" class="Function">Î·</a> <a id="7319" class="Symbol">=</a> <a id="7321" href="Base.Varieties.Preservation.html#5273" class="Function">lemPSâŠ†SP</a> <a id="7330" href="Base.Varieties.Preservation.html#7087" class="Bound">hfe</a> <a id="7334" href="Base.Varieties.Preservation.html#6478" class="Bound">fovu</a> <a id="7339" class="Symbol">{</a><a id="7340" href="Base.Varieties.Preservation.html#7098" class="Bound">I</a><a id="7341" class="Symbol">}</a> <a id="7343" class="Symbol">{</a><a id="7344" href="Base.Varieties.Preservation.html#7101" class="Bound">ğ’œ</a><a id="7345" class="Symbol">}</a> <a id="7347" href="Base.Varieties.Preservation.html#7156" class="Function">Î¾</a>

 <a id="7351" href="Base.Varieties.Preservation.html#6545" class="Function">PSâŠ†SP</a> <a id="7357" href="Base.Varieties.Preservation.html#7357" class="Bound">hfe</a> <a id="7361" class="Symbol">(</a><a id="7362" href="Base.Varieties.Closure.html#5006" class="InductiveConstructor">prodw</a><a id="7367" class="Symbol">{</a><a id="7368" href="Base.Varieties.Preservation.html#7368" class="Bound">I</a><a id="7369" class="Symbol">}{</a><a id="7371" href="Base.Varieties.Preservation.html#7371" class="Bound">ğ’œ</a><a id="7372" class="Symbol">}</a> <a id="7374" href="Base.Varieties.Preservation.html#7374" class="Bound">x</a><a id="7375" class="Symbol">)</a> <a id="7377" class="Symbol">=</a> <a id="7379" class="Symbol">(</a><a id="7380" href="Base.Varieties.Closure.html#7168" class="Function">S-mono</a> <a id="7387" class="Symbol">(</a><a id="7388" href="Base.Varieties.Closure.html#9937" class="Function">P-idemp</a><a id="7395" class="Symbol">))</a> <a id="7398" class="Symbol">(</a><a id="7399" href="Base.Varieties.Closure.html#7747" class="Function">subalgebraâ†’S</a> <a id="7412" href="Base.Varieties.Preservation.html#7525" class="Function">Î·</a><a id="7413" class="Symbol">)</a>
  <a id="7417" class="Keyword">where</a>
   <a id="7426" href="Base.Varieties.Preservation.html#7426" class="Function">Î¾</a> <a id="7428" class="Symbol">:</a> <a id="7430" class="Symbol">(</a><a id="7431" href="Base.Varieties.Preservation.html#7431" class="Bound">i</a> <a id="7433" class="Symbol">:</a> <a id="7435" href="Base.Varieties.Preservation.html#7368" class="Bound">I</a><a id="7436" class="Symbol">)</a> <a id="7438" class="Symbol">â†’</a> <a id="7440" class="Symbol">(</a><a id="7441" href="Base.Varieties.Preservation.html#7371" class="Bound">ğ’œ</a> <a id="7443" href="Base.Varieties.Preservation.html#7431" class="Bound">i</a><a id="7444" class="Symbol">)</a> <a id="7446" href="Base.Subalgebras.Subalgebras.html#5824" class="Function Operator">IsSubalgebraOfClass</a> <a id="7466" class="Symbol">(</a><a id="7467" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="7468" class="Symbol">{</a><a id="7469" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="7470" class="Symbol">}{</a><a id="7472" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="7475" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="7476" class="Symbol">}</a> <a id="7478" href="Base.Varieties.Preservation.html#6507" class="Bound">ğ’¦</a><a id="7479" class="Symbol">)</a>
   <a id="7484" href="Base.Varieties.Preservation.html#7426" class="Function">Î¾</a> <a id="7486" href="Base.Varieties.Preservation.html#7486" class="Bound">i</a> <a id="7488" class="Symbol">=</a> <a id="7490" href="Base.Varieties.Closure.html#8119" class="Function">Sâ†’subalgebra</a> <a id="7503" class="Symbol">(</a><a id="7504" href="Base.Varieties.Preservation.html#6545" class="Function">PSâŠ†SP</a> <a id="7510" href="Base.Varieties.Preservation.html#7357" class="Bound">hfe</a> <a id="7514" class="Symbol">(</a><a id="7515" href="Base.Varieties.Preservation.html#7374" class="Bound">x</a> <a id="7517" href="Base.Varieties.Preservation.html#7486" class="Bound">i</a><a id="7518" class="Symbol">))</a>

   <a id="7525" href="Base.Varieties.Preservation.html#7525" class="Function">Î·</a> <a id="7527" class="Symbol">:</a> <a id="7529" href="Base.Algebras.Products.html#1899" class="Function">â¨…</a> <a id="7531" href="Base.Varieties.Preservation.html#7371" class="Bound">ğ’œ</a> <a id="7533" href="Base.Subalgebras.Subalgebras.html#5824" class="Function Operator">IsSubalgebraOfClass</a> <a id="7553" class="Symbol">(</a><a id="7554" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="7555" class="Symbol">{</a><a id="7556" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="7559" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="7560" class="Symbol">}{</a><a id="7562" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="7565" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="7566" class="Symbol">}</a> <a id="7568" class="Symbol">(</a><a id="7569" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="7570" class="Symbol">{</a><a id="7571" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="7572" class="Symbol">}{</a><a id="7574" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="7577" href="Base.Varieties.Preservation.html#6466" class="Bound">Î±</a><a id="7578" class="Symbol">}</a> <a id="7580" href="Base.Varieties.Preservation.html#6507" class="Bound">ğ’¦</a><a id="7581" class="Symbol">))</a>
   <a id="7587" href="Base.Varieties.Preservation.html#7525" class="Function">Î·</a> <a id="7589" class="Symbol">=</a> <a id="7591" href="Base.Varieties.Preservation.html#5273" class="Function">lemPSâŠ†SP</a> <a id="7600" href="Base.Varieties.Preservation.html#7357" class="Bound">hfe</a> <a id="7604" href="Base.Varieties.Preservation.html#6478" class="Bound">fovu</a>  <a id="7610" class="Symbol">{</a><a id="7611" href="Base.Varieties.Preservation.html#7368" class="Bound">I</a><a id="7612" class="Symbol">}</a> <a id="7614" class="Symbol">{</a><a id="7615" href="Base.Varieties.Preservation.html#7371" class="Bound">ğ’œ</a><a id="7616" class="Symbol">}</a> <a id="7618" href="Base.Varieties.Preservation.html#7426" class="Function">Î¾</a>

 <a id="7622" href="Base.Varieties.Preservation.html#6545" class="Function">PSâŠ†SP</a> <a id="7628" href="Base.Varieties.Preservation.html#7628" class="Bound">hfe</a> <a id="7632" class="Symbol">(</a><a id="7633" href="Base.Varieties.Closure.html#5091" class="InductiveConstructor">pisow</a><a id="7638" class="Symbol">{</a><a id="7639" href="Base.Varieties.Preservation.html#7639" class="Bound">ğ‘¨</a><a id="7640" class="Symbol">}{</a><a id="7642" href="Base.Varieties.Preservation.html#7642" class="Bound">ğ‘©</a><a id="7643" class="Symbol">}</a> <a id="7645" href="Base.Varieties.Preservation.html#7645" class="Bound">pA</a> <a id="7648" href="Base.Varieties.Preservation.html#7648" class="Bound">Aâ‰…B</a><a id="7651" class="Symbol">)</a> <a id="7653" class="Symbol">=</a> <a id="7655" href="Base.Varieties.Closure.html#4344" class="InductiveConstructor">siso</a> <a id="7660" class="Symbol">(</a><a id="7661" href="Base.Varieties.Preservation.html#6545" class="Function">PSâŠ†SP</a> <a id="7667" href="Base.Varieties.Preservation.html#7628" class="Bound">hfe</a> <a id="7671" href="Base.Varieties.Preservation.html#7645" class="Bound">pA</a><a id="7673" class="Symbol">)</a> <a id="7675" href="Base.Varieties.Preservation.html#7648" class="Bound">Aâ‰…B</a>

</pre>



#### <a id="more-class-inclusions">More class inclusions</a>

We conclude this subsection with three more inclusion relations that will have bit parts to play later (e.g., in the formal proof of Birkhoff's Theorem).

<pre class="Agda">

<a id="PâŠ†V"></a><a id="7925" href="Base.Varieties.Preservation.html#7925" class="Function">PâŠ†V</a> <a id="7929" class="Symbol">:</a> <a id="7931" class="Symbol">{</a><a id="7932" href="Base.Varieties.Preservation.html#7932" class="Bound">Î±</a> <a id="7934" href="Base.Varieties.Preservation.html#7934" class="Bound">Î²</a> <a id="7936" class="Symbol">:</a> <a id="7938" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="7943" class="Symbol">}{</a><a id="7945" href="Base.Varieties.Preservation.html#7945" class="Bound">ğ’¦</a> <a id="7947" class="Symbol">:</a> <a id="7949" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="7954" class="Symbol">(</a><a id="7955" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="7963" href="Base.Varieties.Preservation.html#7932" class="Bound">Î±</a> <a id="7965" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="7966" class="Symbol">)(</a><a id="7968" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="7971" href="Base.Varieties.Preservation.html#7932" class="Bound">Î±</a><a id="7972" class="Symbol">)}</a> <a id="7975" class="Symbol">â†’</a> <a id="7977" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="7978" class="Symbol">{</a><a id="7979" href="Base.Varieties.Preservation.html#7932" class="Bound">Î±</a><a id="7980" class="Symbol">}{</a><a id="7982" href="Base.Varieties.Preservation.html#7934" class="Bound">Î²</a><a id="7983" class="Symbol">}</a> <a id="7985" href="Base.Varieties.Preservation.html#7945" class="Bound">ğ’¦</a> <a id="7987" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="7989" href="Base.Varieties.Closure.html#5587" class="Datatype">V</a><a id="7990" class="Symbol">{</a><a id="7991" href="Base.Varieties.Preservation.html#7932" class="Bound">Î±</a><a id="7992" class="Symbol">}{</a><a id="7994" href="Base.Varieties.Preservation.html#7934" class="Bound">Î²</a><a id="7995" class="Symbol">}</a> <a id="7997" href="Base.Varieties.Preservation.html#7945" class="Bound">ğ’¦</a>

<a id="8000" href="Base.Varieties.Preservation.html#7925" class="Function">PâŠ†V</a> <a id="8004" class="Symbol">(</a><a id="8005" href="Base.Varieties.Closure.html#4722" class="InductiveConstructor">pbase</a> <a id="8011" href="Base.Varieties.Preservation.html#8011" class="Bound">x</a><a id="8012" class="Symbol">)</a> <a id="8014" class="Symbol">=</a> <a id="8016" href="Base.Varieties.Closure.html#5675" class="InductiveConstructor">vbase</a> <a id="8022" href="Base.Varieties.Preservation.html#8011" class="Bound">x</a>
<a id="8024" href="Base.Varieties.Preservation.html#7925" class="Function">PâŠ†V</a><a id="8027" class="Symbol">{</a><a id="8028" href="Base.Varieties.Preservation.html#8028" class="Bound">Î±</a><a id="8029" class="Symbol">}</a> <a id="8031" class="Symbol">(</a><a id="8032" href="Base.Varieties.Closure.html#4779" class="InductiveConstructor">pliftu</a> <a id="8039" href="Base.Varieties.Preservation.html#8039" class="Bound">x</a><a id="8040" class="Symbol">)</a> <a id="8042" class="Symbol">=</a> <a id="8044" href="Base.Varieties.Closure.html#5732" class="InductiveConstructor">vlift</a> <a id="8050" class="Symbol">(</a><a id="8051" href="Base.Varieties.Preservation.html#7925" class="Function">PâŠ†V</a><a id="8054" class="Symbol">{</a><a id="8055" href="Base.Varieties.Preservation.html#8028" class="Bound">Î±</a><a id="8056" class="Symbol">}{</a><a id="8058" href="Base.Varieties.Preservation.html#8028" class="Bound">Î±</a><a id="8059" class="Symbol">}</a> <a id="8061" href="Base.Varieties.Preservation.html#8039" class="Bound">x</a><a id="8062" class="Symbol">)</a>
<a id="8064" href="Base.Varieties.Preservation.html#7925" class="Function">PâŠ†V</a><a id="8067" class="Symbol">{</a><a id="8068" href="Base.Varieties.Preservation.html#8068" class="Bound">Î±</a><a id="8069" class="Symbol">}{</a><a id="8071" href="Base.Varieties.Preservation.html#8071" class="Bound">Î²</a><a id="8072" class="Symbol">}</a> <a id="8074" class="Symbol">(</a><a id="8075" href="Base.Varieties.Closure.html#4844" class="InductiveConstructor">pliftw</a> <a id="8082" href="Base.Varieties.Preservation.html#8082" class="Bound">x</a><a id="8083" class="Symbol">)</a> <a id="8085" class="Symbol">=</a> <a id="8087" href="Base.Varieties.Closure.html#5797" class="InductiveConstructor">vliftw</a> <a id="8094" class="Symbol">(</a><a id="8095" href="Base.Varieties.Preservation.html#7925" class="Function">PâŠ†V</a><a id="8098" class="Symbol">{</a><a id="8099" href="Base.Varieties.Preservation.html#8068" class="Bound">Î±</a><a id="8100" class="Symbol">}{</a><a id="8102" href="Base.Varieties.Preservation.html#8071" class="Bound">Î²</a><a id="8103" class="Symbol">}</a> <a id="8105" href="Base.Varieties.Preservation.html#8082" class="Bound">x</a><a id="8106" class="Symbol">)</a>
<a id="8108" href="Base.Varieties.Preservation.html#7925" class="Function">PâŠ†V</a> <a id="8112" class="Symbol">(</a><a id="8113" href="Base.Varieties.Closure.html#4921" class="InductiveConstructor">produ</a> <a id="8119" href="Base.Varieties.Preservation.html#8119" class="Bound">x</a><a id="8120" class="Symbol">)</a> <a id="8122" class="Symbol">=</a> <a id="8124" href="Base.Varieties.Closure.html#6014" class="InductiveConstructor">vprodu</a> <a id="8131" class="Symbol">(Î»</a> <a id="8134" href="Base.Varieties.Preservation.html#8134" class="Bound">i</a> <a id="8136" class="Symbol">â†’</a> <a id="8138" href="Base.Varieties.Preservation.html#7925" class="Function">PâŠ†V</a> <a id="8142" class="Symbol">(</a><a id="8143" href="Base.Varieties.Preservation.html#8119" class="Bound">x</a> <a id="8145" href="Base.Varieties.Preservation.html#8134" class="Bound">i</a><a id="8146" class="Symbol">))</a>
<a id="8149" href="Base.Varieties.Preservation.html#7925" class="Function">PâŠ†V</a> <a id="8153" class="Symbol">(</a><a id="8154" href="Base.Varieties.Closure.html#5006" class="InductiveConstructor">prodw</a> <a id="8160" href="Base.Varieties.Preservation.html#8160" class="Bound">x</a><a id="8161" class="Symbol">)</a> <a id="8163" class="Symbol">=</a> <a id="8165" href="Base.Varieties.Closure.html#6098" class="InductiveConstructor">vprodw</a> <a id="8172" class="Symbol">(Î»</a> <a id="8175" href="Base.Varieties.Preservation.html#8175" class="Bound">i</a> <a id="8177" class="Symbol">â†’</a> <a id="8179" href="Base.Varieties.Preservation.html#7925" class="Function">PâŠ†V</a> <a id="8183" class="Symbol">(</a><a id="8184" href="Base.Varieties.Preservation.html#8160" class="Bound">x</a> <a id="8186" href="Base.Varieties.Preservation.html#8175" class="Bound">i</a><a id="8187" class="Symbol">))</a>
<a id="8190" href="Base.Varieties.Preservation.html#7925" class="Function">PâŠ†V</a> <a id="8194" class="Symbol">(</a><a id="8195" href="Base.Varieties.Closure.html#5091" class="InductiveConstructor">pisow</a> <a id="8201" href="Base.Varieties.Preservation.html#8201" class="Bound">x</a> <a id="8203" href="Base.Varieties.Preservation.html#8203" class="Bound">xâ‚</a><a id="8205" class="Symbol">)</a> <a id="8207" class="Symbol">=</a> <a id="8209" href="Base.Varieties.Closure.html#6261" class="InductiveConstructor">visow</a> <a id="8215" class="Symbol">(</a><a id="8216" href="Base.Varieties.Preservation.html#7925" class="Function">PâŠ†V</a> <a id="8220" href="Base.Varieties.Preservation.html#8201" class="Bound">x</a><a id="8221" class="Symbol">)</a> <a id="8223" href="Base.Varieties.Preservation.html#8203" class="Bound">xâ‚</a>


<a id="SPâŠ†V"></a><a id="8228" href="Base.Varieties.Preservation.html#8228" class="Function">SPâŠ†V</a> <a id="8233" class="Symbol">:</a> <a id="8235" class="Symbol">{</a><a id="8236" href="Base.Varieties.Preservation.html#8236" class="Bound">Î±</a> <a id="8238" href="Base.Varieties.Preservation.html#8238" class="Bound">Î²</a> <a id="8240" class="Symbol">:</a> <a id="8242" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="8247" class="Symbol">}{</a><a id="8249" href="Base.Varieties.Preservation.html#8249" class="Bound">ğ’¦</a> <a id="8251" class="Symbol">:</a> <a id="8253" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="8258" class="Symbol">(</a><a id="8259" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="8267" href="Base.Varieties.Preservation.html#8236" class="Bound">Î±</a> <a id="8269" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="8270" class="Symbol">)(</a><a id="8272" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="8275" href="Base.Varieties.Preservation.html#8236" class="Bound">Î±</a><a id="8276" class="Symbol">)}</a>
 <a id="8280" class="Symbol">â†’</a>     <a id="8286" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a><a id="8287" class="Symbol">{</a><a id="8288" href="Base.Varieties.Preservation.html#8236" class="Bound">Î±</a> <a id="8290" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="8292" href="Base.Varieties.Preservation.html#8238" class="Bound">Î²</a><a id="8293" class="Symbol">}{</a><a id="8295" href="Base.Varieties.Preservation.html#8236" class="Bound">Î±</a> <a id="8297" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="8299" href="Base.Varieties.Preservation.html#8238" class="Bound">Î²</a><a id="8300" class="Symbol">}</a> <a id="8302" class="Symbol">(</a><a id="8303" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="8304" class="Symbol">{</a><a id="8305" href="Base.Varieties.Preservation.html#8236" class="Bound">Î±</a><a id="8306" class="Symbol">}{</a><a id="8308" href="Base.Varieties.Preservation.html#8238" class="Bound">Î²</a><a id="8309" class="Symbol">}</a> <a id="8311" href="Base.Varieties.Preservation.html#8249" class="Bound">ğ’¦</a><a id="8312" class="Symbol">)</a> <a id="8314" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="8316" href="Base.Varieties.Closure.html#5587" class="Datatype">V</a> <a id="8318" href="Base.Varieties.Preservation.html#8249" class="Bound">ğ’¦</a>

<a id="8321" href="Base.Varieties.Preservation.html#8228" class="Function">SPâŠ†V</a> <a id="8326" class="Symbol">(</a><a id="8327" href="Base.Varieties.Closure.html#4146" class="InductiveConstructor">sbase</a><a id="8332" class="Symbol">{</a><a id="8333" href="Base.Varieties.Preservation.html#8333" class="Bound">ğ‘¨</a><a id="8334" class="Symbol">}</a> <a id="8336" href="Base.Varieties.Preservation.html#8336" class="Bound">PCloA</a><a id="8341" class="Symbol">)</a> <a id="8343" class="Symbol">=</a> <a id="8345" href="Base.Varieties.Preservation.html#7925" class="Function">PâŠ†V</a> <a id="8349" class="Symbol">(</a><a id="8350" href="Base.Varieties.Closure.html#5091" class="InductiveConstructor">pisow</a> <a id="8356" href="Base.Varieties.Preservation.html#8336" class="Bound">PCloA</a> <a id="8362" href="Base.Homomorphisms.Isomorphisms.html#4453" class="Function">Lift-â‰…</a><a id="8368" class="Symbol">)</a>
<a id="8370" href="Base.Varieties.Preservation.html#8228" class="Function">SPâŠ†V</a> <a id="8375" class="Symbol">(</a><a id="8376" href="Base.Varieties.Closure.html#4202" class="InductiveConstructor">slift</a><a id="8381" class="Symbol">{</a><a id="8382" href="Base.Varieties.Preservation.html#8382" class="Bound">ğ‘¨</a><a id="8383" class="Symbol">}</a> <a id="8385" href="Base.Varieties.Preservation.html#8385" class="Bound">x</a><a id="8386" class="Symbol">)</a> <a id="8388" class="Symbol">=</a> <a id="8390" href="Base.Varieties.Closure.html#5797" class="InductiveConstructor">vliftw</a> <a id="8397" class="Symbol">(</a><a id="8398" href="Base.Varieties.Preservation.html#8228" class="Function">SPâŠ†V</a> <a id="8403" href="Base.Varieties.Preservation.html#8385" class="Bound">x</a><a id="8404" class="Symbol">)</a>
<a id="8406" href="Base.Varieties.Preservation.html#8228" class="Function">SPâŠ†V</a> <a id="8411" class="Symbol">(</a><a id="8412" href="Base.Varieties.Closure.html#4266" class="InductiveConstructor">ssub</a><a id="8416" class="Symbol">{</a><a id="8417" href="Base.Varieties.Preservation.html#8417" class="Bound">ğ‘¨</a><a id="8418" class="Symbol">}{</a><a id="8420" href="Base.Varieties.Preservation.html#8420" class="Bound">ğ‘©</a><a id="8421" class="Symbol">}</a> <a id="8423" href="Base.Varieties.Preservation.html#8423" class="Bound">spA</a> <a id="8427" href="Base.Varieties.Preservation.html#8427" class="Bound">Bâ‰¤A</a><a id="8430" class="Symbol">)</a> <a id="8432" class="Symbol">=</a> <a id="8434" href="Base.Varieties.Closure.html#5950" class="InductiveConstructor">vssubw</a> <a id="8441" class="Symbol">(</a><a id="8442" href="Base.Varieties.Preservation.html#8228" class="Function">SPâŠ†V</a> <a id="8447" href="Base.Varieties.Preservation.html#8423" class="Bound">spA</a><a id="8450" class="Symbol">)</a> <a id="8452" href="Base.Varieties.Preservation.html#8427" class="Bound">Bâ‰¤A</a>
<a id="8456" href="Base.Varieties.Preservation.html#8228" class="Function">SPâŠ†V</a> <a id="8461" class="Symbol">(</a><a id="8462" href="Base.Varieties.Closure.html#4344" class="InductiveConstructor">siso</a> <a id="8467" href="Base.Varieties.Preservation.html#8467" class="Bound">x</a> <a id="8469" href="Base.Varieties.Preservation.html#8469" class="Bound">xâ‚</a><a id="8471" class="Symbol">)</a> <a id="8473" class="Symbol">=</a> <a id="8475" href="Base.Varieties.Closure.html#6261" class="InductiveConstructor">visow</a> <a id="8481" class="Symbol">(</a><a id="8482" href="Base.Varieties.Preservation.html#8228" class="Function">SPâŠ†V</a> <a id="8487" href="Base.Varieties.Preservation.html#8467" class="Bound">x</a><a id="8488" class="Symbol">)</a> <a id="8490" href="Base.Varieties.Preservation.html#8469" class="Bound">xâ‚</a>

</pre>


#### <a id="V-is-closed-under-lift">V is closed under lift</a>

As mentioned earlier, a technical hurdle that must be overcome when formalizing proofs in Agda is the proper handling of universe levels. In particular, in the proof of the Birkhoff's theorem, for example, we will need to know that if an algebra ğ‘¨ belongs to the variety V ğ’¦, then so does the lift of ğ‘¨.  Let us get the tedious proof of this technical lemma out of the way.

Above we proved that `SP(ğ’¦) âŠ† V(ğ’¦)`, and we did so under fairly general assumptions about the universe level parameters.  Unfortunately, this is sometimes not quite general enough, so we now prove the inclusion again for the specific universe parameters that align with subsequent applications of this result.


<pre class="Agda">

<a id="9272" class="Keyword">module</a> <a id="9279" href="Base.Varieties.Preservation.html#9279" class="Module">_</a> <a id="9281" class="Symbol">{</a><a id="9282" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a> <a id="9284" class="Symbol">:</a> <a id="9286" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="9291" class="Symbol">}</a>  <a id="9294" class="Symbol">{</a><a id="9295" href="Base.Varieties.Preservation.html#9295" class="Bound">feâ‚€</a> <a id="9299" class="Symbol">:</a> <a id="9301" href="Base.Varieties.Preservation.html#954" class="Function">funext</a> <a id="9308" class="Symbol">(</a><a id="9309" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="9312" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a><a id="9313" class="Symbol">)</a> <a id="9315" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a><a id="9316" class="Symbol">}</a>
         <a id="9327" class="Symbol">{</a><a id="9328" href="Base.Varieties.Preservation.html#9328" class="Bound">feâ‚</a> <a id="9332" class="Symbol">:</a> <a id="9334" href="Base.Varieties.Preservation.html#954" class="Function">funext</a> <a id="9341" class="Symbol">((</a><a id="9343" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="9346" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a><a id="9347" class="Symbol">)</a> <a id="9349" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="9351" class="Symbol">(</a><a id="9352" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9357" class="Symbol">(</a><a id="9358" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="9361" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a><a id="9362" class="Symbol">)))</a> <a id="9366" class="Symbol">(</a><a id="9367" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9372" class="Symbol">(</a><a id="9373" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="9376" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a><a id="9377" class="Symbol">))}</a>
         <a id="9390" class="Symbol">{</a><a id="9391" href="Base.Varieties.Preservation.html#9391" class="Bound">feâ‚‚</a> <a id="9395" class="Symbol">:</a> <a id="9397" href="Base.Varieties.Preservation.html#954" class="Function">funext</a> <a id="9404" class="Symbol">(</a><a id="9405" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="9408" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a><a id="9409" class="Symbol">)</a> <a id="9411" class="Symbol">(</a><a id="9412" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="9415" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a><a id="9416" class="Symbol">)}</a>
         <a id="9428" class="Symbol">{</a><a id="9429" href="Base.Varieties.Preservation.html#9429" class="Bound">ğ’¦</a> <a id="9431" class="Symbol">:</a> <a id="9433" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="9438" class="Symbol">(</a><a id="9439" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="9447" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a> <a id="9449" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="9450" class="Symbol">)(</a><a id="9452" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="9455" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a><a id="9456" class="Symbol">)}</a> <a id="9459" class="Keyword">where</a>

 <a id="9467" class="Keyword">open</a> <a id="9472" href="Base.Varieties.Closure.html#11991" class="Module">Vlift</a> <a id="9478" class="Symbol">{</a><a id="9479" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a><a id="9480" class="Symbol">}{</a><a id="9482" href="Base.Varieties.Preservation.html#9295" class="Bound">feâ‚€</a><a id="9485" class="Symbol">}{</a><a id="9487" href="Base.Varieties.Preservation.html#9328" class="Bound">feâ‚</a><a id="9490" class="Symbol">}{</a><a id="9492" href="Base.Varieties.Preservation.html#9391" class="Bound">feâ‚‚</a><a id="9495" class="Symbol">}{</a><a id="9497" href="Base.Varieties.Preservation.html#9429" class="Bound">ğ’¦</a><a id="9498" class="Symbol">}</a>

 <a id="9502" href="Base.Varieties.Preservation.html#9502" class="Function">SPâŠ†V&#39;</a> <a id="9508" class="Symbol">:</a> <a id="9510" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a><a id="9511" class="Symbol">{</a><a id="9512" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="9515" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a><a id="9516" class="Symbol">}{</a><a id="9518" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9523" class="Symbol">(</a><a id="9524" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="9527" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a><a id="9528" class="Symbol">)}</a> <a id="9531" class="Symbol">(</a><a id="9532" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="9533" class="Symbol">{</a><a id="9534" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a><a id="9535" class="Symbol">}{</a><a id="9537" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="9540" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a><a id="9541" class="Symbol">}</a> <a id="9543" href="Base.Varieties.Preservation.html#9429" class="Bound">ğ’¦</a><a id="9544" class="Symbol">)</a> <a id="9546" href="Relation.Unary.html#1742" class="Function Operator">âŠ†</a> <a id="9548" href="Base.Varieties.Closure.html#5587" class="Datatype">V</a> <a id="9550" href="Base.Varieties.Preservation.html#9429" class="Bound">ğ’¦</a>

 <a id="9554" href="Base.Varieties.Preservation.html#9502" class="Function">SPâŠ†V&#39;</a> <a id="9560" class="Symbol">(</a><a id="9561" href="Base.Varieties.Closure.html#4146" class="InductiveConstructor">sbase</a><a id="9566" class="Symbol">{</a><a id="9567" href="Base.Varieties.Preservation.html#9567" class="Bound">ğ‘¨</a><a id="9568" class="Symbol">}</a> <a id="9570" href="Base.Varieties.Preservation.html#9570" class="Bound">x</a><a id="9571" class="Symbol">)</a> <a id="9573" class="Symbol">=</a> <a id="9575" href="Base.Varieties.Closure.html#6261" class="InductiveConstructor">visow</a> <a id="9581" class="Symbol">(</a><a id="9582" href="Base.Varieties.Closure.html#12194" class="Function">VlA</a> <a id="9586" class="Symbol">(</a><a id="9587" href="Base.Varieties.Preservation.html#8228" class="Function">SPâŠ†V</a> <a id="9592" class="Symbol">(</a><a id="9593" href="Base.Varieties.Closure.html#4146" class="InductiveConstructor">sbase</a> <a id="9599" href="Base.Varieties.Preservation.html#9570" class="Bound">x</a><a id="9600" class="Symbol">)))</a> <a id="9604" class="Symbol">(</a><a id="9605" href="Base.Homomorphisms.Isomorphisms.html#3009" class="Function">â‰…-sym</a> <a id="9611" class="Symbol">(</a><a id="9612" href="Base.Homomorphisms.Isomorphisms.html#5194" class="Function">Lift-Alg-assoc</a> <a id="9627" class="Symbol">_</a> <a id="9629" class="Symbol">_{</a><a id="9631" href="Base.Varieties.Preservation.html#9567" class="Bound">ğ‘¨</a><a id="9632" class="Symbol">}))</a>
 <a id="9637" href="Base.Varieties.Preservation.html#9502" class="Function">SPâŠ†V&#39;</a> <a id="9643" class="Symbol">(</a><a id="9644" href="Base.Varieties.Closure.html#4202" class="InductiveConstructor">slift</a> <a id="9650" href="Base.Varieties.Preservation.html#9650" class="Bound">x</a><a id="9651" class="Symbol">)</a> <a id="9653" class="Symbol">=</a> <a id="9655" href="Base.Varieties.Closure.html#12194" class="Function">VlA</a> <a id="9659" class="Symbol">(</a><a id="9660" href="Base.Varieties.Preservation.html#8228" class="Function">SPâŠ†V</a> <a id="9665" href="Base.Varieties.Preservation.html#9650" class="Bound">x</a><a id="9666" class="Symbol">)</a>

 <a id="9670" href="Base.Varieties.Preservation.html#9502" class="Function">SPâŠ†V&#39;</a> <a id="9676" class="Symbol">(</a><a id="9677" href="Base.Varieties.Closure.html#4266" class="InductiveConstructor">ssub</a><a id="9681" class="Symbol">{</a><a id="9682" href="Base.Varieties.Preservation.html#9682" class="Bound">ğ‘¨</a><a id="9683" class="Symbol">}{</a><a id="9685" href="Base.Varieties.Preservation.html#9685" class="Bound">ğ‘©</a><a id="9686" class="Symbol">}</a> <a id="9688" href="Base.Varieties.Preservation.html#9688" class="Bound">spA</a> <a id="9692" href="Base.Varieties.Preservation.html#9692" class="Bound">Bâ‰¤A</a><a id="9695" class="Symbol">)</a> <a id="9697" class="Symbol">=</a> <a id="9699" href="Base.Varieties.Closure.html#5950" class="InductiveConstructor">vssubw</a> <a id="9706" class="Symbol">(</a><a id="9707" href="Base.Varieties.Closure.html#12194" class="Function">VlA</a> <a id="9711" class="Symbol">(</a><a id="9712" href="Base.Varieties.Preservation.html#8228" class="Function">SPâŠ†V</a> <a id="9717" href="Base.Varieties.Preservation.html#9688" class="Bound">spA</a><a id="9720" class="Symbol">))</a> <a id="9723" href="Base.Varieties.Preservation.html#9739" class="Function">Bâ‰¤lA</a>
  <a id="9730" class="Keyword">where</a>
   <a id="9739" href="Base.Varieties.Preservation.html#9739" class="Function">Bâ‰¤lA</a> <a id="9744" class="Symbol">:</a> <a id="9746" href="Base.Varieties.Preservation.html#9685" class="Bound">ğ‘©</a> <a id="9748" href="Base.Subalgebras.Subalgebras.html#2266" class="Function Operator">â‰¤</a> <a id="9750" href="Base.Algebras.Basic.html#10888" class="Function">Lift-Alg</a> <a id="9759" href="Base.Varieties.Preservation.html#9682" class="Bound">ğ‘¨</a> <a id="9761" class="Symbol">(</a><a id="9762" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9767" class="Symbol">(</a><a id="9768" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="9771" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a><a id="9772" class="Symbol">))</a>
   <a id="9778" href="Base.Varieties.Preservation.html#9739" class="Function">Bâ‰¤lA</a> <a id="9783" class="Symbol">=</a> <a id="9785" href="Base.Subalgebras.Properties.html#5909" class="Function">â‰¤-Lift</a> <a id="9792" href="Base.Varieties.Preservation.html#9682" class="Bound">ğ‘¨</a> <a id="9794" href="Base.Varieties.Preservation.html#9692" class="Bound">Bâ‰¤A</a>

 <a id="9800" href="Base.Varieties.Preservation.html#9502" class="Function">SPâŠ†V&#39;</a> <a id="9806" class="Symbol">(</a><a id="9807" href="Base.Varieties.Closure.html#4344" class="InductiveConstructor">siso</a><a id="9811" class="Symbol">{</a><a id="9812" href="Base.Varieties.Preservation.html#9812" class="Bound">ğ‘¨</a><a id="9813" class="Symbol">}{</a><a id="9815" href="Base.Varieties.Preservation.html#9815" class="Bound">ğ‘©</a><a id="9816" class="Symbol">}</a> <a id="9818" href="Base.Varieties.Preservation.html#9818" class="Bound">x</a> <a id="9820" href="Base.Varieties.Preservation.html#9820" class="Bound">Aâ‰…B</a><a id="9823" class="Symbol">)</a> <a id="9825" class="Symbol">=</a> <a id="9827" href="Base.Varieties.Closure.html#6261" class="InductiveConstructor">visow</a> <a id="9833" class="Symbol">(</a><a id="9834" href="Base.Varieties.Closure.html#12194" class="Function">VlA</a> <a id="9838" class="Symbol">(</a><a id="9839" href="Base.Varieties.Preservation.html#8228" class="Function">SPâŠ†V</a> <a id="9844" href="Base.Varieties.Preservation.html#9818" class="Bound">x</a><a id="9845" class="Symbol">))</a> <a id="9848" href="Base.Varieties.Preservation.html#9864" class="Function">Goal</a>
  <a id="9855" class="Keyword">where</a>
   <a id="9864" href="Base.Varieties.Preservation.html#9864" class="Function">Goal</a> <a id="9869" class="Symbol">:</a> <a id="9871" href="Base.Algebras.Basic.html#10888" class="Function">Lift-Alg</a> <a id="9880" href="Base.Varieties.Preservation.html#9812" class="Bound">ğ‘¨</a> <a id="9882" class="Symbol">(</a><a id="9883" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="9888" class="Symbol">(</a><a id="9889" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="9892" href="Base.Varieties.Preservation.html#9282" class="Bound">Î±</a><a id="9893" class="Symbol">))</a> <a id="9896" href="Base.Homomorphisms.Isomorphisms.html#2378" class="Record Operator">â‰…</a> <a id="9898" href="Base.Varieties.Preservation.html#9815" class="Bound">ğ‘©</a>
   <a id="9903" href="Base.Varieties.Preservation.html#9864" class="Function">Goal</a> <a id="9908" class="Symbol">=</a> <a id="9910" href="Base.Homomorphisms.Isomorphisms.html#3098" class="Function">â‰…-trans</a> <a id="9918" class="Symbol">(</a><a id="9919" href="Base.Homomorphisms.Isomorphisms.html#3009" class="Function">â‰…-sym</a> <a id="9925" href="Base.Homomorphisms.Isomorphisms.html#4453" class="Function">Lift-â‰…</a><a id="9931" class="Symbol">)</a> <a id="9933" href="Base.Varieties.Preservation.html#9820" class="Bound">Aâ‰…B</a>

</pre>


#### <a id="S-in-SP">â¨… S(ğ’¦) âˆˆ SP(ğ’¦)</a>

Finally, we prove a result that plays an important role, e.g., in the formal proof of Birkhoff's Theorem. As we saw in [Algebras.Products][], the (informal) product `â¨… S(ğ’¦)` of all subalgebras of algebras in ğ’¦ is implemented (formally) in the [agda-algebras](https://github.com/ualib/agda-algebras) library as `â¨… ğ”„ S(ğ’¦)`. Our goal is to prove that this product belongs to `SP(ğ’¦)`. We do so by first proving that the product belongs to `PS(ğ’¦)` and then applying the `PSâŠ†SP` lemma.

Before doing so, we need to redefine the class product so that each factor comes with a map from the type `X` of variable symbols into that factor.  We will explain the reason for this below.

<pre class="Agda">

<a id="10680" class="Keyword">module</a> <a id="class-products-with-maps"></a><a id="10687" href="Base.Varieties.Preservation.html#10687" class="Module">class-products-with-maps</a> <a id="10712" class="Symbol">{</a><a id="10713" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a> <a id="10715" class="Symbol">:</a> <a id="10717" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="10722" class="Symbol">}</a>
 <a id="10725" class="Symbol">{</a><a id="10726" href="Base.Varieties.Preservation.html#10726" class="Bound">X</a> <a id="10728" class="Symbol">:</a> <a id="10730" href="Base.Varieties.Preservation.html#835" class="Primitive">Type</a> <a id="10735" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="10736" class="Symbol">}</a>
 <a id="10739" class="Symbol">{</a><a id="10740" href="Base.Varieties.Preservation.html#10740" class="Bound">feğ“•Î±</a> <a id="10745" class="Symbol">:</a> <a id="10747" href="Base.Varieties.Preservation.html#954" class="Function">funext</a> <a id="10754" class="Symbol">(</a><a id="10755" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="10758" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="10759" class="Symbol">)</a> <a id="10761" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="10762" class="Symbol">}</a>
 <a id="10765" class="Symbol">{</a><a id="10766" href="Base.Varieties.Preservation.html#10766" class="Bound">feâ‚</a> <a id="10770" class="Symbol">:</a> <a id="10772" href="Base.Varieties.Preservation.html#954" class="Function">funext</a> <a id="10779" class="Symbol">((</a><a id="10781" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="10784" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="10785" class="Symbol">)</a> <a id="10787" href="Agda.Primitive.html#810" class="Primitive Operator">âŠ”</a> <a id="10789" class="Symbol">(</a><a id="10790" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="10795" class="Symbol">(</a><a id="10796" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="10799" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="10800" class="Symbol">)))</a> <a id="10804" class="Symbol">(</a><a id="10805" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="10810" class="Symbol">(</a><a id="10811" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="10814" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="10815" class="Symbol">))}</a>
 <a id="10820" class="Symbol">{</a><a id="10821" href="Base.Varieties.Preservation.html#10821" class="Bound">feâ‚‚</a> <a id="10825" class="Symbol">:</a> <a id="10827" href="Base.Varieties.Preservation.html#954" class="Function">funext</a> <a id="10834" class="Symbol">(</a><a id="10835" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="10838" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="10839" class="Symbol">)</a> <a id="10841" class="Symbol">(</a><a id="10842" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="10845" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="10846" class="Symbol">)}</a>
 <a id="10850" class="Symbol">(</a><a id="10851" href="Base.Varieties.Preservation.html#10851" class="Bound">ğ’¦</a> <a id="10853" class="Symbol">:</a> <a id="10855" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="10860" class="Symbol">(</a><a id="10861" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="10869" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a> <a id="10871" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="10872" class="Symbol">)(</a><a id="10874" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="10877" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="10878" class="Symbol">))</a>
 <a id="10882" class="Keyword">where</a>

 <a id="class-products-with-maps.â„‘&#39;"></a><a id="10890" href="Base.Varieties.Preservation.html#10890" class="Function">â„‘&#39;</a> <a id="10893" class="Symbol">:</a> <a id="10895" href="Base.Varieties.Preservation.html#835" class="Primitive">Type</a> <a id="10900" class="Symbol">(</a><a id="10901" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="10904" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="10905" class="Symbol">)</a>
 <a id="10908" href="Base.Varieties.Preservation.html#10890" class="Function">â„‘&#39;</a> <a id="10911" class="Symbol">=</a> <a id="10913" href="Data.Product.html#916" class="Function">Î£[</a> <a id="10916" href="Base.Varieties.Preservation.html#10916" class="Bound">ğ‘¨</a> <a id="10918" href="Data.Product.html#916" class="Function">âˆˆ</a> <a id="10920" class="Symbol">(</a><a id="10921" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="10929" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a> <a id="10931" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="10932" class="Symbol">)</a> <a id="10934" href="Data.Product.html#916" class="Function">]</a> <a id="10936" class="Symbol">((</a><a id="10938" href="Base.Varieties.Preservation.html#10916" class="Bound">ğ‘¨</a> <a id="10940" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="10942" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a><a id="10943" class="Symbol">{</a><a id="10944" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="10945" class="Symbol">}{</a><a id="10947" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="10948" class="Symbol">}</a> <a id="10950" href="Base.Varieties.Preservation.html#10851" class="Bound">ğ’¦</a><a id="10951" class="Symbol">)</a> <a id="10953" href="Data.Product.html#1167" class="Function Operator">Ã—</a> <a id="10955" class="Symbol">(</a><a id="10956" href="Base.Varieties.Preservation.html#10726" class="Bound">X</a> <a id="10958" class="Symbol">â†’</a> <a id="10960" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="10962" href="Base.Varieties.Preservation.html#10916" class="Bound">ğ‘¨</a> <a id="10964" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a><a id="10965" class="Symbol">))</a>

</pre>

Notice that the second component of this dependent pair type is  `(ğ‘¨ âˆˆ ğ’¦) Ã— (X â†’ âˆ£ ğ‘¨ âˆ£)`. In previous versions of the [UALib][] this second component was simply `ğ‘¨ âˆˆ ğ’¦`, until we realized that adding the type `X â†’ âˆ£ ğ‘¨ âˆ£` is quite useful. Later we will see exactly why, but for now suffice it to say that a map of type `X â†’ âˆ£ ğ‘¨ âˆ£` may be viewed abstractly as an *ambient context*, or more concretely, as an assignment of *values* in `âˆ£ ğ‘¨ âˆ£` to *variable symbols* in `X`.  When computing with or reasoning about products, while we don't want to rigidly impose a context in advance, want do want to lay our hands on whatever context is ultimately assumed.  Including the "context map" inside the index type `â„‘` of the product turns out to be a convenient way to achieve this flexibility.


Taking the product over the index type `â„‘` requires a function that maps an index `i : â„‘` to the corresponding algebra.  Each `i : â„‘` is a triple, say, `(ğ‘¨ , p , h)`, where `ğ‘¨ : Algebra Î± ğ‘†`, `p : ğ‘¨ âˆˆ ğ’¦`, and `h : X â†’ âˆ£ ğ‘¨ âˆ£`, so the function mapping an index to the corresponding algebra is simply the first projection.

<pre class="Agda">

 <a id="class-products-with-maps.ğ”„&#39;"></a><a id="12104" href="Base.Varieties.Preservation.html#12104" class="Function">ğ”„&#39;</a> <a id="12107" class="Symbol">:</a> <a id="12109" href="Base.Varieties.Preservation.html#10890" class="Function">â„‘&#39;</a> <a id="12112" class="Symbol">â†’</a> <a id="12114" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="12122" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a> <a id="12124" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a>
 <a id="12127" href="Base.Varieties.Preservation.html#12104" class="Function">ğ”„&#39;</a> <a id="12130" class="Symbol">=</a> <a id="12132" class="Symbol">Î»</a> <a id="12134" class="Symbol">(</a><a id="12135" href="Base.Varieties.Preservation.html#12135" class="Bound">i</a> <a id="12137" class="Symbol">:</a> <a id="12139" href="Base.Varieties.Preservation.html#10890" class="Function">â„‘&#39;</a><a id="12141" class="Symbol">)</a> <a id="12143" class="Symbol">â†’</a> <a id="12145" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="12147" href="Base.Varieties.Preservation.html#12135" class="Bound">i</a> <a id="12149" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a>

</pre>

Finally, we define `class-product` which represents the product of all members of ğ’¦.

<pre class="Agda">

 <a id="class-products-with-maps.class-product&#39;"></a><a id="12265" href="Base.Varieties.Preservation.html#12265" class="Function">class-product&#39;</a> <a id="12280" class="Symbol">:</a> <a id="12282" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="12290" class="Symbol">(</a><a id="12291" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="12294" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="12295" class="Symbol">)</a> <a id="12297" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a>
 <a id="12300" href="Base.Varieties.Preservation.html#12265" class="Function">class-product&#39;</a> <a id="12315" class="Symbol">=</a> <a id="12317" href="Base.Algebras.Products.html#1899" class="Function">â¨…</a> <a id="12319" href="Base.Varieties.Preservation.html#12104" class="Function">ğ”„&#39;</a>

</pre>

If `p : ğ‘¨ âˆˆ ğ’¦` and `h : X â†’ âˆ£ ğ‘¨ âˆ£`, we view the triple `(ğ‘¨ , p , h) âˆˆ â„‘` as an index over the class, and so we can think of `ğ”„ (ğ‘¨ , p , h)` (which is simply `ğ‘¨`) as the projection of the product `â¨… ğ”„` onto the `(ğ‘¨ , p, h)`-th component.

<pre class="Agda">

 <a id="class-products-with-maps.class-prod-s-âˆˆ-ps"></a><a id="12588" href="Base.Varieties.Preservation.html#12588" class="Function">class-prod-s-âˆˆ-ps</a> <a id="12606" class="Symbol">:</a> <a id="12608" href="Base.Varieties.Preservation.html#12265" class="Function">class-product&#39;</a> <a id="12623" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12625" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="12626" class="Symbol">{</a><a id="12627" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="12630" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="12631" class="Symbol">}{</a><a id="12633" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="12636" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="12637" class="Symbol">}(</a><a id="12639" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a> <a id="12641" href="Base.Varieties.Preservation.html#10851" class="Bound">ğ’¦</a><a id="12642" class="Symbol">)</a>
 <a id="12645" href="Base.Varieties.Preservation.html#12588" class="Function">class-prod-s-âˆˆ-ps</a> <a id="12663" class="Symbol">=</a> <a id="12665" href="Base.Varieties.Closure.html#5091" class="InductiveConstructor">pisow</a> <a id="12671" href="Base.Varieties.Preservation.html#12946" class="Function">psPllA</a> <a id="12678" class="Symbol">(</a><a id="12679" href="Base.Homomorphisms.Isomorphisms.html#5775" class="Function">â¨…â‰…</a> <a id="12682" class="Symbol">{</a><a id="12683" class="Argument">fiu</a> <a id="12687" class="Symbol">=</a> <a id="12689" href="Base.Varieties.Preservation.html#10821" class="Bound">feâ‚‚</a><a id="12692" class="Symbol">}{</a><a id="12694" class="Argument">fiw</a> <a id="12698" class="Symbol">=</a> <a id="12700" href="Base.Varieties.Preservation.html#10740" class="Bound">feğ“•Î±</a><a id="12704" class="Symbol">}</a> <a id="12706" href="Base.Varieties.Preservation.html#12997" class="Function">llAâ‰…A</a><a id="12711" class="Symbol">)</a>

  <a id="12716" class="Keyword">where</a>
  <a id="12724" href="Base.Varieties.Preservation.html#12724" class="Function">lA</a> <a id="12727" href="Base.Varieties.Preservation.html#12727" class="Function">llA</a> <a id="12731" class="Symbol">:</a> <a id="12733" href="Base.Varieties.Preservation.html#10890" class="Function">â„‘&#39;</a> <a id="12736" class="Symbol">â†’</a> <a id="12738" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="12746" class="Symbol">(</a><a id="12747" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="12750" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="12751" class="Symbol">)</a> <a id="12753" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a>
  <a id="12757" href="Base.Varieties.Preservation.html#12724" class="Function">lA</a> <a id="12760" href="Base.Varieties.Preservation.html#12760" class="Bound">i</a> <a id="12762" class="Symbol">=</a>  <a id="12765" href="Base.Algebras.Basic.html#10888" class="Function">Lift-Alg</a> <a id="12774" class="Symbol">(</a><a id="12775" href="Base.Algebras.Products.html#5334" class="Function">ğ”„</a> <a id="12777" href="Base.Varieties.Preservation.html#12760" class="Bound">i</a><a id="12778" class="Symbol">)</a> <a id="12780" class="Symbol">(</a><a id="12781" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="12784" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="12785" class="Symbol">)</a>
  <a id="12789" href="Base.Varieties.Preservation.html#12727" class="Function">llA</a> <a id="12793" href="Base.Varieties.Preservation.html#12793" class="Bound">i</a> <a id="12795" class="Symbol">=</a> <a id="12797" href="Base.Algebras.Basic.html#10888" class="Function">Lift-Alg</a> <a id="12806" class="Symbol">(</a><a id="12807" href="Base.Varieties.Preservation.html#12724" class="Function">lA</a> <a id="12810" href="Base.Varieties.Preservation.html#12793" class="Bound">i</a><a id="12811" class="Symbol">)</a> <a id="12813" class="Symbol">(</a><a id="12814" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="12817" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="12818" class="Symbol">)</a>

  <a id="12823" href="Base.Varieties.Preservation.html#12823" class="Function">slA</a> <a id="12827" class="Symbol">:</a> <a id="12829" class="Symbol">âˆ€</a> <a id="12831" href="Base.Varieties.Preservation.html#12831" class="Bound">i</a> <a id="12833" class="Symbol">â†’</a> <a id="12835" class="Symbol">(</a><a id="12836" href="Base.Varieties.Preservation.html#12724" class="Function">lA</a> <a id="12839" href="Base.Varieties.Preservation.html#12831" class="Bound">i</a><a id="12840" class="Symbol">)</a> <a id="12842" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12844" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a> <a id="12846" href="Base.Varieties.Preservation.html#10851" class="Bound">ğ’¦</a>
  <a id="12850" href="Base.Varieties.Preservation.html#12823" class="Function">slA</a> <a id="12854" href="Base.Varieties.Preservation.html#12854" class="Bound">i</a> <a id="12856" class="Symbol">=</a> <a id="12858" href="Base.Varieties.Closure.html#4344" class="InductiveConstructor">siso</a> <a id="12863" class="Symbol">(</a><a id="12864" href="Base.Varieties.Preservation.html#1041" class="Field">fst</a> <a id="12868" href="Base.Overture.Preliminaries.html#4435" class="Function Operator">âˆ¥</a> <a id="12870" href="Base.Varieties.Preservation.html#12854" class="Bound">i</a> <a id="12872" href="Base.Overture.Preliminaries.html#4435" class="Function Operator">âˆ¥</a><a id="12873" class="Symbol">)</a> <a id="12875" href="Base.Homomorphisms.Isomorphisms.html#4453" class="Function">Lift-â‰…</a>

  <a id="12885" href="Base.Varieties.Preservation.html#12885" class="Function">psllA</a> <a id="12891" class="Symbol">:</a> <a id="12893" class="Symbol">âˆ€</a> <a id="12895" href="Base.Varieties.Preservation.html#12895" class="Bound">i</a> <a id="12897" class="Symbol">â†’</a> <a id="12899" class="Symbol">(</a><a id="12900" href="Base.Varieties.Preservation.html#12727" class="Function">llA</a> <a id="12904" href="Base.Varieties.Preservation.html#12895" class="Bound">i</a><a id="12905" class="Symbol">)</a> <a id="12907" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12909" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a> <a id="12911" class="Symbol">(</a><a id="12912" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a> <a id="12914" href="Base.Varieties.Preservation.html#10851" class="Bound">ğ’¦</a><a id="12915" class="Symbol">)</a>
  <a id="12919" href="Base.Varieties.Preservation.html#12885" class="Function">psllA</a> <a id="12925" href="Base.Varieties.Preservation.html#12925" class="Bound">i</a> <a id="12927" class="Symbol">=</a> <a id="12929" href="Base.Varieties.Closure.html#4722" class="InductiveConstructor">pbase</a> <a id="12935" class="Symbol">(</a><a id="12936" href="Base.Varieties.Preservation.html#12823" class="Function">slA</a> <a id="12940" href="Base.Varieties.Preservation.html#12925" class="Bound">i</a><a id="12941" class="Symbol">)</a>

  <a id="12946" href="Base.Varieties.Preservation.html#12946" class="Function">psPllA</a> <a id="12953" class="Symbol">:</a> <a id="12955" href="Base.Algebras.Products.html#1899" class="Function">â¨…</a> <a id="12957" href="Base.Varieties.Preservation.html#12727" class="Function">llA</a> <a id="12961" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="12963" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a> <a id="12965" class="Symbol">(</a><a id="12966" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a> <a id="12968" href="Base.Varieties.Preservation.html#10851" class="Bound">ğ’¦</a><a id="12969" class="Symbol">)</a>
  <a id="12973" href="Base.Varieties.Preservation.html#12946" class="Function">psPllA</a> <a id="12980" class="Symbol">=</a> <a id="12982" href="Base.Varieties.Closure.html#4921" class="InductiveConstructor">produ</a> <a id="12988" href="Base.Varieties.Preservation.html#12885" class="Function">psllA</a>

  <a id="12997" href="Base.Varieties.Preservation.html#12997" class="Function">llAâ‰…A</a> <a id="13003" class="Symbol">:</a> <a id="13005" class="Symbol">âˆ€</a> <a id="13007" href="Base.Varieties.Preservation.html#13007" class="Bound">i</a> <a id="13009" class="Symbol">â†’</a> <a id="13011" class="Symbol">(</a><a id="13012" href="Base.Varieties.Preservation.html#12727" class="Function">llA</a> <a id="13016" href="Base.Varieties.Preservation.html#13007" class="Bound">i</a><a id="13017" class="Symbol">)</a> <a id="13019" href="Base.Homomorphisms.Isomorphisms.html#2378" class="Record Operator">â‰…</a> <a id="13021" class="Symbol">(</a><a id="13022" href="Base.Varieties.Preservation.html#12104" class="Function">ğ”„&#39;</a> <a id="13025" href="Base.Varieties.Preservation.html#13007" class="Bound">i</a><a id="13026" class="Symbol">)</a>
  <a id="13030" href="Base.Varieties.Preservation.html#12997" class="Function">llAâ‰…A</a> <a id="13036" href="Base.Varieties.Preservation.html#13036" class="Bound">i</a> <a id="13038" class="Symbol">=</a> <a id="13040" href="Base.Homomorphisms.Isomorphisms.html#3098" class="Function">â‰…-trans</a> <a id="13048" class="Symbol">(</a><a id="13049" href="Base.Homomorphisms.Isomorphisms.html#3009" class="Function">â‰…-sym</a> <a id="13055" href="Base.Homomorphisms.Isomorphisms.html#4453" class="Function">Lift-â‰…</a><a id="13061" class="Symbol">)(</a><a id="13063" href="Base.Homomorphisms.Isomorphisms.html#3009" class="Function">â‰…-sym</a> <a id="13069" href="Base.Homomorphisms.Isomorphisms.html#4453" class="Function">Lift-â‰…</a><a id="13075" class="Symbol">)</a>

</pre>


So, since `PSâŠ†SP`, we see that that the product of all subalgebras of a class `ğ’¦` belongs to `SP(ğ’¦)`.

<pre class="Agda">

 <a id="class-products-with-maps.class-prod-s-âˆˆ-sp"></a><a id="13209" href="Base.Varieties.Preservation.html#13209" class="Function">class-prod-s-âˆˆ-sp</a> <a id="13227" class="Symbol">:</a> <a id="13229" href="Base.Equality.Truncation.html#3890" class="Function">hfunext</a> <a id="13237" class="Symbol">(</a><a id="13238" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="13241" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="13242" class="Symbol">)</a> <a id="13244" class="Symbol">(</a><a id="13245" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="13248" href="Base.Varieties.Preservation.html#10713" class="Bound">Î±</a><a id="13249" class="Symbol">)</a> <a id="13251" class="Symbol">â†’</a> <a id="13253" href="Base.Algebras.Products.html#5481" class="Function">class-product</a> <a id="13267" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="13269" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a><a id="13270" class="Symbol">(</a><a id="13271" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a> <a id="13273" href="Base.Varieties.Preservation.html#10851" class="Bound">ğ’¦</a><a id="13274" class="Symbol">)</a>
 <a id="13277" href="Base.Varieties.Preservation.html#13209" class="Function">class-prod-s-âˆˆ-sp</a> <a id="13295" href="Base.Varieties.Preservation.html#13295" class="Bound">hfe</a> <a id="13299" class="Symbol">=</a> <a id="13301" href="Base.Varieties.Preservation.html#6545" class="Function">PSâŠ†SP</a> <a id="13307" class="Symbol">{</a><a id="13308" class="Argument">fovu</a> <a id="13313" class="Symbol">=</a> <a id="13315" href="Base.Varieties.Preservation.html#10821" class="Bound">feâ‚‚</a><a id="13318" class="Symbol">}</a> <a id="13320" href="Base.Varieties.Preservation.html#13295" class="Bound">hfe</a> <a id="13324" href="Base.Varieties.Preservation.html#12588" class="Function">class-prod-s-âˆˆ-ps</a>

</pre>


#### <a id="h-preserves-identities">H preserves identities</a>

First we prove that the closure operator H is compatible with identities that hold in the given class.

<pre class="Agda">

<a id="13538" class="Keyword">open</a> <a id="13543" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">â‰¡-Reasoning</a>

<a id="13556" class="Keyword">private</a> <a id="13564" class="Keyword">variable</a> <a id="13573" href="Base.Varieties.Preservation.html#13573" class="Generalizable">ğ“§</a> <a id="13575" class="Symbol">:</a> <a id="13577" href="Agda.Primitive.html#597" class="Postulate">Level</a>
<a id="13583" class="Keyword">open</a> <a id="13588" href="Base.Terms.Basic.html#2021" class="Module">Term</a>

<a id="13594" class="Keyword">module</a> <a id="13601" href="Base.Varieties.Preservation.html#13601" class="Module">_</a> <a id="13603" class="Symbol">(</a><a id="13604" href="Base.Varieties.Preservation.html#13604" class="Bound">wd</a> <a id="13607" class="Symbol">:</a> <a id="13609" href="Base.Equality.Welldefined.html#2969" class="Function">SwellDef</a><a id="13617" class="Symbol">){</a><a id="13619" href="Base.Varieties.Preservation.html#13619" class="Bound">X</a> <a id="13621" class="Symbol">:</a> <a id="13623" href="Base.Varieties.Preservation.html#835" class="Primitive">Type</a> <a id="13628" href="Base.Varieties.Preservation.html#13573" class="Generalizable">ğ“§</a><a id="13629" class="Symbol">}</a> <a id="13631" class="Symbol">{</a><a id="13632" href="Base.Varieties.Preservation.html#13632" class="Bound">ğ’¦</a> <a id="13634" class="Symbol">:</a> <a id="13636" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="13641" class="Symbol">(</a><a id="13642" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="13650" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a> <a id="13652" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="13653" class="Symbol">)(</a><a id="13655" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="13658" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a><a id="13659" class="Symbol">)}</a> <a id="13662" class="Keyword">where</a>

 <a id="13670" href="Base.Varieties.Preservation.html#13670" class="Function">H-id1</a> <a id="13676" class="Symbol">:</a> <a id="13678" class="Symbol">(</a><a id="13679" href="Base.Varieties.Preservation.html#13679" class="Bound">p</a> <a id="13681" href="Base.Varieties.Preservation.html#13681" class="Bound">q</a> <a id="13683" class="Symbol">:</a> <a id="13685" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="13690" href="Base.Varieties.Preservation.html#13619" class="Bound">X</a><a id="13691" class="Symbol">)</a> <a id="13693" class="Symbol">â†’</a> <a id="13695" href="Base.Varieties.Preservation.html#13632" class="Bound">ğ’¦</a> <a id="13697" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="13699" href="Base.Varieties.Preservation.html#13679" class="Bound">p</a> <a id="13701" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="13703" href="Base.Varieties.Preservation.html#13681" class="Bound">q</a> <a id="13705" class="Symbol">â†’</a> <a id="13707" href="Base.Varieties.Closure.html#3615" class="Datatype">H</a><a id="13708" class="Symbol">{</a><a id="13709" class="Argument">Î²</a> <a id="13711" class="Symbol">=</a> <a id="13713" href="Base.Varieties.Preservation.html#13650" class="Bound">Î±</a><a id="13714" class="Symbol">}</a> <a id="13716" href="Base.Varieties.Preservation.html#13632" class="Bound">ğ’¦</a> <a id="13718" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="13720" href="Base.Varieties.Preservation.html#13679" class="Bound">p</a> <a id="13722" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="13724" href="Base.Varieties.Preservation.html#13681" class="Bound">q</a>
 <a id="13727" href="Base.Varieties.Preservation.html#13670" class="Function">H-id1</a> <a id="13733" href="Base.Varieties.Preservation.html#13733" class="Bound">p</a> <a id="13735" href="Base.Varieties.Preservation.html#13735" class="Bound">q</a> <a id="13737" href="Base.Varieties.Preservation.html#13737" class="Bound">Ïƒ</a> <a id="13739" class="Symbol">(</a><a id="13740" href="Base.Varieties.Closure.html#3710" class="InductiveConstructor">hbase</a> <a id="13746" href="Base.Varieties.Preservation.html#13746" class="Bound">x</a><a id="13747" class="Symbol">)</a> <a id="13749" class="Symbol">=</a> <a id="13751" href="Base.Varieties.Properties.html#4334" class="Function">âŠ§-Lift-invar</a> <a id="13764" href="Base.Varieties.Preservation.html#13604" class="Bound">wd</a> <a id="13767" href="Base.Varieties.Preservation.html#13733" class="Bound">p</a> <a id="13769" href="Base.Varieties.Preservation.html#13735" class="Bound">q</a> <a id="13771" class="Symbol">(</a><a id="13772" href="Base.Varieties.Preservation.html#13737" class="Bound">Ïƒ</a> <a id="13774" href="Base.Varieties.Preservation.html#13746" class="Bound">x</a><a id="13775" class="Symbol">)</a>
 <a id="13778" href="Base.Varieties.Preservation.html#13670" class="Function">H-id1</a> <a id="13784" href="Base.Varieties.Preservation.html#13784" class="Bound">p</a> <a id="13786" href="Base.Varieties.Preservation.html#13786" class="Bound">q</a> <a id="13788" href="Base.Varieties.Preservation.html#13788" class="Bound">Ïƒ</a> <a id="13790" class="Symbol">(</a><a id="13791" href="Base.Varieties.Closure.html#3766" class="InductiveConstructor">hhimg</a><a id="13796" class="Symbol">{</a><a id="13797" href="Base.Varieties.Preservation.html#13797" class="Bound">ğ‘¨</a><a id="13798" class="Symbol">}{</a><a id="13800" href="Base.Varieties.Preservation.html#13800" class="Bound">ğ‘ª</a><a id="13801" class="Symbol">}</a> <a id="13803" href="Base.Varieties.Preservation.html#13803" class="Bound">HA</a> <a id="13806" class="Symbol">(</a><a id="13807" href="Base.Varieties.Preservation.html#13807" class="Bound">ğ‘©</a> <a id="13809" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13811" class="Symbol">((</a><a id="13813" href="Base.Varieties.Preservation.html#13813" class="Bound">Ï†</a> <a id="13815" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13817" href="Base.Varieties.Preservation.html#13817" class="Bound">Ï†h</a><a id="13819" class="Symbol">)</a> <a id="13821" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13823" href="Base.Varieties.Preservation.html#13823" class="Bound">Ï†E</a><a id="13825" class="Symbol">)))</a> <a id="13829" href="Base.Varieties.Preservation.html#13829" class="Bound">b</a> <a id="13831" class="Symbol">=</a> <a id="13833" href="Base.Varieties.Preservation.html#14004" class="Function">goal</a>
  <a id="13840" class="Keyword">where</a>
  <a id="13848" href="Base.Varieties.Preservation.html#13848" class="Function">IH</a> <a id="13851" class="Symbol">:</a> <a id="13853" href="Base.Varieties.Preservation.html#13797" class="Bound">ğ‘¨</a> <a id="13855" href="Base.Varieties.EquationalLogic.html#2688" class="Function Operator">âŠ§</a> <a id="13857" href="Base.Varieties.Preservation.html#13784" class="Bound">p</a> <a id="13859" href="Base.Varieties.EquationalLogic.html#2688" class="Function Operator">â‰ˆ</a> <a id="13861" href="Base.Varieties.Preservation.html#13786" class="Bound">q</a>
  <a id="13865" href="Base.Varieties.Preservation.html#13848" class="Function">IH</a> <a id="13868" class="Symbol">=</a> <a id="13870" class="Symbol">(</a><a id="13871" href="Base.Varieties.Preservation.html#13670" class="Function">H-id1</a> <a id="13877" href="Base.Varieties.Preservation.html#13784" class="Bound">p</a> <a id="13879" href="Base.Varieties.Preservation.html#13786" class="Bound">q</a> <a id="13881" href="Base.Varieties.Preservation.html#13788" class="Bound">Ïƒ</a><a id="13882" class="Symbol">)</a> <a id="13884" href="Base.Varieties.Preservation.html#13803" class="Bound">HA</a>

  <a id="13890" href="Base.Varieties.Preservation.html#13890" class="Function">preim</a> <a id="13896" class="Symbol">:</a> <a id="13898" href="Base.Varieties.Preservation.html#13619" class="Bound">X</a> <a id="13900" class="Symbol">â†’</a> <a id="13902" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="13904" href="Base.Varieties.Preservation.html#13797" class="Bound">ğ‘¨</a> <a id="13906" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a>
  <a id="13910" href="Base.Varieties.Preservation.html#13890" class="Function">preim</a> <a id="13916" href="Base.Varieties.Preservation.html#13916" class="Bound">x</a> <a id="13918" class="Symbol">=</a> <a id="13920" href="Base.Overture.Inverses.html#2210" class="Function">Inv</a> <a id="13924" href="Base.Varieties.Preservation.html#13813" class="Bound">Ï†</a> <a id="13926" class="Symbol">(</a><a id="13927" href="Base.Varieties.Preservation.html#13823" class="Bound">Ï†E</a> <a id="13930" class="Symbol">(</a><a id="13931" href="Base.Varieties.Preservation.html#13829" class="Bound">b</a> <a id="13933" href="Base.Varieties.Preservation.html#13916" class="Bound">x</a><a id="13934" class="Symbol">))</a>

  <a id="13940" href="Base.Varieties.Preservation.html#13940" class="Function">Î¶</a> <a id="13942" class="Symbol">:</a> <a id="13944" class="Symbol">âˆ€</a> <a id="13946" href="Base.Varieties.Preservation.html#13946" class="Bound">x</a> <a id="13948" class="Symbol">â†’</a> <a id="13950" href="Base.Varieties.Preservation.html#13813" class="Bound">Ï†</a> <a id="13952" class="Symbol">(</a><a id="13953" href="Base.Varieties.Preservation.html#13890" class="Function">preim</a> <a id="13959" href="Base.Varieties.Preservation.html#13946" class="Bound">x</a><a id="13960" class="Symbol">)</a> <a id="13962" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="13964" href="Base.Varieties.Preservation.html#13829" class="Bound">b</a> <a id="13966" href="Base.Varieties.Preservation.html#13946" class="Bound">x</a>
  <a id="13970" href="Base.Varieties.Preservation.html#13940" class="Function">Î¶</a> <a id="13972" href="Base.Varieties.Preservation.html#13972" class="Bound">x</a> <a id="13974" class="Symbol">=</a> <a id="13976" href="Base.Overture.Inverses.html#2457" class="Function">InvIsInverseÊ³</a> <a id="13990" class="Symbol">(</a><a id="13991" href="Base.Varieties.Preservation.html#13823" class="Bound">Ï†E</a> <a id="13994" class="Symbol">(</a><a id="13995" href="Base.Varieties.Preservation.html#13829" class="Bound">b</a> <a id="13997" href="Base.Varieties.Preservation.html#13972" class="Bound">x</a><a id="13998" class="Symbol">))</a>

  <a id="14004" href="Base.Varieties.Preservation.html#14004" class="Function">goal</a> <a id="14009" class="Symbol">:</a> <a id="14011" class="Symbol">(</a><a id="14012" href="Base.Varieties.Preservation.html#13807" class="Bound">ğ‘©</a> <a id="14014" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="14016" href="Base.Varieties.Preservation.html#13784" class="Bound">p</a> <a id="14018" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="14019" class="Symbol">)</a> <a id="14021" href="Base.Varieties.Preservation.html#13829" class="Bound">b</a> <a id="14023" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="14025" class="Symbol">(</a><a id="14026" href="Base.Varieties.Preservation.html#13807" class="Bound">ğ‘©</a> <a id="14028" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="14030" href="Base.Varieties.Preservation.html#13786" class="Bound">q</a> <a id="14032" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="14033" class="Symbol">)</a> <a id="14035" href="Base.Varieties.Preservation.html#13829" class="Bound">b</a>
  <a id="14039" href="Base.Varieties.Preservation.html#14004" class="Function">goal</a> <a id="14044" class="Symbol">=</a> <a id="14046" class="Symbol">(</a><a id="14047" href="Base.Varieties.Preservation.html#13807" class="Bound">ğ‘©</a> <a id="14049" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="14051" href="Base.Varieties.Preservation.html#13784" class="Bound">p</a> <a id="14053" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="14054" class="Symbol">)</a> <a id="14056" href="Base.Varieties.Preservation.html#13829" class="Bound">b</a>          <a id="14067" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14070" href="Base.Varieties.Preservation.html#13604" class="Bound">wd</a> <a id="14073" href="Base.Varieties.Preservation.html#13628" class="Bound">ğ“§</a> <a id="14075" href="Base.Varieties.Preservation.html#13650" class="Bound">Î±</a> <a id="14077" class="Symbol">(</a><a id="14078" href="Base.Varieties.Preservation.html#13807" class="Bound">ğ‘©</a> <a id="14080" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="14082" href="Base.Varieties.Preservation.html#13784" class="Bound">p</a> <a id="14084" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="14085" class="Symbol">)</a> <a id="14087" href="Base.Varieties.Preservation.html#13829" class="Bound">b</a> <a id="14089" class="Symbol">(</a><a id="14090" href="Base.Varieties.Preservation.html#13813" class="Bound">Ï†</a> <a id="14092" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="14094" href="Base.Varieties.Preservation.html#13890" class="Function">preim</a> <a id="14100" class="Symbol">)(Î»</a> <a id="14104" href="Base.Varieties.Preservation.html#14104" class="Bound">i</a> <a id="14106" class="Symbol">â†’</a> <a id="14108" class="Symbol">(</a><a id="14109" href="Base.Varieties.Preservation.html#13940" class="Function">Î¶</a> <a id="14111" href="Base.Varieties.Preservation.html#14104" class="Bound">i</a><a id="14112" class="Symbol">)</a><a id="14113" href="Base.Overture.Preliminaries.html#4990" class="Function Operator">â»Â¹</a><a id="14115" class="Symbol">)</a><a id="14116" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14124" class="Symbol">(</a><a id="14125" href="Base.Varieties.Preservation.html#13807" class="Bound">ğ‘©</a> <a id="14127" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="14129" href="Base.Varieties.Preservation.html#13784" class="Bound">p</a> <a id="14131" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="14132" class="Symbol">)(</a><a id="14134" href="Base.Varieties.Preservation.html#13813" class="Bound">Ï†</a> <a id="14136" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="14138" href="Base.Varieties.Preservation.html#13890" class="Function">preim</a><a id="14143" class="Symbol">)</a> <a id="14145" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="14147" class="Symbol">(</a><a id="14148" href="Base.Terms.Operations.html#6644" class="Function">comm-hom-term</a> <a id="14162" class="Symbol">(</a><a id="14163" href="Base.Varieties.Preservation.html#13604" class="Bound">wd</a> <a id="14166" href="Base.Varieties.Preservation.html#649" class="Bound">ğ“¥</a> <a id="14168" href="Base.Varieties.Preservation.html#13650" class="Bound">Î±</a><a id="14169" class="Symbol">)</a> <a id="14171" href="Base.Varieties.Preservation.html#13807" class="Bound">ğ‘©</a> <a id="14173" class="Symbol">(</a><a id="14174" href="Base.Varieties.Preservation.html#13813" class="Bound">Ï†</a> <a id="14176" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14178" href="Base.Varieties.Preservation.html#13817" class="Bound">Ï†h</a><a id="14180" class="Symbol">)</a> <a id="14182" href="Base.Varieties.Preservation.html#13784" class="Bound">p</a> <a id="14184" href="Base.Varieties.Preservation.html#13890" class="Function">preim</a><a id="14189" class="Symbol">)</a><a id="14190" href="Base.Overture.Preliminaries.html#4990" class="Function Operator">â»Â¹</a> <a id="14193" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14201" href="Base.Varieties.Preservation.html#13813" class="Bound">Ï†</a><a id="14202" class="Symbol">((</a><a id="14204" href="Base.Varieties.Preservation.html#13797" class="Bound">ğ‘¨</a> <a id="14206" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="14208" href="Base.Varieties.Preservation.html#13784" class="Bound">p</a> <a id="14210" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="14211" class="Symbol">)</a> <a id="14213" href="Base.Varieties.Preservation.html#13890" class="Function">preim</a><a id="14218" class="Symbol">)</a>   <a id="14222" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14225" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="14230" href="Base.Varieties.Preservation.html#13813" class="Bound">Ï†</a> <a id="14232" class="Symbol">(</a><a id="14233" href="Base.Varieties.Preservation.html#13848" class="Function">IH</a> <a id="14236" href="Base.Varieties.Preservation.html#13890" class="Function">preim</a><a id="14241" class="Symbol">)</a> <a id="14243" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14251" href="Base.Varieties.Preservation.html#13813" class="Bound">Ï†</a><a id="14252" class="Symbol">((</a><a id="14254" href="Base.Varieties.Preservation.html#13797" class="Bound">ğ‘¨</a> <a id="14256" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="14258" href="Base.Varieties.Preservation.html#13786" class="Bound">q</a> <a id="14260" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="14261" class="Symbol">)</a> <a id="14263" href="Base.Varieties.Preservation.html#13890" class="Function">preim</a><a id="14268" class="Symbol">)</a>   <a id="14272" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14275" href="Base.Terms.Operations.html#6644" class="Function">comm-hom-term</a> <a id="14289" class="Symbol">(</a><a id="14290" href="Base.Varieties.Preservation.html#13604" class="Bound">wd</a> <a id="14293" href="Base.Varieties.Preservation.html#649" class="Bound">ğ“¥</a> <a id="14295" href="Base.Varieties.Preservation.html#13650" class="Bound">Î±</a><a id="14296" class="Symbol">)</a> <a id="14298" href="Base.Varieties.Preservation.html#13807" class="Bound">ğ‘©</a> <a id="14300" class="Symbol">(</a><a id="14301" href="Base.Varieties.Preservation.html#13813" class="Bound">Ï†</a> <a id="14303" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="14305" href="Base.Varieties.Preservation.html#13817" class="Bound">Ï†h</a><a id="14307" class="Symbol">)</a> <a id="14309" href="Base.Varieties.Preservation.html#13786" class="Bound">q</a> <a id="14311" href="Base.Varieties.Preservation.html#13890" class="Function">preim</a> <a id="14317" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14325" class="Symbol">(</a><a id="14326" href="Base.Varieties.Preservation.html#13807" class="Bound">ğ‘©</a> <a id="14328" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="14330" href="Base.Varieties.Preservation.html#13786" class="Bound">q</a> <a id="14332" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="14333" class="Symbol">)(</a><a id="14335" href="Base.Varieties.Preservation.html#13813" class="Bound">Ï†</a> <a id="14337" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="14339" href="Base.Varieties.Preservation.html#13890" class="Function">preim</a><a id="14344" class="Symbol">)</a> <a id="14346" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="14349" href="Base.Varieties.Preservation.html#13604" class="Bound">wd</a> <a id="14352" href="Base.Varieties.Preservation.html#13628" class="Bound">ğ“§</a> <a id="14354" href="Base.Varieties.Preservation.html#13650" class="Bound">Î±</a> <a id="14356" class="Symbol">(</a><a id="14357" href="Base.Varieties.Preservation.html#13807" class="Bound">ğ‘©</a> <a id="14359" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="14361" href="Base.Varieties.Preservation.html#13786" class="Bound">q</a> <a id="14363" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="14364" class="Symbol">)(</a><a id="14366" href="Base.Varieties.Preservation.html#13813" class="Bound">Ï†</a> <a id="14368" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="14370" href="Base.Varieties.Preservation.html#13890" class="Function">preim</a><a id="14375" class="Symbol">)</a> <a id="14377" href="Base.Varieties.Preservation.html#13829" class="Bound">b</a> <a id="14379" href="Base.Varieties.Preservation.html#13940" class="Function">Î¶</a> <a id="14381" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="14389" class="Symbol">(</a><a id="14390" href="Base.Varieties.Preservation.html#13807" class="Bound">ğ‘©</a> <a id="14392" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="14394" href="Base.Varieties.Preservation.html#13786" class="Bound">q</a> <a id="14396" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="14397" class="Symbol">)</a> <a id="14399" href="Base.Varieties.Preservation.html#13829" class="Bound">b</a>          <a id="14410" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

</pre>

The converse of the foregoing result is almost too obvious to bother with. Nonetheless, we formalize it for completeness.

<pre class="Agda">

 <a id="14563" href="Base.Varieties.Preservation.html#14563" class="Function">H-id2</a> <a id="14569" class="Symbol">:</a> <a id="14571" class="Symbol">âˆ€</a> <a id="14573" class="Symbol">{</a><a id="14574" href="Base.Varieties.Preservation.html#14574" class="Bound">Î²</a><a id="14575" class="Symbol">}</a> <a id="14577" class="Symbol">â†’</a> <a id="14579" class="Symbol">(</a><a id="14580" href="Base.Varieties.Preservation.html#14580" class="Bound">p</a> <a id="14582" href="Base.Varieties.Preservation.html#14582" class="Bound">q</a> <a id="14584" class="Symbol">:</a> <a id="14586" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="14591" href="Base.Varieties.Preservation.html#13619" class="Bound">X</a><a id="14592" class="Symbol">)</a> <a id="14594" class="Symbol">â†’</a> <a id="14596" href="Base.Varieties.Closure.html#3615" class="Datatype">H</a><a id="14597" class="Symbol">{</a><a id="14598" class="Argument">Î²</a> <a id="14600" class="Symbol">=</a> <a id="14602" href="Base.Varieties.Preservation.html#14574" class="Bound">Î²</a><a id="14603" class="Symbol">}</a> <a id="14605" href="Base.Varieties.Preservation.html#13632" class="Bound">ğ’¦</a> <a id="14607" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="14609" href="Base.Varieties.Preservation.html#14580" class="Bound">p</a> <a id="14611" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="14613" href="Base.Varieties.Preservation.html#14582" class="Bound">q</a> <a id="14615" class="Symbol">â†’</a> <a id="14617" href="Base.Varieties.Preservation.html#13632" class="Bound">ğ’¦</a> <a id="14619" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="14621" href="Base.Varieties.Preservation.html#14580" class="Bound">p</a> <a id="14623" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="14625" href="Base.Varieties.Preservation.html#14582" class="Bound">q</a>

 <a id="14629" href="Base.Varieties.Preservation.html#14563" class="Function">H-id2</a> <a id="14635" href="Base.Varieties.Preservation.html#14635" class="Bound">p</a> <a id="14637" href="Base.Varieties.Preservation.html#14637" class="Bound">q</a> <a id="14639" href="Base.Varieties.Preservation.html#14639" class="Bound">Hpq</a> <a id="14643" href="Base.Varieties.Preservation.html#14643" class="Bound">KA</a> <a id="14646" class="Symbol">=</a> <a id="14648" href="Base.Varieties.Properties.html#4468" class="Function">âŠ§-lower-invar</a> <a id="14662" href="Base.Varieties.Preservation.html#13604" class="Bound">wd</a> <a id="14665" href="Base.Varieties.Preservation.html#14635" class="Bound">p</a> <a id="14667" href="Base.Varieties.Preservation.html#14637" class="Bound">q</a> <a id="14669" class="Symbol">(</a><a id="14670" href="Base.Varieties.Preservation.html#14639" class="Bound">Hpq</a> <a id="14674" class="Symbol">(</a><a id="14675" href="Base.Varieties.Closure.html#3710" class="InductiveConstructor">hbase</a> <a id="14681" href="Base.Varieties.Preservation.html#14643" class="Bound">KA</a><a id="14683" class="Symbol">))</a>

</pre>


#### <a id="s-preserves-identities">S preserves identities</a>

<pre class="Agda">

 <a id="14779" href="Base.Varieties.Preservation.html#14779" class="Function">S-id1</a> <a id="14785" class="Symbol">:</a> <a id="14787" class="Symbol">(</a><a id="14788" href="Base.Varieties.Preservation.html#14788" class="Bound">p</a> <a id="14790" href="Base.Varieties.Preservation.html#14790" class="Bound">q</a> <a id="14792" class="Symbol">:</a> <a id="14794" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="14799" href="Base.Varieties.Preservation.html#13619" class="Bound">X</a><a id="14800" class="Symbol">)</a> <a id="14802" class="Symbol">â†’</a> <a id="14804" href="Base.Varieties.Preservation.html#13632" class="Bound">ğ’¦</a> <a id="14806" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="14808" href="Base.Varieties.Preservation.html#14788" class="Bound">p</a> <a id="14810" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="14812" href="Base.Varieties.Preservation.html#14790" class="Bound">q</a> <a id="14814" class="Symbol">â†’</a> <a id="14816" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a><a id="14817" class="Symbol">{</a><a id="14818" class="Argument">Î²</a> <a id="14820" class="Symbol">=</a> <a id="14822" href="Base.Varieties.Preservation.html#13650" class="Bound">Î±</a><a id="14823" class="Symbol">}</a> <a id="14825" href="Base.Varieties.Preservation.html#13632" class="Bound">ğ’¦</a> <a id="14827" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="14829" href="Base.Varieties.Preservation.html#14788" class="Bound">p</a> <a id="14831" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="14833" href="Base.Varieties.Preservation.html#14790" class="Bound">q</a>

 <a id="14837" href="Base.Varieties.Preservation.html#14779" class="Function">S-id1</a> <a id="14843" href="Base.Varieties.Preservation.html#14843" class="Bound">p</a> <a id="14845" href="Base.Varieties.Preservation.html#14845" class="Bound">q</a> <a id="14847" href="Base.Varieties.Preservation.html#14847" class="Bound">Ïƒ</a> <a id="14849" class="Symbol">(</a><a id="14850" href="Base.Varieties.Closure.html#4146" class="InductiveConstructor">sbase</a> <a id="14856" href="Base.Varieties.Preservation.html#14856" class="Bound">x</a><a id="14857" class="Symbol">)</a> <a id="14859" class="Symbol">=</a> <a id="14861" href="Base.Varieties.Properties.html#4334" class="Function">âŠ§-Lift-invar</a> <a id="14874" href="Base.Varieties.Preservation.html#13604" class="Bound">wd</a> <a id="14877" href="Base.Varieties.Preservation.html#14843" class="Bound">p</a> <a id="14879" href="Base.Varieties.Preservation.html#14845" class="Bound">q</a> <a id="14881" class="Symbol">(</a><a id="14882" href="Base.Varieties.Preservation.html#14847" class="Bound">Ïƒ</a> <a id="14884" href="Base.Varieties.Preservation.html#14856" class="Bound">x</a><a id="14885" class="Symbol">)</a>
 <a id="14888" href="Base.Varieties.Preservation.html#14779" class="Function">S-id1</a> <a id="14894" href="Base.Varieties.Preservation.html#14894" class="Bound">p</a> <a id="14896" href="Base.Varieties.Preservation.html#14896" class="Bound">q</a> <a id="14898" href="Base.Varieties.Preservation.html#14898" class="Bound">Ïƒ</a> <a id="14900" class="Symbol">(</a><a id="14901" href="Base.Varieties.Closure.html#4202" class="InductiveConstructor">slift</a> <a id="14907" href="Base.Varieties.Preservation.html#14907" class="Bound">x</a><a id="14908" class="Symbol">)</a> <a id="14910" class="Symbol">=</a> <a id="14912" href="Base.Varieties.Properties.html#4334" class="Function">âŠ§-Lift-invar</a> <a id="14925" href="Base.Varieties.Preservation.html#13604" class="Bound">wd</a> <a id="14928" href="Base.Varieties.Preservation.html#14894" class="Bound">p</a> <a id="14930" href="Base.Varieties.Preservation.html#14896" class="Bound">q</a> <a id="14932" class="Symbol">((</a><a id="14934" href="Base.Varieties.Preservation.html#14779" class="Function">S-id1</a> <a id="14940" href="Base.Varieties.Preservation.html#14894" class="Bound">p</a> <a id="14942" href="Base.Varieties.Preservation.html#14896" class="Bound">q</a> <a id="14944" href="Base.Varieties.Preservation.html#14898" class="Bound">Ïƒ</a><a id="14945" class="Symbol">)</a> <a id="14947" href="Base.Varieties.Preservation.html#14907" class="Bound">x</a><a id="14948" class="Symbol">)</a>

 <a id="14952" href="Base.Varieties.Preservation.html#14779" class="Function">S-id1</a> <a id="14958" href="Base.Varieties.Preservation.html#14958" class="Bound">p</a> <a id="14960" href="Base.Varieties.Preservation.html#14960" class="Bound">q</a> <a id="14962" href="Base.Varieties.Preservation.html#14962" class="Bound">Ïƒ</a> <a id="14964" class="Symbol">(</a><a id="14965" href="Base.Varieties.Closure.html#4266" class="InductiveConstructor">ssub</a><a id="14969" class="Symbol">{</a><a id="14970" href="Base.Varieties.Preservation.html#14970" class="Bound">ğ‘¨</a><a id="14971" class="Symbol">}{</a><a id="14973" href="Base.Varieties.Preservation.html#14973" class="Bound">ğ‘©</a><a id="14974" class="Symbol">}</a> <a id="14976" href="Base.Varieties.Preservation.html#14976" class="Bound">sA</a> <a id="14979" href="Base.Varieties.Preservation.html#14979" class="Bound">Bâ‰¤A</a><a id="14982" class="Symbol">)</a> <a id="14984" class="Symbol">=</a> <a id="14986" href="Base.Varieties.Properties.html#5621" class="Function">âŠ§-S-class-invar</a> <a id="15002" href="Base.Varieties.Preservation.html#13604" class="Bound">wd</a> <a id="15005" href="Base.Varieties.Preservation.html#14958" class="Bound">p</a> <a id="15007" href="Base.Varieties.Preservation.html#14960" class="Bound">q</a> <a id="15009" href="Base.Varieties.Preservation.html#15137" class="Function">goal</a> <a id="15014" href="Base.Varieties.Preservation.html#15219" class="Function">Î½</a>
  <a id="15018" class="Keyword">where</a> <a id="15024" class="Comment">--Apply S-âŠ§ to the class ğ’¦ âˆª ï½› ğ‘¨ ï½</a>
  <a id="15061" href="Base.Varieties.Preservation.html#15061" class="Function">Ï„</a> <a id="15063" class="Symbol">:</a> <a id="15065" href="Base.Varieties.Preservation.html#14970" class="Bound">ğ‘¨</a> <a id="15067" href="Base.Varieties.EquationalLogic.html#2688" class="Function Operator">âŠ§</a> <a id="15069" href="Base.Varieties.Preservation.html#14958" class="Bound">p</a> <a id="15071" href="Base.Varieties.EquationalLogic.html#2688" class="Function Operator">â‰ˆ</a> <a id="15073" href="Base.Varieties.Preservation.html#14960" class="Bound">q</a>
  <a id="15077" href="Base.Varieties.Preservation.html#15061" class="Function">Ï„</a> <a id="15079" class="Symbol">=</a> <a id="15081" href="Base.Varieties.Preservation.html#14779" class="Function">S-id1</a> <a id="15087" href="Base.Varieties.Preservation.html#14958" class="Bound">p</a> <a id="15089" href="Base.Varieties.Preservation.html#14960" class="Bound">q</a> <a id="15091" href="Base.Varieties.Preservation.html#14962" class="Bound">Ïƒ</a> <a id="15093" href="Base.Varieties.Preservation.html#14976" class="Bound">sA</a>

  <a id="15099" href="Base.Varieties.Preservation.html#15099" class="Function">Apq</a> <a id="15103" class="Symbol">:</a> <a id="15105" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="15107" href="Base.Varieties.Preservation.html#14970" class="Bound">ğ‘¨</a> <a id="15109" href="Relation.Unary.html#1335" class="Function Operator">ï½</a> <a id="15111" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="15113" href="Base.Varieties.Preservation.html#14958" class="Bound">p</a> <a id="15115" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="15117" href="Base.Varieties.Preservation.html#14960" class="Bound">q</a>
  <a id="15121" href="Base.Varieties.Preservation.html#15099" class="Function">Apq</a> <a id="15125" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="15130" class="Symbol">=</a> <a id="15132" href="Base.Varieties.Preservation.html#15061" class="Function">Ï„</a>

  <a id="15137" href="Base.Varieties.Preservation.html#15137" class="Function">goal</a> <a id="15142" class="Symbol">:</a> <a id="15144" class="Symbol">(</a><a id="15145" href="Base.Varieties.Preservation.html#13632" class="Bound">ğ’¦</a> <a id="15147" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="15149" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="15151" href="Base.Varieties.Preservation.html#14970" class="Bound">ğ‘¨</a> <a id="15153" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="15154" class="Symbol">)</a> <a id="15156" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="15158" href="Base.Varieties.Preservation.html#14958" class="Bound">p</a> <a id="15160" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="15162" href="Base.Varieties.Preservation.html#14960" class="Bound">q</a>
  <a id="15166" href="Base.Varieties.Preservation.html#15137" class="Function">goal</a> <a id="15171" class="Symbol">{</a><a id="15172" href="Base.Varieties.Preservation.html#15172" class="Bound">ğ‘©</a><a id="15173" class="Symbol">}</a> <a id="15175" class="Symbol">(</a><a id="15176" href="Base.Varieties.Preservation.html#1124" class="InductiveConstructor">inl</a> <a id="15180" href="Base.Varieties.Preservation.html#15180" class="Bound">x</a><a id="15181" class="Symbol">)</a> <a id="15183" class="Symbol">=</a> <a id="15185" href="Base.Varieties.Preservation.html#14962" class="Bound">Ïƒ</a> <a id="15187" href="Base.Varieties.Preservation.html#15180" class="Bound">x</a>
  <a id="15191" href="Base.Varieties.Preservation.html#15137" class="Function">goal</a> <a id="15196" class="Symbol">{</a><a id="15197" href="Base.Varieties.Preservation.html#15197" class="Bound">ğ‘©</a><a id="15198" class="Symbol">}</a> <a id="15200" class="Symbol">(</a><a id="15201" href="Base.Varieties.Preservation.html#1139" class="InductiveConstructor">inr</a> <a id="15205" href="Base.Varieties.Preservation.html#15205" class="Bound">y</a><a id="15206" class="Symbol">)</a> <a id="15208" class="Symbol">=</a> <a id="15210" href="Base.Varieties.Preservation.html#15099" class="Function">Apq</a> <a id="15214" href="Base.Varieties.Preservation.html#15205" class="Bound">y</a>

  <a id="15219" href="Base.Varieties.Preservation.html#15219" class="Function">Î½</a> <a id="15221" class="Symbol">:</a> <a id="15223" href="Base.Subalgebras.Subalgebras.html#6175" class="Function">SubalgebraOfClass</a> <a id="15241" class="Symbol">(Î»</a> <a id="15244" href="Base.Varieties.Preservation.html#15244" class="Bound">z</a> <a id="15246" class="Symbol">â†’</a> <a id="15248" class="Symbol">(</a><a id="15249" href="Base.Varieties.Preservation.html#13632" class="Bound">ğ’¦</a> <a id="15251" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="15253" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="15255" href="Base.Varieties.Preservation.html#14970" class="Bound">ğ‘¨</a> <a id="15257" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="15258" class="Symbol">)</a> <a id="15260" class="Symbol">(</a><a id="15261" href="Agda.Builtin.Sigma.html#252" class="Field">Data.Product.projâ‚</a> <a id="15280" href="Base.Varieties.Preservation.html#15244" class="Bound">z</a> <a id="15282" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15284" href="Agda.Builtin.Sigma.html#264" class="Field">Data.Product.projâ‚‚</a> <a id="15303" href="Base.Varieties.Preservation.html#15244" class="Bound">z</a><a id="15304" class="Symbol">))</a>
  <a id="15309" href="Base.Varieties.Preservation.html#15219" class="Function">Î½</a> <a id="15311" class="Symbol">=</a> <a id="15313" class="Symbol">(</a><a id="15314" href="Base.Varieties.Preservation.html#14973" class="Bound">ğ‘©</a> <a id="15316" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15318" href="Base.Varieties.Preservation.html#14970" class="Bound">ğ‘¨</a> <a id="15320" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15322" class="Symbol">(</a><a id="15323" href="Base.Varieties.Preservation.html#14973" class="Bound">ğ‘©</a> <a id="15325" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15327" href="Base.Varieties.Preservation.html#14979" class="Bound">Bâ‰¤A</a><a id="15330" class="Symbol">)</a> <a id="15332" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15334" href="Data.Sum.Base.html#809" class="InductiveConstructor">_âŠ_.injâ‚‚</a> <a id="15343" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="15348" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="15350" href="Base.Homomorphisms.Isomorphisms.html#2919" class="Function">â‰…-refl</a><a id="15356" class="Symbol">)</a>

 <a id="15360" href="Base.Varieties.Preservation.html#14779" class="Function">S-id1</a> <a id="15366" href="Base.Varieties.Preservation.html#15366" class="Bound">p</a> <a id="15368" href="Base.Varieties.Preservation.html#15368" class="Bound">q</a> <a id="15370" href="Base.Varieties.Preservation.html#15370" class="Bound">Ïƒ</a> <a id="15372" class="Symbol">(</a><a id="15373" href="Base.Varieties.Closure.html#4344" class="InductiveConstructor">siso</a><a id="15377" class="Symbol">{</a><a id="15378" href="Base.Varieties.Preservation.html#15378" class="Bound">ğ‘¨</a><a id="15379" class="Symbol">}{</a><a id="15381" href="Base.Varieties.Preservation.html#15381" class="Bound">ğ‘©</a><a id="15382" class="Symbol">}</a> <a id="15384" href="Base.Varieties.Preservation.html#15384" class="Bound">x</a> <a id="15386" href="Base.Varieties.Preservation.html#15386" class="Bound">xâ‚</a><a id="15388" class="Symbol">)</a> <a id="15390" class="Symbol">=</a> <a id="15392" href="Base.Varieties.Properties.html#3391" class="Function">âŠ§-I-invar</a> <a id="15402" href="Base.Varieties.Preservation.html#13604" class="Bound">wd</a> <a id="15405" href="Base.Varieties.Preservation.html#15381" class="Bound">ğ‘©</a> <a id="15407" href="Base.Varieties.Preservation.html#15366" class="Bound">p</a> <a id="15409" href="Base.Varieties.Preservation.html#15368" class="Bound">q</a> <a id="15411" class="Symbol">(</a><a id="15412" href="Base.Varieties.Preservation.html#14779" class="Function">S-id1</a> <a id="15418" href="Base.Varieties.Preservation.html#15366" class="Bound">p</a> <a id="15420" href="Base.Varieties.Preservation.html#15368" class="Bound">q</a> <a id="15422" href="Base.Varieties.Preservation.html#15370" class="Bound">Ïƒ</a> <a id="15424" href="Base.Varieties.Preservation.html#15384" class="Bound">x</a><a id="15425" class="Symbol">)</a> <a id="15427" href="Base.Varieties.Preservation.html#15386" class="Bound">xâ‚</a>

</pre>

Again, the obvious converse is barely worth the bits needed to formalize it.

<pre class="Agda">

 <a id="15536" href="Base.Varieties.Preservation.html#15536" class="Function">S-id2</a> <a id="15542" class="Symbol">:</a> <a id="15544" class="Symbol">âˆ€{</a><a id="15546" href="Base.Varieties.Preservation.html#15546" class="Bound">Î²</a><a id="15547" class="Symbol">}(</a><a id="15549" href="Base.Varieties.Preservation.html#15549" class="Bound">p</a> <a id="15551" href="Base.Varieties.Preservation.html#15551" class="Bound">q</a> <a id="15553" class="Symbol">:</a> <a id="15555" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="15560" href="Base.Varieties.Preservation.html#13619" class="Bound">X</a><a id="15561" class="Symbol">)</a> <a id="15563" class="Symbol">â†’</a> <a id="15565" href="Base.Varieties.Closure.html#4058" class="Datatype">S</a><a id="15566" class="Symbol">{</a><a id="15567" class="Argument">Î²</a> <a id="15569" class="Symbol">=</a> <a id="15571" href="Base.Varieties.Preservation.html#15546" class="Bound">Î²</a><a id="15572" class="Symbol">}</a><a id="15573" href="Base.Varieties.Preservation.html#13632" class="Bound">ğ’¦</a> <a id="15575" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="15577" href="Base.Varieties.Preservation.html#15549" class="Bound">p</a> <a id="15579" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="15581" href="Base.Varieties.Preservation.html#15551" class="Bound">q</a> <a id="15583" class="Symbol">â†’</a> <a id="15585" href="Base.Varieties.Preservation.html#13632" class="Bound">ğ’¦</a> <a id="15587" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="15589" href="Base.Varieties.Preservation.html#15549" class="Bound">p</a> <a id="15591" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="15593" href="Base.Varieties.Preservation.html#15551" class="Bound">q</a>

 <a id="15597" href="Base.Varieties.Preservation.html#15536" class="Function">S-id2</a> <a id="15603" href="Base.Varieties.Preservation.html#15603" class="Bound">p</a> <a id="15605" href="Base.Varieties.Preservation.html#15605" class="Bound">q</a> <a id="15607" href="Base.Varieties.Preservation.html#15607" class="Bound">Spq</a> <a id="15611" class="Symbol">{</a><a id="15612" href="Base.Varieties.Preservation.html#15612" class="Bound">ğ‘¨</a><a id="15613" class="Symbol">}</a> <a id="15615" href="Base.Varieties.Preservation.html#15615" class="Bound">KA</a> <a id="15618" class="Symbol">=</a> <a id="15620" href="Base.Varieties.Properties.html#4468" class="Function">âŠ§-lower-invar</a> <a id="15634" href="Base.Varieties.Preservation.html#13604" class="Bound">wd</a> <a id="15637" href="Base.Varieties.Preservation.html#15603" class="Bound">p</a> <a id="15639" href="Base.Varieties.Preservation.html#15605" class="Bound">q</a> <a id="15641" class="Symbol">(</a><a id="15642" href="Base.Varieties.Preservation.html#15607" class="Bound">Spq</a> <a id="15646" class="Symbol">(</a><a id="15647" href="Base.Varieties.Closure.html#4146" class="InductiveConstructor">sbase</a> <a id="15653" href="Base.Varieties.Preservation.html#15615" class="Bound">KA</a><a id="15655" class="Symbol">))</a>

</pre>



#### <a id="p-preserves-identities">P preserves identities</a>

<pre class="Agda">

<a id="15751" class="Keyword">module</a> <a id="15758" href="Base.Varieties.Preservation.html#15758" class="Module">_</a> <a id="15760" class="Symbol">(</a><a id="15761" href="Base.Varieties.Preservation.html#15761" class="Bound">fe</a> <a id="15764" class="Symbol">:</a> <a id="15766" href="Base.Equality.Extensionality.html#2294" class="Function">DFunExt</a><a id="15773" class="Symbol">)</a> <a id="15775" class="Symbol">(</a><a id="15776" href="Base.Varieties.Preservation.html#15776" class="Bound">wd</a> <a id="15779" class="Symbol">:</a> <a id="15781" href="Base.Equality.Welldefined.html#2969" class="Function">SwellDef</a><a id="15789" class="Symbol">){</a><a id="15791" href="Base.Varieties.Preservation.html#15791" class="Bound">X</a> <a id="15793" class="Symbol">:</a> <a id="15795" href="Base.Varieties.Preservation.html#835" class="Primitive">Type</a> <a id="15800" href="Base.Varieties.Preservation.html#13573" class="Generalizable">ğ“§</a><a id="15801" class="Symbol">}</a> <a id="15803" class="Symbol">{</a><a id="15804" href="Base.Varieties.Preservation.html#15804" class="Bound">ğ’¦</a> <a id="15806" class="Symbol">:</a> <a id="15808" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="15813" class="Symbol">(</a><a id="15814" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="15822" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a> <a id="15824" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="15825" class="Symbol">)(</a><a id="15827" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="15830" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a><a id="15831" class="Symbol">)}</a> <a id="15834" class="Keyword">where</a>

 <a id="15842" href="Base.Varieties.Preservation.html#15842" class="Function">P-id1</a> <a id="15848" class="Symbol">:</a> <a id="15850" class="Symbol">(</a><a id="15851" href="Base.Varieties.Preservation.html#15851" class="Bound">p</a> <a id="15853" href="Base.Varieties.Preservation.html#15853" class="Bound">q</a> <a id="15855" class="Symbol">:</a> <a id="15857" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="15862" href="Base.Varieties.Preservation.html#15791" class="Bound">X</a><a id="15863" class="Symbol">)</a> <a id="15865" class="Symbol">â†’</a> <a id="15867" href="Base.Varieties.Preservation.html#15804" class="Bound">ğ’¦</a> <a id="15869" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="15871" href="Base.Varieties.Preservation.html#15851" class="Bound">p</a> <a id="15873" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="15875" href="Base.Varieties.Preservation.html#15853" class="Bound">q</a> <a id="15877" class="Symbol">â†’</a> <a id="15879" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="15880" class="Symbol">{</a><a id="15881" class="Argument">Î²</a> <a id="15883" class="Symbol">=</a> <a id="15885" href="Base.Varieties.Preservation.html#15822" class="Bound">Î±</a><a id="15886" class="Symbol">}</a> <a id="15888" href="Base.Varieties.Preservation.html#15804" class="Bound">ğ’¦</a> <a id="15890" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="15892" href="Base.Varieties.Preservation.html#15851" class="Bound">p</a> <a id="15894" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="15896" href="Base.Varieties.Preservation.html#15853" class="Bound">q</a>

 <a id="15900" href="Base.Varieties.Preservation.html#15842" class="Function">P-id1</a> <a id="15906" href="Base.Varieties.Preservation.html#15906" class="Bound">p</a> <a id="15908" href="Base.Varieties.Preservation.html#15908" class="Bound">q</a> <a id="15910" href="Base.Varieties.Preservation.html#15910" class="Bound">Ïƒ</a> <a id="15912" class="Symbol">(</a><a id="15913" href="Base.Varieties.Closure.html#4722" class="InductiveConstructor">pbase</a> <a id="15919" href="Base.Varieties.Preservation.html#15919" class="Bound">x</a><a id="15920" class="Symbol">)</a> <a id="15922" class="Symbol">=</a> <a id="15924" href="Base.Varieties.Properties.html#4334" class="Function">âŠ§-Lift-invar</a> <a id="15937" href="Base.Varieties.Preservation.html#15776" class="Bound">wd</a> <a id="15940" href="Base.Varieties.Preservation.html#15906" class="Bound">p</a> <a id="15942" href="Base.Varieties.Preservation.html#15908" class="Bound">q</a> <a id="15944" class="Symbol">(</a><a id="15945" href="Base.Varieties.Preservation.html#15910" class="Bound">Ïƒ</a> <a id="15947" href="Base.Varieties.Preservation.html#15919" class="Bound">x</a><a id="15948" class="Symbol">)</a>
 <a id="15951" href="Base.Varieties.Preservation.html#15842" class="Function">P-id1</a> <a id="15957" href="Base.Varieties.Preservation.html#15957" class="Bound">p</a> <a id="15959" href="Base.Varieties.Preservation.html#15959" class="Bound">q</a> <a id="15961" href="Base.Varieties.Preservation.html#15961" class="Bound">Ïƒ</a> <a id="15963" class="Symbol">(</a><a id="15964" href="Base.Varieties.Closure.html#4779" class="InductiveConstructor">pliftu</a> <a id="15971" href="Base.Varieties.Preservation.html#15971" class="Bound">x</a><a id="15972" class="Symbol">)</a> <a id="15974" class="Symbol">=</a> <a id="15976" href="Base.Varieties.Properties.html#4334" class="Function">âŠ§-Lift-invar</a> <a id="15989" href="Base.Varieties.Preservation.html#15776" class="Bound">wd</a> <a id="15992" href="Base.Varieties.Preservation.html#15957" class="Bound">p</a> <a id="15994" href="Base.Varieties.Preservation.html#15959" class="Bound">q</a> <a id="15996" class="Symbol">((</a><a id="15998" href="Base.Varieties.Preservation.html#15842" class="Function">P-id1</a> <a id="16004" href="Base.Varieties.Preservation.html#15957" class="Bound">p</a> <a id="16006" href="Base.Varieties.Preservation.html#15959" class="Bound">q</a> <a id="16008" href="Base.Varieties.Preservation.html#15961" class="Bound">Ïƒ</a><a id="16009" class="Symbol">)</a> <a id="16011" href="Base.Varieties.Preservation.html#15971" class="Bound">x</a><a id="16012" class="Symbol">)</a>
 <a id="16015" href="Base.Varieties.Preservation.html#15842" class="Function">P-id1</a> <a id="16021" href="Base.Varieties.Preservation.html#16021" class="Bound">p</a> <a id="16023" href="Base.Varieties.Preservation.html#16023" class="Bound">q</a> <a id="16025" href="Base.Varieties.Preservation.html#16025" class="Bound">Ïƒ</a> <a id="16027" class="Symbol">(</a><a id="16028" href="Base.Varieties.Closure.html#4844" class="InductiveConstructor">pliftw</a> <a id="16035" href="Base.Varieties.Preservation.html#16035" class="Bound">x</a><a id="16036" class="Symbol">)</a> <a id="16038" class="Symbol">=</a> <a id="16040" href="Base.Varieties.Properties.html#4334" class="Function">âŠ§-Lift-invar</a> <a id="16053" href="Base.Varieties.Preservation.html#15776" class="Bound">wd</a> <a id="16056" href="Base.Varieties.Preservation.html#16021" class="Bound">p</a> <a id="16058" href="Base.Varieties.Preservation.html#16023" class="Bound">q</a> <a id="16060" class="Symbol">((</a><a id="16062" href="Base.Varieties.Preservation.html#15842" class="Function">P-id1</a> <a id="16068" href="Base.Varieties.Preservation.html#16021" class="Bound">p</a> <a id="16070" href="Base.Varieties.Preservation.html#16023" class="Bound">q</a> <a id="16072" href="Base.Varieties.Preservation.html#16025" class="Bound">Ïƒ</a><a id="16073" class="Symbol">)</a> <a id="16075" href="Base.Varieties.Preservation.html#16035" class="Bound">x</a><a id="16076" class="Symbol">)</a>

 <a id="16080" href="Base.Varieties.Preservation.html#15842" class="Function">P-id1</a> <a id="16086" href="Base.Varieties.Preservation.html#16086" class="Bound">p</a> <a id="16088" href="Base.Varieties.Preservation.html#16088" class="Bound">q</a> <a id="16090" href="Base.Varieties.Preservation.html#16090" class="Bound">Ïƒ</a> <a id="16092" class="Symbol">(</a><a id="16093" href="Base.Varieties.Closure.html#4921" class="InductiveConstructor">produ</a><a id="16098" class="Symbol">{</a><a id="16099" href="Base.Varieties.Preservation.html#16099" class="Bound">I</a><a id="16100" class="Symbol">}{</a><a id="16102" href="Base.Varieties.Preservation.html#16102" class="Bound">ğ’œ</a><a id="16103" class="Symbol">}</a> <a id="16105" href="Base.Varieties.Preservation.html#16105" class="Bound">x</a><a id="16106" class="Symbol">)</a> <a id="16108" class="Symbol">=</a> <a id="16110" href="Base.Varieties.Properties.html#7404" class="Function">âŠ§-P-lift-invar</a> <a id="16125" href="Base.Varieties.Preservation.html#15761" class="Bound">fe</a> <a id="16128" href="Base.Varieties.Preservation.html#15776" class="Bound">wd</a> <a id="16131" href="Base.Varieties.Preservation.html#16102" class="Bound">ğ’œ</a>  <a id="16134" href="Base.Varieties.Preservation.html#16086" class="Bound">p</a> <a id="16136" href="Base.Varieties.Preservation.html#16088" class="Bound">q</a> <a id="16138" href="Base.Varieties.Preservation.html#16151" class="Function">IH</a>
  <a id="16143" class="Keyword">where</a>
  <a id="16151" href="Base.Varieties.Preservation.html#16151" class="Function">IH</a> <a id="16154" class="Symbol">:</a> <a id="16156" class="Symbol">âˆ€</a> <a id="16158" href="Base.Varieties.Preservation.html#16158" class="Bound">i</a> <a id="16160" class="Symbol">â†’</a> <a id="16162" class="Symbol">(</a><a id="16163" href="Base.Algebras.Basic.html#10888" class="Function">Lift-Alg</a> <a id="16172" class="Symbol">(</a><a id="16173" href="Base.Varieties.Preservation.html#16102" class="Bound">ğ’œ</a> <a id="16175" href="Base.Varieties.Preservation.html#16158" class="Bound">i</a><a id="16176" class="Symbol">)</a> <a id="16178" href="Base.Varieties.Preservation.html#15822" class="Bound">Î±</a><a id="16179" class="Symbol">)</a> <a id="16181" href="Base.Varieties.EquationalLogic.html#2688" class="Function Operator">âŠ§</a> <a id="16183" href="Base.Varieties.Preservation.html#16086" class="Bound">p</a> <a id="16185" href="Base.Varieties.EquationalLogic.html#2688" class="Function Operator">â‰ˆ</a> <a id="16187" href="Base.Varieties.Preservation.html#16088" class="Bound">q</a>
  <a id="16191" href="Base.Varieties.Preservation.html#16151" class="Function">IH</a> <a id="16194" href="Base.Varieties.Preservation.html#16194" class="Bound">i</a> <a id="16196" class="Symbol">=</a> <a id="16198" href="Base.Varieties.Properties.html#4334" class="Function">âŠ§-Lift-invar</a> <a id="16211" href="Base.Varieties.Preservation.html#15776" class="Bound">wd</a>  <a id="16215" href="Base.Varieties.Preservation.html#16086" class="Bound">p</a> <a id="16217" href="Base.Varieties.Preservation.html#16088" class="Bound">q</a> <a id="16219" class="Symbol">((</a><a id="16221" href="Base.Varieties.Preservation.html#15842" class="Function">P-id1</a> <a id="16227" href="Base.Varieties.Preservation.html#16086" class="Bound">p</a> <a id="16229" href="Base.Varieties.Preservation.html#16088" class="Bound">q</a> <a id="16231" href="Base.Varieties.Preservation.html#16090" class="Bound">Ïƒ</a><a id="16232" class="Symbol">)</a> <a id="16234" class="Symbol">(</a><a id="16235" href="Base.Varieties.Preservation.html#16105" class="Bound">x</a> <a id="16237" href="Base.Varieties.Preservation.html#16194" class="Bound">i</a><a id="16238" class="Symbol">))</a>

 <a id="16243" href="Base.Varieties.Preservation.html#15842" class="Function">P-id1</a> <a id="16249" href="Base.Varieties.Preservation.html#16249" class="Bound">p</a> <a id="16251" href="Base.Varieties.Preservation.html#16251" class="Bound">q</a> <a id="16253" href="Base.Varieties.Preservation.html#16253" class="Bound">Ïƒ</a> <a id="16255" class="Symbol">(</a><a id="16256" href="Base.Varieties.Closure.html#5006" class="InductiveConstructor">prodw</a><a id="16261" class="Symbol">{</a><a id="16262" href="Base.Varieties.Preservation.html#16262" class="Bound">I</a><a id="16263" class="Symbol">}{</a><a id="16265" href="Base.Varieties.Preservation.html#16265" class="Bound">ğ’œ</a><a id="16266" class="Symbol">}</a> <a id="16268" href="Base.Varieties.Preservation.html#16268" class="Bound">x</a><a id="16269" class="Symbol">)</a> <a id="16271" class="Symbol">=</a> <a id="16273" href="Base.Varieties.Properties.html#7404" class="Function">âŠ§-P-lift-invar</a> <a id="16288" href="Base.Varieties.Preservation.html#15761" class="Bound">fe</a> <a id="16291" href="Base.Varieties.Preservation.html#15776" class="Bound">wd</a> <a id="16294" href="Base.Varieties.Preservation.html#16265" class="Bound">ğ’œ</a>  <a id="16297" href="Base.Varieties.Preservation.html#16249" class="Bound">p</a> <a id="16299" href="Base.Varieties.Preservation.html#16251" class="Bound">q</a> <a id="16301" href="Base.Varieties.Preservation.html#16314" class="Function">IH</a>
  <a id="16306" class="Keyword">where</a>
  <a id="16314" href="Base.Varieties.Preservation.html#16314" class="Function">IH</a> <a id="16317" class="Symbol">:</a> <a id="16319" class="Symbol">âˆ€</a> <a id="16321" href="Base.Varieties.Preservation.html#16321" class="Bound">i</a> <a id="16323" class="Symbol">â†’</a> <a id="16325" class="Symbol">(</a><a id="16326" href="Base.Algebras.Basic.html#10888" class="Function">Lift-Alg</a> <a id="16335" class="Symbol">(</a><a id="16336" href="Base.Varieties.Preservation.html#16265" class="Bound">ğ’œ</a> <a id="16338" href="Base.Varieties.Preservation.html#16321" class="Bound">i</a><a id="16339" class="Symbol">)</a> <a id="16341" href="Base.Varieties.Preservation.html#15822" class="Bound">Î±</a><a id="16342" class="Symbol">)</a> <a id="16344" href="Base.Varieties.EquationalLogic.html#2688" class="Function Operator">âŠ§</a> <a id="16346" href="Base.Varieties.Preservation.html#16249" class="Bound">p</a> <a id="16348" href="Base.Varieties.EquationalLogic.html#2688" class="Function Operator">â‰ˆ</a> <a id="16350" href="Base.Varieties.Preservation.html#16251" class="Bound">q</a>
  <a id="16354" href="Base.Varieties.Preservation.html#16314" class="Function">IH</a> <a id="16357" href="Base.Varieties.Preservation.html#16357" class="Bound">i</a> <a id="16359" class="Symbol">=</a> <a id="16361" href="Base.Varieties.Properties.html#4334" class="Function">âŠ§-Lift-invar</a> <a id="16374" href="Base.Varieties.Preservation.html#15776" class="Bound">wd</a>  <a id="16378" href="Base.Varieties.Preservation.html#16249" class="Bound">p</a> <a id="16380" href="Base.Varieties.Preservation.html#16251" class="Bound">q</a> <a id="16382" class="Symbol">((</a><a id="16384" href="Base.Varieties.Preservation.html#15842" class="Function">P-id1</a> <a id="16390" href="Base.Varieties.Preservation.html#16249" class="Bound">p</a> <a id="16392" href="Base.Varieties.Preservation.html#16251" class="Bound">q</a> <a id="16394" href="Base.Varieties.Preservation.html#16253" class="Bound">Ïƒ</a><a id="16395" class="Symbol">)</a> <a id="16397" class="Symbol">(</a><a id="16398" href="Base.Varieties.Preservation.html#16268" class="Bound">x</a> <a id="16400" href="Base.Varieties.Preservation.html#16357" class="Bound">i</a><a id="16401" class="Symbol">))</a>

 <a id="16406" href="Base.Varieties.Preservation.html#15842" class="Function">P-id1</a> <a id="16412" href="Base.Varieties.Preservation.html#16412" class="Bound">p</a> <a id="16414" href="Base.Varieties.Preservation.html#16414" class="Bound">q</a> <a id="16416" href="Base.Varieties.Preservation.html#16416" class="Bound">Ïƒ</a> <a id="16418" class="Symbol">(</a><a id="16419" href="Base.Varieties.Closure.html#5091" class="InductiveConstructor">pisow</a><a id="16424" class="Symbol">{</a><a id="16425" href="Base.Varieties.Preservation.html#16425" class="Bound">ğ‘¨</a><a id="16426" class="Symbol">}{</a><a id="16428" href="Base.Varieties.Preservation.html#16428" class="Bound">ğ‘©</a><a id="16429" class="Symbol">}</a> <a id="16431" href="Base.Varieties.Preservation.html#16431" class="Bound">x</a> <a id="16433" href="Base.Varieties.Preservation.html#16433" class="Bound">y</a><a id="16434" class="Symbol">)</a> <a id="16436" class="Symbol">=</a> <a id="16438" href="Base.Varieties.Properties.html#3391" class="Function">âŠ§-I-invar</a> <a id="16448" href="Base.Varieties.Preservation.html#15776" class="Bound">wd</a> <a id="16451" href="Base.Varieties.Preservation.html#16428" class="Bound">ğ‘©</a> <a id="16453" href="Base.Varieties.Preservation.html#16412" class="Bound">p</a> <a id="16455" href="Base.Varieties.Preservation.html#16414" class="Bound">q</a> <a id="16457" class="Symbol">(</a><a id="16458" href="Base.Varieties.Preservation.html#15842" class="Function">P-id1</a> <a id="16464" href="Base.Varieties.Preservation.html#16412" class="Bound">p</a> <a id="16466" href="Base.Varieties.Preservation.html#16414" class="Bound">q</a> <a id="16468" href="Base.Varieties.Preservation.html#16416" class="Bound">Ïƒ</a> <a id="16470" href="Base.Varieties.Preservation.html#16431" class="Bound">x</a><a id="16471" class="Symbol">)</a> <a id="16473" href="Base.Varieties.Preservation.html#16433" class="Bound">y</a>

</pre>

...and conversely...

<pre class="Agda">

<a id="16524" class="Keyword">module</a> <a id="16531" href="Base.Varieties.Preservation.html#16531" class="Module">_</a>  <a id="16534" class="Symbol">(</a><a id="16535" href="Base.Varieties.Preservation.html#16535" class="Bound">wd</a> <a id="16538" class="Symbol">:</a> <a id="16540" href="Base.Equality.Welldefined.html#2969" class="Function">SwellDef</a><a id="16548" class="Symbol">){</a><a id="16550" href="Base.Varieties.Preservation.html#16550" class="Bound">X</a> <a id="16552" class="Symbol">:</a> <a id="16554" href="Base.Varieties.Preservation.html#835" class="Primitive">Type</a> <a id="16559" href="Base.Varieties.Preservation.html#13573" class="Generalizable">ğ“§</a><a id="16560" class="Symbol">}</a> <a id="16562" class="Symbol">{</a><a id="16563" href="Base.Varieties.Preservation.html#16563" class="Bound">ğ’¦</a> <a id="16565" class="Symbol">:</a> <a id="16567" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="16572" class="Symbol">(</a><a id="16573" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="16581" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a> <a id="16583" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="16584" class="Symbol">)(</a><a id="16586" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="16589" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a><a id="16590" class="Symbol">)}</a> <a id="16593" class="Keyword">where</a>

 <a id="16601" href="Base.Varieties.Preservation.html#16601" class="Function">P-id2</a> <a id="16607" class="Symbol">:</a> <a id="16609" class="Symbol">âˆ€</a> <a id="16611" class="Symbol">{</a><a id="16612" href="Base.Varieties.Preservation.html#16612" class="Bound">Î²</a><a id="16613" class="Symbol">}(</a><a id="16615" href="Base.Varieties.Preservation.html#16615" class="Bound">p</a> <a id="16617" href="Base.Varieties.Preservation.html#16617" class="Bound">q</a> <a id="16619" class="Symbol">:</a> <a id="16621" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="16626" href="Base.Varieties.Preservation.html#16550" class="Bound">X</a><a id="16627" class="Symbol">)</a> <a id="16629" class="Symbol">â†’</a> <a id="16631" href="Base.Varieties.Closure.html#4634" class="Datatype">P</a><a id="16632" class="Symbol">{</a><a id="16633" class="Argument">Î²</a> <a id="16635" class="Symbol">=</a> <a id="16637" href="Base.Varieties.Preservation.html#16612" class="Bound">Î²</a><a id="16638" class="Symbol">}</a> <a id="16640" href="Base.Varieties.Preservation.html#16563" class="Bound">ğ’¦</a> <a id="16642" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="16644" href="Base.Varieties.Preservation.html#16615" class="Bound">p</a> <a id="16646" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="16648" href="Base.Varieties.Preservation.html#16617" class="Bound">q</a> <a id="16650" class="Symbol">â†’</a> <a id="16652" href="Base.Varieties.Preservation.html#16563" class="Bound">ğ’¦</a> <a id="16654" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="16656" href="Base.Varieties.Preservation.html#16615" class="Bound">p</a> <a id="16658" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="16660" href="Base.Varieties.Preservation.html#16617" class="Bound">q</a>
 <a id="16663" href="Base.Varieties.Preservation.html#16601" class="Function">P-id2</a> <a id="16669" href="Base.Varieties.Preservation.html#16669" class="Bound">p</a> <a id="16671" href="Base.Varieties.Preservation.html#16671" class="Bound">q</a> <a id="16673" href="Base.Varieties.Preservation.html#16673" class="Bound">PKpq</a> <a id="16678" href="Base.Varieties.Preservation.html#16678" class="Bound">KA</a> <a id="16681" class="Symbol">=</a> <a id="16683" href="Base.Varieties.Properties.html#4468" class="Function">âŠ§-lower-invar</a> <a id="16697" href="Base.Varieties.Preservation.html#16535" class="Bound">wd</a> <a id="16700" href="Base.Varieties.Preservation.html#16669" class="Bound">p</a> <a id="16702" href="Base.Varieties.Preservation.html#16671" class="Bound">q</a> <a id="16704" class="Symbol">(</a><a id="16705" href="Base.Varieties.Preservation.html#16673" class="Bound">PKpq</a> <a id="16710" class="Symbol">(</a><a id="16711" href="Base.Varieties.Closure.html#4722" class="InductiveConstructor">pbase</a> <a id="16717" href="Base.Varieties.Preservation.html#16678" class="Bound">KA</a><a id="16719" class="Symbol">))</a>

</pre>


#### <a id="v-preserves-identities">V preserves identities</a>

Finally, we prove the analogous preservation lemmas for the closure operator `V`.

<pre class="Agda">

<a id="16897" class="Keyword">module</a> <a id="Vid"></a><a id="16904" href="Base.Varieties.Preservation.html#16904" class="Module">Vid</a> <a id="16908" class="Symbol">(</a><a id="16909" href="Base.Varieties.Preservation.html#16909" class="Bound">fe</a> <a id="16912" class="Symbol">:</a> <a id="16914" href="Base.Equality.Extensionality.html#2294" class="Function">DFunExt</a><a id="16921" class="Symbol">)(</a><a id="16923" href="Base.Varieties.Preservation.html#16923" class="Bound">wd</a> <a id="16926" class="Symbol">:</a> <a id="16928" href="Base.Equality.Welldefined.html#2969" class="Function">SwellDef</a><a id="16936" class="Symbol">){</a><a id="16938" href="Base.Varieties.Preservation.html#16938" class="Bound">ğ“§</a> <a id="16940" class="Symbol">:</a> <a id="16942" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="16947" class="Symbol">}</a> <a id="16949" class="Symbol">{</a><a id="16950" href="Base.Varieties.Preservation.html#16950" class="Bound">X</a> <a id="16952" class="Symbol">:</a> <a id="16954" href="Base.Varieties.Preservation.html#835" class="Primitive">Type</a> <a id="16959" href="Base.Varieties.Preservation.html#16938" class="Bound">ğ“§</a><a id="16960" class="Symbol">}</a> <a id="16962" class="Symbol">{</a><a id="16963" href="Base.Varieties.Preservation.html#16963" class="Bound">ğ’¦</a> <a id="16965" class="Symbol">:</a> <a id="16967" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="16972" class="Symbol">(</a><a id="16973" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="16981" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a> <a id="16983" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="16984" class="Symbol">)(</a><a id="16986" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="16989" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a><a id="16990" class="Symbol">)}</a> <a id="16993" class="Keyword">where</a>

 <a id="Vid.V-id1"></a><a id="17001" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="17007" class="Symbol">:</a> <a id="17009" class="Symbol">(</a><a id="17010" href="Base.Varieties.Preservation.html#17010" class="Bound">p</a> <a id="17012" href="Base.Varieties.Preservation.html#17012" class="Bound">q</a> <a id="17014" class="Symbol">:</a> <a id="17016" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="17021" href="Base.Varieties.Preservation.html#16950" class="Bound">X</a><a id="17022" class="Symbol">)</a> <a id="17024" class="Symbol">â†’</a> <a id="17026" href="Base.Varieties.Preservation.html#16963" class="Bound">ğ’¦</a> <a id="17028" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="17030" href="Base.Varieties.Preservation.html#17010" class="Bound">p</a> <a id="17032" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="17034" href="Base.Varieties.Preservation.html#17012" class="Bound">q</a> <a id="17036" class="Symbol">â†’</a> <a id="17038" href="Base.Varieties.Closure.html#5587" class="Datatype">V</a><a id="17039" class="Symbol">{</a><a id="17040" class="Argument">Î²</a> <a id="17042" class="Symbol">=</a> <a id="17044" href="Base.Varieties.Preservation.html#16981" class="Bound">Î±</a><a id="17045" class="Symbol">}</a> <a id="17047" href="Base.Varieties.Preservation.html#16963" class="Bound">ğ’¦</a> <a id="17049" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="17051" href="Base.Varieties.Preservation.html#17010" class="Bound">p</a> <a id="17053" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="17055" href="Base.Varieties.Preservation.html#17012" class="Bound">q</a>
 <a id="17058" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="17064" href="Base.Varieties.Preservation.html#17064" class="Bound">p</a> <a id="17066" href="Base.Varieties.Preservation.html#17066" class="Bound">q</a> <a id="17068" href="Base.Varieties.Preservation.html#17068" class="Bound">Ïƒ</a> <a id="17070" class="Symbol">(</a><a id="17071" href="Base.Varieties.Closure.html#5675" class="InductiveConstructor">vbase</a> <a id="17077" href="Base.Varieties.Preservation.html#17077" class="Bound">x</a><a id="17078" class="Symbol">)</a> <a id="17080" class="Symbol">=</a> <a id="17082" href="Base.Varieties.Properties.html#4334" class="Function">âŠ§-Lift-invar</a> <a id="17095" href="Base.Varieties.Preservation.html#16923" class="Bound">wd</a> <a id="17098" href="Base.Varieties.Preservation.html#17064" class="Bound">p</a> <a id="17100" href="Base.Varieties.Preservation.html#17066" class="Bound">q</a> <a id="17102" class="Symbol">(</a><a id="17103" href="Base.Varieties.Preservation.html#17068" class="Bound">Ïƒ</a> <a id="17105" href="Base.Varieties.Preservation.html#17077" class="Bound">x</a><a id="17106" class="Symbol">)</a>
 <a id="17109" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="17115" href="Base.Varieties.Preservation.html#17115" class="Bound">p</a> <a id="17117" href="Base.Varieties.Preservation.html#17117" class="Bound">q</a> <a id="17119" href="Base.Varieties.Preservation.html#17119" class="Bound">Ïƒ</a> <a id="17121" class="Symbol">(</a><a id="17122" href="Base.Varieties.Closure.html#5732" class="InductiveConstructor">vlift</a><a id="17127" class="Symbol">{</a><a id="17128" href="Base.Varieties.Preservation.html#17128" class="Bound">ğ‘¨</a><a id="17129" class="Symbol">}</a> <a id="17131" href="Base.Varieties.Preservation.html#17131" class="Bound">x</a><a id="17132" class="Symbol">)</a> <a id="17134" class="Symbol">=</a> <a id="17136" href="Base.Varieties.Properties.html#4334" class="Function">âŠ§-Lift-invar</a> <a id="17149" href="Base.Varieties.Preservation.html#16923" class="Bound">wd</a> <a id="17152" href="Base.Varieties.Preservation.html#17115" class="Bound">p</a> <a id="17154" href="Base.Varieties.Preservation.html#17117" class="Bound">q</a> <a id="17156" class="Symbol">((</a><a id="17158" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="17164" href="Base.Varieties.Preservation.html#17115" class="Bound">p</a> <a id="17166" href="Base.Varieties.Preservation.html#17117" class="Bound">q</a> <a id="17168" href="Base.Varieties.Preservation.html#17119" class="Bound">Ïƒ</a><a id="17169" class="Symbol">)</a> <a id="17171" href="Base.Varieties.Preservation.html#17131" class="Bound">x</a><a id="17172" class="Symbol">)</a>
 <a id="17175" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="17181" href="Base.Varieties.Preservation.html#17181" class="Bound">p</a> <a id="17183" href="Base.Varieties.Preservation.html#17183" class="Bound">q</a> <a id="17185" href="Base.Varieties.Preservation.html#17185" class="Bound">Ïƒ</a> <a id="17187" class="Symbol">(</a><a id="17188" href="Base.Varieties.Closure.html#5797" class="InductiveConstructor">vliftw</a><a id="17194" class="Symbol">{</a><a id="17195" href="Base.Varieties.Preservation.html#17195" class="Bound">ğ‘¨</a><a id="17196" class="Symbol">}</a> <a id="17198" href="Base.Varieties.Preservation.html#17198" class="Bound">x</a><a id="17199" class="Symbol">)</a> <a id="17201" class="Symbol">=</a> <a id="17203" href="Base.Varieties.Properties.html#4334" class="Function">âŠ§-Lift-invar</a> <a id="17216" href="Base.Varieties.Preservation.html#16923" class="Bound">wd</a> <a id="17219" href="Base.Varieties.Preservation.html#17181" class="Bound">p</a> <a id="17221" href="Base.Varieties.Preservation.html#17183" class="Bound">q</a> <a id="17223" class="Symbol">((</a><a id="17225" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="17231" href="Base.Varieties.Preservation.html#17181" class="Bound">p</a> <a id="17233" href="Base.Varieties.Preservation.html#17183" class="Bound">q</a> <a id="17235" href="Base.Varieties.Preservation.html#17185" class="Bound">Ïƒ</a><a id="17236" class="Symbol">)</a> <a id="17238" href="Base.Varieties.Preservation.html#17198" class="Bound">x</a><a id="17239" class="Symbol">)</a>

 <a id="17243" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="17249" href="Base.Varieties.Preservation.html#17249" class="Bound">p</a> <a id="17251" href="Base.Varieties.Preservation.html#17251" class="Bound">q</a> <a id="17253" href="Base.Varieties.Preservation.html#17253" class="Bound">Ïƒ</a> <a id="17255" class="Symbol">(</a><a id="17256" href="Base.Varieties.Closure.html#5868" class="InductiveConstructor">vhimg</a><a id="17261" class="Symbol">{</a><a id="17262" href="Base.Varieties.Preservation.html#17262" class="Bound">ğ‘¨</a><a id="17263" class="Symbol">}{</a><a id="17265" href="Base.Varieties.Preservation.html#17265" class="Bound">ğ‘ª</a><a id="17266" class="Symbol">}</a><a id="17267" href="Base.Varieties.Preservation.html#17267" class="Bound">VA</a> <a id="17270" class="Symbol">(</a><a id="17271" href="Base.Varieties.Preservation.html#17271" class="Bound">ğ‘©</a> <a id="17273" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17275" class="Symbol">((</a><a id="17277" href="Base.Varieties.Preservation.html#17277" class="Bound">Ï†</a> <a id="17279" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17281" href="Base.Varieties.Preservation.html#17281" class="Bound">Ï†h</a><a id="17283" class="Symbol">)</a> <a id="17285" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17287" href="Base.Varieties.Preservation.html#17287" class="Bound">Ï†E</a><a id="17289" class="Symbol">)))</a> <a id="17293" href="Base.Varieties.Preservation.html#17293" class="Bound">b</a> <a id="17295" class="Symbol">=</a> <a id="17297" href="Base.Varieties.Preservation.html#17466" class="Function">goal</a>
  <a id="17304" class="Keyword">where</a>
  <a id="17312" href="Base.Varieties.Preservation.html#17312" class="Function">IH</a> <a id="17315" class="Symbol">:</a> <a id="17317" href="Base.Varieties.Preservation.html#17262" class="Bound">ğ‘¨</a> <a id="17319" href="Base.Varieties.EquationalLogic.html#2688" class="Function Operator">âŠ§</a> <a id="17321" href="Base.Varieties.Preservation.html#17249" class="Bound">p</a> <a id="17323" href="Base.Varieties.EquationalLogic.html#2688" class="Function Operator">â‰ˆ</a> <a id="17325" href="Base.Varieties.Preservation.html#17251" class="Bound">q</a>
  <a id="17329" href="Base.Varieties.Preservation.html#17312" class="Function">IH</a> <a id="17332" class="Symbol">=</a> <a id="17334" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="17340" href="Base.Varieties.Preservation.html#17249" class="Bound">p</a> <a id="17342" href="Base.Varieties.Preservation.html#17251" class="Bound">q</a> <a id="17344" href="Base.Varieties.Preservation.html#17253" class="Bound">Ïƒ</a> <a id="17346" href="Base.Varieties.Preservation.html#17267" class="Bound">VA</a>

  <a id="17352" href="Base.Varieties.Preservation.html#17352" class="Function">preim</a> <a id="17358" class="Symbol">:</a> <a id="17360" href="Base.Varieties.Preservation.html#16950" class="Bound">X</a> <a id="17362" class="Symbol">â†’</a> <a id="17364" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="17366" href="Base.Varieties.Preservation.html#17262" class="Bound">ğ‘¨</a> <a id="17368" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a>
  <a id="17372" href="Base.Varieties.Preservation.html#17352" class="Function">preim</a> <a id="17378" href="Base.Varieties.Preservation.html#17378" class="Bound">x</a> <a id="17380" class="Symbol">=</a> <a id="17382" href="Base.Overture.Inverses.html#2210" class="Function">Inv</a> <a id="17386" href="Base.Varieties.Preservation.html#17277" class="Bound">Ï†</a> <a id="17388" class="Symbol">(</a><a id="17389" href="Base.Varieties.Preservation.html#17287" class="Bound">Ï†E</a> <a id="17392" class="Symbol">(</a><a id="17393" href="Base.Varieties.Preservation.html#17293" class="Bound">b</a> <a id="17395" href="Base.Varieties.Preservation.html#17378" class="Bound">x</a><a id="17396" class="Symbol">))</a>

  <a id="17402" href="Base.Varieties.Preservation.html#17402" class="Function">Î¶</a> <a id="17404" class="Symbol">:</a> <a id="17406" class="Symbol">âˆ€</a> <a id="17408" href="Base.Varieties.Preservation.html#17408" class="Bound">x</a> <a id="17410" class="Symbol">â†’</a> <a id="17412" href="Base.Varieties.Preservation.html#17277" class="Bound">Ï†</a> <a id="17414" class="Symbol">(</a><a id="17415" href="Base.Varieties.Preservation.html#17352" class="Function">preim</a> <a id="17421" href="Base.Varieties.Preservation.html#17408" class="Bound">x</a><a id="17422" class="Symbol">)</a> <a id="17424" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="17426" href="Base.Varieties.Preservation.html#17293" class="Bound">b</a> <a id="17428" href="Base.Varieties.Preservation.html#17408" class="Bound">x</a>
  <a id="17432" href="Base.Varieties.Preservation.html#17402" class="Function">Î¶</a> <a id="17434" href="Base.Varieties.Preservation.html#17434" class="Bound">x</a> <a id="17436" class="Symbol">=</a> <a id="17438" href="Base.Overture.Inverses.html#2457" class="Function">InvIsInverseÊ³</a> <a id="17452" class="Symbol">(</a><a id="17453" href="Base.Varieties.Preservation.html#17287" class="Bound">Ï†E</a> <a id="17456" class="Symbol">(</a><a id="17457" href="Base.Varieties.Preservation.html#17293" class="Bound">b</a> <a id="17459" href="Base.Varieties.Preservation.html#17434" class="Bound">x</a><a id="17460" class="Symbol">))</a>

  <a id="17466" href="Base.Varieties.Preservation.html#17466" class="Function">goal</a> <a id="17471" class="Symbol">:</a> <a id="17473" class="Symbol">(</a><a id="17474" href="Base.Varieties.Preservation.html#17271" class="Bound">ğ‘©</a> <a id="17476" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="17478" href="Base.Varieties.Preservation.html#17249" class="Bound">p</a> <a id="17480" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="17481" class="Symbol">)</a> <a id="17483" href="Base.Varieties.Preservation.html#17293" class="Bound">b</a> <a id="17485" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="17487" class="Symbol">(</a><a id="17488" href="Base.Varieties.Preservation.html#17271" class="Bound">ğ‘©</a> <a id="17490" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="17492" href="Base.Varieties.Preservation.html#17251" class="Bound">q</a> <a id="17494" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="17495" class="Symbol">)</a> <a id="17497" href="Base.Varieties.Preservation.html#17293" class="Bound">b</a>
  <a id="17501" href="Base.Varieties.Preservation.html#17466" class="Function">goal</a> <a id="17506" class="Symbol">=</a> <a id="17508" class="Symbol">(</a><a id="17509" href="Base.Varieties.Preservation.html#17271" class="Bound">ğ‘©</a> <a id="17511" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="17513" href="Base.Varieties.Preservation.html#17249" class="Bound">p</a> <a id="17515" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="17516" class="Symbol">)</a> <a id="17518" href="Base.Varieties.Preservation.html#17293" class="Bound">b</a>          <a id="17529" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17532" href="Base.Varieties.Preservation.html#16923" class="Bound">wd</a> <a id="17535" href="Base.Varieties.Preservation.html#16938" class="Bound">ğ“§</a> <a id="17537" href="Base.Varieties.Preservation.html#16981" class="Bound">Î±</a> <a id="17539" class="Symbol">(</a><a id="17540" href="Base.Varieties.Preservation.html#17271" class="Bound">ğ‘©</a> <a id="17542" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="17544" href="Base.Varieties.Preservation.html#17249" class="Bound">p</a> <a id="17546" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="17547" class="Symbol">)</a> <a id="17549" href="Base.Varieties.Preservation.html#17293" class="Bound">b</a> <a id="17551" class="Symbol">(</a><a id="17552" href="Base.Varieties.Preservation.html#17277" class="Bound">Ï†</a> <a id="17554" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17556" href="Base.Varieties.Preservation.html#17352" class="Function">preim</a> <a id="17562" class="Symbol">)(Î»</a> <a id="17566" href="Base.Varieties.Preservation.html#17566" class="Bound">i</a> <a id="17568" class="Symbol">â†’</a> <a id="17570" class="Symbol">(</a><a id="17571" href="Base.Varieties.Preservation.html#17402" class="Function">Î¶</a> <a id="17573" href="Base.Varieties.Preservation.html#17566" class="Bound">i</a><a id="17574" class="Symbol">)</a><a id="17575" href="Base.Overture.Preliminaries.html#4990" class="Function Operator">â»Â¹</a><a id="17577" class="Symbol">)</a><a id="17578" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17586" class="Symbol">(</a><a id="17587" href="Base.Varieties.Preservation.html#17271" class="Bound">ğ‘©</a> <a id="17589" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="17591" href="Base.Varieties.Preservation.html#17249" class="Bound">p</a> <a id="17593" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="17594" class="Symbol">)(</a><a id="17596" href="Base.Varieties.Preservation.html#17277" class="Bound">Ï†</a> <a id="17598" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17600" href="Base.Varieties.Preservation.html#17352" class="Function">preim</a><a id="17605" class="Symbol">)</a> <a id="17607" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="17609" class="Symbol">(</a><a id="17610" href="Base.Terms.Operations.html#6644" class="Function">comm-hom-term</a> <a id="17624" class="Symbol">(</a><a id="17625" href="Base.Varieties.Preservation.html#16923" class="Bound">wd</a> <a id="17628" href="Base.Varieties.Preservation.html#649" class="Bound">ğ“¥</a> <a id="17630" href="Base.Varieties.Preservation.html#16981" class="Bound">Î±</a><a id="17631" class="Symbol">)</a> <a id="17633" href="Base.Varieties.Preservation.html#17271" class="Bound">ğ‘©</a> <a id="17635" class="Symbol">(</a><a id="17636" href="Base.Varieties.Preservation.html#17277" class="Bound">Ï†</a> <a id="17638" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17640" href="Base.Varieties.Preservation.html#17281" class="Bound">Ï†h</a><a id="17642" class="Symbol">)</a> <a id="17644" href="Base.Varieties.Preservation.html#17249" class="Bound">p</a> <a id="17646" href="Base.Varieties.Preservation.html#17352" class="Function">preim</a><a id="17651" class="Symbol">)</a><a id="17652" href="Base.Overture.Preliminaries.html#4990" class="Function Operator">â»Â¹</a> <a id="17655" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17663" href="Base.Varieties.Preservation.html#17277" class="Bound">Ï†</a><a id="17664" class="Symbol">((</a><a id="17666" href="Base.Varieties.Preservation.html#17262" class="Bound">ğ‘¨</a> <a id="17668" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="17670" href="Base.Varieties.Preservation.html#17249" class="Bound">p</a> <a id="17672" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="17673" class="Symbol">)</a> <a id="17675" href="Base.Varieties.Preservation.html#17352" class="Function">preim</a><a id="17680" class="Symbol">)</a>   <a id="17684" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17687" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="17692" href="Base.Varieties.Preservation.html#17277" class="Bound">Ï†</a> <a id="17694" class="Symbol">(</a><a id="17695" href="Base.Varieties.Preservation.html#17312" class="Function">IH</a> <a id="17698" href="Base.Varieties.Preservation.html#17352" class="Function">preim</a><a id="17703" class="Symbol">)</a> <a id="17705" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17713" href="Base.Varieties.Preservation.html#17277" class="Bound">Ï†</a><a id="17714" class="Symbol">((</a><a id="17716" href="Base.Varieties.Preservation.html#17262" class="Bound">ğ‘¨</a> <a id="17718" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="17720" href="Base.Varieties.Preservation.html#17251" class="Bound">q</a> <a id="17722" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="17723" class="Symbol">)</a> <a id="17725" href="Base.Varieties.Preservation.html#17352" class="Function">preim</a><a id="17730" class="Symbol">)</a>   <a id="17734" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17737" href="Base.Terms.Operations.html#6644" class="Function">comm-hom-term</a> <a id="17751" class="Symbol">(</a><a id="17752" href="Base.Varieties.Preservation.html#16923" class="Bound">wd</a> <a id="17755" href="Base.Varieties.Preservation.html#649" class="Bound">ğ“¥</a> <a id="17757" href="Base.Varieties.Preservation.html#16981" class="Bound">Î±</a><a id="17758" class="Symbol">)</a> <a id="17760" href="Base.Varieties.Preservation.html#17271" class="Bound">ğ‘©</a> <a id="17762" class="Symbol">(</a><a id="17763" href="Base.Varieties.Preservation.html#17277" class="Bound">Ï†</a> <a id="17765" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17767" href="Base.Varieties.Preservation.html#17281" class="Bound">Ï†h</a><a id="17769" class="Symbol">)</a> <a id="17771" href="Base.Varieties.Preservation.html#17251" class="Bound">q</a> <a id="17773" href="Base.Varieties.Preservation.html#17352" class="Function">preim</a> <a id="17779" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17787" class="Symbol">(</a><a id="17788" href="Base.Varieties.Preservation.html#17271" class="Bound">ğ‘©</a> <a id="17790" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="17792" href="Base.Varieties.Preservation.html#17251" class="Bound">q</a> <a id="17794" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="17795" class="Symbol">)(</a><a id="17797" href="Base.Varieties.Preservation.html#17277" class="Bound">Ï†</a> <a id="17799" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17801" href="Base.Varieties.Preservation.html#17352" class="Function">preim</a><a id="17806" class="Symbol">)</a> <a id="17808" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="17811" href="Base.Varieties.Preservation.html#16923" class="Bound">wd</a> <a id="17814" href="Base.Varieties.Preservation.html#16938" class="Bound">ğ“§</a> <a id="17816" href="Base.Varieties.Preservation.html#16981" class="Bound">Î±</a> <a id="17818" class="Symbol">(</a><a id="17819" href="Base.Varieties.Preservation.html#17271" class="Bound">ğ‘©</a> <a id="17821" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="17823" href="Base.Varieties.Preservation.html#17251" class="Bound">q</a> <a id="17825" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="17826" class="Symbol">)(</a><a id="17828" href="Base.Varieties.Preservation.html#17277" class="Bound">Ï†</a> <a id="17830" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="17832" href="Base.Varieties.Preservation.html#17352" class="Function">preim</a><a id="17837" class="Symbol">)</a> <a id="17839" href="Base.Varieties.Preservation.html#17293" class="Bound">b</a> <a id="17841" href="Base.Varieties.Preservation.html#17402" class="Function">Î¶</a> <a id="17843" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="17851" class="Symbol">(</a><a id="17852" href="Base.Varieties.Preservation.html#17271" class="Bound">ğ‘©</a> <a id="17854" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="17856" href="Base.Varieties.Preservation.html#17251" class="Bound">q</a> <a id="17858" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="17859" class="Symbol">)</a> <a id="17861" href="Base.Varieties.Preservation.html#17293" class="Bound">b</a>          <a id="17872" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

 <a id="17876" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="17882" href="Base.Varieties.Preservation.html#17882" class="Bound">p</a> <a id="17884" href="Base.Varieties.Preservation.html#17884" class="Bound">q</a> <a id="17886" href="Base.Varieties.Preservation.html#17886" class="Bound">Ïƒ</a> <a id="17888" class="Symbol">(</a> <a id="17890" href="Base.Varieties.Closure.html#5950" class="InductiveConstructor">vssubw</a> <a id="17897" class="Symbol">{</a><a id="17898" href="Base.Varieties.Preservation.html#17898" class="Bound">ğ‘¨</a><a id="17899" class="Symbol">}{</a><a id="17901" href="Base.Varieties.Preservation.html#17901" class="Bound">ğ‘©</a><a id="17902" class="Symbol">}</a> <a id="17904" href="Base.Varieties.Preservation.html#17904" class="Bound">VA</a> <a id="17907" href="Base.Varieties.Preservation.html#17907" class="Bound">Bâ‰¤A</a> <a id="17911" class="Symbol">)</a> <a id="17913" class="Symbol">=</a>
  <a id="17917" href="Base.Varieties.Properties.html#5621" class="Function">âŠ§-S-class-invar</a> <a id="17933" href="Base.Varieties.Preservation.html#16923" class="Bound">wd</a> <a id="17936" href="Base.Varieties.Preservation.html#17882" class="Bound">p</a> <a id="17938" href="Base.Varieties.Preservation.html#17884" class="Bound">q</a> <a id="17940" href="Base.Varieties.Preservation.html#18092" class="Function">goal</a> <a id="17945" class="Symbol">(</a><a id="17946" href="Base.Varieties.Preservation.html#17901" class="Bound">ğ‘©</a> <a id="17948" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17950" href="Base.Varieties.Preservation.html#17898" class="Bound">ğ‘¨</a> <a id="17952" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17954" class="Symbol">(</a><a id="17955" href="Base.Varieties.Preservation.html#17901" class="Bound">ğ‘©</a> <a id="17957" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17959" href="Base.Varieties.Preservation.html#17907" class="Bound">Bâ‰¤A</a><a id="17962" class="Symbol">)</a> <a id="17964" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17966" href="Base.Varieties.Preservation.html#1139" class="InductiveConstructor">inr</a> <a id="17970" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17975" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="17977" href="Base.Homomorphisms.Isomorphisms.html#2919" class="Function">â‰…-refl</a><a id="17983" class="Symbol">)</a>
   <a id="17988" class="Keyword">where</a>
   <a id="17997" href="Base.Varieties.Preservation.html#17997" class="Function">IH</a> <a id="18000" class="Symbol">:</a> <a id="18002" href="Base.Varieties.Preservation.html#17898" class="Bound">ğ‘¨</a> <a id="18004" href="Base.Varieties.EquationalLogic.html#2688" class="Function Operator">âŠ§</a> <a id="18006" href="Base.Varieties.Preservation.html#17882" class="Bound">p</a> <a id="18008" href="Base.Varieties.EquationalLogic.html#2688" class="Function Operator">â‰ˆ</a> <a id="18010" href="Base.Varieties.Preservation.html#17884" class="Bound">q</a>
   <a id="18015" href="Base.Varieties.Preservation.html#17997" class="Function">IH</a> <a id="18018" class="Symbol">=</a> <a id="18020" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="18026" href="Base.Varieties.Preservation.html#17882" class="Bound">p</a> <a id="18028" href="Base.Varieties.Preservation.html#17884" class="Bound">q</a> <a id="18030" href="Base.Varieties.Preservation.html#17886" class="Bound">Ïƒ</a> <a id="18032" href="Base.Varieties.Preservation.html#17904" class="Bound">VA</a>

   <a id="18039" href="Base.Varieties.Preservation.html#18039" class="Function">Asinglepq</a> <a id="18049" class="Symbol">:</a> <a id="18051" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="18053" href="Base.Varieties.Preservation.html#17898" class="Bound">ğ‘¨</a> <a id="18055" href="Relation.Unary.html#1335" class="Function Operator">ï½</a> <a id="18057" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="18059" href="Base.Varieties.Preservation.html#17882" class="Bound">p</a> <a id="18061" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="18063" href="Base.Varieties.Preservation.html#17884" class="Bound">q</a>
   <a id="18068" href="Base.Varieties.Preservation.html#18039" class="Function">Asinglepq</a> <a id="18078" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="18083" class="Symbol">=</a> <a id="18085" href="Base.Varieties.Preservation.html#17997" class="Function">IH</a>

   <a id="18092" href="Base.Varieties.Preservation.html#18092" class="Function">goal</a> <a id="18097" class="Symbol">:</a> <a id="18099" class="Symbol">(</a><a id="18100" href="Base.Varieties.Preservation.html#16963" class="Bound">ğ’¦</a> <a id="18102" href="Relation.Unary.html#4417" class="Function Operator">âˆª</a> <a id="18104" href="Relation.Unary.html#1335" class="Function Operator">ï½›</a> <a id="18106" href="Base.Varieties.Preservation.html#17898" class="Bound">ğ‘¨</a> <a id="18108" href="Relation.Unary.html#1335" class="Function Operator">ï½</a><a id="18109" class="Symbol">)</a> <a id="18111" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="18113" href="Base.Varieties.Preservation.html#17882" class="Bound">p</a> <a id="18115" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="18117" href="Base.Varieties.Preservation.html#17884" class="Bound">q</a>
   <a id="18122" href="Base.Varieties.Preservation.html#18092" class="Function">goal</a> <a id="18127" class="Symbol">{</a><a id="18128" href="Base.Varieties.Preservation.html#18128" class="Bound">ğ‘©</a><a id="18129" class="Symbol">}</a> <a id="18131" class="Symbol">(</a><a id="18132" href="Base.Varieties.Preservation.html#1124" class="InductiveConstructor">inl</a> <a id="18136" href="Base.Varieties.Preservation.html#18136" class="Bound">x</a><a id="18137" class="Symbol">)</a> <a id="18139" class="Symbol">=</a> <a id="18141" href="Base.Varieties.Preservation.html#17886" class="Bound">Ïƒ</a> <a id="18143" href="Base.Varieties.Preservation.html#18136" class="Bound">x</a>
   <a id="18148" href="Base.Varieties.Preservation.html#18092" class="Function">goal</a> <a id="18153" class="Symbol">{</a><a id="18154" href="Base.Varieties.Preservation.html#18154" class="Bound">ğ‘©</a><a id="18155" class="Symbol">}</a> <a id="18157" class="Symbol">(</a><a id="18158" href="Base.Varieties.Preservation.html#1139" class="InductiveConstructor">inr</a> <a id="18162" href="Base.Varieties.Preservation.html#18162" class="Bound">y</a><a id="18163" class="Symbol">)</a> <a id="18165" class="Symbol">=</a> <a id="18167" href="Base.Varieties.Preservation.html#18039" class="Function">Asinglepq</a> <a id="18177" href="Base.Varieties.Preservation.html#18162" class="Bound">y</a>

 <a id="18181" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="18187" href="Base.Varieties.Preservation.html#18187" class="Bound">p</a> <a id="18189" href="Base.Varieties.Preservation.html#18189" class="Bound">q</a> <a id="18191" href="Base.Varieties.Preservation.html#18191" class="Bound">Ïƒ</a> <a id="18193" class="Symbol">(</a><a id="18194" href="Base.Varieties.Closure.html#6014" class="InductiveConstructor">vprodu</a><a id="18200" class="Symbol">{</a><a id="18201" href="Base.Varieties.Preservation.html#18201" class="Bound">I</a><a id="18202" class="Symbol">}{</a><a id="18204" href="Base.Varieties.Preservation.html#18204" class="Bound">ğ’œ</a><a id="18205" class="Symbol">}</a> <a id="18207" href="Base.Varieties.Preservation.html#18207" class="Bound">Vğ’œ</a><a id="18209" class="Symbol">)</a> <a id="18211" class="Symbol">=</a> <a id="18213" href="Base.Varieties.Properties.html#6317" class="Function">âŠ§-P-invar</a> <a id="18223" href="Base.Varieties.Preservation.html#16909" class="Bound">fe</a> <a id="18226" href="Base.Varieties.Preservation.html#16923" class="Bound">wd</a> <a id="18229" href="Base.Varieties.Preservation.html#18204" class="Bound">ğ’œ</a>  <a id="18232" href="Base.Varieties.Preservation.html#18187" class="Bound">p</a> <a id="18234" href="Base.Varieties.Preservation.html#18189" class="Bound">q</a> <a id="18236" class="Symbol">Î»</a> <a id="18238" href="Base.Varieties.Preservation.html#18238" class="Bound">i</a> <a id="18240" class="Symbol">â†’</a> <a id="18242" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="18248" href="Base.Varieties.Preservation.html#18187" class="Bound">p</a> <a id="18250" href="Base.Varieties.Preservation.html#18189" class="Bound">q</a> <a id="18252" href="Base.Varieties.Preservation.html#18191" class="Bound">Ïƒ</a> <a id="18254" class="Symbol">(</a><a id="18255" href="Base.Varieties.Preservation.html#18207" class="Bound">Vğ’œ</a> <a id="18258" href="Base.Varieties.Preservation.html#18238" class="Bound">i</a><a id="18259" class="Symbol">)</a>
 <a id="18262" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="18268" href="Base.Varieties.Preservation.html#18268" class="Bound">p</a> <a id="18270" href="Base.Varieties.Preservation.html#18270" class="Bound">q</a> <a id="18272" href="Base.Varieties.Preservation.html#18272" class="Bound">Ïƒ</a> <a id="18274" class="Symbol">(</a><a id="18275" href="Base.Varieties.Closure.html#6098" class="InductiveConstructor">vprodw</a><a id="18281" class="Symbol">{</a><a id="18282" href="Base.Varieties.Preservation.html#18282" class="Bound">I</a><a id="18283" class="Symbol">}{</a><a id="18285" href="Base.Varieties.Preservation.html#18285" class="Bound">ğ’œ</a><a id="18286" class="Symbol">}</a> <a id="18288" href="Base.Varieties.Preservation.html#18288" class="Bound">Vğ’œ</a><a id="18290" class="Symbol">)</a> <a id="18292" class="Symbol">=</a> <a id="18294" href="Base.Varieties.Properties.html#6317" class="Function">âŠ§-P-invar</a> <a id="18304" href="Base.Varieties.Preservation.html#16909" class="Bound">fe</a> <a id="18307" href="Base.Varieties.Preservation.html#16923" class="Bound">wd</a> <a id="18310" href="Base.Varieties.Preservation.html#18285" class="Bound">ğ’œ</a>  <a id="18313" href="Base.Varieties.Preservation.html#18268" class="Bound">p</a> <a id="18315" href="Base.Varieties.Preservation.html#18270" class="Bound">q</a> <a id="18317" class="Symbol">Î»</a> <a id="18319" href="Base.Varieties.Preservation.html#18319" class="Bound">i</a> <a id="18321" class="Symbol">â†’</a> <a id="18323" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="18329" href="Base.Varieties.Preservation.html#18268" class="Bound">p</a> <a id="18331" href="Base.Varieties.Preservation.html#18270" class="Bound">q</a> <a id="18333" href="Base.Varieties.Preservation.html#18272" class="Bound">Ïƒ</a> <a id="18335" class="Symbol">(</a><a id="18336" href="Base.Varieties.Preservation.html#18288" class="Bound">Vğ’œ</a> <a id="18339" href="Base.Varieties.Preservation.html#18319" class="Bound">i</a><a id="18340" class="Symbol">)</a>
 <a id="18343" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="18349" href="Base.Varieties.Preservation.html#18349" class="Bound">p</a> <a id="18351" href="Base.Varieties.Preservation.html#18351" class="Bound">q</a> <a id="18353" href="Base.Varieties.Preservation.html#18353" class="Bound">Ïƒ</a> <a id="18355" class="Symbol">(</a><a id="18356" href="Base.Varieties.Closure.html#6182" class="InductiveConstructor">visou</a><a id="18361" class="Symbol">{</a><a id="18362" href="Base.Varieties.Preservation.html#18362" class="Bound">ğ‘¨</a><a id="18363" class="Symbol">}{</a><a id="18365" href="Base.Varieties.Preservation.html#18365" class="Bound">ğ‘©</a><a id="18366" class="Symbol">}</a> <a id="18368" href="Base.Varieties.Preservation.html#18368" class="Bound">VA</a> <a id="18371" href="Base.Varieties.Preservation.html#18371" class="Bound">Aâ‰…B</a><a id="18374" class="Symbol">)</a> <a id="18376" class="Symbol">=</a> <a id="18378" href="Base.Varieties.Properties.html#3391" class="Function">âŠ§-I-invar</a> <a id="18388" href="Base.Varieties.Preservation.html#16923" class="Bound">wd</a> <a id="18391" href="Base.Varieties.Preservation.html#18365" class="Bound">ğ‘©</a> <a id="18393" href="Base.Varieties.Preservation.html#18349" class="Bound">p</a> <a id="18395" href="Base.Varieties.Preservation.html#18351" class="Bound">q</a> <a id="18397" class="Symbol">(</a><a id="18398" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="18404" href="Base.Varieties.Preservation.html#18349" class="Bound">p</a> <a id="18406" href="Base.Varieties.Preservation.html#18351" class="Bound">q</a> <a id="18408" href="Base.Varieties.Preservation.html#18353" class="Bound">Ïƒ</a> <a id="18410" href="Base.Varieties.Preservation.html#18368" class="Bound">VA</a><a id="18412" class="Symbol">)</a> <a id="18414" href="Base.Varieties.Preservation.html#18371" class="Bound">Aâ‰…B</a>
 <a id="18419" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="18425" href="Base.Varieties.Preservation.html#18425" class="Bound">p</a> <a id="18427" href="Base.Varieties.Preservation.html#18427" class="Bound">q</a> <a id="18429" href="Base.Varieties.Preservation.html#18429" class="Bound">Ïƒ</a> <a id="18431" class="Symbol">(</a><a id="18432" href="Base.Varieties.Closure.html#6261" class="InductiveConstructor">visow</a><a id="18437" class="Symbol">{</a><a id="18438" href="Base.Varieties.Preservation.html#18438" class="Bound">ğ‘¨</a><a id="18439" class="Symbol">}{</a><a id="18441" href="Base.Varieties.Preservation.html#18441" class="Bound">ğ‘©</a><a id="18442" class="Symbol">}</a> <a id="18444" href="Base.Varieties.Preservation.html#18444" class="Bound">VA</a> <a id="18447" href="Base.Varieties.Preservation.html#18447" class="Bound">Aâ‰…B</a><a id="18450" class="Symbol">)</a> <a id="18452" class="Symbol">=</a> <a id="18454" href="Base.Varieties.Properties.html#3391" class="Function">âŠ§-I-invar</a> <a id="18464" href="Base.Varieties.Preservation.html#16923" class="Bound">wd</a> <a id="18467" href="Base.Varieties.Preservation.html#18441" class="Bound">ğ‘©</a> <a id="18469" href="Base.Varieties.Preservation.html#18425" class="Bound">p</a> <a id="18471" href="Base.Varieties.Preservation.html#18427" class="Bound">q</a> <a id="18473" class="Symbol">(</a><a id="18474" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="18480" href="Base.Varieties.Preservation.html#18425" class="Bound">p</a> <a id="18482" href="Base.Varieties.Preservation.html#18427" class="Bound">q</a> <a id="18484" href="Base.Varieties.Preservation.html#18429" class="Bound">Ïƒ</a> <a id="18486" href="Base.Varieties.Preservation.html#18444" class="Bound">VA</a><a id="18488" class="Symbol">)</a> <a id="18490" href="Base.Varieties.Preservation.html#18447" class="Bound">Aâ‰…B</a>

<a id="18495" class="Keyword">module</a> <a id="Vid&#39;"></a><a id="18502" href="Base.Varieties.Preservation.html#18502" class="Module">Vid&#39;</a> <a id="18507" class="Symbol">(</a><a id="18508" href="Base.Varieties.Preservation.html#18508" class="Bound">fe</a> <a id="18511" class="Symbol">:</a> <a id="18513" href="Base.Equality.Extensionality.html#2294" class="Function">DFunExt</a><a id="18520" class="Symbol">)(</a><a id="18522" href="Base.Varieties.Preservation.html#18522" class="Bound">wd</a> <a id="18525" class="Symbol">:</a> <a id="18527" href="Base.Equality.Welldefined.html#2969" class="Function">SwellDef</a><a id="18535" class="Symbol">){</a><a id="18537" href="Base.Varieties.Preservation.html#18537" class="Bound">ğ“§</a> <a id="18539" class="Symbol">:</a> <a id="18541" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="18546" class="Symbol">}</a> <a id="18548" class="Symbol">{</a><a id="18549" href="Base.Varieties.Preservation.html#18549" class="Bound">X</a> <a id="18551" class="Symbol">:</a> <a id="18553" href="Base.Varieties.Preservation.html#835" class="Primitive">Type</a> <a id="18558" href="Base.Varieties.Preservation.html#18537" class="Bound">ğ“§</a><a id="18559" class="Symbol">}</a> <a id="18561" class="Symbol">{</a><a id="18562" href="Base.Varieties.Preservation.html#18562" class="Bound">ğ’¦</a> <a id="18564" class="Symbol">:</a> <a id="18566" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="18571" class="Symbol">(</a><a id="18572" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="18580" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a> <a id="18582" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="18583" class="Symbol">)(</a><a id="18585" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="18588" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a><a id="18589" class="Symbol">)}</a> <a id="18592" class="Keyword">where</a>

 <a id="18600" class="Keyword">open</a> <a id="18605" href="Base.Varieties.Preservation.html#16904" class="Module">Vid</a> <a id="18609" href="Base.Varieties.Preservation.html#18508" class="Bound">fe</a> <a id="18612" href="Base.Varieties.Preservation.html#18522" class="Bound">wd</a> <a id="18615" class="Symbol">{</a><a id="18616" href="Base.Varieties.Preservation.html#18537" class="Bound">ğ“§</a><a id="18617" class="Symbol">}{</a><a id="18619" href="Base.Varieties.Preservation.html#18549" class="Bound">X</a><a id="18620" class="Symbol">}{</a><a id="18622" href="Base.Varieties.Preservation.html#18562" class="Bound">ğ’¦</a><a id="18623" class="Symbol">}</a> <a id="18625" class="Keyword">public</a>
 <a id="Vid&#39;.V-id1&#39;"></a><a id="18633" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="18640" class="Symbol">:</a> <a id="18642" class="Symbol">(</a><a id="18643" href="Base.Varieties.Preservation.html#18643" class="Bound">p</a> <a id="18645" href="Base.Varieties.Preservation.html#18645" class="Bound">q</a> <a id="18647" class="Symbol">:</a> <a id="18649" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="18654" href="Base.Varieties.Preservation.html#18549" class="Bound">X</a><a id="18655" class="Symbol">)</a> <a id="18657" class="Symbol">â†’</a> <a id="18659" href="Base.Varieties.Preservation.html#18562" class="Bound">ğ’¦</a> <a id="18661" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="18663" href="Base.Varieties.Preservation.html#18643" class="Bound">p</a> <a id="18665" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="18667" href="Base.Varieties.Preservation.html#18645" class="Bound">q</a> <a id="18669" class="Symbol">â†’</a> <a id="18671" href="Base.Varieties.Closure.html#5587" class="Datatype">V</a><a id="18672" class="Symbol">{</a><a id="18673" class="Argument">Î²</a> <a id="18675" class="Symbol">=</a> <a id="18677" href="Base.Varieties.Preservation.html#3442" class="Generalizable">Î²</a><a id="18678" class="Symbol">}</a> <a id="18680" href="Base.Varieties.Preservation.html#18562" class="Bound">ğ’¦</a> <a id="18682" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="18684" href="Base.Varieties.Preservation.html#18643" class="Bound">p</a> <a id="18686" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="18688" href="Base.Varieties.Preservation.html#18645" class="Bound">q</a>
 <a id="18691" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="18698" href="Base.Varieties.Preservation.html#18698" class="Bound">p</a> <a id="18700" href="Base.Varieties.Preservation.html#18700" class="Bound">q</a> <a id="18702" href="Base.Varieties.Preservation.html#18702" class="Bound">Ïƒ</a> <a id="18704" class="Symbol">(</a><a id="18705" href="Base.Varieties.Closure.html#5675" class="InductiveConstructor">vbase</a> <a id="18711" href="Base.Varieties.Preservation.html#18711" class="Bound">x</a><a id="18712" class="Symbol">)</a> <a id="18714" class="Symbol">=</a> <a id="18716" href="Base.Varieties.Properties.html#4334" class="Function">âŠ§-Lift-invar</a> <a id="18729" href="Base.Varieties.Preservation.html#18522" class="Bound">wd</a> <a id="18732" href="Base.Varieties.Preservation.html#18698" class="Bound">p</a> <a id="18734" href="Base.Varieties.Preservation.html#18700" class="Bound">q</a> <a id="18736" class="Symbol">(</a><a id="18737" href="Base.Varieties.Preservation.html#18702" class="Bound">Ïƒ</a> <a id="18739" href="Base.Varieties.Preservation.html#18711" class="Bound">x</a><a id="18740" class="Symbol">)</a>
 <a id="18743" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="18750" href="Base.Varieties.Preservation.html#18750" class="Bound">p</a> <a id="18752" href="Base.Varieties.Preservation.html#18752" class="Bound">q</a> <a id="18754" href="Base.Varieties.Preservation.html#18754" class="Bound">Ïƒ</a> <a id="18756" class="Symbol">(</a><a id="18757" href="Base.Varieties.Closure.html#5732" class="InductiveConstructor">vlift</a><a id="18762" class="Symbol">{</a><a id="18763" href="Base.Varieties.Preservation.html#18763" class="Bound">ğ‘¨</a><a id="18764" class="Symbol">}</a> <a id="18766" href="Base.Varieties.Preservation.html#18766" class="Bound">x</a><a id="18767" class="Symbol">)</a> <a id="18769" class="Symbol">=</a> <a id="18771" href="Base.Varieties.Properties.html#4334" class="Function">âŠ§-Lift-invar</a> <a id="18784" href="Base.Varieties.Preservation.html#18522" class="Bound">wd</a> <a id="18787" href="Base.Varieties.Preservation.html#18750" class="Bound">p</a> <a id="18789" href="Base.Varieties.Preservation.html#18752" class="Bound">q</a> <a id="18791" class="Symbol">((</a><a id="18793" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="18799" href="Base.Varieties.Preservation.html#18750" class="Bound">p</a> <a id="18801" href="Base.Varieties.Preservation.html#18752" class="Bound">q</a> <a id="18803" href="Base.Varieties.Preservation.html#18754" class="Bound">Ïƒ</a><a id="18804" class="Symbol">)</a> <a id="18806" href="Base.Varieties.Preservation.html#18766" class="Bound">x</a><a id="18807" class="Symbol">)</a>
 <a id="18810" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="18817" href="Base.Varieties.Preservation.html#18817" class="Bound">p</a> <a id="18819" href="Base.Varieties.Preservation.html#18819" class="Bound">q</a> <a id="18821" href="Base.Varieties.Preservation.html#18821" class="Bound">Ïƒ</a> <a id="18823" class="Symbol">(</a><a id="18824" href="Base.Varieties.Closure.html#5797" class="InductiveConstructor">vliftw</a><a id="18830" class="Symbol">{</a><a id="18831" href="Base.Varieties.Preservation.html#18831" class="Bound">ğ‘¨</a><a id="18832" class="Symbol">}</a> <a id="18834" href="Base.Varieties.Preservation.html#18834" class="Bound">x</a><a id="18835" class="Symbol">)</a> <a id="18837" class="Symbol">=</a> <a id="18839" href="Base.Varieties.Properties.html#4334" class="Function">âŠ§-Lift-invar</a> <a id="18852" href="Base.Varieties.Preservation.html#18522" class="Bound">wd</a> <a id="18855" href="Base.Varieties.Preservation.html#18817" class="Bound">p</a> <a id="18857" href="Base.Varieties.Preservation.html#18819" class="Bound">q</a> <a id="18859" class="Symbol">((</a><a id="18861" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="18868" href="Base.Varieties.Preservation.html#18817" class="Bound">p</a> <a id="18870" href="Base.Varieties.Preservation.html#18819" class="Bound">q</a> <a id="18872" href="Base.Varieties.Preservation.html#18821" class="Bound">Ïƒ</a><a id="18873" class="Symbol">)</a> <a id="18875" href="Base.Varieties.Preservation.html#18834" class="Bound">x</a><a id="18876" class="Symbol">)</a>
 <a id="18879" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="18886" href="Base.Varieties.Preservation.html#18886" class="Bound">p</a> <a id="18888" href="Base.Varieties.Preservation.html#18888" class="Bound">q</a> <a id="18890" href="Base.Varieties.Preservation.html#18890" class="Bound">Ïƒ</a> <a id="18892" class="Symbol">(</a><a id="18893" href="Base.Varieties.Closure.html#5868" class="InductiveConstructor">vhimg</a><a id="18898" class="Symbol">{</a><a id="18899" href="Base.Varieties.Preservation.html#18899" class="Bound">ğ‘¨</a><a id="18900" class="Symbol">}{</a><a id="18902" href="Base.Varieties.Preservation.html#18902" class="Bound">ğ‘ª</a><a id="18903" class="Symbol">}</a> <a id="18905" href="Base.Varieties.Preservation.html#18905" class="Bound">VA</a> <a id="18908" class="Symbol">(</a><a id="18909" href="Base.Varieties.Preservation.html#18909" class="Bound">ğ‘©</a> <a id="18911" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18913" class="Symbol">((</a><a id="18915" href="Base.Varieties.Preservation.html#18915" class="Bound">Ï†</a> <a id="18917" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18919" href="Base.Varieties.Preservation.html#18919" class="Bound">Ï†h</a><a id="18921" class="Symbol">)</a> <a id="18923" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="18925" href="Base.Varieties.Preservation.html#18925" class="Bound">Ï†E</a><a id="18927" class="Symbol">)))</a> <a id="18931" href="Base.Varieties.Preservation.html#18931" class="Bound">b</a> <a id="18933" class="Symbol">=</a> <a id="18935" href="Base.Varieties.Preservation.html#19105" class="Function">goal</a>
  <a id="18942" class="Keyword">where</a>
  <a id="18950" href="Base.Varieties.Preservation.html#18950" class="Function">IH</a> <a id="18953" class="Symbol">:</a> <a id="18955" href="Base.Varieties.Preservation.html#18899" class="Bound">ğ‘¨</a> <a id="18957" href="Base.Varieties.EquationalLogic.html#2688" class="Function Operator">âŠ§</a> <a id="18959" href="Base.Varieties.Preservation.html#18886" class="Bound">p</a> <a id="18961" href="Base.Varieties.EquationalLogic.html#2688" class="Function Operator">â‰ˆ</a> <a id="18963" href="Base.Varieties.Preservation.html#18888" class="Bound">q</a>
  <a id="18967" href="Base.Varieties.Preservation.html#18950" class="Function">IH</a> <a id="18970" class="Symbol">=</a> <a id="18972" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="18979" href="Base.Varieties.Preservation.html#18886" class="Bound">p</a> <a id="18981" href="Base.Varieties.Preservation.html#18888" class="Bound">q</a> <a id="18983" href="Base.Varieties.Preservation.html#18890" class="Bound">Ïƒ</a> <a id="18985" href="Base.Varieties.Preservation.html#18905" class="Bound">VA</a>

  <a id="18991" href="Base.Varieties.Preservation.html#18991" class="Function">preim</a> <a id="18997" class="Symbol">:</a> <a id="18999" href="Base.Varieties.Preservation.html#18549" class="Bound">X</a> <a id="19001" class="Symbol">â†’</a> <a id="19003" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="19005" href="Base.Varieties.Preservation.html#18899" class="Bound">ğ‘¨</a> <a id="19007" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a>
  <a id="19011" href="Base.Varieties.Preservation.html#18991" class="Function">preim</a> <a id="19017" href="Base.Varieties.Preservation.html#19017" class="Bound">x</a> <a id="19019" class="Symbol">=</a> <a id="19021" href="Base.Overture.Inverses.html#2210" class="Function">Inv</a> <a id="19025" href="Base.Varieties.Preservation.html#18915" class="Bound">Ï†</a> <a id="19027" class="Symbol">(</a><a id="19028" href="Base.Varieties.Preservation.html#18925" class="Bound">Ï†E</a> <a id="19031" class="Symbol">(</a><a id="19032" href="Base.Varieties.Preservation.html#18931" class="Bound">b</a> <a id="19034" href="Base.Varieties.Preservation.html#19017" class="Bound">x</a><a id="19035" class="Symbol">))</a>

  <a id="19041" href="Base.Varieties.Preservation.html#19041" class="Function">Î¶</a> <a id="19043" class="Symbol">:</a> <a id="19045" class="Symbol">âˆ€</a> <a id="19047" href="Base.Varieties.Preservation.html#19047" class="Bound">x</a> <a id="19049" class="Symbol">â†’</a> <a id="19051" href="Base.Varieties.Preservation.html#18915" class="Bound">Ï†</a> <a id="19053" class="Symbol">(</a><a id="19054" href="Base.Varieties.Preservation.html#18991" class="Function">preim</a> <a id="19060" href="Base.Varieties.Preservation.html#19047" class="Bound">x</a><a id="19061" class="Symbol">)</a> <a id="19063" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="19065" href="Base.Varieties.Preservation.html#18931" class="Bound">b</a> <a id="19067" href="Base.Varieties.Preservation.html#19047" class="Bound">x</a>
  <a id="19071" href="Base.Varieties.Preservation.html#19041" class="Function">Î¶</a> <a id="19073" href="Base.Varieties.Preservation.html#19073" class="Bound">x</a> <a id="19075" class="Symbol">=</a> <a id="19077" href="Base.Overture.Inverses.html#2457" class="Function">InvIsInverseÊ³</a> <a id="19091" class="Symbol">(</a><a id="19092" href="Base.Varieties.Preservation.html#18925" class="Bound">Ï†E</a> <a id="19095" class="Symbol">(</a><a id="19096" href="Base.Varieties.Preservation.html#18931" class="Bound">b</a> <a id="19098" href="Base.Varieties.Preservation.html#19073" class="Bound">x</a><a id="19099" class="Symbol">))</a>

  <a id="19105" href="Base.Varieties.Preservation.html#19105" class="Function">goal</a> <a id="19110" class="Symbol">:</a> <a id="19112" class="Symbol">(</a><a id="19113" href="Base.Varieties.Preservation.html#18909" class="Bound">ğ‘©</a> <a id="19115" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="19117" href="Base.Varieties.Preservation.html#18886" class="Bound">p</a> <a id="19119" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="19120" class="Symbol">)</a> <a id="19122" href="Base.Varieties.Preservation.html#18931" class="Bound">b</a> <a id="19124" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â‰¡</a> <a id="19126" class="Symbol">(</a><a id="19127" href="Base.Varieties.Preservation.html#18909" class="Bound">ğ‘©</a> <a id="19129" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="19131" href="Base.Varieties.Preservation.html#18888" class="Bound">q</a> <a id="19133" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="19134" class="Symbol">)</a> <a id="19136" href="Base.Varieties.Preservation.html#18931" class="Bound">b</a>
  <a id="19140" href="Base.Varieties.Preservation.html#19105" class="Function">goal</a> <a id="19145" class="Symbol">=</a> <a id="19147" class="Symbol">(</a><a id="19148" href="Base.Varieties.Preservation.html#18909" class="Bound">ğ‘©</a> <a id="19150" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="19152" href="Base.Varieties.Preservation.html#18886" class="Bound">p</a> <a id="19154" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="19155" class="Symbol">)</a> <a id="19157" href="Base.Varieties.Preservation.html#18931" class="Bound">b</a>          <a id="19168" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19171" href="Base.Varieties.Preservation.html#18522" class="Bound">wd</a> <a id="19174" href="Base.Varieties.Preservation.html#18537" class="Bound">ğ“§</a> <a id="19176" class="Symbol">_</a> <a id="19178" class="Symbol">(</a><a id="19179" href="Base.Varieties.Preservation.html#18909" class="Bound">ğ‘©</a> <a id="19181" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="19183" href="Base.Varieties.Preservation.html#18886" class="Bound">p</a> <a id="19185" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="19186" class="Symbol">)</a> <a id="19188" href="Base.Varieties.Preservation.html#18931" class="Bound">b</a> <a id="19190" class="Symbol">(</a><a id="19191" href="Base.Varieties.Preservation.html#18915" class="Bound">Ï†</a> <a id="19193" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19195" href="Base.Varieties.Preservation.html#18991" class="Function">preim</a> <a id="19201" class="Symbol">)(Î»</a> <a id="19205" href="Base.Varieties.Preservation.html#19205" class="Bound">i</a> <a id="19207" class="Symbol">â†’</a> <a id="19209" class="Symbol">(</a><a id="19210" href="Base.Varieties.Preservation.html#19041" class="Function">Î¶</a> <a id="19212" href="Base.Varieties.Preservation.html#19205" class="Bound">i</a><a id="19213" class="Symbol">)</a><a id="19214" href="Base.Overture.Preliminaries.html#4990" class="Function Operator">â»Â¹</a><a id="19216" class="Symbol">)</a><a id="19217" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19225" class="Symbol">(</a><a id="19226" href="Base.Varieties.Preservation.html#18909" class="Bound">ğ‘©</a> <a id="19228" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="19230" href="Base.Varieties.Preservation.html#18886" class="Bound">p</a> <a id="19232" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="19233" class="Symbol">)(</a><a id="19235" href="Base.Varieties.Preservation.html#18915" class="Bound">Ï†</a> <a id="19237" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19239" href="Base.Varieties.Preservation.html#18991" class="Function">preim</a><a id="19244" class="Symbol">)</a> <a id="19246" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a><a id="19248" class="Symbol">(</a><a id="19249" href="Base.Terms.Operations.html#6644" class="Function">comm-hom-term</a> <a id="19263" class="Symbol">(</a><a id="19264" href="Base.Varieties.Preservation.html#18522" class="Bound">wd</a> <a id="19267" href="Base.Varieties.Preservation.html#649" class="Bound">ğ“¥</a> <a id="19269" class="Symbol">_)</a> <a id="19272" href="Base.Varieties.Preservation.html#18909" class="Bound">ğ‘©</a> <a id="19274" class="Symbol">(</a><a id="19275" href="Base.Varieties.Preservation.html#18915" class="Bound">Ï†</a> <a id="19277" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19279" href="Base.Varieties.Preservation.html#18919" class="Bound">Ï†h</a><a id="19281" class="Symbol">)</a> <a id="19283" href="Base.Varieties.Preservation.html#18886" class="Bound">p</a> <a id="19285" href="Base.Varieties.Preservation.html#18991" class="Function">preim</a><a id="19290" class="Symbol">)</a><a id="19291" href="Base.Overture.Preliminaries.html#4990" class="Function Operator">â»Â¹</a> <a id="19294" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19302" href="Base.Varieties.Preservation.html#18915" class="Bound">Ï†</a><a id="19303" class="Symbol">((</a><a id="19305" href="Base.Varieties.Preservation.html#18899" class="Bound">ğ‘¨</a> <a id="19307" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="19309" href="Base.Varieties.Preservation.html#18886" class="Bound">p</a> <a id="19311" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="19312" class="Symbol">)</a> <a id="19314" href="Base.Varieties.Preservation.html#18991" class="Function">preim</a><a id="19319" class="Symbol">)</a>   <a id="19323" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19326" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="19331" href="Base.Varieties.Preservation.html#18915" class="Bound">Ï†</a> <a id="19333" class="Symbol">(</a><a id="19334" href="Base.Varieties.Preservation.html#18950" class="Function">IH</a> <a id="19337" href="Base.Varieties.Preservation.html#18991" class="Function">preim</a><a id="19342" class="Symbol">)</a> <a id="19344" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19352" href="Base.Varieties.Preservation.html#18915" class="Bound">Ï†</a><a id="19353" class="Symbol">((</a><a id="19355" href="Base.Varieties.Preservation.html#18899" class="Bound">ğ‘¨</a> <a id="19357" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="19359" href="Base.Varieties.Preservation.html#18888" class="Bound">q</a> <a id="19361" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="19362" class="Symbol">)</a> <a id="19364" href="Base.Varieties.Preservation.html#18991" class="Function">preim</a><a id="19369" class="Symbol">)</a>   <a id="19373" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19376" href="Base.Terms.Operations.html#6644" class="Function">comm-hom-term</a> <a id="19390" class="Symbol">(</a><a id="19391" href="Base.Varieties.Preservation.html#18522" class="Bound">wd</a> <a id="19394" href="Base.Varieties.Preservation.html#649" class="Bound">ğ“¥</a> <a id="19396" class="Symbol">_)</a> <a id="19399" href="Base.Varieties.Preservation.html#18909" class="Bound">ğ‘©</a> <a id="19401" class="Symbol">(</a><a id="19402" href="Base.Varieties.Preservation.html#18915" class="Bound">Ï†</a> <a id="19404" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="19406" href="Base.Varieties.Preservation.html#18919" class="Bound">Ï†h</a><a id="19408" class="Symbol">)</a> <a id="19410" href="Base.Varieties.Preservation.html#18888" class="Bound">q</a> <a id="19412" href="Base.Varieties.Preservation.html#18991" class="Function">preim</a> <a id="19418" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19426" class="Symbol">(</a><a id="19427" href="Base.Varieties.Preservation.html#18909" class="Bound">ğ‘©</a> <a id="19429" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="19431" href="Base.Varieties.Preservation.html#18888" class="Bound">q</a> <a id="19433" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="19434" class="Symbol">)(</a><a id="19436" href="Base.Varieties.Preservation.html#18915" class="Bound">Ï†</a> <a id="19438" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19440" href="Base.Varieties.Preservation.html#18991" class="Function">preim</a><a id="19445" class="Symbol">)</a> <a id="19447" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â‰¡âŸ¨</a> <a id="19450" href="Base.Varieties.Preservation.html#18522" class="Bound">wd</a> <a id="19453" href="Base.Varieties.Preservation.html#18537" class="Bound">ğ“§</a> <a id="19455" class="Symbol">_</a> <a id="19457" class="Symbol">(</a><a id="19458" href="Base.Varieties.Preservation.html#18909" class="Bound">ğ‘©</a> <a id="19460" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="19462" href="Base.Varieties.Preservation.html#18888" class="Bound">q</a> <a id="19464" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="19465" class="Symbol">)(</a><a id="19467" href="Base.Varieties.Preservation.html#18915" class="Bound">Ï†</a> <a id="19469" href="Function.Base.html#1031" class="Function Operator">âˆ˜</a> <a id="19471" href="Base.Varieties.Preservation.html#18991" class="Function">preim</a><a id="19476" class="Symbol">)</a> <a id="19478" href="Base.Varieties.Preservation.html#18931" class="Bound">b</a> <a id="19480" href="Base.Varieties.Preservation.html#19041" class="Function">Î¶</a> <a id="19482" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">âŸ©</a>
      <a id="19490" class="Symbol">(</a><a id="19491" href="Base.Varieties.Preservation.html#18909" class="Bound">ğ‘©</a> <a id="19493" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ¦</a> <a id="19495" href="Base.Varieties.Preservation.html#18888" class="Bound">q</a> <a id="19497" href="Base.Terms.Operations.html#2637" class="Function Operator">âŸ§</a><a id="19498" class="Symbol">)</a> <a id="19500" href="Base.Varieties.Preservation.html#18931" class="Bound">b</a>          <a id="19511" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">âˆ</a>

 <a id="19515" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="19522" href="Base.Varieties.Preservation.html#19522" class="Bound">p</a> <a id="19524" href="Base.Varieties.Preservation.html#19524" class="Bound">q</a> <a id="19526" href="Base.Varieties.Preservation.html#19526" class="Bound">Ïƒ</a> <a id="19528" class="Symbol">(</a><a id="19529" href="Base.Varieties.Closure.html#5950" class="InductiveConstructor">vssubw</a> <a id="19536" class="Symbol">{</a><a id="19537" href="Base.Varieties.Preservation.html#19537" class="Bound">ğ‘¨</a><a id="19538" class="Symbol">}{</a><a id="19540" href="Base.Varieties.Preservation.html#19540" class="Bound">ğ‘©</a><a id="19541" class="Symbol">}</a> <a id="19543" href="Base.Varieties.Preservation.html#19543" class="Bound">VA</a> <a id="19546" href="Base.Varieties.Preservation.html#19546" class="Bound">Bâ‰¤A</a><a id="19549" class="Symbol">)</a> <a id="19551" class="Symbol">=</a> <a id="19553" href="Base.Varieties.Properties.html#4894" class="Function">âŠ§-S-invar</a> <a id="19563" href="Base.Varieties.Preservation.html#18522" class="Bound">wd</a> <a id="19566" href="Base.Varieties.Preservation.html#19540" class="Bound">ğ‘©</a> <a id="19568" class="Symbol">{</a><a id="19569" href="Base.Varieties.Preservation.html#19522" class="Bound">p</a><a id="19570" class="Symbol">}{</a><a id="19572" href="Base.Varieties.Preservation.html#19524" class="Bound">q</a><a id="19573" class="Symbol">}(</a><a id="19575" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="19582" href="Base.Varieties.Preservation.html#19522" class="Bound">p</a> <a id="19584" href="Base.Varieties.Preservation.html#19524" class="Bound">q</a> <a id="19586" href="Base.Varieties.Preservation.html#19526" class="Bound">Ïƒ</a> <a id="19588" href="Base.Varieties.Preservation.html#19543" class="Bound">VA</a><a id="19590" class="Symbol">)</a> <a id="19592" href="Base.Varieties.Preservation.html#19546" class="Bound">Bâ‰¤A</a>
 <a id="19597" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="19604" href="Base.Varieties.Preservation.html#19604" class="Bound">p</a> <a id="19606" href="Base.Varieties.Preservation.html#19606" class="Bound">q</a> <a id="19608" href="Base.Varieties.Preservation.html#19608" class="Bound">Ïƒ</a> <a id="19610" class="Symbol">(</a><a id="19611" href="Base.Varieties.Closure.html#6014" class="InductiveConstructor">vprodu</a><a id="19617" class="Symbol">{</a><a id="19618" href="Base.Varieties.Preservation.html#19618" class="Bound">I</a><a id="19619" class="Symbol">}{</a><a id="19621" href="Base.Varieties.Preservation.html#19621" class="Bound">ğ’œ</a><a id="19622" class="Symbol">}</a> <a id="19624" href="Base.Varieties.Preservation.html#19624" class="Bound">Vğ’œ</a><a id="19626" class="Symbol">)</a> <a id="19628" class="Symbol">=</a> <a id="19630" href="Base.Varieties.Properties.html#6317" class="Function">âŠ§-P-invar</a> <a id="19640" href="Base.Varieties.Preservation.html#18508" class="Bound">fe</a> <a id="19643" href="Base.Varieties.Preservation.html#18522" class="Bound">wd</a> <a id="19646" href="Base.Varieties.Preservation.html#19621" class="Bound">ğ’œ</a>  <a id="19649" href="Base.Varieties.Preservation.html#19604" class="Bound">p</a> <a id="19651" href="Base.Varieties.Preservation.html#19606" class="Bound">q</a> <a id="19653" class="Symbol">Î»</a> <a id="19655" href="Base.Varieties.Preservation.html#19655" class="Bound">i</a> <a id="19657" class="Symbol">â†’</a> <a id="19659" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="19665" href="Base.Varieties.Preservation.html#19604" class="Bound">p</a> <a id="19667" href="Base.Varieties.Preservation.html#19606" class="Bound">q</a> <a id="19669" href="Base.Varieties.Preservation.html#19608" class="Bound">Ïƒ</a> <a id="19671" class="Symbol">(</a><a id="19672" href="Base.Varieties.Preservation.html#19624" class="Bound">Vğ’œ</a> <a id="19675" href="Base.Varieties.Preservation.html#19655" class="Bound">i</a><a id="19676" class="Symbol">)</a>
 <a id="19679" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="19686" href="Base.Varieties.Preservation.html#19686" class="Bound">p</a> <a id="19688" href="Base.Varieties.Preservation.html#19688" class="Bound">q</a> <a id="19690" href="Base.Varieties.Preservation.html#19690" class="Bound">Ïƒ</a> <a id="19692" class="Symbol">(</a><a id="19693" href="Base.Varieties.Closure.html#6098" class="InductiveConstructor">vprodw</a><a id="19699" class="Symbol">{</a><a id="19700" href="Base.Varieties.Preservation.html#19700" class="Bound">I</a><a id="19701" class="Symbol">}{</a><a id="19703" href="Base.Varieties.Preservation.html#19703" class="Bound">ğ’œ</a><a id="19704" class="Symbol">}</a> <a id="19706" href="Base.Varieties.Preservation.html#19706" class="Bound">Vğ’œ</a><a id="19708" class="Symbol">)</a> <a id="19710" class="Symbol">=</a> <a id="19712" href="Base.Varieties.Properties.html#6317" class="Function">âŠ§-P-invar</a> <a id="19722" href="Base.Varieties.Preservation.html#18508" class="Bound">fe</a> <a id="19725" href="Base.Varieties.Preservation.html#18522" class="Bound">wd</a> <a id="19728" href="Base.Varieties.Preservation.html#19703" class="Bound">ğ’œ</a>  <a id="19731" href="Base.Varieties.Preservation.html#19686" class="Bound">p</a> <a id="19733" href="Base.Varieties.Preservation.html#19688" class="Bound">q</a> <a id="19735" class="Symbol">Î»</a> <a id="19737" href="Base.Varieties.Preservation.html#19737" class="Bound">i</a> <a id="19739" class="Symbol">â†’</a> <a id="19741" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="19748" href="Base.Varieties.Preservation.html#19686" class="Bound">p</a> <a id="19750" href="Base.Varieties.Preservation.html#19688" class="Bound">q</a> <a id="19752" href="Base.Varieties.Preservation.html#19690" class="Bound">Ïƒ</a> <a id="19754" class="Symbol">(</a><a id="19755" href="Base.Varieties.Preservation.html#19706" class="Bound">Vğ’œ</a> <a id="19758" href="Base.Varieties.Preservation.html#19737" class="Bound">i</a><a id="19759" class="Symbol">)</a>
 <a id="19762" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="19769" href="Base.Varieties.Preservation.html#19769" class="Bound">p</a> <a id="19771" href="Base.Varieties.Preservation.html#19771" class="Bound">q</a> <a id="19773" href="Base.Varieties.Preservation.html#19773" class="Bound">Ïƒ</a> <a id="19775" class="Symbol">(</a><a id="19776" href="Base.Varieties.Closure.html#6182" class="InductiveConstructor">visou</a> <a id="19782" class="Symbol">{</a><a id="19783" href="Base.Varieties.Preservation.html#19783" class="Bound">ğ‘¨</a><a id="19784" class="Symbol">}{</a><a id="19786" href="Base.Varieties.Preservation.html#19786" class="Bound">ğ‘©</a><a id="19787" class="Symbol">}</a> <a id="19789" href="Base.Varieties.Preservation.html#19789" class="Bound">VA</a> <a id="19792" href="Base.Varieties.Preservation.html#19792" class="Bound">Aâ‰…B</a><a id="19795" class="Symbol">)</a> <a id="19797" class="Symbol">=</a> <a id="19799" href="Base.Varieties.Properties.html#3391" class="Function">âŠ§-I-invar</a> <a id="19809" href="Base.Varieties.Preservation.html#18522" class="Bound">wd</a> <a id="19812" href="Base.Varieties.Preservation.html#19786" class="Bound">ğ‘©</a> <a id="19814" href="Base.Varieties.Preservation.html#19769" class="Bound">p</a> <a id="19816" href="Base.Varieties.Preservation.html#19771" class="Bound">q</a> <a id="19818" class="Symbol">(</a><a id="19819" href="Base.Varieties.Preservation.html#17001" class="Function">V-id1</a> <a id="19825" href="Base.Varieties.Preservation.html#19769" class="Bound">p</a> <a id="19827" href="Base.Varieties.Preservation.html#19771" class="Bound">q</a> <a id="19829" href="Base.Varieties.Preservation.html#19773" class="Bound">Ïƒ</a> <a id="19831" href="Base.Varieties.Preservation.html#19789" class="Bound">VA</a><a id="19833" class="Symbol">)</a> <a id="19835" href="Base.Varieties.Preservation.html#19792" class="Bound">Aâ‰…B</a>
 <a id="19840" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="19847" href="Base.Varieties.Preservation.html#19847" class="Bound">p</a> <a id="19849" href="Base.Varieties.Preservation.html#19849" class="Bound">q</a> <a id="19851" href="Base.Varieties.Preservation.html#19851" class="Bound">Ïƒ</a> <a id="19853" class="Symbol">(</a><a id="19854" href="Base.Varieties.Closure.html#6261" class="InductiveConstructor">visow</a><a id="19859" class="Symbol">{</a><a id="19860" href="Base.Varieties.Preservation.html#19860" class="Bound">ğ‘¨</a><a id="19861" class="Symbol">}{</a><a id="19863" href="Base.Varieties.Preservation.html#19863" class="Bound">ğ‘©</a><a id="19864" class="Symbol">}</a> <a id="19866" href="Base.Varieties.Preservation.html#19866" class="Bound">VA</a> <a id="19869" href="Base.Varieties.Preservation.html#19869" class="Bound">Aâ‰…B</a><a id="19872" class="Symbol">)</a> <a id="19874" class="Symbol">=</a> <a id="19876" href="Base.Varieties.Properties.html#3391" class="Function">âŠ§-I-invar</a> <a id="19886" href="Base.Varieties.Preservation.html#18522" class="Bound">wd</a> <a id="19889" href="Base.Varieties.Preservation.html#19863" class="Bound">ğ‘©</a> <a id="19891" href="Base.Varieties.Preservation.html#19847" class="Bound">p</a> <a id="19893" href="Base.Varieties.Preservation.html#19849" class="Bound">q</a> <a id="19895" class="Symbol">(</a><a id="19896" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="19903" href="Base.Varieties.Preservation.html#19847" class="Bound">p</a> <a id="19905" href="Base.Varieties.Preservation.html#19849" class="Bound">q</a> <a id="19907" href="Base.Varieties.Preservation.html#19851" class="Bound">Ïƒ</a> <a id="19909" href="Base.Varieties.Preservation.html#19866" class="Bound">VA</a><a id="19911" class="Symbol">)</a><a id="19912" href="Base.Varieties.Preservation.html#19869" class="Bound">Aâ‰…B</a>

</pre>


#### <a id="class-identities">Class identities</a>

From `V-id1` it follows that if ğ’¦ is a class of structures, then the set of identities modeled by all structures in `ğ’¦` is equivalent to the set of identities modeled by all structures in `V ğ’¦`.  In other terms, `Th (V ğ’¦)` is precisely the set of identities modeled by `ğ’¦`.   We formalize this observation as follows.

<pre class="Agda">

<a id="20315" class="Keyword">module</a> <a id="20322" href="Base.Varieties.Preservation.html#20322" class="Module">_</a> <a id="20324" class="Symbol">(</a><a id="20325" href="Base.Varieties.Preservation.html#20325" class="Bound">fe</a> <a id="20328" class="Symbol">:</a> <a id="20330" href="Base.Equality.Extensionality.html#2294" class="Function">DFunExt</a><a id="20337" class="Symbol">)(</a><a id="20339" href="Base.Varieties.Preservation.html#20339" class="Bound">wd</a> <a id="20342" class="Symbol">:</a> <a id="20344" href="Base.Equality.Welldefined.html#2969" class="Function">SwellDef</a><a id="20352" class="Symbol">){</a><a id="20354" href="Base.Varieties.Preservation.html#20354" class="Bound">ğ“§</a> <a id="20356" class="Symbol">:</a> <a id="20358" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="20363" class="Symbol">}</a> <a id="20365" class="Symbol">{</a><a id="20366" href="Base.Varieties.Preservation.html#20366" class="Bound">X</a> <a id="20368" class="Symbol">:</a> <a id="20370" href="Base.Varieties.Preservation.html#835" class="Primitive">Type</a> <a id="20375" href="Base.Varieties.Preservation.html#20354" class="Bound">ğ“§</a><a id="20376" class="Symbol">}</a> <a id="20378" class="Symbol">{</a><a id="20379" href="Base.Varieties.Preservation.html#20379" class="Bound">ğ’¦</a> <a id="20381" class="Symbol">:</a> <a id="20383" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20388" class="Symbol">(</a><a id="20389" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="20397" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a> <a id="20399" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="20400" class="Symbol">)(</a><a id="20402" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="20405" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a><a id="20406" class="Symbol">)}</a> <a id="20409" class="Keyword">where</a>

 <a id="20417" href="Base.Varieties.Preservation.html#20417" class="Function">ovu</a> <a id="20421" href="Base.Varieties.Preservation.html#20421" class="Function">lovu</a> <a id="20426" class="Symbol">:</a> <a id="20428" href="Agda.Primitive.html#597" class="Postulate">Level</a>
 <a id="20435" href="Base.Varieties.Preservation.html#20417" class="Function">ovu</a> <a id="20439" class="Symbol">=</a> <a id="20441" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="20444" href="Base.Varieties.Preservation.html#20397" class="Bound">Î±</a>
 <a id="20447" href="Base.Varieties.Preservation.html#20421" class="Function">lovu</a> <a id="20452" class="Symbol">=</a> <a id="20454" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="20459" class="Symbol">(</a><a id="20460" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="20463" href="Base.Varieties.Preservation.html#20397" class="Bound">Î±</a><a id="20464" class="Symbol">)</a>
 <a id="20467" href="Base.Varieties.Preservation.html#20467" class="Function">ğ•</a> <a id="20469" class="Symbol">:</a> <a id="20471" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20476" class="Symbol">(</a><a id="20477" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="20485" href="Base.Varieties.Preservation.html#20421" class="Function">lovu</a> <a id="20490" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="20491" class="Symbol">)</a> <a id="20493" class="Symbol">(</a><a id="20494" href="Agda.Primitive.html#780" class="Primitive">lsuc</a> <a id="20499" href="Base.Varieties.Preservation.html#20421" class="Function">lovu</a><a id="20503" class="Symbol">)</a>
 <a id="20506" href="Base.Varieties.Preservation.html#20467" class="Function">ğ•</a> <a id="20508" class="Symbol">=</a> <a id="20510" href="Base.Varieties.Closure.html#5587" class="Datatype">V</a><a id="20511" class="Symbol">{</a><a id="20512" href="Base.Varieties.Preservation.html#20397" class="Bound">Î±</a><a id="20513" class="Symbol">}{</a><a id="20515" href="Base.Varieties.Preservation.html#20421" class="Function">lovu</a><a id="20519" class="Symbol">}</a> <a id="20521" href="Base.Varieties.Preservation.html#20379" class="Bound">ğ’¦</a>
 <a id="20524" href="Base.Varieties.Preservation.html#20524" class="Function">ğ’±</a> <a id="20526" class="Symbol">:</a> <a id="20528" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="20533" class="Symbol">(</a><a id="20534" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="20542" href="Base.Varieties.Preservation.html#20417" class="Function">ovu</a> <a id="20546" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="20547" class="Symbol">)</a> <a id="20549" href="Base.Varieties.Preservation.html#20421" class="Function">lovu</a>
 <a id="20555" href="Base.Varieties.Preservation.html#20524" class="Function">ğ’±</a> <a id="20557" class="Symbol">=</a> <a id="20559" href="Base.Varieties.Closure.html#5587" class="Datatype">V</a><a id="20560" class="Symbol">{</a><a id="20561" class="Argument">Î²</a> <a id="20563" class="Symbol">=</a> <a id="20565" href="Base.Varieties.Preservation.html#20417" class="Function">ovu</a><a id="20568" class="Symbol">}</a> <a id="20570" href="Base.Varieties.Preservation.html#20379" class="Bound">ğ’¦</a>

 <a id="20574" class="Keyword">open</a> <a id="20579" href="Base.Varieties.Preservation.html#18502" class="Module">Vid&#39;</a> <a id="20584" href="Base.Varieties.Preservation.html#20325" class="Bound">fe</a> <a id="20587" href="Base.Varieties.Preservation.html#20339" class="Bound">wd</a> <a id="20590" class="Symbol">{</a><a id="20591" href="Base.Varieties.Preservation.html#20354" class="Bound">ğ“§</a><a id="20592" class="Symbol">}{</a><a id="20594" href="Base.Varieties.Preservation.html#20366" class="Bound">X</a><a id="20595" class="Symbol">}{</a><a id="20597" href="Base.Varieties.Preservation.html#20379" class="Bound">ğ’¦</a><a id="20598" class="Symbol">}</a> <a id="20600" class="Keyword">public</a>
 <a id="20608" href="Base.Varieties.Preservation.html#20608" class="Function">class-ids-â‡’</a> <a id="20620" class="Symbol">:</a> <a id="20622" class="Symbol">(</a><a id="20623" href="Base.Varieties.Preservation.html#20623" class="Bound">p</a> <a id="20625" href="Base.Varieties.Preservation.html#20625" class="Bound">q</a> <a id="20627" class="Symbol">:</a> <a id="20629" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="20631" href="Base.Terms.Basic.html#3304" class="Function">ğ‘»</a> <a id="20633" href="Base.Varieties.Preservation.html#20366" class="Bound">X</a> <a id="20635" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a><a id="20636" class="Symbol">)</a> <a id="20638" class="Symbol">â†’</a> <a id="20640" href="Base.Varieties.Preservation.html#20379" class="Bound">ğ’¦</a> <a id="20642" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="20644" href="Base.Varieties.Preservation.html#20623" class="Bound">p</a> <a id="20646" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="20648" href="Base.Varieties.Preservation.html#20625" class="Bound">q</a>  <a id="20651" class="Symbol">â†’</a>  <a id="20654" class="Symbol">(</a><a id="20655" href="Base.Varieties.Preservation.html#20623" class="Bound">p</a> <a id="20657" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20659" href="Base.Varieties.Preservation.html#20625" class="Bound">q</a><a id="20660" class="Symbol">)</a> <a id="20662" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20664" href="Base.Varieties.EquationalLogic.html#3560" class="Function">Th</a> <a id="20667" href="Base.Varieties.Preservation.html#20524" class="Function">ğ’±</a>
 <a id="20670" href="Base.Varieties.Preservation.html#20608" class="Function">class-ids-â‡’</a> <a id="20682" href="Base.Varieties.Preservation.html#20682" class="Bound">p</a> <a id="20684" href="Base.Varieties.Preservation.html#20684" class="Bound">q</a> <a id="20686" href="Base.Varieties.Preservation.html#20686" class="Bound">pKq</a> <a id="20690" href="Base.Varieties.Preservation.html#20690" class="Bound">VCloA</a> <a id="20696" class="Symbol">=</a> <a id="20698" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="20705" href="Base.Varieties.Preservation.html#20682" class="Bound">p</a> <a id="20707" href="Base.Varieties.Preservation.html#20684" class="Bound">q</a> <a id="20709" href="Base.Varieties.Preservation.html#20686" class="Bound">pKq</a> <a id="20713" href="Base.Varieties.Preservation.html#20690" class="Bound">VCloA</a>

 <a id="20721" href="Base.Varieties.Preservation.html#20721" class="Function">class-ids</a> <a id="20731" class="Symbol">:</a> <a id="20733" class="Symbol">(</a><a id="20734" href="Base.Varieties.Preservation.html#20734" class="Bound">p</a> <a id="20736" href="Base.Varieties.Preservation.html#20736" class="Bound">q</a> <a id="20738" class="Symbol">:</a> <a id="20740" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="20742" href="Base.Terms.Basic.html#3304" class="Function">ğ‘»</a> <a id="20744" href="Base.Varieties.Preservation.html#20366" class="Bound">X</a> <a id="20746" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a><a id="20747" class="Symbol">)</a> <a id="20749" class="Symbol">â†’</a> <a id="20751" href="Base.Varieties.Preservation.html#20379" class="Bound">ğ’¦</a> <a id="20753" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="20755" href="Base.Varieties.Preservation.html#20734" class="Bound">p</a> <a id="20757" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="20759" href="Base.Varieties.Preservation.html#20736" class="Bound">q</a>  <a id="20762" class="Symbol">â†’</a>  <a id="20765" class="Symbol">(</a><a id="20766" href="Base.Varieties.Preservation.html#20734" class="Bound">p</a> <a id="20768" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20770" href="Base.Varieties.Preservation.html#20736" class="Bound">q</a><a id="20771" class="Symbol">)</a> <a id="20773" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20775" href="Base.Varieties.EquationalLogic.html#3560" class="Function">Th</a> <a id="20778" href="Base.Varieties.Preservation.html#20467" class="Function">ğ•</a>
 <a id="20781" href="Base.Varieties.Preservation.html#20721" class="Function">class-ids</a> <a id="20791" href="Base.Varieties.Preservation.html#20791" class="Bound">p</a> <a id="20793" href="Base.Varieties.Preservation.html#20793" class="Bound">q</a> <a id="20795" href="Base.Varieties.Preservation.html#20795" class="Bound">pKq</a> <a id="20799" href="Base.Varieties.Preservation.html#20799" class="Bound">VCloA</a> <a id="20805" class="Symbol">=</a> <a id="20807" href="Base.Varieties.Preservation.html#18633" class="Function">V-id1&#39;</a> <a id="20814" href="Base.Varieties.Preservation.html#20791" class="Bound">p</a> <a id="20816" href="Base.Varieties.Preservation.html#20793" class="Bound">q</a> <a id="20818" href="Base.Varieties.Preservation.html#20795" class="Bound">pKq</a> <a id="20822" href="Base.Varieties.Preservation.html#20799" class="Bound">VCloA</a>


 <a id="20831" href="Base.Varieties.Preservation.html#20831" class="Function">class-ids-â‡</a> <a id="20843" class="Symbol">:</a> <a id="20845" class="Symbol">(</a><a id="20846" href="Base.Varieties.Preservation.html#20846" class="Bound">p</a> <a id="20848" href="Base.Varieties.Preservation.html#20848" class="Bound">q</a> <a id="20850" class="Symbol">:</a> <a id="20852" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a> <a id="20854" href="Base.Terms.Basic.html#3304" class="Function">ğ‘»</a> <a id="20856" href="Base.Varieties.Preservation.html#20366" class="Bound">X</a> <a id="20858" href="Base.Overture.Preliminaries.html#4397" class="Function Operator">âˆ£</a><a id="20859" class="Symbol">)</a> <a id="20861" class="Symbol">â†’</a> <a id="20863" class="Symbol">(</a><a id="20864" href="Base.Varieties.Preservation.html#20846" class="Bound">p</a> <a id="20866" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="20868" href="Base.Varieties.Preservation.html#20848" class="Bound">q</a><a id="20869" class="Symbol">)</a> <a id="20871" href="Relation.Unary.html#1523" class="Function Operator">âˆˆ</a> <a id="20873" href="Base.Varieties.EquationalLogic.html#3560" class="Function">Th</a> <a id="20876" href="Base.Varieties.Preservation.html#20524" class="Function">ğ’±</a> <a id="20878" class="Symbol">â†’</a>  <a id="20881" href="Base.Varieties.Preservation.html#20379" class="Bound">ğ’¦</a> <a id="20883" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="20885" href="Base.Varieties.Preservation.html#20846" class="Bound">p</a> <a id="20887" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="20889" href="Base.Varieties.Preservation.html#20848" class="Bound">q</a>
 <a id="20892" href="Base.Varieties.Preservation.html#20831" class="Function">class-ids-â‡</a> <a id="20904" href="Base.Varieties.Preservation.html#20904" class="Bound">p</a> <a id="20906" href="Base.Varieties.Preservation.html#20906" class="Bound">q</a> <a id="20908" href="Base.Varieties.Preservation.html#20908" class="Bound">Thpq</a> <a id="20913" class="Symbol">{</a><a id="20914" href="Base.Varieties.Preservation.html#20914" class="Bound">ğ‘¨</a><a id="20915" class="Symbol">}</a> <a id="20917" href="Base.Varieties.Preservation.html#20917" class="Bound">KA</a> <a id="20920" class="Symbol">=</a> <a id="20922" href="Base.Varieties.Properties.html#4468" class="Function">âŠ§-lower-invar</a> <a id="20936" href="Base.Varieties.Preservation.html#20339" class="Bound">wd</a> <a id="20939" href="Base.Varieties.Preservation.html#20904" class="Bound">p</a> <a id="20941" href="Base.Varieties.Preservation.html#20906" class="Bound">q</a> <a id="20943" class="Symbol">(</a><a id="20944" href="Base.Varieties.Preservation.html#20908" class="Bound">Thpq</a> <a id="20949" class="Symbol">(</a><a id="20950" href="Base.Varieties.Closure.html#5675" class="InductiveConstructor">vbase</a> <a id="20956" href="Base.Varieties.Preservation.html#20917" class="Bound">KA</a><a id="20958" class="Symbol">))</a>


</pre>


Once again, and for the last time, completeness dictates that we formalize the coverse of `V-id1`, however obvious it may be.

<pre class="Agda">

<a id="21117" class="Keyword">module</a> <a id="21124" href="Base.Varieties.Preservation.html#21124" class="Module">_</a> <a id="21126" class="Symbol">(</a><a id="21127" href="Base.Varieties.Preservation.html#21127" class="Bound">wd</a> <a id="21130" class="Symbol">:</a> <a id="21132" href="Base.Equality.Welldefined.html#2969" class="Function">SwellDef</a><a id="21140" class="Symbol">){</a><a id="21142" href="Base.Varieties.Preservation.html#21142" class="Bound">X</a> <a id="21144" class="Symbol">:</a> <a id="21146" href="Base.Varieties.Preservation.html#835" class="Primitive">Type</a> <a id="21151" href="Base.Varieties.Preservation.html#13573" class="Generalizable">ğ“§</a><a id="21152" class="Symbol">}{</a><a id="21154" href="Base.Varieties.Preservation.html#21154" class="Bound">ğ’¦</a> <a id="21156" class="Symbol">:</a> <a id="21158" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="21163" class="Symbol">(</a><a id="21164" href="Base.Algebras.Basic.html#6252" class="Function">Algebra</a> <a id="21172" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a> <a id="21174" href="Base.Varieties.Preservation.html#633" class="Bound">ğ‘†</a><a id="21175" class="Symbol">)(</a><a id="21177" href="Base.Algebras.Products.html#3165" class="Function">ov</a> <a id="21180" href="Base.Varieties.Preservation.html#3440" class="Generalizable">Î±</a><a id="21181" class="Symbol">)}</a> <a id="21184" class="Keyword">where</a>

 <a id="21192" href="Base.Varieties.Preservation.html#21192" class="Function">V-id2</a> <a id="21198" class="Symbol">:</a> <a id="21200" class="Symbol">(</a><a id="21201" href="Base.Varieties.Preservation.html#21201" class="Bound">p</a> <a id="21203" href="Base.Varieties.Preservation.html#21203" class="Bound">q</a> <a id="21205" class="Symbol">:</a> <a id="21207" href="Base.Terms.Basic.html#2021" class="Datatype">Term</a> <a id="21212" href="Base.Varieties.Preservation.html#21142" class="Bound">X</a><a id="21213" class="Symbol">)</a> <a id="21215" class="Symbol">â†’</a> <a id="21217" class="Symbol">(</a><a id="21218" href="Base.Varieties.Closure.html#5587" class="Datatype">V</a><a id="21219" class="Symbol">{</a><a id="21220" class="Argument">Î²</a> <a id="21222" class="Symbol">=</a> <a id="21224" href="Base.Varieties.Preservation.html#3442" class="Generalizable">Î²</a><a id="21225" class="Symbol">}</a> <a id="21227" href="Base.Varieties.Preservation.html#21154" class="Bound">ğ’¦</a> <a id="21229" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="21231" href="Base.Varieties.Preservation.html#21201" class="Bound">p</a> <a id="21233" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="21235" href="Base.Varieties.Preservation.html#21203" class="Bound">q</a><a id="21236" class="Symbol">)</a> <a id="21238" class="Symbol">â†’</a> <a id="21240" class="Symbol">(</a><a id="21241" href="Base.Varieties.Preservation.html#21154" class="Bound">ğ’¦</a> <a id="21243" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">âŠ«</a> <a id="21245" href="Base.Varieties.Preservation.html#21201" class="Bound">p</a> <a id="21247" href="Base.Varieties.EquationalLogic.html#2766" class="Function Operator">â‰ˆ</a> <a id="21249" href="Base.Varieties.Preservation.html#21203" class="Bound">q</a><a id="21250" class="Symbol">)</a>
 <a id="21253" href="Base.Varieties.Preservation.html#21192" class="Function">V-id2</a> <a id="21259" href="Base.Varieties.Preservation.html#21259" class="Bound">p</a> <a id="21261" href="Base.Varieties.Preservation.html#21261" class="Bound">q</a> <a id="21263" href="Base.Varieties.Preservation.html#21263" class="Bound">Vpq</a> <a id="21267" class="Symbol">{</a><a id="21268" href="Base.Varieties.Preservation.html#21268" class="Bound">ğ‘¨</a><a id="21269" class="Symbol">}</a> <a id="21271" href="Base.Varieties.Preservation.html#21271" class="Bound">KA</a> <a id="21274" class="Symbol">=</a> <a id="21276" href="Base.Varieties.Properties.html#4468" class="Function">âŠ§-lower-invar</a> <a id="21290" href="Base.Varieties.Preservation.html#21127" class="Bound">wd</a> <a id="21293" href="Base.Varieties.Preservation.html#21259" class="Bound">p</a> <a id="21295" href="Base.Varieties.Preservation.html#21261" class="Bound">q</a> <a id="21297" class="Symbol">(</a><a id="21298" href="Base.Varieties.Preservation.html#21263" class="Bound">Vpq</a> <a id="21302" class="Symbol">(</a><a id="21303" href="Base.Varieties.Closure.html#5675" class="InductiveConstructor">vbase</a> <a id="21309" href="Base.Varieties.Preservation.html#21271" class="Bound">KA</a><a id="21311" class="Symbol">))</a>

</pre>

----------------------------

<span style="float:left;">[â† Base.Varieties.Properties](Base.Varieties.Properties.html)</span>
<span style="float:right;">[Base.Varieties.FreeAlgebras â†’](Base.Varieties.FreeAlgebras.html)</span>

{% include UALib.Links.md %}
