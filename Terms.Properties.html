<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Terms.Properties</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Background">---
layout: default
title : Terms.Properties module (The Agda Universal Algebra Library)
date : 2021-07-03
author: [agda-algebras development team][]
---

### Properties of Terms and the Term Algebra

This is the [Terms.Properties][] module of the [Agda Universal Algebra Library][].


</a><a id="287" class="Markup">\begin{code}</a>

<a id="301" class="Symbol">{-#</a> <a id="305" class="Keyword">OPTIONS</a> <a id="313" class="Pragma">--without-K</a> <a id="325" class="Pragma">--exact-split</a> <a id="339" class="Pragma">--safe</a> <a id="346" class="Symbol">#-}</a>

<a id="351" class="Keyword">open</a> <a id="356" class="Keyword">import</a> <a id="363" href="Algebras.Basic.html" class="Module">Algebras.Basic</a> <a id="378" class="Keyword">using</a> <a id="384" class="Symbol">(</a> <a id="386" href="Algebras.Basic.html#1210" class="Generalizable">𝓞</a> <a id="388" class="Symbol">;</a> <a id="390" href="Algebras.Basic.html#1212" class="Generalizable">𝓥</a> <a id="392" class="Symbol">;</a> <a id="394" href="Algebras.Basic.html#3576" class="Function">Signature</a> <a id="404" class="Symbol">)</a>

<a id="407" class="Keyword">module</a> <a id="414" href="Terms.Properties.html" class="Module">Terms.Properties</a> <a id="431" class="Symbol">{</a><a id="432" href="Terms.Properties.html#432" class="Bound">𝑆</a> <a id="434" class="Symbol">:</a> <a id="436" href="Algebras.Basic.html#3576" class="Function">Signature</a> <a id="446" href="Algebras.Basic.html#1210" class="Generalizable">𝓞</a> <a id="448" href="Algebras.Basic.html#1212" class="Generalizable">𝓥</a><a id="449" class="Symbol">}</a> <a id="451" class="Keyword">where</a>


<a id="459" class="Comment">-- Imports from Agda (builtin/primitive) and the Agda Standard Library ---------------------</a>
<a id="552" class="Keyword">open</a> <a id="557" class="Keyword">import</a> <a id="564" href="Axiom.Extensionality.Propositional.html" class="Module">Axiom.Extensionality.Propositional</a> <a id="599" class="Keyword">renaming</a> <a id="608" class="Symbol">(</a><a id="609" href="Axiom.Extensionality.Propositional.html#741" class="Function">Extensionality</a> <a id="624" class="Symbol">to</a> <a id="627" class="Function">funext</a><a id="633" class="Symbol">)</a>
<a id="635" class="Keyword">import</a> <a id="642" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="680" class="Symbol">as</a> <a id="683" class="Module">PE</a>
<a id="686" class="Keyword">open</a> <a id="691" class="Keyword">import</a> <a id="698" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>              <a id="726" class="Keyword">using</a>    <a id="735" class="Symbol">(</a> <a id="737" href="Agda.Primitive.html#810" class="Primitive Operator">_⊔_</a> <a id="741" class="Symbol">;</a>  <a id="744" href="Agda.Primitive.html#780" class="Primitive">lsuc</a>   <a id="751" class="Symbol">)</a>
                                        <a id="793" class="Keyword">renaming</a> <a id="802" class="Symbol">(</a> <a id="804" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="808" class="Symbol">to</a> <a id="811" class="Primitive">Type</a>   <a id="818" class="Symbol">)</a>
<a id="820" class="Keyword">open</a> <a id="825" class="Keyword">import</a> <a id="832" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>       <a id="860" class="Keyword">using</a>    <a id="869" class="Symbol">(</a> <a id="871" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a> <a id="875" class="Symbol">;</a>  <a id="878" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>   <a id="885" class="Symbol">)</a>
<a id="887" class="Keyword">open</a> <a id="892" class="Keyword">import</a> <a id="899" href="Data.Product.html" class="Module">Data.Product</a>                <a id="927" class="Keyword">using</a>    <a id="936" class="Symbol">(</a> <a id="938" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="942" class="Symbol">;</a>  <a id="945" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a>
                                                 <a id="996" class="Symbol">;</a> <a id="998" href="Data.Product.html#916" class="Function">Σ-syntax</a>      <a id="1012" class="Symbol">)</a>
<a id="1014" class="Keyword">open</a> <a id="1019" class="Keyword">import</a> <a id="1026" href="Function.Base.html" class="Module">Function.Base</a>               <a id="1054" class="Keyword">using</a>    <a id="1063" class="Symbol">(</a> <a id="1065" href="Function.Base.html#1031" class="Function Operator">_∘_</a>           <a id="1079" class="Symbol">)</a>
<a id="1081" class="Keyword">open</a> <a id="1086" class="Keyword">import</a> <a id="1093" href="Data.Empty.Polymorphic.html" class="Module">Data.Empty.Polymorphic</a>      <a id="1121" class="Keyword">using</a>    <a id="1130" class="Symbol">(</a> <a id="1132" href="Data.Empty.Polymorphic.html#331" class="Function">⊥</a>             <a id="1146" class="Symbol">)</a>
<a id="1148" class="Keyword">open</a> <a id="1153" class="Keyword">import</a> <a id="1160" href="Level.html" class="Module">Level</a>                       <a id="1188" class="Keyword">using</a>    <a id="1197" class="Symbol">(</a> <a id="1199" href="Agda.Primitive.html#597" class="Postulate">Level</a> <a id="1205" class="Symbol">;</a> <a id="1207" href="Level.html#400" class="Record">Lift</a>  <a id="1213" class="Symbol">)</a>
<a id="1215" class="Keyword">open</a> <a id="1220" class="Keyword">import</a> <a id="1227" href="Relation.Binary.html" class="Module">Relation.Binary</a>             <a id="1255" class="Keyword">using</a>    <a id="1264" class="Symbol">(</a> <a id="1266" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="1280" class="Symbol">;</a> <a id="1282" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="1289" class="Symbol">)</a>
<a id="1291" class="Keyword">open</a> <a id="1296" class="Keyword">import</a> <a id="1303" href="Relation.Binary.Definitions.html" class="Module">Relation.Binary.Definitions</a> <a id="1331" class="Keyword">using</a> <a id="1337" class="Symbol">(</a><a id="1338" href="Relation.Binary.Definitions.html#1339" class="Function">Reflexive</a> <a id="1348" class="Symbol">;</a> <a id="1350" href="Relation.Binary.Definitions.html#1498" class="Function">Symmetric</a> <a id="1360" class="Symbol">;</a> <a id="1362" href="Relation.Binary.Definitions.html#1978" class="Function">Transitive</a> <a id="1373" class="Symbol">)</a>


<a id="1377" class="Comment">-- Imports from agda-algebras --------------------------------------------------------------</a>
<a id="1470" class="Keyword">open</a> <a id="1475" class="Keyword">import</a> <a id="1482" href="Overture.Preliminaries.html" class="Module">Overture.Preliminaries</a>      <a id="1510" class="Keyword">using</a> <a id="1516" class="Symbol">(</a> <a id="1518" href="Overture.Preliminaries.html#4848" class="Function Operator">_⁻¹</a> <a id="1522" class="Symbol">;</a> <a id="1524" href="Overture.Preliminaries.html#5250" class="Function">𝑖𝑑</a> <a id="1527" class="Symbol">;</a> <a id="1529" href="Overture.Preliminaries.html#4144" class="Function Operator">∣_∣</a> <a id="1533" class="Symbol">;</a> <a id="1535" href="Overture.Preliminaries.html#4182" class="Function Operator">∥_∥</a><a id="1538" class="Symbol">)</a>
<a id="1540" class="Keyword">open</a> <a id="1545" class="Keyword">import</a> <a id="1552" href="Overture.Inverses.html" class="Module">Overture.Inverses</a>           <a id="1580" class="Keyword">using</a> <a id="1586" class="Symbol">(</a> <a id="1588" href="Overture.Inverses.html#3166" class="Function">IsSurjective</a> <a id="1601" class="Symbol">;</a> <a id="1603" href="Overture.Inverses.html#1710" class="Function">Inv</a> <a id="1607" class="Symbol">;</a> <a id="1609" href="Overture.Inverses.html#1873" class="Function">InvIsInv</a> <a id="1618" class="Symbol">;</a> <a id="1620" href="Overture.Inverses.html#1110" class="Datatype Operator">Image_∋_</a><a id="1628" class="Symbol">;</a> <a id="1630" href="Overture.Inverses.html#1158" class="InductiveConstructor">eq</a> <a id="1633" class="Symbol">)</a>
<a id="1635" class="Keyword">open</a> <a id="1640" class="Keyword">import</a> <a id="1647" href="Foundations.Welldefined.html" class="Module">Foundations.Welldefined</a>     <a id="1675" class="Keyword">using</a> <a id="1681" class="Symbol">(</a><a id="1682" href="Foundations.Welldefined.html#2798" class="Function">swelldef</a><a id="1690" class="Symbol">)</a>
<a id="1692" class="Keyword">open</a> <a id="1697" class="Keyword">import</a> <a id="1704" href="Algebras.Basic.html" class="Module">Algebras.Basic</a>              <a id="1732" class="Keyword">using</a> <a id="1738" class="Symbol">(</a> <a id="1740" href="Algebras.Basic.html#6389" class="Function">Algebra</a> <a id="1748" class="Symbol">;</a> <a id="1750" href="Algebras.Basic.html#9889" class="Function Operator">_̂_</a> <a id="1754" class="Symbol">)</a>
<a id="1756" class="Keyword">open</a> <a id="1761" class="Keyword">import</a> <a id="1768" href="Algebras.Products.html" class="Module">Algebras.Products</a>   <a id="1788" class="Symbol">{</a><a id="1789" class="Argument">𝑆</a> <a id="1791" class="Symbol">=</a> <a id="1793" href="Terms.Properties.html#432" class="Bound">𝑆</a><a id="1794" class="Symbol">}</a> <a id="1796" class="Keyword">using</a> <a id="1802" class="Symbol">(</a> <a id="1804" href="Algebras.Products.html#2952" class="Function">ov</a> <a id="1807" class="Symbol">)</a>
<a id="1809" class="Keyword">open</a> <a id="1814" class="Keyword">import</a> <a id="1821" href="Homomorphisms.Basic.html" class="Module">Homomorphisms.Basic</a> <a id="1841" class="Symbol">{</a><a id="1842" class="Argument">𝑆</a> <a id="1844" class="Symbol">=</a> <a id="1846" href="Terms.Properties.html#432" class="Bound">𝑆</a><a id="1847" class="Symbol">}</a> <a id="1849" class="Keyword">using</a> <a id="1855" class="Symbol">(</a> <a id="1857" href="Homomorphisms.Basic.html#3431" class="Function">hom</a> <a id="1861" class="Symbol">)</a>
<a id="1863" class="Keyword">open</a> <a id="1868" class="Keyword">import</a> <a id="1875" href="Terms.Basic.html" class="Module">Terms.Basic</a>         <a id="1895" class="Symbol">{</a><a id="1896" class="Argument">𝑆</a> <a id="1898" class="Symbol">=</a> <a id="1900" href="Terms.Properties.html#432" class="Bound">𝑆</a><a id="1901" class="Symbol">}</a>

<a id="1904" class="Keyword">private</a> <a id="1912" class="Keyword">variable</a> <a id="1921" href="Terms.Properties.html#1921" class="Generalizable">α</a> <a id="1923" href="Terms.Properties.html#1923" class="Generalizable">β</a> <a id="1925" href="Terms.Properties.html#1925" class="Generalizable">χ</a> <a id="1927" class="Symbol">:</a> <a id="1929" href="Agda.Primitive.html#597" class="Postulate">Level</a>

<a id="1936" class="Markup">\end{code}</a><a id="1946" class="Background">


#### The universal property

The term algebra `𝑻 X` is *absolutely free* (or *universal*, or *initial*) for algebras in the signature `𝑆`. That is, for every 𝑆-algebra `𝑨`, the following hold.

1. Every function from `𝑋` to `∣ 𝑨 ∣` lifts to a homomorphism from `𝑻 X` to `𝑨`.
2. The homomorphism that exists by item 1 is unique.

We now prove this in [Agda][], starting with the fact that every map from `X` to `∣ 𝑨 ∣` lifts to a map from `∣ 𝑻 X ∣` to `∣ 𝑨 ∣` in a natural way, by induction on the structure of the given term.

</a><a id="2476" class="Markup">\begin{code}</a>

<a id="2490" class="Keyword">private</a> <a id="2498" class="Keyword">variable</a> <a id="2507" href="Terms.Properties.html#2507" class="Generalizable">X</a> <a id="2509" class="Symbol">:</a> <a id="2511" href="Terms.Properties.html#811" class="Primitive">Type</a> <a id="2516" href="Terms.Properties.html#1925" class="Generalizable">χ</a>

<a id="free-lift"></a><a id="2519" href="Terms.Properties.html#2519" class="Function">free-lift</a> <a id="2529" class="Symbol">:</a> <a id="2531" class="Symbol">(</a><a id="2532" href="Terms.Properties.html#2532" class="Bound">𝑨</a> <a id="2534" class="Symbol">:</a> <a id="2536" href="Algebras.Basic.html#6389" class="Function">Algebra</a> <a id="2544" href="Terms.Properties.html#1921" class="Generalizable">α</a> <a id="2546" href="Terms.Properties.html#432" class="Bound">𝑆</a><a id="2547" class="Symbol">)(</a><a id="2549" href="Terms.Properties.html#2549" class="Bound">h</a> <a id="2551" class="Symbol">:</a> <a id="2553" href="Terms.Properties.html#2507" class="Generalizable">X</a> <a id="2555" class="Symbol">→</a> <a id="2557" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="2559" href="Terms.Properties.html#2532" class="Bound">𝑨</a> <a id="2561" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a><a id="2562" class="Symbol">)</a> <a id="2564" class="Symbol">→</a> <a id="2566" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="2568" href="Terms.Basic.html#3141" class="Function">𝑻</a> <a id="2570" href="Terms.Properties.html#2507" class="Generalizable">X</a> <a id="2572" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="2574" class="Symbol">→</a> <a id="2576" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="2578" href="Terms.Properties.html#2532" class="Bound">𝑨</a> <a id="2580" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a>
<a id="2582" href="Terms.Properties.html#2519" class="Function">free-lift</a> <a id="2592" class="Symbol">_</a> <a id="2594" href="Terms.Properties.html#2594" class="Bound">h</a> <a id="2596" class="Symbol">(</a><a id="2597" href="Terms.Basic.html#1938" class="InductiveConstructor">ℊ</a> <a id="2599" href="Terms.Properties.html#2599" class="Bound">x</a><a id="2600" class="Symbol">)</a> <a id="2602" class="Symbol">=</a> <a id="2604" href="Terms.Properties.html#2594" class="Bound">h</a> <a id="2606" href="Terms.Properties.html#2599" class="Bound">x</a>
<a id="2608" href="Terms.Properties.html#2519" class="Function">free-lift</a> <a id="2618" href="Terms.Properties.html#2618" class="Bound">𝑨</a> <a id="2620" href="Terms.Properties.html#2620" class="Bound">h</a> <a id="2622" class="Symbol">(</a><a id="2623" href="Terms.Basic.html#1980" class="InductiveConstructor">node</a> <a id="2628" href="Terms.Properties.html#2628" class="Bound">f</a> <a id="2630" href="Terms.Properties.html#2630" class="Bound">𝑡</a><a id="2631" class="Symbol">)</a> <a id="2633" class="Symbol">=</a> <a id="2635" class="Symbol">(</a><a id="2636" href="Terms.Properties.html#2628" class="Bound">f</a> <a id="2638" href="Algebras.Basic.html#9889" class="Function Operator">̂</a> <a id="2640" href="Terms.Properties.html#2618" class="Bound">𝑨</a><a id="2641" class="Symbol">)</a> <a id="2643" class="Symbol">(λ</a> <a id="2646" href="Terms.Properties.html#2646" class="Bound">i</a> <a id="2648" class="Symbol">→</a> <a id="2650" href="Terms.Properties.html#2519" class="Function">free-lift</a> <a id="2660" href="Terms.Properties.html#2618" class="Bound">𝑨</a> <a id="2662" href="Terms.Properties.html#2620" class="Bound">h</a> <a id="2664" class="Symbol">(</a><a id="2665" href="Terms.Properties.html#2630" class="Bound">𝑡</a> <a id="2667" href="Terms.Properties.html#2646" class="Bound">i</a><a id="2668" class="Symbol">))</a>

<a id="2672" class="Markup">\end{code}</a><a id="2682" class="Background">

Naturally, at the base step of the induction, when the term has the form `generator`
x, the free lift of `h` agrees with `h`.  For the inductive step, when the
given term has the form `node f 𝑡`, the free lift is defined as
follows: Assuming (the induction hypothesis) that we know the image of each
subterm `𝑡 i` under the free lift of `h`, define the free lift at the
full term by applying `f ̂ 𝑨` to the images of the subterms.

The free lift so defined is a homomorphism by construction. Indeed, here is the trivial proof.

</a><a id="3212" class="Markup">\begin{code}</a>

<a id="lift-hom"></a><a id="3226" href="Terms.Properties.html#3226" class="Function">lift-hom</a> <a id="3235" class="Symbol">:</a> <a id="3237" class="Symbol">(</a><a id="3238" href="Terms.Properties.html#3238" class="Bound">𝑨</a> <a id="3240" class="Symbol">:</a> <a id="3242" href="Algebras.Basic.html#6389" class="Function">Algebra</a> <a id="3250" href="Terms.Properties.html#1921" class="Generalizable">α</a> <a id="3252" href="Terms.Properties.html#432" class="Bound">𝑆</a><a id="3253" class="Symbol">)</a> <a id="3255" class="Symbol">→</a> <a id="3257" class="Symbol">(</a><a id="3258" href="Terms.Properties.html#2507" class="Generalizable">X</a> <a id="3260" class="Symbol">→</a> <a id="3262" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="3264" href="Terms.Properties.html#3238" class="Bound">𝑨</a> <a id="3266" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a><a id="3267" class="Symbol">)</a> <a id="3269" class="Symbol">→</a> <a id="3271" href="Homomorphisms.Basic.html#3431" class="Function">hom</a> <a id="3275" class="Symbol">(</a><a id="3276" href="Terms.Basic.html#3141" class="Function">𝑻</a> <a id="3278" href="Terms.Properties.html#2507" class="Generalizable">X</a><a id="3279" class="Symbol">)</a> <a id="3281" href="Terms.Properties.html#3238" class="Bound">𝑨</a>
<a id="3283" href="Terms.Properties.html#3226" class="Function">lift-hom</a> <a id="3292" href="Terms.Properties.html#3292" class="Bound">𝑨</a> <a id="3294" href="Terms.Properties.html#3294" class="Bound">h</a> <a id="3296" class="Symbol">=</a> <a id="3298" href="Terms.Properties.html#2519" class="Function">free-lift</a> <a id="3308" href="Terms.Properties.html#3292" class="Bound">𝑨</a> <a id="3310" href="Terms.Properties.html#3294" class="Bound">h</a> <a id="3312" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3314" class="Symbol">λ</a> <a id="3316" href="Terms.Properties.html#3316" class="Bound">f</a> <a id="3318" href="Terms.Properties.html#3318" class="Bound">a</a> <a id="3320" class="Symbol">→</a> <a id="3322" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">PE.cong</a> <a id="3330" class="Symbol">(</a><a id="3331" href="Terms.Properties.html#3316" class="Bound">f</a> <a id="3333" href="Algebras.Basic.html#9889" class="Function Operator">̂</a> <a id="3335" href="Terms.Properties.html#3292" class="Bound">𝑨</a><a id="3336" class="Symbol">)</a> <a id="3338" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="3344" class="Markup">\end{code}</a><a id="3354" class="Background">

Finally, we prove that the homomorphism is unique.  This requires `funext 𝓥 α` (i.e., *function extensionality* at universe levels `𝓥` and `α`) which we postulate by making it part of the premise in the following function type definition.

</a><a id="3596" class="Markup">\begin{code}</a>

<a id="3610" class="Keyword">open</a> <a id="3615" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">PE.≡-Reasoning</a>

<a id="free-unique"></a><a id="3631" href="Terms.Properties.html#3631" class="Function">free-unique</a> <a id="3643" class="Symbol">:</a> <a id="3645" href="Foundations.Welldefined.html#2798" class="Function">swelldef</a> <a id="3654" href="Terms.Properties.html#448" class="Bound">𝓥</a> <a id="3656" href="Terms.Properties.html#1921" class="Generalizable">α</a> <a id="3658" class="Symbol">→</a> <a id="3660" class="Symbol">(</a><a id="3661" href="Terms.Properties.html#3661" class="Bound">𝑨</a> <a id="3663" class="Symbol">:</a> <a id="3665" href="Algebras.Basic.html#6389" class="Function">Algebra</a> <a id="3673" href="Terms.Properties.html#1921" class="Generalizable">α</a> <a id="3675" href="Terms.Properties.html#432" class="Bound">𝑆</a><a id="3676" class="Symbol">)(</a><a id="3678" href="Terms.Properties.html#3678" class="Bound">g</a> <a id="3680" href="Terms.Properties.html#3680" class="Bound">h</a> <a id="3682" class="Symbol">:</a> <a id="3684" href="Homomorphisms.Basic.html#3431" class="Function">hom</a> <a id="3688" class="Symbol">(</a><a id="3689" href="Terms.Basic.html#3141" class="Function">𝑻</a> <a id="3691" href="Terms.Properties.html#2507" class="Generalizable">X</a><a id="3692" class="Symbol">)</a> <a id="3694" href="Terms.Properties.html#3661" class="Bound">𝑨</a><a id="3695" class="Symbol">)</a>
 <a id="3698" class="Symbol">→</a>            <a id="3711" class="Symbol">(∀</a> <a id="3714" href="Terms.Properties.html#3714" class="Bound">x</a> <a id="3716" class="Symbol">→</a> <a id="3718" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="3720" href="Terms.Properties.html#3678" class="Bound">g</a> <a id="3722" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="3724" class="Symbol">(</a><a id="3725" href="Terms.Basic.html#1938" class="InductiveConstructor">ℊ</a> <a id="3727" href="Terms.Properties.html#3714" class="Bound">x</a><a id="3728" class="Symbol">)</a> <a id="3730" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3732" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="3734" href="Terms.Properties.html#3680" class="Bound">h</a> <a id="3736" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="3738" class="Symbol">(</a><a id="3739" href="Terms.Basic.html#1938" class="InductiveConstructor">ℊ</a> <a id="3741" href="Terms.Properties.html#3714" class="Bound">x</a><a id="3742" class="Symbol">))</a>
              <a id="3759" class="Comment">----------------------------------------</a>
 <a id="3801" class="Symbol">→</a>            <a id="3814" class="Symbol">∀</a> <a id="3816" class="Symbol">(</a><a id="3817" href="Terms.Properties.html#3817" class="Bound">t</a> <a id="3819" class="Symbol">:</a> <a id="3821" href="Terms.Basic.html#1897" class="Datatype">Term</a> <a id="3826" href="Terms.Properties.html#2507" class="Generalizable">X</a><a id="3827" class="Symbol">)</a> <a id="3829" class="Symbol">→</a>  <a id="3832" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="3834" href="Terms.Properties.html#3678" class="Bound">g</a> <a id="3836" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="3838" href="Terms.Properties.html#3817" class="Bound">t</a> <a id="3840" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3842" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="3844" href="Terms.Properties.html#3680" class="Bound">h</a> <a id="3846" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="3848" href="Terms.Properties.html#3817" class="Bound">t</a>

<a id="3851" href="Terms.Properties.html#3631" class="Function">free-unique</a> <a id="3863" class="Symbol">_</a> <a id="3865" class="Symbol">_</a> <a id="3867" class="Symbol">_</a> <a id="3869" class="Symbol">_</a> <a id="3871" href="Terms.Properties.html#3871" class="Bound">p</a> <a id="3873" class="Symbol">(</a><a id="3874" href="Terms.Basic.html#1938" class="InductiveConstructor">ℊ</a> <a id="3876" href="Terms.Properties.html#3876" class="Bound">x</a><a id="3877" class="Symbol">)</a> <a id="3879" class="Symbol">=</a> <a id="3881" href="Terms.Properties.html#3871" class="Bound">p</a> <a id="3883" href="Terms.Properties.html#3876" class="Bound">x</a>

<a id="3886" href="Terms.Properties.html#3631" class="Function">free-unique</a> <a id="3898" href="Terms.Properties.html#3898" class="Bound">wd</a> <a id="3901" href="Terms.Properties.html#3901" class="Bound">𝑨</a> <a id="3903" href="Terms.Properties.html#3903" class="Bound">g</a> <a id="3905" href="Terms.Properties.html#3905" class="Bound">h</a> <a id="3907" href="Terms.Properties.html#3907" class="Bound">p</a> <a id="3909" class="Symbol">(</a><a id="3910" href="Terms.Basic.html#1980" class="InductiveConstructor">node</a> <a id="3915" href="Terms.Properties.html#3915" class="Bound">𝑓</a> <a id="3917" href="Terms.Properties.html#3917" class="Bound">𝑡</a><a id="3918" class="Symbol">)</a> <a id="3920" class="Symbol">=</a>

 <a id="3924" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="3926" href="Terms.Properties.html#3903" class="Bound">g</a> <a id="3928" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="3930" class="Symbol">(</a><a id="3931" href="Terms.Basic.html#1980" class="InductiveConstructor">node</a> <a id="3936" href="Terms.Properties.html#3915" class="Bound">𝑓</a> <a id="3938" href="Terms.Properties.html#3917" class="Bound">𝑡</a><a id="3939" class="Symbol">)</a>    <a id="3944" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="3947" href="Overture.Preliminaries.html#4182" class="Function Operator">∥</a> <a id="3949" href="Terms.Properties.html#3903" class="Bound">g</a> <a id="3951" href="Overture.Preliminaries.html#4182" class="Function Operator">∥</a> <a id="3953" href="Terms.Properties.html#3915" class="Bound">𝑓</a> <a id="3955" href="Terms.Properties.html#3917" class="Bound">𝑡</a> <a id="3957" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
 <a id="3960" class="Symbol">(</a><a id="3961" href="Terms.Properties.html#3915" class="Bound">𝑓</a> <a id="3963" href="Algebras.Basic.html#9889" class="Function Operator">̂</a> <a id="3965" href="Terms.Properties.html#3901" class="Bound">𝑨</a><a id="3966" class="Symbol">)(</a><a id="3968" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="3970" href="Terms.Properties.html#3903" class="Bound">g</a> <a id="3972" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="3974" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="3976" href="Terms.Properties.html#3917" class="Bound">𝑡</a><a id="3977" class="Symbol">)</a>  <a id="3980" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="3983" href="Terms.Properties.html#3898" class="Bound">wd</a> <a id="3986" class="Symbol">(</a><a id="3987" href="Terms.Properties.html#3915" class="Bound">𝑓</a> <a id="3989" href="Algebras.Basic.html#9889" class="Function Operator">̂</a> <a id="3991" href="Terms.Properties.html#3901" class="Bound">𝑨</a><a id="3992" class="Symbol">)(</a><a id="3994" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="3996" href="Terms.Properties.html#3903" class="Bound">g</a> <a id="3998" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="4000" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4002" href="Terms.Properties.html#3917" class="Bound">𝑡</a><a id="4003" class="Symbol">)(</a><a id="4005" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="4007" href="Terms.Properties.html#3905" class="Bound">h</a> <a id="4009" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="4011" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4013" href="Terms.Properties.html#3917" class="Bound">𝑡</a><a id="4014" class="Symbol">)(λ</a> <a id="4018" href="Terms.Properties.html#4018" class="Bound">i</a> <a id="4020" class="Symbol">→</a> <a id="4022" href="Terms.Properties.html#3631" class="Function">free-unique</a> <a id="4034" href="Terms.Properties.html#3898" class="Bound">wd</a> <a id="4037" href="Terms.Properties.html#3901" class="Bound">𝑨</a> <a id="4039" href="Terms.Properties.html#3903" class="Bound">g</a> <a id="4041" href="Terms.Properties.html#3905" class="Bound">h</a> <a id="4043" href="Terms.Properties.html#3907" class="Bound">p</a> <a id="4045" class="Symbol">(</a><a id="4046" href="Terms.Properties.html#3917" class="Bound">𝑡</a> <a id="4048" href="Terms.Properties.html#4018" class="Bound">i</a><a id="4049" class="Symbol">))</a> <a id="4052" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
 <a id="4055" class="Symbol">(</a><a id="4056" href="Terms.Properties.html#3915" class="Bound">𝑓</a> <a id="4058" href="Algebras.Basic.html#9889" class="Function Operator">̂</a> <a id="4060" href="Terms.Properties.html#3901" class="Bound">𝑨</a><a id="4061" class="Symbol">)(</a><a id="4063" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="4065" href="Terms.Properties.html#3905" class="Bound">h</a> <a id="4067" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="4069" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4071" href="Terms.Properties.html#3917" class="Bound">𝑡</a><a id="4072" class="Symbol">)</a>  <a id="4075" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="4078" class="Symbol">(</a><a id="4079" href="Overture.Preliminaries.html#4182" class="Function Operator">∥</a> <a id="4081" href="Terms.Properties.html#3905" class="Bound">h</a> <a id="4083" href="Overture.Preliminaries.html#4182" class="Function Operator">∥</a> <a id="4085" href="Terms.Properties.html#3915" class="Bound">𝑓</a> <a id="4087" href="Terms.Properties.html#3917" class="Bound">𝑡</a><a id="4088" class="Symbol">)</a><a id="4089" href="Overture.Preliminaries.html#4848" class="Function Operator">⁻¹</a> <a id="4092" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
 <a id="4095" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="4097" href="Terms.Properties.html#3905" class="Bound">h</a> <a id="4099" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="4101" class="Symbol">(</a><a id="4102" href="Terms.Basic.html#1980" class="InductiveConstructor">node</a> <a id="4107" href="Terms.Properties.html#3915" class="Bound">𝑓</a> <a id="4109" href="Terms.Properties.html#3917" class="Bound">𝑡</a><a id="4110" class="Symbol">)</a>    <a id="4115" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>

<a id="4118" class="Markup">\end{code}</a><a id="4128" class="Background">

Let&#39;s account for what we have proved thus far about the term algebra.  If we postulate a type `X : Type χ` (representing an arbitrary collection of variable symbols) such that for each `𝑆`-algebra `𝑨` there is a map from `X` to the domain of `𝑨`, then it follows that for every `𝑆`-algebra `𝑨` there is a homomorphism from `𝑻 X` to `∣ 𝑨 ∣` that &quot;agrees with the original map on `X`,&quot; by which we mean that for all `x : X` the lift evaluated at `ℊ x` is equal to the original function evaluated at `x`.

If we further assume that each of the mappings from `X` to `∣ 𝑨 ∣` is *surjective*, then the homomorphisms constructed with `free-lift` and `lift-hom` are *epimorphisms*, as we now prove.

</a><a id="4823" class="Markup">\begin{code}</a>

<a id="lift-of-epi-is-epi"></a><a id="4837" href="Terms.Properties.html#4837" class="Function">lift-of-epi-is-epi</a> <a id="4856" class="Symbol">:</a> <a id="4858" class="Symbol">(</a><a id="4859" href="Terms.Properties.html#4859" class="Bound">𝑨</a> <a id="4861" class="Symbol">:</a> <a id="4863" href="Algebras.Basic.html#6389" class="Function">Algebra</a> <a id="4871" href="Terms.Properties.html#1921" class="Generalizable">α</a> <a id="4873" href="Terms.Properties.html#432" class="Bound">𝑆</a><a id="4874" class="Symbol">){</a><a id="4876" href="Terms.Properties.html#4876" class="Bound">h₀</a> <a id="4879" class="Symbol">:</a> <a id="4881" href="Terms.Properties.html#2507" class="Generalizable">X</a> <a id="4883" class="Symbol">→</a> <a id="4885" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="4887" href="Terms.Properties.html#4859" class="Bound">𝑨</a> <a id="4889" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a><a id="4890" class="Symbol">}</a>
 <a id="4893" class="Symbol">→</a>                   <a id="4913" href="Overture.Inverses.html#3166" class="Function">IsSurjective</a> <a id="4926" href="Terms.Properties.html#4876" class="Bound">h₀</a> <a id="4929" class="Symbol">→</a> <a id="4931" href="Overture.Inverses.html#3166" class="Function">IsSurjective</a> <a id="4944" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="4946" href="Terms.Properties.html#3226" class="Function">lift-hom</a> <a id="4955" href="Terms.Properties.html#4859" class="Bound">𝑨</a> <a id="4957" href="Terms.Properties.html#4876" class="Bound">h₀</a> <a id="4960" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a>

<a id="4963" href="Terms.Properties.html#4837" class="Function">lift-of-epi-is-epi</a> <a id="4982" href="Terms.Properties.html#4982" class="Bound">𝑨</a> <a id="4984" class="Symbol">{</a><a id="4985" href="Terms.Properties.html#4985" class="Bound">h₀</a><a id="4987" class="Symbol">}</a> <a id="4989" href="Terms.Properties.html#4989" class="Bound">hE</a> <a id="4992" href="Terms.Properties.html#4992" class="Bound">y</a> <a id="4994" class="Symbol">=</a> <a id="4996" href="Terms.Properties.html#5099" class="Function">Goal</a>
 <a id="5002" class="Keyword">where</a>
 <a id="5009" href="Terms.Properties.html#5009" class="Function">h₀⁻¹y</a> <a id="5015" class="Symbol">=</a> <a id="5017" href="Overture.Inverses.html#1710" class="Function">Inv</a> <a id="5021" href="Terms.Properties.html#4985" class="Bound">h₀</a> <a id="5024" class="Symbol">(</a><a id="5025" href="Terms.Properties.html#4989" class="Bound">hE</a> <a id="5028" href="Terms.Properties.html#4992" class="Bound">y</a><a id="5029" class="Symbol">)</a>

 <a id="5033" href="Terms.Properties.html#5033" class="Function">η</a> <a id="5035" class="Symbol">:</a> <a id="5037" href="Terms.Properties.html#4992" class="Bound">y</a> <a id="5039" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5041" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="5043" href="Terms.Properties.html#3226" class="Function">lift-hom</a> <a id="5052" href="Terms.Properties.html#4982" class="Bound">𝑨</a> <a id="5054" href="Terms.Properties.html#4985" class="Bound">h₀</a> <a id="5057" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="5059" class="Symbol">(</a><a id="5060" href="Terms.Basic.html#1938" class="InductiveConstructor">ℊ</a> <a id="5062" href="Terms.Properties.html#5009" class="Function">h₀⁻¹y</a><a id="5067" class="Symbol">)</a>
 <a id="5070" href="Terms.Properties.html#5033" class="Function">η</a> <a id="5072" class="Symbol">=</a> <a id="5074" class="Symbol">(</a><a id="5075" href="Overture.Inverses.html#1873" class="Function">InvIsInv</a> <a id="5084" href="Terms.Properties.html#4985" class="Bound">h₀</a> <a id="5087" class="Symbol">(</a><a id="5088" href="Terms.Properties.html#4989" class="Bound">hE</a> <a id="5091" href="Terms.Properties.html#4992" class="Bound">y</a><a id="5092" class="Symbol">))</a><a id="5094" href="Overture.Preliminaries.html#4848" class="Function Operator">⁻¹</a>

 <a id="5099" href="Terms.Properties.html#5099" class="Function">Goal</a> <a id="5104" class="Symbol">:</a> <a id="5106" href="Overture.Inverses.html#1110" class="Datatype Operator">Image</a> <a id="5112" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="5114" href="Terms.Properties.html#3226" class="Function">lift-hom</a> <a id="5123" href="Terms.Properties.html#4982" class="Bound">𝑨</a> <a id="5125" href="Terms.Properties.html#4985" class="Bound">h₀</a> <a id="5128" href="Overture.Preliminaries.html#4144" class="Function Operator">∣</a> <a id="5130" href="Overture.Inverses.html#1110" class="Datatype Operator">∋</a> <a id="5132" href="Terms.Properties.html#4992" class="Bound">y</a>
 <a id="5135" href="Terms.Properties.html#5099" class="Function">Goal</a> <a id="5140" class="Symbol">=</a> <a id="5142" href="Overture.Inverses.html#1158" class="InductiveConstructor">eq</a> <a id="5145" class="Symbol">(</a><a id="5146" href="Terms.Basic.html#1938" class="InductiveConstructor">ℊ</a> <a id="5148" href="Terms.Properties.html#5009" class="Function">h₀⁻¹y</a><a id="5153" class="Symbol">)</a> <a id="5155" href="Terms.Properties.html#5033" class="Function">η</a>

<a id="5158" class="Markup">\end{code}</a><a id="5168" class="Background">

The `lift-hom` and `lift-of-epi-is-epi` types will be called to action when such epimorphisms are needed later (e.g., in the [Varieties][] module).


------------------------------

[the agda-algebras development team]: https://github.com/ualib/agda-algebras#the-agda-algebras-development-team

</a></pre></body></html>