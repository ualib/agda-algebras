---
layout: default
title : "Setoid.Terms.Basic module (The Agda Universal Algebra Library)"
date : "2021-09-18"
author: "agda-algebras development team"
---

#### <a id="basic-definitions">Basic definitions</a>

This is the [Setoid.Terms.Basic][] module of the [Agda Universal Algebra Library][].

<pre class="Agda">

<a id="314" class="Symbol">{-#</a> <a id="318" class="Keyword">OPTIONS</a> <a id="326" class="Pragma">--without-K</a> <a id="338" class="Pragma">--exact-split</a> <a id="352" class="Pragma">--safe</a> <a id="359" class="Symbol">#-}</a>

<a id="364" class="Keyword">open</a> <a id="369" class="Keyword">import</a> <a id="376" href="Overture.html" class="Module">Overture</a> <a id="385" class="Keyword">using</a> <a id="391" class="Symbol">(</a><a id="392" href="Overture.Signatures.html#648" class="Generalizable">𝓞</a> <a id="394" class="Symbol">;</a> <a id="396" href="Overture.Signatures.html#650" class="Generalizable">𝓥</a> <a id="398" class="Symbol">;</a> <a id="400" href="Overture.Signatures.html#3264" class="Function">Signature</a><a id="409" class="Symbol">)</a>

<a id="412" class="Keyword">module</a> <a id="419" href="Setoid.Terms.Basic.html" class="Module">Setoid.Terms.Basic</a> <a id="438" class="Symbol">{</a><a id="439" href="Setoid.Terms.Basic.html#439" class="Bound">𝑆</a> <a id="441" class="Symbol">:</a> <a id="443" href="Overture.Signatures.html#3264" class="Function">Signature</a> <a id="453" href="Overture.Signatures.html#648" class="Generalizable">𝓞</a> <a id="455" href="Overture.Signatures.html#650" class="Generalizable">𝓥</a><a id="456" class="Symbol">}</a> <a id="458" class="Keyword">where</a>

<a id="465" class="Comment">-- imports from Agda and the Agda Standard Library -------------------------------</a>
<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>         <a id="583" class="Keyword">using</a> <a id="589" class="Symbol">()</a> <a id="592" class="Keyword">renaming</a> <a id="601" class="Symbol">(</a> <a id="603" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="607" class="Symbol">to</a> <a id="610" class="Primitive">Type</a> <a id="615" class="Symbol">)</a>
<a id="617" class="Keyword">open</a> <a id="622" class="Keyword">import</a> <a id="629" href="Data.Empty.Polymorphic.html" class="Module">Data.Empty.Polymorphic</a> <a id="652" class="Keyword">using</a> <a id="658" class="Symbol">(</a> <a id="660" href="Data.Empty.Polymorphic.html#340" class="Function">⊥</a> <a id="662" class="Symbol">)</a>
<a id="664" class="Keyword">open</a> <a id="669" class="Keyword">import</a> <a id="676" href="Data.Product.html" class="Module">Data.Product</a>           <a id="699" class="Keyword">using</a> <a id="705" class="Symbol">(</a> <a id="707" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="711" class="Symbol">)</a>
<a id="713" class="Keyword">open</a> <a id="718" class="Keyword">import</a> <a id="725" href="Data.Sum.html" class="Module">Data.Sum</a>               <a id="748" class="Keyword">using</a> <a id="754" class="Symbol">(</a> <a id="756" href="Data.Sum.Base.html#625" class="Datatype Operator">_⊎_</a> <a id="760" class="Symbol">)</a>
                                   <a id="797" class="Keyword">renaming</a> <a id="806" class="Symbol">(</a> <a id="808" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="813" class="Symbol">to</a> <a id="816" class="InductiveConstructor">inl</a> <a id="820" class="Symbol">;</a> <a id="822" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="827" class="Symbol">to</a> <a id="830" class="InductiveConstructor">inr</a> <a id="834" class="Symbol">)</a>
<a id="836" class="Keyword">open</a> <a id="841" class="Keyword">import</a> <a id="848" href="Function.html" class="Module">Function</a>               <a id="871" class="Keyword">using</a> <a id="877" class="Symbol">(</a> <a id="879" href="Function.Bundles.html#2043" class="Record">Func</a> <a id="884" class="Symbol">)</a>
<a id="886" class="Keyword">open</a> <a id="891" class="Keyword">import</a> <a id="898" href="Level.html" class="Module">Level</a>                  <a id="921" class="Keyword">using</a> <a id="927" class="Symbol">(</a> <a id="929" href="Agda.Primitive.html#742" class="Postulate">Level</a> <a id="935" class="Symbol">;</a> <a id="937" href="Level.html#409" class="Record">Lift</a> <a id="942" class="Symbol">;</a> <a id="944" href="Agda.Primitive.html#961" class="Primitive Operator">_⊔_</a> <a id="948" class="Symbol">)</a>
<a id="950" class="Keyword">open</a> <a id="955" class="Keyword">import</a> <a id="962" href="Relation.Binary.html" class="Module">Relation.Binary</a>        <a id="985" class="Keyword">using</a> <a id="991" class="Symbol">(</a> <a id="993" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="1000" class="Symbol">;</a> <a id="1002" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a> <a id="1016" class="Symbol">)</a>
                                   <a id="1053" class="Keyword">using</a> <a id="1059" class="Symbol">(</a> <a id="1061" href="Relation.Binary.Definitions.html#1332" class="Function">Reflexive</a> <a id="1071" class="Symbol">;</a> <a id="1073" href="Relation.Binary.Definitions.html#1491" class="Function">Symmetric</a> <a id="1083" class="Symbol">;</a> <a id="1085" href="Relation.Binary.Definitions.html#2007" class="Function">Transitive</a> <a id="1096" class="Symbol">)</a>

<a id="1099" class="Keyword">open</a> <a id="1104" class="Keyword">import</a> <a id="1111" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1149" class="Symbol">as</a> <a id="1152" class="Module">≡</a> <a id="1154" class="Keyword">using</a> <a id="1160" class="Symbol">(</a> <a id="1162" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="1166" class="Symbol">)</a>

<a id="1169" class="Comment">-- Imports from the Agda Universal Algebra Library -------------------------------</a>
<a id="1252" class="Keyword">open</a> <a id="1257" class="Keyword">import</a> <a id="1264" href="Overture.html" class="Module">Overture</a> <a id="1273" class="Keyword">using</a> <a id="1279" class="Symbol">(</a> <a id="1281" href="Overture.Basic.html#4363" class="Function Operator">∥_∥</a> <a id="1285" class="Symbol">)</a>
<a id="1287" class="Keyword">open</a> <a id="1292" class="Keyword">import</a> <a id="1299" href="Setoid.Algebras.html" class="Module">Setoid.Algebras</a>  <a id="1316" class="Symbol">{</a><a id="1317" class="Argument">𝑆</a> <a id="1319" class="Symbol">=</a> <a id="1321" href="Setoid.Terms.Basic.html#439" class="Bound">𝑆</a><a id="1322" class="Symbol">}</a>  <a id="1325" class="Keyword">using</a> <a id="1331" class="Symbol">(</a> <a id="1333" href="Setoid.Algebras.Basic.html#2709" class="Record">Algebra</a> <a id="1341" class="Symbol">;</a> <a id="1343" href="Setoid.Algebras.Basic.html#1081" class="Function">ov</a> <a id="1346" class="Symbol">;</a> <a id="1348" href="Setoid.Algebras.Basic.html#3648" class="Function Operator">_̂_</a><a id="1351" class="Symbol">)</a>
<a id="1353" class="Keyword">open</a> <a id="1358" class="Keyword">import</a> <a id="1365" href="Base.Terms.html" class="Module">Base.Terms</a>       <a id="1382" class="Symbol">{</a><a id="1383" class="Argument">𝑆</a> <a id="1385" class="Symbol">=</a> <a id="1387" href="Setoid.Terms.Basic.html#439" class="Bound">𝑆</a><a id="1388" class="Symbol">}</a>  <a id="1391" class="Keyword">using</a> <a id="1397" class="Symbol">(</a> <a id="1399" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="1404" class="Symbol">)</a>

<a id="1407" class="Keyword">open</a> <a id="1412" href="Function.Bundles.html#2043" class="Module">Func</a> <a id="1417" class="Keyword">renaming</a> <a id="1426" class="Symbol">(</a> <a id="1428" href="Function.Bundles.html#2094" class="Field">to</a> <a id="1431" class="Symbol">to</a> <a id="1434" class="Field">_⟨$⟩_</a> <a id="1440" class="Symbol">)</a>
<a id="1442" class="Keyword">open</a> <a id="1447" href="Base.Terms.Basic.html#2087" class="Module">Term</a>

<a id="1453" class="Keyword">private</a> <a id="1461" class="Keyword">variable</a>
 <a id="1471" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a> <a id="1473" href="Setoid.Terms.Basic.html#1473" class="Generalizable">α</a> <a id="1475" href="Setoid.Terms.Basic.html#1475" class="Generalizable">ℓ</a> <a id="1477" class="Symbol">:</a> <a id="1479" href="Agda.Primitive.html#742" class="Postulate">Level</a>
 <a id="1486" href="Setoid.Terms.Basic.html#1486" class="Generalizable">X</a> <a id="1488" href="Setoid.Terms.Basic.html#1488" class="Generalizable">Y</a> <a id="1490" class="Symbol">:</a> <a id="1492" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="1497" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a>
</pre>

##### <a id="equality-of-terms">Equality of terms</a>

We take a different approach here, using Setoids instead of quotient types.
That is, we will define the collection of terms in a signature as a setoid
with a particular equality-of-terms relation, which we must define.
Ultimately we will use this to define the (absolutely free) term algebra
as a Algebra whose carrier is the setoid of terms.

<pre class="Agda">

<a id="1924" class="Keyword">module</a> <a id="1931" href="Setoid.Terms.Basic.html#1931" class="Module">_</a> <a id="1933" class="Symbol">{</a><a id="1934" href="Setoid.Terms.Basic.html#1934" class="Bound">X</a> <a id="1936" class="Symbol">:</a> <a id="1938" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="1943" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a> <a id="1945" class="Symbol">}</a> <a id="1947" class="Keyword">where</a>

 <a id="1955" class="Comment">-- Equality of terms as an inductive datatype</a>
 <a id="2002" class="Keyword">data</a> <a id="2007" href="Setoid.Terms.Basic.html#2007" class="Datatype Operator">_≐_</a> <a id="2011" class="Symbol">:</a> <a id="2013" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="2018" href="Setoid.Terms.Basic.html#1934" class="Bound">X</a> <a id="2020" class="Symbol">→</a> <a id="2022" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="2027" href="Setoid.Terms.Basic.html#1934" class="Bound">X</a> <a id="2029" class="Symbol">→</a> <a id="2031" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="2036" class="Symbol">(</a><a id="2037" href="Setoid.Algebras.Basic.html#1081" class="Function">ov</a> <a id="2040" href="Setoid.Terms.Basic.html#1943" class="Bound">χ</a><a id="2041" class="Symbol">)</a> <a id="2043" class="Keyword">where</a>
  <a id="2051" href="Setoid.Terms.Basic.html#2051" class="InductiveConstructor">rfl</a> <a id="2055" class="Symbol">:</a> <a id="2057" class="Symbol">{</a><a id="2058" href="Setoid.Terms.Basic.html#2058" class="Bound">x</a> <a id="2060" href="Setoid.Terms.Basic.html#2060" class="Bound">y</a> <a id="2062" class="Symbol">:</a> <a id="2064" href="Setoid.Terms.Basic.html#1934" class="Bound">X</a><a id="2065" class="Symbol">}</a> <a id="2067" class="Symbol">→</a> <a id="2069" href="Setoid.Terms.Basic.html#2058" class="Bound">x</a> <a id="2071" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2073" href="Setoid.Terms.Basic.html#2060" class="Bound">y</a> <a id="2075" class="Symbol">→</a> <a id="2077" class="Symbol">(</a><a id="2078" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="2080" href="Setoid.Terms.Basic.html#2058" class="Bound">x</a><a id="2081" class="Symbol">)</a> <a id="2083" href="Setoid.Terms.Basic.html#2007" class="Datatype Operator">≐</a> <a id="2085" class="Symbol">(</a><a id="2086" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="2088" href="Setoid.Terms.Basic.html#2060" class="Bound">y</a><a id="2089" class="Symbol">)</a>
  <a id="2093" href="Setoid.Terms.Basic.html#2093" class="InductiveConstructor">gnl</a> <a id="2097" class="Symbol">:</a> <a id="2099" class="Symbol">∀</a> <a id="2101" class="Symbol">{</a><a id="2102" href="Setoid.Terms.Basic.html#2102" class="Bound">f</a><a id="2103" class="Symbol">}{</a><a id="2105" href="Setoid.Terms.Basic.html#2105" class="Bound">s</a> <a id="2107" href="Setoid.Terms.Basic.html#2107" class="Bound">t</a> <a id="2109" class="Symbol">:</a> <a id="2111" href="Overture.Basic.html#4363" class="Function Operator">∥</a> <a id="2113" href="Setoid.Terms.Basic.html#439" class="Bound">𝑆</a> <a id="2115" href="Overture.Basic.html#4363" class="Function Operator">∥</a> <a id="2117" href="Setoid.Terms.Basic.html#2102" class="Bound">f</a> <a id="2119" class="Symbol">→</a> <a id="2121" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="2126" href="Setoid.Terms.Basic.html#1934" class="Bound">X</a><a id="2127" class="Symbol">}</a> <a id="2129" class="Symbol">→</a> <a id="2131" class="Symbol">(∀</a> <a id="2134" href="Setoid.Terms.Basic.html#2134" class="Bound">i</a> <a id="2136" class="Symbol">→</a> <a id="2138" class="Symbol">(</a><a id="2139" href="Setoid.Terms.Basic.html#2105" class="Bound">s</a> <a id="2141" href="Setoid.Terms.Basic.html#2134" class="Bound">i</a><a id="2142" class="Symbol">)</a> <a id="2144" href="Setoid.Terms.Basic.html#2007" class="Datatype Operator">≐</a> <a id="2146" class="Symbol">(</a><a id="2147" href="Setoid.Terms.Basic.html#2107" class="Bound">t</a> <a id="2149" href="Setoid.Terms.Basic.html#2134" class="Bound">i</a><a id="2150" class="Symbol">))</a> <a id="2153" class="Symbol">→</a> <a id="2155" class="Symbol">(</a><a id="2156" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="2161" href="Setoid.Terms.Basic.html#2102" class="Bound">f</a> <a id="2163" href="Setoid.Terms.Basic.html#2105" class="Bound">s</a><a id="2164" class="Symbol">)</a> <a id="2166" href="Setoid.Terms.Basic.html#2007" class="Datatype Operator">≐</a> <a id="2168" class="Symbol">(</a><a id="2169" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="2174" href="Setoid.Terms.Basic.html#2102" class="Bound">f</a> <a id="2176" href="Setoid.Terms.Basic.html#2107" class="Bound">t</a><a id="2177" class="Symbol">)</a>

 <a id="2181" class="Comment">-- Equality of terms is an equivalence relation</a>
 <a id="2230" class="Keyword">open</a> <a id="2235" href="Level.html" class="Module">Level</a>
 <a id="2242" href="Setoid.Terms.Basic.html#2242" class="Function">≐-isRefl</a> <a id="2251" class="Symbol">:</a> <a id="2253" href="Relation.Binary.Definitions.html#1332" class="Function">Reflexive</a> <a id="2263" href="Setoid.Terms.Basic.html#2007" class="Datatype Operator">_≐_</a>
 <a id="2268" href="Setoid.Terms.Basic.html#2242" class="Function">≐-isRefl</a> <a id="2277" class="Symbol">{</a><a id="2278" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="2280" class="Symbol">_}</a> <a id="2283" class="Symbol">=</a> <a id="2285" href="Setoid.Terms.Basic.html#2051" class="InductiveConstructor">rfl</a> <a id="2289" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">≡.refl</a>
 <a id="2297" href="Setoid.Terms.Basic.html#2242" class="Function">≐-isRefl</a> <a id="2306" class="Symbol">{</a><a id="2307" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="2312" class="Symbol">_</a> <a id="2314" class="Symbol">_}</a> <a id="2317" class="Symbol">=</a> <a id="2319" href="Setoid.Terms.Basic.html#2093" class="InductiveConstructor">gnl</a> <a id="2323" class="Symbol">(λ</a> <a id="2326" href="Setoid.Terms.Basic.html#2326" class="Bound">_</a> <a id="2328" class="Symbol">→</a> <a id="2330" href="Setoid.Terms.Basic.html#2242" class="Function">≐-isRefl</a><a id="2338" class="Symbol">)</a>

 <a id="2342" href="Setoid.Terms.Basic.html#2342" class="Function">≐-isSym</a> <a id="2350" class="Symbol">:</a> <a id="2352" href="Relation.Binary.Definitions.html#1491" class="Function">Symmetric</a> <a id="2362" href="Setoid.Terms.Basic.html#2007" class="Datatype Operator">_≐_</a>
 <a id="2367" href="Setoid.Terms.Basic.html#2342" class="Function">≐-isSym</a> <a id="2375" class="Symbol">(</a><a id="2376" href="Setoid.Terms.Basic.html#2051" class="InductiveConstructor">rfl</a> <a id="2380" href="Setoid.Terms.Basic.html#2380" class="Bound">x</a><a id="2381" class="Symbol">)</a> <a id="2383" class="Symbol">=</a> <a id="2385" href="Setoid.Terms.Basic.html#2051" class="InductiveConstructor">rfl</a> <a id="2389" class="Symbol">(</a><a id="2390" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">≡.sym</a> <a id="2396" href="Setoid.Terms.Basic.html#2380" class="Bound">x</a><a id="2397" class="Symbol">)</a>
 <a id="2400" href="Setoid.Terms.Basic.html#2342" class="Function">≐-isSym</a> <a id="2408" class="Symbol">(</a><a id="2409" href="Setoid.Terms.Basic.html#2093" class="InductiveConstructor">gnl</a> <a id="2413" href="Setoid.Terms.Basic.html#2413" class="Bound">x</a><a id="2414" class="Symbol">)</a> <a id="2416" class="Symbol">=</a> <a id="2418" href="Setoid.Terms.Basic.html#2093" class="InductiveConstructor">gnl</a> <a id="2422" class="Symbol">(λ</a> <a id="2425" href="Setoid.Terms.Basic.html#2425" class="Bound">i</a> <a id="2427" class="Symbol">→</a> <a id="2429" href="Setoid.Terms.Basic.html#2342" class="Function">≐-isSym</a> <a id="2437" class="Symbol">(</a><a id="2438" href="Setoid.Terms.Basic.html#2413" class="Bound">x</a> <a id="2440" href="Setoid.Terms.Basic.html#2425" class="Bound">i</a><a id="2441" class="Symbol">))</a>

 <a id="2446" href="Setoid.Terms.Basic.html#2446" class="Function">≐-isTrans</a> <a id="2456" class="Symbol">:</a> <a id="2458" href="Relation.Binary.Definitions.html#2007" class="Function">Transitive</a> <a id="2469" href="Setoid.Terms.Basic.html#2007" class="Datatype Operator">_≐_</a>
 <a id="2474" href="Setoid.Terms.Basic.html#2446" class="Function">≐-isTrans</a> <a id="2484" class="Symbol">(</a><a id="2485" href="Setoid.Terms.Basic.html#2051" class="InductiveConstructor">rfl</a> <a id="2489" href="Setoid.Terms.Basic.html#2489" class="Bound">x</a><a id="2490" class="Symbol">)</a> <a id="2492" class="Symbol">(</a><a id="2493" href="Setoid.Terms.Basic.html#2051" class="InductiveConstructor">rfl</a> <a id="2497" href="Setoid.Terms.Basic.html#2497" class="Bound">y</a><a id="2498" class="Symbol">)</a> <a id="2500" class="Symbol">=</a> <a id="2502" href="Setoid.Terms.Basic.html#2051" class="InductiveConstructor">rfl</a> <a id="2506" class="Symbol">(</a><a id="2507" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">≡.trans</a> <a id="2515" href="Setoid.Terms.Basic.html#2489" class="Bound">x</a> <a id="2517" href="Setoid.Terms.Basic.html#2497" class="Bound">y</a><a id="2518" class="Symbol">)</a>
 <a id="2521" href="Setoid.Terms.Basic.html#2446" class="Function">≐-isTrans</a> <a id="2531" class="Symbol">(</a><a id="2532" href="Setoid.Terms.Basic.html#2093" class="InductiveConstructor">gnl</a> <a id="2536" href="Setoid.Terms.Basic.html#2536" class="Bound">x</a><a id="2537" class="Symbol">)</a> <a id="2539" class="Symbol">(</a><a id="2540" href="Setoid.Terms.Basic.html#2093" class="InductiveConstructor">gnl</a> <a id="2544" href="Setoid.Terms.Basic.html#2544" class="Bound">y</a><a id="2545" class="Symbol">)</a> <a id="2547" class="Symbol">=</a> <a id="2549" href="Setoid.Terms.Basic.html#2093" class="InductiveConstructor">gnl</a> <a id="2553" class="Symbol">(λ</a> <a id="2556" href="Setoid.Terms.Basic.html#2556" class="Bound">i</a> <a id="2558" class="Symbol">→</a> <a id="2560" href="Setoid.Terms.Basic.html#2446" class="Function">≐-isTrans</a> <a id="2570" class="Symbol">(</a><a id="2571" href="Setoid.Terms.Basic.html#2536" class="Bound">x</a> <a id="2573" href="Setoid.Terms.Basic.html#2556" class="Bound">i</a><a id="2574" class="Symbol">)</a> <a id="2576" class="Symbol">(</a><a id="2577" href="Setoid.Terms.Basic.html#2544" class="Bound">y</a> <a id="2579" href="Setoid.Terms.Basic.html#2556" class="Bound">i</a><a id="2580" class="Symbol">))</a>

 <a id="2585" href="Setoid.Terms.Basic.html#2585" class="Function">≐-isEquiv</a> <a id="2595" class="Symbol">:</a> <a id="2597" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a> <a id="2611" href="Setoid.Terms.Basic.html#2007" class="Datatype Operator">_≐_</a>
 <a id="2616" href="Setoid.Terms.Basic.html#2585" class="Function">≐-isEquiv</a> <a id="2626" class="Symbol">=</a> <a id="2628" class="Keyword">record</a> <a id="2635" class="Symbol">{</a> <a id="2637" href="Relation.Binary.Structures.html#1596" class="Field">refl</a> <a id="2642" class="Symbol">=</a> <a id="2644" href="Setoid.Terms.Basic.html#2242" class="Function">≐-isRefl</a> <a id="2653" class="Symbol">;</a> <a id="2655" href="Relation.Binary.Structures.html#1622" class="Field">sym</a> <a id="2659" class="Symbol">=</a> <a id="2661" href="Setoid.Terms.Basic.html#2342" class="Function">≐-isSym</a> <a id="2669" class="Symbol">;</a> <a id="2671" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="2677" class="Symbol">=</a> <a id="2679" href="Setoid.Terms.Basic.html#2446" class="Function">≐-isTrans</a> <a id="2689" class="Symbol">}</a>

<a id="TermSetoid"></a><a id="2692" href="Setoid.Terms.Basic.html#2692" class="Function">TermSetoid</a> <a id="2703" class="Symbol">:</a> <a id="2705" class="Symbol">(</a><a id="2706" href="Setoid.Terms.Basic.html#2706" class="Bound">X</a> <a id="2708" class="Symbol">:</a> <a id="2710" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="2715" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a><a id="2716" class="Symbol">)</a> <a id="2718" class="Symbol">→</a> <a id="2720" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="2727" class="Symbol">(</a><a id="2728" href="Setoid.Algebras.Basic.html#1081" class="Function">ov</a> <a id="2731" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a><a id="2732" class="Symbol">)</a> <a id="2734" class="Symbol">(</a><a id="2735" href="Setoid.Algebras.Basic.html#1081" class="Function">ov</a> <a id="2738" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a><a id="2739" class="Symbol">)</a>
<a id="2741" href="Setoid.Terms.Basic.html#2692" class="Function">TermSetoid</a> <a id="2752" href="Setoid.Terms.Basic.html#2752" class="Bound">X</a> <a id="2754" class="Symbol">=</a> <a id="2756" class="Keyword">record</a> <a id="2763" class="Symbol">{</a> <a id="2765" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="2773" class="Symbol">=</a> <a id="2775" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="2780" href="Setoid.Terms.Basic.html#2752" class="Bound">X</a> <a id="2782" class="Symbol">;</a> <a id="2784" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_≈_</a> <a id="2788" class="Symbol">=</a> <a id="2790" href="Setoid.Terms.Basic.html#2007" class="Datatype Operator">_≐_</a> <a id="2794" class="Symbol">;</a> <a id="2796" href="Relation.Binary.Bundles.html#1218" class="Field">isEquivalence</a> <a id="2810" class="Symbol">=</a> <a id="2812" href="Setoid.Terms.Basic.html#2585" class="Function">≐-isEquiv</a> <a id="2822" class="Symbol">}</a>

<a id="2825" class="Keyword">open</a> <a id="2830" href="Setoid.Algebras.Basic.html#2709" class="Module">Algebra</a>

<a id="2839" class="Comment">-- The Term Algebra</a>
<a id="𝑻"></a><a id="2859" href="Setoid.Terms.Basic.html#2859" class="Function">𝑻</a> <a id="2861" class="Symbol">:</a> <a id="2863" class="Symbol">(</a><a id="2864" href="Setoid.Terms.Basic.html#2864" class="Bound">X</a> <a id="2866" class="Symbol">:</a> <a id="2868" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="2873" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a><a id="2874" class="Symbol">)</a> <a id="2876" class="Symbol">→</a> <a id="2878" href="Setoid.Algebras.Basic.html#2709" class="Record">Algebra</a> <a id="2886" class="Symbol">(</a><a id="2887" href="Setoid.Algebras.Basic.html#1081" class="Function">ov</a> <a id="2890" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a><a id="2891" class="Symbol">)</a> <a id="2893" class="Symbol">(</a><a id="2894" href="Setoid.Algebras.Basic.html#1081" class="Function">ov</a> <a id="2897" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a><a id="2898" class="Symbol">)</a>
<a id="2900" href="Setoid.Algebras.Basic.html#2766" class="Field">Domain</a> <a id="2907" class="Symbol">(</a><a id="2908" href="Setoid.Terms.Basic.html#2859" class="Function">𝑻</a> <a id="2910" href="Setoid.Terms.Basic.html#2910" class="Bound">X</a><a id="2911" class="Symbol">)</a> <a id="2913" class="Symbol">=</a> <a id="2915" href="Setoid.Terms.Basic.html#2692" class="Function">TermSetoid</a> <a id="2926" href="Setoid.Terms.Basic.html#2910" class="Bound">X</a>
<a id="2928" href="Setoid.Algebras.Basic.html#2788" class="Field">Interp</a> <a id="2935" class="Symbol">(</a><a id="2936" href="Setoid.Terms.Basic.html#2859" class="Function">𝑻</a> <a id="2938" href="Setoid.Terms.Basic.html#2938" class="Bound">X</a><a id="2939" class="Symbol">)</a> <a id="2941" href="Setoid.Terms.Basic.html#1434" class="Field Operator">⟨$⟩</a> <a id="2945" class="Symbol">(</a><a id="2946" href="Setoid.Terms.Basic.html#2946" class="Bound">f</a> <a id="2948" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2950" href="Setoid.Terms.Basic.html#2950" class="Bound">ts</a><a id="2952" class="Symbol">)</a> <a id="2954" class="Symbol">=</a> <a id="2956" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="2961" href="Setoid.Terms.Basic.html#2946" class="Bound">f</a> <a id="2963" href="Setoid.Terms.Basic.html#2950" class="Bound">ts</a>
<a id="2966" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="2971" class="Symbol">(</a><a id="2972" href="Setoid.Algebras.Basic.html#2788" class="Field">Interp</a> <a id="2979" class="Symbol">(</a><a id="2980" href="Setoid.Terms.Basic.html#2859" class="Function">𝑻</a> <a id="2982" href="Setoid.Terms.Basic.html#2982" class="Bound">X</a><a id="2983" class="Symbol">))</a> <a id="2986" class="Symbol">(</a><a id="2987" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">≡.refl</a> <a id="2994" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2996" href="Setoid.Terms.Basic.html#2996" class="Bound">ss≐ts</a><a id="3001" class="Symbol">)</a> <a id="3003" class="Symbol">=</a> <a id="3005" href="Setoid.Terms.Basic.html#2093" class="InductiveConstructor">gnl</a> <a id="3009" href="Setoid.Terms.Basic.html#2996" class="Bound">ss≐ts</a>
</pre>


##### <a id="interpretation-of-terms-in-setoid-algebras">Interpretation of terms in setoid algebras</a>

The approach to terms and their interpretation in this module was inspired by
[Andreas Abel's formal proof of Birkhoff's completeness theorem](http://www.cse.chalmers.se/~abela/agda/MultiSortedAlgebra.pdf).

A substitution from `Δ` to `Γ` associates a term in `Γ` with each variable in `Δ`.

<pre class="Agda">

<a id="3439" class="Comment">-- Parallel substitutions.</a>
<a id="Sub"></a><a id="3466" href="Setoid.Terms.Basic.html#3466" class="Function">Sub</a> <a id="3470" class="Symbol">:</a> <a id="3472" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="3477" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a> <a id="3479" class="Symbol">→</a> <a id="3481" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="3486" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a> <a id="3488" class="Symbol">→</a> <a id="3490" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="3495" class="Symbol">(</a><a id="3496" href="Setoid.Algebras.Basic.html#1081" class="Function">ov</a> <a id="3499" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a><a id="3500" class="Symbol">)</a>
<a id="3502" href="Setoid.Terms.Basic.html#3466" class="Function">Sub</a> <a id="3506" href="Setoid.Terms.Basic.html#3506" class="Bound">X</a> <a id="3508" href="Setoid.Terms.Basic.html#3508" class="Bound">Y</a> <a id="3510" class="Symbol">=</a> <a id="3512" class="Symbol">(</a><a id="3513" href="Setoid.Terms.Basic.html#3513" class="Bound">y</a> <a id="3515" class="Symbol">:</a> <a id="3517" href="Setoid.Terms.Basic.html#3508" class="Bound">Y</a><a id="3518" class="Symbol">)</a> <a id="3520" class="Symbol">→</a> <a id="3522" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="3527" href="Setoid.Terms.Basic.html#3506" class="Bound">X</a>

<a id="3530" class="Comment">-- Application of a substitution.</a>
<a id="_[_]"></a><a id="3564" href="Setoid.Terms.Basic.html#3564" class="Function Operator">_[_]</a> <a id="3569" class="Symbol">:</a> <a id="3571" class="Symbol">(</a><a id="3572" href="Setoid.Terms.Basic.html#3572" class="Bound">t</a> <a id="3574" class="Symbol">:</a> <a id="3576" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="3581" href="Setoid.Terms.Basic.html#1488" class="Generalizable">Y</a><a id="3582" class="Symbol">)</a> <a id="3584" class="Symbol">(</a><a id="3585" href="Setoid.Terms.Basic.html#3585" class="Bound">σ</a> <a id="3587" class="Symbol">:</a> <a id="3589" href="Setoid.Terms.Basic.html#3466" class="Function">Sub</a> <a id="3593" href="Setoid.Terms.Basic.html#1486" class="Generalizable">X</a> <a id="3595" href="Setoid.Terms.Basic.html#1488" class="Generalizable">Y</a><a id="3596" class="Symbol">)</a> <a id="3598" class="Symbol">→</a> <a id="3600" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="3605" href="Setoid.Terms.Basic.html#1486" class="Generalizable">X</a>
<a id="3607" class="Symbol">(</a><a id="3608" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="3610" href="Setoid.Terms.Basic.html#3610" class="Bound">x</a><a id="3611" class="Symbol">)</a> <a id="3613" href="Setoid.Terms.Basic.html#3564" class="Function Operator">[</a> <a id="3615" href="Setoid.Terms.Basic.html#3615" class="Bound">σ</a> <a id="3617" href="Setoid.Terms.Basic.html#3564" class="Function Operator">]</a> <a id="3619" class="Symbol">=</a> <a id="3621" href="Setoid.Terms.Basic.html#3615" class="Bound">σ</a> <a id="3623" href="Setoid.Terms.Basic.html#3610" class="Bound">x</a>
<a id="3625" class="Symbol">(</a><a id="3626" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="3631" href="Setoid.Terms.Basic.html#3631" class="Bound">f</a> <a id="3633" href="Setoid.Terms.Basic.html#3633" class="Bound">ts</a><a id="3635" class="Symbol">)</a> <a id="3637" href="Setoid.Terms.Basic.html#3564" class="Function Operator">[</a> <a id="3639" href="Setoid.Terms.Basic.html#3639" class="Bound">σ</a> <a id="3641" href="Setoid.Terms.Basic.html#3564" class="Function Operator">]</a> <a id="3643" class="Symbol">=</a> <a id="3645" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="3650" href="Setoid.Terms.Basic.html#3631" class="Bound">f</a> <a id="3652" class="Symbol">(λ</a> <a id="3655" href="Setoid.Terms.Basic.html#3655" class="Bound">i</a> <a id="3657" class="Symbol">→</a> <a id="3659" href="Setoid.Terms.Basic.html#3633" class="Bound">ts</a> <a id="3662" href="Setoid.Terms.Basic.html#3655" class="Bound">i</a> <a id="3664" href="Setoid.Terms.Basic.html#3564" class="Function Operator">[</a> <a id="3666" href="Setoid.Terms.Basic.html#3639" class="Bound">σ</a> <a id="3668" href="Setoid.Terms.Basic.html#3564" class="Function Operator">]</a><a id="3669" class="Symbol">)</a>

</pre>

An environment for `Γ` maps each variable `x : Γ` to an element of `A`, and equality of environments is defined pointwise.

<pre class="Agda">

<a id="3822" class="Keyword">module</a> <a id="Environment"></a><a id="3829" href="Setoid.Terms.Basic.html#3829" class="Module">Environment</a> <a id="3841" class="Symbol">(</a><a id="3842" href="Setoid.Terms.Basic.html#3842" class="Bound">𝑨</a> <a id="3844" class="Symbol">:</a> <a id="3846" href="Setoid.Algebras.Basic.html#2709" class="Record">Algebra</a> <a id="3854" href="Setoid.Terms.Basic.html#1473" class="Generalizable">α</a> <a id="3856" href="Setoid.Terms.Basic.html#1475" class="Generalizable">ℓ</a><a id="3857" class="Symbol">)</a> <a id="3859" class="Keyword">where</a>
 <a id="3866" class="Keyword">open</a> <a id="3871" href="Setoid.Algebras.Basic.html#2709" class="Module">Algebra</a> <a id="3879" href="Setoid.Terms.Basic.html#3842" class="Bound">𝑨</a>  <a id="3882" class="Keyword">renaming</a><a id="3890" class="Symbol">(</a> <a id="3892" href="Setoid.Algebras.Basic.html#2766" class="Field">Domain</a> <a id="3899" class="Symbol">to</a> <a id="3902" class="Field">A</a> <a id="3904" class="Symbol">;</a> <a id="3906" href="Setoid.Algebras.Basic.html#2788" class="Field">Interp</a>  <a id="3914" class="Symbol">to</a> <a id="3917" class="Field">InterpA</a> <a id="3925" class="Symbol">)</a>  <a id="3928" class="Keyword">using</a><a id="3933" class="Symbol">()</a>
 <a id="3937" class="Keyword">open</a> <a id="3942" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="3949" href="Setoid.Terms.Basic.html#3902" class="Field">A</a>   <a id="3953" class="Keyword">renaming</a><a id="3961" class="Symbol">(</a> <a id="3963" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_≈_</a> <a id="3967" class="Symbol">to</a> <a id="3970" class="Field Operator">_≈ₐ_</a> <a id="3975" class="Symbol">;</a> <a id="3977" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="3985" class="Symbol">to</a> <a id="3988" class="Field">∣A∣</a> <a id="3992" class="Symbol">)</a>      <a id="3999" class="Keyword">using</a><a id="4004" class="Symbol">(</a> <a id="4006" href="Relation.Binary.Structures.html#1596" class="Function">refl</a> <a id="4011" class="Symbol">;</a> <a id="4013" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="4017" class="Symbol">;</a> <a id="4019" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="4025" class="Symbol">)</a>

 <a id="Environment.Env"></a><a id="4029" href="Setoid.Terms.Basic.html#4029" class="Function">Env</a> <a id="4033" class="Symbol">:</a> <a id="4035" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="4040" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a> <a id="4042" class="Symbol">→</a> <a id="4044" href="Relation.Binary.Bundles.html#1095" class="Record">Setoid</a> <a id="4051" class="Symbol">_</a> <a id="4053" class="Symbol">_</a>
 <a id="4056" href="Setoid.Terms.Basic.html#4029" class="Function">Env</a> <a id="4060" href="Setoid.Terms.Basic.html#4060" class="Bound">X</a> <a id="4062" class="Symbol">=</a> <a id="4064" class="Keyword">record</a>  <a id="4072" class="Symbol">{</a> <a id="4074" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="4082" class="Symbol">=</a> <a id="4084" href="Setoid.Terms.Basic.html#4060" class="Bound">X</a> <a id="4086" class="Symbol">→</a> <a id="4088" href="Setoid.Terms.Basic.html#3988" class="Function">∣A∣</a>
                 <a id="4109" class="Symbol">;</a> <a id="4111" href="Relation.Binary.Bundles.html#1184" class="Field Operator">_≈_</a> <a id="4115" class="Symbol">=</a> <a id="4117" class="Symbol">λ</a> <a id="4119" href="Setoid.Terms.Basic.html#4119" class="Bound">ρ</a> <a id="4121" href="Setoid.Terms.Basic.html#4121" class="Bound">ρ&#39;</a> <a id="4124" class="Symbol">→</a> <a id="4126" class="Symbol">(</a><a id="4127" href="Setoid.Terms.Basic.html#4127" class="Bound">x</a> <a id="4129" class="Symbol">:</a> <a id="4131" href="Setoid.Terms.Basic.html#4060" class="Bound">X</a><a id="4132" class="Symbol">)</a> <a id="4134" class="Symbol">→</a> <a id="4136" href="Setoid.Terms.Basic.html#4119" class="Bound">ρ</a> <a id="4138" href="Setoid.Terms.Basic.html#4127" class="Bound">x</a> <a id="4140" href="Setoid.Terms.Basic.html#3970" class="Function Operator">≈ₐ</a> <a id="4143" href="Setoid.Terms.Basic.html#4121" class="Bound">ρ&#39;</a> <a id="4146" href="Setoid.Terms.Basic.html#4127" class="Bound">x</a>
                 <a id="4165" class="Symbol">;</a> <a id="4167" href="Relation.Binary.Bundles.html#1218" class="Field">isEquivalence</a> <a id="4181" class="Symbol">=</a> <a id="4183" class="Keyword">record</a>  <a id="4191" class="Symbol">{</a> <a id="4193" href="Relation.Binary.Structures.html#1596" class="Field">refl</a> <a id="4198" class="Symbol">=</a> <a id="4200" class="Symbol">λ</a> <a id="4202" href="Setoid.Terms.Basic.html#4202" class="Bound">_</a> <a id="4204" class="Symbol">→</a> <a id="4206" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
                                           <a id="4254" class="Symbol">;</a> <a id="4256" href="Relation.Binary.Structures.html#1622" class="Field">sym</a> <a id="4260" class="Symbol">=</a> <a id="4262" class="Symbol">λ</a> <a id="4264" href="Setoid.Terms.Basic.html#4264" class="Bound">h</a> <a id="4266" href="Setoid.Terms.Basic.html#4266" class="Bound">x</a> <a id="4268" class="Symbol">→</a> <a id="4270" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="4274" class="Symbol">(</a><a id="4275" href="Setoid.Terms.Basic.html#4264" class="Bound">h</a> <a id="4277" href="Setoid.Terms.Basic.html#4266" class="Bound">x</a><a id="4278" class="Symbol">)</a>
                                           <a id="4323" class="Symbol">;</a> <a id="4325" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="4331" class="Symbol">=</a> <a id="4333" class="Symbol">λ</a> <a id="4335" href="Setoid.Terms.Basic.html#4335" class="Bound">g</a> <a id="4337" href="Setoid.Terms.Basic.html#4337" class="Bound">h</a> <a id="4339" href="Setoid.Terms.Basic.html#4339" class="Bound">x</a> <a id="4341" class="Symbol">→</a> <a id="4343" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="4349" class="Symbol">(</a><a id="4350" href="Setoid.Terms.Basic.html#4335" class="Bound">g</a> <a id="4352" href="Setoid.Terms.Basic.html#4339" class="Bound">x</a><a id="4353" class="Symbol">)</a> <a id="4355" class="Symbol">(</a><a id="4356" href="Setoid.Terms.Basic.html#4337" class="Bound">h</a> <a id="4358" href="Setoid.Terms.Basic.html#4339" class="Bound">x</a><a id="4359" class="Symbol">)</a>
                                           <a id="4404" class="Symbol">}</a>
                 <a id="4423" class="Symbol">}</a>

 <a id="4427" class="Keyword">open</a> <a id="4432" href="Setoid.Algebras.Basic.html#2709" class="Module">Algebra</a> <a id="4440" class="Keyword">using</a> <a id="4446" class="Symbol">(</a> <a id="4448" href="Setoid.Algebras.Basic.html#2766" class="Field">Domain</a> <a id="4455" class="Symbol">;</a> <a id="4457" href="Setoid.Algebras.Basic.html#2788" class="Field">Interp</a> <a id="4464" class="Symbol">)</a>

 <a id="Environment.EnvAlgebra"></a><a id="4468" href="Setoid.Terms.Basic.html#4468" class="Function">EnvAlgebra</a> <a id="4479" class="Symbol">:</a> <a id="4481" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="4486" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a> <a id="4488" class="Symbol">→</a> <a id="4490" href="Setoid.Algebras.Basic.html#2709" class="Record">Algebra</a> <a id="4498" class="Symbol">(</a><a id="4499" href="Setoid.Terms.Basic.html#3854" class="Bound">α</a> <a id="4501" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="4503" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a><a id="4504" class="Symbol">)</a> <a id="4506" class="Symbol">(</a><a id="4507" href="Setoid.Terms.Basic.html#3856" class="Bound">ℓ</a> <a id="4509" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="4511" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a><a id="4512" class="Symbol">)</a>
 <a id="4515" href="Setoid.Algebras.Basic.html#2766" class="Field">Domain</a> <a id="4522" class="Symbol">(</a><a id="4523" href="Setoid.Terms.Basic.html#4468" class="Function">EnvAlgebra</a> <a id="4534" href="Setoid.Terms.Basic.html#4534" class="Bound">X</a><a id="4535" class="Symbol">)</a> <a id="4537" class="Symbol">=</a> <a id="4539" href="Setoid.Terms.Basic.html#4029" class="Function">Env</a> <a id="4543" href="Setoid.Terms.Basic.html#4534" class="Bound">X</a>
 <a id="4546" class="Symbol">(</a><a id="4547" href="Setoid.Algebras.Basic.html#2788" class="Field">Interp</a> <a id="4554" class="Symbol">(</a><a id="4555" href="Setoid.Terms.Basic.html#4468" class="Function">EnvAlgebra</a> <a id="4566" href="Setoid.Terms.Basic.html#4566" class="Bound">X</a><a id="4567" class="Symbol">)</a> <a id="4569" href="Setoid.Terms.Basic.html#1434" class="Field Operator">⟨$⟩</a> <a id="4573" class="Symbol">(</a><a id="4574" href="Setoid.Terms.Basic.html#4574" class="Bound">f</a> <a id="4576" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4578" href="Setoid.Terms.Basic.html#4578" class="Bound">aϕ</a><a id="4580" class="Symbol">))</a> <a id="4583" href="Setoid.Terms.Basic.html#4583" class="Bound">x</a> <a id="4585" class="Symbol">=</a> <a id="4587" class="Symbol">(</a><a id="4588" href="Setoid.Terms.Basic.html#4574" class="Bound">f</a> <a id="4590" href="Setoid.Algebras.Basic.html#3648" class="Function Operator">̂</a> <a id="4592" href="Setoid.Terms.Basic.html#3842" class="Bound">𝑨</a><a id="4593" class="Symbol">)</a> <a id="4595" class="Symbol">(λ</a> <a id="4598" href="Setoid.Terms.Basic.html#4598" class="Bound">i</a> <a id="4600" class="Symbol">→</a> <a id="4602" href="Setoid.Terms.Basic.html#4578" class="Bound">aϕ</a> <a id="4605" href="Setoid.Terms.Basic.html#4598" class="Bound">i</a> <a id="4607" href="Setoid.Terms.Basic.html#4583" class="Bound">x</a><a id="4608" class="Symbol">)</a>
 <a id="4611" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="4616" class="Symbol">(</a><a id="4617" href="Setoid.Algebras.Basic.html#2788" class="Field">Interp</a> <a id="4624" class="Symbol">(</a><a id="4625" href="Setoid.Terms.Basic.html#4468" class="Function">EnvAlgebra</a> <a id="4636" href="Setoid.Terms.Basic.html#4636" class="Bound">X</a><a id="4637" class="Symbol">))</a> <a id="4640" class="Symbol">{</a><a id="4641" href="Setoid.Terms.Basic.html#4641" class="Bound">f</a> <a id="4643" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4645" href="Setoid.Terms.Basic.html#4645" class="Bound">a</a><a id="4646" class="Symbol">}</a> <a id="4648" class="Symbol">{</a><a id="4649" class="DottedPattern Symbol">.</a><a id="4650" href="Setoid.Terms.Basic.html#4641" class="DottedPattern Bound">f</a> <a id="4652" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4654" href="Setoid.Terms.Basic.html#4654" class="Bound">b</a><a id="4655" class="Symbol">}</a> <a id="4657" class="Symbol">(</a><a id="4658" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">≡.refl</a> <a id="4665" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4667" href="Setoid.Terms.Basic.html#4667" class="Bound">aibi</a><a id="4671" class="Symbol">)</a> <a id="4673" href="Setoid.Terms.Basic.html#4673" class="Bound">x</a> <a id="4675" class="Symbol">=</a> <a id="4677" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="4682" href="Setoid.Terms.Basic.html#3917" class="Field">InterpA</a> <a id="4690" class="Symbol">(</a><a id="4691" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">≡.refl</a> <a id="4698" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4700" class="Symbol">(λ</a> <a id="4703" href="Setoid.Terms.Basic.html#4703" class="Bound">i</a> <a id="4705" class="Symbol">→</a> <a id="4707" href="Setoid.Terms.Basic.html#4667" class="Bound">aibi</a> <a id="4712" href="Setoid.Terms.Basic.html#4703" class="Bound">i</a> <a id="4714" href="Setoid.Terms.Basic.html#4673" class="Bound">x</a><a id="4715" class="Symbol">))</a>

</pre>

Interpretation of terms is iteration on the W-type. The standard library offers `iter' (on sets), but we need this to be a setoid function.

<pre class="Agda">

 <a id="Environment.⟦_⟧"></a><a id="4887" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟦_⟧</a> <a id="4891" class="Symbol">:</a> <a id="4893" class="Symbol">{</a><a id="4894" href="Setoid.Terms.Basic.html#4894" class="Bound">X</a> <a id="4896" class="Symbol">:</a> <a id="4898" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="4903" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a><a id="4904" class="Symbol">}(</a><a id="4906" href="Setoid.Terms.Basic.html#4906" class="Bound">t</a> <a id="4908" class="Symbol">:</a> <a id="4910" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="4915" href="Setoid.Terms.Basic.html#4894" class="Bound">X</a><a id="4916" class="Symbol">)</a> <a id="4918" class="Symbol">→</a> <a id="4920" href="Function.Bundles.html#2043" class="Record">Func</a> <a id="4925" class="Symbol">(</a><a id="4926" href="Setoid.Terms.Basic.html#4029" class="Function">Env</a> <a id="4930" href="Setoid.Terms.Basic.html#4894" class="Bound">X</a><a id="4931" class="Symbol">)</a> <a id="4933" href="Setoid.Terms.Basic.html#3902" class="Field">A</a>
 <a id="4936" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟦</a> <a id="4938" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="4940" href="Setoid.Terms.Basic.html#4940" class="Bound">x</a> <a id="4942" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟧</a> <a id="4944" href="Setoid.Terms.Basic.html#1434" class="Field Operator">⟨$⟩</a> <a id="4948" href="Setoid.Terms.Basic.html#4948" class="Bound">ρ</a> <a id="4950" class="Symbol">=</a> <a id="4952" href="Setoid.Terms.Basic.html#4948" class="Bound">ρ</a> <a id="4954" href="Setoid.Terms.Basic.html#4940" class="Bound">x</a>
 <a id="4957" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟦</a> <a id="4959" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="4964" href="Setoid.Terms.Basic.html#4964" class="Bound">f</a> <a id="4966" href="Setoid.Terms.Basic.html#4966" class="Bound">args</a> <a id="4971" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟧</a> <a id="4973" href="Setoid.Terms.Basic.html#1434" class="Field Operator">⟨$⟩</a> <a id="4977" href="Setoid.Terms.Basic.html#4977" class="Bound">ρ</a> <a id="4979" class="Symbol">=</a> <a id="4981" href="Setoid.Terms.Basic.html#3917" class="Field">InterpA</a> <a id="4989" href="Setoid.Terms.Basic.html#1434" class="Field Operator">⟨$⟩</a> <a id="4993" class="Symbol">(</a><a id="4994" href="Setoid.Terms.Basic.html#4964" class="Bound">f</a> <a id="4996" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4998" class="Symbol">λ</a> <a id="5000" href="Setoid.Terms.Basic.html#5000" class="Bound">i</a> <a id="5002" class="Symbol">→</a> <a id="5004" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟦</a> <a id="5006" href="Setoid.Terms.Basic.html#4966" class="Bound">args</a> <a id="5011" href="Setoid.Terms.Basic.html#5000" class="Bound">i</a> <a id="5013" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟧</a> <a id="5015" href="Setoid.Terms.Basic.html#1434" class="Field Operator">⟨$⟩</a> <a id="5019" href="Setoid.Terms.Basic.html#4977" class="Bound">ρ</a><a id="5020" class="Symbol">)</a>
 <a id="5023" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="5028" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟦</a> <a id="5030" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="5032" href="Setoid.Terms.Basic.html#5032" class="Bound">x</a> <a id="5034" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟧</a> <a id="5036" href="Setoid.Terms.Basic.html#5036" class="Bound">u≈v</a> <a id="5040" class="Symbol">=</a> <a id="5042" href="Setoid.Terms.Basic.html#5036" class="Bound">u≈v</a> <a id="5046" href="Setoid.Terms.Basic.html#5032" class="Bound">x</a>
 <a id="5049" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="5054" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟦</a> <a id="5056" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="5061" href="Setoid.Terms.Basic.html#5061" class="Bound">f</a> <a id="5063" href="Setoid.Terms.Basic.html#5063" class="Bound">args</a> <a id="5068" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟧</a> <a id="5070" href="Setoid.Terms.Basic.html#5070" class="Bound">x≈y</a> <a id="5074" class="Symbol">=</a> <a id="5076" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="5081" href="Setoid.Terms.Basic.html#3917" class="Field">InterpA</a> <a id="5089" class="Symbol">(</a><a id="5090" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">≡.refl</a> <a id="5097" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5099" class="Symbol">λ</a> <a id="5101" href="Setoid.Terms.Basic.html#5101" class="Bound">i</a> <a id="5103" class="Symbol">→</a> <a id="5105" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="5110" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟦</a> <a id="5112" href="Setoid.Terms.Basic.html#5063" class="Bound">args</a> <a id="5117" href="Setoid.Terms.Basic.html#5101" class="Bound">i</a> <a id="5119" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟧</a> <a id="5121" href="Setoid.Terms.Basic.html#5070" class="Bound">x≈y</a> <a id="5125" class="Symbol">)</a>

 <a id="5129" class="Keyword">open</a> <a id="5134" href="Relation.Binary.Bundles.html#1095" class="Module">Setoid</a> <a id="5141" class="Keyword">using</a> <a id="5147" class="Symbol">()</a> <a id="5150" class="Keyword">renaming</a> <a id="5159" class="Symbol">(</a> <a id="5161" href="Relation.Binary.Bundles.html#1158" class="Field">Carrier</a> <a id="5169" class="Symbol">to</a> <a id="5172" class="Field">∣_∣</a> <a id="5176" class="Symbol">)</a>

 <a id="5180" class="Comment">-- An equality between two terms holds in a model</a>
 <a id="5231" class="Comment">-- if the two terms are equal under all valuations of their free variables.</a>
 <a id="Environment.Equal"></a><a id="5308" href="Setoid.Terms.Basic.html#5308" class="Function">Equal</a> <a id="5314" class="Symbol">:</a> <a id="5316" class="Symbol">∀</a> <a id="5318" class="Symbol">{</a><a id="5319" href="Setoid.Terms.Basic.html#5319" class="Bound">X</a> <a id="5321" class="Symbol">:</a> <a id="5323" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="5328" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a><a id="5329" class="Symbol">}</a> <a id="5331" class="Symbol">(</a><a id="5332" href="Setoid.Terms.Basic.html#5332" class="Bound">s</a> <a id="5334" href="Setoid.Terms.Basic.html#5334" class="Bound">t</a> <a id="5336" class="Symbol">:</a> <a id="5338" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="5343" href="Setoid.Terms.Basic.html#5319" class="Bound">X</a><a id="5344" class="Symbol">)</a> <a id="5346" class="Symbol">→</a> <a id="5348" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="5353" class="Symbol">_</a>
 <a id="5356" href="Setoid.Terms.Basic.html#5308" class="Function">Equal</a> <a id="5362" class="Symbol">{</a><a id="5363" class="Argument">X</a> <a id="5365" class="Symbol">=</a> <a id="5367" href="Setoid.Terms.Basic.html#5367" class="Bound">X</a><a id="5368" class="Symbol">}</a> <a id="5370" href="Setoid.Terms.Basic.html#5370" class="Bound">s</a> <a id="5372" href="Setoid.Terms.Basic.html#5372" class="Bound">t</a> <a id="5374" class="Symbol">=</a> <a id="5376" class="Symbol">∀</a> <a id="5378" class="Symbol">(</a><a id="5379" href="Setoid.Terms.Basic.html#5379" class="Bound">ρ</a> <a id="5381" class="Symbol">:</a> <a id="5383" href="Setoid.Terms.Basic.html#5172" class="Field Operator">∣</a> <a id="5385" href="Setoid.Terms.Basic.html#4029" class="Function">Env</a> <a id="5389" href="Setoid.Terms.Basic.html#5367" class="Bound">X</a> <a id="5391" href="Setoid.Terms.Basic.html#5172" class="Field Operator">∣</a><a id="5392" class="Symbol">)</a> <a id="5394" class="Symbol">→</a>  <a id="5397" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟦</a> <a id="5399" href="Setoid.Terms.Basic.html#5370" class="Bound">s</a> <a id="5401" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟧</a> <a id="5403" href="Setoid.Terms.Basic.html#1434" class="Field Operator">⟨$⟩</a> <a id="5407" href="Setoid.Terms.Basic.html#5379" class="Bound">ρ</a> <a id="5409" href="Setoid.Terms.Basic.html#3970" class="Function Operator">≈ₐ</a> <a id="5412" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟦</a> <a id="5414" href="Setoid.Terms.Basic.html#5372" class="Bound">t</a> <a id="5416" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟧</a> <a id="5418" href="Setoid.Terms.Basic.html#1434" class="Field Operator">⟨$⟩</a> <a id="5422" href="Setoid.Terms.Basic.html#5379" class="Bound">ρ</a>

 <a id="Environment.≐→Equal"></a><a id="5426" href="Setoid.Terms.Basic.html#5426" class="Function">≐→Equal</a> <a id="5434" class="Symbol">:</a> <a id="5436" class="Symbol">{</a><a id="5437" href="Setoid.Terms.Basic.html#5437" class="Bound">X</a> <a id="5439" class="Symbol">:</a> <a id="5441" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="5446" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a><a id="5447" class="Symbol">}(</a><a id="5449" href="Setoid.Terms.Basic.html#5449" class="Bound">s</a> <a id="5451" href="Setoid.Terms.Basic.html#5451" class="Bound">t</a> <a id="5453" class="Symbol">:</a> <a id="5455" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="5460" href="Setoid.Terms.Basic.html#5437" class="Bound">X</a><a id="5461" class="Symbol">)</a> <a id="5463" class="Symbol">→</a> <a id="5465" href="Setoid.Terms.Basic.html#5449" class="Bound">s</a> <a id="5467" href="Setoid.Terms.Basic.html#2007" class="Datatype Operator">≐</a> <a id="5469" href="Setoid.Terms.Basic.html#5451" class="Bound">t</a> <a id="5471" class="Symbol">→</a> <a id="5473" href="Setoid.Terms.Basic.html#5308" class="Function">Equal</a> <a id="5479" href="Setoid.Terms.Basic.html#5449" class="Bound">s</a> <a id="5481" href="Setoid.Terms.Basic.html#5451" class="Bound">t</a>
 <a id="5484" href="Setoid.Terms.Basic.html#5426" class="Function">≐→Equal</a> <a id="5492" class="DottedPattern Symbol">.(</a><a id="5494" href="Base.Terms.Basic.html#2128" class="DottedPattern InductiveConstructor">ℊ</a> <a id="5496" class="DottedPattern Symbol">_)</a> <a id="5499" class="DottedPattern Symbol">.(</a><a id="5501" href="Base.Terms.Basic.html#2128" class="DottedPattern InductiveConstructor">ℊ</a> <a id="5503" class="DottedPattern Symbol">_)</a> <a id="5506" class="Symbol">(</a><a id="5507" href="Setoid.Terms.Basic.html#2051" class="InductiveConstructor">rfl</a> <a id="5511" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">≡.refl</a><a id="5517" class="Symbol">)</a> <a id="5519" class="Symbol">=</a> <a id="5521" class="Symbol">λ</a> <a id="5523" href="Setoid.Terms.Basic.html#5523" class="Bound">_</a> <a id="5525" class="Symbol">→</a> <a id="5527" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
 <a id="5533" href="Setoid.Terms.Basic.html#5426" class="Function">≐→Equal</a> <a id="5541" class="Symbol">(</a><a id="5542" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="5547" class="Symbol">_</a> <a id="5549" href="Setoid.Terms.Basic.html#5549" class="Bound">s</a><a id="5550" class="Symbol">)(</a><a id="5552" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="5557" class="Symbol">_</a> <a id="5559" href="Setoid.Terms.Basic.html#5559" class="Bound">t</a><a id="5560" class="Symbol">)(</a><a id="5562" href="Setoid.Terms.Basic.html#2093" class="InductiveConstructor">gnl</a> <a id="5566" href="Setoid.Terms.Basic.html#5566" class="Bound">x</a><a id="5567" class="Symbol">)</a> <a id="5569" class="Symbol">=</a>
  <a id="5573" class="Symbol">λ</a> <a id="5575" href="Setoid.Terms.Basic.html#5575" class="Bound">ρ</a> <a id="5577" class="Symbol">→</a> <a id="5579" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="5584" href="Setoid.Terms.Basic.html#3917" class="Field">InterpA</a> <a id="5592" class="Symbol">(</a><a id="5593" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">≡.refl</a> <a id="5600" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5602" class="Symbol">λ</a> <a id="5604" href="Setoid.Terms.Basic.html#5604" class="Bound">i</a> <a id="5606" class="Symbol">→</a> <a id="5608" href="Setoid.Terms.Basic.html#5426" class="Function">≐→Equal</a><a id="5615" class="Symbol">(</a><a id="5616" href="Setoid.Terms.Basic.html#5549" class="Bound">s</a> <a id="5618" href="Setoid.Terms.Basic.html#5604" class="Bound">i</a><a id="5619" class="Symbol">)(</a><a id="5621" href="Setoid.Terms.Basic.html#5559" class="Bound">t</a> <a id="5623" href="Setoid.Terms.Basic.html#5604" class="Bound">i</a><a id="5624" class="Symbol">)(</a><a id="5626" href="Setoid.Terms.Basic.html#5566" class="Bound">x</a> <a id="5628" href="Setoid.Terms.Basic.html#5604" class="Bound">i</a><a id="5629" class="Symbol">)</a><a id="5630" href="Setoid.Terms.Basic.html#5575" class="Bound">ρ</a> <a id="5632" class="Symbol">)</a>

 <a id="5636" class="Comment">-- Equal is an equivalence relation.</a>
 <a id="Environment.isEquiv"></a><a id="5674" href="Setoid.Terms.Basic.html#5674" class="Function">isEquiv</a> <a id="5682" class="Symbol">:</a> <a id="5684" class="Symbol">{</a><a id="5685" href="Setoid.Terms.Basic.html#5685" class="Bound">Γ</a> <a id="5687" class="Symbol">:</a> <a id="5689" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="5694" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a><a id="5695" class="Symbol">}</a> <a id="5697" class="Symbol">→</a> <a id="5699" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a> <a id="5713" class="Symbol">(</a><a id="5714" href="Setoid.Terms.Basic.html#5308" class="Function">Equal</a> <a id="5720" class="Symbol">{</a><a id="5721" class="Argument">X</a> <a id="5723" class="Symbol">=</a> <a id="5725" href="Setoid.Terms.Basic.html#5685" class="Bound">Γ</a><a id="5726" class="Symbol">})</a>
 <a id="5730" href="Relation.Binary.Structures.html#1596" class="Field">IsEquivalence.refl</a>   <a id="5751" href="Setoid.Terms.Basic.html#5674" class="Function">isEquiv</a> <a id="5759" class="Symbol">=</a> <a id="5761" class="Symbol">λ</a> <a id="5763" href="Setoid.Terms.Basic.html#5763" class="Bound">_</a> <a id="5765" class="Symbol">→</a> <a id="5767" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
 <a id="5773" href="Relation.Binary.Structures.html#1622" class="Field">IsEquivalence.sym</a>    <a id="5794" href="Setoid.Terms.Basic.html#5674" class="Function">isEquiv</a> <a id="5802" class="Symbol">=</a> <a id="5804" class="Symbol">λ</a> <a id="5806" href="Setoid.Terms.Basic.html#5806" class="Bound">x=y</a> <a id="5810" href="Setoid.Terms.Basic.html#5810" class="Bound">ρ</a> <a id="5812" class="Symbol">→</a> <a id="5814" href="Relation.Binary.Structures.html#1200" class="Function">sym</a> <a id="5818" class="Symbol">(</a><a id="5819" href="Setoid.Terms.Basic.html#5806" class="Bound">x=y</a> <a id="5823" href="Setoid.Terms.Basic.html#5810" class="Bound">ρ</a><a id="5824" class="Symbol">)</a>
 <a id="5827" href="Relation.Binary.Structures.html#1648" class="Field">IsEquivalence.trans</a>  <a id="5848" href="Setoid.Terms.Basic.html#5674" class="Function">isEquiv</a> <a id="5856" class="Symbol">=</a> <a id="5858" class="Symbol">λ</a> <a id="5860" href="Setoid.Terms.Basic.html#5860" class="Bound">ij</a> <a id="5863" href="Setoid.Terms.Basic.html#5863" class="Bound">jk</a> <a id="5866" href="Setoid.Terms.Basic.html#5866" class="Bound">ρ</a> <a id="5868" class="Symbol">→</a> <a id="5870" href="Relation.Binary.Structures.html#1226" class="Function">trans</a> <a id="5876" class="Symbol">(</a><a id="5877" href="Setoid.Terms.Basic.html#5860" class="Bound">ij</a> <a id="5880" href="Setoid.Terms.Basic.html#5866" class="Bound">ρ</a><a id="5881" class="Symbol">)</a> <a id="5883" class="Symbol">(</a><a id="5884" href="Setoid.Terms.Basic.html#5863" class="Bound">jk</a> <a id="5887" href="Setoid.Terms.Basic.html#5866" class="Bound">ρ</a><a id="5888" class="Symbol">)</a>

 <a id="5892" class="Comment">-- Evaluation of a substitution gives an environment.</a>
 <a id="Environment.⟦_⟧s"></a><a id="5947" href="Setoid.Terms.Basic.html#5947" class="Function Operator">⟦_⟧s</a> <a id="5952" class="Symbol">:</a> <a id="5954" class="Symbol">{</a><a id="5955" href="Setoid.Terms.Basic.html#5955" class="Bound">X</a> <a id="5957" href="Setoid.Terms.Basic.html#5957" class="Bound">Y</a> <a id="5959" class="Symbol">:</a> <a id="5961" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="5966" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a><a id="5967" class="Symbol">}</a> <a id="5969" class="Symbol">→</a> <a id="5971" href="Setoid.Terms.Basic.html#3466" class="Function">Sub</a> <a id="5975" href="Setoid.Terms.Basic.html#5955" class="Bound">X</a> <a id="5977" href="Setoid.Terms.Basic.html#5957" class="Bound">Y</a> <a id="5979" class="Symbol">→</a> <a id="5981" href="Setoid.Terms.Basic.html#5172" class="Field Operator">∣</a> <a id="5983" href="Setoid.Terms.Basic.html#4029" class="Function">Env</a> <a id="5987" href="Setoid.Terms.Basic.html#5955" class="Bound">X</a> <a id="5989" href="Setoid.Terms.Basic.html#5172" class="Field Operator">∣</a> <a id="5991" class="Symbol">→</a> <a id="5993" href="Setoid.Terms.Basic.html#5172" class="Field Operator">∣</a> <a id="5995" href="Setoid.Terms.Basic.html#4029" class="Function">Env</a> <a id="5999" href="Setoid.Terms.Basic.html#5957" class="Bound">Y</a> <a id="6001" href="Setoid.Terms.Basic.html#5172" class="Field Operator">∣</a>
 <a id="6004" href="Setoid.Terms.Basic.html#5947" class="Function Operator">⟦</a> <a id="6006" href="Setoid.Terms.Basic.html#6006" class="Bound">σ</a> <a id="6008" href="Setoid.Terms.Basic.html#5947" class="Function Operator">⟧s</a> <a id="6011" href="Setoid.Terms.Basic.html#6011" class="Bound">ρ</a> <a id="6013" href="Setoid.Terms.Basic.html#6013" class="Bound">x</a> <a id="6015" class="Symbol">=</a> <a id="6017" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟦</a> <a id="6019" href="Setoid.Terms.Basic.html#6006" class="Bound">σ</a> <a id="6021" href="Setoid.Terms.Basic.html#6013" class="Bound">x</a> <a id="6023" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟧</a> <a id="6025" href="Setoid.Terms.Basic.html#1434" class="Field Operator">⟨$⟩</a> <a id="6029" href="Setoid.Terms.Basic.html#6011" class="Bound">ρ</a>

 <a id="6033" class="Comment">-- Substitution lemma: ⟦t[σ]⟧ρ ≃ ⟦t⟧⟦σ⟧ρ</a>
 <a id="Environment.substitution"></a><a id="6075" href="Setoid.Terms.Basic.html#6075" class="Function">substitution</a> <a id="6088" class="Symbol">:</a>  <a id="6091" class="Symbol">{</a><a id="6092" href="Setoid.Terms.Basic.html#6092" class="Bound">X</a> <a id="6094" href="Setoid.Terms.Basic.html#6094" class="Bound">Y</a> <a id="6096" class="Symbol">:</a> <a id="6098" href="Setoid.Terms.Basic.html#610" class="Primitive">Type</a> <a id="6103" href="Setoid.Terms.Basic.html#1471" class="Generalizable">χ</a><a id="6104" class="Symbol">}</a> <a id="6106" class="Symbol">→</a> <a id="6108" class="Symbol">(</a><a id="6109" href="Setoid.Terms.Basic.html#6109" class="Bound">t</a> <a id="6111" class="Symbol">:</a> <a id="6113" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="6118" href="Setoid.Terms.Basic.html#6094" class="Bound">Y</a><a id="6119" class="Symbol">)</a> <a id="6121" class="Symbol">(</a><a id="6122" href="Setoid.Terms.Basic.html#6122" class="Bound">σ</a> <a id="6124" class="Symbol">:</a> <a id="6126" href="Setoid.Terms.Basic.html#3466" class="Function">Sub</a> <a id="6130" href="Setoid.Terms.Basic.html#6092" class="Bound">X</a> <a id="6132" href="Setoid.Terms.Basic.html#6094" class="Bound">Y</a><a id="6133" class="Symbol">)</a> <a id="6135" class="Symbol">(</a><a id="6136" href="Setoid.Terms.Basic.html#6136" class="Bound">ρ</a> <a id="6138" class="Symbol">:</a> <a id="6140" href="Setoid.Terms.Basic.html#5172" class="Field Operator">∣</a> <a id="6142" href="Setoid.Terms.Basic.html#4029" class="Function">Env</a> <a id="6146" href="Setoid.Terms.Basic.html#6092" class="Bound">X</a> <a id="6148" href="Setoid.Terms.Basic.html#5172" class="Field Operator">∣</a> <a id="6150" class="Symbol">)</a>
  <a id="6154" class="Symbol">→</a>              <a id="6169" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟦</a> <a id="6171" href="Setoid.Terms.Basic.html#6109" class="Bound">t</a> <a id="6173" href="Setoid.Terms.Basic.html#3564" class="Function Operator">[</a> <a id="6175" href="Setoid.Terms.Basic.html#6122" class="Bound">σ</a> <a id="6177" href="Setoid.Terms.Basic.html#3564" class="Function Operator">]</a> <a id="6179" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟧</a> <a id="6181" href="Setoid.Terms.Basic.html#1434" class="Field Operator">⟨$⟩</a> <a id="6185" href="Setoid.Terms.Basic.html#6136" class="Bound">ρ</a>  <a id="6188" href="Setoid.Terms.Basic.html#3970" class="Function Operator">≈ₐ</a>  <a id="6192" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟦</a> <a id="6194" href="Setoid.Terms.Basic.html#6109" class="Bound">t</a> <a id="6196" href="Setoid.Terms.Basic.html#4887" class="Function Operator">⟧</a> <a id="6198" href="Setoid.Terms.Basic.html#1434" class="Field Operator">⟨$⟩</a> <a id="6202" class="Symbol">(</a><a id="6203" href="Setoid.Terms.Basic.html#5947" class="Function Operator">⟦</a> <a id="6205" href="Setoid.Terms.Basic.html#6122" class="Bound">σ</a> <a id="6207" href="Setoid.Terms.Basic.html#5947" class="Function Operator">⟧s</a> <a id="6210" href="Setoid.Terms.Basic.html#6136" class="Bound">ρ</a><a id="6211" class="Symbol">)</a>

 <a id="6215" href="Setoid.Terms.Basic.html#6075" class="Function">substitution</a> <a id="6228" class="Symbol">(</a><a id="6229" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="6231" href="Setoid.Terms.Basic.html#6231" class="Bound">x</a><a id="6232" class="Symbol">)</a> <a id="6234" href="Setoid.Terms.Basic.html#6234" class="Bound">σ</a> <a id="6236" href="Setoid.Terms.Basic.html#6236" class="Bound">ρ</a> <a id="6238" class="Symbol">=</a> <a id="6240" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
 <a id="6246" href="Setoid.Terms.Basic.html#6075" class="Function">substitution</a> <a id="6259" class="Symbol">(</a><a id="6260" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="6265" href="Setoid.Terms.Basic.html#6265" class="Bound">f</a> <a id="6267" href="Setoid.Terms.Basic.html#6267" class="Bound">ts</a><a id="6269" class="Symbol">)</a> <a id="6271" href="Setoid.Terms.Basic.html#6271" class="Bound">σ</a> <a id="6273" href="Setoid.Terms.Basic.html#6273" class="Bound">ρ</a> <a id="6275" class="Symbol">=</a> <a id="6277" href="Function.Bundles.html#2113" class="Field">cong</a> <a id="6282" href="Setoid.Terms.Basic.html#3917" class="Field">InterpA</a> <a id="6290" class="Symbol">(</a><a id="6291" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">≡.refl</a> <a id="6298" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6300" class="Symbol">λ</a> <a id="6302" href="Setoid.Terms.Basic.html#6302" class="Bound">i</a> <a id="6304" class="Symbol">→</a> <a id="6306" href="Setoid.Terms.Basic.html#6075" class="Function">substitution</a> <a id="6319" class="Symbol">(</a><a id="6320" href="Setoid.Terms.Basic.html#6267" class="Bound">ts</a> <a id="6323" href="Setoid.Terms.Basic.html#6302" class="Bound">i</a><a id="6324" class="Symbol">)</a> <a id="6326" href="Setoid.Terms.Basic.html#6271" class="Bound">σ</a> <a id="6328" href="Setoid.Terms.Basic.html#6273" class="Bound">ρ</a><a id="6329" class="Symbol">)</a>
</pre>

--------------------------------

<span style="float:left;">[↑ Setoid.Terms](Setoid.Terms.html)</span>
<span style="float:right;">[Setoid.Terms.Properties →](Setoid.Terms.Properties.html)</span>

{% include UALib.Links.md %}
