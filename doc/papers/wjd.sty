% ---------------------------------------------------------
% Some useful commands for typesetting articles with LaTeX.
% ---------------------------------------------------------

\ProvidesPackage{wjd}

%% \requirepackage[utf8x]{inputenc}
%% \requirepackage[mathletters,autogenerated]{ucs}

\RequirePackage[yyyymmdd]{datetime}
\newdateformat{mydate}{%
\THEDAY\ \shortmonthname[\THEMONTH] \THEYEAR}
\renewcommand{\dateseparator}{.}


\RequirePackage{ifthen}
\RequirePackage{relsize}
\RequirePackage{fancyhdr}
\RequirePackage{xspace,graphicx}
\newcommand\sbullet[1][.5]{\mathbin{\vcenter{\hbox{\scalebox{#1}{$\bullet$}}}}}
%% use like this: \sbullet A, or \sbullet[.75] A

%% \RequirePackage{ifxetex, ifluatex, xifthen, xcolor, polytable, etoolbox, calc, environ, xparse, xkeyval}

%% Culprit!
%% \\[\AgdaEmptyExtraSkip]%
\newcommand\cpad{-6pt}
\newcommand\ccpad{\\[-6pt]}
\newcommand\scpad{\\[-18pt]}
% ----------------------------------------------------------------------
% Options
%% \DeclareOption{bw}   {\newcommand{\AgdaColourScheme}{bw}}
%% ---------------------------------------------------------------------------
%% for compatibility with latex code generated by pandoc from markdown files
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\newenvironment{Shaded}{}{}
\newenvironment{Highlighting}[1][]{}{}
\providecommand{\PreprocessorTok}[1]{%
  \{-\# OPTIONS --without-K --exact-split --allow-unsolved-metas \#-\}}
\newcommand\defn[1]{\textit{#1}}
\newcommand\agdaalgebras{\href{https://ualib.github.io/agda-algebras}{agda-algebras}\xspace}
\newcommand\agdaalgebrashtmldocs{\href{https://ualib.github.io/agda-algebras}{agda-algebras html docs}\xspace}
\newcommand\agdaalgebrasdocs{\href{https://ualib.github.io/agda-algebras}{agda-algebras documentation}\xspace}
\newcommand\agdaalgebrasrepo{\url{https://github.com/ualib/agda-algebras}\xspace}
\newcommand\ualibdotorg{\href{https://ualib.org}{\texttt{ualib.org}}\xspace}
\newcommand\seedocfordetails{(See the \agdaalgebradocs for details.)\xspace}

%% \newcommand\ualibdocs{\href{https://ualib.gitlab.io}{https://ualib.gitlab.io}\xspace}
\newcommand\TypeTopology{\href{https://github.com/martinescardo/TypeTopology}{Type Topology}\xspace}
\newcommand\typetopology{\href{https://github.com/martinescardo/TypeTopology}{Type Topology}\xspace}
\newcommand\typtop{\href{https://github.com/martinescardo/TypeTopology}{\relsize{-1}TypeTopo}\xspace}
\newcommand\ufcourse{\href{https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/index.html}{Introduction to Univalent Foundations of Mathematics with Agda}\xspace}
\newcommand\MGSnineteen{\href{http://events.cs.bham.ac.uk/mgs2019/}{MGS 2019}\xspace}

%%%%%%%%%%%%%%%%%%%%%%%
%% ACRONYMS
\newcommand\uip{{\relsize{-1}UIP}\xspace}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% macros for module links %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand\am[1]{\AgdaModule{#1}}
\newcommand\ualibhtml[1]{\href{https://ualib.github.io/agda-algebras/#1.html}{\am{#1}}\xspace}
\newcommand\ualiburl[1]{\url{https://ualib.github.io/agda-algebras/#1.html}\xspace}
% \newcommand\ualibsrcmod[2]{\href{https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/UALib/#1.lagda}{\texttt{https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/UALib/#1.lagda}}}
% \newcommand\ualibsrcfile[2]{\href{https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/UALib/#1/#2.lagda}{\texttt{https://gitlab.com/ualib/ualib.gitlab.io/-/blob/master/UALib/#1/#2.lagda}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



% -- Algebras
\newcommand\gitAlgebras{\href{https://github.com/ualib/agda-algebras/-/blob/master/src/Algebras.lagda}{\texttt{Algebras.lagda}}}

\newcommand{\agda}{\href{https://wiki.portal.chalmers.se/agda/pmwiki.php}{Agda}\xspace}

\newcommand{\escardo}{\href{https://www.cs.bham.ac.uk/~mhe/}{Escard\'o}\xspace}
\newcommand{\MartinEscardo}{\href{https://www.cs.bham.ac.uk/~mhe/}{Mart\'in Escard\'o}\xspace}
\newcommand{\mhe}{\href{https://www.cs.bham.ac.uk/~mhe/}{MHE}\xspace}
\newcommand{\MHE}{\href{https://www.cs.bham.ac.uk/~mhe/}{Mart\'in Hötzel Escard\'o}\xspace}
\newcommand{\mltt}{\href{https://ncatlab.org/nlab/show/Martin-L\%C3\%B6f+dependent+type+theory}{\relsize{-1}MLTT}\xspace}
\newcommand{\MLTT}{\href{https://ncatlab.org/nlab/show/Martin-L\%C3\%B6f+dependent+type+theory}{Martin-Löf Type Theory}\xspace}
\newcommand{\AgdaStandardLibrary}{\href{https://agda.github.io/agda-stdlib/}{Agda Standard Library}\xspace}
\newcommand{\agdastdlib}{\href{https://agda.github.io/agda-stdlib/}{Agda Standard Library}\xspace}
\newcommand{\axiomk}{\href{https://ncatlab.org/nlab/show/axiom+K+\%28type+theory\%29}{Streicher's K axiom}\xspace}
\newcommand{\agdarefk}{\href{https://agda.readthedocs.io/en/v2.6.1/language/without-k.html}{Axiom K}\xspace}
\newcommand{\agdaref}{\href{https://agda.readthedocs.io/en/v2.6.1/language}{Agda Language Reference}\xspace}
\newcommand\agdartd{\href{https://agda.readthedocs.io/}{agda.readthedocs.io}}

%% \newcommand{\patternmatching}{\href{https://agda.readthedocs.io/en/v2.6.1/tools/command-line-options.html#pattern-matching-and-equality}{Pattern matching and equality}\xspace}
\newcommand{\agdatools}{\href{https://agda.readthedocs.io/en/v2.6.1/tools/}{Agda Tools}\xspace}
\newcommand{\agdamode}{\href{https://agda.readthedocs.io/en/v2.6.0.1/tools/emacs-mode.html}{agda2-mode}\xspace}
\newcommand{\agdatwomode}{\href{https://agda.readthedocs.io/en/v2.6.0.1/tools/emacs-mode.html}{agda2-mode}\xspace}
\newcommand{\hottbook}{\href{https://homotopytypetheory.org/book/}{HoTT book}\xspace}

\newcommand\sP[1]{\hskip#1pt}

%% Agda and pandoc macros and fixes
\newcommand\signatureOV{\AgdaFunction{Signature}\AgdaSpace{}\AgdaBound{𝓞}\AgdaSpace{}\AgdaBound{𝓥}\xspace}
\newcommand\algebraUS{\AgdaFunction{Algebra}\AgdaSpace{}\AgdaBound{𝓤}\AgdaSpace{}\AgdaBound{𝑆}\xspace}
\newcommand\algebraOVUS{\AgdaFunction{Algebra}\AgdaSpace{}\AgdaBound{𝓤}\AgdaSpace{}\AgdaSymbol{\{}\AgdaBound{𝓞}\AgdaSymbol{\}\{}\AgdaBound{𝓥}\AgdaSymbol{\}}\AgdaSpace{}\AgdaBound{𝑆}}

\newcommand{\AgdaTyped}[2]{\AgdaBound{#1}\AgdaSpace{}\AgdaSymbol{:}\AgdaSpace{}\AgdaBound{#2}\xspace}
\newcommand{\AgdaComma}{\AgdaSpace{}\AgdaInductiveConstructor{,}\AgdaSpace{}}

%% \newcommand\asp{\AgdaSpace{}}
\newcommand\ab[1]{\AgdaBound{#1}}
\newcommand\ag[1]{\AgdaGeneralizable{#1}}
\newcommand\ac{\AgdaComma}
\newcommand\ak{\AgdaKeyword}
\newcommand\as[1]{\AgdaSymbol{#1}}
\newcommand\au{\AgdaUnderscore}
\newcommand\aic[1]{\AgdaInductiveConstructor{#1}}
\newcommand\af[1]{\AgdaFunction{#1}}
\newcommand\afld[1]{\AgdaField{#1}}
\newcommand\ar[1]{\AgdaRecord{#1}}
\newcommand\aof[1]{\AgdaOperator{\AgdaFunction{#1}}}
\newcommand\ad[1]{\AgdaDatatype{#1}}
\newcommand\aod[1]{\AgdaOperator{\AgdaDatatype{#1}}}
\newcommand\apt[1]{\AgdaPrimitiveType{#1}}
\newcommand\apr[1]{\AgdaPrimitive{#1}}
\newcommand\aop[1]{\AgdaOperator{\AgdaPrimitive{#1}}}
\newcommand\ap[1]{\AgdaPostulate{#1}}
\newcommand\ai[1]{\AgdaOperator{\AgdaFunction{#1\AgdaUnderscore{}#1}}}
\newcommand\aiab[2]{\AgdaOperator{\AgdaFunction{#1}}\AgdaSpace{}\AgdaBound{#2}\AgdaSpace{}\AgdaOperator{\AgdaFunction{#1}}}
\newcommand\aia[2]{\AgdaOperator{\AgdaFunction{#1}}\AgdaSpace{}{#2}\AgdaSpace{}\AgdaOperator{\AgdaFunction{#1}}}
\newcommand\Mac{\ensuremath{\mathrel{\AgdaComma}}}
\newcommand\Mas[1]{\ensuremath{\mathrel{\AgdaSymbol{#1}}}}
\newcommand\Mad[1]{\ensuremath{\mathrel{\AgdaDatatype{#1}}}}
\newcommand\Maod[1]{\ensuremath{\mathrel{\AgdaOperator{\AgdaDatatype{#1}}}}}
\newcommand\Maf[1]{\ensuremath{\mathrel{\AgdaFunction{#1}}}}
\newcommand\Maof[1]{\ensuremath{\mathrel{\AgdaOperator{\AgdaFunction{#1}}}}}

\newcommand\abt[2]{\ab{#1}~\as :~\ab{#2}}

\newcommand\VariableTok[1]{\texttt{#1}}
\newcommand\CharTok[1]{\texttt{#1}}
\newcommand\KeywordTok[1]{\AgdaKeyword{#1}}
\newcommand\OtherTok[1]{\AgdaSymbol{#1}}
\newcommand\DataTypeTok[1]{\AgdaDatatype{#1}}
\newcommand\lzero{\AgdaKeyword{lzero}\xspace}
\newcommand\lsuc{\AgdaKeyword{lsuc}\xspace}
% \newcommand\NormalTok[1]{\verb.#1.}
\newcommand\NormalTok[1]{\AgdaFunction{#1}}
\newcommand\CommentTok[1]{\AgdaComment{#1}}
\newcommand\DecValTok[1]{\AgdaNumber{#1}}
\newcommand\Set{\AgdaFunction{Set}\xspace}



\newcommand\AgdaTab[1]{\>[.][@{}l@{}]\<[#1I]}

% Insert extra space before some tokens.
\DeclareRobustCommand{\OtherTok}[1]{%
  \ifthenelse{ \equal{#1}{→} }{\ensuremath{\rightarrow}}{
  \ifthenelse{ \equal{#1}{_} }{\AgdaUnderscore}{#1}}
}
\newcommand\deq{\ensuremath{\doteq}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% COPYRIGHT FOOTER

\renewcommand{\headrulewidth}{0pt}
%
\newcommand\copyrightfooter{
\fancypagestyle{plain}{%
   \fancyhf{} 
   \fancyfoot[L]{%
     \vskip1mm
     \protect{%
       \begin{minipage}{0.1\textwidth}
         \includegraphics[width=\textwidth]{by-sa.png}
       \end{minipage}
       \begin{minipage}{0.85\textwidth}
         \linespread{0.9}\selectfont
         {\footnotesize This work and the agda-algebras library by
           \href{https://williamdemeo.gitlab.io}{William DeMeo} and the
           agda-algebras team is licensed under a \href{http://creativecommons.org/licenses/by-sa/4.0/}{Creative Commons Attribution-ShareAlike 4.0 International License}.}
       \end{minipage}
            \vskip2mm
       \begin{minipage}{0.1\textwidth}
         \includegraphics[height=20pt,clip]{stereotypeb-avatar.png}\ \includegraphics[height=18pt,clip]{lambda.jpg}
       \end{minipage}
       \begin{minipage}{0.8\textwidth}
         {\footnotesize \textcopyright\ 2021 \href{https://williamdemeo.gitlab.io}{William DeMeo}. Based on work at \href{https://github.com/ualib/agda-algebras}{https://github.com/ualib/agda-algebras}.\\
Compiled with pdflatex on \mydate\today\ at \currenttime.
}
       \end{minipage}}
   \renewcommand{\headrulewidth}{0pt}
}}
}

\newcommand\drawgrid[4]{%
\foreach \i in {#1,...,#2} {\draw [thin,dotted,gray] (\i,#3) -- (\i,#4)  node [below] at (\i,#3) {$\i$};}%
\foreach \i in {#3,...,#4} {\draw [thin,dotted,gray] (#1,\i) -- (#2,\i) node [left] at (#1,\i) {$\i$};}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \newcommand\firstsentencemod[1]{This section presents the \ualibhtml{#1} module of the \agdaualib, slightly abridged.\footnote{For unabridged docs and source code see \ualiburl{#1} and\\\ualibsrcmod{#1}.}}
\newcommand\firstsentence[2]{This section presents the \ualibhtml{#1.#2} module of the \agdaualib, slightly abridged.\footnote{For unabridged docs (source code) see \ualiburl{#1.#2} \\(\ualibsrcfile{#1}{#2}).}}
\newcommand\firstsentencefull[2]{This section presents the \ualibhtml{#1.#2} module of the \agdaualib.}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand\starredsection{\footnote{\label{starred}%
Sections marked with an asterisk include new types that are more abstract and general (and frankly more interesting) than the ones defined in other sections. Moreover, the types defined in starred sections are used in only a few other places in the \agdaualib, so they may be safely skimmed or even skipped.}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

\newcommand\context[1]{\begin{quote}\textit{Unless otherwise indicated, the prevailing context in this section is given by}\\[4pt] \ak{module} \AgdaUnderscore{} #1 \ak{where}\end{quote}}

\newcommand\contextshort[1]{\begin{quote}\textit{This section's context is} \ak{module} \AgdaUnderscore{} #1 \ak{where}\end{quote}}

\newcommand\contextfn[2]{\footnotetext{\label{#1}\textit{Unless otherwise indicated, the prevailing context in this section is}\\ \ak{module} \AgdaUnderscore{} #2 \ak{where}}}

\newcommand\id[2]{\ab #1~\af ≈~\ab #2}


\DeclareFontFamily{OMX}{MnSymbolE}{}
\DeclareSymbolFont{MnLargeSymbols}{OMX}{MnSymbolE}{m}{n}
\SetSymbolFont{MnLargeSymbols}{bold}{OMX}{MnSymbolE}{b}{n}
\DeclareFontShape{OMX}{MnSymbolE}{m}{n}{
    <-6>  MnSymbolE5
   <6-7>  MnSymbolE6
   <7-8>  MnSymbolE7
   <8-9>  MnSymbolE8
   <9-10> MnSymbolE9
  <10-12> MnSymbolE10
  <12->   MnSymbolE12
}{}
\DeclareFontShape{OMX}{MnSymbolE}{b}{n}{
    <-6>  MnSymbolE-Bold5
   <6-7>  MnSymbolE-Bold6
   <7-8>  MnSymbolE-Bold7
   <8-9>  MnSymbolE-Bold8
   <9-10> MnSymbolE-Bold9
  <10-12> MnSymbolE-Bold10
  <12->   MnSymbolE-Bold12
}{}

\let\llangle\@undefined
\let\rrangle\@undefined
\DeclareMathDelimiter{\llangle}{\mathopen}%
                     {MnLargeSymbols}{'164}{MnLargeSymbols}{'164}
\DeclareMathDelimiter{\rrangle}{\mathclose}%
                     {MnLargeSymbols}{'171}{MnLargeSymbols}{'171}
\makeatother
