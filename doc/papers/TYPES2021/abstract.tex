The Agda Universal Algebra Library is a project aimed at formalizing the foundations of
universal algebra, equational logic and model theory in dependent type theory
using Agda. In this paper we draw from many components of the library to present
a self-contained, formal, constructive proof of Birkhoff's HSP theorem in
Martin-L\"of dependent type theory.
This achieves one of the project's initial goals: to demonstrate the expressive power of
inductive and dependent types for representing and reasoning about general
algebraic and relational structures by using them to formalize a significant theorem in the field.
\ifshort\else
Along the way we encounter several challenging aspects of formalizing basic
definitions and theorems of general algebra and logic in type theory. Nonetheless,
we believe this work provides further support for the conviction that dependent
type theories in general, and the Agda language in particular, despite the
technical demands they place on the user, are accessible to working
mathematicians who possess sufficient patience and resolve to formally verify
their results with the help of a proof assistant.
\fi