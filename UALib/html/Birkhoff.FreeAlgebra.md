---
layout: default
title : Birkhoff.FreeAlgebra (The Agda Universal Algebra Library)
date : 2021-01-14
author: William DeMeo
---

### <a id="the-free-algebra">The Free Algebra</a>

#### <a id="the-free-algebra-in-theory">The free algebra in theory</a>

Recall, we proved in [the universal property](Terms.Free.html#the-universal-property) section of the [Terms.Free][] module that the term algebra `ğ‘» X` is the absolutely free algebra in the class ğ’œğ“â„Š(ğ‘†) of all ğ‘†-structures. In this section, we formalize, for a given class ğ’¦ of ğ‘†-algebras, the (relatively) free algebra in `S(P ğ’¦)` over X.

We use the next definition to take a free algebra *for* a class ğ’¦ and produce the free algebra *in* ğ’¦.

Î˜(ğ’¦, ğ‘¨) := {Î¸ âˆˆ Con ğ‘¨ : ğ‘¨ / Î¸ âˆˆ (S ğ’¦)} &nbsp; &nbsp; and &nbsp; &nbsp; Ïˆ(ğ’¦, ğ‘¨) := â‹‚ Î˜(ğ’¦, ğ‘¨).

Notice that Î˜(ğ’¦, ğ‘¨) may be empty, in which case Ïˆ(ğ’¦, ğ‘¨) = 1 and then ğ‘¨ / Ïˆ(ğ’¦, ğ‘¨) is trivial.

The free algebra is constructed by applying the above definitions to the special case in which ğ‘¨ is the term algebra `ğ‘» X` of ğ‘†-terms over X.

Since `ğ‘» X` is free for (and in) the class ğ’œğ“â„Š(ğ‘†) of all ğ‘†-algebras, it follows that `ğ‘» X` is free for every subclass ğ’¦ of ğ’œğ“â„Š(ğ‘†). Of course, `ğ‘» X` is not necessarily a member of ğ’¦, but if we form the quotient of `ğ‘» X` modulo the congruence Ïˆ(ğ’¦, ğ‘» X), which we denote by `ğ”‰ = (ğ‘» X) / Ïˆ(ğ’¦, ğ‘» X)`, then it's not hard to see that ğ”‰ is a subdirect product of the algebras in `{(ğ‘» ğ‘‹) / Î¸}`, where Î¸ ranges over Î˜(ğ’¦, ğ‘» X), so ğ”‰ belongs to `S(P ğ’¦)`, and it follows that ğ”‰ satisfies all the identities satisfied by all members of ğ’¦.  Indeed, for each pair `p q : ğ‘» X`, if `ğ’¦ âŠ§ p â‰ˆ q`, then p and q must belong to the same Ïˆ(ğ’¦, ğ‘» X)-class, so p and q are identified in the quotient ğ”‰.

The ğ”‰ that we have just defined is called the **free algebra over** ğ’¦ **generated by** `X` and (because of what we just observed) we may say that ğ”‰ is free *in* `S(P ğ’¦)`.<sup>[1](Birkhoff.FreeAlgebra.html#fn1)</sup>


#### <a id="the-free-algebra-in-agda">The free algebra in Agda</a>

This section presents the [Birkhoff.FreeAlgebra][] module of the [Agda Universal Algebra Library][].  Here we represent ğ”‰ as a type in Agda by first constructing the congruence Ïˆ(ğ’¦, ğ‘» ğ‘‹) described above.

<pre class="Agda">

<a id="2212" class="Symbol">{-#</a> <a id="2216" class="Keyword">OPTIONS</a> <a id="2224" class="Pragma">--without-K</a> <a id="2236" class="Pragma">--exact-split</a> <a id="2250" class="Pragma">--safe</a> <a id="2257" class="Symbol">#-}</a>

<a id="2262" class="Keyword">open</a> <a id="2267" class="Keyword">import</a> <a id="2274" href="Algebras.Signatures.html" class="Module">Algebras.Signatures</a> <a id="2294" class="Keyword">using</a> <a id="2300" class="Symbol">(</a><a id="2301" href="Algebras.Signatures.html#1299" class="Function">Signature</a><a id="2310" class="Symbol">;</a> <a id="2312" href="Prelude.Preliminaries.html#5600" class="Generalizable">ğ“</a><a id="2313" class="Symbol">;</a> <a id="2315" href="Universes.html#262" class="Generalizable">ğ“¥</a><a id="2316" class="Symbol">)</a>
<a id="2318" class="Keyword">open</a> <a id="2323" class="Keyword">import</a> <a id="2330" href="MGS-Subsingleton-Theorems.html" class="Module">MGS-Subsingleton-Theorems</a> <a id="2356" class="Keyword">using</a> <a id="2362" class="Symbol">(</a><a id="2363" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="2377" class="Symbol">)</a>

<a id="2380" class="Keyword">module</a> <a id="2387" href="Birkhoff.FreeAlgebra.html" class="Module">Birkhoff.FreeAlgebra</a> <a id="2408" class="Symbol">{</a><a id="2409" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a> <a id="2411" class="Symbol">:</a> <a id="2413" href="Algebras.Signatures.html#1299" class="Function">Signature</a> <a id="2423" href="Prelude.Preliminaries.html#5600" class="Generalizable">ğ“</a> <a id="2425" href="Universes.html#262" class="Generalizable">ğ“¥</a><a id="2426" class="Symbol">}{</a><a id="2428" href="Birkhoff.FreeAlgebra.html#2428" class="Bound">gfe</a> <a id="2432" class="Symbol">:</a> <a id="2434" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="2448" class="Symbol">}</a> <a id="2450" class="Keyword">where</a>

<a id="2457" class="Keyword">open</a> <a id="2462" class="Keyword">import</a> <a id="2469" href="Varieties.Preservation.html" class="Module">Varieties.Preservation</a> <a id="2492" class="Symbol">{</a><a id="2493" class="Argument">ğ‘†</a> <a id="2495" class="Symbol">=</a> <a id="2497" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a><a id="2498" class="Symbol">}{</a><a id="2500" href="Birkhoff.FreeAlgebra.html#2428" class="Bound">gfe</a><a id="2503" class="Symbol">}</a> <a id="2505" class="Keyword">public</a>

</pre>

We assume two ambient universes ğ“¤ and ğ“§, as well as a type `X : ğ“§ Ì‡`. As usual, this is accomplished with the `module` directive.

<pre class="Agda">

<a id="2670" class="Keyword">module</a> <a id="the-free-algebra"></a><a id="2677" href="Birkhoff.FreeAlgebra.html#2677" class="Module">the-free-algebra</a> <a id="2694" class="Symbol">{</a><a id="2695" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a> <a id="2697" href="Birkhoff.FreeAlgebra.html#2697" class="Bound">ğ“§</a> <a id="2699" class="Symbol">:</a> <a id="2701" href="Agda.Primitive.html#423" class="Function">Universe</a><a id="2709" class="Symbol">}{</a><a id="2711" href="Birkhoff.FreeAlgebra.html#2711" class="Bound">X</a> <a id="2713" class="Symbol">:</a> <a id="2715" href="Birkhoff.FreeAlgebra.html#2697" class="Bound">ğ“§</a> <a id="2717" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="2718" class="Symbol">}</a> <a id="2720" class="Keyword">where</a>

 <a id="2728" class="Comment">-- NOTATION (universe aliases for convenience and readability).</a>
 <a id="the-free-algebra.ğ“¸ğ“¿ğ“¾"></a><a id="2793" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="the-free-algebra.ğ“¸ğ“¿ğ“¾+"></a><a id="2797" href="Birkhoff.FreeAlgebra.html#2797" class="Function">ğ“¸ğ“¿ğ“¾+</a> <a id="the-free-algebra.ğ“¸ğ“¿ğ“¾++"></a><a id="2802" href="Birkhoff.FreeAlgebra.html#2802" class="Function">ğ“¸ğ“¿ğ“¾++</a> <a id="2808" class="Symbol">:</a> <a id="2810" href="Agda.Primitive.html#423" class="Function">Universe</a>
 <a id="2820" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="2824" class="Symbol">=</a> <a id="2826" href="Algebras.Products.html#1918" class="Function">ov</a> <a id="2829" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a>
 <a id="2832" href="Birkhoff.FreeAlgebra.html#2797" class="Function">ğ“¸ğ“¿ğ“¾+</a> <a id="2837" class="Symbol">=</a> <a id="2839" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="2843" href="Agda.Primitive.html#606" class="Function Operator">âº</a>
 <a id="2846" href="Birkhoff.FreeAlgebra.html#2802" class="Function">ğ“¸ğ“¿ğ“¾++</a> <a id="2852" class="Symbol">=</a> <a id="2854" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="2858" href="Agda.Primitive.html#606" class="Function Operator">âº</a> <a id="2860" href="Agda.Primitive.html#606" class="Function Operator">âº</a>
</pre>

One could define the collection `ğ‘»img` of all homomorphic images of the term algebra that belong to a given class ğ’¦ as follows.

<pre class="Agda">

 <a id="3018" class="Comment">-- H (ğ‘» X)  (hom images of ğ‘» X)</a>
 <a id="the-free-algebra.ğ‘»img"></a><a id="3051" href="Birkhoff.FreeAlgebra.html#3051" class="Function">ğ‘»img</a> <a id="3056" class="Symbol">:</a> <a id="3058" href="Relations.Unary.html#959" class="Function">Pred</a> <a id="3063" class="Symbol">(</a><a id="3064" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="3072" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a> <a id="3074" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a><a id="3075" class="Symbol">)</a> <a id="3077" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="3081" class="Symbol">â†’</a> <a id="3083" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="3087" href="Agda.Primitive.html#636" class="Function Operator">âŠ”</a> <a id="3089" href="Birkhoff.FreeAlgebra.html#2697" class="Bound">ğ“§</a> <a id="3091" href="Agda.Primitive.html#606" class="Function Operator">âº</a> <a id="3093" href="Universes.html#403" class="Function Operator">Ì‡</a>
 <a id="3096" href="Birkhoff.FreeAlgebra.html#3051" class="Function">ğ‘»img</a> <a id="3101" href="Birkhoff.FreeAlgebra.html#3101" class="Bound">ğ’¦</a> <a id="3103" class="Symbol">=</a> <a id="3105" href="MGS-MLTT.html#3074" class="Function">Î£</a> <a id="3107" href="Birkhoff.FreeAlgebra.html#3107" class="Bound">ğ‘¨</a> <a id="3109" href="MGS-MLTT.html#3074" class="Function">ê‰</a> <a id="3111" class="Symbol">(</a><a id="3112" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="3120" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a> <a id="3122" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a><a id="3123" class="Symbol">)</a> <a id="3125" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="3127" href="MGS-MLTT.html#3074" class="Function">Î£</a> <a id="3129" href="Birkhoff.FreeAlgebra.html#3129" class="Bound">Ï•</a> <a id="3131" href="MGS-MLTT.html#3074" class="Function">ê‰</a> <a id="3133" href="Homomorphisms.Basic.html#2278" class="Function">hom</a> <a id="3137" class="Symbol">(</a><a id="3138" href="Terms.Basic.html#3603" class="Function">ğ‘»</a> <a id="3140" href="Birkhoff.FreeAlgebra.html#2711" class="Bound">X</a><a id="3141" class="Symbol">)</a> <a id="3143" href="Birkhoff.FreeAlgebra.html#3107" class="Bound">ğ‘¨</a> <a id="3145" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="3147" class="Symbol">(</a><a id="3148" href="Birkhoff.FreeAlgebra.html#3107" class="Bound">ğ‘¨</a> <a id="3150" href="Relations.Unary.html#1958" class="Function Operator">âˆˆ</a> <a id="3152" href="Birkhoff.FreeAlgebra.html#3101" class="Bound">ğ’¦</a><a id="3153" class="Symbol">)</a> <a id="3155" href="MGS-MLTT.html#3515" class="Function Operator">Ã—</a> <a id="3157" href="Prelude.Inverses.html#2632" class="Function">Epic</a> <a id="3162" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="3164" href="Birkhoff.FreeAlgebra.html#3129" class="Bound">Ï•</a> <a id="3166" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a>

</pre>

The inhabitants of this Sigma type represent algebras ğ‘¨ âˆˆ ğ’¦ such that there exists a surjective homomorphism Ï• : hom (ğ‘» X) ğ‘¨. Thus, ğ‘»img represents the collection of all homomorphic images of ğ‘» X that belong to ğ’¦.  Of course, this is the entire class ğ’¦, since the term algebra is absolutely free. Nonetheless, this representation of ğ’¦ is useful since it endows each element with extra information.  Indeed, each inhabitant of ğ‘»img ğ’¦ is a quadruple, (ğ‘¨ , Ï• , ka, p), where ğ‘¨ is an ğ‘†-algebra, Ï• is a homomorphism from ğ‘» X to ğ‘¨, ka is a proof that ğ‘¨ belongs to ğ’¦, and p is a proof that the underlying map âˆ£ Ï• âˆ£ is epic.

The next function, `mkti`, that takes an arbitrary algebra ğ‘¨ in ğ’¦ and a mapping X â†’ âˆ£ ğ‘¨ âˆ£ and returns the corresponding quadruple in `ğ‘»img ğ’¦`.

<pre class="Agda">

 <a id="the-free-algebra.mkti"></a><a id="3958" href="Birkhoff.FreeAlgebra.html#3958" class="Function">mkti</a> <a id="3963" class="Symbol">:</a> <a id="3965" class="Symbol">{</a><a id="3966" href="Birkhoff.FreeAlgebra.html#3966" class="Bound">ğ’¦</a> <a id="3968" class="Symbol">:</a> <a id="3970" href="Relations.Unary.html#959" class="Function">Pred</a> <a id="3975" class="Symbol">(</a><a id="3976" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="3984" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a> <a id="3986" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a><a id="3987" class="Symbol">)</a><a id="3988" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="3991" class="Symbol">}(</a><a id="3993" href="Birkhoff.FreeAlgebra.html#3993" class="Bound">ğ‘¨</a> <a id="3995" class="Symbol">:</a> <a id="3997" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4005" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a> <a id="4007" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a><a id="4008" class="Symbol">)(</a><a id="4010" href="Birkhoff.FreeAlgebra.html#4010" class="Bound">h</a> <a id="4012" class="Symbol">:</a> <a id="4014" href="Birkhoff.FreeAlgebra.html#2711" class="Bound">X</a> <a id="4016" class="Symbol">â†’</a> <a id="4018" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="4020" href="Birkhoff.FreeAlgebra.html#3993" class="Bound">ğ‘¨</a> <a id="4022" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a><a id="4023" class="Symbol">)</a> <a id="4025" class="Symbol">â†’</a> <a id="4027" href="Prelude.Inverses.html#2632" class="Function">Epic</a> <a id="4032" href="Birkhoff.FreeAlgebra.html#4010" class="Bound">h</a> <a id="4034" class="Symbol">â†’</a> <a id="4036" href="Birkhoff.FreeAlgebra.html#3993" class="Bound">ğ‘¨</a> <a id="4038" href="Relations.Unary.html#1958" class="Function Operator">âˆˆ</a> <a id="4040" href="Birkhoff.FreeAlgebra.html#3966" class="Bound">ğ’¦</a> <a id="4042" class="Symbol">â†’</a> <a id="4044" href="Birkhoff.FreeAlgebra.html#3051" class="Function">ğ‘»img</a> <a id="4049" href="Birkhoff.FreeAlgebra.html#3966" class="Bound">ğ’¦</a>
 <a id="4052" href="Birkhoff.FreeAlgebra.html#3958" class="Function">mkti</a> <a id="4057" href="Birkhoff.FreeAlgebra.html#4057" class="Bound">ğ‘¨</a> <a id="4059" href="Birkhoff.FreeAlgebra.html#4059" class="Bound">h</a> <a id="4061" href="Birkhoff.FreeAlgebra.html#4061" class="Bound">hE</a> <a id="4064" href="Birkhoff.FreeAlgebra.html#4064" class="Bound">ka</a> <a id="4067" class="Symbol">=</a> <a id="4069" class="Symbol">(</a><a id="4070" href="Birkhoff.FreeAlgebra.html#4057" class="Bound">ğ‘¨</a> <a id="4072" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="4074" href="Terms.Basic.html#4495" class="Function">lift-hom</a> <a id="4083" href="Birkhoff.FreeAlgebra.html#4057" class="Bound">ğ‘¨</a> <a id="4085" href="Birkhoff.FreeAlgebra.html#4059" class="Bound">h</a> <a id="4087" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="4089" href="Birkhoff.FreeAlgebra.html#4064" class="Bound">ka</a> <a id="4092" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="4094" href="Terms.Basic.html#5688" class="Function">lift-of-epi-is-epi</a> <a id="4113" href="Birkhoff.FreeAlgebra.html#4057" class="Bound">ğ‘¨</a> <a id="4115" href="Birkhoff.FreeAlgebra.html#4059" class="Bound">h</a> <a id="4117" href="Birkhoff.FreeAlgebra.html#4061" class="Bound">hE</a><a id="4119" class="Symbol">)</a>

</pre>

We now construct the congruence relation `ÏˆCon`, modulo which `ğ‘» X` will yield the relatively free algebra, `ğ”‰ ğ’¦ X := ğ‘» X â•± ÏˆCon`. We start by letting Ïˆ be the collection of all identities (p, q) satisfied by all subalgebras of algebras in ğ’¦.

<pre class="Agda">

 <a id="the-free-algebra.Ïˆ"></a><a id="4393" href="Birkhoff.FreeAlgebra.html#4393" class="Function">Ïˆ</a> <a id="4395" class="Symbol">:</a> <a id="4397" class="Symbol">(</a><a id="4398" href="Birkhoff.FreeAlgebra.html#4398" class="Bound">ğ’¦</a> <a id="4400" class="Symbol">:</a> <a id="4402" href="Relations.Unary.html#959" class="Function">Pred</a> <a id="4407" class="Symbol">(</a><a id="4408" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4416" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a> <a id="4418" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a><a id="4419" class="Symbol">)</a> <a id="4421" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="4424" class="Symbol">)</a> <a id="4426" class="Symbol">â†’</a> <a id="4428" href="Relations.Unary.html#959" class="Function">Pred</a> <a id="4433" class="Symbol">(</a><a id="4434" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="4436" href="Terms.Basic.html#3603" class="Function">ğ‘»</a> <a id="4438" href="Birkhoff.FreeAlgebra.html#2711" class="Bound">X</a> <a id="4440" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="4442" href="MGS-MLTT.html#3515" class="Function Operator">Ã—</a> <a id="4444" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="4446" href="Terms.Basic.html#3603" class="Function">ğ‘»</a> <a id="4448" href="Birkhoff.FreeAlgebra.html#2711" class="Bound">X</a> <a id="4450" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a><a id="4451" class="Symbol">)</a> <a id="4453" class="Symbol">(</a><a id="4454" href="Birkhoff.FreeAlgebra.html#2697" class="Bound">ğ“§</a> <a id="4456" href="Agda.Primitive.html#636" class="Function Operator">âŠ”</a> <a id="4458" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="4461" class="Symbol">)</a>
 <a id="4464" href="Birkhoff.FreeAlgebra.html#4393" class="Function">Ïˆ</a> <a id="4466" href="Birkhoff.FreeAlgebra.html#4466" class="Bound">ğ’¦</a> <a id="4468" class="Symbol">(</a><a id="4469" href="Birkhoff.FreeAlgebra.html#4469" class="Bound">p</a> <a id="4471" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="4473" href="Birkhoff.FreeAlgebra.html#4473" class="Bound">q</a><a id="4474" class="Symbol">)</a> <a id="4476" class="Symbol">=</a> <a id="4478" class="Symbol">âˆ€(</a><a id="4480" href="Birkhoff.FreeAlgebra.html#4480" class="Bound">ğ‘¨</a> <a id="4482" class="Symbol">:</a> <a id="4484" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4492" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a> <a id="4494" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a><a id="4495" class="Symbol">)(</a><a id="4497" href="Birkhoff.FreeAlgebra.html#4497" class="Bound">sA</a> <a id="4500" class="Symbol">:</a> <a id="4502" href="Birkhoff.FreeAlgebra.html#4480" class="Bound">ğ‘¨</a> <a id="4504" href="Relations.Unary.html#1958" class="Function Operator">âˆˆ</a> <a id="4506" href="Varieties.Varieties.html#2944" class="Datatype">S</a><a id="4507" class="Symbol">{</a><a id="4508" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a><a id="4509" class="Symbol">}{</a><a id="4511" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a><a id="4512" class="Symbol">}</a> <a id="4514" href="Birkhoff.FreeAlgebra.html#4466" class="Bound">ğ’¦</a><a id="4515" class="Symbol">)(</a><a id="4517" href="Birkhoff.FreeAlgebra.html#4517" class="Bound">h</a> <a id="4519" class="Symbol">:</a> <a id="4521" href="Birkhoff.FreeAlgebra.html#2711" class="Bound">X</a> <a id="4523" class="Symbol">â†’</a> <a id="4525" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="4527" href="Birkhoff.FreeAlgebra.html#4480" class="Bound">ğ‘¨</a> <a id="4529" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="4531" class="Symbol">)</a>
                 <a id="4550" class="Symbol">â†’</a>  <a id="4553" class="Symbol">(</a><a id="4554" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="4564" href="Birkhoff.FreeAlgebra.html#4480" class="Bound">ğ‘¨</a> <a id="4566" href="Birkhoff.FreeAlgebra.html#4517" class="Bound">h</a><a id="4567" class="Symbol">)</a> <a id="4569" href="Birkhoff.FreeAlgebra.html#4469" class="Bound">p</a> <a id="4571" href="Prelude.Inverses.html#620" class="Datatype Operator">â‰¡</a> <a id="4573" class="Symbol">(</a><a id="4574" href="Terms.Basic.html#4221" class="Function">free-lift</a> <a id="4584" href="Birkhoff.FreeAlgebra.html#4480" class="Bound">ğ‘¨</a> <a id="4586" href="Birkhoff.FreeAlgebra.html#4517" class="Bound">h</a><a id="4587" class="Symbol">)</a> <a id="4589" href="Birkhoff.FreeAlgebra.html#4473" class="Bound">q</a>

</pre>

We convert the predicate Ïˆ into a relation by [currying](https://en.wikipedia.org/wiki/Currying).

<pre class="Agda">

 <a id="the-free-algebra.ÏˆRel"></a><a id="4718" href="Birkhoff.FreeAlgebra.html#4718" class="Function">ÏˆRel</a> <a id="4723" class="Symbol">:</a> <a id="4725" class="Symbol">(</a><a id="4726" href="Birkhoff.FreeAlgebra.html#4726" class="Bound">ğ’¦</a> <a id="4728" class="Symbol">:</a> <a id="4730" href="Relations.Unary.html#959" class="Function">Pred</a> <a id="4735" class="Symbol">(</a><a id="4736" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="4744" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a> <a id="4746" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a><a id="4747" class="Symbol">)</a> <a id="4749" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="4752" class="Symbol">)</a> <a id="4754" class="Symbol">â†’</a> <a id="4756" href="Relations.Binary.html#1797" class="Function">Rel</a> <a id="4760" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="4762" class="Symbol">(</a><a id="4763" href="Terms.Basic.html#3603" class="Function">ğ‘»</a> <a id="4765" href="Birkhoff.FreeAlgebra.html#2711" class="Bound">X</a><a id="4766" class="Symbol">)</a> <a id="4768" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="4770" class="Symbol">(</a><a id="4771" href="Birkhoff.FreeAlgebra.html#2697" class="Bound">ğ“§</a> <a id="4773" href="Agda.Primitive.html#636" class="Function Operator">âŠ”</a> <a id="4775" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="4778" class="Symbol">)</a>
 <a id="4781" href="Birkhoff.FreeAlgebra.html#4718" class="Function">ÏˆRel</a> <a id="4786" href="Birkhoff.FreeAlgebra.html#4786" class="Bound">ğ’¦</a> <a id="4788" href="Birkhoff.FreeAlgebra.html#4788" class="Bound">p</a> <a id="4790" href="Birkhoff.FreeAlgebra.html#4790" class="Bound">q</a> <a id="4792" class="Symbol">=</a> <a id="4794" href="Birkhoff.FreeAlgebra.html#4393" class="Function">Ïˆ</a> <a id="4796" href="Birkhoff.FreeAlgebra.html#4786" class="Bound">ğ’¦</a> <a id="4798" class="Symbol">(</a><a id="4799" href="Birkhoff.FreeAlgebra.html#4788" class="Bound">p</a> <a id="4801" href="Prelude.Preliminaries.html#14564" class="InductiveConstructor Operator">,</a> <a id="4803" href="Birkhoff.FreeAlgebra.html#4790" class="Bound">q</a><a id="4804" class="Symbol">)</a>

</pre>

To express `ÏˆRel` as a congruence of the term algebra `ğ‘» X`, we must prove that

1. `ÏˆRel` is compatible with the operations of `ğ‘» X` (which are jsut the terms themselves) and
2. `ÏˆRel` it is an equivalence relation.

<pre class="Agda">

 <a id="the-free-algebra.Ïˆcompatible"></a><a id="5052" href="Birkhoff.FreeAlgebra.html#5052" class="Function">Ïˆcompatible</a> <a id="5064" class="Symbol">:</a> <a id="5066" class="Symbol">(</a><a id="5067" href="Birkhoff.FreeAlgebra.html#5067" class="Bound">ğ’¦</a> <a id="5069" class="Symbol">:</a> <a id="5071" href="Relations.Unary.html#959" class="Function">Pred</a> <a id="5076" class="Symbol">(</a><a id="5077" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5085" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a> <a id="5087" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a><a id="5088" class="Symbol">)</a> <a id="5090" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="5093" class="Symbol">)</a> <a id="5095" class="Symbol">â†’</a> <a id="5097" href="Algebras.Algebras.html#5566" class="Function">compatible</a> <a id="5108" class="Symbol">(</a><a id="5109" href="Terms.Basic.html#3603" class="Function">ğ‘»</a> <a id="5111" href="Birkhoff.FreeAlgebra.html#2711" class="Bound">X</a><a id="5112" class="Symbol">)(</a><a id="5114" href="Birkhoff.FreeAlgebra.html#4718" class="Function">ÏˆRel</a> <a id="5119" href="Birkhoff.FreeAlgebra.html#5067" class="Bound">ğ’¦</a><a id="5120" class="Symbol">)</a>
 <a id="5123" href="Birkhoff.FreeAlgebra.html#5052" class="Function">Ïˆcompatible</a> <a id="5135" href="Birkhoff.FreeAlgebra.html#5135" class="Bound">ğ’¦</a> <a id="5137" href="Birkhoff.FreeAlgebra.html#5137" class="Bound">f</a> <a id="5139" class="Symbol">{</a><a id="5140" href="Birkhoff.FreeAlgebra.html#5140" class="Bound">i</a><a id="5141" class="Symbol">}</a> <a id="5143" class="Symbol">{</a><a id="5144" href="Birkhoff.FreeAlgebra.html#5144" class="Bound">j</a><a id="5145" class="Symbol">}</a> <a id="5147" href="Birkhoff.FreeAlgebra.html#5147" class="Bound">iÏˆj</a> <a id="5151" href="Birkhoff.FreeAlgebra.html#5151" class="Bound">ğ‘¨</a> <a id="5153" href="Birkhoff.FreeAlgebra.html#5153" class="Bound">sA</a> <a id="5156" href="Birkhoff.FreeAlgebra.html#5156" class="Bound">h</a> <a id="5158" class="Symbol">=</a> <a id="5160" href="Birkhoff.FreeAlgebra.html#5213" class="Function">Î³</a>
  <a id="5164" class="Keyword">where</a>
   <a id="5173" href="Birkhoff.FreeAlgebra.html#5173" class="Function">Ï•</a> <a id="5175" class="Symbol">:</a> <a id="5177" href="Homomorphisms.Basic.html#2278" class="Function">hom</a> <a id="5181" class="Symbol">(</a><a id="5182" href="Terms.Basic.html#3603" class="Function">ğ‘»</a> <a id="5184" href="Birkhoff.FreeAlgebra.html#2711" class="Bound">X</a><a id="5185" class="Symbol">)</a> <a id="5187" href="Birkhoff.FreeAlgebra.html#5151" class="Bound">ğ‘¨</a>
   <a id="5192" href="Birkhoff.FreeAlgebra.html#5173" class="Function">Ï•</a> <a id="5194" class="Symbol">=</a> <a id="5196" href="Terms.Basic.html#4495" class="Function">lift-hom</a> <a id="5205" href="Birkhoff.FreeAlgebra.html#5151" class="Bound">ğ‘¨</a> <a id="5207" href="Birkhoff.FreeAlgebra.html#5156" class="Bound">h</a>

   <a id="5213" href="Birkhoff.FreeAlgebra.html#5213" class="Function">Î³</a> <a id="5215" class="Symbol">:</a> <a id="5217" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="5219" href="Birkhoff.FreeAlgebra.html#5173" class="Function">Ï•</a> <a id="5221" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="5223" class="Symbol">((</a><a id="5225" href="Birkhoff.FreeAlgebra.html#5137" class="Bound">f</a> <a id="5227" href="Algebras.Algebras.html#2844" class="Function Operator">Ì‚</a> <a id="5229" href="Terms.Basic.html#3603" class="Function">ğ‘»</a> <a id="5231" href="Birkhoff.FreeAlgebra.html#2711" class="Bound">X</a><a id="5232" class="Symbol">)</a> <a id="5234" href="Birkhoff.FreeAlgebra.html#5140" class="Bound">i</a><a id="5235" class="Symbol">)</a> <a id="5237" href="Prelude.Inverses.html#620" class="Datatype Operator">â‰¡</a> <a id="5239" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="5241" href="Birkhoff.FreeAlgebra.html#5173" class="Function">Ï•</a> <a id="5243" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="5245" class="Symbol">((</a><a id="5247" href="Birkhoff.FreeAlgebra.html#5137" class="Bound">f</a> <a id="5249" href="Algebras.Algebras.html#2844" class="Function Operator">Ì‚</a> <a id="5251" href="Terms.Basic.html#3603" class="Function">ğ‘»</a> <a id="5253" href="Birkhoff.FreeAlgebra.html#2711" class="Bound">X</a><a id="5254" class="Symbol">)</a> <a id="5256" href="Birkhoff.FreeAlgebra.html#5144" class="Bound">j</a><a id="5257" class="Symbol">)</a>
   <a id="5262" href="Birkhoff.FreeAlgebra.html#5213" class="Function">Î³</a> <a id="5264" class="Symbol">=</a> <a id="5266" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="5268" href="Birkhoff.FreeAlgebra.html#5173" class="Function">Ï•</a> <a id="5270" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="5272" class="Symbol">((</a><a id="5274" href="Birkhoff.FreeAlgebra.html#5137" class="Bound">f</a> <a id="5276" href="Algebras.Algebras.html#2844" class="Function Operator">Ì‚</a> <a id="5278" href="Terms.Basic.html#3603" class="Function">ğ‘»</a> <a id="5280" href="Birkhoff.FreeAlgebra.html#2711" class="Bound">X</a><a id="5281" class="Symbol">)</a> <a id="5283" href="Birkhoff.FreeAlgebra.html#5140" class="Bound">i</a><a id="5284" class="Symbol">)</a> <a id="5286" href="MGS-MLTT.html#5997" class="Function Operator">â‰¡âŸ¨</a> <a id="5289" href="Prelude.Preliminaries.html#13647" class="Function Operator">âˆ¥</a> <a id="5291" href="Birkhoff.FreeAlgebra.html#5173" class="Function">Ï•</a> <a id="5293" href="Prelude.Preliminaries.html#13647" class="Function Operator">âˆ¥</a> <a id="5295" href="Birkhoff.FreeAlgebra.html#5137" class="Bound">f</a> <a id="5297" href="Birkhoff.FreeAlgebra.html#5140" class="Bound">i</a> <a id="5299" href="MGS-MLTT.html#5997" class="Function Operator">âŸ©</a>
       <a id="5308" class="Symbol">(</a><a id="5309" href="Birkhoff.FreeAlgebra.html#5137" class="Bound">f</a> <a id="5311" href="Algebras.Algebras.html#2844" class="Function Operator">Ì‚</a> <a id="5313" href="Birkhoff.FreeAlgebra.html#5151" class="Bound">ğ‘¨</a><a id="5314" class="Symbol">)</a> <a id="5316" class="Symbol">(</a><a id="5317" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="5319" href="Birkhoff.FreeAlgebra.html#5173" class="Function">Ï•</a> <a id="5321" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="5323" href="MGS-MLTT.html#3813" class="Function Operator">âˆ˜</a> <a id="5325" href="Birkhoff.FreeAlgebra.html#5140" class="Bound">i</a><a id="5326" class="Symbol">)</a> <a id="5328" href="MGS-MLTT.html#5997" class="Function Operator">â‰¡âŸ¨</a> <a id="5331" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="5334" class="Symbol">(</a><a id="5335" href="Birkhoff.FreeAlgebra.html#5137" class="Bound">f</a> <a id="5337" href="Algebras.Algebras.html#2844" class="Function Operator">Ì‚</a> <a id="5339" href="Birkhoff.FreeAlgebra.html#5151" class="Bound">ğ‘¨</a><a id="5340" class="Symbol">)</a> <a id="5342" class="Symbol">(</a><a id="5343" href="Birkhoff.FreeAlgebra.html#2428" class="Bound">gfe</a> <a id="5347" class="Symbol">Î»</a> <a id="5349" href="Birkhoff.FreeAlgebra.html#5349" class="Bound">x</a> <a id="5351" class="Symbol">â†’</a> <a id="5353" class="Symbol">((</a><a id="5355" href="Birkhoff.FreeAlgebra.html#5147" class="Bound">iÏˆj</a> <a id="5359" href="Birkhoff.FreeAlgebra.html#5349" class="Bound">x</a><a id="5360" class="Symbol">)</a> <a id="5362" href="Birkhoff.FreeAlgebra.html#5151" class="Bound">ğ‘¨</a> <a id="5364" href="Birkhoff.FreeAlgebra.html#5153" class="Bound">sA</a> <a id="5367" href="Birkhoff.FreeAlgebra.html#5156" class="Bound">h</a><a id="5368" class="Symbol">))</a> <a id="5371" href="MGS-MLTT.html#5997" class="Function Operator">âŸ©</a>
       <a id="5380" class="Symbol">(</a><a id="5381" href="Birkhoff.FreeAlgebra.html#5137" class="Bound">f</a> <a id="5383" href="Algebras.Algebras.html#2844" class="Function Operator">Ì‚</a> <a id="5385" href="Birkhoff.FreeAlgebra.html#5151" class="Bound">ğ‘¨</a><a id="5386" class="Symbol">)</a> <a id="5388" class="Symbol">(</a><a id="5389" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="5391" href="Birkhoff.FreeAlgebra.html#5173" class="Function">Ï•</a> <a id="5393" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="5395" href="MGS-MLTT.html#3813" class="Function Operator">âˆ˜</a> <a id="5397" href="Birkhoff.FreeAlgebra.html#5144" class="Bound">j</a><a id="5398" class="Symbol">)</a> <a id="5400" href="MGS-MLTT.html#5997" class="Function Operator">â‰¡âŸ¨</a> <a id="5403" class="Symbol">(</a><a id="5404" href="Prelude.Preliminaries.html#13647" class="Function Operator">âˆ¥</a> <a id="5406" href="Birkhoff.FreeAlgebra.html#5173" class="Function">Ï•</a> <a id="5408" href="Prelude.Preliminaries.html#13647" class="Function Operator">âˆ¥</a> <a id="5410" href="Birkhoff.FreeAlgebra.html#5137" class="Bound">f</a> <a id="5412" href="Birkhoff.FreeAlgebra.html#5144" class="Bound">j</a><a id="5413" class="Symbol">)</a><a id="5414" href="MGS-MLTT.html#6125" class="Function Operator">â»Â¹</a> <a id="5417" href="MGS-MLTT.html#5997" class="Function Operator">âŸ©</a>
       <a id="5426" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="5428" href="Birkhoff.FreeAlgebra.html#5173" class="Function">Ï•</a> <a id="5430" href="Prelude.Preliminaries.html#13569" class="Function Operator">âˆ£</a> <a id="5432" class="Symbol">((</a><a id="5434" href="Birkhoff.FreeAlgebra.html#5137" class="Bound">f</a> <a id="5436" href="Algebras.Algebras.html#2844" class="Function Operator">Ì‚</a> <a id="5438" href="Terms.Basic.html#3603" class="Function">ğ‘»</a> <a id="5440" href="Birkhoff.FreeAlgebra.html#2711" class="Bound">X</a><a id="5441" class="Symbol">)</a> <a id="5443" href="Birkhoff.FreeAlgebra.html#5144" class="Bound">j</a><a id="5444" class="Symbol">)</a> <a id="5446" href="MGS-MLTT.html#6079" class="Function Operator">âˆ</a>

 <a id="the-free-algebra.ÏˆRefl"></a><a id="5450" href="Birkhoff.FreeAlgebra.html#5450" class="Function">ÏˆRefl</a> <a id="5456" class="Symbol">:</a> <a id="5458" class="Symbol">{</a><a id="5459" href="Birkhoff.FreeAlgebra.html#5459" class="Bound">ğ’¦</a> <a id="5461" class="Symbol">:</a> <a id="5463" href="Relations.Unary.html#959" class="Function">Pred</a> <a id="5468" class="Symbol">(</a><a id="5469" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5477" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a> <a id="5479" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a><a id="5480" class="Symbol">)</a> <a id="5482" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="5485" class="Symbol">}</a> <a id="5487" class="Symbol">â†’</a> <a id="5489" href="Relations.Quotients.html#918" class="Function">reflexive</a> <a id="5499" class="Symbol">(</a><a id="5500" href="Birkhoff.FreeAlgebra.html#4718" class="Function">ÏˆRel</a> <a id="5505" href="Birkhoff.FreeAlgebra.html#5459" class="Bound">ğ’¦</a><a id="5506" class="Symbol">)</a>
 <a id="5509" href="Birkhoff.FreeAlgebra.html#5450" class="Function">ÏˆRefl</a> <a id="5515" class="Symbol">=</a> <a id="5517" class="Symbol">Î»</a> <a id="5519" href="Birkhoff.FreeAlgebra.html#5519" class="Bound">x</a> <a id="5521" href="Birkhoff.FreeAlgebra.html#5521" class="Bound">ğ‘ª</a> <a id="5523" href="Birkhoff.FreeAlgebra.html#5523" class="Bound">Ï•</a> <a id="5525" href="Birkhoff.FreeAlgebra.html#5525" class="Bound">h</a> <a id="5527" class="Symbol">â†’</a> <a id="5529" href="Prelude.Inverses.html#634" class="InductiveConstructor">ğ“‡â„¯ğ’»ğ“</a>

 <a id="the-free-algebra.ÏˆSymm"></a><a id="5536" href="Birkhoff.FreeAlgebra.html#5536" class="Function">ÏˆSymm</a> <a id="5542" class="Symbol">:</a> <a id="5544" class="Symbol">{</a><a id="5545" href="Birkhoff.FreeAlgebra.html#5545" class="Bound">ğ’¦</a> <a id="5547" class="Symbol">:</a> <a id="5549" href="Relations.Unary.html#959" class="Function">Pred</a> <a id="5554" class="Symbol">(</a><a id="5555" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5563" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a> <a id="5565" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a><a id="5566" class="Symbol">)</a> <a id="5568" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="5571" class="Symbol">}</a> <a id="5573" class="Symbol">â†’</a> <a id="5575" href="Relations.Quotients.html#1006" class="Function">symmetric</a> <a id="5585" class="Symbol">(</a><a id="5586" href="Birkhoff.FreeAlgebra.html#4718" class="Function">ÏˆRel</a> <a id="5591" href="Birkhoff.FreeAlgebra.html#5545" class="Bound">ğ’¦</a><a id="5592" class="Symbol">)</a>
 <a id="5595" href="Birkhoff.FreeAlgebra.html#5536" class="Function">ÏˆSymm</a> <a id="5601" href="Birkhoff.FreeAlgebra.html#5601" class="Bound">p</a> <a id="5603" href="Birkhoff.FreeAlgebra.html#5603" class="Bound">q</a> <a id="5605" href="Birkhoff.FreeAlgebra.html#5605" class="Bound">pÏˆRelq</a> <a id="5612" href="Birkhoff.FreeAlgebra.html#5612" class="Bound">ğ‘ª</a> <a id="5614" href="Birkhoff.FreeAlgebra.html#5614" class="Bound">Ï•</a> <a id="5616" href="Birkhoff.FreeAlgebra.html#5616" class="Bound">h</a> <a id="5618" class="Symbol">=</a> <a id="5620" class="Symbol">(</a><a id="5621" href="Birkhoff.FreeAlgebra.html#5605" class="Bound">pÏˆRelq</a> <a id="5628" href="Birkhoff.FreeAlgebra.html#5612" class="Bound">ğ‘ª</a> <a id="5630" href="Birkhoff.FreeAlgebra.html#5614" class="Bound">Ï•</a> <a id="5632" href="Birkhoff.FreeAlgebra.html#5616" class="Bound">h</a><a id="5633" class="Symbol">)</a><a id="5634" href="MGS-MLTT.html#6125" class="Function Operator">â»Â¹</a>

 <a id="the-free-algebra.ÏˆTrans"></a><a id="5639" href="Birkhoff.FreeAlgebra.html#5639" class="Function">ÏˆTrans</a> <a id="5646" class="Symbol">:</a> <a id="5648" class="Symbol">{</a><a id="5649" href="Birkhoff.FreeAlgebra.html#5649" class="Bound">ğ’¦</a> <a id="5651" class="Symbol">:</a> <a id="5653" href="Relations.Unary.html#959" class="Function">Pred</a> <a id="5658" class="Symbol">(</a><a id="5659" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5667" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a> <a id="5669" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a><a id="5670" class="Symbol">)</a> <a id="5672" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="5675" class="Symbol">}</a> <a id="5677" class="Symbol">â†’</a> <a id="5679" href="Relations.Quotients.html#1218" class="Function">transitive</a> <a id="5690" class="Symbol">(</a><a id="5691" href="Birkhoff.FreeAlgebra.html#4718" class="Function">ÏˆRel</a> <a id="5696" href="Birkhoff.FreeAlgebra.html#5649" class="Bound">ğ’¦</a><a id="5697" class="Symbol">)</a>
 <a id="5700" href="Birkhoff.FreeAlgebra.html#5639" class="Function">ÏˆTrans</a> <a id="5707" href="Birkhoff.FreeAlgebra.html#5707" class="Bound">p</a> <a id="5709" href="Birkhoff.FreeAlgebra.html#5709" class="Bound">q</a> <a id="5711" href="Birkhoff.FreeAlgebra.html#5711" class="Bound">r</a> <a id="5713" href="Birkhoff.FreeAlgebra.html#5713" class="Bound">pÏˆq</a> <a id="5717" href="Birkhoff.FreeAlgebra.html#5717" class="Bound">qÏˆr</a> <a id="5721" href="Birkhoff.FreeAlgebra.html#5721" class="Bound">ğ‘ª</a> <a id="5723" href="Birkhoff.FreeAlgebra.html#5723" class="Bound">Ï•</a> <a id="5725" href="Birkhoff.FreeAlgebra.html#5725" class="Bound">h</a> <a id="5727" class="Symbol">=</a> <a id="5729" class="Symbol">(</a><a id="5730" href="Birkhoff.FreeAlgebra.html#5713" class="Bound">pÏˆq</a> <a id="5734" href="Birkhoff.FreeAlgebra.html#5721" class="Bound">ğ‘ª</a> <a id="5736" href="Birkhoff.FreeAlgebra.html#5723" class="Bound">Ï•</a> <a id="5738" href="Birkhoff.FreeAlgebra.html#5725" class="Bound">h</a><a id="5739" class="Symbol">)</a> <a id="5741" href="MGS-MLTT.html#5910" class="Function Operator">âˆ™</a> <a id="5743" class="Symbol">(</a><a id="5744" href="Birkhoff.FreeAlgebra.html#5717" class="Bound">qÏˆr</a> <a id="5748" href="Birkhoff.FreeAlgebra.html#5721" class="Bound">ğ‘ª</a> <a id="5750" href="Birkhoff.FreeAlgebra.html#5723" class="Bound">Ï•</a> <a id="5752" href="Birkhoff.FreeAlgebra.html#5725" class="Bound">h</a><a id="5753" class="Symbol">)</a>

 <a id="the-free-algebra.ÏˆIsEquivalence"></a><a id="5757" href="Birkhoff.FreeAlgebra.html#5757" class="Function">ÏˆIsEquivalence</a> <a id="5772" class="Symbol">:</a> <a id="5774" class="Symbol">{</a><a id="5775" href="Birkhoff.FreeAlgebra.html#5775" class="Bound">ğ’¦</a> <a id="5777" class="Symbol">:</a> <a id="5779" href="Relations.Unary.html#959" class="Function">Pred</a> <a id="5784" class="Symbol">(</a><a id="5785" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="5793" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a> <a id="5795" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a><a id="5796" class="Symbol">)</a> <a id="5798" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="5801" class="Symbol">}</a> <a id="5803" class="Symbol">â†’</a> <a id="5805" href="Relations.Quotients.html#1913" class="Record">IsEquivalence</a> <a id="5819" class="Symbol">(</a><a id="5820" href="Birkhoff.FreeAlgebra.html#4718" class="Function">ÏˆRel</a> <a id="5825" href="Birkhoff.FreeAlgebra.html#5775" class="Bound">ğ’¦</a><a id="5826" class="Symbol">)</a>
 <a id="5829" href="Birkhoff.FreeAlgebra.html#5757" class="Function">ÏˆIsEquivalence</a> <a id="5844" class="Symbol">=</a> <a id="5846" class="Keyword">record</a> <a id="5853" class="Symbol">{</a> <a id="5855" href="Relations.Quotients.html#1981" class="Field">rfl</a> <a id="5859" class="Symbol">=</a> <a id="5861" href="Birkhoff.FreeAlgebra.html#5450" class="Function">ÏˆRefl</a> <a id="5867" class="Symbol">;</a> <a id="5869" href="Relations.Quotients.html#2006" class="Field">sym</a> <a id="5873" class="Symbol">=</a> <a id="5875" href="Birkhoff.FreeAlgebra.html#5536" class="Function">ÏˆSymm</a> <a id="5881" class="Symbol">;</a> <a id="5883" href="Relations.Quotients.html#2031" class="Field">trans</a> <a id="5889" class="Symbol">=</a> <a id="5891" href="Birkhoff.FreeAlgebra.html#5639" class="Function">ÏˆTrans</a> <a id="5898" class="Symbol">}</a>

</pre>

We have collected all the pieces necessary to express the collection of identities satisfied by all subalgebras of algebras in the class as a congruence relation of the term algebra. We call this congruence `ÏˆCon` and define it using the Congruence constructor `mkcon`.

<pre class="Agda">

 <a id="the-free-algebra.ÏˆCon"></a><a id="6199" href="Birkhoff.FreeAlgebra.html#6199" class="Function">ÏˆCon</a> <a id="6204" class="Symbol">:</a> <a id="6206" class="Symbol">(</a><a id="6207" href="Birkhoff.FreeAlgebra.html#6207" class="Bound">ğ’¦</a> <a id="6209" class="Symbol">:</a> <a id="6211" href="Relations.Unary.html#959" class="Function">Pred</a> <a id="6216" class="Symbol">(</a><a id="6217" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="6225" href="Birkhoff.FreeAlgebra.html#2695" class="Bound">ğ“¤</a> <a id="6227" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a><a id="6228" class="Symbol">)</a> <a id="6230" href="Birkhoff.FreeAlgebra.html#2793" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="6233" class="Symbol">)</a> <a id="6235" class="Symbol">â†’</a> <a id="6237" href="Algebras.Congruences.html#1106" class="Record">Congruence</a> <a id="6248" class="Symbol">(</a><a id="6249" href="Terms.Basic.html#3603" class="Function">ğ‘»</a> <a id="6251" href="Birkhoff.FreeAlgebra.html#2711" class="Bound">X</a><a id="6252" class="Symbol">)</a>
 <a id="6255" href="Birkhoff.FreeAlgebra.html#6199" class="Function">ÏˆCon</a> <a id="6260" href="Birkhoff.FreeAlgebra.html#6260" class="Bound">ğ’¦</a> <a id="6262" class="Symbol">=</a> <a id="6264" href="Algebras.Congruences.html#1185" class="InductiveConstructor">mkcon</a> <a id="6270" class="Symbol">(</a><a id="6271" href="Birkhoff.FreeAlgebra.html#4718" class="Function">ÏˆRel</a> <a id="6276" href="Birkhoff.FreeAlgebra.html#6260" class="Bound">ğ’¦</a><a id="6277" class="Symbol">)</a> <a id="6279" class="Symbol">(</a><a id="6280" href="Birkhoff.FreeAlgebra.html#5052" class="Function">Ïˆcompatible</a> <a id="6292" href="Birkhoff.FreeAlgebra.html#6260" class="Bound">ğ’¦</a><a id="6293" class="Symbol">)</a> <a id="6295" href="Birkhoff.FreeAlgebra.html#5757" class="Function">ÏˆIsEquivalence</a>

</pre>


Finally, we are ready to define the type representing the relatively free algebra in Agda.  We denote this type by ğ”‰ and define it as the quotient `ğ‘» X â•± (ÏˆCon ğ’¦)`.

<pre class="Agda">

<a id="6504" class="Keyword">module</a> <a id="the-relatively-free-algebra"></a><a id="6511" href="Birkhoff.FreeAlgebra.html#6511" class="Module">the-relatively-free-algebra</a>
 <a id="6540" class="Symbol">{</a><a id="6541" href="Birkhoff.FreeAlgebra.html#6541" class="Bound">ğ“¤</a> <a id="6543" href="Birkhoff.FreeAlgebra.html#6543" class="Bound">ğ“§</a> <a id="6545" class="Symbol">:</a> <a id="6547" href="Agda.Primitive.html#423" class="Function">Universe</a><a id="6555" class="Symbol">}{</a><a id="6557" href="Birkhoff.FreeAlgebra.html#6557" class="Bound">X</a> <a id="6559" class="Symbol">:</a> <a id="6561" href="Birkhoff.FreeAlgebra.html#6543" class="Bound">ğ“§</a> <a id="6563" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="6564" class="Symbol">}</a> <a id="6566" class="Symbol">{</a><a id="6567" href="Birkhoff.FreeAlgebra.html#6567" class="Bound">ğ’¦</a> <a id="6569" class="Symbol">:</a> <a id="6571" href="Relations.Unary.html#959" class="Function">Pred</a> <a id="6576" class="Symbol">(</a><a id="6577" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="6585" href="Birkhoff.FreeAlgebra.html#6541" class="Bound">ğ“¤</a> <a id="6587" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a><a id="6588" class="Symbol">)</a> <a id="6590" class="Symbol">(</a><a id="6591" href="Algebras.Products.html#1918" class="Function">ov</a> <a id="6594" href="Birkhoff.FreeAlgebra.html#6541" class="Bound">ğ“¤</a><a id="6595" class="Symbol">)}</a> <a id="6598" class="Keyword">where</a>

 <a id="6606" class="Keyword">open</a> <a id="6611" href="Birkhoff.FreeAlgebra.html#2677" class="Module">the-free-algebra</a><a id="6627" class="Symbol">{</a><a id="6628" class="Argument">ğ“¤</a> <a id="6630" class="Symbol">=</a> <a id="6632" href="Birkhoff.FreeAlgebra.html#6541" class="Bound">ğ“¤</a><a id="6633" class="Symbol">}{</a><a id="6635" class="Argument">ğ“§</a> <a id="6637" class="Symbol">=</a> <a id="6639" href="Birkhoff.FreeAlgebra.html#6543" class="Bound">ğ“§</a><a id="6640" class="Symbol">}{</a><a id="6642" class="Argument">X</a> <a id="6644" class="Symbol">=</a> <a id="6646" href="Birkhoff.FreeAlgebra.html#6557" class="Bound">X</a><a id="6647" class="Symbol">}</a>

 <a id="the-relatively-free-algebra.ğ“•"></a><a id="6651" href="Birkhoff.FreeAlgebra.html#6651" class="Function">ğ“•</a> <a id="6653" class="Symbol">:</a> <a id="6655" href="Agda.Primitive.html#423" class="Function">Universe</a> <a id="6664" class="Comment">-- (universe level of the relatively free algebra)</a>
 <a id="6716" href="Birkhoff.FreeAlgebra.html#6651" class="Function">ğ“•</a> <a id="6718" class="Symbol">=</a> <a id="6720" class="Symbol">(</a><a id="6721" href="Birkhoff.FreeAlgebra.html#6543" class="Bound">ğ“§</a> <a id="6723" href="Agda.Primitive.html#636" class="Function Operator">âŠ”</a> <a id="6725" href="Algebras.Products.html#1918" class="Function">ov</a> <a id="6728" href="Birkhoff.FreeAlgebra.html#6541" class="Bound">ğ“¤</a><a id="6729" class="Symbol">)</a> <a id="6731" href="Agda.Primitive.html#606" class="Function Operator">âº</a>

 <a id="the-relatively-free-algebra.ğ”‰"></a><a id="6735" href="Birkhoff.FreeAlgebra.html#6735" class="Function">ğ”‰</a> <a id="6737" class="Symbol">:</a> <a id="6739" href="Algebras.Algebras.html#694" class="Function">Algebra</a> <a id="6747" href="Birkhoff.FreeAlgebra.html#6651" class="Function">ğ“•</a> <a id="6749" href="Birkhoff.FreeAlgebra.html#2409" class="Bound">ğ‘†</a>
 <a id="6752" href="Birkhoff.FreeAlgebra.html#6735" class="Function">ğ”‰</a> <a id="6754" class="Symbol">=</a>  <a id="6757" href="Terms.Basic.html#3603" class="Function">ğ‘»</a> <a id="6759" href="Birkhoff.FreeAlgebra.html#6557" class="Bound">X</a> <a id="6761" href="Algebras.Congruences.html#3128" class="Function Operator">â•±</a> <a id="6763" class="Symbol">(</a><a id="6764" href="Birkhoff.FreeAlgebra.html#6199" class="Function">ÏˆCon</a> <a id="6769" href="Birkhoff.FreeAlgebra.html#6567" class="Bound">ğ’¦</a><a id="6770" class="Symbol">)</a>

</pre>

The domain âˆ£ ğ”‰ âˆ£ is

`âˆ£ ğ‘» X âˆ£ / âŸ¨ ÏˆCon ğ’¦ âŸ© = Î£ C ê‰ _ ,  Î£ p ê‰ âˆ£ ğ‘» X âˆ£ ,  C â‰¡ ( [ p ] âŸ¨ ÏˆCon ğ’¦ âŸ© )`,

which is the collection `{ C : âˆƒ p âˆˆ âˆ£ ğ‘» X âˆ£, C â‰¡ [ p ]âŸ¨ ÏˆCon ğ’¦ âŸ© }` of `âŸ¨ ÏˆCon ğ’¦ âŸ©`-classses of `ğ‘» X`, as desired.


----------------------------

<span class="footnote" id="fn1"><sup>1</sup>Since `X` is not a subset of `ğ”‰`, technically it doesn't make sense to say "`X` generates `ğ”‰`." But as long as ğ’¦ contains a nontrivial algebra, we will have `Ïˆ(ğ’¦, ğ‘» ğ‘‹) âˆ© XÂ² â‰  âˆ…`, and we can identify `X` with `X / Ïˆ(ğ’¦, ğ‘» X)` which does belong to ğ”‰.</span>

[â†‘ Birkhoff](Birkhoff.html)
<span style="float:right;">[Birkhoff.HSPTheorem â†’](Birkhoff.HSPTheorem.html)</span>

{% include UALib.Links.md %}

<!--

Lemma 4.27. (Bergman) Let ğ’¦ be a class of algebras, and ÏˆCon defined as above.
                     Then ğ”½ := ğ‘» / ÏˆCon is isomorphic to an algebra in SP(ğ’¦).

Proof. ğ”½ â†ª â¨… ğ’œ, where ğ’œ = {ğ‘¨ / Î¸ : ğ‘¨ / Î¸ âˆˆ S ğ’¦}.
       Therefore, ğ”½ â‰… ğ‘©, where ğ‘© is a subalgebra of â¨… ğ’œ âˆˆ PS(ğ’¦).
       Thus ğ”½ is isomorphic to an algebra in SPS(ğ’¦).
       By SPSâŠ†SP, ğ”½ is isomorphic to an algebra in SP(ğ’¦).

-->



