---
layout: default
title : UALib.Prelude.Inverses module (Agda Universal Algebra Library)
date : 2021-01-12
author: William DeMeo
---

### <a id="inverses">Inverses</a>

This section presents the [UALib.Prelude.Inverses][] module of the [Agda Universal Algebra Library][].

<pre class="Agda">

<a id="290" class="Symbol">{-#</a> <a id="294" class="Keyword">OPTIONS</a> <a id="302" class="Pragma">--without-K</a> <a id="314" class="Pragma">--exact-split</a> <a id="328" class="Pragma">--safe</a> <a id="335" class="Symbol">#-}</a>

<a id="340" class="Keyword">module</a> <a id="347" href="Prelude.Inverses.html" class="Module">Prelude.Inverses</a> <a id="364" class="Keyword">where</a>

<a id="371" class="Keyword">open</a> <a id="376" class="Keyword">import</a> <a id="383" href="Prelude.Extensionality.html" class="Module">Prelude.Extensionality</a> <a id="406" class="Keyword">public</a>

<a id="414" class="Keyword">open</a> <a id="419" class="Keyword">import</a> <a id="426" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a>
 <a id="442" class="Keyword">using</a> <a id="448" class="Symbol">(</a><a id="449" href="MGS-Embeddings.html#1410" class="Function">equivs-are-embeddings</a><a id="470" class="Symbol">;</a> <a id="472" href="MGS-Equivalences.html#370" class="Function">invertible</a><a id="482" class="Symbol">;</a> <a id="484" href="MGS-Equivalences.html#2127" class="Function">invertibles-are-equivs</a><a id="506" class="Symbol">)</a> <a id="508" class="Keyword">public</a>

</pre>

We begin by defining an inductive type that represents the semantic concept of **inverse image** of a function.

<pre class="Agda">

<a id="655" class="Keyword">module</a> <a id="662" href="Prelude.Inverses.html#662" class="Module">_</a> <a id="664" class="Symbol">{</a><a id="665" href="Prelude.Inverses.html#665" class="Bound">ğ“¤</a> <a id="667" href="Prelude.Inverses.html#667" class="Bound">ğ“¦</a> <a id="669" class="Symbol">:</a> <a id="671" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="679" class="Symbol">}</a> <a id="681" class="Keyword">where</a>

 <a id="689" class="Keyword">data</a> <a id="694" href="Prelude.Inverses.html#694" class="Datatype Operator">Image_âˆ‹_</a> <a id="703" class="Symbol">{</a><a id="704" href="Prelude.Inverses.html#704" class="Bound">A</a> <a id="706" class="Symbol">:</a> <a id="708" href="Prelude.Inverses.html#665" class="Bound">ğ“¤</a> <a id="710" href="Universes.html#403" class="Function Operator">Ì‡</a> <a id="712" class="Symbol">}{</a><a id="714" href="Prelude.Inverses.html#714" class="Bound">B</a> <a id="716" class="Symbol">:</a> <a id="718" href="Prelude.Inverses.html#667" class="Bound">ğ“¦</a> <a id="720" href="Universes.html#403" class="Function Operator">Ì‡</a> <a id="722" class="Symbol">}(</a><a id="724" href="Prelude.Inverses.html#724" class="Bound">f</a> <a id="726" class="Symbol">:</a> <a id="728" href="Prelude.Inverses.html#704" class="Bound">A</a> <a id="730" class="Symbol">â†’</a> <a id="732" href="Prelude.Inverses.html#714" class="Bound">B</a><a id="733" class="Symbol">)</a> <a id="735" class="Symbol">:</a> <a id="737" href="Prelude.Inverses.html#714" class="Bound">B</a> <a id="739" class="Symbol">â†’</a> <a id="741" href="Prelude.Inverses.html#665" class="Bound">ğ“¤</a> <a id="743" href="Agda.Primitive.html#636" class="Primitive Operator">âŠ”</a> <a id="745" href="Prelude.Inverses.html#667" class="Bound">ğ“¦</a> <a id="747" href="Universes.html#403" class="Function Operator">Ì‡</a>
  <a id="751" class="Keyword">where</a>
  <a id="759" href="Prelude.Inverses.html#759" class="InductiveConstructor">im</a> <a id="762" class="Symbol">:</a> <a id="764" class="Symbol">(</a><a id="765" href="Prelude.Inverses.html#765" class="Bound">x</a> <a id="767" class="Symbol">:</a> <a id="769" href="Prelude.Inverses.html#704" class="Bound">A</a><a id="770" class="Symbol">)</a> <a id="772" class="Symbol">â†’</a> <a id="774" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="780" href="Prelude.Inverses.html#724" class="Bound">f</a> <a id="782" href="Prelude.Inverses.html#694" class="Datatype Operator">âˆ‹</a> <a id="784" href="Prelude.Inverses.html#724" class="Bound">f</a> <a id="786" href="Prelude.Inverses.html#765" class="Bound">x</a>
  <a id="790" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="793" class="Symbol">:</a> <a id="795" class="Symbol">(</a><a id="796" href="Prelude.Inverses.html#796" class="Bound">b</a> <a id="798" class="Symbol">:</a> <a id="800" href="Prelude.Inverses.html#714" class="Bound">B</a><a id="801" class="Symbol">)</a> <a id="803" class="Symbol">â†’</a> <a id="805" class="Symbol">(</a><a id="806" href="Prelude.Inverses.html#806" class="Bound">a</a> <a id="808" class="Symbol">:</a> <a id="810" href="Prelude.Inverses.html#704" class="Bound">A</a><a id="811" class="Symbol">)</a> <a id="813" class="Symbol">â†’</a> <a id="815" href="Prelude.Inverses.html#796" class="Bound">b</a> <a id="817" href="Prelude.Equality.html#1398" class="Datatype Operator">â‰¡</a> <a id="819" href="Prelude.Inverses.html#724" class="Bound">f</a> <a id="821" href="Prelude.Inverses.html#806" class="Bound">a</a> <a id="823" class="Symbol">â†’</a> <a id="825" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="831" href="Prelude.Inverses.html#724" class="Bound">f</a> <a id="833" href="Prelude.Inverses.html#694" class="Datatype Operator">âˆ‹</a> <a id="835" href="Prelude.Inverses.html#796" class="Bound">b</a>


 <a id="840" href="Prelude.Inverses.html#840" class="Function">ImageIsImage</a> <a id="853" class="Symbol">:</a> <a id="855" class="Symbol">{</a><a id="856" href="Prelude.Inverses.html#856" class="Bound">A</a> <a id="858" class="Symbol">:</a> <a id="860" href="Prelude.Inverses.html#665" class="Bound">ğ“¤</a> <a id="862" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="863" class="Symbol">}{</a><a id="865" href="Prelude.Inverses.html#865" class="Bound">B</a> <a id="867" class="Symbol">:</a> <a id="869" href="Prelude.Inverses.html#667" class="Bound">ğ“¦</a> <a id="871" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="872" class="Symbol">}(</a><a id="874" href="Prelude.Inverses.html#874" class="Bound">f</a> <a id="876" class="Symbol">:</a> <a id="878" href="Prelude.Inverses.html#856" class="Bound">A</a> <a id="880" class="Symbol">â†’</a> <a id="882" href="Prelude.Inverses.html#865" class="Bound">B</a><a id="883" class="Symbol">)(</a><a id="885" href="Prelude.Inverses.html#885" class="Bound">b</a> <a id="887" class="Symbol">:</a> <a id="889" href="Prelude.Inverses.html#865" class="Bound">B</a><a id="890" class="Symbol">)(</a><a id="892" href="Prelude.Inverses.html#892" class="Bound">a</a> <a id="894" class="Symbol">:</a> <a id="896" href="Prelude.Inverses.html#856" class="Bound">A</a><a id="897" class="Symbol">)</a> <a id="899" class="Symbol">â†’</a> <a id="901" href="Prelude.Inverses.html#885" class="Bound">b</a> <a id="903" href="Prelude.Equality.html#1398" class="Datatype Operator">â‰¡</a> <a id="905" href="Prelude.Inverses.html#874" class="Bound">f</a> <a id="907" href="Prelude.Inverses.html#892" class="Bound">a</a> <a id="909" class="Symbol">â†’</a> <a id="911" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="917" href="Prelude.Inverses.html#874" class="Bound">f</a> <a id="919" href="Prelude.Inverses.html#694" class="Datatype Operator">âˆ‹</a> <a id="921" href="Prelude.Inverses.html#885" class="Bound">b</a>
 <a id="924" href="Prelude.Inverses.html#840" class="Function">ImageIsImage</a> <a id="937" href="Prelude.Inverses.html#937" class="Bound">f</a> <a id="939" href="Prelude.Inverses.html#939" class="Bound">b</a> <a id="941" href="Prelude.Inverses.html#941" class="Bound">a</a> <a id="943" href="Prelude.Inverses.html#943" class="Bound">bâ‰¡fa</a> <a id="948" class="Symbol">=</a> <a id="950" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="953" href="Prelude.Inverses.html#939" class="Bound">b</a> <a id="955" href="Prelude.Inverses.html#941" class="Bound">a</a> <a id="957" href="Prelude.Inverses.html#943" class="Bound">bâ‰¡fa</a>

</pre>

The following restatement of the last lemma simply rearranges the arguments in case that makes it clearer.

<pre class="Agda">

 <a id="1098" href="Prelude.Inverses.html#1098" class="Function">ImageIsImage&#39;</a> <a id="1112" class="Symbol">:</a> <a id="1114" class="Symbol">{</a><a id="1115" href="Prelude.Inverses.html#1115" class="Bound">A</a> <a id="1117" class="Symbol">:</a> <a id="1119" href="Prelude.Inverses.html#665" class="Bound">ğ“¤</a> <a id="1121" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="1122" class="Symbol">}{</a><a id="1124" href="Prelude.Inverses.html#1124" class="Bound">B</a> <a id="1126" class="Symbol">:</a> <a id="1128" href="Prelude.Inverses.html#667" class="Bound">ğ“¦</a> <a id="1130" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="1131" class="Symbol">}(</a><a id="1133" href="Prelude.Inverses.html#1133" class="Bound">f</a> <a id="1135" class="Symbol">:</a> <a id="1137" href="Prelude.Inverses.html#1115" class="Bound">A</a> <a id="1139" class="Symbol">â†’</a> <a id="1141" href="Prelude.Inverses.html#1124" class="Bound">B</a><a id="1142" class="Symbol">)(</a><a id="1144" href="Prelude.Inverses.html#1144" class="Bound">a</a> <a id="1146" class="Symbol">:</a> <a id="1148" href="Prelude.Inverses.html#1115" class="Bound">A</a><a id="1149" class="Symbol">)(</a><a id="1151" href="Prelude.Inverses.html#1151" class="Bound">b</a> <a id="1153" class="Symbol">:</a> <a id="1155" href="Prelude.Inverses.html#1124" class="Bound">B</a><a id="1156" class="Symbol">)</a> <a id="1158" class="Symbol">â†’</a> <a id="1160" href="Prelude.Inverses.html#1133" class="Bound">f</a> <a id="1162" href="Prelude.Inverses.html#1144" class="Bound">a</a> <a id="1164" href="Prelude.Equality.html#1398" class="Datatype Operator">â‰¡</a> <a id="1166" href="Prelude.Inverses.html#1151" class="Bound">b</a> <a id="1168" class="Symbol">â†’</a> <a id="1170" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="1176" href="Prelude.Inverses.html#1133" class="Bound">f</a> <a id="1178" href="Prelude.Inverses.html#694" class="Datatype Operator">âˆ‹</a> <a id="1180" href="Prelude.Inverses.html#1151" class="Bound">b</a>
 <a id="1183" href="Prelude.Inverses.html#1098" class="Function">ImageIsImage&#39;</a> <a id="1197" href="Prelude.Inverses.html#1197" class="Bound">f</a> <a id="1199" href="Prelude.Inverses.html#1199" class="Bound">a</a> <a id="1201" href="Prelude.Inverses.html#1201" class="Bound">b</a> <a id="1203" href="Prelude.Inverses.html#1203" class="Bound">fab</a> <a id="1207" class="Symbol">=</a> <a id="1209" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="1212" href="Prelude.Inverses.html#1201" class="Bound">b</a> <a id="1214" href="Prelude.Inverses.html#1199" class="Bound">a</a> <a id="1216" class="Symbol">(</a><a id="1217" href="Prelude.Inverses.html#1203" class="Bound">fab</a> <a id="1221" href="MGS-MLTT.html#6125" class="Function Operator">â»Â¹</a><a id="1223" class="Symbol">)</a>

</pre>

Note that an inhabitant of `Image f âˆ‹ b` is a dependent pair `(a , p)`, where `a : A` and `p : b â‰¡ f a` is a proof that `f` maps `a` to `b`.  Since the proof that `b` belongs to the image of `f` is always accompanied by a "witness" `a : A`, we can actually *compute* a (pseudo)inverse of `f`. For convenience, we define this inverse function, which we call `Inv`, and which takes an arbitrary `b : B` and a (*witness*, *proof*)-pair, `(a , p) : Image f âˆ‹ b`, and returns the witness `a`.

<pre class="Agda">

 <a id="1742" href="Prelude.Inverses.html#1742" class="Function">Inv</a> <a id="1746" class="Symbol">:</a> <a id="1748" class="Symbol">{</a><a id="1749" href="Prelude.Inverses.html#1749" class="Bound">A</a> <a id="1751" class="Symbol">:</a> <a id="1753" href="Prelude.Inverses.html#665" class="Bound">ğ“¤</a> <a id="1755" href="Universes.html#403" class="Function Operator">Ì‡</a> <a id="1757" class="Symbol">}{</a><a id="1759" href="Prelude.Inverses.html#1759" class="Bound">B</a> <a id="1761" class="Symbol">:</a> <a id="1763" href="Prelude.Inverses.html#667" class="Bound">ğ“¦</a> <a id="1765" href="Universes.html#403" class="Function Operator">Ì‡</a> <a id="1767" class="Symbol">}(</a><a id="1769" href="Prelude.Inverses.html#1769" class="Bound">f</a> <a id="1771" class="Symbol">:</a> <a id="1773" href="Prelude.Inverses.html#1749" class="Bound">A</a> <a id="1775" class="Symbol">â†’</a> <a id="1777" href="Prelude.Inverses.html#1759" class="Bound">B</a><a id="1778" class="Symbol">){</a><a id="1780" href="Prelude.Inverses.html#1780" class="Bound">b</a> <a id="1782" class="Symbol">:</a> <a id="1784" href="Prelude.Inverses.html#1759" class="Bound">B</a><a id="1785" class="Symbol">}</a> <a id="1787" class="Symbol">â†’</a> <a id="1789" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="1795" href="Prelude.Inverses.html#1769" class="Bound">f</a> <a id="1797" href="Prelude.Inverses.html#694" class="Datatype Operator">âˆ‹</a> <a id="1799" href="Prelude.Inverses.html#1780" class="Bound">b</a>  <a id="1802" class="Symbol">â†’</a>  <a id="1805" href="Prelude.Inverses.html#1749" class="Bound">A</a>
 <a id="1808" href="Prelude.Inverses.html#1742" class="Function">Inv</a> <a id="1812" href="Prelude.Inverses.html#1812" class="Bound">f</a> <a id="1814" class="Symbol">{</a><a id="1815" class="DottedPattern Symbol">.(</a><a id="1817" href="Prelude.Inverses.html#1812" class="DottedPattern Bound">f</a> <a id="1819" href="Prelude.Inverses.html#1827" class="DottedPattern Bound">a</a><a id="1820" class="DottedPattern Symbol">)</a><a id="1821" class="Symbol">}</a> <a id="1823" class="Symbol">(</a><a id="1824" href="Prelude.Inverses.html#759" class="InductiveConstructor">im</a> <a id="1827" href="Prelude.Inverses.html#1827" class="Bound">a</a><a id="1828" class="Symbol">)</a> <a id="1830" class="Symbol">=</a> <a id="1832" href="Prelude.Inverses.html#1827" class="Bound">a</a>
 <a id="1835" href="Prelude.Inverses.html#1742" class="Function">Inv</a> <a id="1839" href="Prelude.Inverses.html#1839" class="Bound">f</a> <a id="1841" class="Symbol">(</a><a id="1842" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="1845" class="Symbol">_</a> <a id="1847" href="Prelude.Inverses.html#1847" class="Bound">a</a> <a id="1849" class="Symbol">_)</a> <a id="1852" class="Symbol">=</a> <a id="1854" href="Prelude.Inverses.html#1847" class="Bound">a</a>

</pre>

We can prove that `Inv f` is the *right-inverse* of `f`, as follows.

<pre class="Agda">

 <a id="1954" href="Prelude.Inverses.html#1954" class="Function">InvIsInv</a> <a id="1963" class="Symbol">:</a> <a id="1965" class="Symbol">{</a><a id="1966" href="Prelude.Inverses.html#1966" class="Bound">A</a> <a id="1968" class="Symbol">:</a> <a id="1970" href="Prelude.Inverses.html#665" class="Bound">ğ“¤</a> <a id="1972" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="1973" class="Symbol">}{</a><a id="1975" href="Prelude.Inverses.html#1975" class="Bound">B</a> <a id="1977" class="Symbol">:</a> <a id="1979" href="Prelude.Inverses.html#667" class="Bound">ğ“¦</a> <a id="1981" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="1982" class="Symbol">}(</a><a id="1984" href="Prelude.Inverses.html#1984" class="Bound">f</a> <a id="1986" class="Symbol">:</a> <a id="1988" href="Prelude.Inverses.html#1966" class="Bound">A</a> <a id="1990" class="Symbol">â†’</a> <a id="1992" href="Prelude.Inverses.html#1975" class="Bound">B</a><a id="1993" class="Symbol">){</a><a id="1995" href="Prelude.Inverses.html#1995" class="Bound">b</a> <a id="1997" class="Symbol">:</a> <a id="1999" href="Prelude.Inverses.html#1975" class="Bound">B</a><a id="2000" class="Symbol">}(</a><a id="2002" href="Prelude.Inverses.html#2002" class="Bound">q</a> <a id="2004" class="Symbol">:</a> <a id="2006" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="2012" href="Prelude.Inverses.html#1984" class="Bound">f</a> <a id="2014" href="Prelude.Inverses.html#694" class="Datatype Operator">âˆ‹</a> <a id="2016" href="Prelude.Inverses.html#1995" class="Bound">b</a><a id="2017" class="Symbol">)</a> <a id="2019" class="Symbol">â†’</a> <a id="2021" href="Prelude.Inverses.html#1984" class="Bound">f</a><a id="2022" class="Symbol">(</a><a id="2023" href="Prelude.Inverses.html#1742" class="Function">Inv</a> <a id="2027" href="Prelude.Inverses.html#1984" class="Bound">f</a> <a id="2029" href="Prelude.Inverses.html#2002" class="Bound">q</a><a id="2030" class="Symbol">)</a> <a id="2032" href="Prelude.Equality.html#1398" class="Datatype Operator">â‰¡</a> <a id="2034" href="Prelude.Inverses.html#1995" class="Bound">b</a>
 <a id="2037" href="Prelude.Inverses.html#1954" class="Function">InvIsInv</a> <a id="2046" href="Prelude.Inverses.html#2046" class="Bound">f</a> <a id="2048" class="Symbol">{</a><a id="2049" class="DottedPattern Symbol">.(</a><a id="2051" href="Prelude.Inverses.html#2046" class="DottedPattern Bound">f</a> <a id="2053" href="Prelude.Inverses.html#2061" class="DottedPattern Bound">a</a><a id="2054" class="DottedPattern Symbol">)</a><a id="2055" class="Symbol">}</a> <a id="2057" class="Symbol">(</a><a id="2058" href="Prelude.Inverses.html#759" class="InductiveConstructor">im</a> <a id="2061" href="Prelude.Inverses.html#2061" class="Bound">a</a><a id="2062" class="Symbol">)</a> <a id="2064" class="Symbol">=</a> <a id="2066" href="Identity-Type.html#162" class="InductiveConstructor">refl</a>
 <a id="2072" href="Prelude.Inverses.html#1954" class="Function">InvIsInv</a> <a id="2081" href="Prelude.Inverses.html#2081" class="Bound">f</a> <a id="2083" class="Symbol">(</a><a id="2084" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="2087" class="Symbol">_</a> <a id="2089" class="Symbol">_</a> <a id="2091" href="Prelude.Inverses.html#2091" class="Bound">p</a><a id="2092" class="Symbol">)</a> <a id="2094" class="Symbol">=</a> <a id="2096" href="Prelude.Inverses.html#2091" class="Bound">p</a> <a id="2098" href="MGS-MLTT.html#6125" class="Function Operator">â»Â¹</a>

</pre>





#### <a id="epics"">Epics (surjective functions)</a>

An epic (or surjective) function from type `A : ğ“¤ Ì‡` to type `B : ğ“¦ Ì‡` is as an inhabitant of the `Epic` type, which we define as follows.

<pre class="Agda">

 <a id="2327" href="Prelude.Inverses.html#2327" class="Function">Epic</a> <a id="2332" class="Symbol">:</a> <a id="2334" class="Symbol">{</a><a id="2335" href="Prelude.Inverses.html#2335" class="Bound">A</a> <a id="2337" class="Symbol">:</a> <a id="2339" href="Prelude.Inverses.html#665" class="Bound">ğ“¤</a> <a id="2341" href="Universes.html#403" class="Function Operator">Ì‡</a> <a id="2343" class="Symbol">}</a> <a id="2345" class="Symbol">{</a><a id="2346" href="Prelude.Inverses.html#2346" class="Bound">B</a> <a id="2348" class="Symbol">:</a> <a id="2350" href="Prelude.Inverses.html#667" class="Bound">ğ“¦</a> <a id="2352" href="Universes.html#403" class="Function Operator">Ì‡</a> <a id="2354" class="Symbol">}</a> <a id="2356" class="Symbol">(</a><a id="2357" href="Prelude.Inverses.html#2357" class="Bound">g</a> <a id="2359" class="Symbol">:</a> <a id="2361" href="Prelude.Inverses.html#2335" class="Bound">A</a> <a id="2363" class="Symbol">â†’</a> <a id="2365" href="Prelude.Inverses.html#2346" class="Bound">B</a><a id="2366" class="Symbol">)</a> <a id="2368" class="Symbol">â†’</a>  <a id="2371" href="Prelude.Inverses.html#665" class="Bound">ğ“¤</a> <a id="2373" href="Agda.Primitive.html#636" class="Primitive Operator">âŠ”</a> <a id="2375" href="Prelude.Inverses.html#667" class="Bound">ğ“¦</a> <a id="2377" href="Universes.html#403" class="Function Operator">Ì‡</a>
 <a id="2380" href="Prelude.Inverses.html#2327" class="Function">Epic</a> <a id="2385" href="Prelude.Inverses.html#2385" class="Bound">g</a> <a id="2387" class="Symbol">=</a> <a id="2389" class="Symbol">âˆ€</a> <a id="2391" href="Prelude.Inverses.html#2391" class="Bound">y</a> <a id="2393" class="Symbol">â†’</a> <a id="2395" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="2401" href="Prelude.Inverses.html#2385" class="Bound">g</a> <a id="2403" href="Prelude.Inverses.html#694" class="Datatype Operator">âˆ‹</a> <a id="2405" href="Prelude.Inverses.html#2391" class="Bound">y</a>

</pre>

We obtain the right-inverse (or pseudoinverse) of an epic function `f` by applying the function `EpicInv` (which we now define) to the function `f` along with a proof, `fE : Epic f`, that `f` is surjective.

<pre class="Agda">

 <a id="2643" href="Prelude.Inverses.html#2643" class="Function">EpicInv</a> <a id="2651" class="Symbol">:</a> <a id="2653" class="Symbol">{</a><a id="2654" href="Prelude.Inverses.html#2654" class="Bound">A</a> <a id="2656" class="Symbol">:</a> <a id="2658" href="Prelude.Inverses.html#665" class="Bound">ğ“¤</a> <a id="2660" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="2661" class="Symbol">}{</a><a id="2663" href="Prelude.Inverses.html#2663" class="Bound">B</a> <a id="2665" class="Symbol">:</a> <a id="2667" href="Prelude.Inverses.html#667" class="Bound">ğ“¦</a> <a id="2669" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="2670" class="Symbol">}(</a><a id="2672" href="Prelude.Inverses.html#2672" class="Bound">f</a> <a id="2674" class="Symbol">:</a> <a id="2676" href="Prelude.Inverses.html#2654" class="Bound">A</a> <a id="2678" class="Symbol">â†’</a> <a id="2680" href="Prelude.Inverses.html#2663" class="Bound">B</a><a id="2681" class="Symbol">)</a> <a id="2683" class="Symbol">â†’</a> <a id="2685" href="Prelude.Inverses.html#2327" class="Function">Epic</a> <a id="2690" href="Prelude.Inverses.html#2672" class="Bound">f</a> <a id="2692" class="Symbol">â†’</a> <a id="2694" href="Prelude.Inverses.html#2663" class="Bound">B</a> <a id="2696" class="Symbol">â†’</a> <a id="2698" href="Prelude.Inverses.html#2654" class="Bound">A</a>
 <a id="2701" href="Prelude.Inverses.html#2643" class="Function">EpicInv</a> <a id="2709" href="Prelude.Inverses.html#2709" class="Bound">f</a> <a id="2711" href="Prelude.Inverses.html#2711" class="Bound">fE</a> <a id="2714" href="Prelude.Inverses.html#2714" class="Bound">b</a> <a id="2716" class="Symbol">=</a> <a id="2718" href="Prelude.Inverses.html#1742" class="Function">Inv</a> <a id="2722" href="Prelude.Inverses.html#2709" class="Bound">f</a> <a id="2724" class="Symbol">(</a><a id="2725" href="Prelude.Inverses.html#2711" class="Bound">fE</a> <a id="2728" href="Prelude.Inverses.html#2714" class="Bound">b</a><a id="2729" class="Symbol">)</a>

</pre>

The function defined by `EpicInv f fE` is indeed the right-inverse of `f`. To state this, we'll use the function composition operation, `âˆ˜`, which is already defined in the [Type Topology][] library as follows.

<pre class="Agda">

<a id="2970" class="Keyword">module</a> <a id="hide-âˆ˜"></a><a id="2977" href="Prelude.Inverses.html#2977" class="Module">hide-âˆ˜</a> <a id="2984" class="Symbol">{</a><a id="2985" href="Prelude.Inverses.html#2985" class="Bound">ğ“¤</a> <a id="2987" href="Prelude.Inverses.html#2987" class="Bound">ğ“¦</a> <a id="2989" class="Symbol">:</a> <a id="2991" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="2999" class="Symbol">}{</a><a id="3001" href="Prelude.Inverses.html#3001" class="Bound">A</a> <a id="3003" class="Symbol">:</a> <a id="3005" href="Prelude.Inverses.html#2985" class="Bound">ğ“¤</a> <a id="3007" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="3008" class="Symbol">}{</a><a id="3010" href="Prelude.Inverses.html#3010" class="Bound">B</a> <a id="3012" class="Symbol">:</a> <a id="3014" href="Prelude.Inverses.html#2987" class="Bound">ğ“¦</a> <a id="3016" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="3017" class="Symbol">}</a> <a id="3019" class="Keyword">where</a>

 <a id="hide-âˆ˜._âˆ˜_"></a><a id="3027" href="Prelude.Inverses.html#3027" class="Function Operator">_âˆ˜_</a> <a id="3031" class="Symbol">:</a> <a id="3033" class="Symbol">{</a><a id="3034" href="Prelude.Inverses.html#3034" class="Bound">C</a> <a id="3036" class="Symbol">:</a> <a id="3038" href="Prelude.Inverses.html#3010" class="Bound">B</a> <a id="3040" class="Symbol">â†’</a> <a id="3042" href="Prelude.Inverses.html#2987" class="Bound">ğ“¦</a> <a id="3044" href="Universes.html#403" class="Function Operator">Ì‡</a> <a id="3046" class="Symbol">}</a> <a id="3048" class="Symbol">â†’</a> <a id="3050" href="MGS-MLTT.html#3562" class="Function">Î </a> <a id="3052" href="Prelude.Inverses.html#3034" class="Bound">C</a> <a id="3054" class="Symbol">â†’</a> <a id="3056" class="Symbol">(</a><a id="3057" href="Prelude.Inverses.html#3057" class="Bound">f</a> <a id="3059" class="Symbol">:</a> <a id="3061" href="Prelude.Inverses.html#3001" class="Bound">A</a> <a id="3063" class="Symbol">â†’</a> <a id="3065" href="Prelude.Inverses.html#3010" class="Bound">B</a><a id="3066" class="Symbol">)</a> <a id="3068" class="Symbol">â†’</a> <a id="3070" class="Symbol">(</a><a id="3071" href="Prelude.Inverses.html#3071" class="Bound">x</a> <a id="3073" class="Symbol">:</a> <a id="3075" href="Prelude.Inverses.html#3001" class="Bound">A</a><a id="3076" class="Symbol">)</a> <a id="3078" class="Symbol">â†’</a> <a id="3080" href="Prelude.Inverses.html#3034" class="Bound">C</a> <a id="3082" class="Symbol">(</a><a id="3083" href="Prelude.Inverses.html#3057" class="Bound">f</a> <a id="3085" href="Prelude.Inverses.html#3071" class="Bound">x</a><a id="3086" class="Symbol">)</a>
 <a id="3089" href="Prelude.Inverses.html#3089" class="Bound">g</a> <a id="3091" href="Prelude.Inverses.html#3027" class="Function Operator">âˆ˜</a> <a id="3093" href="Prelude.Inverses.html#3093" class="Bound">f</a> <a id="3095" class="Symbol">=</a> <a id="3097" class="Symbol">Î»</a> <a id="3099" href="Prelude.Inverses.html#3099" class="Bound">x</a> <a id="3101" class="Symbol">â†’</a> <a id="3103" href="Prelude.Inverses.html#3089" class="Bound">g</a> <a id="3105" class="Symbol">(</a><a id="3106" href="Prelude.Inverses.html#3093" class="Bound">f</a> <a id="3108" href="Prelude.Inverses.html#3099" class="Bound">x</a><a id="3109" class="Symbol">)</a>

<a id="3112" class="Keyword">open</a> <a id="3117" class="Keyword">import</a> <a id="3124" href="MGS-MLTT.html" class="Module">MGS-MLTT</a> <a id="3133" class="Keyword">using</a> <a id="3139" class="Symbol">(</a><a id="3140" href="MGS-MLTT.html#3813" class="Function Operator">_âˆ˜_</a><a id="3143" class="Symbol">)</a> <a id="3145" class="Keyword">public</a>


<a id="3154" class="Keyword">module</a> <a id="3161" href="Prelude.Inverses.html#3161" class="Module">_</a> <a id="3163" class="Symbol">{</a><a id="3164" href="Prelude.Inverses.html#3164" class="Bound">ğ“¤</a> <a id="3166" href="Prelude.Inverses.html#3166" class="Bound">ğ“¦</a> <a id="3168" class="Symbol">:</a> <a id="3170" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="3178" class="Symbol">}{</a><a id="3180" href="Prelude.Inverses.html#3180" class="Bound">fe</a> <a id="3183" class="Symbol">:</a> <a id="3185" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="3192" href="Prelude.Inverses.html#3166" class="Bound">ğ“¦</a> <a id="3194" href="Prelude.Inverses.html#3166" class="Bound">ğ“¦</a><a id="3195" class="Symbol">}{</a><a id="3197" href="Prelude.Inverses.html#3197" class="Bound">A</a> <a id="3199" class="Symbol">:</a> <a id="3201" href="Prelude.Inverses.html#3164" class="Bound">ğ“¤</a> <a id="3203" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="3204" class="Symbol">}{</a><a id="3206" href="Prelude.Inverses.html#3206" class="Bound">B</a> <a id="3208" class="Symbol">:</a> <a id="3210" href="Prelude.Inverses.html#3166" class="Bound">ğ“¦</a> <a id="3212" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="3213" class="Symbol">}</a> <a id="3215" class="Keyword">where</a>

 <a id="3223" href="Prelude.Inverses.html#3223" class="Function">EpicInvIsRightInv</a> <a id="3241" class="Symbol">:</a> <a id="3243" class="Symbol">(</a><a id="3244" href="Prelude.Inverses.html#3244" class="Bound">f</a> <a id="3246" class="Symbol">:</a> <a id="3248" href="Prelude.Inverses.html#3197" class="Bound">A</a> <a id="3250" class="Symbol">â†’</a> <a id="3252" href="Prelude.Inverses.html#3206" class="Bound">B</a><a id="3253" class="Symbol">)(</a><a id="3255" href="Prelude.Inverses.html#3255" class="Bound">fE</a> <a id="3258" class="Symbol">:</a> <a id="3260" href="Prelude.Inverses.html#2327" class="Function">Epic</a> <a id="3265" href="Prelude.Inverses.html#3244" class="Bound">f</a><a id="3266" class="Symbol">)</a> <a id="3268" class="Symbol">â†’</a> <a id="3270" href="Prelude.Inverses.html#3244" class="Bound">f</a> <a id="3272" href="MGS-MLTT.html#3813" class="Function Operator">âˆ˜</a> <a id="3274" class="Symbol">(</a><a id="3275" href="Prelude.Inverses.html#2643" class="Function">EpicInv</a> <a id="3283" href="Prelude.Inverses.html#3244" class="Bound">f</a> <a id="3285" href="Prelude.Inverses.html#3255" class="Bound">fE</a><a id="3287" class="Symbol">)</a> <a id="3289" href="Prelude.Equality.html#1398" class="Datatype Operator">â‰¡</a> <a id="3291" href="MGS-MLTT.html#3778" class="Function">ğ‘–ğ‘‘</a> <a id="3294" href="Prelude.Inverses.html#3206" class="Bound">B</a>
 <a id="3297" href="Prelude.Inverses.html#3223" class="Function">EpicInvIsRightInv</a> <a id="3315" href="Prelude.Inverses.html#3315" class="Bound">f</a> <a id="3317" href="Prelude.Inverses.html#3317" class="Bound">fE</a> <a id="3320" class="Symbol">=</a> <a id="3322" href="Prelude.Inverses.html#3180" class="Bound">fe</a> <a id="3325" class="Symbol">(Î»</a> <a id="3328" href="Prelude.Inverses.html#3328" class="Bound">x</a> <a id="3330" class="Symbol">â†’</a> <a id="3332" href="Prelude.Inverses.html#1954" class="Function">InvIsInv</a> <a id="3341" href="Prelude.Inverses.html#3315" class="Bound">f</a> <a id="3343" class="Symbol">(</a><a id="3344" href="Prelude.Inverses.html#3317" class="Bound">fE</a> <a id="3347" href="Prelude.Inverses.html#3328" class="Bound">x</a><a id="3348" class="Symbol">))</a>

</pre>





#### <a id="monics">Monics (injective functions)</a>

We say that a function `g : A â†’ B` is *monic* (or *injective* or *one-to-one*) if it doesn't map distinct elements to a common point. This property is formalized quite naturally using the `Monic` type, which we now define.

<pre class="Agda">

<a id="3660" class="Keyword">module</a> <a id="3667" href="Prelude.Inverses.html#3667" class="Module">_</a> <a id="3669" class="Symbol">{</a><a id="3670" href="Prelude.Inverses.html#3670" class="Bound">ğ“¤</a> <a id="3672" href="Prelude.Inverses.html#3672" class="Bound">ğ“¦</a> <a id="3674" class="Symbol">:</a> <a id="3676" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="3684" class="Symbol">}{</a><a id="3686" href="Prelude.Inverses.html#3686" class="Bound">A</a> <a id="3688" class="Symbol">:</a> <a id="3690" href="Prelude.Inverses.html#3670" class="Bound">ğ“¤</a> <a id="3692" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="3693" class="Symbol">}{</a><a id="3695" href="Prelude.Inverses.html#3695" class="Bound">B</a> <a id="3697" class="Symbol">:</a> <a id="3699" href="Prelude.Inverses.html#3672" class="Bound">ğ“¦</a> <a id="3701" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="3702" class="Symbol">}</a> <a id="3704" class="Keyword">where</a>

 <a id="3712" href="Prelude.Inverses.html#3712" class="Function">Monic</a> <a id="3718" class="Symbol">:</a> <a id="3720" class="Symbol">(</a><a id="3721" href="Prelude.Inverses.html#3721" class="Bound">g</a> <a id="3723" class="Symbol">:</a> <a id="3725" href="Prelude.Inverses.html#3686" class="Bound">A</a> <a id="3727" class="Symbol">â†’</a> <a id="3729" href="Prelude.Inverses.html#3695" class="Bound">B</a><a id="3730" class="Symbol">)</a> <a id="3732" class="Symbol">â†’</a> <a id="3734" href="Prelude.Inverses.html#3670" class="Bound">ğ“¤</a> <a id="3736" href="Agda.Primitive.html#636" class="Primitive Operator">âŠ”</a> <a id="3738" href="Prelude.Inverses.html#3672" class="Bound">ğ“¦</a> <a id="3740" href="Universes.html#403" class="Function Operator">Ì‡</a>
 <a id="3743" href="Prelude.Inverses.html#3712" class="Function">Monic</a> <a id="3749" href="Prelude.Inverses.html#3749" class="Bound">g</a> <a id="3751" class="Symbol">=</a> <a id="3753" class="Symbol">âˆ€</a> <a id="3755" href="Prelude.Inverses.html#3755" class="Bound">aâ‚</a> <a id="3758" href="Prelude.Inverses.html#3758" class="Bound">aâ‚‚</a> <a id="3761" class="Symbol">â†’</a> <a id="3763" href="Prelude.Inverses.html#3749" class="Bound">g</a> <a id="3765" href="Prelude.Inverses.html#3755" class="Bound">aâ‚</a> <a id="3768" href="Prelude.Equality.html#1398" class="Datatype Operator">â‰¡</a> <a id="3770" href="Prelude.Inverses.html#3749" class="Bound">g</a> <a id="3772" href="Prelude.Inverses.html#3758" class="Bound">aâ‚‚</a> <a id="3775" class="Symbol">â†’</a> <a id="3777" href="Prelude.Inverses.html#3755" class="Bound">aâ‚</a> <a id="3780" href="Prelude.Equality.html#1398" class="Datatype Operator">â‰¡</a> <a id="3782" href="Prelude.Inverses.html#3758" class="Bound">aâ‚‚</a>

</pre>

Again, we obtain a pseudoinverse. Here it is obtained by applying the function `MonicInv` to `g` and a proof that `g` is monic.

<pre class="Agda">

 <a id="3942" href="Prelude.Inverses.html#3942" class="Function">MonicInv</a> <a id="3951" class="Symbol">:</a> <a id="3953" class="Symbol">(</a><a id="3954" href="Prelude.Inverses.html#3954" class="Bound">f</a> <a id="3956" class="Symbol">:</a> <a id="3958" href="Prelude.Inverses.html#3686" class="Bound">A</a> <a id="3960" class="Symbol">â†’</a> <a id="3962" href="Prelude.Inverses.html#3695" class="Bound">B</a><a id="3963" class="Symbol">)</a> <a id="3965" class="Symbol">â†’</a> <a id="3967" href="Prelude.Inverses.html#3712" class="Function">Monic</a> <a id="3973" href="Prelude.Inverses.html#3954" class="Bound">f</a> <a id="3975" class="Symbol">â†’</a> <a id="3977" class="Symbol">(</a><a id="3978" href="Prelude.Inverses.html#3978" class="Bound">b</a> <a id="3980" class="Symbol">:</a> <a id="3982" href="Prelude.Inverses.html#3695" class="Bound">B</a><a id="3983" class="Symbol">)</a> <a id="3985" class="Symbol">â†’</a> <a id="3987" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="3993" href="Prelude.Inverses.html#3954" class="Bound">f</a> <a id="3995" href="Prelude.Inverses.html#694" class="Datatype Operator">âˆ‹</a> <a id="3997" href="Prelude.Inverses.html#3978" class="Bound">b</a> <a id="3999" class="Symbol">â†’</a> <a id="4001" href="Prelude.Inverses.html#3686" class="Bound">A</a>
 <a id="4004" href="Prelude.Inverses.html#3942" class="Function">MonicInv</a> <a id="4013" href="Prelude.Inverses.html#4013" class="Bound">f</a> <a id="4015" class="Symbol">_</a> <a id="4017" class="Symbol">=</a> <a id="4019" class="Symbol">Î»</a> <a id="4021" href="Prelude.Inverses.html#4021" class="Bound">b</a> <a id="4023" href="Prelude.Inverses.html#4023" class="Bound">Imfâˆ‹b</a> <a id="4029" class="Symbol">â†’</a> <a id="4031" href="Prelude.Inverses.html#1742" class="Function">Inv</a> <a id="4035" href="Prelude.Inverses.html#4013" class="Bound">f</a> <a id="4037" href="Prelude.Inverses.html#4023" class="Bound">Imfâˆ‹b</a>

</pre>

The function defined by `MonicInv f fM` is the left-inverse of `f`.

<pre class="Agda">

 <a id="4140" href="Prelude.Inverses.html#4140" class="Function">MonicInvIsLeftInv</a> <a id="4158" class="Symbol">:</a> <a id="4160" class="Symbol">{</a><a id="4161" href="Prelude.Inverses.html#4161" class="Bound">f</a> <a id="4163" class="Symbol">:</a> <a id="4165" href="Prelude.Inverses.html#3686" class="Bound">A</a> <a id="4167" class="Symbol">â†’</a> <a id="4169" href="Prelude.Inverses.html#3695" class="Bound">B</a><a id="4170" class="Symbol">}{</a><a id="4172" href="Prelude.Inverses.html#4172" class="Bound">fM</a> <a id="4175" class="Symbol">:</a> <a id="4177" href="Prelude.Inverses.html#3712" class="Function">Monic</a> <a id="4183" href="Prelude.Inverses.html#4161" class="Bound">f</a><a id="4184" class="Symbol">}{</a><a id="4186" href="Prelude.Inverses.html#4186" class="Bound">x</a> <a id="4188" class="Symbol">:</a> <a id="4190" href="Prelude.Inverses.html#3686" class="Bound">A</a><a id="4191" class="Symbol">}</a>
   <a id="4196" class="Symbol">â†’</a>                 <a id="4214" class="Symbol">(</a><a id="4215" href="Prelude.Inverses.html#3942" class="Function">MonicInv</a> <a id="4224" href="Prelude.Inverses.html#4161" class="Bound">f</a> <a id="4226" href="Prelude.Inverses.html#4172" class="Bound">fM</a><a id="4228" class="Symbol">)(</a><a id="4230" href="Prelude.Inverses.html#4161" class="Bound">f</a> <a id="4232" href="Prelude.Inverses.html#4186" class="Bound">x</a><a id="4233" class="Symbol">)(</a><a id="4235" href="Prelude.Inverses.html#759" class="InductiveConstructor">im</a> <a id="4238" href="Prelude.Inverses.html#4186" class="Bound">x</a><a id="4239" class="Symbol">)</a> <a id="4241" href="Prelude.Equality.html#1398" class="Datatype Operator">â‰¡</a> <a id="4243" href="Prelude.Inverses.html#4186" class="Bound">x</a>
 <a id="4246" href="Prelude.Inverses.html#4140" class="Function">MonicInvIsLeftInv</a> <a id="4264" class="Symbol">=</a> <a id="4266" href="Identity-Type.html#162" class="InductiveConstructor">refl</a>

</pre>



#### <a id="composition-laws">Composition laws</a>

<pre class="Agda">

<a id="4352" class="Keyword">module</a> <a id="4359" href="Prelude.Inverses.html#4359" class="Module">_</a> <a id="4361" class="Symbol">{</a><a id="4362" href="Prelude.Inverses.html#4362" class="Bound">ğ“§</a> <a id="4364" href="Prelude.Inverses.html#4364" class="Bound">ğ“¨</a> <a id="4366" href="Prelude.Inverses.html#4366" class="Bound">ğ“©</a> <a id="4368" class="Symbol">:</a> <a id="4370" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="4378" class="Symbol">}</a> <a id="4380" class="Keyword">where</a>

 <a id="4388" href="Prelude.Inverses.html#4388" class="Function">epic-factor</a> <a id="4400" class="Symbol">:</a> <a id="4402" href="MGS-FunExt-from-Univalence.html#393" class="Function">funext</a> <a id="4409" href="Prelude.Inverses.html#4364" class="Bound">ğ“¨</a> <a id="4411" href="Prelude.Inverses.html#4364" class="Bound">ğ“¨</a> <a id="4413" class="Symbol">â†’</a> <a id="4415" class="Symbol">{</a><a id="4416" href="Prelude.Inverses.html#4416" class="Bound">A</a> <a id="4418" class="Symbol">:</a> <a id="4420" href="Prelude.Inverses.html#4362" class="Bound">ğ“§</a> <a id="4422" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="4423" class="Symbol">}{</a><a id="4425" href="Prelude.Inverses.html#4425" class="Bound">B</a> <a id="4427" class="Symbol">:</a> <a id="4429" href="Prelude.Inverses.html#4364" class="Bound">ğ“¨</a> <a id="4431" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="4432" class="Symbol">}{</a><a id="4434" href="Prelude.Inverses.html#4434" class="Bound">C</a> <a id="4436" class="Symbol">:</a> <a id="4438" href="Prelude.Inverses.html#4366" class="Bound">ğ“©</a> <a id="4440" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="4441" class="Symbol">}</a>
               <a id="4458" class="Symbol">(</a><a id="4459" href="Prelude.Inverses.html#4459" class="Bound">Î²</a> <a id="4461" class="Symbol">:</a> <a id="4463" href="Prelude.Inverses.html#4416" class="Bound">A</a> <a id="4465" class="Symbol">â†’</a> <a id="4467" href="Prelude.Inverses.html#4425" class="Bound">B</a><a id="4468" class="Symbol">)(</a><a id="4470" href="Prelude.Inverses.html#4470" class="Bound">Î¾</a> <a id="4472" class="Symbol">:</a> <a id="4474" href="Prelude.Inverses.html#4416" class="Bound">A</a> <a id="4476" class="Symbol">â†’</a> <a id="4478" href="Prelude.Inverses.html#4434" class="Bound">C</a><a id="4479" class="Symbol">)(</a><a id="4481" href="Prelude.Inverses.html#4481" class="Bound">Ï•</a> <a id="4483" class="Symbol">:</a> <a id="4485" href="Prelude.Inverses.html#4434" class="Bound">C</a> <a id="4487" class="Symbol">â†’</a> <a id="4489" href="Prelude.Inverses.html#4425" class="Bound">B</a><a id="4490" class="Symbol">)</a>
  <a id="4494" class="Symbol">â†’</a>            <a id="4507" href="Prelude.Inverses.html#4459" class="Bound">Î²</a> <a id="4509" href="Prelude.Equality.html#1398" class="Datatype Operator">â‰¡</a> <a id="4511" href="Prelude.Inverses.html#4481" class="Bound">Ï•</a> <a id="4513" href="MGS-MLTT.html#3813" class="Function Operator">âˆ˜</a> <a id="4515" href="Prelude.Inverses.html#4470" class="Bound">Î¾</a> <a id="4517" class="Symbol">â†’</a>  <a id="4520" href="Prelude.Inverses.html#2327" class="Function">Epic</a> <a id="4525" href="Prelude.Inverses.html#4459" class="Bound">Î²</a> <a id="4527" class="Symbol">â†’</a> <a id="4529" href="Prelude.Inverses.html#2327" class="Function">Epic</a> <a id="4534" href="Prelude.Inverses.html#4481" class="Bound">Ï•</a>

 <a id="4538" href="Prelude.Inverses.html#4388" class="Function">epic-factor</a> <a id="4550" href="Prelude.Inverses.html#4550" class="Bound">fe</a> <a id="4553" class="Symbol">{</a><a id="4554" href="Prelude.Inverses.html#4554" class="Bound">A</a><a id="4555" class="Symbol">}{</a><a id="4557" href="Prelude.Inverses.html#4557" class="Bound">B</a><a id="4558" class="Symbol">}{</a><a id="4560" href="Prelude.Inverses.html#4560" class="Bound">C</a><a id="4561" class="Symbol">}</a> <a id="4563" href="Prelude.Inverses.html#4563" class="Bound">Î²</a> <a id="4565" href="Prelude.Inverses.html#4565" class="Bound">Î¾</a> <a id="4567" href="Prelude.Inverses.html#4567" class="Bound">Ï•</a> <a id="4569" href="Prelude.Inverses.html#4569" class="Bound">compId</a> <a id="4576" href="Prelude.Inverses.html#4576" class="Bound">Î²e</a> <a id="4579" href="Prelude.Inverses.html#4579" class="Bound">y</a> <a id="4581" class="Symbol">=</a> <a id="4583" href="Prelude.Inverses.html#4783" class="Function">Î³</a>
  <a id="4587" class="Keyword">where</a>
   <a id="4596" href="Prelude.Inverses.html#4596" class="Function">Î²inv</a> <a id="4601" class="Symbol">:</a> <a id="4603" href="Prelude.Inverses.html#4557" class="Bound">B</a> <a id="4605" class="Symbol">â†’</a> <a id="4607" href="Prelude.Inverses.html#4554" class="Bound">A</a>
   <a id="4612" href="Prelude.Inverses.html#4596" class="Function">Î²inv</a> <a id="4617" class="Symbol">=</a> <a id="4619" href="Prelude.Inverses.html#2643" class="Function">EpicInv</a> <a id="4627" href="Prelude.Inverses.html#4563" class="Bound">Î²</a> <a id="4629" href="Prelude.Inverses.html#4576" class="Bound">Î²e</a>

   <a id="4636" href="Prelude.Inverses.html#4636" class="Function">Î¶</a> <a id="4638" class="Symbol">:</a> <a id="4640" href="Prelude.Inverses.html#4563" class="Bound">Î²</a> <a id="4642" class="Symbol">(</a><a id="4643" href="Prelude.Inverses.html#4596" class="Function">Î²inv</a> <a id="4648" href="Prelude.Inverses.html#4579" class="Bound">y</a><a id="4649" class="Symbol">)</a> <a id="4651" href="Prelude.Equality.html#1398" class="Datatype Operator">â‰¡</a> <a id="4653" href="Prelude.Inverses.html#4579" class="Bound">y</a>
   <a id="4658" href="Prelude.Inverses.html#4636" class="Function">Î¶</a> <a id="4660" class="Symbol">=</a> <a id="4662" href="Prelude.Equality.html#5389" class="Function">cong-app</a> <a id="4671" class="Symbol">(</a><a id="4672" href="Prelude.Inverses.html#3223" class="Function">EpicInvIsRightInv</a> <a id="4690" class="Symbol">{</a><a id="4691" class="Argument">fe</a> <a id="4694" class="Symbol">=</a> <a id="4696" href="Prelude.Inverses.html#4550" class="Bound">fe</a><a id="4698" class="Symbol">}</a> <a id="4700" href="Prelude.Inverses.html#4563" class="Bound">Î²</a> <a id="4702" href="Prelude.Inverses.html#4576" class="Bound">Î²e</a><a id="4704" class="Symbol">)</a> <a id="4706" href="Prelude.Inverses.html#4579" class="Bound">y</a>

   <a id="4712" href="Prelude.Inverses.html#4712" class="Function">Î·</a> <a id="4714" class="Symbol">:</a> <a id="4716" class="Symbol">(</a><a id="4717" href="Prelude.Inverses.html#4567" class="Bound">Ï•</a> <a id="4719" href="MGS-MLTT.html#3813" class="Function Operator">âˆ˜</a> <a id="4721" href="Prelude.Inverses.html#4565" class="Bound">Î¾</a><a id="4722" class="Symbol">)</a> <a id="4724" class="Symbol">(</a><a id="4725" href="Prelude.Inverses.html#4596" class="Function">Î²inv</a> <a id="4730" href="Prelude.Inverses.html#4579" class="Bound">y</a><a id="4731" class="Symbol">)</a> <a id="4733" href="Prelude.Equality.html#1398" class="Datatype Operator">â‰¡</a> <a id="4735" href="Prelude.Inverses.html#4579" class="Bound">y</a>
   <a id="4740" href="Prelude.Inverses.html#4712" class="Function">Î·</a> <a id="4742" class="Symbol">=</a> <a id="4744" class="Symbol">(</a><a id="4745" href="Prelude.Equality.html#5389" class="Function">cong-app</a> <a id="4754" class="Symbol">(</a><a id="4755" href="Prelude.Inverses.html#4569" class="Bound">compId</a> <a id="4762" href="MGS-MLTT.html#6125" class="Function Operator">â»Â¹</a><a id="4764" class="Symbol">)(</a><a id="4766" href="Prelude.Inverses.html#4596" class="Function">Î²inv</a> <a id="4771" href="Prelude.Inverses.html#4579" class="Bound">y</a><a id="4772" class="Symbol">))</a> <a id="4775" href="MGS-MLTT.html#5910" class="Function Operator">âˆ™</a> <a id="4777" href="Prelude.Inverses.html#4636" class="Function">Î¶</a>

   <a id="4783" href="Prelude.Inverses.html#4783" class="Function">Î³</a> <a id="4785" class="Symbol">:</a> <a id="4787" href="Prelude.Inverses.html#694" class="Datatype Operator">Image</a> <a id="4793" href="Prelude.Inverses.html#4567" class="Bound">Ï•</a> <a id="4795" href="Prelude.Inverses.html#694" class="Datatype Operator">âˆ‹</a> <a id="4797" href="Prelude.Inverses.html#4579" class="Bound">y</a>
   <a id="4802" href="Prelude.Inverses.html#4783" class="Function">Î³</a> <a id="4804" class="Symbol">=</a> <a id="4806" href="Prelude.Inverses.html#790" class="InductiveConstructor">eq</a> <a id="4809" href="Prelude.Inverses.html#4579" class="Bound">y</a> <a id="4811" class="Symbol">(</a><a id="4812" href="Prelude.Inverses.html#4565" class="Bound">Î¾</a> <a id="4814" class="Symbol">(</a><a id="4815" href="Prelude.Inverses.html#4596" class="Function">Î²inv</a> <a id="4820" href="Prelude.Inverses.html#4579" class="Bound">y</a><a id="4821" class="Symbol">))</a> <a id="4824" class="Symbol">(</a><a id="4825" href="Prelude.Inverses.html#4712" class="Function">Î·</a> <a id="4827" href="MGS-MLTT.html#6125" class="Function Operator">â»Â¹</a><a id="4829" class="Symbol">)</a>

</pre>





#### <a id="embeddings">Embeddings</a>
The type `is-embedding f` denotes the assertion that `f` is a function all of whose fibers are subsingletons.

<pre class="Agda">
<a id="5011" class="Keyword">module</a> <a id="hide-is-embedding"></a><a id="5018" href="Prelude.Inverses.html#5018" class="Module">hide-is-embedding</a> <a id="5036" class="Symbol">{</a><a id="5037" href="Prelude.Inverses.html#5037" class="Bound">ğ“¤</a> <a id="5039" href="Prelude.Inverses.html#5039" class="Bound">ğ“¦</a> <a id="5041" class="Symbol">:</a> <a id="5043" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="5051" class="Symbol">}</a> <a id="5053" class="Symbol">{</a><a id="5054" href="Prelude.Inverses.html#5054" class="Bound">A</a> <a id="5056" class="Symbol">:</a> <a id="5058" href="Prelude.Inverses.html#5037" class="Bound">ğ“¤</a> <a id="5060" href="Universes.html#403" class="Function Operator">Ì‡</a> <a id="5062" class="Symbol">}</a> <a id="5064" class="Symbol">{</a><a id="5065" href="Prelude.Inverses.html#5065" class="Bound">B</a> <a id="5067" class="Symbol">:</a> <a id="5069" href="Prelude.Inverses.html#5039" class="Bound">ğ“¦</a> <a id="5071" href="Universes.html#403" class="Function Operator">Ì‡</a> <a id="5073" class="Symbol">}</a> <a id="5075" class="Keyword">where</a>

 <a id="hide-is-embedding.is-embedding"></a><a id="5083" href="Prelude.Inverses.html#5083" class="Function">is-embedding</a> <a id="5096" class="Symbol">:</a> <a id="5098" class="Symbol">(</a><a id="5099" href="Prelude.Inverses.html#5054" class="Bound">A</a> <a id="5101" class="Symbol">â†’</a> <a id="5103" href="Prelude.Inverses.html#5065" class="Bound">B</a><a id="5104" class="Symbol">)</a> <a id="5106" class="Symbol">â†’</a> <a id="5108" href="Prelude.Inverses.html#5037" class="Bound">ğ“¤</a> <a id="5110" href="Agda.Primitive.html#636" class="Primitive Operator">âŠ”</a> <a id="5112" href="Prelude.Inverses.html#5039" class="Bound">ğ“¦</a> <a id="5114" href="Universes.html#403" class="Function Operator">Ì‡</a>
 <a id="5117" href="Prelude.Inverses.html#5083" class="Function">is-embedding</a> <a id="5130" href="Prelude.Inverses.html#5130" class="Bound">f</a> <a id="5132" class="Symbol">=</a> <a id="5134" class="Symbol">âˆ€</a> <a id="5136" href="Prelude.Inverses.html#5136" class="Bound">b</a> <a id="5138" class="Symbol">â†’</a> <a id="5140" href="MGS-Basic-UF.html#743" class="Function">is-subsingleton</a> <a id="5156" class="Symbol">(</a><a id="5157" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="5163" href="Prelude.Inverses.html#5130" class="Bound">f</a> <a id="5165" href="Prelude.Inverses.html#5136" class="Bound">b</a><a id="5166" class="Symbol">)</a>

<a id="5169" class="Keyword">open</a> <a id="5174" class="Keyword">import</a> <a id="5181" href="MGS-Embeddings.html" class="Module">MGS-Embeddings</a> <a id="5196" class="Keyword">using</a> <a id="5202" class="Symbol">(</a><a id="5203" href="MGS-Embeddings.html#384" class="Function">is-embedding</a><a id="5215" class="Symbol">)</a> <a id="5217" class="Keyword">public</a>

</pre>

This is a natural way to represent what we usually mean in mathematics by embedding.  Observe that an embedding does not simply correspond to an injective map.  However, if we assume that the codomain `B` has unique identity proofs (i.e., is a set), then we can prove that a monic function into `B` is an embedding. We will do so in the [Relations.Truncation][] module when we take up the topic of sets in some detail.

Finding a proof that a function is an embedding isn't always easy, but one path that is often straightforward is to first prove that the function is invertible and then invoke the following theorem.

<pre class="Agda">

<a id="5871" class="Keyword">module</a> <a id="5878" href="Prelude.Inverses.html#5878" class="Module">_</a> <a id="5880" class="Symbol">{</a><a id="5881" href="Prelude.Inverses.html#5881" class="Bound">ğ“¤</a> <a id="5883" href="Prelude.Inverses.html#5883" class="Bound">ğ“¦</a> <a id="5885" class="Symbol">:</a> <a id="5887" href="Agda.Primitive.html#423" class="Postulate">Universe</a><a id="5895" class="Symbol">}{</a><a id="5897" href="Prelude.Inverses.html#5897" class="Bound">A</a> <a id="5899" class="Symbol">:</a> <a id="5901" href="Prelude.Inverses.html#5881" class="Bound">ğ“¤</a> <a id="5903" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="5904" class="Symbol">}</a> <a id="5906" class="Symbol">{</a><a id="5907" href="Prelude.Inverses.html#5907" class="Bound">B</a> <a id="5909" class="Symbol">:</a> <a id="5911" href="Prelude.Inverses.html#5883" class="Bound">ğ“¦</a> <a id="5913" href="Universes.html#403" class="Function Operator">Ì‡</a><a id="5914" class="Symbol">}</a> <a id="5916" class="Keyword">where</a>

 <a id="5924" href="Prelude.Inverses.html#5924" class="Function">invertibles-are-embeddings</a> <a id="5951" class="Symbol">:</a> <a id="5953" class="Symbol">(</a><a id="5954" href="Prelude.Inverses.html#5954" class="Bound">f</a> <a id="5956" class="Symbol">:</a> <a id="5958" href="Prelude.Inverses.html#5897" class="Bound">A</a> <a id="5960" class="Symbol">â†’</a> <a id="5962" href="Prelude.Inverses.html#5907" class="Bound">B</a><a id="5963" class="Symbol">)</a> <a id="5965" class="Symbol">â†’</a> <a id="5967" href="MGS-Equivalences.html#370" class="Function">invertible</a> <a id="5978" href="Prelude.Inverses.html#5954" class="Bound">f</a> <a id="5980" class="Symbol">â†’</a> <a id="5982" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="5995" href="Prelude.Inverses.html#5954" class="Bound">f</a>
 <a id="5998" href="Prelude.Inverses.html#5924" class="Function">invertibles-are-embeddings</a> <a id="6025" href="Prelude.Inverses.html#6025" class="Bound">f</a> <a id="6027" href="Prelude.Inverses.html#6027" class="Bound">fi</a> <a id="6030" class="Symbol">=</a> <a id="6032" href="MGS-Embeddings.html#1410" class="Function">equivs-are-embeddings</a> <a id="6054" href="Prelude.Inverses.html#6025" class="Bound">f</a> <a id="6056" class="Symbol">(</a><a id="6057" href="MGS-Equivalences.html#2127" class="Function">invertibles-are-equivs</a> <a id="6080" href="Prelude.Inverses.html#6025" class="Bound">f</a> <a id="6082" href="Prelude.Inverses.html#6027" class="Bound">fi</a><a id="6084" class="Symbol">)</a>

</pre>

Finally, embeddings are monic; from a proof `p : is-embedding f` that `f` is an embedding we can construct a proof of `Monic f`.  We confirm this as follows.

<pre class="Agda">

 <a id="6273" href="Prelude.Inverses.html#6273" class="Function">embedding-is-monic</a> <a id="6292" class="Symbol">:</a> <a id="6294" class="Symbol">(</a><a id="6295" href="Prelude.Inverses.html#6295" class="Bound">f</a> <a id="6297" class="Symbol">:</a> <a id="6299" href="Prelude.Inverses.html#5897" class="Bound">A</a> <a id="6301" class="Symbol">â†’</a> <a id="6303" href="Prelude.Inverses.html#5907" class="Bound">B</a><a id="6304" class="Symbol">)</a> <a id="6306" class="Symbol">â†’</a> <a id="6308" href="MGS-Embeddings.html#384" class="Function">is-embedding</a> <a id="6321" href="Prelude.Inverses.html#6295" class="Bound">f</a> <a id="6323" class="Symbol">â†’</a> <a id="6325" href="Prelude.Inverses.html#3712" class="Function">Monic</a> <a id="6331" href="Prelude.Inverses.html#6295" class="Bound">f</a>
 <a id="6334" href="Prelude.Inverses.html#6273" class="Function">embedding-is-monic</a> <a id="6353" href="Prelude.Inverses.html#6353" class="Bound">f</a> <a id="6355" href="Prelude.Inverses.html#6355" class="Bound">femb</a> <a id="6360" href="Prelude.Inverses.html#6360" class="Bound">x</a> <a id="6362" href="Prelude.Inverses.html#6362" class="Bound">y</a> <a id="6364" href="Prelude.Inverses.html#6364" class="Bound">fxfy</a> <a id="6369" class="Symbol">=</a> <a id="6371" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="6374" href="MGS-MLTT.html#2942" class="Function">prâ‚</a> <a id="6378" class="Symbol">((</a><a id="6380" href="Prelude.Inverses.html#6355" class="Bound">femb</a> <a id="6385" class="Symbol">(</a><a id="6386" href="Prelude.Inverses.html#6353" class="Bound">f</a> <a id="6388" href="Prelude.Inverses.html#6360" class="Bound">x</a><a id="6389" class="Symbol">))</a> <a id="6392" href="Prelude.Inverses.html#6409" class="Function">fx</a> <a id="6395" href="Prelude.Inverses.html#6447" class="Function">fy</a><a id="6397" class="Symbol">)</a>
  <a id="6401" class="Keyword">where</a>
  <a id="6409" href="Prelude.Inverses.html#6409" class="Function">fx</a> <a id="6412" class="Symbol">:</a> <a id="6414" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="6420" href="Prelude.Inverses.html#6353" class="Bound">f</a> <a id="6422" class="Symbol">(</a><a id="6423" href="Prelude.Inverses.html#6353" class="Bound">f</a> <a id="6425" href="Prelude.Inverses.html#6360" class="Bound">x</a><a id="6426" class="Symbol">)</a>
  <a id="6430" href="Prelude.Inverses.html#6409" class="Function">fx</a> <a id="6433" class="Symbol">=</a> <a id="6435" href="Prelude.Inverses.html#6360" class="Bound">x</a> <a id="6437" href="Prelude.Preliminaries.html#11707" class="InductiveConstructor Operator">,</a> <a id="6439" href="Identity-Type.html#162" class="InductiveConstructor">refl</a>

  <a id="6447" href="Prelude.Inverses.html#6447" class="Function">fy</a> <a id="6450" class="Symbol">:</a> <a id="6452" href="MGS-Equivalences.html#501" class="Function">fiber</a> <a id="6458" href="Prelude.Inverses.html#6353" class="Bound">f</a> <a id="6460" class="Symbol">(</a><a id="6461" href="Prelude.Inverses.html#6353" class="Bound">f</a> <a id="6463" href="Prelude.Inverses.html#6360" class="Bound">x</a><a id="6464" class="Symbol">)</a>
  <a id="6468" href="Prelude.Inverses.html#6447" class="Function">fy</a> <a id="6471" class="Symbol">=</a> <a id="6473" href="Prelude.Inverses.html#6362" class="Bound">y</a> <a id="6475" href="Prelude.Preliminaries.html#11707" class="InductiveConstructor Operator">,</a> <a id="6477" class="Symbol">(</a><a id="6478" href="Prelude.Inverses.html#6364" class="Bound">fxfy</a> <a id="6483" href="MGS-MLTT.html#6125" class="Function Operator">â»Â¹</a><a id="6485" class="Symbol">)</a>

</pre>


-------------------------------------

<p></p>

[â† Prelude.Extensionality](Prelude.Extensionality.html)
<span style="float:right;">[Prelude.Lifts â†’](Prelude.Lifts.html)</span>


{% include UALib.Links.md %}


<!-- 
This is the first point at which [truncation](UALib.Preface.html#truncation) comes into play.  An [embedding](https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/HoTT-UF-Agda.html#embeddings) is defined in the [Type Topology][] library, using the `is-subsingleton` type [described earlier](Prelude.Extensionality.html#alternative-extensionality-type), as follows.
-->
