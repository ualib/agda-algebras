---
layout: default
title : UALib.Birkhoff.FreeAlgebra (The Agda Universal Algebra Library)
date : 2021-01-14
author: William DeMeo
---

### <a id="relatively-free-algebra-types">Relatively Free Algebra Types</a>

This section presents the [UALib.Birkhoff.FreeAlgebra][] module of the [Agda Universal Algebra Library][].

Recall, we proved in [the universal property](UALib.Terms.Free.html#the-universal-property) section of the [UALib.Terms.Free][] module that the term algebra `ğ‘» X` is the absolutely free algebra in the class ğ“šğ‘† of all ğ‘†-structures. In this section, we formalize, for a given class ğ’¦ of ğ‘†-algebras, the (relatively) free algebra in `S (P ğ’¦)` over X.

We use the next definition to take a free algebra *for* a class ğ’¦ and produce the free algebra *in* ğ’¦.

Î˜(ğ’¦, ğ‘¨) := {Î¸ âˆˆ Con ğ‘¨ : ğ‘¨ / Î¸ âˆˆ (S ğ’¦)} &nbsp; &nbsp; and &nbsp; &nbsp; Ïˆ(ğ’¦, ğ‘¨) := â‹‚ Î˜(ğ’¦, ğ‘¨).

Notice that Î˜(ğ’¦, ğ‘¨) may be empty, in which case Ïˆ(ğ’¦, ğ‘¨) = 1 and then ğ‘¨ / Ïˆ(ğ’¦, ğ‘¨) is trivial.

The free algebra is constructed by applying the above definitions to the special case in which ğ‘¨ is the term algebra `ğ‘» X` of ğ‘†-terms over X.

Since `ğ‘» X` is free for the class ğ“šğ‘† of all ğ‘†-algebras, it follows that `ğ‘» X` is free for every subclass ğ’¦ of ğ“šğ‘†. Of course, `ğ‘» X` is not necessarily a member of ğ’¦, but if we form the quotient of `ğ‘» X` modulo the congruence Ïˆ(ğ’¦, ğ‘» X), which we denote by `ğ”‰ = (ğ‘» X) / Ïˆ(ğ’¦, ğ‘» X)`, then it should be clear that ğ”‰ is a subdirect product of the algebras in `{(ğ‘» ğ‘‹) / Î¸}`, where Î¸ ranges over Î˜(ğ’¦, ğ‘» X)}, so ğ”‰ belongs to `S (P ğ’¦)`.

The ğ”‰ that we have just defined is called the **free algebra over** ğ’¦ **generated by** `X` and (because of what we just observed) we may say that ğ”‰ is free *in* `S (P ğ’¦)`.

To represent ğ”‰ as a type in Agda, we must first define the congruence Ïˆ(ğ’¦, ğ‘» ğ‘‹) given by â‹‚ Î˜(ğ’¦, ğ‘» X), where Î˜(ğ’¦, ğ‘» X) := {Î¸ âˆˆ Con (ğ‘» X) : ğ‘¨ / Î¸ âˆˆ (S ğ’¦)}.<sup>1</sup>

\begin{code}

{-# OPTIONS --without-K --exact-split --safe #-}

open import UALib.Algebras using (Signature; ğ“; ğ“¥; Algebra; _â† _)
open import UALib.Prelude.Preliminaries using (global-dfunext; Universe; _Ì‡)


module UALib.Birkhoff.FreeAlgebra
 {ğ‘† : Signature ğ“ ğ“¥}{gfe : global-dfunext}
 {ğ• : {ğ“¤ ğ“§ : Universe}{X : ğ“§ Ì‡ }(ğ‘¨ : Algebra ğ“¤ ğ‘†) â†’ X â†  ğ‘¨}
 where


open import UALib.Varieties.Preservation {ğ‘† = ğ‘†}{gfe}{ğ•} public

\end{code}

--------------------------------------------------

#### <a id="the-free-algebra">The free algebra</a>

In this subsection we define the relatively free algebra in Agda. Throughout this section, we assume we have two ambient universes ğ“¤ and ğ“§, as well as a type `X : ğ“§ Ì‡` at our disposal. As usual, this is accomplished with the `module` directive.

\begin{code}

module the-free-algebra {ğ“¤ ğ“§ : Universe}{X : ğ“§ Ì‡} where

\end{code}

We begin by defining the collection `ğ‘»img` of homomorphic images of the term algebra.

\begin{code}

 -- H (ğ‘» X)  (hom images of ğ‘» X)
 ğ‘»img : Pred (Algebra ğ“¤ ğ‘†) (OV ğ“¤) â†’ ğ“ âŠ” ğ“¥ âŠ” (ğ“¤ âŠ” ğ“§)âº Ì‡
 ğ‘»img ğ’¦ = Î£ ğ‘¨ ê‰ (Algebra ğ“¤ ğ‘†) , Î£ Ï• ê‰ hom (ğ‘» X) ğ‘¨ , (ğ‘¨ âˆˆ ğ’¦) Ã— Epic âˆ£ Ï• âˆ£

\end{code}

The Sigma type we use to define `ğ‘»img` is the type of algebras ğ‘¨ such that there exists `Ï• : hom (ğ‘» X) ğ‘¨` such that ğ‘¨ âˆˆ ğ’¦ and Ï• is surjective.  This is precisely the collection of all homomorphic images of `ğ‘» X`, as desired.

An inhabitant of type `ğ‘»img` is a quadruple, `(ğ‘¨ , Ï• , ka, Ï•E)`, where ğ‘¨ is an algebra, `Ï• : hom (ğ‘» X) ğ‘¨` is a homomorphism from `ğ‘» X` to ğ‘¨, `KA : ğ‘¨ âˆˆ ğ’¦` is a proof that ğ‘¨ belongs to ğ’¦, and `Ï•E` is a proof that the underlying map âˆ£ Ï• âˆ£ is surjective.

Next we define a function `mkti` that takes an arbitrary algebra ğ‘¨ and returns an inhabitant of `ğ‘»img` which is essentially a proof that ğ‘¨ is a homomorphic image of `ğ‘» X`.

\begin{code}

 -- Every algebra is a hom image of ğ‘» X.
 mkti : {ğ’¦ : Pred (Algebra ğ“¤ ğ‘†) (OV ğ“¤)}(ğ‘¨ : Algebra ğ“¤ ğ‘†)
  â†’     ğ‘¨ âˆˆ ğ’¦ â†’ ğ‘»img ğ’¦
 mkti ğ‘¨ KA = (ğ‘¨ , fst thg , KA , snd thg)
  where
   thg : Î£ h ê‰ (hom (ğ‘» X) ğ‘¨), Epic âˆ£ h âˆ£
   thg = ğ‘»hom-gen ğ‘¨

\end{code}

Occasionally we want to extract the homomorphism Ï• from an inhabitant of `ğ‘»img`, so we define.

\begin{code}

 -- The hom part of a hom image of ğ‘» X.
 ğ‘»Ï• : (ğ’¦ : Pred (Algebra ğ“¤ ğ‘†) (OV ğ“¤))(ti : ğ‘»img ğ’¦)
  â†’   hom (ğ‘» X) âˆ£ ti âˆ£
 ğ‘»Ï• _ ti = fst âˆ¥ ti âˆ¥

\end{code}

Finally, it is time to define the congruence relation modulo which `ğ‘» X` will yield the relatively free algebra, ğ”‰ ğ’¦ X.

We start by letting Ïˆ be the collection of all identities (p, q) satisfied by all subalgebras of algebras in ğ’¦.

\begin{code}

 Ïˆ : (ğ’¦ : Pred (Algebra ğ“¤ ğ‘†) (OV ğ“¤)) â†’ Pred (âˆ£ ğ‘» X âˆ£ Ã— âˆ£ ğ‘» X âˆ£) (OV ğ“¤)
 Ïˆ  ğ’¦ (p , q) = âˆ€(ğ‘¨ : Algebra ğ“¤ ğ‘†) â†’ (sA : ğ‘¨ âˆˆ S{ğ“¤}{ğ“¤} ğ’¦)
                 â†’  âˆ£ lift-hom ğ‘¨ (fst(ğ• ğ‘¨)) âˆ£ p â‰¡ âˆ£ lift-hom ğ‘¨ (fst(ğ• ğ‘¨)) âˆ£ q

\end{code}

We convert the predicate Ïˆ into a relation by [Currying](https://en.wikipedia.org/wiki/Currying).

\begin{code}

 ÏˆRel : (ğ’¦ : Pred (Algebra ğ“¤ ğ‘†) (OV ğ“¤)) â†’ Rel âˆ£ (ğ‘» X) âˆ£ (OV ğ“¤)
 ÏˆRel ğ’¦ p q = Ïˆ ğ’¦ (p , q)

\end{code}

We will want to express `ÏˆRel` as a congruence of the term algebra `ğ‘» X`, so we must prove that `ÏˆRel` is compatible with the operations of `ğ‘» X` (which are jsut the terms themselves) and that `ÏˆRel` an equivalence relation.

\begin{code}

 Ïˆcompatible : (ğ’¦ : Pred (Algebra ğ“¤ ğ‘†) (OV ğ“¤))
  â†’            compatible (ğ‘» X) (ÏˆRel ğ’¦)
 Ïˆcompatible ğ’¦ f {i} {j} iÏˆj ğ‘¨ sA = Î³
  where
   ti : ğ‘»img (S{ğ“¤}{ğ“¤} ğ’¦)
   ti = mkti ğ‘¨ sA

   Ï• : hom (ğ‘» X) ğ‘¨
   Ï• = fst âˆ¥ ti âˆ¥

   Î³ : âˆ£ Ï• âˆ£ ((f Ì‚ ğ‘» X) i) â‰¡ âˆ£ Ï• âˆ£ ((f Ì‚ ğ‘» X) j)
   Î³ = âˆ£ Ï• âˆ£ ((f Ì‚ ğ‘» X) i) â‰¡âŸ¨ âˆ¥ Ï• âˆ¥ f i âŸ©
       (f Ì‚ ğ‘¨) (âˆ£ Ï• âˆ£ âˆ˜ i) â‰¡âŸ¨ ap (f Ì‚ ğ‘¨) (gfe Î» x â†’ ((iÏˆj x) ğ‘¨ sA)) âŸ©
       (f Ì‚ ğ‘¨) (âˆ£ Ï• âˆ£ âˆ˜ j) â‰¡âŸ¨ (âˆ¥ Ï• âˆ¥ f j)â»Â¹ âŸ©
       âˆ£ Ï• âˆ£ ((f Ì‚ ğ‘» X) j) âˆ

 ÏˆRefl : {ğ’¦ : Pred (Algebra ğ“¤ ğ‘†) (OV ğ“¤)} â†’ reflexive (ÏˆRel ğ’¦)
 ÏˆRefl = Î» x ğ‘ª Ï• â†’ ğ“‡â„¯ğ’»ğ“

 ÏˆSymm : {ğ’¦ : Pred (Algebra ğ“¤ ğ‘†) (OV ğ“¤)} â†’ symmetric (ÏˆRel ğ’¦)
 ÏˆSymm p q pÏˆRelq ğ‘ª Ï• = (pÏˆRelq ğ‘ª Ï•)â»Â¹

 ÏˆTrans : {ğ’¦ : Pred (Algebra ğ“¤ ğ‘†) (OV ğ“¤)} â†’ transitive (ÏˆRel ğ’¦)
 ÏˆTrans p q r pÏˆq qÏˆr ğ‘ª Ï• = (pÏˆq ğ‘ª Ï•) âˆ™ (qÏˆr ğ‘ª Ï•)

 ÏˆIsEquivalence : {ğ’¦ : Pred (Algebra ğ“¤ ğ‘†) (OV ğ“¤)} â†’ IsEquivalence (ÏˆRel ğ’¦)
 ÏˆIsEquivalence = record { rfl = ÏˆRefl ; sym = ÏˆSymm ; trans = ÏˆTrans }

\end{code}

We have collected all the pieces necessary to express the collection of identities satisfied by all algebras in the class as a congruence relation of the term algebra. We call this congruence `ÏˆCon` and define it using the Congruence constructor `mkcon`.

\begin{code}

 ÏˆCon : (ğ’¦ : Pred (Algebra ğ“¤ ğ‘†) (OV ğ“¤)) â†’ Congruence (ğ‘» X)
 ÏˆCon ğ’¦ = mkcon (ÏˆRel ğ’¦) (Ïˆcompatible ğ’¦) ÏˆIsEquivalence

\end{code}

--------------------------------------

#### <a id="the-relatively-free-algebra">The relatively free algebra</a>

We will denote the relatively free algebra by ğ”‰ or ğ”½ and construct it as the quotient `ğ‘» X â•± (ÏˆCon ğ’¦)`.

\begin{code}
open the-free-algebra

module the-relatively-free-algebra
 {ğ“¤ ğ“§ : Universe}{X : ğ“§ Ì‡}
 {ğ’¦ : Pred (Algebra ğ“¤ ğ‘†) (OV ğ“¤)} where

 ğ“• : Universe -- (universe level of the relatively free algebra)
 ğ“• = (ğ“§ âŠ” (OV ğ“¤))âº

 ğ”‰ : Algebra ğ“• ğ‘†
 ğ”‰ =  ğ‘» X â•± (ÏˆCon ğ’¦)
\end{code}

The domain, âˆ£ ğ”‰ âˆ£, is defined by

```agda
( âˆ£ ğ‘» X âˆ£ â•± âŸ¨ Î¸ âŸ© ) = Î£ C ê‰ _ ,  Î£ p ê‰ âˆ£ ğ‘» X âˆ£ ,  C â‰¡ ( [ p ] â‰ˆ )
```

which is the collection { C : âˆƒ p âˆˆ âˆ£ ğ‘» X âˆ£, C â‰¡ [ p ] } of Î¸-classs of ğ‘» X.

\begin{code}

 ğ”‰-free-lift : {ğ“¦ : Universe}(ğ‘¨ : Algebra ğ“¦ ğ‘†)
               (hâ‚€ : X â†’ âˆ£ ğ‘¨ âˆ£)  â†’  âˆ£ ğ”‰ âˆ£ â†’ âˆ£ ğ‘¨ âˆ£

 ğ”‰-free-lift {ğ“¦}ğ‘¨ hâ‚€ (_ , x , _) = (free-lift{ğ“§}{ğ“¦} ğ‘¨ hâ‚€) x

 ğ”‰-free-lift-interpretation : (ğ‘¨ : Algebra ğ“¤ ğ‘†)
                              (hâ‚€ : X â†’ âˆ£ ğ‘¨ âˆ£)(ğ’™ : âˆ£ ğ”‰ âˆ£)
                             -------------------------------------
  â†’                           (âŒœ ğ’™ âŒ Ì‡ ğ‘¨) hâ‚€ â‰¡ ğ”‰-free-lift ğ‘¨ hâ‚€ ğ’™

 ğ”‰-free-lift-interpretation ğ‘¨ f ğ’™ = free-lift-interpretation ğ‘¨ f âŒœ ğ’™ âŒ


 ğ”‰-lift-hom : {ğ“¦ : Universe}(ğ‘¨ : Algebra ğ“¦ ğ‘†)
               (hâ‚€ : X â†’ âˆ£ ğ‘¨ âˆ£) â†’ hom ğ”‰ ğ‘¨

 ğ”‰-lift-hom ğ‘¨ hâ‚€ = f , fhom
  where
   f : âˆ£ ğ”‰ âˆ£ â†’ âˆ£ ğ‘¨ âˆ£
   f = ğ”‰-free-lift ğ‘¨ hâ‚€

   Ï• : hom (ğ‘» X) ğ‘¨
   Ï• = lift-hom ğ‘¨ hâ‚€

   fhom : is-homomorphism ğ”‰ ğ‘¨ f
   fhom ğ‘“ ğ’‚ = âˆ¥ Ï• âˆ¥ ğ‘“ (Î» i â†’ âŒœ ğ’‚ i âŒ  )

 ğ”‰-lift-agrees-on-X : {ğ“¦ : Universe}(ğ‘¨ : Algebra ğ“¦ ğ‘†)
                       (hâ‚€ : X â†’ âˆ£ ğ‘¨ âˆ£)(x : X)
                     -----------------------------------------
  â†’                    hâ‚€ x â‰¡ ( âˆ£ ğ”‰-lift-hom ğ‘¨ hâ‚€ âˆ£ âŸ¦ â„Š x âŸ§ )

 ğ”‰-lift-agrees-on-X _ hâ‚€ x = ğ“‡â„¯ğ’»ğ“

 ğ”‰-lift-of-epic-is-epic : {ğ“¦ : Universe}(ğ‘¨ : Algebra ğ“¦ ğ‘†)
                           (hâ‚€ : X â†’ âˆ£ ğ‘¨ âˆ£)  â†’  Epic hâ‚€
                          --------------------------------
  â†’                        Epic âˆ£ ğ”‰-lift-hom ğ‘¨ hâ‚€ âˆ£

 ğ”‰-lift-of-epic-is-epic ğ‘¨ hâ‚€ hE y = Î³
  where
   hâ‚€pre : Image hâ‚€ âˆ‹ y
   hâ‚€pre = hE y

   hâ‚€â»Â¹y : X
   hâ‚€â»Â¹y = Inv hâ‚€ y (hE y)

   Î· : y â‰¡ ( âˆ£ ğ”‰-lift-hom ğ‘¨ hâ‚€ âˆ£ âŸ¦ â„Š (hâ‚€â»Â¹y) âŸ§ )
   Î· = y                               â‰¡âŸ¨ (InvIsInv hâ‚€ y hâ‚€pre)â»Â¹ âŸ©
       hâ‚€ hâ‚€â»Â¹y                         â‰¡âŸ¨ (ğ”‰-lift-agrees-on-X) ğ‘¨ hâ‚€ hâ‚€â»Â¹y âŸ©
       âˆ£ ğ”‰-lift-hom ğ‘¨ hâ‚€ âˆ£ âŸ¦ (â„Š hâ‚€â»Â¹y) âŸ§ âˆ

   Î³ : Image âˆ£ ğ”‰-lift-hom ğ‘¨ hâ‚€ âˆ£ âˆ‹ y
   Î³ = eq y (âŸ¦ â„Š hâ‚€â»Â¹y âŸ§) Î·


 ğ‘»-canonical-projection : (Î¸ : Congruence{OV ğ“§}{ğ“¤} (ğ‘» X)) â†’ epi (ğ‘» X) ((ğ‘» X) â•± Î¸)
 ğ‘»-canonical-projection Î¸ = canonical-projection (ğ‘» X) Î¸

 ğ”‰-canonical-projection : epi (ğ‘» X) ğ”‰
 ğ”‰-canonical-projection = canonical-projection (ğ‘» X) (ÏˆCon ğ’¦)

 Ï€ğ”‰ : hom (ğ‘» X) ğ”‰
 Ï€ğ”‰ = epi-to-hom (ğ‘» X) {ğ”‰} ğ”‰-canonical-projection

 Ï€ğ”‰-X-defined : (g : hom (ğ‘» X) ğ”‰)
  â†’              ((x : X) â†’ âˆ£ g âˆ£ (â„Š x) â‰¡ âŸ¦ â„Š x âŸ§)
  â†’              (t : âˆ£ ğ‘» X âˆ£ )
               ---------------------------------
  â†’               âˆ£ g âˆ£ t â‰¡ âŸ¦ t âŸ§

 Ï€ğ”‰-X-defined g gx t = free-unique gfe ğ”‰ g Ï€ğ”‰ gÏ€ğ”‰-agree-on-X t
  where
   gÏ€ğ”‰-agree-on-X : ((x : X) â†’ âˆ£ g âˆ£ (â„Š x) â‰¡ âˆ£ Ï€ğ”‰ âˆ£ ( â„Š x ))
   gÏ€ğ”‰-agree-on-X x = gx x


 Xâ†ªğ”‰ : X â†’ âˆ£ ğ”‰ âˆ£
 Xâ†ªğ”‰ x = âŸ¦ â„Š x âŸ§


 Ïˆlem : (p q : âˆ£ ğ‘» X âˆ£ )
  â†’     âˆ£ lift-hom ğ”‰ Xâ†ªğ”‰ âˆ£ p â‰¡ âˆ£ lift-hom ğ”‰ Xâ†ªğ”‰ âˆ£ q
       -----------------------------------------------
  â†’                (p , q) âˆˆ Ïˆ ğ’¦

 Ïˆlem p q gpgq ğ‘¨ sA = Î³
   where
    g : hom (ğ‘» X) ğ”‰
    g = lift-hom ğ”‰ (Xâ†ªğ”‰)

    hâ‚€ : X â†’ âˆ£ ğ‘¨ âˆ£
    hâ‚€ = fst (ğ• ğ‘¨)

    f : hom ğ”‰ ğ‘¨
    f = ğ”‰-lift-hom ğ‘¨ hâ‚€

    h Ï• : hom (ğ‘» X) ğ‘¨
    h = HomComp (ğ‘» X) ğ‘¨ g f
    Ï• = ğ‘»Ï• (S ğ’¦) (mkti ğ‘¨ sA)

     --(homs from ğ‘» X to ğ‘¨ that agree on X are equal)
    lift-agreement : (x : X) â†’ hâ‚€ x â‰¡ âˆ£ f âˆ£ âŸ¦ â„Š x âŸ§
    lift-agreement x = ğ”‰-lift-agrees-on-X ğ‘¨ hâ‚€ x
    fgxâ‰¡Ï• : (x : X) â†’ (âˆ£ f âˆ£ âˆ˜ âˆ£ g âˆ£) (â„Š x) â‰¡ âˆ£ Ï• âˆ£ (â„Š x)
    fgxâ‰¡Ï• x = (lift-agreement x)â»Â¹
    hâ‰¡Ï• : âˆ€ t â†’ (âˆ£ f âˆ£ âˆ˜ âˆ£ g âˆ£) t â‰¡ âˆ£ Ï• âˆ£ t
    hâ‰¡Ï• t = free-unique gfe ğ‘¨ h Ï• fgxâ‰¡Ï• t

    Î³ : âˆ£ Ï• âˆ£ p â‰¡ âˆ£ Ï• âˆ£ q
    Î³ = âˆ£ Ï• âˆ£ p â‰¡âŸ¨ (hâ‰¡Ï• p)â»Â¹ âŸ© (âˆ£ f âˆ£ âˆ˜ âˆ£ g âˆ£) p
               â‰¡âŸ¨ ğ“‡â„¯ğ’»ğ“ âŸ© âˆ£ f âˆ£ ( âˆ£ g âˆ£ p )
               â‰¡âŸ¨ ap âˆ£ f âˆ£ gpgq âŸ© âˆ£ f âˆ£ ( âˆ£ g âˆ£ q )
               â‰¡âŸ¨ hâ‰¡Ï• q âŸ© âˆ£ Ï• âˆ£ q âˆ

\end{code}

----------------------------

<span class="footnote"><sup>1</sup>Since `X` is not a subset of ğ”‰, technically it doesn't make sense to say "`X` generates ğ”‰." But as long as ğ’¦ contains a nontrivial algebra, we will have `Ïˆ(ğ’¦, ğ‘» ğ‘‹) âˆ© XÂ² â‰  âˆ…`, and we can identify `X` with `X / Ïˆ(ğ’¦, ğ‘» X)` which does belong to ğ”‰.</span>

[â†‘ UALib.Birkhoff](UALib.Birkhoff.html)
<span style="float:right;">[UALib.Birkhoff.Lemmata â†’](UALib.Birkhoff.Lemmata.html)</span>

{% include UALib.Links.md %}




<!--

----------------------------------------

#### <a id="properties-of-psi">Properties of Ïˆ</a>

\begin{code}

 ğ‘»iâŠ§Ïˆ : (ğ’¦ : Pred (Algebra ğ“¤ ğ‘†) (OV ğ“¤))
        (ğ‘ª : Algebra ğ“¤ ğ‘†) (sC : ğ‘ª âˆˆ S{ğ“¤}{ğ“¤} ğ’¦)
        (p q : âˆ£ (ğ‘» X) âˆ£)  â†’  (p , q) âˆˆ Ïˆ ğ’¦
       --------------------------------------------------
  â†’     âˆ£ ğ‘»Ï• (S ğ’¦)(mkti ğ‘ª sC) âˆ£ p â‰¡ âˆ£ ğ‘»Ï• (S ğ’¦)(mkti ğ‘ª sC) âˆ£ q

 ğ‘»iâŠ§Ïˆ ğ’¦ ğ‘ª sC p q pÏˆq = pÏˆq ğ‘ª sC

\end{code}

Recall, `mkti X ğ‘¨ sC` has type `ğ‘»img X (S ğ’¦)` and consists of a quadruple `(ğ‘¨ , Ï• , sA , Ï•E)`
where

```agda
ğ‘¨ : Algebra ğ“¤ ğ‘† , Ï• : hom (ğ‘» X) ğ‘¨ , sA : ğ‘¨ âˆˆ S ğ’¦ , Ï•E : Epic âˆ£ Ï• âˆ£
```

Lemma 4.27. (Bergman) Let ğ’¦ be a class of algebras, and ÏˆCon defined as above.
                     Then ğ”½ := ğ‘» / ÏˆCon is isomorphic to an algebra in SP(ğ’¦).

Proof. ğ”½ â†ª â¨… ğ’œ, where ğ’œ = {ğ‘¨ / Î¸ : ğ‘¨ / Î¸ âˆˆ S ğ’¦}.
       Therefore, ğ”½ â‰… ğ‘©, where ğ‘© is a subalgebra of â¨… ğ’œ âˆˆ PS(ğ’¦).
       Thus ğ”½ is isomorphic to an algebra in SPS(ğ’¦).
       By SPSâŠ†SP, ğ”½ is isomorphic to an algebra in SP(ğ’¦).


-->
<!-- The free algebra in a variety, or *relatively free algebra* (relative to the variety), is the quotient of the term algebra modulo the congruence generated by the set of identities satisfied by all algebras in the variety.  -->

