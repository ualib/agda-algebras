---
layout: default
title : "Base.Terms.Operations module (The Agda Universal Algebra Library)"
date : "2021-01-14"
author: "agda-algebras development team"
---

### <a id="term-operations">Term Operations</a>

This section presents the [Base.Terms.Operations][] module of the [Agda Universal Algebra Library][].

Here we define *term operations* which are simply terms interpreted in a
particular algebra, and we prove some compatibility properties of term operations.

<pre class="Agda">

<a id="486" class="Symbol">{-#</a> <a id="490" class="Keyword">OPTIONS</a> <a id="498" class="Pragma">--without-K</a> <a id="510" class="Pragma">--exact-split</a> <a id="524" class="Pragma">--safe</a> <a id="531" class="Symbol">#-}</a>

<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Overture.html" class="Module">Overture</a> <a id="557" class="Keyword">using</a> <a id="563" class="Symbol">(</a> <a id="565" href="Overture.Signatures.html#648" class="Generalizable">𝓞</a> <a id="567" class="Symbol">;</a> <a id="569" href="Overture.Signatures.html#650" class="Generalizable">𝓥</a> <a id="571" class="Symbol">;</a> <a id="573" href="Overture.Signatures.html#3264" class="Function">Signature</a> <a id="583" class="Symbol">)</a>

<a id="586" class="Keyword">module</a> <a id="593" href="Base.Terms.Operations.html" class="Module">Base.Terms.Operations</a> <a id="615" class="Symbol">{</a><a id="616" href="Base.Terms.Operations.html#616" class="Bound">𝑆</a> <a id="618" class="Symbol">:</a> <a id="620" href="Overture.Signatures.html#3264" class="Function">Signature</a> <a id="630" href="Overture.Signatures.html#648" class="Generalizable">𝓞</a> <a id="632" href="Overture.Signatures.html#650" class="Generalizable">𝓥</a><a id="633" class="Symbol">}</a> <a id="635" class="Keyword">where</a>

<a id="642" class="Comment">-- Imports from Agda and the Agda Standard Library ---------------------</a>
<a id="715" class="Keyword">open</a> <a id="720" class="Keyword">import</a> <a id="727" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>  <a id="743" class="Keyword">using</a> <a id="749" class="Symbol">()</a>  <a id="753" class="Keyword">renaming</a> <a id="762" class="Symbol">(</a> <a id="764" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="768" class="Symbol">to</a> <a id="771" class="Primitive">Type</a> <a id="776" class="Symbol">)</a>
<a id="778" class="Keyword">open</a> <a id="783" class="Keyword">import</a> <a id="790" href="Data.Product.html" class="Module">Data.Product</a>    <a id="806" class="Keyword">using</a> <a id="812" class="Symbol">(</a> <a id="814" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="818" class="Symbol">;</a> <a id="820" href="Data.Product.Base.html#1244" class="Function">Σ-syntax</a> <a id="829" class="Symbol">;</a> <a id="831" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="833" class="Symbol">)</a>
<a id="835" class="Keyword">open</a> <a id="840" class="Keyword">import</a> <a id="847" href="Function.html" class="Module">Function</a>        <a id="863" class="Keyword">using</a> <a id="869" class="Symbol">(</a> <a id="871" href="Function.Base.html#1115" class="Function Operator">_∘_</a> <a id="875" class="Symbol">)</a>
<a id="877" class="Keyword">open</a> <a id="882" class="Keyword">import</a> <a id="889" href="Level.html" class="Module">Level</a>           <a id="905" class="Keyword">using</a> <a id="911" class="Symbol">(</a> <a id="913" href="Agda.Primitive.html#742" class="Postulate">Level</a> <a id="919" class="Symbol">;</a> <a id="921" href="Agda.Primitive.html#961" class="Primitive Operator">_⊔_</a> <a id="925" class="Symbol">)</a>
<a id="927" class="Keyword">open</a> <a id="932" class="Keyword">import</a> <a id="939" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="977" class="Symbol">as</a> <a id="980" class="Module">≡</a>
                            <a id="1010" class="Keyword">using</a> <a id="1016" class="Symbol">(</a> <a id="1018" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="1022" class="Symbol">;</a> <a id="1024" class="Keyword">module</a> <a id="1031" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a> <a id="1043" class="Symbol">)</a>
<a id="1045" class="Keyword">open</a> <a id="1050" class="Keyword">import</a> <a id="1057" href="Axiom.Extensionality.Propositional.html" class="Module">Axiom.Extensionality.Propositional</a>
                            <a id="1120" class="Keyword">using</a> <a id="1126" class="Symbol">()</a> <a id="1129" class="Keyword">renaming</a> <a id="1138" class="Symbol">(</a><a id="1139" href="Axiom.Extensionality.Propositional.html#750" class="Function">Extensionality</a> <a id="1154" class="Symbol">to</a> <a id="1157" class="Function">funext</a><a id="1163" class="Symbol">)</a>

<a id="1166" class="Comment">-- Imports from Agda Universal Algebra Library ----------------------------------------------</a>
<a id="1260" class="Keyword">open</a> <a id="1265" class="Keyword">import</a> <a id="1272" href="Overture.html" class="Module">Overture</a>        <a id="1288" class="Keyword">using</a> <a id="1294" class="Symbol">(</a> <a id="1296" href="Overture.Basic.html#5245" class="Function Operator">_∙_</a> <a id="1300" class="Symbol">;</a> <a id="1302" href="Overture.Basic.html#4919" class="Function Operator">_⁻¹</a> <a id="1306" class="Symbol">;</a> <a id="1308" href="Overture.Basic.html#4325" class="Function Operator">∣_∣</a> <a id="1312" class="Symbol">;</a> <a id="1314" href="Overture.Basic.html#4363" class="Function Operator">∥_∥</a> <a id="1318" class="Symbol">;</a> <a id="1320" href="Overture.Basic.html#5930" class="Function">Π</a> <a id="1322" class="Symbol">;</a> <a id="1324" href="Overture.Basic.html#6010" class="Function">Π-syntax</a> <a id="1333" class="Symbol">;</a> <a id="1335" href="Overture.Basic.html#9589" class="Function Operator">_≈_</a> <a id="1339" class="Symbol">)</a>
<a id="1341" class="Keyword">open</a> <a id="1346" class="Keyword">import</a> <a id="1353" href="Base.Relations.html" class="Module">Base.Relations</a>  <a id="1369" class="Keyword">using</a> <a id="1375" class="Symbol">(</a> <a id="1377" href="Base.Relations.Discrete.html#6786" class="Function Operator">_|:_</a> <a id="1382" class="Symbol">)</a>
<a id="1384" class="Keyword">open</a> <a id="1389" class="Keyword">import</a> <a id="1396" href="Base.Equality.html" class="Module">Base.Equality</a>   <a id="1412" class="Keyword">using</a> <a id="1418" class="Symbol">(</a> <a id="1420" href="Base.Equality.Welldefined.html#2509" class="Function">swelldef</a> <a id="1429" class="Symbol">)</a>

<a id="1432" class="Keyword">open</a> <a id="1437" class="Keyword">import</a> <a id="1444" href="Base.Algebras.html" class="Module">Base.Algebras</a>          <a id="1467" class="Symbol">{</a><a id="1468" class="Argument">𝑆</a> <a id="1470" class="Symbol">=</a> <a id="1472" href="Base.Terms.Operations.html#616" class="Bound">𝑆</a><a id="1473" class="Symbol">}</a>  <a id="1476" class="Keyword">using</a> <a id="1482" class="Symbol">(</a> <a id="1484" href="Base.Algebras.Basic.html#2774" class="Function">Algebra</a> <a id="1492" class="Symbol">;</a> <a id="1494" href="Base.Algebras.Basic.html#5783" class="Function Operator">_̂_</a> <a id="1498" class="Symbol">;</a> <a id="1500" href="Base.Algebras.Products.html#3097" class="Function">ov</a> <a id="1503" class="Symbol">;</a> <a id="1505" href="Base.Algebras.Products.html#1923" class="Function">⨅</a> <a id="1507" class="Symbol">)</a>
                                            <a id="1553" class="Keyword">using</a> <a id="1559" class="Symbol">(</a> <a id="1561" href="Base.Algebras.Congruences.html#1828" class="Record">IsCongruence</a> <a id="1574" class="Symbol">;</a> <a id="1576" href="Base.Algebras.Congruences.html#1997" class="Function">Con</a> <a id="1580" class="Symbol">)</a>
<a id="1582" class="Keyword">open</a> <a id="1587" class="Keyword">import</a> <a id="1594" href="Base.Homomorphisms.html" class="Module">Base.Homomorphisms</a>     <a id="1617" class="Symbol">{</a><a id="1618" class="Argument">𝑆</a> <a id="1620" class="Symbol">=</a> <a id="1622" href="Base.Terms.Operations.html#616" class="Bound">𝑆</a><a id="1623" class="Symbol">}</a>  <a id="1626" class="Keyword">using</a> <a id="1632" class="Symbol">(</a> <a id="1634" href="Base.Homomorphisms.Basic.html#2734" class="Function">hom</a> <a id="1638" class="Symbol">)</a>
<a id="1640" class="Keyword">open</a> <a id="1645" class="Keyword">import</a> <a id="1652" href="Base.Terms.Basic.html" class="Module">Base.Terms.Basic</a>       <a id="1675" class="Symbol">{</a><a id="1676" class="Argument">𝑆</a> <a id="1678" class="Symbol">=</a> <a id="1680" href="Base.Terms.Operations.html#616" class="Bound">𝑆</a><a id="1681" class="Symbol">}</a>  <a id="1684" class="Keyword">using</a> <a id="1690" class="Symbol">(</a> <a id="1692" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="1697" class="Symbol">;</a> <a id="1699" href="Base.Terms.Basic.html#3369" class="Function">𝑻</a> <a id="1701" class="Symbol">)</a>
<a id="1703" class="Keyword">open</a> <a id="1708" class="Keyword">import</a> <a id="1715" href="Base.Terms.Properties.html" class="Module">Base.Terms.Properties</a>  <a id="1738" class="Symbol">{</a><a id="1739" class="Argument">𝑆</a> <a id="1741" class="Symbol">=</a> <a id="1743" href="Base.Terms.Operations.html#616" class="Bound">𝑆</a><a id="1744" class="Symbol">}</a>  <a id="1747" class="Keyword">using</a> <a id="1753" class="Symbol">(</a> <a id="1755" href="Base.Terms.Properties.html#2499" class="Function">free-lift</a> <a id="1765" class="Symbol">)</a>

<a id="1768" class="Keyword">open</a> <a id="1773" href="Base.Terms.Basic.html#2087" class="Module">Term</a>
<a id="1778" class="Keyword">private</a> <a id="1786" class="Keyword">variable</a> <a id="1795" href="Base.Terms.Operations.html#1795" class="Generalizable">α</a> <a id="1797" href="Base.Terms.Operations.html#1797" class="Generalizable">β</a> <a id="1799" href="Base.Terms.Operations.html#1799" class="Generalizable">γ</a> <a id="1801" href="Base.Terms.Operations.html#1801" class="Generalizable">ρ</a> <a id="1803" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a> <a id="1805" class="Symbol">:</a> <a id="1807" href="Agda.Primitive.html#742" class="Postulate">Level</a>

</pre>

When we interpret a term in an algebra we call the resulting function a
*term operation*. Given a term `p` and an algebra `𝑨`, we denote by `𝑨 ⟦ p ⟧`
the *interpretation* of `p` in `𝑨`.  This is defined inductively as follows.

1.  If `p` is a variable symbol `x : X` and if `a : X → ∣ 𝑨 ∣` is a tuple of
    elements of `∣ 𝑨 ∣`, then `𝑨 ⟦ p ⟧ a := a x`.

2.  If `p = f t`, where `f : ∣ 𝑆 ∣` is an operation symbol, if `t : ∥ 𝑆 ∥ f → 𝑻 X`
    is a tuple of terms, and if `a : X → ∣ 𝑨 ∣` is a tuple from `𝑨`, then we
    define `𝑨 ⟦ p ⟧ a = 𝑨 ⟦ f t ⟧ a := (f ̂ 𝑨) (λ i → 𝑨 ⟦ t i ⟧ a)`.

Thus the interpretation of a term is defined by induction on the structure of the
term, and the definition is formally implemented in the [agda-algebras][]
library as follows.

<pre class="Agda">

<a id="_⟦_⟧"></a><a id="2603" href="Base.Terms.Operations.html#2603" class="Function Operator">_⟦_⟧</a> <a id="2608" class="Symbol">:</a> <a id="2610" class="Symbol">(</a><a id="2611" href="Base.Terms.Operations.html#2611" class="Bound">𝑨</a> <a id="2613" class="Symbol">:</a> <a id="2615" href="Base.Algebras.Basic.html#2774" class="Function">Algebra</a> <a id="2623" href="Base.Terms.Operations.html#1795" class="Generalizable">α</a><a id="2624" class="Symbol">){</a><a id="2626" href="Base.Terms.Operations.html#2626" class="Bound">X</a> <a id="2628" class="Symbol">:</a> <a id="2630" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="2635" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a> <a id="2637" class="Symbol">}</a> <a id="2639" class="Symbol">→</a> <a id="2641" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="2646" href="Base.Terms.Operations.html#2626" class="Bound">X</a> <a id="2648" class="Symbol">→</a> <a id="2650" class="Symbol">(</a><a id="2651" href="Base.Terms.Operations.html#2626" class="Bound">X</a> <a id="2653" class="Symbol">→</a> <a id="2655" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="2657" href="Base.Terms.Operations.html#2611" class="Bound">𝑨</a> <a id="2659" href="Overture.Basic.html#4325" class="Function Operator">∣</a><a id="2660" class="Symbol">)</a> <a id="2662" class="Symbol">→</a> <a id="2664" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="2666" href="Base.Terms.Operations.html#2611" class="Bound">𝑨</a> <a id="2668" href="Overture.Basic.html#4325" class="Function Operator">∣</a>
<a id="2670" href="Base.Terms.Operations.html#2670" class="Bound">𝑨</a> <a id="2672" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="2674" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="2676" href="Base.Terms.Operations.html#2676" class="Bound">x</a> <a id="2678" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a> <a id="2680" class="Symbol">=</a> <a id="2682" class="Symbol">λ</a> <a id="2684" href="Base.Terms.Operations.html#2684" class="Bound">η</a> <a id="2686" class="Symbol">→</a> <a id="2688" href="Base.Terms.Operations.html#2684" class="Bound">η</a> <a id="2690" href="Base.Terms.Operations.html#2676" class="Bound">x</a>
<a id="2692" href="Base.Terms.Operations.html#2692" class="Bound">𝑨</a> <a id="2694" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="2696" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="2701" href="Base.Terms.Operations.html#2701" class="Bound">f</a> <a id="2703" href="Base.Terms.Operations.html#2703" class="Bound">t</a> <a id="2705" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a> <a id="2707" class="Symbol">=</a> <a id="2709" class="Symbol">λ</a> <a id="2711" href="Base.Terms.Operations.html#2711" class="Bound">η</a> <a id="2713" class="Symbol">→</a> <a id="2715" class="Symbol">(</a><a id="2716" href="Base.Terms.Operations.html#2701" class="Bound">f</a> <a id="2718" href="Base.Algebras.Basic.html#5783" class="Function Operator">̂</a> <a id="2720" href="Base.Terms.Operations.html#2692" class="Bound">𝑨</a><a id="2721" class="Symbol">)</a> <a id="2723" class="Symbol">(λ</a> <a id="2726" href="Base.Terms.Operations.html#2726" class="Bound">i</a> <a id="2728" class="Symbol">→</a> <a id="2730" class="Symbol">(</a><a id="2731" href="Base.Terms.Operations.html#2692" class="Bound">𝑨</a> <a id="2733" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="2735" href="Base.Terms.Operations.html#2703" class="Bound">t</a> <a id="2737" href="Base.Terms.Operations.html#2726" class="Bound">i</a> <a id="2739" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="2740" class="Symbol">)</a> <a id="2742" href="Base.Terms.Operations.html#2711" class="Bound">η</a><a id="2743" class="Symbol">)</a>

</pre>

It turns out that the intepretation of a term is the same as the `free-lift`
(modulo argument order and assuming function extensionality).

<pre class="Agda">

<a id="free-lift-interp"></a><a id="2912" href="Base.Terms.Operations.html#2912" class="Function">free-lift-interp</a> <a id="2929" class="Symbol">:</a>  <a id="2932" href="Base.Equality.Welldefined.html#2509" class="Function">swelldef</a> <a id="2941" href="Base.Terms.Operations.html#632" class="Bound">𝓥</a> <a id="2943" href="Base.Terms.Operations.html#1795" class="Generalizable">α</a> <a id="2945" class="Symbol">→</a> <a id="2947" class="Symbol">(</a><a id="2948" href="Base.Terms.Operations.html#2948" class="Bound">𝑨</a> <a id="2950" class="Symbol">:</a> <a id="2952" href="Base.Algebras.Basic.html#2774" class="Function">Algebra</a> <a id="2960" href="Base.Terms.Operations.html#1795" class="Generalizable">α</a><a id="2961" class="Symbol">){</a><a id="2963" href="Base.Terms.Operations.html#2963" class="Bound">X</a> <a id="2965" class="Symbol">:</a> <a id="2967" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="2972" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a> <a id="2974" class="Symbol">}</a>
                    <a id="2996" class="Symbol">(</a><a id="2997" href="Base.Terms.Operations.html#2997" class="Bound">η</a> <a id="2999" class="Symbol">:</a> <a id="3001" href="Base.Terms.Operations.html#2963" class="Bound">X</a> <a id="3003" class="Symbol">→</a> <a id="3005" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="3007" href="Base.Terms.Operations.html#2948" class="Bound">𝑨</a> <a id="3009" href="Overture.Basic.html#4325" class="Function Operator">∣</a><a id="3010" class="Symbol">)(</a><a id="3012" href="Base.Terms.Operations.html#3012" class="Bound">p</a> <a id="3014" class="Symbol">:</a> <a id="3016" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="3021" href="Base.Terms.Operations.html#2963" class="Bound">X</a><a id="3022" class="Symbol">)</a> <a id="3024" class="Symbol">→</a> <a id="3026" class="Symbol">(</a><a id="3027" href="Base.Terms.Operations.html#2948" class="Bound">𝑨</a> <a id="3029" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="3031" href="Base.Terms.Operations.html#3012" class="Bound">p</a> <a id="3033" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="3034" class="Symbol">)</a> <a id="3036" href="Base.Terms.Operations.html#2997" class="Bound">η</a> <a id="3038" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3040" class="Symbol">(</a><a id="3041" href="Base.Terms.Properties.html#2499" class="Function">free-lift</a> <a id="3051" href="Base.Terms.Operations.html#2948" class="Bound">𝑨</a> <a id="3053" href="Base.Terms.Operations.html#2997" class="Bound">η</a><a id="3054" class="Symbol">)</a> <a id="3056" href="Base.Terms.Operations.html#3012" class="Bound">p</a>

<a id="3059" href="Base.Terms.Operations.html#2912" class="Function">free-lift-interp</a> <a id="3076" class="Symbol">_</a> <a id="3078" href="Base.Terms.Operations.html#3078" class="Bound">𝑨</a> <a id="3080" href="Base.Terms.Operations.html#3080" class="Bound">η</a> <a id="3082" class="Symbol">(</a><a id="3083" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="3085" href="Base.Terms.Operations.html#3085" class="Bound">x</a><a id="3086" class="Symbol">)</a> <a id="3088" class="Symbol">=</a> <a id="3090" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">≡.refl</a>
<a id="3097" href="Base.Terms.Operations.html#2912" class="Function">free-lift-interp</a> <a id="3114" href="Base.Terms.Operations.html#3114" class="Bound">wd</a> <a id="3117" href="Base.Terms.Operations.html#3117" class="Bound">𝑨</a> <a id="3119" href="Base.Terms.Operations.html#3119" class="Bound">η</a> <a id="3121" class="Symbol">(</a><a id="3122" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="3127" href="Base.Terms.Operations.html#3127" class="Bound">f</a> <a id="3129" href="Base.Terms.Operations.html#3129" class="Bound">t</a><a id="3130" class="Symbol">)</a> <a id="3132" class="Symbol">=</a>
 <a id="3135" href="Base.Terms.Operations.html#3114" class="Bound">wd</a> <a id="3138" class="Symbol">(</a><a id="3139" href="Base.Terms.Operations.html#3127" class="Bound">f</a> <a id="3141" href="Base.Algebras.Basic.html#5783" class="Function Operator">̂</a> <a id="3143" href="Base.Terms.Operations.html#3117" class="Bound">𝑨</a><a id="3144" class="Symbol">)</a> <a id="3146" class="Symbol">(λ</a> <a id="3149" href="Base.Terms.Operations.html#3149" class="Bound">z</a> <a id="3151" class="Symbol">→</a> <a id="3153" class="Symbol">(</a><a id="3154" href="Base.Terms.Operations.html#3117" class="Bound">𝑨</a> <a id="3156" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="3158" href="Base.Terms.Operations.html#3129" class="Bound">t</a> <a id="3160" href="Base.Terms.Operations.html#3149" class="Bound">z</a> <a id="3162" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="3163" class="Symbol">)</a> <a id="3165" href="Base.Terms.Operations.html#3119" class="Bound">η</a><a id="3166" class="Symbol">)</a>
 <a id="3169" class="Symbol">((</a><a id="3171" href="Base.Terms.Properties.html#2499" class="Function">free-lift</a> <a id="3181" href="Base.Terms.Operations.html#3117" class="Bound">𝑨</a> <a id="3183" href="Base.Terms.Operations.html#3119" class="Bound">η</a><a id="3184" class="Symbol">)</a> <a id="3186" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3188" href="Base.Terms.Operations.html#3129" class="Bound">t</a><a id="3189" class="Symbol">)((</a><a id="3192" href="Base.Terms.Operations.html#2912" class="Function">free-lift-interp</a> <a id="3209" href="Base.Terms.Operations.html#3114" class="Bound">wd</a> <a id="3212" href="Base.Terms.Operations.html#3117" class="Bound">𝑨</a> <a id="3214" href="Base.Terms.Operations.html#3119" class="Bound">η</a><a id="3215" class="Symbol">)</a> <a id="3217" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3219" href="Base.Terms.Operations.html#3129" class="Bound">t</a><a id="3220" class="Symbol">)</a>

</pre>

If the algebra in question happens to be `𝑻 X`, then we expect that `∀ s`
we have `(𝑻 X)⟦ p ⟧ s ≡ p s`. But what is `(𝑻 X)⟦ p ⟧ s` exactly? By
definition, it depends on the form of `p` as follows:

*  if `p = ℊ x`, then `(𝑻 X)⟦ p ⟧ s := (𝑻 X)⟦ ℊ x ⟧ s ≡ s x`

*  if `p = node f t`, then
   `(𝑻 X)⟦ p ⟧ s := (𝑻 X)⟦ node f t ⟧ s = (f ̂ 𝑻 X) λ i → (𝑻 X)⟦ t i ⟧ s`

Now, assume `ϕ : hom 𝑻 𝑨`. Then by `comm-hom-term`, we have
`∣ ϕ ∣ (𝑻 X)⟦ p ⟧ s = 𝑨 ⟦ p ⟧ ∣ ϕ ∣ ∘ s`.

* if `p = ℊ x` (and `t : X → ∣ 𝑻 X ∣`), then

  `∣ ϕ ∣ p ≡ ∣ ϕ ∣ (ℊ x) ≡ ∣ ϕ ∣ (λ t → h t) ≡ λ t → (∣ ϕ ∣ ∘ t) x`

* if `p = node f t`, then

   `∣ ϕ ∣ p ≡ ∣ ϕ ∣ (𝑻 X)⟦ p ⟧ s = (𝑻 X)⟦ node f t ⟧ s = (f ̂ 𝑻 X) λ i → (𝑻 X)⟦ t i ⟧ s`

We claim that for all `p : Term X` there exists `q : Term X` and `t : X → ∣ 𝑻 X ∣`
such that `p ≡ (𝑻 X)⟦ q ⟧ t`. We prove this fact as follows.

<pre class="Agda">

<a id="term-interp"></a><a id="4091" href="Base.Terms.Operations.html#4091" class="Function">term-interp</a> <a id="4103" class="Symbol">:</a>  <a id="4106" class="Symbol">{</a><a id="4107" href="Base.Terms.Operations.html#4107" class="Bound">X</a> <a id="4109" class="Symbol">:</a> <a id="4111" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="4116" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a><a id="4117" class="Symbol">}</a> <a id="4119" class="Symbol">(</a><a id="4120" href="Base.Terms.Operations.html#4120" class="Bound">f</a> <a id="4122" class="Symbol">:</a> <a id="4124" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="4126" href="Base.Terms.Operations.html#616" class="Bound">𝑆</a> <a id="4128" href="Overture.Basic.html#4325" class="Function Operator">∣</a><a id="4129" class="Symbol">){</a><a id="4131" href="Base.Terms.Operations.html#4131" class="Bound">s</a> <a id="4133" href="Base.Terms.Operations.html#4133" class="Bound">t</a> <a id="4135" class="Symbol">:</a> <a id="4137" href="Overture.Basic.html#4363" class="Function Operator">∥</a> <a id="4139" href="Base.Terms.Operations.html#616" class="Bound">𝑆</a> <a id="4141" href="Overture.Basic.html#4363" class="Function Operator">∥</a> <a id="4143" href="Base.Terms.Operations.html#4120" class="Bound">f</a> <a id="4145" class="Symbol">→</a> <a id="4147" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="4152" href="Base.Terms.Operations.html#4107" class="Bound">X</a><a id="4153" class="Symbol">}</a>
 <a id="4156" class="Symbol">→</a>             <a id="4170" href="Base.Terms.Operations.html#4131" class="Bound">s</a> <a id="4172" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4174" href="Base.Terms.Operations.html#4133" class="Bound">t</a> <a id="4176" class="Symbol">→</a> <a id="4178" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="4183" href="Base.Terms.Operations.html#4120" class="Bound">f</a> <a id="4185" href="Base.Terms.Operations.html#4131" class="Bound">s</a> <a id="4187" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4189" class="Symbol">(</a><a id="4190" href="Base.Terms.Operations.html#4120" class="Bound">f</a> <a id="4192" href="Base.Algebras.Basic.html#5783" class="Function Operator">̂</a> <a id="4194" href="Base.Terms.Basic.html#3369" class="Function">𝑻</a> <a id="4196" href="Base.Terms.Operations.html#4107" class="Bound">X</a><a id="4197" class="Symbol">)</a> <a id="4199" href="Base.Terms.Operations.html#4133" class="Bound">t</a>

<a id="4202" href="Base.Terms.Operations.html#4091" class="Function">term-interp</a> <a id="4214" href="Base.Terms.Operations.html#4214" class="Bound">f</a> <a id="4216" class="Symbol">{</a><a id="4217" href="Base.Terms.Operations.html#4217" class="Bound">s</a><a id="4218" class="Symbol">}{</a><a id="4220" href="Base.Terms.Operations.html#4220" class="Bound">t</a><a id="4221" class="Symbol">}</a> <a id="4223" href="Base.Terms.Operations.html#4223" class="Bound">st</a> <a id="4226" class="Symbol">=</a> <a id="4228" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">≡.cong</a> <a id="4235" class="Symbol">(</a><a id="4236" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="4241" href="Base.Terms.Operations.html#4214" class="Bound">f</a><a id="4242" class="Symbol">)</a> <a id="4244" href="Base.Terms.Operations.html#4223" class="Bound">st</a>


<a id="term-interp&#39;"></a><a id="4249" href="Base.Terms.Operations.html#4249" class="Function">term-interp&#39;</a> <a id="4262" class="Symbol">:</a>  <a id="4265" href="Base.Equality.Welldefined.html#2509" class="Function">swelldef</a> <a id="4274" href="Base.Terms.Operations.html#632" class="Bound">𝓥</a> <a id="4276" class="Symbol">(</a><a id="4277" href="Base.Algebras.Products.html#3097" class="Function">ov</a> <a id="4280" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a><a id="4281" class="Symbol">)</a> <a id="4283" class="Symbol">→</a> <a id="4285" class="Symbol">{</a><a id="4286" href="Base.Terms.Operations.html#4286" class="Bound">X</a> <a id="4288" class="Symbol">:</a> <a id="4290" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="4295" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a><a id="4296" class="Symbol">}</a> <a id="4298" class="Symbol">(</a><a id="4299" href="Base.Terms.Operations.html#4299" class="Bound">f</a> <a id="4301" class="Symbol">:</a> <a id="4303" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="4305" href="Base.Terms.Operations.html#616" class="Bound">𝑆</a> <a id="4307" href="Overture.Basic.html#4325" class="Function Operator">∣</a><a id="4308" class="Symbol">){</a><a id="4310" href="Base.Terms.Operations.html#4310" class="Bound">s</a> <a id="4312" href="Base.Terms.Operations.html#4312" class="Bound">t</a> <a id="4314" class="Symbol">:</a> <a id="4316" href="Overture.Basic.html#4363" class="Function Operator">∥</a> <a id="4318" href="Base.Terms.Operations.html#616" class="Bound">𝑆</a> <a id="4320" href="Overture.Basic.html#4363" class="Function Operator">∥</a> <a id="4322" href="Base.Terms.Operations.html#4299" class="Bound">f</a> <a id="4324" class="Symbol">→</a> <a id="4326" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="4331" href="Base.Terms.Operations.html#4286" class="Bound">X</a><a id="4332" class="Symbol">}</a>
 <a id="4335" class="Symbol">→</a>              <a id="4350" class="Symbol">(∀</a> <a id="4353" href="Base.Terms.Operations.html#4353" class="Bound">i</a> <a id="4355" class="Symbol">→</a> <a id="4357" href="Base.Terms.Operations.html#4310" class="Bound">s</a> <a id="4359" href="Base.Terms.Operations.html#4353" class="Bound">i</a> <a id="4361" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4363" href="Base.Terms.Operations.html#4312" class="Bound">t</a> <a id="4365" href="Base.Terms.Operations.html#4353" class="Bound">i</a><a id="4366" class="Symbol">)</a> <a id="4368" class="Symbol">→</a> <a id="4370" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="4375" href="Base.Terms.Operations.html#4299" class="Bound">f</a> <a id="4377" href="Base.Terms.Operations.html#4310" class="Bound">s</a> <a id="4379" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4381" class="Symbol">(</a><a id="4382" href="Base.Terms.Operations.html#4299" class="Bound">f</a> <a id="4384" href="Base.Algebras.Basic.html#5783" class="Function Operator">̂</a> <a id="4386" href="Base.Terms.Basic.html#3369" class="Function">𝑻</a> <a id="4388" href="Base.Terms.Operations.html#4286" class="Bound">X</a><a id="4389" class="Symbol">)</a> <a id="4391" href="Base.Terms.Operations.html#4312" class="Bound">t</a>

<a id="4394" href="Base.Terms.Operations.html#4249" class="Function">term-interp&#39;</a> <a id="4407" href="Base.Terms.Operations.html#4407" class="Bound">wd</a> <a id="4410" href="Base.Terms.Operations.html#4410" class="Bound">f</a> <a id="4412" class="Symbol">{</a><a id="4413" href="Base.Terms.Operations.html#4413" class="Bound">s</a><a id="4414" class="Symbol">}{</a><a id="4416" href="Base.Terms.Operations.html#4416" class="Bound">t</a><a id="4417" class="Symbol">}</a> <a id="4419" href="Base.Terms.Operations.html#4419" class="Bound">st</a> <a id="4422" class="Symbol">=</a> <a id="4424" href="Base.Terms.Operations.html#4407" class="Bound">wd</a> <a id="4427" class="Symbol">(</a><a id="4428" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="4433" href="Base.Terms.Operations.html#4410" class="Bound">f</a><a id="4434" class="Symbol">)</a> <a id="4436" href="Base.Terms.Operations.html#4413" class="Bound">s</a> <a id="4438" href="Base.Terms.Operations.html#4416" class="Bound">t</a> <a id="4440" href="Base.Terms.Operations.html#4419" class="Bound">st</a>


<a id="term-gen"></a><a id="4445" href="Base.Terms.Operations.html#4445" class="Function">term-gen</a> <a id="4454" class="Symbol">:</a>  <a id="4457" href="Base.Equality.Welldefined.html#2509" class="Function">swelldef</a> <a id="4466" href="Base.Terms.Operations.html#632" class="Bound">𝓥</a> <a id="4468" class="Symbol">(</a><a id="4469" href="Base.Algebras.Products.html#3097" class="Function">ov</a> <a id="4472" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a><a id="4473" class="Symbol">)</a> <a id="4475" class="Symbol">→</a> <a id="4477" class="Symbol">{</a><a id="4478" href="Base.Terms.Operations.html#4478" class="Bound">X</a> <a id="4480" class="Symbol">:</a> <a id="4482" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="4487" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a><a id="4488" class="Symbol">}(</a><a id="4490" href="Base.Terms.Operations.html#4490" class="Bound">p</a> <a id="4492" class="Symbol">:</a> <a id="4494" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="4496" href="Base.Terms.Basic.html#3369" class="Function">𝑻</a> <a id="4498" href="Base.Terms.Operations.html#4478" class="Bound">X</a> <a id="4500" href="Overture.Basic.html#4325" class="Function Operator">∣</a><a id="4501" class="Symbol">)</a>
 <a id="4504" class="Symbol">→</a>          <a id="4515" href="Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="4518" href="Base.Terms.Operations.html#4518" class="Bound">q</a> <a id="4520" href="Data.Product.Base.html#1244" class="Function">∈</a> <a id="4522" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="4524" href="Base.Terms.Basic.html#3369" class="Function">𝑻</a> <a id="4526" href="Base.Terms.Operations.html#4478" class="Bound">X</a> <a id="4528" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="4530" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="4532" href="Base.Terms.Operations.html#4490" class="Bound">p</a> <a id="4534" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4536" class="Symbol">(</a><a id="4537" href="Base.Terms.Basic.html#3369" class="Function">𝑻</a> <a id="4539" href="Base.Terms.Operations.html#4478" class="Bound">X</a> <a id="4541" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="4543" href="Base.Terms.Operations.html#4518" class="Bound">q</a> <a id="4545" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="4546" class="Symbol">)</a> <a id="4548" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a>

<a id="4551" href="Base.Terms.Operations.html#4445" class="Function">term-gen</a> <a id="4560" class="Symbol">_</a> <a id="4562" class="Symbol">(</a><a id="4563" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="4565" href="Base.Terms.Operations.html#4565" class="Bound">x</a><a id="4566" class="Symbol">)</a> <a id="4568" class="Symbol">=</a> <a id="4570" class="Symbol">(</a><a id="4571" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="4573" href="Base.Terms.Operations.html#4565" class="Bound">x</a><a id="4574" class="Symbol">)</a> <a id="4576" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4578" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">≡.refl</a>
<a id="4585" href="Base.Terms.Operations.html#4445" class="Function">term-gen</a> <a id="4594" href="Base.Terms.Operations.html#4594" class="Bound">wd</a> <a id="4597" class="Symbol">(</a><a id="4598" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="4603" href="Base.Terms.Operations.html#4603" class="Bound">f</a> <a id="4605" href="Base.Terms.Operations.html#4605" class="Bound">t</a><a id="4606" class="Symbol">)</a> <a id="4608" class="Symbol">=</a>  <a id="4611" class="Symbol">(</a><a id="4612" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="4617" href="Base.Terms.Operations.html#4603" class="Bound">f</a> <a id="4619" class="Symbol">(λ</a> <a id="4622" href="Base.Terms.Operations.html#4622" class="Bound">i</a> <a id="4624" class="Symbol">→</a> <a id="4626" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="4628" href="Base.Terms.Operations.html#4445" class="Function">term-gen</a> <a id="4637" href="Base.Terms.Operations.html#4594" class="Bound">wd</a> <a id="4640" class="Symbol">(</a><a id="4641" href="Base.Terms.Operations.html#4605" class="Bound">t</a> <a id="4643" href="Base.Terms.Operations.html#4622" class="Bound">i</a><a id="4644" class="Symbol">)</a> <a id="4646" href="Overture.Basic.html#4325" class="Function Operator">∣</a><a id="4647" class="Symbol">))</a> <a id="4650" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
                          <a id="4678" href="Base.Terms.Operations.html#4249" class="Function">term-interp&#39;</a> <a id="4691" href="Base.Terms.Operations.html#4594" class="Bound">wd</a> <a id="4694" href="Base.Terms.Operations.html#4603" class="Bound">f</a> <a id="4696" class="Symbol">λ</a> <a id="4698" href="Base.Terms.Operations.html#4698" class="Bound">i</a> <a id="4700" class="Symbol">→</a> <a id="4702" href="Overture.Basic.html#4363" class="Function Operator">∥</a> <a id="4704" href="Base.Terms.Operations.html#4445" class="Function">term-gen</a> <a id="4713" href="Base.Terms.Operations.html#4594" class="Bound">wd</a> <a id="4716" class="Symbol">(</a><a id="4717" href="Base.Terms.Operations.html#4605" class="Bound">t</a> <a id="4719" href="Base.Terms.Operations.html#4698" class="Bound">i</a><a id="4720" class="Symbol">)</a> <a id="4722" href="Overture.Basic.html#4363" class="Function Operator">∥</a>

<a id="term-gen-agreement"></a><a id="4725" href="Base.Terms.Operations.html#4725" class="Function">term-gen-agreement</a> <a id="4744" class="Symbol">:</a>  <a id="4747" class="Symbol">(</a><a id="4748" href="Base.Terms.Operations.html#4748" class="Bound">wd</a> <a id="4751" class="Symbol">:</a> <a id="4753" href="Base.Equality.Welldefined.html#2509" class="Function">swelldef</a> <a id="4762" href="Base.Terms.Operations.html#632" class="Bound">𝓥</a> <a id="4764" class="Symbol">(</a><a id="4765" href="Base.Algebras.Products.html#3097" class="Function">ov</a> <a id="4768" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a><a id="4769" class="Symbol">)){</a><a id="4772" href="Base.Terms.Operations.html#4772" class="Bound">X</a> <a id="4774" class="Symbol">:</a> <a id="4776" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="4781" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a><a id="4782" class="Symbol">}(</a><a id="4784" href="Base.Terms.Operations.html#4784" class="Bound">p</a> <a id="4786" class="Symbol">:</a> <a id="4788" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="4790" href="Base.Terms.Basic.html#3369" class="Function">𝑻</a> <a id="4792" href="Base.Terms.Operations.html#4772" class="Bound">X</a> <a id="4794" href="Overture.Basic.html#4325" class="Function Operator">∣</a><a id="4795" class="Symbol">)</a>
 <a id="4798" class="Symbol">→</a>                    <a id="4819" class="Symbol">(</a><a id="4820" href="Base.Terms.Basic.html#3369" class="Function">𝑻</a> <a id="4822" href="Base.Terms.Operations.html#4772" class="Bound">X</a> <a id="4824" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="4826" href="Base.Terms.Operations.html#4784" class="Bound">p</a> <a id="4828" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="4829" class="Symbol">)</a> <a id="4831" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="4833" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4835" class="Symbol">(</a><a id="4836" href="Base.Terms.Basic.html#3369" class="Function">𝑻</a> <a id="4838" href="Base.Terms.Operations.html#4772" class="Bound">X</a> <a id="4840" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="4842" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="4844" href="Base.Terms.Operations.html#4445" class="Function">term-gen</a> <a id="4853" href="Base.Terms.Operations.html#4748" class="Bound">wd</a> <a id="4856" href="Base.Terms.Operations.html#4784" class="Bound">p</a> <a id="4858" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="4860" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="4861" class="Symbol">)</a> <a id="4863" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a>
<a id="4865" href="Base.Terms.Operations.html#4725" class="Function">term-gen-agreement</a> <a id="4884" class="Symbol">_</a> <a id="4886" class="Symbol">(</a><a id="4887" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="4889" href="Base.Terms.Operations.html#4889" class="Bound">x</a><a id="4890" class="Symbol">)</a> <a id="4892" class="Symbol">=</a> <a id="4894" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">≡.refl</a>
<a id="4901" href="Base.Terms.Operations.html#4725" class="Function">term-gen-agreement</a> <a id="4920" href="Base.Terms.Operations.html#4920" class="Bound">wd</a> <a id="4923" class="Symbol">{</a><a id="4924" href="Base.Terms.Operations.html#4924" class="Bound">X</a><a id="4925" class="Symbol">}</a> <a id="4927" class="Symbol">(</a><a id="4928" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="4933" href="Base.Terms.Operations.html#4933" class="Bound">f</a> <a id="4935" href="Base.Terms.Operations.html#4935" class="Bound">t</a><a id="4936" class="Symbol">)</a> <a id="4938" class="Symbol">=</a> <a id="4940" href="Base.Terms.Operations.html#4920" class="Bound">wd</a>  <a id="4944" class="Symbol">(</a> <a id="4946" href="Base.Terms.Operations.html#4933" class="Bound">f</a> <a id="4948" href="Base.Algebras.Basic.html#5783" class="Function Operator">̂</a> <a id="4950" href="Base.Terms.Basic.html#3369" class="Function">𝑻</a> <a id="4952" href="Base.Terms.Operations.html#4924" class="Bound">X</a><a id="4953" class="Symbol">)</a> <a id="4955" class="Symbol">(λ</a> <a id="4958" href="Base.Terms.Operations.html#4958" class="Bound">x</a> <a id="4960" class="Symbol">→</a> <a id="4962" class="Symbol">(</a><a id="4963" href="Base.Terms.Basic.html#3369" class="Function">𝑻</a> <a id="4965" href="Base.Terms.Operations.html#4924" class="Bound">X</a> <a id="4967" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="4969" href="Base.Terms.Operations.html#4935" class="Bound">t</a> <a id="4971" href="Base.Terms.Operations.html#4958" class="Bound">x</a> <a id="4973" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="4974" class="Symbol">)</a> <a id="4976" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a><a id="4977" class="Symbol">)</a>
                                           <a id="5022" class="Symbol">(λ</a> <a id="5025" href="Base.Terms.Operations.html#5025" class="Bound">x</a> <a id="5027" class="Symbol">→</a> <a id="5029" class="Symbol">(</a><a id="5030" href="Base.Terms.Basic.html#3369" class="Function">𝑻</a> <a id="5032" href="Base.Terms.Operations.html#4924" class="Bound">X</a> <a id="5034" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="5036" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="5038" href="Base.Terms.Operations.html#4445" class="Function">term-gen</a> <a id="5047" href="Base.Terms.Operations.html#4920" class="Bound">wd</a> <a id="5050" class="Symbol">(</a><a id="5051" href="Base.Terms.Operations.html#4935" class="Bound">t</a> <a id="5053" href="Base.Terms.Operations.html#5025" class="Bound">x</a><a id="5054" class="Symbol">)</a> <a id="5056" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="5058" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="5059" class="Symbol">)</a> <a id="5061" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a><a id="5062" class="Symbol">)</a>
                                           <a id="5107" class="Symbol">λ</a> <a id="5109" href="Base.Terms.Operations.html#5109" class="Bound">i</a> <a id="5111" class="Symbol">→</a> <a id="5113" href="Base.Terms.Operations.html#4725" class="Function">term-gen-agreement</a> <a id="5132" href="Base.Terms.Operations.html#4920" class="Bound">wd</a> <a id="5135" class="Symbol">(</a><a id="5136" href="Base.Terms.Operations.html#4935" class="Bound">t</a> <a id="5138" href="Base.Terms.Operations.html#5109" class="Bound">i</a><a id="5139" class="Symbol">)</a>

<a id="term-agreement"></a><a id="5142" href="Base.Terms.Operations.html#5142" class="Function">term-agreement</a> <a id="5157" class="Symbol">:</a> <a id="5159" href="Base.Equality.Welldefined.html#2509" class="Function">swelldef</a> <a id="5168" href="Base.Terms.Operations.html#632" class="Bound">𝓥</a> <a id="5170" class="Symbol">(</a><a id="5171" href="Base.Algebras.Products.html#3097" class="Function">ov</a> <a id="5174" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a><a id="5175" class="Symbol">)</a> <a id="5177" class="Symbol">→</a> <a id="5179" class="Symbol">{</a><a id="5180" href="Base.Terms.Operations.html#5180" class="Bound">X</a> <a id="5182" class="Symbol">:</a> <a id="5184" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="5189" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a><a id="5190" class="Symbol">}(</a><a id="5192" href="Base.Terms.Operations.html#5192" class="Bound">p</a> <a id="5194" class="Symbol">:</a> <a id="5196" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="5198" href="Base.Terms.Basic.html#3369" class="Function">𝑻</a> <a id="5200" href="Base.Terms.Operations.html#5180" class="Bound">X</a> <a id="5202" href="Overture.Basic.html#4325" class="Function Operator">∣</a><a id="5203" class="Symbol">)</a> <a id="5205" class="Symbol">→</a> <a id="5207" href="Base.Terms.Operations.html#5192" class="Bound">p</a> <a id="5209" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>  <a id="5212" class="Symbol">(</a><a id="5213" href="Base.Terms.Basic.html#3369" class="Function">𝑻</a> <a id="5215" href="Base.Terms.Operations.html#5180" class="Bound">X</a> <a id="5217" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="5219" href="Base.Terms.Operations.html#5192" class="Bound">p</a> <a id="5221" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="5222" class="Symbol">)</a> <a id="5224" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a>
<a id="5226" href="Base.Terms.Operations.html#5142" class="Function">term-agreement</a> <a id="5241" href="Base.Terms.Operations.html#5241" class="Bound">wd</a> <a id="5244" class="Symbol">{</a><a id="5245" href="Base.Terms.Operations.html#5245" class="Bound">X</a><a id="5246" class="Symbol">}</a> <a id="5248" href="Base.Terms.Operations.html#5248" class="Bound">p</a> <a id="5250" class="Symbol">=</a> <a id="5252" href="Overture.Basic.html#4363" class="Function Operator">∥</a> <a id="5254" href="Base.Terms.Operations.html#4445" class="Function">term-gen</a> <a id="5263" href="Base.Terms.Operations.html#5241" class="Bound">wd</a> <a id="5266" href="Base.Terms.Operations.html#5248" class="Bound">p</a> <a id="5268" href="Overture.Basic.html#4363" class="Function Operator">∥</a> <a id="5270" href="Overture.Basic.html#5245" class="Function Operator">∙</a> <a id="5272" class="Symbol">(</a><a id="5273" href="Base.Terms.Operations.html#4725" class="Function">term-gen-agreement</a> <a id="5292" href="Base.Terms.Operations.html#5241" class="Bound">wd</a> <a id="5295" href="Base.Terms.Operations.html#5248" class="Bound">p</a><a id="5296" class="Symbol">)</a><a id="5297" href="Overture.Basic.html#4919" class="Function Operator">⁻¹</a>
</pre>


#### <a id="interpretation-of-terms-in-product-algebras">Interpretation of terms in product algebras</a>

<pre class="Agda">

<a id="5433" class="Keyword">module</a> <a id="5440" href="Base.Terms.Operations.html#5440" class="Module">_</a> <a id="5442" class="Symbol">(</a><a id="5443" href="Base.Terms.Operations.html#5443" class="Bound">wd</a> <a id="5446" class="Symbol">:</a> <a id="5448" href="Base.Equality.Welldefined.html#2509" class="Function">swelldef</a> <a id="5457" href="Base.Terms.Operations.html#632" class="Bound">𝓥</a> <a id="5459" class="Symbol">(</a><a id="5460" href="Base.Terms.Operations.html#1797" class="Generalizable">β</a> <a id="5462" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="5464" href="Base.Terms.Operations.html#1795" class="Generalizable">α</a><a id="5465" class="Symbol">)){</a><a id="5468" href="Base.Terms.Operations.html#5468" class="Bound">X</a> <a id="5470" class="Symbol">:</a> <a id="5472" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="5477" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a> <a id="5479" class="Symbol">}{</a><a id="5481" href="Base.Terms.Operations.html#5481" class="Bound">I</a> <a id="5483" class="Symbol">:</a> <a id="5485" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="5490" href="Base.Terms.Operations.html#1797" class="Generalizable">β</a><a id="5491" class="Symbol">}</a> <a id="5493" class="Keyword">where</a>

 <a id="5501" href="Base.Terms.Operations.html#5501" class="Function">interp-prod</a> <a id="5513" class="Symbol">:</a>  <a id="5516" class="Symbol">(</a><a id="5517" href="Base.Terms.Operations.html#5517" class="Bound">p</a> <a id="5519" class="Symbol">:</a> <a id="5521" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="5526" href="Base.Terms.Operations.html#5468" class="Bound">X</a><a id="5527" class="Symbol">)(</a><a id="5529" href="Base.Terms.Operations.html#5529" class="Bound">𝒜</a> <a id="5531" class="Symbol">:</a> <a id="5533" href="Base.Terms.Operations.html#5481" class="Bound">I</a> <a id="5535" class="Symbol">→</a> <a id="5537" href="Base.Algebras.Basic.html#2774" class="Function">Algebra</a> <a id="5545" href="Base.Terms.Operations.html#5464" class="Bound">α</a><a id="5546" class="Symbol">)(</a><a id="5548" href="Base.Terms.Operations.html#5548" class="Bound">a</a> <a id="5550" class="Symbol">:</a> <a id="5552" href="Base.Terms.Operations.html#5468" class="Bound">X</a> <a id="5554" class="Symbol">→</a> <a id="5556" href="Overture.Basic.html#6010" class="Function">Π[</a> <a id="5559" href="Base.Terms.Operations.html#5559" class="Bound">i</a> <a id="5561" href="Overture.Basic.html#6010" class="Function">∈</a> <a id="5563" href="Base.Terms.Operations.html#5481" class="Bound">I</a> <a id="5565" href="Overture.Basic.html#6010" class="Function">]</a> <a id="5567" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="5569" href="Base.Terms.Operations.html#5529" class="Bound">𝒜</a> <a id="5571" href="Base.Terms.Operations.html#5559" class="Bound">i</a> <a id="5573" href="Overture.Basic.html#4325" class="Function Operator">∣</a><a id="5574" class="Symbol">)</a>
  <a id="5578" class="Symbol">→</a>             <a id="5592" class="Symbol">(</a><a id="5593" href="Base.Algebras.Products.html#1923" class="Function">⨅</a> <a id="5595" href="Base.Terms.Operations.html#5529" class="Bound">𝒜</a> <a id="5597" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="5599" href="Base.Terms.Operations.html#5517" class="Bound">p</a> <a id="5601" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="5602" class="Symbol">)</a> <a id="5604" href="Base.Terms.Operations.html#5548" class="Bound">a</a> <a id="5606" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5608" class="Symbol">λ</a> <a id="5610" href="Base.Terms.Operations.html#5610" class="Bound">i</a> <a id="5612" class="Symbol">→</a> <a id="5614" class="Symbol">(</a><a id="5615" href="Base.Terms.Operations.html#5529" class="Bound">𝒜</a> <a id="5617" href="Base.Terms.Operations.html#5610" class="Bound">i</a> <a id="5619" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="5621" href="Base.Terms.Operations.html#5517" class="Bound">p</a> <a id="5623" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="5624" class="Symbol">)(λ</a> <a id="5628" href="Base.Terms.Operations.html#5628" class="Bound">x</a> <a id="5630" class="Symbol">→</a> <a id="5632" class="Symbol">(</a><a id="5633" href="Base.Terms.Operations.html#5548" class="Bound">a</a> <a id="5635" href="Base.Terms.Operations.html#5628" class="Bound">x</a><a id="5636" class="Symbol">)</a> <a id="5638" href="Base.Terms.Operations.html#5610" class="Bound">i</a><a id="5639" class="Symbol">)</a>

 <a id="5643" href="Base.Terms.Operations.html#5501" class="Function">interp-prod</a> <a id="5655" class="Symbol">(</a><a id="5656" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="5658" class="Symbol">_)</a> <a id="5661" href="Base.Terms.Operations.html#5661" class="Bound">𝒜</a> <a id="5663" href="Base.Terms.Operations.html#5663" class="Bound">a</a> <a id="5665" class="Symbol">=</a> <a id="5667" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">≡.refl</a>
 <a id="5675" href="Base.Terms.Operations.html#5501" class="Function">interp-prod</a> <a id="5687" class="Symbol">(</a><a id="5688" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="5693" href="Base.Terms.Operations.html#5693" class="Bound">f</a> <a id="5695" href="Base.Terms.Operations.html#5695" class="Bound">t</a><a id="5696" class="Symbol">)</a> <a id="5698" href="Base.Terms.Operations.html#5698" class="Bound">𝒜</a> <a id="5700" href="Base.Terms.Operations.html#5700" class="Bound">a</a> <a id="5702" class="Symbol">=</a> <a id="5704" href="Base.Terms.Operations.html#5443" class="Bound">wd</a> <a id="5707" class="Symbol">((</a><a id="5709" href="Base.Terms.Operations.html#5693" class="Bound">f</a> <a id="5711" href="Base.Algebras.Basic.html#5783" class="Function Operator">̂</a> <a id="5713" href="Base.Algebras.Products.html#1923" class="Function">⨅</a> <a id="5715" href="Base.Terms.Operations.html#5698" class="Bound">𝒜</a><a id="5716" class="Symbol">))</a> <a id="5719" href="Base.Terms.Operations.html#5736" class="Function">u</a> <a id="5721" href="Base.Terms.Operations.html#5784" class="Function">v</a> <a id="5723" href="Base.Terms.Operations.html#5847" class="Function">IH</a>
  <a id="5728" class="Keyword">where</a>
  <a id="5736" href="Base.Terms.Operations.html#5736" class="Function">u</a> <a id="5738" class="Symbol">:</a> <a id="5740" class="Symbol">∀</a> <a id="5742" href="Base.Terms.Operations.html#5742" class="Bound">x</a> <a id="5744" class="Symbol">→</a> <a id="5746" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="5748" href="Base.Algebras.Products.html#1923" class="Function">⨅</a> <a id="5750" href="Base.Terms.Operations.html#5698" class="Bound">𝒜</a> <a id="5752" href="Overture.Basic.html#4325" class="Function Operator">∣</a>
  <a id="5756" href="Base.Terms.Operations.html#5736" class="Function">u</a> <a id="5758" class="Symbol">=</a> <a id="5760" class="Symbol">λ</a> <a id="5762" href="Base.Terms.Operations.html#5762" class="Bound">x</a> <a id="5764" class="Symbol">→</a> <a id="5766" class="Symbol">(</a><a id="5767" href="Base.Algebras.Products.html#1923" class="Function">⨅</a> <a id="5769" href="Base.Terms.Operations.html#5698" class="Bound">𝒜</a> <a id="5771" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="5773" href="Base.Terms.Operations.html#5695" class="Bound">t</a> <a id="5775" href="Base.Terms.Operations.html#5762" class="Bound">x</a> <a id="5777" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="5778" class="Symbol">)</a> <a id="5780" href="Base.Terms.Operations.html#5700" class="Bound">a</a>
  <a id="5784" href="Base.Terms.Operations.html#5784" class="Function">v</a> <a id="5786" class="Symbol">:</a> <a id="5788" class="Symbol">∀</a> <a id="5790" href="Base.Terms.Operations.html#5790" class="Bound">x</a> <a id="5792" href="Base.Terms.Operations.html#5792" class="Bound">i</a> <a id="5794" class="Symbol">→</a> <a id="5796" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="5798" href="Base.Terms.Operations.html#5698" class="Bound">𝒜</a> <a id="5800" href="Base.Terms.Operations.html#5792" class="Bound">i</a> <a id="5802" href="Overture.Basic.html#4325" class="Function Operator">∣</a>
  <a id="5806" href="Base.Terms.Operations.html#5784" class="Function">v</a> <a id="5808" class="Symbol">=</a> <a id="5810" class="Symbol">λ</a> <a id="5812" href="Base.Terms.Operations.html#5812" class="Bound">x</a> <a id="5814" href="Base.Terms.Operations.html#5814" class="Bound">i</a> <a id="5816" class="Symbol">→</a> <a id="5818" class="Symbol">(</a><a id="5819" href="Base.Terms.Operations.html#5698" class="Bound">𝒜</a> <a id="5821" href="Base.Terms.Operations.html#5814" class="Bound">i</a> <a id="5823" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="5825" href="Base.Terms.Operations.html#5695" class="Bound">t</a> <a id="5827" href="Base.Terms.Operations.html#5812" class="Bound">x</a> <a id="5829" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="5830" class="Symbol">)(λ</a> <a id="5834" href="Base.Terms.Operations.html#5834" class="Bound">j</a> <a id="5836" class="Symbol">→</a> <a id="5838" href="Base.Terms.Operations.html#5700" class="Bound">a</a> <a id="5840" href="Base.Terms.Operations.html#5834" class="Bound">j</a> <a id="5842" href="Base.Terms.Operations.html#5814" class="Bound">i</a><a id="5843" class="Symbol">)</a>
  <a id="5847" href="Base.Terms.Operations.html#5847" class="Function">IH</a> <a id="5850" class="Symbol">:</a> <a id="5852" class="Symbol">∀</a> <a id="5854" href="Base.Terms.Operations.html#5854" class="Bound">i</a> <a id="5856" class="Symbol">→</a> <a id="5858" href="Base.Terms.Operations.html#5736" class="Function">u</a> <a id="5860" href="Base.Terms.Operations.html#5854" class="Bound">i</a> <a id="5862" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5864" href="Base.Terms.Operations.html#5784" class="Function">v</a> <a id="5866" href="Base.Terms.Operations.html#5854" class="Bound">i</a>
  <a id="5870" href="Base.Terms.Operations.html#5847" class="Function">IH</a> <a id="5873" class="Symbol">=</a> <a id="5875" class="Symbol">λ</a> <a id="5877" href="Base.Terms.Operations.html#5877" class="Bound">x</a> <a id="5879" class="Symbol">→</a> <a id="5881" href="Base.Terms.Operations.html#5501" class="Function">interp-prod</a> <a id="5893" class="Symbol">(</a><a id="5894" href="Base.Terms.Operations.html#5695" class="Bound">t</a> <a id="5896" href="Base.Terms.Operations.html#5877" class="Bound">x</a><a id="5897" class="Symbol">)</a> <a id="5899" href="Base.Terms.Operations.html#5698" class="Bound">𝒜</a> <a id="5901" href="Base.Terms.Operations.html#5700" class="Bound">a</a>

 <a id="5905" href="Base.Terms.Operations.html#5905" class="Function">interp-prod2</a> <a id="5918" class="Symbol">:</a>  <a id="5921" href="Base.Terms.Operations.html#1157" class="Function">funext</a> <a id="5928" class="Symbol">(</a><a id="5929" href="Base.Terms.Operations.html#5464" class="Bound">α</a> <a id="5931" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="5933" href="Base.Terms.Operations.html#5460" class="Bound">β</a> <a id="5935" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="5937" href="Base.Terms.Operations.html#5477" class="Bound">χ</a><a id="5938" class="Symbol">)</a> <a id="5940" class="Symbol">(</a><a id="5941" href="Base.Terms.Operations.html#5464" class="Bound">α</a> <a id="5943" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="5945" href="Base.Terms.Operations.html#5460" class="Bound">β</a><a id="5946" class="Symbol">)</a> <a id="5948" class="Symbol">→</a> <a id="5950" class="Symbol">(</a><a id="5951" href="Base.Terms.Operations.html#5951" class="Bound">p</a> <a id="5953" class="Symbol">:</a> <a id="5955" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="5960" href="Base.Terms.Operations.html#5468" class="Bound">X</a><a id="5961" class="Symbol">)(</a><a id="5963" href="Base.Terms.Operations.html#5963" class="Bound">𝒜</a> <a id="5965" class="Symbol">:</a> <a id="5967" href="Base.Terms.Operations.html#5481" class="Bound">I</a> <a id="5969" class="Symbol">→</a> <a id="5971" href="Base.Algebras.Basic.html#2774" class="Function">Algebra</a> <a id="5979" href="Base.Terms.Operations.html#5464" class="Bound">α</a><a id="5980" class="Symbol">)</a>
  <a id="5984" class="Symbol">→</a>              <a id="5999" href="Base.Algebras.Products.html#1923" class="Function">⨅</a> <a id="6001" href="Base.Terms.Operations.html#5963" class="Bound">𝒜</a> <a id="6003" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="6005" href="Base.Terms.Operations.html#5951" class="Bound">p</a> <a id="6007" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a> <a id="6009" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6011" class="Symbol">(λ</a> <a id="6014" href="Base.Terms.Operations.html#6014" class="Bound">a</a> <a id="6016" href="Base.Terms.Operations.html#6016" class="Bound">i</a> <a id="6018" class="Symbol">→</a> <a id="6020" class="Symbol">(</a><a id="6021" href="Base.Terms.Operations.html#5963" class="Bound">𝒜</a> <a id="6023" href="Base.Terms.Operations.html#6016" class="Bound">i</a> <a id="6025" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="6027" href="Base.Terms.Operations.html#5951" class="Bound">p</a> <a id="6029" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="6030" class="Symbol">)</a> <a id="6032" class="Symbol">λ</a> <a id="6034" href="Base.Terms.Operations.html#6034" class="Bound">x</a> <a id="6036" class="Symbol">→</a> <a id="6038" href="Base.Terms.Operations.html#6014" class="Bound">a</a> <a id="6040" href="Base.Terms.Operations.html#6034" class="Bound">x</a> <a id="6042" href="Base.Terms.Operations.html#6016" class="Bound">i</a><a id="6043" class="Symbol">)</a>

 <a id="6047" href="Base.Terms.Operations.html#5905" class="Function">interp-prod2</a> <a id="6060" class="Symbol">_</a> <a id="6062" class="Symbol">(</a><a id="6063" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="6065" href="Base.Terms.Operations.html#6065" class="Bound">x₁</a><a id="6067" class="Symbol">)</a> <a id="6069" href="Base.Terms.Operations.html#6069" class="Bound">𝒜</a> <a id="6071" class="Symbol">=</a> <a id="6073" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">≡.refl</a>
 <a id="6081" href="Base.Terms.Operations.html#5905" class="Function">interp-prod2</a> <a id="6094" href="Base.Terms.Operations.html#6094" class="Bound">fe</a> <a id="6097" class="Symbol">(</a><a id="6098" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="6103" href="Base.Terms.Operations.html#6103" class="Bound">f</a> <a id="6105" href="Base.Terms.Operations.html#6105" class="Bound">t</a><a id="6106" class="Symbol">)</a> <a id="6108" href="Base.Terms.Operations.html#6108" class="Bound">𝒜</a> <a id="6110" class="Symbol">=</a> <a id="6112" href="Base.Terms.Operations.html#6094" class="Bound">fe</a> <a id="6115" class="Symbol">λ</a> <a id="6117" href="Base.Terms.Operations.html#6117" class="Bound">a</a> <a id="6119" class="Symbol">→</a> <a id="6121" href="Base.Terms.Operations.html#5443" class="Bound">wd</a> <a id="6124" class="Symbol">(</a><a id="6125" href="Base.Terms.Operations.html#6103" class="Bound">f</a> <a id="6127" href="Base.Algebras.Basic.html#5783" class="Function Operator">̂</a> <a id="6129" href="Base.Algebras.Products.html#1923" class="Function">⨅</a> <a id="6131" href="Base.Terms.Operations.html#6108" class="Bound">𝒜</a><a id="6132" class="Symbol">)(</a><a id="6134" href="Base.Terms.Operations.html#6162" class="Function">u</a> <a id="6136" href="Base.Terms.Operations.html#6117" class="Bound">a</a><a id="6137" class="Symbol">)</a> <a id="6139" class="Symbol">(</a><a id="6140" href="Base.Terms.Operations.html#6214" class="Function">v</a> <a id="6142" href="Base.Terms.Operations.html#6117" class="Bound">a</a><a id="6143" class="Symbol">)</a> <a id="6145" class="Symbol">(</a><a id="6146" href="Base.Terms.Operations.html#6303" class="Function">IH</a> <a id="6149" href="Base.Terms.Operations.html#6117" class="Bound">a</a><a id="6150" class="Symbol">)</a>
  <a id="6154" class="Keyword">where</a>
  <a id="6162" href="Base.Terms.Operations.html#6162" class="Function">u</a> <a id="6164" class="Symbol">:</a> <a id="6166" class="Symbol">∀</a> <a id="6168" href="Base.Terms.Operations.html#6168" class="Bound">a</a> <a id="6170" href="Base.Terms.Operations.html#6170" class="Bound">x</a> <a id="6172" class="Symbol">→</a> <a id="6174" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="6176" href="Base.Algebras.Products.html#1923" class="Function">⨅</a> <a id="6178" href="Base.Terms.Operations.html#6108" class="Bound">𝒜</a> <a id="6180" href="Overture.Basic.html#4325" class="Function Operator">∣</a>
  <a id="6184" href="Base.Terms.Operations.html#6162" class="Function">u</a> <a id="6186" href="Base.Terms.Operations.html#6186" class="Bound">a</a> <a id="6188" class="Symbol">=</a> <a id="6190" class="Symbol">λ</a> <a id="6192" href="Base.Terms.Operations.html#6192" class="Bound">x</a> <a id="6194" class="Symbol">→</a> <a id="6196" class="Symbol">(</a><a id="6197" href="Base.Algebras.Products.html#1923" class="Function">⨅</a> <a id="6199" href="Base.Terms.Operations.html#6108" class="Bound">𝒜</a> <a id="6201" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="6203" href="Base.Terms.Operations.html#6105" class="Bound">t</a> <a id="6205" href="Base.Terms.Operations.html#6192" class="Bound">x</a> <a id="6207" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="6208" class="Symbol">)</a> <a id="6210" href="Base.Terms.Operations.html#6186" class="Bound">a</a>
  <a id="6214" href="Base.Terms.Operations.html#6214" class="Function">v</a> <a id="6216" class="Symbol">:</a> <a id="6218" class="Symbol">∀</a> <a id="6220" class="Symbol">(</a><a id="6221" href="Base.Terms.Operations.html#6221" class="Bound">a</a> <a id="6223" class="Symbol">:</a> <a id="6225" href="Base.Terms.Operations.html#5468" class="Bound">X</a> <a id="6227" class="Symbol">→</a> <a id="6229" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="6231" href="Base.Algebras.Products.html#1923" class="Function">⨅</a> <a id="6233" href="Base.Terms.Operations.html#6108" class="Bound">𝒜</a> <a id="6235" href="Overture.Basic.html#4325" class="Function Operator">∣</a><a id="6236" class="Symbol">)</a> <a id="6238" class="Symbol">→</a> <a id="6240" class="Symbol">∀</a> <a id="6242" href="Base.Terms.Operations.html#6242" class="Bound">x</a> <a id="6244" href="Base.Terms.Operations.html#6244" class="Bound">i</a> <a id="6246" class="Symbol">→</a> <a id="6248" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="6250" href="Base.Terms.Operations.html#6108" class="Bound">𝒜</a> <a id="6252" href="Base.Terms.Operations.html#6244" class="Bound">i</a> <a id="6254" href="Overture.Basic.html#4325" class="Function Operator">∣</a>
  <a id="6258" href="Base.Terms.Operations.html#6214" class="Function">v</a> <a id="6260" href="Base.Terms.Operations.html#6260" class="Bound">a</a> <a id="6262" class="Symbol">=</a> <a id="6264" class="Symbol">λ</a> <a id="6266" href="Base.Terms.Operations.html#6266" class="Bound">x</a> <a id="6268" href="Base.Terms.Operations.html#6268" class="Bound">i</a> <a id="6270" class="Symbol">→</a> <a id="6272" class="Symbol">(</a><a id="6273" href="Base.Terms.Operations.html#6108" class="Bound">𝒜</a> <a id="6275" href="Base.Terms.Operations.html#6268" class="Bound">i</a> <a id="6277" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="6279" href="Base.Terms.Operations.html#6105" class="Bound">t</a> <a id="6281" href="Base.Terms.Operations.html#6266" class="Bound">x</a> <a id="6283" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="6284" class="Symbol">)(λ</a> <a id="6288" href="Base.Terms.Operations.html#6288" class="Bound">z</a> <a id="6290" class="Symbol">→</a> <a id="6292" class="Symbol">(</a><a id="6293" href="Base.Terms.Operations.html#6260" class="Bound">a</a> <a id="6295" href="Base.Terms.Operations.html#6288" class="Bound">z</a><a id="6296" class="Symbol">)</a> <a id="6298" href="Base.Terms.Operations.html#6268" class="Bound">i</a><a id="6299" class="Symbol">)</a>
  <a id="6303" href="Base.Terms.Operations.html#6303" class="Function">IH</a> <a id="6306" class="Symbol">:</a> <a id="6308" class="Symbol">∀</a> <a id="6310" href="Base.Terms.Operations.html#6310" class="Bound">a</a> <a id="6312" href="Base.Terms.Operations.html#6312" class="Bound">x</a> <a id="6314" class="Symbol">→</a> <a id="6316" class="Symbol">(</a><a id="6317" href="Base.Algebras.Products.html#1923" class="Function">⨅</a> <a id="6319" href="Base.Terms.Operations.html#6108" class="Bound">𝒜</a> <a id="6321" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="6323" href="Base.Terms.Operations.html#6105" class="Bound">t</a> <a id="6325" href="Base.Terms.Operations.html#6312" class="Bound">x</a> <a id="6327" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="6328" class="Symbol">)</a> <a id="6330" href="Base.Terms.Operations.html#6310" class="Bound">a</a> <a id="6332" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6334" class="Symbol">λ</a> <a id="6336" href="Base.Terms.Operations.html#6336" class="Bound">i</a> <a id="6338" class="Symbol">→</a> <a id="6340" class="Symbol">(</a><a id="6341" href="Base.Terms.Operations.html#6108" class="Bound">𝒜</a> <a id="6343" href="Base.Terms.Operations.html#6336" class="Bound">i</a> <a id="6345" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="6347" href="Base.Terms.Operations.html#6105" class="Bound">t</a> <a id="6349" href="Base.Terms.Operations.html#6312" class="Bound">x</a> <a id="6351" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="6352" class="Symbol">)(λ</a> <a id="6356" href="Base.Terms.Operations.html#6356" class="Bound">z</a> <a id="6358" class="Symbol">→</a> <a id="6360" class="Symbol">(</a><a id="6361" href="Base.Terms.Operations.html#6310" class="Bound">a</a> <a id="6363" href="Base.Terms.Operations.html#6356" class="Bound">z</a><a id="6364" class="Symbol">)</a> <a id="6366" href="Base.Terms.Operations.html#6336" class="Bound">i</a><a id="6367" class="Symbol">)</a>
  <a id="6371" href="Base.Terms.Operations.html#6303" class="Function">IH</a> <a id="6374" href="Base.Terms.Operations.html#6374" class="Bound">a</a> <a id="6376" class="Symbol">=</a> <a id="6378" class="Symbol">λ</a> <a id="6380" href="Base.Terms.Operations.html#6380" class="Bound">x</a> <a id="6382" class="Symbol">→</a> <a id="6384" href="Base.Terms.Operations.html#5501" class="Function">interp-prod</a> <a id="6396" class="Symbol">(</a><a id="6397" href="Base.Terms.Operations.html#6105" class="Bound">t</a> <a id="6399" href="Base.Terms.Operations.html#6380" class="Bound">x</a><a id="6400" class="Symbol">)</a> <a id="6402" href="Base.Terms.Operations.html#6108" class="Bound">𝒜</a> <a id="6404" href="Base.Terms.Operations.html#6374" class="Bound">a</a>
</pre>


#### <a id="compatibility-of-terms">Compatibility of terms</a>

We now prove two important facts about term operations.  The first of these, which
is used very often in the sequel, asserts that every term commutes with every
homomorphism.

<pre class="Agda">

<a id="6673" class="Keyword">open</a> <a id="6678" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a>

<a id="comm-hom-term"></a><a id="6691" href="Base.Terms.Operations.html#6691" class="Function">comm-hom-term</a> <a id="6705" class="Symbol">:</a>  <a id="6708" href="Base.Equality.Welldefined.html#2509" class="Function">swelldef</a> <a id="6717" href="Base.Terms.Operations.html#632" class="Bound">𝓥</a> <a id="6719" href="Base.Terms.Operations.html#1797" class="Generalizable">β</a> <a id="6721" class="Symbol">→</a> <a id="6723" class="Symbol">{</a><a id="6724" href="Base.Terms.Operations.html#6724" class="Bound">𝑨</a> <a id="6726" class="Symbol">:</a> <a id="6728" href="Base.Algebras.Basic.html#2774" class="Function">Algebra</a> <a id="6736" href="Base.Terms.Operations.html#1795" class="Generalizable">α</a><a id="6737" class="Symbol">}</a> <a id="6739" class="Symbol">(</a><a id="6740" href="Base.Terms.Operations.html#6740" class="Bound">𝑩</a> <a id="6742" class="Symbol">:</a> <a id="6744" href="Base.Algebras.Basic.html#2774" class="Function">Algebra</a> <a id="6752" href="Base.Terms.Operations.html#1797" class="Generalizable">β</a><a id="6753" class="Symbol">)</a>
                 <a id="6772" class="Symbol">(</a><a id="6773" href="Base.Terms.Operations.html#6773" class="Bound">h</a> <a id="6775" class="Symbol">:</a> <a id="6777" href="Base.Homomorphisms.Basic.html#2734" class="Function">hom</a> <a id="6781" href="Base.Terms.Operations.html#6724" class="Bound">𝑨</a> <a id="6783" href="Base.Terms.Operations.html#6740" class="Bound">𝑩</a><a id="6784" class="Symbol">){</a><a id="6786" href="Base.Terms.Operations.html#6786" class="Bound">X</a> <a id="6788" class="Symbol">:</a> <a id="6790" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="6795" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a><a id="6796" class="Symbol">}(</a><a id="6798" href="Base.Terms.Operations.html#6798" class="Bound">t</a> <a id="6800" class="Symbol">:</a> <a id="6802" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="6807" href="Base.Terms.Operations.html#6786" class="Bound">X</a><a id="6808" class="Symbol">)(</a><a id="6810" href="Base.Terms.Operations.html#6810" class="Bound">a</a> <a id="6812" class="Symbol">:</a> <a id="6814" href="Base.Terms.Operations.html#6786" class="Bound">X</a> <a id="6816" class="Symbol">→</a> <a id="6818" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="6820" href="Base.Terms.Operations.html#6724" class="Bound">𝑨</a> <a id="6822" href="Overture.Basic.html#4325" class="Function Operator">∣</a><a id="6823" class="Symbol">)</a>
                 <a id="6842" class="Comment">------------------------------------------------------</a>
  <a id="6899" class="Symbol">→</a>              <a id="6914" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="6916" href="Base.Terms.Operations.html#6773" class="Bound">h</a> <a id="6918" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="6920" class="Symbol">((</a><a id="6922" href="Base.Terms.Operations.html#6724" class="Bound">𝑨</a> <a id="6924" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="6926" href="Base.Terms.Operations.html#6798" class="Bound">t</a> <a id="6928" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="6929" class="Symbol">)</a> <a id="6931" href="Base.Terms.Operations.html#6810" class="Bound">a</a><a id="6932" class="Symbol">)</a> <a id="6934" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6936" class="Symbol">(</a><a id="6937" href="Base.Terms.Operations.html#6740" class="Bound">𝑩</a> <a id="6939" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="6941" href="Base.Terms.Operations.html#6798" class="Bound">t</a> <a id="6943" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="6944" class="Symbol">)</a> <a id="6946" class="Symbol">(</a><a id="6947" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="6949" href="Base.Terms.Operations.html#6773" class="Bound">h</a> <a id="6951" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="6953" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6955" href="Base.Terms.Operations.html#6810" class="Bound">a</a><a id="6956" class="Symbol">)</a>

<a id="6959" href="Base.Terms.Operations.html#6691" class="Function">comm-hom-term</a> <a id="6973" class="Symbol">_</a> <a id="6975" href="Base.Terms.Operations.html#6975" class="Bound">𝑩</a> <a id="6977" href="Base.Terms.Operations.html#6977" class="Bound">h</a> <a id="6979" class="Symbol">(</a><a id="6980" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="6982" href="Base.Terms.Operations.html#6982" class="Bound">x</a><a id="6983" class="Symbol">)</a> <a id="6985" href="Base.Terms.Operations.html#6985" class="Bound">a</a> <a id="6987" class="Symbol">=</a> <a id="6989" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">≡.refl</a>
<a id="6996" href="Base.Terms.Operations.html#6691" class="Function">comm-hom-term</a> <a id="7010" href="Base.Terms.Operations.html#7010" class="Bound">wd</a> <a id="7013" class="Symbol">{</a><a id="7014" href="Base.Terms.Operations.html#7014" class="Bound">𝑨</a><a id="7015" class="Symbol">}</a> <a id="7017" href="Base.Terms.Operations.html#7017" class="Bound">𝑩</a> <a id="7019" href="Base.Terms.Operations.html#7019" class="Bound">h</a> <a id="7021" class="Symbol">(</a><a id="7022" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="7027" href="Base.Terms.Operations.html#7027" class="Bound">f</a> <a id="7029" href="Base.Terms.Operations.html#7029" class="Bound">t</a><a id="7030" class="Symbol">)</a> <a id="7032" href="Base.Terms.Operations.html#7032" class="Bound">a</a> <a id="7034" class="Symbol">=</a>
 <a id="7037" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="7039" href="Base.Terms.Operations.html#7019" class="Bound">h</a> <a id="7041" href="Overture.Basic.html#4325" class="Function Operator">∣</a><a id="7042" class="Symbol">((</a><a id="7044" href="Base.Terms.Operations.html#7027" class="Bound">f</a> <a id="7046" href="Base.Algebras.Basic.html#5783" class="Function Operator">̂</a> <a id="7048" href="Base.Terms.Operations.html#7014" class="Bound">𝑨</a><a id="7049" class="Symbol">)</a> <a id="7051" class="Symbol">λ</a> <a id="7053" href="Base.Terms.Operations.html#7053" class="Bound">i</a> <a id="7055" class="Symbol">→</a>  <a id="7058" class="Symbol">(</a><a id="7059" href="Base.Terms.Operations.html#7014" class="Bound">𝑨</a> <a id="7061" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="7063" href="Base.Terms.Operations.html#7029" class="Bound">t</a> <a id="7065" href="Base.Terms.Operations.html#7053" class="Bound">i</a> <a id="7067" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="7068" class="Symbol">)</a> <a id="7070" href="Base.Terms.Operations.html#7032" class="Bound">a</a><a id="7071" class="Symbol">)</a>      <a id="7078" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="7081" href="Base.Terms.Operations.html#7185" class="Function">i</a>  <a id="7084" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
 <a id="7087" class="Symbol">(</a><a id="7088" href="Base.Terms.Operations.html#7027" class="Bound">f</a> <a id="7090" href="Base.Algebras.Basic.html#5783" class="Function Operator">̂</a> <a id="7092" href="Base.Terms.Operations.html#7017" class="Bound">𝑩</a><a id="7093" class="Symbol">)(λ</a> <a id="7097" href="Base.Terms.Operations.html#7097" class="Bound">i</a> <a id="7099" class="Symbol">→</a>  <a id="7102" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="7104" href="Base.Terms.Operations.html#7019" class="Bound">h</a> <a id="7106" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="7108" class="Symbol">((</a><a id="7110" href="Base.Terms.Operations.html#7014" class="Bound">𝑨</a> <a id="7112" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="7114" href="Base.Terms.Operations.html#7029" class="Bound">t</a> <a id="7116" href="Base.Terms.Operations.html#7097" class="Bound">i</a> <a id="7118" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="7119" class="Symbol">)</a> <a id="7121" href="Base.Terms.Operations.html#7032" class="Bound">a</a><a id="7122" class="Symbol">))</a>   <a id="7127" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="7130" href="Base.Terms.Operations.html#7225" class="Function">ii</a> <a id="7133" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
 <a id="7136" class="Symbol">(</a><a id="7137" href="Base.Terms.Operations.html#7027" class="Bound">f</a> <a id="7139" href="Base.Algebras.Basic.html#5783" class="Function Operator">̂</a> <a id="7141" href="Base.Terms.Operations.html#7017" class="Bound">𝑩</a><a id="7142" class="Symbol">)(λ</a> <a id="7146" href="Base.Terms.Operations.html#7146" class="Bound">r</a> <a id="7148" class="Symbol">→</a> <a id="7150" class="Symbol">(</a><a id="7151" href="Base.Terms.Operations.html#7017" class="Bound">𝑩</a> <a id="7153" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="7155" href="Base.Terms.Operations.html#7029" class="Bound">t</a> <a id="7157" href="Base.Terms.Operations.html#7146" class="Bound">r</a> <a id="7159" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="7160" class="Symbol">)</a> <a id="7162" class="Symbol">(</a><a id="7163" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="7165" href="Base.Terms.Operations.html#7019" class="Bound">h</a> <a id="7167" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="7169" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="7171" href="Base.Terms.Operations.html#7032" class="Bound">a</a><a id="7172" class="Symbol">))</a>  <a id="7176" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
 <a id="7179" class="Keyword">where</a> <a id="7185" href="Base.Terms.Operations.html#7185" class="Function">i</a>  <a id="7188" class="Symbol">=</a> <a id="7190" href="Overture.Basic.html#4363" class="Function Operator">∥</a> <a id="7192" href="Base.Terms.Operations.html#7019" class="Bound">h</a> <a id="7194" href="Overture.Basic.html#4363" class="Function Operator">∥</a> <a id="7196" href="Base.Terms.Operations.html#7027" class="Bound">f</a> <a id="7198" class="Symbol">λ</a> <a id="7200" href="Base.Terms.Operations.html#7200" class="Bound">r</a> <a id="7202" class="Symbol">→</a> <a id="7204" class="Symbol">(</a><a id="7205" href="Base.Terms.Operations.html#7014" class="Bound">𝑨</a> <a id="7207" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="7209" href="Base.Terms.Operations.html#7029" class="Bound">t</a> <a id="7211" href="Base.Terms.Operations.html#7200" class="Bound">r</a> <a id="7213" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="7214" class="Symbol">)</a> <a id="7216" href="Base.Terms.Operations.html#7032" class="Bound">a</a>
       <a id="7225" href="Base.Terms.Operations.html#7225" class="Function">ii</a> <a id="7228" class="Symbol">=</a> <a id="7230" href="Base.Terms.Operations.html#7010" class="Bound">wd</a> <a id="7233" class="Symbol">(</a><a id="7234" href="Base.Terms.Operations.html#7027" class="Bound">f</a> <a id="7236" href="Base.Algebras.Basic.html#5783" class="Function Operator">̂</a> <a id="7238" href="Base.Terms.Operations.html#7017" class="Bound">𝑩</a><a id="7239" class="Symbol">)</a>  <a id="7242" class="Symbol">(</a> <a id="7244" class="Symbol">λ</a> <a id="7246" href="Base.Terms.Operations.html#7246" class="Bound">i₁</a> <a id="7249" class="Symbol">→</a> <a id="7251" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="7253" href="Base.Terms.Operations.html#7019" class="Bound">h</a> <a id="7255" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="7257" class="Symbol">((</a><a id="7259" href="Base.Terms.Operations.html#7014" class="Bound">𝑨</a> <a id="7261" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="7263" href="Base.Terms.Operations.html#7029" class="Bound">t</a> <a id="7265" href="Base.Terms.Operations.html#7246" class="Bound">i₁</a> <a id="7268" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="7269" class="Symbol">)</a> <a id="7271" href="Base.Terms.Operations.html#7032" class="Bound">a</a><a id="7272" class="Symbol">)</a> <a id="7274" class="Symbol">)</a>
                       <a id="7299" class="Symbol">(</a> <a id="7301" class="Symbol">λ</a> <a id="7303" href="Base.Terms.Operations.html#7303" class="Bound">r</a> <a id="7305" class="Symbol">→</a> <a id="7307" class="Symbol">(</a><a id="7308" href="Base.Terms.Operations.html#7017" class="Bound">𝑩</a> <a id="7310" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="7312" href="Base.Terms.Operations.html#7029" class="Bound">t</a> <a id="7314" href="Base.Terms.Operations.html#7303" class="Bound">r</a> <a id="7316" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="7317" class="Symbol">)</a> <a id="7319" class="Symbol">(λ</a> <a id="7322" href="Base.Terms.Operations.html#7322" class="Bound">x</a> <a id="7324" class="Symbol">→</a> <a id="7326" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="7328" href="Base.Terms.Operations.html#7019" class="Bound">h</a> <a id="7330" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="7332" class="Symbol">(</a><a id="7333" href="Base.Terms.Operations.html#7032" class="Bound">a</a> <a id="7335" href="Base.Terms.Operations.html#7322" class="Bound">x</a><a id="7336" class="Symbol">))</a> <a id="7339" class="Symbol">)</a>
                       <a id="7364" class="Symbol">λ</a> <a id="7366" href="Base.Terms.Operations.html#7366" class="Bound">j</a> <a id="7368" class="Symbol">→</a> <a id="7370" href="Base.Terms.Operations.html#6691" class="Function">comm-hom-term</a> <a id="7384" href="Base.Terms.Operations.html#7010" class="Bound">wd</a> <a id="7387" href="Base.Terms.Operations.html#7017" class="Bound">𝑩</a> <a id="7389" href="Base.Terms.Operations.html#7019" class="Bound">h</a> <a id="7391" class="Symbol">(</a><a id="7392" href="Base.Terms.Operations.html#7029" class="Bound">t</a> <a id="7394" href="Base.Terms.Operations.html#7366" class="Bound">j</a><a id="7395" class="Symbol">)</a> <a id="7397" href="Base.Terms.Operations.html#7032" class="Bound">a</a>

</pre>

To conclude this module, we prove that every term is compatible with every
congruence relation. That is, if `t : Term X` and `θ : Con 𝑨`, then
`a θ b → t(a) θ t(b)`. (Recall, the compatibility relation `|:` was defined in
[Relations.Discrete][].)

<pre class="Agda">


<a id="7675" class="Keyword">module</a> <a id="7682" href="Base.Terms.Operations.html#7682" class="Module">_</a> <a id="7684" class="Symbol">{</a><a id="7685" href="Base.Terms.Operations.html#7685" class="Bound">α</a> <a id="7687" href="Base.Terms.Operations.html#7687" class="Bound">β</a> <a id="7689" class="Symbol">:</a> <a id="7691" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="7696" class="Symbol">}{</a><a id="7698" href="Base.Terms.Operations.html#7698" class="Bound">X</a> <a id="7700" class="Symbol">:</a> <a id="7702" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="7707" href="Base.Terms.Operations.html#7685" class="Bound">α</a><a id="7708" class="Symbol">}</a> <a id="7710" class="Keyword">where</a>

 <a id="7718" class="Keyword">open</a> <a id="7723" href="Base.Algebras.Congruences.html#1828" class="Module">IsCongruence</a>

 <a id="7738" href="Base.Terms.Operations.html#7738" class="Function Operator">_∣:_</a> <a id="7743" class="Symbol">:</a> <a id="7745" class="Symbol">{</a><a id="7746" href="Base.Terms.Operations.html#7746" class="Bound">𝑨</a> <a id="7748" class="Symbol">:</a> <a id="7750" href="Base.Algebras.Basic.html#2774" class="Function">Algebra</a> <a id="7758" href="Base.Terms.Operations.html#7685" class="Bound">α</a><a id="7759" class="Symbol">}(</a><a id="7761" href="Base.Terms.Operations.html#7761" class="Bound">t</a> <a id="7763" class="Symbol">:</a> <a id="7765" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="7770" href="Base.Terms.Operations.html#7698" class="Bound">X</a><a id="7771" class="Symbol">)(</a><a id="7773" href="Base.Terms.Operations.html#7773" class="Bound">θ</a> <a id="7775" class="Symbol">:</a> <a id="7777" href="Base.Algebras.Congruences.html#1997" class="Function">Con</a><a id="7780" class="Symbol">{</a><a id="7781" href="Base.Terms.Operations.html#7685" class="Bound">α</a><a id="7782" class="Symbol">}{</a><a id="7784" href="Base.Terms.Operations.html#7687" class="Bound">β</a><a id="7785" class="Symbol">}</a> <a id="7787" href="Base.Terms.Operations.html#7746" class="Bound">𝑨</a><a id="7788" class="Symbol">)</a> <a id="7790" class="Symbol">→</a> <a id="7792" class="Symbol">(</a><a id="7793" href="Base.Terms.Operations.html#7746" class="Bound">𝑨</a> <a id="7795" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="7797" href="Base.Terms.Operations.html#7761" class="Bound">t</a> <a id="7799" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="7800" class="Symbol">)</a> <a id="7802" href="Base.Relations.Discrete.html#6786" class="Function Operator">|:</a> <a id="7805" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="7807" href="Base.Terms.Operations.html#7773" class="Bound">θ</a> <a id="7809" href="Overture.Basic.html#4325" class="Function Operator">∣</a>
 <a id="7812" class="Symbol">((</a><a id="7814" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="7816" href="Base.Terms.Operations.html#7816" class="Bound">x</a><a id="7817" class="Symbol">)</a> <a id="7819" href="Base.Terms.Operations.html#7738" class="Function Operator">∣:</a> <a id="7822" href="Base.Terms.Operations.html#7822" class="Bound">θ</a><a id="7823" class="Symbol">)</a> <a id="7825" href="Base.Terms.Operations.html#7825" class="Bound">p</a> <a id="7827" class="Symbol">=</a> <a id="7829" href="Base.Terms.Operations.html#7825" class="Bound">p</a> <a id="7831" href="Base.Terms.Operations.html#7816" class="Bound">x</a>
 <a id="7834" class="Symbol">((</a><a id="7836" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="7841" href="Base.Terms.Operations.html#7841" class="Bound">f</a> <a id="7843" href="Base.Terms.Operations.html#7843" class="Bound">t</a><a id="7844" class="Symbol">)</a> <a id="7846" href="Base.Terms.Operations.html#7738" class="Function Operator">∣:</a> <a id="7849" href="Base.Terms.Operations.html#7849" class="Bound">θ</a><a id="7850" class="Symbol">)</a> <a id="7852" href="Base.Terms.Operations.html#7852" class="Bound">p</a> <a id="7854" class="Symbol">=</a> <a id="7856" class="Symbol">(</a><a id="7857" href="Base.Algebras.Congruences.html#1964" class="Field">is-compatible</a> <a id="7871" href="Overture.Basic.html#4363" class="Function Operator">∥</a> <a id="7873" href="Base.Terms.Operations.html#7849" class="Bound">θ</a> <a id="7875" href="Overture.Basic.html#4363" class="Function Operator">∥</a><a id="7876" class="Symbol">)</a> <a id="7878" href="Base.Terms.Operations.html#7841" class="Bound">f</a> <a id="7880" class="Symbol">λ</a> <a id="7882" href="Base.Terms.Operations.html#7882" class="Bound">x</a> <a id="7884" class="Symbol">→</a> <a id="7886" class="Symbol">((</a><a id="7888" href="Base.Terms.Operations.html#7843" class="Bound">t</a> <a id="7890" href="Base.Terms.Operations.html#7882" class="Bound">x</a><a id="7891" class="Symbol">)</a> <a id="7893" href="Base.Terms.Operations.html#7738" class="Function Operator">∣:</a> <a id="7896" href="Base.Terms.Operations.html#7849" class="Bound">θ</a><a id="7897" class="Symbol">)</a> <a id="7899" href="Base.Terms.Operations.html#7852" class="Bound">p</a>

</pre>

**WARNING!** The compatibility relation for terms `∣:` is typed as \|:, whereas
the compatibility type for functions `|:` (defined in the
[Base.Relations.Discrete][] module) is typed as `|:`.



#### <a id="substitution">Substitution</a>

A substitution from `Y` to `X` is simply a function from `Y` to `X`, and the
application of a substitution is represented as follows.

<pre class="Agda">

<a id="_[_]"></a><a id="8302" href="Base.Terms.Operations.html#8302" class="Function Operator">_[_]</a> <a id="8307" class="Symbol">:</a> <a id="8309" class="Symbol">{</a><a id="8310" href="Base.Terms.Operations.html#8310" class="Bound">χ</a> <a id="8312" class="Symbol">:</a> <a id="8314" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="8319" class="Symbol">}{</a><a id="8321" href="Base.Terms.Operations.html#8321" class="Bound">X</a> <a id="8323" href="Base.Terms.Operations.html#8323" class="Bound">Y</a> <a id="8325" class="Symbol">:</a> <a id="8327" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="8332" href="Base.Terms.Operations.html#8310" class="Bound">χ</a><a id="8333" class="Symbol">}</a> <a id="8335" class="Symbol">→</a> <a id="8337" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="8342" href="Base.Terms.Operations.html#8323" class="Bound">Y</a> <a id="8344" class="Symbol">→</a> <a id="8346" class="Symbol">(</a><a id="8347" href="Base.Terms.Operations.html#8323" class="Bound">Y</a> <a id="8349" class="Symbol">→</a> <a id="8351" href="Base.Terms.Operations.html#8321" class="Bound">X</a><a id="8352" class="Symbol">)</a> <a id="8354" class="Symbol">→</a> <a id="8356" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="8361" href="Base.Terms.Operations.html#8321" class="Bound">X</a>
<a id="8363" class="Symbol">(</a><a id="8364" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="8366" href="Base.Terms.Operations.html#8366" class="Bound">y</a><a id="8367" class="Symbol">)</a> <a id="8369" href="Base.Terms.Operations.html#8302" class="Function Operator">[</a> <a id="8371" href="Base.Terms.Operations.html#8371" class="Bound">σ</a> <a id="8373" href="Base.Terms.Operations.html#8302" class="Function Operator">]</a> <a id="8375" class="Symbol">=</a> <a id="8377" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="8379" class="Symbol">(</a><a id="8380" href="Base.Terms.Operations.html#8371" class="Bound">σ</a> <a id="8382" href="Base.Terms.Operations.html#8366" class="Bound">y</a><a id="8383" class="Symbol">)</a>
<a id="8385" class="Symbol">(</a><a id="8386" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="8391" href="Base.Terms.Operations.html#8391" class="Bound">f</a> <a id="8393" href="Base.Terms.Operations.html#8393" class="Bound">t</a><a id="8394" class="Symbol">)</a>  <a id="8397" href="Base.Terms.Operations.html#8302" class="Function Operator">[</a> <a id="8399" href="Base.Terms.Operations.html#8399" class="Bound">σ</a> <a id="8401" href="Base.Terms.Operations.html#8302" class="Function Operator">]</a> <a id="8403" class="Symbol">=</a> <a id="8405" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="8410" href="Base.Terms.Operations.html#8391" class="Bound">f</a> <a id="8412" class="Symbol">λ</a> <a id="8414" href="Base.Terms.Operations.html#8414" class="Bound">i</a> <a id="8416" class="Symbol">→</a> <a id="8418" href="Base.Terms.Operations.html#8393" class="Bound">t</a> <a id="8420" href="Base.Terms.Operations.html#8414" class="Bound">i</a> <a id="8422" href="Base.Terms.Operations.html#8302" class="Function Operator">[</a> <a id="8424" href="Base.Terms.Operations.html#8399" class="Bound">σ</a> <a id="8426" href="Base.Terms.Operations.html#8302" class="Function Operator">]</a>

</pre>

Alternatively, we may want a substitution that replaces each variable symbol in
`Y`, not with an element of `X`, but with a term from `Term X`.

<pre class="Agda">

<a id="8600" class="Comment">-- Substerm X Y, an inhabitant of which replaces each variable symbol in Y</a>
<a id="8675" class="Comment">-- with a term from Term X.</a>
<a id="Substerm"></a><a id="8703" href="Base.Terms.Operations.html#8703" class="Function">Substerm</a> <a id="8712" class="Symbol">:</a> <a id="8714" class="Symbol">(</a><a id="8715" href="Base.Terms.Operations.html#8715" class="Bound">X</a> <a id="8717" href="Base.Terms.Operations.html#8717" class="Bound">Y</a> <a id="8719" class="Symbol">:</a> <a id="8721" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="8726" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a><a id="8727" class="Symbol">)</a> <a id="8729" class="Symbol">→</a> <a id="8731" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="8736" class="Symbol">(</a><a id="8737" href="Base.Algebras.Products.html#3097" class="Function">ov</a> <a id="8740" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a><a id="8741" class="Symbol">)</a>
<a id="8743" href="Base.Terms.Operations.html#8703" class="Function">Substerm</a> <a id="8752" href="Base.Terms.Operations.html#8752" class="Bound">X</a> <a id="8754" href="Base.Terms.Operations.html#8754" class="Bound">Y</a> <a id="8756" class="Symbol">=</a> <a id="8758" class="Symbol">(</a><a id="8759" href="Base.Terms.Operations.html#8759" class="Bound">y</a> <a id="8761" class="Symbol">:</a> <a id="8763" href="Base.Terms.Operations.html#8754" class="Bound">Y</a><a id="8764" class="Symbol">)</a> <a id="8766" class="Symbol">→</a> <a id="8768" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="8773" href="Base.Terms.Operations.html#8752" class="Bound">X</a>

<a id="8776" class="Comment">-- Application of a Substerm.</a>
<a id="_[_]t"></a><a id="8806" href="Base.Terms.Operations.html#8806" class="Function Operator">_[_]t</a> <a id="8812" class="Symbol">:</a> <a id="8814" class="Symbol">{</a><a id="8815" href="Base.Terms.Operations.html#8815" class="Bound">X</a> <a id="8817" href="Base.Terms.Operations.html#8817" class="Bound">Y</a> <a id="8819" class="Symbol">:</a> <a id="8821" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="8826" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a> <a id="8828" class="Symbol">}</a> <a id="8830" class="Symbol">→</a> <a id="8832" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="8837" href="Base.Terms.Operations.html#8817" class="Bound">Y</a> <a id="8839" class="Symbol">→</a> <a id="8841" href="Base.Terms.Operations.html#8703" class="Function">Substerm</a> <a id="8850" href="Base.Terms.Operations.html#8815" class="Bound">X</a> <a id="8852" href="Base.Terms.Operations.html#8817" class="Bound">Y</a> <a id="8854" class="Symbol">→</a> <a id="8856" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="8861" href="Base.Terms.Operations.html#8815" class="Bound">X</a>
<a id="8863" class="Symbol">(</a><a id="8864" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="8866" href="Base.Terms.Operations.html#8866" class="Bound">y</a><a id="8867" class="Symbol">)</a> <a id="8869" href="Base.Terms.Operations.html#8806" class="Function Operator">[</a> <a id="8871" href="Base.Terms.Operations.html#8871" class="Bound">σ</a> <a id="8873" href="Base.Terms.Operations.html#8806" class="Function Operator">]t</a> <a id="8876" class="Symbol">=</a> <a id="8878" href="Base.Terms.Operations.html#8871" class="Bound">σ</a> <a id="8880" href="Base.Terms.Operations.html#8866" class="Bound">y</a>
<a id="8882" class="Symbol">(</a><a id="8883" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="8888" href="Base.Terms.Operations.html#8888" class="Bound">f</a> <a id="8890" href="Base.Terms.Operations.html#8890" class="Bound">t</a><a id="8891" class="Symbol">)</a> <a id="8893" href="Base.Terms.Operations.html#8806" class="Function Operator">[</a> <a id="8895" href="Base.Terms.Operations.html#8895" class="Bound">σ</a> <a id="8897" href="Base.Terms.Operations.html#8806" class="Function Operator">]t</a> <a id="8900" class="Symbol">=</a> <a id="8902" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="8907" href="Base.Terms.Operations.html#8888" class="Bound">f</a> <a id="8909" class="Symbol">(λ</a> <a id="8912" href="Base.Terms.Operations.html#8912" class="Bound">z</a> <a id="8914" class="Symbol">→</a> <a id="8916" class="Symbol">(</a><a id="8917" href="Base.Terms.Operations.html#8890" class="Bound">t</a> <a id="8919" href="Base.Terms.Operations.html#8912" class="Bound">z</a><a id="8920" class="Symbol">)</a> <a id="8922" href="Base.Terms.Operations.html#8806" class="Function Operator">[</a> <a id="8924" href="Base.Terms.Operations.html#8895" class="Bound">σ</a> <a id="8926" href="Base.Terms.Operations.html#8806" class="Function Operator">]t</a> <a id="8929" class="Symbol">)</a>

</pre>

Next we prove the important Substitution Theorem which asserts that an identity `p
≈ q` holds in an algebra `𝑨` iff it holds in `𝑨` after applying any substitution.

<pre class="Agda">

<a id="subst-lemma"></a><a id="9124" href="Base.Terms.Operations.html#9124" class="Function">subst-lemma</a> <a id="9136" class="Symbol">:</a>  <a id="9139" href="Base.Equality.Welldefined.html#2509" class="Function">swelldef</a> <a id="9148" href="Base.Terms.Operations.html#632" class="Bound">𝓥</a> <a id="9150" href="Base.Terms.Operations.html#1795" class="Generalizable">α</a> <a id="9152" class="Symbol">→</a> <a id="9154" class="Symbol">{</a><a id="9155" href="Base.Terms.Operations.html#9155" class="Bound">X</a> <a id="9157" href="Base.Terms.Operations.html#9157" class="Bound">Y</a> <a id="9159" class="Symbol">:</a> <a id="9161" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="9166" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a> <a id="9168" class="Symbol">}(</a><a id="9170" href="Base.Terms.Operations.html#9170" class="Bound">p</a> <a id="9172" class="Symbol">:</a> <a id="9174" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="9179" href="Base.Terms.Operations.html#9157" class="Bound">Y</a><a id="9180" class="Symbol">)(</a><a id="9182" href="Base.Terms.Operations.html#9182" class="Bound">σ</a> <a id="9184" class="Symbol">:</a> <a id="9186" href="Base.Terms.Operations.html#9157" class="Bound">Y</a> <a id="9188" class="Symbol">→</a> <a id="9190" href="Base.Terms.Operations.html#9155" class="Bound">X</a><a id="9191" class="Symbol">)</a>
               <a id="9208" class="Symbol">(</a><a id="9209" href="Base.Terms.Operations.html#9209" class="Bound">𝑨</a> <a id="9211" class="Symbol">:</a> <a id="9213" href="Base.Algebras.Basic.html#2774" class="Function">Algebra</a> <a id="9221" href="Base.Terms.Operations.html#1795" class="Generalizable">α</a><a id="9222" class="Symbol">)(</a><a id="9224" href="Base.Terms.Operations.html#9224" class="Bound">η</a> <a id="9226" class="Symbol">:</a> <a id="9228" href="Base.Terms.Operations.html#9155" class="Bound">X</a> <a id="9230" class="Symbol">→</a> <a id="9232" href="Overture.Basic.html#4325" class="Function Operator">∣</a> <a id="9234" href="Base.Terms.Operations.html#9209" class="Bound">𝑨</a> <a id="9236" href="Overture.Basic.html#4325" class="Function Operator">∣</a><a id="9237" class="Symbol">)</a>
 <a id="9240" class="Symbol">→</a>             <a id="9254" class="Symbol">(</a><a id="9255" href="Base.Terms.Operations.html#9209" class="Bound">𝑨</a> <a id="9257" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="9259" href="Base.Terms.Operations.html#9170" class="Bound">p</a> <a id="9261" href="Base.Terms.Operations.html#8302" class="Function Operator">[</a> <a id="9263" href="Base.Terms.Operations.html#9182" class="Bound">σ</a> <a id="9265" href="Base.Terms.Operations.html#8302" class="Function Operator">]</a> <a id="9267" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="9268" class="Symbol">)</a> <a id="9270" href="Base.Terms.Operations.html#9224" class="Bound">η</a> <a id="9272" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9274" class="Symbol">(</a><a id="9275" href="Base.Terms.Operations.html#9209" class="Bound">𝑨</a> <a id="9277" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="9279" href="Base.Terms.Operations.html#9170" class="Bound">p</a> <a id="9281" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="9282" class="Symbol">)</a> <a id="9284" class="Symbol">(</a><a id="9285" href="Base.Terms.Operations.html#9224" class="Bound">η</a> <a id="9287" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="9289" href="Base.Terms.Operations.html#9182" class="Bound">σ</a><a id="9290" class="Symbol">)</a>

<a id="9293" href="Base.Terms.Operations.html#9124" class="Function">subst-lemma</a> <a id="9305" class="Symbol">_</a> <a id="9307" class="Symbol">(</a><a id="9308" href="Base.Terms.Basic.html#2128" class="InductiveConstructor">ℊ</a> <a id="9310" href="Base.Terms.Operations.html#9310" class="Bound">x</a><a id="9311" class="Symbol">)</a> <a id="9313" href="Base.Terms.Operations.html#9313" class="Bound">σ</a> <a id="9315" href="Base.Terms.Operations.html#9315" class="Bound">𝑨</a> <a id="9317" href="Base.Terms.Operations.html#9317" class="Bound">η</a> <a id="9319" class="Symbol">=</a> <a id="9321" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">≡.refl</a>
<a id="9328" href="Base.Terms.Operations.html#9124" class="Function">subst-lemma</a> <a id="9340" href="Base.Terms.Operations.html#9340" class="Bound">wd</a> <a id="9343" class="Symbol">(</a><a id="9344" href="Base.Terms.Basic.html#2170" class="InductiveConstructor">node</a> <a id="9349" href="Base.Terms.Operations.html#9349" class="Bound">f</a> <a id="9351" href="Base.Terms.Operations.html#9351" class="Bound">t</a><a id="9352" class="Symbol">)</a> <a id="9354" href="Base.Terms.Operations.html#9354" class="Bound">σ</a> <a id="9356" href="Base.Terms.Operations.html#9356" class="Bound">𝑨</a> <a id="9358" href="Base.Terms.Operations.html#9358" class="Bound">η</a> <a id="9360" class="Symbol">=</a> <a id="9362" href="Base.Terms.Operations.html#9340" class="Bound">wd</a> <a id="9365" class="Symbol">(</a><a id="9366" href="Base.Terms.Operations.html#9349" class="Bound">f</a> <a id="9368" href="Base.Algebras.Basic.html#5783" class="Function Operator">̂</a> <a id="9370" href="Base.Terms.Operations.html#9356" class="Bound">𝑨</a><a id="9371" class="Symbol">)</a>  <a id="9374" class="Symbol">(</a> <a id="9376" class="Symbol">λ</a> <a id="9378" href="Base.Terms.Operations.html#9378" class="Bound">i</a> <a id="9380" class="Symbol">→</a> <a id="9382" class="Symbol">(</a><a id="9383" href="Base.Terms.Operations.html#9356" class="Bound">𝑨</a> <a id="9385" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="9387" class="Symbol">(</a><a id="9388" href="Base.Terms.Operations.html#9351" class="Bound">t</a> <a id="9390" href="Base.Terms.Operations.html#9378" class="Bound">i</a><a id="9391" class="Symbol">)</a> <a id="9393" href="Base.Terms.Operations.html#8302" class="Function Operator">[</a> <a id="9395" href="Base.Terms.Operations.html#9354" class="Bound">σ</a> <a id="9397" href="Base.Terms.Operations.html#8302" class="Function Operator">]</a> <a id="9399" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="9400" class="Symbol">)</a> <a id="9402" href="Base.Terms.Operations.html#9358" class="Bound">η</a> <a id="9404" class="Symbol">)</a>
                                             <a id="9451" class="Symbol">(</a> <a id="9453" class="Symbol">λ</a> <a id="9455" href="Base.Terms.Operations.html#9455" class="Bound">i</a> <a id="9457" class="Symbol">→</a> <a id="9459" class="Symbol">(</a><a id="9460" href="Base.Terms.Operations.html#9356" class="Bound">𝑨</a> <a id="9462" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="9464" href="Base.Terms.Operations.html#9351" class="Bound">t</a> <a id="9466" href="Base.Terms.Operations.html#9455" class="Bound">i</a> <a id="9468" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="9469" class="Symbol">)</a> <a id="9471" class="Symbol">(</a><a id="9472" href="Base.Terms.Operations.html#9358" class="Bound">η</a> <a id="9474" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="9476" href="Base.Terms.Operations.html#9354" class="Bound">σ</a><a id="9477" class="Symbol">)</a> <a id="9479" class="Symbol">)</a>
                                             <a id="9526" class="Symbol">λ</a> <a id="9528" href="Base.Terms.Operations.html#9528" class="Bound">i</a> <a id="9530" class="Symbol">→</a> <a id="9532" href="Base.Terms.Operations.html#9124" class="Function">subst-lemma</a> <a id="9544" href="Base.Terms.Operations.html#9340" class="Bound">wd</a> <a id="9547" class="Symbol">(</a><a id="9548" href="Base.Terms.Operations.html#9351" class="Bound">t</a> <a id="9550" href="Base.Terms.Operations.html#9528" class="Bound">i</a><a id="9551" class="Symbol">)</a> <a id="9553" href="Base.Terms.Operations.html#9354" class="Bound">σ</a> <a id="9555" href="Base.Terms.Operations.html#9356" class="Bound">𝑨</a> <a id="9557" href="Base.Terms.Operations.html#9358" class="Bound">η</a>

<a id="subst-theorem"></a><a id="9560" href="Base.Terms.Operations.html#9560" class="Function">subst-theorem</a> <a id="9574" class="Symbol">:</a>  <a id="9577" href="Base.Equality.Welldefined.html#2509" class="Function">swelldef</a> <a id="9586" href="Base.Terms.Operations.html#632" class="Bound">𝓥</a> <a id="9588" href="Base.Terms.Operations.html#1795" class="Generalizable">α</a> <a id="9590" class="Symbol">→</a> <a id="9592" class="Symbol">{</a><a id="9593" href="Base.Terms.Operations.html#9593" class="Bound">X</a> <a id="9595" href="Base.Terms.Operations.html#9595" class="Bound">Y</a> <a id="9597" class="Symbol">:</a> <a id="9599" href="Base.Terms.Operations.html#771" class="Primitive">Type</a> <a id="9604" href="Base.Terms.Operations.html#1803" class="Generalizable">χ</a> <a id="9606" class="Symbol">}</a>
                 <a id="9625" class="Symbol">(</a><a id="9626" href="Base.Terms.Operations.html#9626" class="Bound">p</a> <a id="9628" href="Base.Terms.Operations.html#9628" class="Bound">q</a> <a id="9630" class="Symbol">:</a> <a id="9632" href="Base.Terms.Basic.html#2087" class="Datatype">Term</a> <a id="9637" href="Base.Terms.Operations.html#9595" class="Bound">Y</a><a id="9638" class="Symbol">)(</a><a id="9640" href="Base.Terms.Operations.html#9640" class="Bound">σ</a> <a id="9642" class="Symbol">:</a> <a id="9644" href="Base.Terms.Operations.html#9595" class="Bound">Y</a> <a id="9646" class="Symbol">→</a> <a id="9648" href="Base.Terms.Operations.html#9593" class="Bound">X</a><a id="9649" class="Symbol">)(</a><a id="9651" href="Base.Terms.Operations.html#9651" class="Bound">𝑨</a> <a id="9653" class="Symbol">:</a> <a id="9655" href="Base.Algebras.Basic.html#2774" class="Function">Algebra</a> <a id="9663" href="Base.Terms.Operations.html#1795" class="Generalizable">α</a><a id="9664" class="Symbol">)</a>
 <a id="9667" class="Symbol">→</a>               <a id="9683" href="Base.Terms.Operations.html#9651" class="Bound">𝑨</a> <a id="9685" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="9687" href="Base.Terms.Operations.html#9626" class="Bound">p</a> <a id="9689" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a> <a id="9691" href="Overture.Basic.html#9589" class="Function Operator">≈</a> <a id="9693" href="Base.Terms.Operations.html#9651" class="Bound">𝑨</a> <a id="9695" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="9697" href="Base.Terms.Operations.html#9628" class="Bound">q</a> <a id="9699" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a> <a id="9701" class="Symbol">→</a> <a id="9703" href="Base.Terms.Operations.html#9651" class="Bound">𝑨</a> <a id="9705" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="9707" href="Base.Terms.Operations.html#9626" class="Bound">p</a> <a id="9709" href="Base.Terms.Operations.html#8302" class="Function Operator">[</a> <a id="9711" href="Base.Terms.Operations.html#9640" class="Bound">σ</a> <a id="9713" href="Base.Terms.Operations.html#8302" class="Function Operator">]</a> <a id="9715" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a> <a id="9717" href="Overture.Basic.html#9589" class="Function Operator">≈</a> <a id="9719" href="Base.Terms.Operations.html#9651" class="Bound">𝑨</a> <a id="9721" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="9723" href="Base.Terms.Operations.html#9628" class="Bound">q</a> <a id="9725" href="Base.Terms.Operations.html#8302" class="Function Operator">[</a> <a id="9727" href="Base.Terms.Operations.html#9640" class="Bound">σ</a> <a id="9729" href="Base.Terms.Operations.html#8302" class="Function Operator">]</a> <a id="9731" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a>

<a id="9734" href="Base.Terms.Operations.html#9560" class="Function">subst-theorem</a> <a id="9748" href="Base.Terms.Operations.html#9748" class="Bound">wd</a> <a id="9751" href="Base.Terms.Operations.html#9751" class="Bound">p</a> <a id="9753" href="Base.Terms.Operations.html#9753" class="Bound">q</a> <a id="9755" href="Base.Terms.Operations.html#9755" class="Bound">σ</a> <a id="9757" href="Base.Terms.Operations.html#9757" class="Bound">𝑨</a> <a id="9759" href="Base.Terms.Operations.html#9759" class="Bound">Apq</a> <a id="9763" href="Base.Terms.Operations.html#9763" class="Bound">η</a> <a id="9765" class="Symbol">=</a>
 <a id="9768" class="Symbol">(</a><a id="9769" href="Base.Terms.Operations.html#9757" class="Bound">𝑨</a> <a id="9771" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="9773" href="Base.Terms.Operations.html#9751" class="Bound">p</a> <a id="9775" href="Base.Terms.Operations.html#8302" class="Function Operator">[</a> <a id="9777" href="Base.Terms.Operations.html#9755" class="Bound">σ</a> <a id="9779" href="Base.Terms.Operations.html#8302" class="Function Operator">]</a> <a id="9781" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="9782" class="Symbol">)</a> <a id="9784" href="Base.Terms.Operations.html#9763" class="Bound">η</a>  <a id="9787" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="9790" href="Base.Terms.Operations.html#9124" class="Function">subst-lemma</a> <a id="9802" href="Base.Terms.Operations.html#9748" class="Bound">wd</a> <a id="9805" href="Base.Terms.Operations.html#9751" class="Bound">p</a> <a id="9807" href="Base.Terms.Operations.html#9755" class="Bound">σ</a> <a id="9809" href="Base.Terms.Operations.html#9757" class="Bound">𝑨</a> <a id="9811" href="Base.Terms.Operations.html#9763" class="Bound">η</a> <a id="9813" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
 <a id="9816" class="Symbol">(</a><a id="9817" href="Base.Terms.Operations.html#9757" class="Bound">𝑨</a> <a id="9819" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="9821" href="Base.Terms.Operations.html#9751" class="Bound">p</a> <a id="9823" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="9824" class="Symbol">)</a> <a id="9826" class="Symbol">(</a><a id="9827" href="Base.Terms.Operations.html#9763" class="Bound">η</a> <a id="9829" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="9831" href="Base.Terms.Operations.html#9755" class="Bound">σ</a><a id="9832" class="Symbol">)</a>  <a id="9835" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="9838" href="Base.Terms.Operations.html#9759" class="Bound">Apq</a> <a id="9842" class="Symbol">(</a><a id="9843" href="Base.Terms.Operations.html#9763" class="Bound">η</a> <a id="9845" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="9847" href="Base.Terms.Operations.html#9755" class="Bound">σ</a><a id="9848" class="Symbol">)</a> <a id="9850" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
 <a id="9853" class="Symbol">(</a><a id="9854" href="Base.Terms.Operations.html#9757" class="Bound">𝑨</a> <a id="9856" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="9858" href="Base.Terms.Operations.html#9753" class="Bound">q</a> <a id="9860" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="9861" class="Symbol">)</a> <a id="9863" class="Symbol">(</a><a id="9864" href="Base.Terms.Operations.html#9763" class="Bound">η</a> <a id="9866" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="9868" href="Base.Terms.Operations.html#9755" class="Bound">σ</a><a id="9869" class="Symbol">)</a>  <a id="9872" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="9875" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">≡.sym</a> <a id="9881" class="Symbol">(</a><a id="9882" href="Base.Terms.Operations.html#9124" class="Function">subst-lemma</a> <a id="9894" href="Base.Terms.Operations.html#9748" class="Bound">wd</a> <a id="9897" href="Base.Terms.Operations.html#9753" class="Bound">q</a> <a id="9899" href="Base.Terms.Operations.html#9755" class="Bound">σ</a> <a id="9901" href="Base.Terms.Operations.html#9757" class="Bound">𝑨</a> <a id="9903" href="Base.Terms.Operations.html#9763" class="Bound">η</a><a id="9904" class="Symbol">)</a> <a id="9906" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
 <a id="9909" class="Symbol">(</a><a id="9910" href="Base.Terms.Operations.html#9757" class="Bound">𝑨</a> <a id="9912" href="Base.Terms.Operations.html#2603" class="Function Operator">⟦</a> <a id="9914" href="Base.Terms.Operations.html#9753" class="Bound">q</a> <a id="9916" href="Base.Terms.Operations.html#8302" class="Function Operator">[</a> <a id="9918" href="Base.Terms.Operations.html#9755" class="Bound">σ</a> <a id="9920" href="Base.Terms.Operations.html#8302" class="Function Operator">]</a> <a id="9922" href="Base.Terms.Operations.html#2603" class="Function Operator">⟧</a><a id="9923" class="Symbol">)</a> <a id="9925" href="Base.Terms.Operations.html#9763" class="Bound">η</a>  <a id="9928" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
</pre>

----------------------------------

<span style="float:left;">[← Base.Terms.Properties](Base.Terms.Properties.html)</span>
<span style="float:right;">[Base.Subalgebras →](Base.Subalgebras.html)</span>

{% include UALib.Links.md %}
