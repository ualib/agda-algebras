---
layout: default
title : UALib.Birkhoff.FreeAlgebra (The Agda Universal Algebra Library)
date : 2021-01-14
author: William DeMeo
---

### <a id="the-free-algebra">The Free Algebra</a>

#### <a id="the-free-algebra-in-theory">The free algebra in theory</a>

Recall, we proved in [the universal property](UALib.Terms.Free.html#the-universal-property) section of the [UALib.Terms.Free][] module that the term algebra `ğ‘» X` is the absolutely free algebra in the class ğ’œğ“â„Š(ğ‘†) of all ğ‘†-structures. In this section, we formalize, for a given class ğ’¦ of ğ‘†-algebras, the (relatively) free algebra in `S(P ğ’¦)` over X.

We use the next definition to take a free algebra *for* a class ğ’¦ and produce the free algebra *in* ğ’¦.

Î˜(ğ’¦, ğ‘¨) := {Î¸ âˆˆ Con ğ‘¨ : ğ‘¨ / Î¸ âˆˆ (S ğ’¦)} &nbsp; &nbsp; and &nbsp; &nbsp; Ïˆ(ğ’¦, ğ‘¨) := â‹‚ Î˜(ğ’¦, ğ‘¨).

Notice that Î˜(ğ’¦, ğ‘¨) may be empty, in which case Ïˆ(ğ’¦, ğ‘¨) = 1 and then ğ‘¨ / Ïˆ(ğ’¦, ğ‘¨) is trivial.

The free algebra is constructed by applying the above definitions to the special case in which ğ‘¨ is the term algebra `ğ‘» X` of ğ‘†-terms over X.

Since `ğ‘» X` is free for (and in) the class ğ’œğ“â„Š(ğ‘†) of all ğ‘†-algebras, it follows that `ğ‘» X` is free for every subclass ğ’¦ of ğ’œğ“â„Š(ğ‘†). Of course, `ğ‘» X` is not necessarily a member of ğ’¦, but if we form the quotient of `ğ‘» X` modulo the congruence Ïˆ(ğ’¦, ğ‘» X), which we denote by `ğ”‰ = (ğ‘» X) / Ïˆ(ğ’¦, ğ‘» X)`, then it's not hard to see that ğ”‰ is a subdirect product of the algebras in `{(ğ‘» ğ‘‹) / Î¸}`, where Î¸ ranges over Î˜(ğ’¦, ğ‘» X), so ğ”‰ belongs to `S(P ğ’¦)`, and it follows that ğ”‰ satisfies all the identities satisfied by all members of ğ’¦.  Indeed, for each pair `p q : ğ‘» X`, if `ğ’¦ âŠ§ p â‰ˆ q`, then p and q must belong to the same Ïˆ(ğ’¦, ğ‘» X)-class, so p and q are identified in the quotient ğ”‰.

The ğ”‰ that we have just defined is called the **free algebra over** ğ’¦ **generated by** `X` and (because of what we just observed) we may say that ğ”‰ is free *in* `S(P ğ’¦)`.


#### <a id="the-free-algebra-in-agda">The free algebra in Agda</a>

This section presents the [UALib.Birkhoff.FreeAlgebra][] module of the [Agda Universal Algebra Library][].  Here we represent ğ”‰ as a type in Agda by first constructing the congruence Ïˆ(ğ’¦, ğ‘» ğ‘‹) described above.

<pre class="Agda">

<a id="2191" class="Symbol">{-#</a> <a id="2195" class="Keyword">OPTIONS</a> <a id="2203" class="Pragma">--without-K</a> <a id="2215" class="Pragma">--exact-split</a> <a id="2229" class="Pragma">--safe</a> <a id="2236" class="Symbol">#-}</a>

<a id="2241" class="Keyword">open</a> <a id="2246" class="Keyword">import</a> <a id="2253" href="UALib.Algebras.html" class="Module">UALib.Algebras</a> <a id="2268" class="Keyword">using</a> <a id="2274" class="Symbol">(</a><a id="2275" href="UALib.Algebras.Signatures.html#1419" class="Function">Signature</a><a id="2284" class="Symbol">;</a> <a id="2286" href="universes.html#613" class="Generalizable">ğ“</a><a id="2287" class="Symbol">;</a> <a id="2289" href="universes.html#617" class="Generalizable">ğ“¥</a><a id="2290" class="Symbol">;</a> <a id="2292" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a><a id="2299" class="Symbol">;</a> <a id="2301" href="UALib.Algebras.Algebras.html#3468" class="Function Operator">_â† _</a><a id="2304" class="Symbol">)</a>
<a id="2306" class="Keyword">open</a> <a id="2311" class="Keyword">import</a> <a id="2318" href="UALib.Prelude.Preliminaries.html" class="Module">UALib.Prelude.Preliminaries</a> <a id="2346" class="Keyword">using</a> <a id="2352" class="Symbol">(</a><a id="2353" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="2367" class="Symbol">;</a> <a id="2369" href="universes.html#551" class="Postulate">Universe</a><a id="2377" class="Symbol">;</a> <a id="2379" href="universes.html#758" class="Function Operator">_Ì‡</a><a id="2381" class="Symbol">)</a>

<a id="2384" class="Keyword">module</a> <a id="2391" href="UALib.Birkhoff.FreeAlgebra.html" class="Module">UALib.Birkhoff.FreeAlgebra</a>
 <a id="2419" class="Symbol">{</a><a id="2420" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a> <a id="2422" class="Symbol">:</a> <a id="2424" href="UALib.Algebras.Signatures.html#1419" class="Function">Signature</a> <a id="2434" href="universes.html#613" class="Generalizable">ğ“</a> <a id="2436" href="universes.html#617" class="Generalizable">ğ“¥</a><a id="2437" class="Symbol">}{</a><a id="2439" href="UALib.Birkhoff.FreeAlgebra.html#2439" class="Bound">gfe</a> <a id="2443" class="Symbol">:</a> <a id="2445" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="2459" class="Symbol">}</a>
 <a id="2462" class="Symbol">{</a><a id="2463" href="UALib.Birkhoff.FreeAlgebra.html#2463" class="Bound">ğ•</a> <a id="2465" class="Symbol">:</a> <a id="2467" class="Symbol">{</a><a id="2468" href="UALib.Birkhoff.FreeAlgebra.html#2468" class="Bound">ğ“¤</a> <a id="2470" href="UALib.Birkhoff.FreeAlgebra.html#2470" class="Bound">ğ“§</a> <a id="2472" class="Symbol">:</a> <a id="2474" href="universes.html#551" class="Postulate">Universe</a><a id="2482" class="Symbol">}{</a><a id="2484" href="UALib.Birkhoff.FreeAlgebra.html#2484" class="Bound">X</a> <a id="2486" class="Symbol">:</a> <a id="2488" href="UALib.Birkhoff.FreeAlgebra.html#2470" class="Bound">ğ“§</a> <a id="2490" href="universes.html#758" class="Function Operator">Ì‡</a> <a id="2492" class="Symbol">}(</a><a id="2494" href="UALib.Birkhoff.FreeAlgebra.html#2494" class="Bound">ğ‘¨</a> <a id="2496" class="Symbol">:</a> <a id="2498" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a> <a id="2506" href="UALib.Birkhoff.FreeAlgebra.html#2468" class="Bound">ğ“¤</a> <a id="2508" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a><a id="2509" class="Symbol">)</a> <a id="2511" class="Symbol">â†’</a> <a id="2513" href="UALib.Birkhoff.FreeAlgebra.html#2484" class="Bound">X</a> <a id="2515" href="UALib.Algebras.Algebras.html#3468" class="Function Operator">â† </a> <a id="2517" href="UALib.Birkhoff.FreeAlgebra.html#2494" class="Bound">ğ‘¨</a><a id="2518" class="Symbol">}</a>
 <a id="2521" class="Keyword">where</a>

<a id="2528" class="Keyword">open</a> <a id="2533" class="Keyword">import</a> <a id="2540" href="UALib.Varieties.Preservation.html" class="Module">UALib.Varieties.Preservation</a> <a id="2569" class="Symbol">{</a><a id="2570" class="Argument">ğ‘†</a> <a id="2572" class="Symbol">=</a> <a id="2574" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a><a id="2575" class="Symbol">}{</a><a id="2577" href="UALib.Birkhoff.FreeAlgebra.html#2439" class="Bound">gfe</a><a id="2580" class="Symbol">}{</a><a id="2582" href="UALib.Birkhoff.FreeAlgebra.html#2463" class="Bound">ğ•</a><a id="2583" class="Symbol">}</a> <a id="2585" class="Keyword">public</a>

</pre>

We assume two ambient universes ğ“¤ and ğ“§, as well as a type `X : ğ“§ Ì‡`. As usual, this is accomplished with the `module` directive.

<pre class="Agda">

<a id="2750" class="Keyword">module</a> <a id="the-free-algebra"></a><a id="2757" href="UALib.Birkhoff.FreeAlgebra.html#2757" class="Module">the-free-algebra</a> <a id="2774" class="Symbol">{</a><a id="2775" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a> <a id="2777" href="UALib.Birkhoff.FreeAlgebra.html#2777" class="Bound">ğ“§</a> <a id="2779" class="Symbol">:</a> <a id="2781" href="universes.html#551" class="Postulate">Universe</a><a id="2789" class="Symbol">}{</a><a id="2791" href="UALib.Birkhoff.FreeAlgebra.html#2791" class="Bound">X</a> <a id="2793" class="Symbol">:</a> <a id="2795" href="UALib.Birkhoff.FreeAlgebra.html#2777" class="Bound">ğ“§</a> <a id="2797" href="universes.html#758" class="Function Operator">Ì‡</a><a id="2798" class="Symbol">}</a> <a id="2800" class="Keyword">where</a>

 <a id="2808" class="Comment">-- NOTATION (universe aliases for convenience and readability).</a>
 <a id="the-free-algebra.ğ“¸ğ“¿ğ“¾"></a><a id="2873" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="the-free-algebra.ğ“¸ğ“¿ğ“¾+"></a><a id="2877" href="UALib.Birkhoff.FreeAlgebra.html#2877" class="Function">ğ“¸ğ“¿ğ“¾+</a> <a id="the-free-algebra.ğ“¸ğ“¿ğ“¾++"></a><a id="2882" href="UALib.Birkhoff.FreeAlgebra.html#2882" class="Function">ğ“¸ğ“¿ğ“¾++</a> <a id="2888" class="Symbol">:</a> <a id="2890" href="universes.html#551" class="Postulate">Universe</a>
 <a id="2900" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="2904" class="Symbol">=</a> <a id="2906" href="UALib.Algebras.Products.html#2040" class="Function">ov</a> <a id="2909" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a>
 <a id="2912" href="UALib.Birkhoff.FreeAlgebra.html#2877" class="Function">ğ“¸ğ“¿ğ“¾+</a> <a id="2917" class="Symbol">=</a> <a id="2919" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="2923" href="universes.html#527" class="Function Operator">âº</a>
 <a id="2926" href="UALib.Birkhoff.FreeAlgebra.html#2882" class="Function">ğ“¸ğ“¿ğ“¾++</a> <a id="2932" class="Symbol">=</a> <a id="2934" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="2938" href="universes.html#527" class="Function Operator">âº</a> <a id="2940" href="universes.html#527" class="Function Operator">âº</a>
</pre>

One could define the collection `ğ‘»img` of all homomorphic images of the term algebra that belong to a given class ğ’¦ as follows.

<pre class="Agda">

 <a id="3098" class="Comment">-- H (ğ‘» X)  (hom images of ğ‘» X)</a>
 <a id="the-free-algebra.ğ‘»img"></a><a id="3131" href="UALib.Birkhoff.FreeAlgebra.html#3131" class="Function">ğ‘»img</a> <a id="3136" class="Symbol">:</a> <a id="3138" href="UALib.Relations.Unary.html#1088" class="Function">Pred</a> <a id="3143" class="Symbol">(</a><a id="3144" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a> <a id="3152" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a> <a id="3154" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a><a id="3155" class="Symbol">)</a> <a id="3157" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="3161" class="Symbol">â†’</a> <a id="3163" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="3167" href="Agda.Primitive.html#636" class="Function Operator">âŠ”</a> <a id="3169" href="UALib.Birkhoff.FreeAlgebra.html#2777" class="Bound">ğ“§</a> <a id="3171" href="universes.html#527" class="Function Operator">âº</a> <a id="3173" href="universes.html#758" class="Function Operator">Ì‡</a>
 <a id="3176" href="UALib.Birkhoff.FreeAlgebra.html#3131" class="Function">ğ‘»img</a> <a id="3181" href="UALib.Birkhoff.FreeAlgebra.html#3181" class="Bound">ğ’¦</a> <a id="3183" class="Symbol">=</a> <a id="3185" href="MGS-MLTT.html#3074" class="Function">Î£</a> <a id="3187" href="UALib.Birkhoff.FreeAlgebra.html#3187" class="Bound">ğ‘¨</a> <a id="3189" href="MGS-MLTT.html#3074" class="Function">ê‰</a> <a id="3191" class="Symbol">(</a><a id="3192" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a> <a id="3200" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a> <a id="3202" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a><a id="3203" class="Symbol">)</a> <a id="3205" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="3207" href="MGS-MLTT.html#3074" class="Function">Î£</a> <a id="3209" href="UALib.Birkhoff.FreeAlgebra.html#3209" class="Bound">Ï•</a> <a id="3211" href="MGS-MLTT.html#3074" class="Function">ê‰</a> <a id="3213" href="UALib.Homomorphisms.Basic.html#1984" class="Function">hom</a> <a id="3217" class="Symbol">(</a><a id="3218" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="3220" href="UALib.Birkhoff.FreeAlgebra.html#2791" class="Bound">X</a><a id="3221" class="Symbol">)</a> <a id="3223" href="UALib.Birkhoff.FreeAlgebra.html#3187" class="Bound">ğ‘¨</a> <a id="3225" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="3227" class="Symbol">(</a><a id="3228" href="UALib.Birkhoff.FreeAlgebra.html#3187" class="Bound">ğ‘¨</a> <a id="3230" href="UALib.Relations.Unary.html#2725" class="Function Operator">âˆˆ</a> <a id="3232" href="UALib.Birkhoff.FreeAlgebra.html#3181" class="Bound">ğ’¦</a><a id="3233" class="Symbol">)</a> <a id="3235" href="MGS-MLTT.html#3515" class="Function Operator">Ã—</a> <a id="3237" href="UALib.Prelude.Inverses.html#2353" class="Function">Epic</a> <a id="3242" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="3244" href="UALib.Birkhoff.FreeAlgebra.html#3209" class="Bound">Ï•</a> <a id="3246" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a>

</pre>

The inhabitants of this Sigma type represent algebras ğ‘¨ âˆˆ ğ’¦ such that there exists a surjective homomorphism Ï• : hom (ğ‘» X) ğ‘¨. Thus, ğ‘»img represents the collection of all homomorphic images of ğ‘» X that belong to ğ’¦.  Of course, this is the entire class ğ’¦, since the term algebra is absolutely free. Nonetheless, this representation of ğ’¦ is useful since it endows each element with extra information.  Indeed, each inhabitant of ğ‘»img ğ’¦ is a quadruple, (ğ‘¨ , Ï• , ka, p), where ğ‘¨ is an ğ‘†-algebra, Ï• is a homomorphism from ğ‘» X to ğ‘¨, ka is a proof that ğ‘¨ belongs to ğ’¦, and p is a proof that the underlying map âˆ£ Ï• âˆ£ is epic.

The next function, `mkti`, that takes an arbitrary algebra ğ‘¨ in ğ’¦ and returns the corresponding quadruple in `ğ‘»img ğ’¦`.

<pre class="Agda">

 <a id="the-free-algebra.mkti"></a><a id="4014" href="UALib.Birkhoff.FreeAlgebra.html#4014" class="Function">mkti</a> <a id="4019" class="Symbol">:</a> <a id="4021" class="Symbol">{</a><a id="4022" href="UALib.Birkhoff.FreeAlgebra.html#4022" class="Bound">ğ’¦</a> <a id="4024" class="Symbol">:</a> <a id="4026" href="UALib.Relations.Unary.html#1088" class="Function">Pred</a> <a id="4031" class="Symbol">(</a><a id="4032" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a> <a id="4040" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a> <a id="4042" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a><a id="4043" class="Symbol">)</a><a id="4044" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="4047" class="Symbol">}(</a><a id="4049" href="UALib.Birkhoff.FreeAlgebra.html#4049" class="Bound">ğ‘¨</a> <a id="4051" class="Symbol">:</a> <a id="4053" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a> <a id="4061" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a> <a id="4063" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a><a id="4064" class="Symbol">)</a> <a id="4066" class="Symbol">â†’</a> <a id="4068" href="UALib.Birkhoff.FreeAlgebra.html#4049" class="Bound">ğ‘¨</a> <a id="4070" href="UALib.Relations.Unary.html#2725" class="Function Operator">âˆˆ</a> <a id="4072" href="UALib.Birkhoff.FreeAlgebra.html#4022" class="Bound">ğ’¦</a> <a id="4074" class="Symbol">â†’</a> <a id="4076" href="UALib.Birkhoff.FreeAlgebra.html#3131" class="Function">ğ‘»img</a> <a id="4081" href="UALib.Birkhoff.FreeAlgebra.html#4022" class="Bound">ğ’¦</a>
 <a id="4084" href="UALib.Birkhoff.FreeAlgebra.html#4014" class="Function">mkti</a> <a id="4089" href="UALib.Birkhoff.FreeAlgebra.html#4089" class="Bound">ğ‘¨</a> <a id="4091" href="UALib.Birkhoff.FreeAlgebra.html#4091" class="Bound">ka</a> <a id="4094" class="Symbol">=</a> <a id="4096" class="Symbol">(</a><a id="4097" href="UALib.Birkhoff.FreeAlgebra.html#4089" class="Bound">ğ‘¨</a> <a id="4099" href="UALib.Prelude.Preliminaries.html#5665" class="InductiveConstructor Operator">,</a> <a id="4101" href="UALib.Terms.Free.html#1757" class="Function">lift-hom</a> <a id="4110" href="UALib.Birkhoff.FreeAlgebra.html#4089" class="Bound">ğ‘¨</a> <a id="4112" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="4114" href="UALib.Birkhoff.FreeAlgebra.html#2463" class="Bound">ğ•</a> <a id="4116" href="UALib.Birkhoff.FreeAlgebra.html#4089" class="Bound">ğ‘¨</a> <a id="4118" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="4120" href="UALib.Prelude.Preliminaries.html#5665" class="InductiveConstructor Operator">,</a> <a id="4122" href="UALib.Birkhoff.FreeAlgebra.html#4091" class="Bound">ka</a> <a id="4125" href="UALib.Prelude.Preliminaries.html#5665" class="InductiveConstructor Operator">,</a> <a id="4127" href="UALib.Terms.Free.html#3055" class="Function">lift-of-epi-is-epi</a> <a id="4146" href="UALib.Birkhoff.FreeAlgebra.html#4089" class="Bound">ğ‘¨</a> <a id="4148" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="4150" href="UALib.Birkhoff.FreeAlgebra.html#2463" class="Bound">ğ•</a> <a id="4152" href="UALib.Birkhoff.FreeAlgebra.html#4089" class="Bound">ğ‘¨</a> <a id="4154" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="4156" href="UALib.Prelude.Preliminaries.html#11740" class="Function Operator">âˆ¥</a> <a id="4158" href="UALib.Birkhoff.FreeAlgebra.html#2463" class="Bound">ğ•</a> <a id="4160" href="UALib.Birkhoff.FreeAlgebra.html#4089" class="Bound">ğ‘¨</a> <a id="4162" href="UALib.Prelude.Preliminaries.html#11740" class="Function Operator">âˆ¥</a><a id="4163" class="Symbol">)</a>

</pre>

We now construct the congruence relation `ÏˆCon`, modulo which `ğ‘» X` will yield the relatively free algebra, `ğ”‰ ğ’¦ X := ğ‘» X â•± ÏˆCon`. We start by letting Ïˆ be the collection of all identities (p, q) satisfied by all subalgebras of algebras in ğ’¦.

<pre class="Agda">

 <a id="the-free-algebra.Ïˆ"></a><a id="4437" href="UALib.Birkhoff.FreeAlgebra.html#4437" class="Function">Ïˆ</a> <a id="4439" class="Symbol">:</a> <a id="4441" class="Symbol">(</a><a id="4442" href="UALib.Birkhoff.FreeAlgebra.html#4442" class="Bound">ğ’¦</a> <a id="4444" class="Symbol">:</a> <a id="4446" href="UALib.Relations.Unary.html#1088" class="Function">Pred</a> <a id="4451" class="Symbol">(</a><a id="4452" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a> <a id="4460" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a> <a id="4462" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a><a id="4463" class="Symbol">)</a> <a id="4465" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="4468" class="Symbol">)</a> <a id="4470" class="Symbol">â†’</a> <a id="4472" href="UALib.Relations.Unary.html#1088" class="Function">Pred</a> <a id="4477" class="Symbol">(</a><a id="4478" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="4480" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="4482" href="UALib.Birkhoff.FreeAlgebra.html#2791" class="Bound">X</a> <a id="4484" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="4486" href="MGS-MLTT.html#3515" class="Function Operator">Ã—</a> <a id="4488" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="4490" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="4492" href="UALib.Birkhoff.FreeAlgebra.html#2791" class="Bound">X</a> <a id="4494" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a><a id="4495" class="Symbol">)</a> <a id="4497" class="Symbol">(</a><a id="4498" href="UALib.Birkhoff.FreeAlgebra.html#2777" class="Bound">ğ“§</a> <a id="4500" href="Agda.Primitive.html#636" class="Function Operator">âŠ”</a> <a id="4502" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="4505" class="Symbol">)</a>
 <a id="4508" href="UALib.Birkhoff.FreeAlgebra.html#4437" class="Function">Ïˆ</a> <a id="4510" href="UALib.Birkhoff.FreeAlgebra.html#4510" class="Bound">ğ’¦</a> <a id="4512" class="Symbol">(</a><a id="4513" href="UALib.Birkhoff.FreeAlgebra.html#4513" class="Bound">p</a> <a id="4515" href="UALib.Prelude.Preliminaries.html#5665" class="InductiveConstructor Operator">,</a> <a id="4517" href="UALib.Birkhoff.FreeAlgebra.html#4517" class="Bound">q</a><a id="4518" class="Symbol">)</a> <a id="4520" class="Symbol">=</a> <a id="4522" class="Symbol">âˆ€(</a><a id="4524" href="UALib.Birkhoff.FreeAlgebra.html#4524" class="Bound">ğ‘¨</a> <a id="4526" class="Symbol">:</a> <a id="4528" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a> <a id="4536" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a> <a id="4538" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a><a id="4539" class="Symbol">)(</a><a id="4541" href="UALib.Birkhoff.FreeAlgebra.html#4541" class="Bound">sA</a> <a id="4544" class="Symbol">:</a> <a id="4546" href="UALib.Birkhoff.FreeAlgebra.html#4524" class="Bound">ğ‘¨</a> <a id="4548" href="UALib.Relations.Unary.html#2725" class="Function Operator">âˆˆ</a> <a id="4550" href="UALib.Varieties.Varieties.html#3089" class="Datatype">S</a><a id="4551" class="Symbol">{</a><a id="4552" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a><a id="4553" class="Symbol">}{</a><a id="4555" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a><a id="4556" class="Symbol">}</a> <a id="4558" href="UALib.Birkhoff.FreeAlgebra.html#4510" class="Bound">ğ’¦</a><a id="4559" class="Symbol">)(</a><a id="4561" href="UALib.Birkhoff.FreeAlgebra.html#4561" class="Bound">h</a> <a id="4563" class="Symbol">:</a> <a id="4565" href="UALib.Birkhoff.FreeAlgebra.html#2791" class="Bound">X</a> <a id="4567" class="Symbol">â†’</a> <a id="4569" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="4571" href="UALib.Birkhoff.FreeAlgebra.html#4524" class="Bound">ğ‘¨</a> <a id="4573" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="4575" class="Symbol">)</a>
                 <a id="4594" class="Symbol">â†’</a>  <a id="4597" class="Symbol">(</a><a id="4598" href="UALib.Terms.Free.html#1515" class="Function">free-lift</a> <a id="4608" href="UALib.Birkhoff.FreeAlgebra.html#4524" class="Bound">ğ‘¨</a> <a id="4610" href="UALib.Birkhoff.FreeAlgebra.html#4561" class="Bound">h</a><a id="4611" class="Symbol">)</a> <a id="4613" href="UALib.Birkhoff.FreeAlgebra.html#4513" class="Bound">p</a> <a id="4615" href="UALib.Prelude.Preliminaries.html#5556" class="Datatype Operator">â‰¡</a> <a id="4617" class="Symbol">(</a><a id="4618" href="UALib.Terms.Free.html#1515" class="Function">free-lift</a> <a id="4628" href="UALib.Birkhoff.FreeAlgebra.html#4524" class="Bound">ğ‘¨</a> <a id="4630" href="UALib.Birkhoff.FreeAlgebra.html#4561" class="Bound">h</a><a id="4631" class="Symbol">)</a> <a id="4633" href="UALib.Birkhoff.FreeAlgebra.html#4517" class="Bound">q</a>

</pre>

We convert the predicate Ïˆ into a relation by [currying](https://en.wikipedia.org/wiki/Currying).

<pre class="Agda">

 <a id="the-free-algebra.ÏˆRel"></a><a id="4762" href="UALib.Birkhoff.FreeAlgebra.html#4762" class="Function">ÏˆRel</a> <a id="4767" class="Symbol">:</a> <a id="4769" class="Symbol">(</a><a id="4770" href="UALib.Birkhoff.FreeAlgebra.html#4770" class="Bound">ğ’¦</a> <a id="4772" class="Symbol">:</a> <a id="4774" href="UALib.Relations.Unary.html#1088" class="Function">Pred</a> <a id="4779" class="Symbol">(</a><a id="4780" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a> <a id="4788" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a> <a id="4790" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a><a id="4791" class="Symbol">)</a> <a id="4793" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="4796" class="Symbol">)</a> <a id="4798" class="Symbol">â†’</a> <a id="4800" href="UALib.Relations.Binary.html#1507" class="Function">Rel</a> <a id="4804" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="4806" class="Symbol">(</a><a id="4807" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="4809" href="UALib.Birkhoff.FreeAlgebra.html#2791" class="Bound">X</a><a id="4810" class="Symbol">)</a> <a id="4812" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="4814" class="Symbol">(</a><a id="4815" href="UALib.Birkhoff.FreeAlgebra.html#2777" class="Bound">ğ“§</a> <a id="4817" href="Agda.Primitive.html#636" class="Function Operator">âŠ”</a> <a id="4819" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="4822" class="Symbol">)</a>
 <a id="4825" href="UALib.Birkhoff.FreeAlgebra.html#4762" class="Function">ÏˆRel</a> <a id="4830" href="UALib.Birkhoff.FreeAlgebra.html#4830" class="Bound">ğ’¦</a> <a id="4832" href="UALib.Birkhoff.FreeAlgebra.html#4832" class="Bound">p</a> <a id="4834" href="UALib.Birkhoff.FreeAlgebra.html#4834" class="Bound">q</a> <a id="4836" class="Symbol">=</a> <a id="4838" href="UALib.Birkhoff.FreeAlgebra.html#4437" class="Function">Ïˆ</a> <a id="4840" href="UALib.Birkhoff.FreeAlgebra.html#4830" class="Bound">ğ’¦</a> <a id="4842" class="Symbol">(</a><a id="4843" href="UALib.Birkhoff.FreeAlgebra.html#4832" class="Bound">p</a> <a id="4845" href="UALib.Prelude.Preliminaries.html#5665" class="InductiveConstructor Operator">,</a> <a id="4847" href="UALib.Birkhoff.FreeAlgebra.html#4834" class="Bound">q</a><a id="4848" class="Symbol">)</a>

</pre>

To express `ÏˆRel` as a congruence of the term algebra `ğ‘» X`, we must prove that

1. `ÏˆRel` is compatible with the operations of `ğ‘» X` (which are jsut the terms themselves) and
2. `ÏˆRel` it is an equivalence relation.

<pre class="Agda">

 <a id="the-free-algebra.Ïˆcompatible"></a><a id="5096" href="UALib.Birkhoff.FreeAlgebra.html#5096" class="Function">Ïˆcompatible</a> <a id="5108" class="Symbol">:</a> <a id="5110" class="Symbol">(</a><a id="5111" href="UALib.Birkhoff.FreeAlgebra.html#5111" class="Bound">ğ’¦</a> <a id="5113" class="Symbol">:</a> <a id="5115" href="UALib.Relations.Unary.html#1088" class="Function">Pred</a> <a id="5120" class="Symbol">(</a><a id="5121" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a> <a id="5129" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a> <a id="5131" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a><a id="5132" class="Symbol">)</a> <a id="5134" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="5137" class="Symbol">)</a> <a id="5139" class="Symbol">â†’</a> <a id="5141" href="UALib.Algebras.Algebras.html#5414" class="Function">compatible</a> <a id="5152" class="Symbol">(</a><a id="5153" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="5155" href="UALib.Birkhoff.FreeAlgebra.html#2791" class="Bound">X</a><a id="5156" class="Symbol">)(</a><a id="5158" href="UALib.Birkhoff.FreeAlgebra.html#4762" class="Function">ÏˆRel</a> <a id="5163" href="UALib.Birkhoff.FreeAlgebra.html#5111" class="Bound">ğ’¦</a><a id="5164" class="Symbol">)</a>
 <a id="5167" href="UALib.Birkhoff.FreeAlgebra.html#5096" class="Function">Ïˆcompatible</a> <a id="5179" href="UALib.Birkhoff.FreeAlgebra.html#5179" class="Bound">ğ’¦</a> <a id="5181" href="UALib.Birkhoff.FreeAlgebra.html#5181" class="Bound">f</a> <a id="5183" class="Symbol">{</a><a id="5184" href="UALib.Birkhoff.FreeAlgebra.html#5184" class="Bound">i</a><a id="5185" class="Symbol">}</a> <a id="5187" class="Symbol">{</a><a id="5188" href="UALib.Birkhoff.FreeAlgebra.html#5188" class="Bound">j</a><a id="5189" class="Symbol">}</a> <a id="5191" href="UALib.Birkhoff.FreeAlgebra.html#5191" class="Bound">iÏˆj</a> <a id="5195" href="UALib.Birkhoff.FreeAlgebra.html#5195" class="Bound">ğ‘¨</a> <a id="5197" href="UALib.Birkhoff.FreeAlgebra.html#5197" class="Bound">sA</a> <a id="5200" href="UALib.Birkhoff.FreeAlgebra.html#5200" class="Bound">h</a> <a id="5202" class="Symbol">=</a> <a id="5204" href="UALib.Birkhoff.FreeAlgebra.html#5257" class="Function">Î³</a>
  <a id="5208" class="Keyword">where</a>
   <a id="5217" href="UALib.Birkhoff.FreeAlgebra.html#5217" class="Function">Ï•</a> <a id="5219" class="Symbol">:</a> <a id="5221" href="UALib.Homomorphisms.Basic.html#1984" class="Function">hom</a> <a id="5225" class="Symbol">(</a><a id="5226" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="5228" href="UALib.Birkhoff.FreeAlgebra.html#2791" class="Bound">X</a><a id="5229" class="Symbol">)</a> <a id="5231" href="UALib.Birkhoff.FreeAlgebra.html#5195" class="Bound">ğ‘¨</a>
   <a id="5236" href="UALib.Birkhoff.FreeAlgebra.html#5217" class="Function">Ï•</a> <a id="5238" class="Symbol">=</a> <a id="5240" href="UALib.Terms.Free.html#1757" class="Function">lift-hom</a> <a id="5249" href="UALib.Birkhoff.FreeAlgebra.html#5195" class="Bound">ğ‘¨</a> <a id="5251" href="UALib.Birkhoff.FreeAlgebra.html#5200" class="Bound">h</a>

   <a id="5257" href="UALib.Birkhoff.FreeAlgebra.html#5257" class="Function">Î³</a> <a id="5259" class="Symbol">:</a> <a id="5261" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="5263" href="UALib.Birkhoff.FreeAlgebra.html#5217" class="Function">Ï•</a> <a id="5265" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="5267" class="Symbol">((</a><a id="5269" href="UALib.Birkhoff.FreeAlgebra.html#5181" class="Bound">f</a> <a id="5271" href="UALib.Algebras.Algebras.html#2931" class="Function Operator">Ì‚</a> <a id="5273" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="5275" href="UALib.Birkhoff.FreeAlgebra.html#2791" class="Bound">X</a><a id="5276" class="Symbol">)</a> <a id="5278" href="UALib.Birkhoff.FreeAlgebra.html#5184" class="Bound">i</a><a id="5279" class="Symbol">)</a> <a id="5281" href="UALib.Prelude.Preliminaries.html#5556" class="Datatype Operator">â‰¡</a> <a id="5283" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="5285" href="UALib.Birkhoff.FreeAlgebra.html#5217" class="Function">Ï•</a> <a id="5287" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="5289" class="Symbol">((</a><a id="5291" href="UALib.Birkhoff.FreeAlgebra.html#5181" class="Bound">f</a> <a id="5293" href="UALib.Algebras.Algebras.html#2931" class="Function Operator">Ì‚</a> <a id="5295" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="5297" href="UALib.Birkhoff.FreeAlgebra.html#2791" class="Bound">X</a><a id="5298" class="Symbol">)</a> <a id="5300" href="UALib.Birkhoff.FreeAlgebra.html#5188" class="Bound">j</a><a id="5301" class="Symbol">)</a>
   <a id="5306" href="UALib.Birkhoff.FreeAlgebra.html#5257" class="Function">Î³</a> <a id="5308" class="Symbol">=</a> <a id="5310" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="5312" href="UALib.Birkhoff.FreeAlgebra.html#5217" class="Function">Ï•</a> <a id="5314" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="5316" class="Symbol">((</a><a id="5318" href="UALib.Birkhoff.FreeAlgebra.html#5181" class="Bound">f</a> <a id="5320" href="UALib.Algebras.Algebras.html#2931" class="Function Operator">Ì‚</a> <a id="5322" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="5324" href="UALib.Birkhoff.FreeAlgebra.html#2791" class="Bound">X</a><a id="5325" class="Symbol">)</a> <a id="5327" href="UALib.Birkhoff.FreeAlgebra.html#5184" class="Bound">i</a><a id="5328" class="Symbol">)</a> <a id="5330" href="MGS-MLTT.html#5997" class="Function Operator">â‰¡âŸ¨</a> <a id="5333" href="UALib.Prelude.Preliminaries.html#11740" class="Function Operator">âˆ¥</a> <a id="5335" href="UALib.Birkhoff.FreeAlgebra.html#5217" class="Function">Ï•</a> <a id="5337" href="UALib.Prelude.Preliminaries.html#11740" class="Function Operator">âˆ¥</a> <a id="5339" href="UALib.Birkhoff.FreeAlgebra.html#5181" class="Bound">f</a> <a id="5341" href="UALib.Birkhoff.FreeAlgebra.html#5184" class="Bound">i</a> <a id="5343" href="MGS-MLTT.html#5997" class="Function Operator">âŸ©</a>
       <a id="5352" class="Symbol">(</a><a id="5353" href="UALib.Birkhoff.FreeAlgebra.html#5181" class="Bound">f</a> <a id="5355" href="UALib.Algebras.Algebras.html#2931" class="Function Operator">Ì‚</a> <a id="5357" href="UALib.Birkhoff.FreeAlgebra.html#5195" class="Bound">ğ‘¨</a><a id="5358" class="Symbol">)</a> <a id="5360" class="Symbol">(</a><a id="5361" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="5363" href="UALib.Birkhoff.FreeAlgebra.html#5217" class="Function">Ï•</a> <a id="5365" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="5367" href="MGS-MLTT.html#3813" class="Function Operator">âˆ˜</a> <a id="5369" href="UALib.Birkhoff.FreeAlgebra.html#5184" class="Bound">i</a><a id="5370" class="Symbol">)</a> <a id="5372" href="MGS-MLTT.html#5997" class="Function Operator">â‰¡âŸ¨</a> <a id="5375" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="5378" class="Symbol">(</a><a id="5379" href="UALib.Birkhoff.FreeAlgebra.html#5181" class="Bound">f</a> <a id="5381" href="UALib.Algebras.Algebras.html#2931" class="Function Operator">Ì‚</a> <a id="5383" href="UALib.Birkhoff.FreeAlgebra.html#5195" class="Bound">ğ‘¨</a><a id="5384" class="Symbol">)</a> <a id="5386" class="Symbol">(</a><a id="5387" href="UALib.Birkhoff.FreeAlgebra.html#2439" class="Bound">gfe</a> <a id="5391" class="Symbol">Î»</a> <a id="5393" href="UALib.Birkhoff.FreeAlgebra.html#5393" class="Bound">x</a> <a id="5395" class="Symbol">â†’</a> <a id="5397" class="Symbol">((</a><a id="5399" href="UALib.Birkhoff.FreeAlgebra.html#5191" class="Bound">iÏˆj</a> <a id="5403" href="UALib.Birkhoff.FreeAlgebra.html#5393" class="Bound">x</a><a id="5404" class="Symbol">)</a> <a id="5406" href="UALib.Birkhoff.FreeAlgebra.html#5195" class="Bound">ğ‘¨</a> <a id="5408" href="UALib.Birkhoff.FreeAlgebra.html#5197" class="Bound">sA</a> <a id="5411" href="UALib.Birkhoff.FreeAlgebra.html#5200" class="Bound">h</a><a id="5412" class="Symbol">))</a> <a id="5415" href="MGS-MLTT.html#5997" class="Function Operator">âŸ©</a>
       <a id="5424" class="Symbol">(</a><a id="5425" href="UALib.Birkhoff.FreeAlgebra.html#5181" class="Bound">f</a> <a id="5427" href="UALib.Algebras.Algebras.html#2931" class="Function Operator">Ì‚</a> <a id="5429" href="UALib.Birkhoff.FreeAlgebra.html#5195" class="Bound">ğ‘¨</a><a id="5430" class="Symbol">)</a> <a id="5432" class="Symbol">(</a><a id="5433" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="5435" href="UALib.Birkhoff.FreeAlgebra.html#5217" class="Function">Ï•</a> <a id="5437" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="5439" href="MGS-MLTT.html#3813" class="Function Operator">âˆ˜</a> <a id="5441" href="UALib.Birkhoff.FreeAlgebra.html#5188" class="Bound">j</a><a id="5442" class="Symbol">)</a> <a id="5444" href="MGS-MLTT.html#5997" class="Function Operator">â‰¡âŸ¨</a> <a id="5447" class="Symbol">(</a><a id="5448" href="UALib.Prelude.Preliminaries.html#11740" class="Function Operator">âˆ¥</a> <a id="5450" href="UALib.Birkhoff.FreeAlgebra.html#5217" class="Function">Ï•</a> <a id="5452" href="UALib.Prelude.Preliminaries.html#11740" class="Function Operator">âˆ¥</a> <a id="5454" href="UALib.Birkhoff.FreeAlgebra.html#5181" class="Bound">f</a> <a id="5456" href="UALib.Birkhoff.FreeAlgebra.html#5188" class="Bound">j</a><a id="5457" class="Symbol">)</a><a id="5458" href="MGS-MLTT.html#6125" class="Function Operator">â»Â¹</a> <a id="5461" href="MGS-MLTT.html#5997" class="Function Operator">âŸ©</a>
       <a id="5470" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="5472" href="UALib.Birkhoff.FreeAlgebra.html#5217" class="Function">Ï•</a> <a id="5474" href="UALib.Prelude.Preliminaries.html#11659" class="Function Operator">âˆ£</a> <a id="5476" class="Symbol">((</a><a id="5478" href="UALib.Birkhoff.FreeAlgebra.html#5181" class="Bound">f</a> <a id="5480" href="UALib.Algebras.Algebras.html#2931" class="Function Operator">Ì‚</a> <a id="5482" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="5484" href="UALib.Birkhoff.FreeAlgebra.html#2791" class="Bound">X</a><a id="5485" class="Symbol">)</a> <a id="5487" href="UALib.Birkhoff.FreeAlgebra.html#5188" class="Bound">j</a><a id="5488" class="Symbol">)</a> <a id="5490" href="MGS-MLTT.html#6079" class="Function Operator">âˆ</a>

 <a id="the-free-algebra.ÏˆRefl"></a><a id="5494" href="UALib.Birkhoff.FreeAlgebra.html#5494" class="Function">ÏˆRefl</a> <a id="5500" class="Symbol">:</a> <a id="5502" class="Symbol">{</a><a id="5503" href="UALib.Birkhoff.FreeAlgebra.html#5503" class="Bound">ğ’¦</a> <a id="5505" class="Symbol">:</a> <a id="5507" href="UALib.Relations.Unary.html#1088" class="Function">Pred</a> <a id="5512" class="Symbol">(</a><a id="5513" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a> <a id="5521" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a> <a id="5523" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a><a id="5524" class="Symbol">)</a> <a id="5526" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="5529" class="Symbol">}</a> <a id="5531" class="Symbol">â†’</a> <a id="5533" href="UALib.Relations.Binary.html#2587" class="Function">reflexive</a> <a id="5543" class="Symbol">(</a><a id="5544" href="UALib.Birkhoff.FreeAlgebra.html#4762" class="Function">ÏˆRel</a> <a id="5549" href="UALib.Birkhoff.FreeAlgebra.html#5503" class="Bound">ğ’¦</a><a id="5550" class="Symbol">)</a>
 <a id="5553" href="UALib.Birkhoff.FreeAlgebra.html#5494" class="Function">ÏˆRefl</a> <a id="5559" class="Symbol">=</a> <a id="5561" class="Symbol">Î»</a> <a id="5563" href="UALib.Birkhoff.FreeAlgebra.html#5563" class="Bound">x</a> <a id="5565" href="UALib.Birkhoff.FreeAlgebra.html#5565" class="Bound">ğ‘ª</a> <a id="5567" href="UALib.Birkhoff.FreeAlgebra.html#5567" class="Bound">Ï•</a> <a id="5569" href="UALib.Birkhoff.FreeAlgebra.html#5569" class="Bound">h</a> <a id="5571" class="Symbol">â†’</a> <a id="5573" href="UALib.Prelude.Preliminaries.html#5570" class="InductiveConstructor">ğ“‡â„¯ğ’»ğ“</a>

 <a id="the-free-algebra.ÏˆSymm"></a><a id="5580" href="UALib.Birkhoff.FreeAlgebra.html#5580" class="Function">ÏˆSymm</a> <a id="5586" class="Symbol">:</a> <a id="5588" class="Symbol">{</a><a id="5589" href="UALib.Birkhoff.FreeAlgebra.html#5589" class="Bound">ğ’¦</a> <a id="5591" class="Symbol">:</a> <a id="5593" href="UALib.Relations.Unary.html#1088" class="Function">Pred</a> <a id="5598" class="Symbol">(</a><a id="5599" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a> <a id="5607" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a> <a id="5609" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a><a id="5610" class="Symbol">)</a> <a id="5612" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="5615" class="Symbol">}</a> <a id="5617" class="Symbol">â†’</a> <a id="5619" href="UALib.Relations.Binary.html#2675" class="Function">symmetric</a> <a id="5629" class="Symbol">(</a><a id="5630" href="UALib.Birkhoff.FreeAlgebra.html#4762" class="Function">ÏˆRel</a> <a id="5635" href="UALib.Birkhoff.FreeAlgebra.html#5589" class="Bound">ğ’¦</a><a id="5636" class="Symbol">)</a>
 <a id="5639" href="UALib.Birkhoff.FreeAlgebra.html#5580" class="Function">ÏˆSymm</a> <a id="5645" href="UALib.Birkhoff.FreeAlgebra.html#5645" class="Bound">p</a> <a id="5647" href="UALib.Birkhoff.FreeAlgebra.html#5647" class="Bound">q</a> <a id="5649" href="UALib.Birkhoff.FreeAlgebra.html#5649" class="Bound">pÏˆRelq</a> <a id="5656" href="UALib.Birkhoff.FreeAlgebra.html#5656" class="Bound">ğ‘ª</a> <a id="5658" href="UALib.Birkhoff.FreeAlgebra.html#5658" class="Bound">Ï•</a> <a id="5660" href="UALib.Birkhoff.FreeAlgebra.html#5660" class="Bound">h</a> <a id="5662" class="Symbol">=</a> <a id="5664" class="Symbol">(</a><a id="5665" href="UALib.Birkhoff.FreeAlgebra.html#5649" class="Bound">pÏˆRelq</a> <a id="5672" href="UALib.Birkhoff.FreeAlgebra.html#5656" class="Bound">ğ‘ª</a> <a id="5674" href="UALib.Birkhoff.FreeAlgebra.html#5658" class="Bound">Ï•</a> <a id="5676" href="UALib.Birkhoff.FreeAlgebra.html#5660" class="Bound">h</a><a id="5677" class="Symbol">)</a><a id="5678" href="MGS-MLTT.html#6125" class="Function Operator">â»Â¹</a>

 <a id="the-free-algebra.ÏˆTrans"></a><a id="5683" href="UALib.Birkhoff.FreeAlgebra.html#5683" class="Function">ÏˆTrans</a> <a id="5690" class="Symbol">:</a> <a id="5692" class="Symbol">{</a><a id="5693" href="UALib.Birkhoff.FreeAlgebra.html#5693" class="Bound">ğ’¦</a> <a id="5695" class="Symbol">:</a> <a id="5697" href="UALib.Relations.Unary.html#1088" class="Function">Pred</a> <a id="5702" class="Symbol">(</a><a id="5703" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a> <a id="5711" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a> <a id="5713" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a><a id="5714" class="Symbol">)</a> <a id="5716" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="5719" class="Symbol">}</a> <a id="5721" class="Symbol">â†’</a> <a id="5723" href="UALib.Relations.Binary.html#2773" class="Function">transitive</a> <a id="5734" class="Symbol">(</a><a id="5735" href="UALib.Birkhoff.FreeAlgebra.html#4762" class="Function">ÏˆRel</a> <a id="5740" href="UALib.Birkhoff.FreeAlgebra.html#5693" class="Bound">ğ’¦</a><a id="5741" class="Symbol">)</a>
 <a id="5744" href="UALib.Birkhoff.FreeAlgebra.html#5683" class="Function">ÏˆTrans</a> <a id="5751" href="UALib.Birkhoff.FreeAlgebra.html#5751" class="Bound">p</a> <a id="5753" href="UALib.Birkhoff.FreeAlgebra.html#5753" class="Bound">q</a> <a id="5755" href="UALib.Birkhoff.FreeAlgebra.html#5755" class="Bound">r</a> <a id="5757" href="UALib.Birkhoff.FreeAlgebra.html#5757" class="Bound">pÏˆq</a> <a id="5761" href="UALib.Birkhoff.FreeAlgebra.html#5761" class="Bound">qÏˆr</a> <a id="5765" href="UALib.Birkhoff.FreeAlgebra.html#5765" class="Bound">ğ‘ª</a> <a id="5767" href="UALib.Birkhoff.FreeAlgebra.html#5767" class="Bound">Ï•</a> <a id="5769" href="UALib.Birkhoff.FreeAlgebra.html#5769" class="Bound">h</a> <a id="5771" class="Symbol">=</a> <a id="5773" class="Symbol">(</a><a id="5774" href="UALib.Birkhoff.FreeAlgebra.html#5757" class="Bound">pÏˆq</a> <a id="5778" href="UALib.Birkhoff.FreeAlgebra.html#5765" class="Bound">ğ‘ª</a> <a id="5780" href="UALib.Birkhoff.FreeAlgebra.html#5767" class="Bound">Ï•</a> <a id="5782" href="UALib.Birkhoff.FreeAlgebra.html#5769" class="Bound">h</a><a id="5783" class="Symbol">)</a> <a id="5785" href="MGS-MLTT.html#5910" class="Function Operator">âˆ™</a> <a id="5787" class="Symbol">(</a><a id="5788" href="UALib.Birkhoff.FreeAlgebra.html#5761" class="Bound">qÏˆr</a> <a id="5792" href="UALib.Birkhoff.FreeAlgebra.html#5765" class="Bound">ğ‘ª</a> <a id="5794" href="UALib.Birkhoff.FreeAlgebra.html#5767" class="Bound">Ï•</a> <a id="5796" href="UALib.Birkhoff.FreeAlgebra.html#5769" class="Bound">h</a><a id="5797" class="Symbol">)</a>

 <a id="the-free-algebra.ÏˆIsEquivalence"></a><a id="5801" href="UALib.Birkhoff.FreeAlgebra.html#5801" class="Function">ÏˆIsEquivalence</a> <a id="5816" class="Symbol">:</a> <a id="5818" class="Symbol">{</a><a id="5819" href="UALib.Birkhoff.FreeAlgebra.html#5819" class="Bound">ğ’¦</a> <a id="5821" class="Symbol">:</a> <a id="5823" href="UALib.Relations.Unary.html#1088" class="Function">Pred</a> <a id="5828" class="Symbol">(</a><a id="5829" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a> <a id="5837" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a> <a id="5839" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a><a id="5840" class="Symbol">)</a> <a id="5842" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="5845" class="Symbol">}</a> <a id="5847" class="Symbol">â†’</a> <a id="5849" href="UALib.Relations.Equivalences.html#668" class="Record">IsEquivalence</a> <a id="5863" class="Symbol">(</a><a id="5864" href="UALib.Birkhoff.FreeAlgebra.html#4762" class="Function">ÏˆRel</a> <a id="5869" href="UALib.Birkhoff.FreeAlgebra.html#5819" class="Bound">ğ’¦</a><a id="5870" class="Symbol">)</a>
 <a id="5873" href="UALib.Birkhoff.FreeAlgebra.html#5801" class="Function">ÏˆIsEquivalence</a> <a id="5888" class="Symbol">=</a> <a id="5890" class="Keyword">record</a> <a id="5897" class="Symbol">{</a> <a id="5899" href="UALib.Relations.Equivalences.html#736" class="Field">rfl</a> <a id="5903" class="Symbol">=</a> <a id="5905" href="UALib.Birkhoff.FreeAlgebra.html#5494" class="Function">ÏˆRefl</a> <a id="5911" class="Symbol">;</a> <a id="5913" href="UALib.Relations.Equivalences.html#761" class="Field">sym</a> <a id="5917" class="Symbol">=</a> <a id="5919" href="UALib.Birkhoff.FreeAlgebra.html#5580" class="Function">ÏˆSymm</a> <a id="5925" class="Symbol">;</a> <a id="5927" href="UALib.Relations.Equivalences.html#786" class="Field">trans</a> <a id="5933" class="Symbol">=</a> <a id="5935" href="UALib.Birkhoff.FreeAlgebra.html#5683" class="Function">ÏˆTrans</a> <a id="5942" class="Symbol">}</a>

</pre>

We have collected all the pieces necessary to express the collection of identities satisfied by all subalgebras of algebras in the class as a congruence relation of the term algebra. We call this congruence `ÏˆCon` and define it using the Congruence constructor `mkcon`.

<pre class="Agda">

 <a id="the-free-algebra.ÏˆCon"></a><a id="6243" href="UALib.Birkhoff.FreeAlgebra.html#6243" class="Function">ÏˆCon</a> <a id="6248" class="Symbol">:</a> <a id="6250" class="Symbol">(</a><a id="6251" href="UALib.Birkhoff.FreeAlgebra.html#6251" class="Bound">ğ’¦</a> <a id="6253" class="Symbol">:</a> <a id="6255" href="UALib.Relations.Unary.html#1088" class="Function">Pred</a> <a id="6260" class="Symbol">(</a><a id="6261" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a> <a id="6269" href="UALib.Birkhoff.FreeAlgebra.html#2775" class="Bound">ğ“¤</a> <a id="6271" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a><a id="6272" class="Symbol">)</a> <a id="6274" href="UALib.Birkhoff.FreeAlgebra.html#2873" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="6277" class="Symbol">)</a> <a id="6279" class="Symbol">â†’</a> <a id="6281" href="UALib.Algebras.Congruences.html#901" class="Record">Congruence</a> <a id="6292" class="Symbol">(</a><a id="6293" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="6295" href="UALib.Birkhoff.FreeAlgebra.html#2791" class="Bound">X</a><a id="6296" class="Symbol">)</a>
 <a id="6299" href="UALib.Birkhoff.FreeAlgebra.html#6243" class="Function">ÏˆCon</a> <a id="6304" href="UALib.Birkhoff.FreeAlgebra.html#6304" class="Bound">ğ’¦</a> <a id="6306" class="Symbol">=</a> <a id="6308" href="UALib.Algebras.Congruences.html#980" class="InductiveConstructor">mkcon</a> <a id="6314" class="Symbol">(</a><a id="6315" href="UALib.Birkhoff.FreeAlgebra.html#4762" class="Function">ÏˆRel</a> <a id="6320" href="UALib.Birkhoff.FreeAlgebra.html#6304" class="Bound">ğ’¦</a><a id="6321" class="Symbol">)</a> <a id="6323" class="Symbol">(</a><a id="6324" href="UALib.Birkhoff.FreeAlgebra.html#5096" class="Function">Ïˆcompatible</a> <a id="6336" href="UALib.Birkhoff.FreeAlgebra.html#6304" class="Bound">ğ’¦</a><a id="6337" class="Symbol">)</a> <a id="6339" href="UALib.Birkhoff.FreeAlgebra.html#5801" class="Function">ÏˆIsEquivalence</a>

</pre>


Finally, we are ready to define the type representing the relatively free algebra in Agda.  We denote this type by ğ”‰ and define it as the quotient `ğ‘» X â•± (ÏˆCon ğ’¦)`.

<pre class="Agda">

<a id="6548" class="Keyword">module</a> <a id="the-relatively-free-algebra"></a><a id="6555" href="UALib.Birkhoff.FreeAlgebra.html#6555" class="Module">the-relatively-free-algebra</a>
 <a id="6584" class="Symbol">{</a><a id="6585" href="UALib.Birkhoff.FreeAlgebra.html#6585" class="Bound">ğ“¤</a> <a id="6587" href="UALib.Birkhoff.FreeAlgebra.html#6587" class="Bound">ğ“§</a> <a id="6589" class="Symbol">:</a> <a id="6591" href="universes.html#551" class="Postulate">Universe</a><a id="6599" class="Symbol">}{</a><a id="6601" href="UALib.Birkhoff.FreeAlgebra.html#6601" class="Bound">X</a> <a id="6603" class="Symbol">:</a> <a id="6605" href="UALib.Birkhoff.FreeAlgebra.html#6587" class="Bound">ğ“§</a> <a id="6607" href="universes.html#758" class="Function Operator">Ì‡</a><a id="6608" class="Symbol">}</a> <a id="6610" class="Symbol">{</a><a id="6611" href="UALib.Birkhoff.FreeAlgebra.html#6611" class="Bound">ğ’¦</a> <a id="6613" class="Symbol">:</a> <a id="6615" href="UALib.Relations.Unary.html#1088" class="Function">Pred</a> <a id="6620" class="Symbol">(</a><a id="6621" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a> <a id="6629" href="UALib.Birkhoff.FreeAlgebra.html#6585" class="Bound">ğ“¤</a> <a id="6631" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a><a id="6632" class="Symbol">)</a> <a id="6634" class="Symbol">(</a><a id="6635" href="UALib.Algebras.Products.html#2040" class="Function">ov</a> <a id="6638" href="UALib.Birkhoff.FreeAlgebra.html#6585" class="Bound">ğ“¤</a><a id="6639" class="Symbol">)}</a> <a id="6642" class="Keyword">where</a>

 <a id="6650" class="Keyword">open</a> <a id="6655" href="UALib.Birkhoff.FreeAlgebra.html#2757" class="Module">the-free-algebra</a><a id="6671" class="Symbol">{</a><a id="6672" class="Argument">ğ“¤</a> <a id="6674" class="Symbol">=</a> <a id="6676" href="UALib.Birkhoff.FreeAlgebra.html#6585" class="Bound">ğ“¤</a><a id="6677" class="Symbol">}{</a><a id="6679" class="Argument">ğ“§</a> <a id="6681" class="Symbol">=</a> <a id="6683" href="UALib.Birkhoff.FreeAlgebra.html#6587" class="Bound">ğ“§</a><a id="6684" class="Symbol">}{</a><a id="6686" class="Argument">X</a> <a id="6688" class="Symbol">=</a> <a id="6690" href="UALib.Birkhoff.FreeAlgebra.html#6601" class="Bound">X</a><a id="6691" class="Symbol">}</a>

 <a id="the-relatively-free-algebra.ğ“•"></a><a id="6695" href="UALib.Birkhoff.FreeAlgebra.html#6695" class="Function">ğ“•</a> <a id="6697" class="Symbol">:</a> <a id="6699" href="universes.html#551" class="Postulate">Universe</a> <a id="6708" class="Comment">-- (universe level of the relatively free algebra)</a>
 <a id="6760" href="UALib.Birkhoff.FreeAlgebra.html#6695" class="Function">ğ“•</a> <a id="6762" class="Symbol">=</a> <a id="6764" class="Symbol">(</a><a id="6765" href="UALib.Birkhoff.FreeAlgebra.html#6587" class="Bound">ğ“§</a> <a id="6767" href="Agda.Primitive.html#636" class="Function Operator">âŠ”</a> <a id="6769" href="UALib.Algebras.Products.html#2040" class="Function">ov</a> <a id="6772" href="UALib.Birkhoff.FreeAlgebra.html#6585" class="Bound">ğ“¤</a><a id="6773" class="Symbol">)</a> <a id="6775" href="universes.html#527" class="Function Operator">âº</a>

 <a id="the-relatively-free-algebra.ğ”‰"></a><a id="6779" href="UALib.Birkhoff.FreeAlgebra.html#6779" class="Function">ğ”‰</a> <a id="6781" class="Symbol">:</a> <a id="6783" href="UALib.Algebras.Algebras.html#781" class="Function">Algebra</a> <a id="6791" href="UALib.Birkhoff.FreeAlgebra.html#6695" class="Function">ğ“•</a> <a id="6793" href="UALib.Birkhoff.FreeAlgebra.html#2420" class="Bound">ğ‘†</a>
 <a id="6796" href="UALib.Birkhoff.FreeAlgebra.html#6779" class="Function">ğ”‰</a> <a id="6798" class="Symbol">=</a>  <a id="6801" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="6803" href="UALib.Birkhoff.FreeAlgebra.html#6601" class="Bound">X</a> <a id="6805" href="UALib.Algebras.Congruences.html#3110" class="Function Operator">â•±</a> <a id="6807" class="Symbol">(</a><a id="6808" href="UALib.Birkhoff.FreeAlgebra.html#6243" class="Function">ÏˆCon</a> <a id="6813" href="UALib.Birkhoff.FreeAlgebra.html#6611" class="Bound">ğ’¦</a><a id="6814" class="Symbol">)</a>

</pre>

The domain âˆ£ ğ”‰ âˆ£ is

`âˆ£ ğ‘» X âˆ£ / âŸ¨ ÏˆCon ğ’¦ âŸ© = Î£ C ê‰ _ ,  Î£ p ê‰ âˆ£ ğ‘» X âˆ£ ,  C â‰¡ ( [ p ] âŸ¨ ÏˆCon ğ’¦ âŸ© )`,

which is the collection `{ C : âˆƒ p âˆˆ âˆ£ ğ‘» X âˆ£, C â‰¡ [ p ]âŸ¨ ÏˆCon ğ’¦ âŸ© }` of `âŸ¨ ÏˆCon ğ’¦ âŸ©`-classses of `ğ‘» X`, as desired.


----------------------------

<span class="footnote"><sup>1</sup>Since `X` is not a subset of ğ”‰, technically it doesn't make sense to say "`X` generates ğ”‰." But as long as ğ’¦ contains a nontrivial algebra, we will have `Ïˆ(ğ’¦, ğ‘» ğ‘‹) âˆ© XÂ² â‰  âˆ…`, and we can identify `X` with `X / Ïˆ(ğ’¦, ğ‘» X)` which does belong to ğ”‰.</span>

[â†‘ UALib.Birkhoff](UALib.Birkhoff.html)
<span style="float:right;">[UALib.Birkhoff.HSPTheorem â†’](UALib.Birkhoff.HSPTheorem.html)</span>

{% include UALib.Links.md %}

<!--

Lemma 4.27. (Bergman) Let ğ’¦ be a class of algebras, and ÏˆCon defined as above.
                     Then ğ”½ := ğ‘» / ÏˆCon is isomorphic to an algebra in SP(ğ’¦).

Proof. ğ”½ â†ª â¨… ğ’œ, where ğ’œ = {ğ‘¨ / Î¸ : ğ‘¨ / Î¸ âˆˆ S ğ’¦}.
       Therefore, ğ”½ â‰… ğ‘©, where ğ‘© is a subalgebra of â¨… ğ’œ âˆˆ PS(ğ’¦).
       Thus ğ”½ is isomorphic to an algebra in SPS(ğ’¦).
       By SPSâŠ†SP, ğ”½ is isomorphic to an algebra in SP(ğ’¦).

-->



