---
layout: default
title : UALib.Birkhoff.FreeAlgebra (The Agda Universal Algebra Library)
date : 2021-01-14
author: William DeMeo
---

### <a id="the-free-algebra-in-theory">The free algebra in theory</a>

Recall, we proved in [the universal property](UALib.Terms.Free.html#the-universal-property) section of the [UALib.Terms.Free][] module that the term algebra `ğ‘» X` is the absolutely free algebra in the class ğ’œğ“â„Š(ğ‘†) of all ğ‘†-structures. In this section, we formalize, for a given class ğ’¦ of ğ‘†-algebras, the (relatively) free algebra in `S(P ğ’¦)` over X.

We use the next definition to take a free algebra *for* a class ğ’¦ and produce the free algebra *in* ğ’¦.

Î˜(ğ’¦, ğ‘¨) := {Î¸ âˆˆ Con ğ‘¨ : ğ‘¨ / Î¸ âˆˆ (S ğ’¦)} &nbsp; &nbsp; and &nbsp; &nbsp; Ïˆ(ğ’¦, ğ‘¨) := â‹‚ Î˜(ğ’¦, ğ‘¨).

Notice that Î˜(ğ’¦, ğ‘¨) may be empty, in which case Ïˆ(ğ’¦, ğ‘¨) = 1 and then ğ‘¨ / Ïˆ(ğ’¦, ğ‘¨) is trivial.

The free algebra is constructed by applying the above definitions to the special case in which ğ‘¨ is the term algebra `ğ‘» X` of ğ‘†-terms over X.

Since `ğ‘» X` is free for (and in) the class ğ’œğ“â„Š(ğ‘†) of all ğ‘†-algebras, it follows that `ğ‘» X` is free for every subclass ğ’¦ of ğ’œğ“â„Š(ğ‘†). Of course, `ğ‘» X` is not necessarily a member of ğ’¦, but if we form the quotient of `ğ‘» X` modulo the congruence Ïˆ(ğ’¦, ğ‘» X), which we denote by `ğ”‰ = (ğ‘» X) / Ïˆ(ğ’¦, ğ‘» X)`, then it's not hard to see that ğ”‰ is a subdirect product of the algebras in `{(ğ‘» ğ‘‹) / Î¸}`, where Î¸ ranges over Î˜(ğ’¦, ğ‘» X), so ğ”‰ belongs to `S(P ğ’¦)`, and it follows that ğ”‰ satisfies all the identities satisfied by all members of ğ’¦.  Indeed, for each pair `p q : ğ‘» X`, if `ğ’¦ âŠ§ p â‰ˆ q`, then p and q must belong to the same Ïˆ(ğ’¦, ğ‘» X)-class, so p and q are identified in the quotient ğ”‰.

The ğ”‰ that we have just defined is called the **free algebra over** ğ’¦ **generated by** `X` and (because of what we just observed) we may say that ğ”‰ is free *in* `S(P ğ’¦)`.

-----------------------

### <a id="the-free-algebra-in-agda">The free algebra in Agda</a>

This section presents the [UALib.Birkhoff.FreeAlgebra][] module of the [Agda Universal Algebra Library][].  Here we represent ğ”‰ as a type in Agda by first constructing the congruence Ïˆ(ğ’¦, ğ‘» ğ‘‹) described above.

<pre class="Agda">

<a id="2162" class="Symbol">{-#</a> <a id="2166" class="Keyword">OPTIONS</a> <a id="2174" class="Pragma">--without-K</a> <a id="2186" class="Pragma">--exact-split</a> <a id="2200" class="Pragma">--safe</a> <a id="2207" class="Symbol">#-}</a>

<a id="2212" class="Keyword">open</a> <a id="2217" class="Keyword">import</a> <a id="2224" href="UALib.Algebras.html" class="Module">UALib.Algebras</a> <a id="2239" class="Keyword">using</a> <a id="2245" class="Symbol">(</a><a id="2246" href="UALib.Algebras.Signatures.html#1457" class="Function">Signature</a><a id="2255" class="Symbol">;</a> <a id="2257" href="universes.html#613" class="Generalizable">ğ“</a><a id="2258" class="Symbol">;</a> <a id="2260" href="universes.html#617" class="Generalizable">ğ“¥</a><a id="2261" class="Symbol">;</a> <a id="2263" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a><a id="2270" class="Symbol">;</a> <a id="2272" href="UALib.Algebras.Algebras.html#3579" class="Function Operator">_â† _</a><a id="2275" class="Symbol">)</a>
<a id="2277" class="Keyword">open</a> <a id="2282" class="Keyword">import</a> <a id="2289" href="UALib.Prelude.Preliminaries.html" class="Module">UALib.Prelude.Preliminaries</a> <a id="2317" class="Keyword">using</a> <a id="2323" class="Symbol">(</a><a id="2324" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="2338" class="Symbol">;</a> <a id="2340" href="universes.html#551" class="Postulate">Universe</a><a id="2348" class="Symbol">;</a> <a id="2350" href="universes.html#758" class="Function Operator">_Ì‡</a><a id="2352" class="Symbol">)</a>

<a id="2355" class="Keyword">module</a> <a id="2362" href="UALib.Birkhoff.FreeAlgebra.html" class="Module">UALib.Birkhoff.FreeAlgebra</a>
 <a id="2390" class="Symbol">{</a><a id="2391" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a> <a id="2393" class="Symbol">:</a> <a id="2395" href="UALib.Algebras.Signatures.html#1457" class="Function">Signature</a> <a id="2405" href="universes.html#613" class="Generalizable">ğ“</a> <a id="2407" href="universes.html#617" class="Generalizable">ğ“¥</a><a id="2408" class="Symbol">}{</a><a id="2410" href="UALib.Birkhoff.FreeAlgebra.html#2410" class="Bound">gfe</a> <a id="2414" class="Symbol">:</a> <a id="2416" href="MGS-Subsingleton-Theorems.html#3468" class="Function">global-dfunext</a><a id="2430" class="Symbol">}</a>
 <a id="2433" class="Symbol">{</a><a id="2434" href="UALib.Birkhoff.FreeAlgebra.html#2434" class="Bound">ğ•</a> <a id="2436" class="Symbol">:</a> <a id="2438" class="Symbol">{</a><a id="2439" href="UALib.Birkhoff.FreeAlgebra.html#2439" class="Bound">ğ“¤</a> <a id="2441" href="UALib.Birkhoff.FreeAlgebra.html#2441" class="Bound">ğ“§</a> <a id="2443" class="Symbol">:</a> <a id="2445" href="universes.html#551" class="Postulate">Universe</a><a id="2453" class="Symbol">}{</a><a id="2455" href="UALib.Birkhoff.FreeAlgebra.html#2455" class="Bound">X</a> <a id="2457" class="Symbol">:</a> <a id="2459" href="UALib.Birkhoff.FreeAlgebra.html#2441" class="Bound">ğ“§</a> <a id="2461" href="universes.html#758" class="Function Operator">Ì‡</a> <a id="2463" class="Symbol">}(</a><a id="2465" href="UALib.Birkhoff.FreeAlgebra.html#2465" class="Bound">ğ‘¨</a> <a id="2467" class="Symbol">:</a> <a id="2469" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a> <a id="2477" href="UALib.Birkhoff.FreeAlgebra.html#2439" class="Bound">ğ“¤</a> <a id="2479" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a><a id="2480" class="Symbol">)</a> <a id="2482" class="Symbol">â†’</a> <a id="2484" href="UALib.Birkhoff.FreeAlgebra.html#2455" class="Bound">X</a> <a id="2486" href="UALib.Algebras.Algebras.html#3579" class="Function Operator">â† </a> <a id="2488" href="UALib.Birkhoff.FreeAlgebra.html#2465" class="Bound">ğ‘¨</a><a id="2489" class="Symbol">}</a>
 <a id="2492" class="Keyword">where</a>

<a id="2499" class="Keyword">open</a> <a id="2504" class="Keyword">import</a> <a id="2511" href="UALib.Varieties.Preservation.html" class="Module">UALib.Varieties.Preservation</a> <a id="2540" class="Symbol">{</a><a id="2541" class="Argument">ğ‘†</a> <a id="2543" class="Symbol">=</a> <a id="2545" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a><a id="2546" class="Symbol">}{</a><a id="2548" href="UALib.Birkhoff.FreeAlgebra.html#2410" class="Bound">gfe</a><a id="2551" class="Symbol">}{</a><a id="2553" href="UALib.Birkhoff.FreeAlgebra.html#2434" class="Bound">ğ•</a><a id="2554" class="Symbol">}</a> <a id="2556" class="Keyword">public</a>

</pre>

We assume two ambient universes ğ“¤ and ğ“§, as well as a type `X : ğ“§ Ì‡`. As usual, this is accomplished with the `module` directive.

<pre class="Agda">

<a id="2721" class="Keyword">module</a> <a id="the-free-algebra"></a><a id="2728" href="UALib.Birkhoff.FreeAlgebra.html#2728" class="Module">the-free-algebra</a> <a id="2745" class="Symbol">{</a><a id="2746" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a> <a id="2748" href="UALib.Birkhoff.FreeAlgebra.html#2748" class="Bound">ğ“§</a> <a id="2750" class="Symbol">:</a> <a id="2752" href="universes.html#551" class="Postulate">Universe</a><a id="2760" class="Symbol">}{</a><a id="2762" href="UALib.Birkhoff.FreeAlgebra.html#2762" class="Bound">X</a> <a id="2764" class="Symbol">:</a> <a id="2766" href="UALib.Birkhoff.FreeAlgebra.html#2748" class="Bound">ğ“§</a> <a id="2768" href="universes.html#758" class="Function Operator">Ì‡</a><a id="2769" class="Symbol">}</a> <a id="2771" class="Keyword">where</a>

 <a id="2779" class="Comment">-- NOTATION (universe aliases for convenience and readability).</a>
 <a id="the-free-algebra.ğ“¸ğ“¿ğ“¾"></a><a id="2844" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="the-free-algebra.ğ“¸ğ“¿ğ“¾+"></a><a id="2848" href="UALib.Birkhoff.FreeAlgebra.html#2848" class="Function">ğ“¸ğ“¿ğ“¾+</a> <a id="the-free-algebra.ğ“¸ğ“¿ğ“¾++"></a><a id="2853" href="UALib.Birkhoff.FreeAlgebra.html#2853" class="Function">ğ“¸ğ“¿ğ“¾++</a> <a id="2859" class="Symbol">:</a> <a id="2861" href="universes.html#551" class="Postulate">Universe</a>
 <a id="2871" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="2875" class="Symbol">=</a> <a id="2877" href="UALib.Relations.Congruences.html#933" class="Function">ov</a> <a id="2880" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a>
 <a id="2883" href="UALib.Birkhoff.FreeAlgebra.html#2848" class="Function">ğ“¸ğ“¿ğ“¾+</a> <a id="2888" class="Symbol">=</a> <a id="2890" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="2894" href="universes.html#527" class="Function Operator">âº</a>
 <a id="2897" href="UALib.Birkhoff.FreeAlgebra.html#2853" class="Function">ğ“¸ğ“¿ğ“¾++</a> <a id="2903" class="Symbol">=</a> <a id="2905" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="2909" href="universes.html#527" class="Function Operator">âº</a> <a id="2911" href="universes.html#527" class="Function Operator">âº</a>
</pre>

One could define the collection `ğ‘»img` of all homomorphic images of the term algebra that belong to a given class ğ’¦ as follows.

<pre class="Agda">

 <a id="3069" class="Comment">-- H (ğ‘» X)  (hom images of ğ‘» X)</a>
 <a id="the-free-algebra.ğ‘»img"></a><a id="3102" href="UALib.Birkhoff.FreeAlgebra.html#3102" class="Function">ğ‘»img</a> <a id="3107" class="Symbol">:</a> <a id="3109" href="UALib.Relations.Unary.html#1082" class="Function">Pred</a> <a id="3114" class="Symbol">(</a><a id="3115" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a> <a id="3123" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a> <a id="3125" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a><a id="3126" class="Symbol">)</a> <a id="3128" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="3132" class="Symbol">â†’</a> <a id="3134" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a> <a id="3138" href="Agda.Primitive.html#636" class="Function Operator">âŠ”</a> <a id="3140" href="UALib.Birkhoff.FreeAlgebra.html#2748" class="Bound">ğ“§</a> <a id="3142" href="universes.html#527" class="Function Operator">âº</a> <a id="3144" href="universes.html#758" class="Function Operator">Ì‡</a>
 <a id="3147" href="UALib.Birkhoff.FreeAlgebra.html#3102" class="Function">ğ‘»img</a> <a id="3152" href="UALib.Birkhoff.FreeAlgebra.html#3152" class="Bound">ğ’¦</a> <a id="3154" class="Symbol">=</a> <a id="3156" href="MGS-MLTT.html#3074" class="Function">Î£</a> <a id="3158" href="UALib.Birkhoff.FreeAlgebra.html#3158" class="Bound">ğ‘¨</a> <a id="3160" href="MGS-MLTT.html#3074" class="Function">ê‰</a> <a id="3162" class="Symbol">(</a><a id="3163" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a> <a id="3171" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a> <a id="3173" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a><a id="3174" class="Symbol">)</a> <a id="3176" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="3178" href="MGS-MLTT.html#3074" class="Function">Î£</a> <a id="3180" href="UALib.Birkhoff.FreeAlgebra.html#3180" class="Bound">Ï•</a> <a id="3182" href="MGS-MLTT.html#3074" class="Function">ê‰</a> <a id="3184" href="UALib.Homomorphisms.Basic.html#2062" class="Function">hom</a> <a id="3188" class="Symbol">(</a><a id="3189" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="3191" href="UALib.Birkhoff.FreeAlgebra.html#2762" class="Bound">X</a><a id="3192" class="Symbol">)</a> <a id="3194" href="UALib.Birkhoff.FreeAlgebra.html#3158" class="Bound">ğ‘¨</a> <a id="3196" href="MGS-MLTT.html#3074" class="Function">,</a> <a id="3198" class="Symbol">(</a><a id="3199" href="UALib.Birkhoff.FreeAlgebra.html#3158" class="Bound">ğ‘¨</a> <a id="3201" href="UALib.Relations.Unary.html#2719" class="Function Operator">âˆˆ</a> <a id="3203" href="UALib.Birkhoff.FreeAlgebra.html#3152" class="Bound">ğ’¦</a><a id="3204" class="Symbol">)</a> <a id="3206" href="MGS-MLTT.html#3515" class="Function Operator">Ã—</a> <a id="3208" href="UALib.Prelude.Inverses.html#2388" class="Function">Epic</a> <a id="3213" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="3215" href="UALib.Birkhoff.FreeAlgebra.html#3180" class="Bound">Ï•</a> <a id="3217" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a>

</pre>

The inhabitants of this Sigma type represent algebras ğ‘¨ âˆˆ ğ’¦ such that there exists a surjective homomorphism Ï• : hom (ğ‘» X) ğ‘¨. Thus, ğ‘»img represents the collection of all homomorphic images of ğ‘» X that belong to ğ’¦.  Of course, this is the entire class ğ’¦, since the term algebra is absolutely free. Nonetheless, this representation of ğ’¦ is useful since it endows each element with extra information.  Indeed, each inhabitant of ğ‘»img ğ’¦ is a quadruple, (ğ‘¨ , Ï• , ka, p), where ğ‘¨ is an ğ‘†-algebra, Ï• is a homomorphism from ğ‘» X to ğ‘¨, ka is a proof that ğ‘¨ belongs to ğ’¦, and p is a proof that the underlying map âˆ£ Ï• âˆ£ is epic.

The next function, `mkti`, that takes an arbitrary algebra ğ‘¨ in ğ’¦ and returns the corresponding quadruple in `ğ‘»img ğ’¦`.

<pre class="Agda">

 <a id="the-free-algebra.mkti"></a><a id="3985" href="UALib.Birkhoff.FreeAlgebra.html#3985" class="Function">mkti</a> <a id="3990" class="Symbol">:</a> <a id="3992" class="Symbol">{</a><a id="3993" href="UALib.Birkhoff.FreeAlgebra.html#3993" class="Bound">ğ’¦</a> <a id="3995" class="Symbol">:</a> <a id="3997" href="UALib.Relations.Unary.html#1082" class="Function">Pred</a> <a id="4002" class="Symbol">(</a><a id="4003" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a> <a id="4011" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a> <a id="4013" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a><a id="4014" class="Symbol">)</a><a id="4015" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="4018" class="Symbol">}(</a><a id="4020" href="UALib.Birkhoff.FreeAlgebra.html#4020" class="Bound">ğ‘¨</a> <a id="4022" class="Symbol">:</a> <a id="4024" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a> <a id="4032" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a> <a id="4034" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a><a id="4035" class="Symbol">)</a> <a id="4037" class="Symbol">â†’</a> <a id="4039" href="UALib.Birkhoff.FreeAlgebra.html#4020" class="Bound">ğ‘¨</a> <a id="4041" href="UALib.Relations.Unary.html#2719" class="Function Operator">âˆˆ</a> <a id="4043" href="UALib.Birkhoff.FreeAlgebra.html#3993" class="Bound">ğ’¦</a> <a id="4045" class="Symbol">â†’</a> <a id="4047" href="UALib.Birkhoff.FreeAlgebra.html#3102" class="Function">ğ‘»img</a> <a id="4052" href="UALib.Birkhoff.FreeAlgebra.html#3993" class="Bound">ğ’¦</a>
 <a id="4055" href="UALib.Birkhoff.FreeAlgebra.html#3985" class="Function">mkti</a> <a id="4060" href="UALib.Birkhoff.FreeAlgebra.html#4060" class="Bound">ğ‘¨</a> <a id="4062" href="UALib.Birkhoff.FreeAlgebra.html#4062" class="Bound">ka</a> <a id="4065" class="Symbol">=</a> <a id="4067" class="Symbol">(</a><a id="4068" href="UALib.Birkhoff.FreeAlgebra.html#4060" class="Bound">ğ‘¨</a> <a id="4070" href="UALib.Prelude.Preliminaries.html#5763" class="InductiveConstructor Operator">,</a> <a id="4072" href="UALib.Terms.Free.html#1757" class="Function">lift-hom</a> <a id="4081" href="UALib.Birkhoff.FreeAlgebra.html#4060" class="Bound">ğ‘¨</a> <a id="4083" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="4085" href="UALib.Birkhoff.FreeAlgebra.html#2434" class="Bound">ğ•</a> <a id="4087" href="UALib.Birkhoff.FreeAlgebra.html#4060" class="Bound">ğ‘¨</a> <a id="4089" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="4091" href="UALib.Prelude.Preliminaries.html#5763" class="InductiveConstructor Operator">,</a> <a id="4093" href="UALib.Birkhoff.FreeAlgebra.html#4062" class="Bound">ka</a> <a id="4096" href="UALib.Prelude.Preliminaries.html#5763" class="InductiveConstructor Operator">,</a> <a id="4098" href="UALib.Terms.Free.html#3055" class="Function">lift-of-epi-is-epi</a> <a id="4117" href="UALib.Birkhoff.FreeAlgebra.html#4060" class="Bound">ğ‘¨</a> <a id="4119" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="4121" href="UALib.Birkhoff.FreeAlgebra.html#2434" class="Bound">ğ•</a> <a id="4123" href="UALib.Birkhoff.FreeAlgebra.html#4060" class="Bound">ğ‘¨</a> <a id="4125" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="4127" href="UALib.Prelude.Preliminaries.html#10452" class="Function Operator">âˆ¥</a> <a id="4129" href="UALib.Birkhoff.FreeAlgebra.html#2434" class="Bound">ğ•</a> <a id="4131" href="UALib.Birkhoff.FreeAlgebra.html#4060" class="Bound">ğ‘¨</a> <a id="4133" href="UALib.Prelude.Preliminaries.html#10452" class="Function Operator">âˆ¥</a><a id="4134" class="Symbol">)</a>

</pre>

We now construct the congruence relation `ÏˆCon`, modulo which `ğ‘» X` will yield the relatively free algebra, `ğ”‰ ğ’¦ X := ğ‘» X â•± ÏˆCon`. We start by letting Ïˆ be the collection of all identities (p, q) satisfied by all subalgebras of algebras in ğ’¦.

<pre class="Agda">

 <a id="the-free-algebra.Ïˆ"></a><a id="4408" href="UALib.Birkhoff.FreeAlgebra.html#4408" class="Function">Ïˆ</a> <a id="4410" class="Symbol">:</a> <a id="4412" class="Symbol">(</a><a id="4413" href="UALib.Birkhoff.FreeAlgebra.html#4413" class="Bound">ğ’¦</a> <a id="4415" class="Symbol">:</a> <a id="4417" href="UALib.Relations.Unary.html#1082" class="Function">Pred</a> <a id="4422" class="Symbol">(</a><a id="4423" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a> <a id="4431" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a> <a id="4433" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a><a id="4434" class="Symbol">)</a> <a id="4436" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="4439" class="Symbol">)</a> <a id="4441" class="Symbol">â†’</a> <a id="4443" href="UALib.Relations.Unary.html#1082" class="Function">Pred</a> <a id="4448" class="Symbol">(</a><a id="4449" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="4451" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="4453" href="UALib.Birkhoff.FreeAlgebra.html#2762" class="Bound">X</a> <a id="4455" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="4457" href="MGS-MLTT.html#3515" class="Function Operator">Ã—</a> <a id="4459" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="4461" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="4463" href="UALib.Birkhoff.FreeAlgebra.html#2762" class="Bound">X</a> <a id="4465" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a><a id="4466" class="Symbol">)</a> <a id="4468" class="Symbol">(</a><a id="4469" href="UALib.Birkhoff.FreeAlgebra.html#2748" class="Bound">ğ“§</a> <a id="4471" href="Agda.Primitive.html#636" class="Function Operator">âŠ”</a> <a id="4473" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="4476" class="Symbol">)</a>
 <a id="4479" href="UALib.Birkhoff.FreeAlgebra.html#4408" class="Function">Ïˆ</a> <a id="4481" href="UALib.Birkhoff.FreeAlgebra.html#4481" class="Bound">ğ’¦</a> <a id="4483" class="Symbol">(</a><a id="4484" href="UALib.Birkhoff.FreeAlgebra.html#4484" class="Bound">p</a> <a id="4486" href="UALib.Prelude.Preliminaries.html#5763" class="InductiveConstructor Operator">,</a> <a id="4488" href="UALib.Birkhoff.FreeAlgebra.html#4488" class="Bound">q</a><a id="4489" class="Symbol">)</a> <a id="4491" class="Symbol">=</a> <a id="4493" class="Symbol">âˆ€(</a><a id="4495" href="UALib.Birkhoff.FreeAlgebra.html#4495" class="Bound">ğ‘¨</a> <a id="4497" class="Symbol">:</a> <a id="4499" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a> <a id="4507" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a> <a id="4509" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a><a id="4510" class="Symbol">)(</a><a id="4512" href="UALib.Birkhoff.FreeAlgebra.html#4512" class="Bound">sA</a> <a id="4515" class="Symbol">:</a> <a id="4517" href="UALib.Birkhoff.FreeAlgebra.html#4495" class="Bound">ğ‘¨</a> <a id="4519" href="UALib.Relations.Unary.html#2719" class="Function Operator">âˆˆ</a> <a id="4521" href="UALib.Varieties.Varieties.html#3089" class="Datatype">S</a><a id="4522" class="Symbol">{</a><a id="4523" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a><a id="4524" class="Symbol">}{</a><a id="4526" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a><a id="4527" class="Symbol">}</a> <a id="4529" href="UALib.Birkhoff.FreeAlgebra.html#4481" class="Bound">ğ’¦</a><a id="4530" class="Symbol">)(</a><a id="4532" href="UALib.Birkhoff.FreeAlgebra.html#4532" class="Bound">h</a> <a id="4534" class="Symbol">:</a> <a id="4536" href="UALib.Birkhoff.FreeAlgebra.html#2762" class="Bound">X</a> <a id="4538" class="Symbol">â†’</a> <a id="4540" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="4542" href="UALib.Birkhoff.FreeAlgebra.html#4495" class="Bound">ğ‘¨</a> <a id="4544" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="4546" class="Symbol">)</a>
                 <a id="4565" class="Symbol">â†’</a>  <a id="4568" class="Symbol">(</a><a id="4569" href="UALib.Terms.Free.html#1515" class="Function">free-lift</a> <a id="4579" href="UALib.Birkhoff.FreeAlgebra.html#4495" class="Bound">ğ‘¨</a> <a id="4581" href="UALib.Birkhoff.FreeAlgebra.html#4532" class="Bound">h</a><a id="4582" class="Symbol">)</a> <a id="4584" href="UALib.Birkhoff.FreeAlgebra.html#4484" class="Bound">p</a> <a id="4586" href="UALib.Prelude.Preliminaries.html#5654" class="Datatype Operator">â‰¡</a> <a id="4588" class="Symbol">(</a><a id="4589" href="UALib.Terms.Free.html#1515" class="Function">free-lift</a> <a id="4599" href="UALib.Birkhoff.FreeAlgebra.html#4495" class="Bound">ğ‘¨</a> <a id="4601" href="UALib.Birkhoff.FreeAlgebra.html#4532" class="Bound">h</a><a id="4602" class="Symbol">)</a> <a id="4604" href="UALib.Birkhoff.FreeAlgebra.html#4488" class="Bound">q</a>

</pre>

We convert the predicate Ïˆ into a relation by [currying](https://en.wikipedia.org/wiki/Currying).

<pre class="Agda">

 <a id="the-free-algebra.ÏˆRel"></a><a id="4733" href="UALib.Birkhoff.FreeAlgebra.html#4733" class="Function">ÏˆRel</a> <a id="4738" class="Symbol">:</a> <a id="4740" class="Symbol">(</a><a id="4741" href="UALib.Birkhoff.FreeAlgebra.html#4741" class="Bound">ğ’¦</a> <a id="4743" class="Symbol">:</a> <a id="4745" href="UALib.Relations.Unary.html#1082" class="Function">Pred</a> <a id="4750" class="Symbol">(</a><a id="4751" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a> <a id="4759" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a> <a id="4761" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a><a id="4762" class="Symbol">)</a> <a id="4764" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="4767" class="Symbol">)</a> <a id="4769" class="Symbol">â†’</a> <a id="4771" href="UALib.Relations.Binary.html#1507" class="Function">Rel</a> <a id="4775" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="4777" class="Symbol">(</a><a id="4778" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="4780" href="UALib.Birkhoff.FreeAlgebra.html#2762" class="Bound">X</a><a id="4781" class="Symbol">)</a> <a id="4783" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="4785" class="Symbol">(</a><a id="4786" href="UALib.Birkhoff.FreeAlgebra.html#2748" class="Bound">ğ“§</a> <a id="4788" href="Agda.Primitive.html#636" class="Function Operator">âŠ”</a> <a id="4790" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="4793" class="Symbol">)</a>
 <a id="4796" href="UALib.Birkhoff.FreeAlgebra.html#4733" class="Function">ÏˆRel</a> <a id="4801" href="UALib.Birkhoff.FreeAlgebra.html#4801" class="Bound">ğ’¦</a> <a id="4803" href="UALib.Birkhoff.FreeAlgebra.html#4803" class="Bound">p</a> <a id="4805" href="UALib.Birkhoff.FreeAlgebra.html#4805" class="Bound">q</a> <a id="4807" class="Symbol">=</a> <a id="4809" href="UALib.Birkhoff.FreeAlgebra.html#4408" class="Function">Ïˆ</a> <a id="4811" href="UALib.Birkhoff.FreeAlgebra.html#4801" class="Bound">ğ’¦</a> <a id="4813" class="Symbol">(</a><a id="4814" href="UALib.Birkhoff.FreeAlgebra.html#4803" class="Bound">p</a> <a id="4816" href="UALib.Prelude.Preliminaries.html#5763" class="InductiveConstructor Operator">,</a> <a id="4818" href="UALib.Birkhoff.FreeAlgebra.html#4805" class="Bound">q</a><a id="4819" class="Symbol">)</a>

</pre>

To express `ÏˆRel` as a congruence of the term algebra `ğ‘» X`, we must prove that

1. `ÏˆRel` is compatible with the operations of `ğ‘» X` (which are jsut the terms themselves) and
2. `ÏˆRel` it is an equivalence relation.

<pre class="Agda">

 <a id="the-free-algebra.Ïˆcompatible"></a><a id="5067" href="UALib.Birkhoff.FreeAlgebra.html#5067" class="Function">Ïˆcompatible</a> <a id="5079" class="Symbol">:</a> <a id="5081" class="Symbol">(</a><a id="5082" href="UALib.Birkhoff.FreeAlgebra.html#5082" class="Bound">ğ’¦</a> <a id="5084" class="Symbol">:</a> <a id="5086" href="UALib.Relations.Unary.html#1082" class="Function">Pred</a> <a id="5091" class="Symbol">(</a><a id="5092" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a> <a id="5100" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a> <a id="5102" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a><a id="5103" class="Symbol">)</a> <a id="5105" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="5108" class="Symbol">)</a> <a id="5110" class="Symbol">â†’</a> <a id="5112" href="UALib.Relations.Quotients.html#6644" class="Function">compatible</a> <a id="5123" class="Symbol">(</a><a id="5124" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="5126" href="UALib.Birkhoff.FreeAlgebra.html#2762" class="Bound">X</a><a id="5127" class="Symbol">)(</a><a id="5129" href="UALib.Birkhoff.FreeAlgebra.html#4733" class="Function">ÏˆRel</a> <a id="5134" href="UALib.Birkhoff.FreeAlgebra.html#5082" class="Bound">ğ’¦</a><a id="5135" class="Symbol">)</a>
 <a id="5138" href="UALib.Birkhoff.FreeAlgebra.html#5067" class="Function">Ïˆcompatible</a> <a id="5150" href="UALib.Birkhoff.FreeAlgebra.html#5150" class="Bound">ğ’¦</a> <a id="5152" href="UALib.Birkhoff.FreeAlgebra.html#5152" class="Bound">f</a> <a id="5154" class="Symbol">{</a><a id="5155" href="UALib.Birkhoff.FreeAlgebra.html#5155" class="Bound">i</a><a id="5156" class="Symbol">}</a> <a id="5158" class="Symbol">{</a><a id="5159" href="UALib.Birkhoff.FreeAlgebra.html#5159" class="Bound">j</a><a id="5160" class="Symbol">}</a> <a id="5162" href="UALib.Birkhoff.FreeAlgebra.html#5162" class="Bound">iÏˆj</a> <a id="5166" href="UALib.Birkhoff.FreeAlgebra.html#5166" class="Bound">ğ‘¨</a> <a id="5168" href="UALib.Birkhoff.FreeAlgebra.html#5168" class="Bound">sA</a> <a id="5171" href="UALib.Birkhoff.FreeAlgebra.html#5171" class="Bound">h</a> <a id="5173" class="Symbol">=</a> <a id="5175" href="UALib.Birkhoff.FreeAlgebra.html#5228" class="Function">Î³</a>
  <a id="5179" class="Keyword">where</a>
   <a id="5188" href="UALib.Birkhoff.FreeAlgebra.html#5188" class="Function">Ï•</a> <a id="5190" class="Symbol">:</a> <a id="5192" href="UALib.Homomorphisms.Basic.html#2062" class="Function">hom</a> <a id="5196" class="Symbol">(</a><a id="5197" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="5199" href="UALib.Birkhoff.FreeAlgebra.html#2762" class="Bound">X</a><a id="5200" class="Symbol">)</a> <a id="5202" href="UALib.Birkhoff.FreeAlgebra.html#5166" class="Bound">ğ‘¨</a>
   <a id="5207" href="UALib.Birkhoff.FreeAlgebra.html#5188" class="Function">Ï•</a> <a id="5209" class="Symbol">=</a> <a id="5211" href="UALib.Terms.Free.html#1757" class="Function">lift-hom</a> <a id="5220" href="UALib.Birkhoff.FreeAlgebra.html#5166" class="Bound">ğ‘¨</a> <a id="5222" href="UALib.Birkhoff.FreeAlgebra.html#5171" class="Bound">h</a>

   <a id="5228" href="UALib.Birkhoff.FreeAlgebra.html#5228" class="Function">Î³</a> <a id="5230" class="Symbol">:</a> <a id="5232" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="5234" href="UALib.Birkhoff.FreeAlgebra.html#5188" class="Function">Ï•</a> <a id="5236" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="5238" class="Symbol">((</a><a id="5240" href="UALib.Birkhoff.FreeAlgebra.html#5152" class="Bound">f</a> <a id="5242" href="UALib.Algebras.Algebras.html#3080" class="Function Operator">Ì‚</a> <a id="5244" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="5246" href="UALib.Birkhoff.FreeAlgebra.html#2762" class="Bound">X</a><a id="5247" class="Symbol">)</a> <a id="5249" href="UALib.Birkhoff.FreeAlgebra.html#5155" class="Bound">i</a><a id="5250" class="Symbol">)</a> <a id="5252" href="UALib.Prelude.Preliminaries.html#5654" class="Datatype Operator">â‰¡</a> <a id="5254" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="5256" href="UALib.Birkhoff.FreeAlgebra.html#5188" class="Function">Ï•</a> <a id="5258" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="5260" class="Symbol">((</a><a id="5262" href="UALib.Birkhoff.FreeAlgebra.html#5152" class="Bound">f</a> <a id="5264" href="UALib.Algebras.Algebras.html#3080" class="Function Operator">Ì‚</a> <a id="5266" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="5268" href="UALib.Birkhoff.FreeAlgebra.html#2762" class="Bound">X</a><a id="5269" class="Symbol">)</a> <a id="5271" href="UALib.Birkhoff.FreeAlgebra.html#5159" class="Bound">j</a><a id="5272" class="Symbol">)</a>
   <a id="5277" href="UALib.Birkhoff.FreeAlgebra.html#5228" class="Function">Î³</a> <a id="5279" class="Symbol">=</a> <a id="5281" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="5283" href="UALib.Birkhoff.FreeAlgebra.html#5188" class="Function">Ï•</a> <a id="5285" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="5287" class="Symbol">((</a><a id="5289" href="UALib.Birkhoff.FreeAlgebra.html#5152" class="Bound">f</a> <a id="5291" href="UALib.Algebras.Algebras.html#3080" class="Function Operator">Ì‚</a> <a id="5293" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="5295" href="UALib.Birkhoff.FreeAlgebra.html#2762" class="Bound">X</a><a id="5296" class="Symbol">)</a> <a id="5298" href="UALib.Birkhoff.FreeAlgebra.html#5155" class="Bound">i</a><a id="5299" class="Symbol">)</a> <a id="5301" href="MGS-MLTT.html#5997" class="Function Operator">â‰¡âŸ¨</a> <a id="5304" href="UALib.Prelude.Preliminaries.html#10452" class="Function Operator">âˆ¥</a> <a id="5306" href="UALib.Birkhoff.FreeAlgebra.html#5188" class="Function">Ï•</a> <a id="5308" href="UALib.Prelude.Preliminaries.html#10452" class="Function Operator">âˆ¥</a> <a id="5310" href="UALib.Birkhoff.FreeAlgebra.html#5152" class="Bound">f</a> <a id="5312" href="UALib.Birkhoff.FreeAlgebra.html#5155" class="Bound">i</a> <a id="5314" href="MGS-MLTT.html#5997" class="Function Operator">âŸ©</a>
       <a id="5323" class="Symbol">(</a><a id="5324" href="UALib.Birkhoff.FreeAlgebra.html#5152" class="Bound">f</a> <a id="5326" href="UALib.Algebras.Algebras.html#3080" class="Function Operator">Ì‚</a> <a id="5328" href="UALib.Birkhoff.FreeAlgebra.html#5166" class="Bound">ğ‘¨</a><a id="5329" class="Symbol">)</a> <a id="5331" class="Symbol">(</a><a id="5332" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="5334" href="UALib.Birkhoff.FreeAlgebra.html#5188" class="Function">Ï•</a> <a id="5336" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="5338" href="MGS-MLTT.html#3813" class="Function Operator">âˆ˜</a> <a id="5340" href="UALib.Birkhoff.FreeAlgebra.html#5155" class="Bound">i</a><a id="5341" class="Symbol">)</a> <a id="5343" href="MGS-MLTT.html#5997" class="Function Operator">â‰¡âŸ¨</a> <a id="5346" href="MGS-MLTT.html#6613" class="Function">ap</a> <a id="5349" class="Symbol">(</a><a id="5350" href="UALib.Birkhoff.FreeAlgebra.html#5152" class="Bound">f</a> <a id="5352" href="UALib.Algebras.Algebras.html#3080" class="Function Operator">Ì‚</a> <a id="5354" href="UALib.Birkhoff.FreeAlgebra.html#5166" class="Bound">ğ‘¨</a><a id="5355" class="Symbol">)</a> <a id="5357" class="Symbol">(</a><a id="5358" href="UALib.Birkhoff.FreeAlgebra.html#2410" class="Bound">gfe</a> <a id="5362" class="Symbol">Î»</a> <a id="5364" href="UALib.Birkhoff.FreeAlgebra.html#5364" class="Bound">x</a> <a id="5366" class="Symbol">â†’</a> <a id="5368" class="Symbol">((</a><a id="5370" href="UALib.Birkhoff.FreeAlgebra.html#5162" class="Bound">iÏˆj</a> <a id="5374" href="UALib.Birkhoff.FreeAlgebra.html#5364" class="Bound">x</a><a id="5375" class="Symbol">)</a> <a id="5377" href="UALib.Birkhoff.FreeAlgebra.html#5166" class="Bound">ğ‘¨</a> <a id="5379" href="UALib.Birkhoff.FreeAlgebra.html#5168" class="Bound">sA</a> <a id="5382" href="UALib.Birkhoff.FreeAlgebra.html#5171" class="Bound">h</a><a id="5383" class="Symbol">))</a> <a id="5386" href="MGS-MLTT.html#5997" class="Function Operator">âŸ©</a>
       <a id="5395" class="Symbol">(</a><a id="5396" href="UALib.Birkhoff.FreeAlgebra.html#5152" class="Bound">f</a> <a id="5398" href="UALib.Algebras.Algebras.html#3080" class="Function Operator">Ì‚</a> <a id="5400" href="UALib.Birkhoff.FreeAlgebra.html#5166" class="Bound">ğ‘¨</a><a id="5401" class="Symbol">)</a> <a id="5403" class="Symbol">(</a><a id="5404" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="5406" href="UALib.Birkhoff.FreeAlgebra.html#5188" class="Function">Ï•</a> <a id="5408" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="5410" href="MGS-MLTT.html#3813" class="Function Operator">âˆ˜</a> <a id="5412" href="UALib.Birkhoff.FreeAlgebra.html#5159" class="Bound">j</a><a id="5413" class="Symbol">)</a> <a id="5415" href="MGS-MLTT.html#5997" class="Function Operator">â‰¡âŸ¨</a> <a id="5418" class="Symbol">(</a><a id="5419" href="UALib.Prelude.Preliminaries.html#10452" class="Function Operator">âˆ¥</a> <a id="5421" href="UALib.Birkhoff.FreeAlgebra.html#5188" class="Function">Ï•</a> <a id="5423" href="UALib.Prelude.Preliminaries.html#10452" class="Function Operator">âˆ¥</a> <a id="5425" href="UALib.Birkhoff.FreeAlgebra.html#5152" class="Bound">f</a> <a id="5427" href="UALib.Birkhoff.FreeAlgebra.html#5159" class="Bound">j</a><a id="5428" class="Symbol">)</a><a id="5429" href="MGS-MLTT.html#6125" class="Function Operator">â»Â¹</a> <a id="5432" href="MGS-MLTT.html#5997" class="Function Operator">âŸ©</a>
       <a id="5441" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="5443" href="UALib.Birkhoff.FreeAlgebra.html#5188" class="Function">Ï•</a> <a id="5445" href="UALib.Prelude.Preliminaries.html#10371" class="Function Operator">âˆ£</a> <a id="5447" class="Symbol">((</a><a id="5449" href="UALib.Birkhoff.FreeAlgebra.html#5152" class="Bound">f</a> <a id="5451" href="UALib.Algebras.Algebras.html#3080" class="Function Operator">Ì‚</a> <a id="5453" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="5455" href="UALib.Birkhoff.FreeAlgebra.html#2762" class="Bound">X</a><a id="5456" class="Symbol">)</a> <a id="5458" href="UALib.Birkhoff.FreeAlgebra.html#5159" class="Bound">j</a><a id="5459" class="Symbol">)</a> <a id="5461" href="MGS-MLTT.html#6079" class="Function Operator">âˆ</a>

 <a id="the-free-algebra.ÏˆRefl"></a><a id="5465" href="UALib.Birkhoff.FreeAlgebra.html#5465" class="Function">ÏˆRefl</a> <a id="5471" class="Symbol">:</a> <a id="5473" class="Symbol">{</a><a id="5474" href="UALib.Birkhoff.FreeAlgebra.html#5474" class="Bound">ğ’¦</a> <a id="5476" class="Symbol">:</a> <a id="5478" href="UALib.Relations.Unary.html#1082" class="Function">Pred</a> <a id="5483" class="Symbol">(</a><a id="5484" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a> <a id="5492" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a> <a id="5494" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a><a id="5495" class="Symbol">)</a> <a id="5497" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="5500" class="Symbol">}</a> <a id="5502" class="Symbol">â†’</a> <a id="5504" href="UALib.Relations.Binary.html#2587" class="Function">reflexive</a> <a id="5514" class="Symbol">(</a><a id="5515" href="UALib.Birkhoff.FreeAlgebra.html#4733" class="Function">ÏˆRel</a> <a id="5520" href="UALib.Birkhoff.FreeAlgebra.html#5474" class="Bound">ğ’¦</a><a id="5521" class="Symbol">)</a>
 <a id="5524" href="UALib.Birkhoff.FreeAlgebra.html#5465" class="Function">ÏˆRefl</a> <a id="5530" class="Symbol">=</a> <a id="5532" class="Symbol">Î»</a> <a id="5534" href="UALib.Birkhoff.FreeAlgebra.html#5534" class="Bound">x</a> <a id="5536" href="UALib.Birkhoff.FreeAlgebra.html#5536" class="Bound">ğ‘ª</a> <a id="5538" href="UALib.Birkhoff.FreeAlgebra.html#5538" class="Bound">Ï•</a> <a id="5540" href="UALib.Birkhoff.FreeAlgebra.html#5540" class="Bound">h</a> <a id="5542" class="Symbol">â†’</a> <a id="5544" href="UALib.Prelude.Preliminaries.html#5668" class="InductiveConstructor">ğ“‡â„¯ğ’»ğ“</a>

 <a id="the-free-algebra.ÏˆSymm"></a><a id="5551" href="UALib.Birkhoff.FreeAlgebra.html#5551" class="Function">ÏˆSymm</a> <a id="5557" class="Symbol">:</a> <a id="5559" class="Symbol">{</a><a id="5560" href="UALib.Birkhoff.FreeAlgebra.html#5560" class="Bound">ğ’¦</a> <a id="5562" class="Symbol">:</a> <a id="5564" href="UALib.Relations.Unary.html#1082" class="Function">Pred</a> <a id="5569" class="Symbol">(</a><a id="5570" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a> <a id="5578" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a> <a id="5580" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a><a id="5581" class="Symbol">)</a> <a id="5583" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="5586" class="Symbol">}</a> <a id="5588" class="Symbol">â†’</a> <a id="5590" href="UALib.Relations.Binary.html#2675" class="Function">symmetric</a> <a id="5600" class="Symbol">(</a><a id="5601" href="UALib.Birkhoff.FreeAlgebra.html#4733" class="Function">ÏˆRel</a> <a id="5606" href="UALib.Birkhoff.FreeAlgebra.html#5560" class="Bound">ğ’¦</a><a id="5607" class="Symbol">)</a>
 <a id="5610" href="UALib.Birkhoff.FreeAlgebra.html#5551" class="Function">ÏˆSymm</a> <a id="5616" href="UALib.Birkhoff.FreeAlgebra.html#5616" class="Bound">p</a> <a id="5618" href="UALib.Birkhoff.FreeAlgebra.html#5618" class="Bound">q</a> <a id="5620" href="UALib.Birkhoff.FreeAlgebra.html#5620" class="Bound">pÏˆRelq</a> <a id="5627" href="UALib.Birkhoff.FreeAlgebra.html#5627" class="Bound">ğ‘ª</a> <a id="5629" href="UALib.Birkhoff.FreeAlgebra.html#5629" class="Bound">Ï•</a> <a id="5631" href="UALib.Birkhoff.FreeAlgebra.html#5631" class="Bound">h</a> <a id="5633" class="Symbol">=</a> <a id="5635" class="Symbol">(</a><a id="5636" href="UALib.Birkhoff.FreeAlgebra.html#5620" class="Bound">pÏˆRelq</a> <a id="5643" href="UALib.Birkhoff.FreeAlgebra.html#5627" class="Bound">ğ‘ª</a> <a id="5645" href="UALib.Birkhoff.FreeAlgebra.html#5629" class="Bound">Ï•</a> <a id="5647" href="UALib.Birkhoff.FreeAlgebra.html#5631" class="Bound">h</a><a id="5648" class="Symbol">)</a><a id="5649" href="MGS-MLTT.html#6125" class="Function Operator">â»Â¹</a>

 <a id="the-free-algebra.ÏˆTrans"></a><a id="5654" href="UALib.Birkhoff.FreeAlgebra.html#5654" class="Function">ÏˆTrans</a> <a id="5661" class="Symbol">:</a> <a id="5663" class="Symbol">{</a><a id="5664" href="UALib.Birkhoff.FreeAlgebra.html#5664" class="Bound">ğ’¦</a> <a id="5666" class="Symbol">:</a> <a id="5668" href="UALib.Relations.Unary.html#1082" class="Function">Pred</a> <a id="5673" class="Symbol">(</a><a id="5674" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a> <a id="5682" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a> <a id="5684" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a><a id="5685" class="Symbol">)</a> <a id="5687" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="5690" class="Symbol">}</a> <a id="5692" class="Symbol">â†’</a> <a id="5694" href="UALib.Relations.Binary.html#2773" class="Function">transitive</a> <a id="5705" class="Symbol">(</a><a id="5706" href="UALib.Birkhoff.FreeAlgebra.html#4733" class="Function">ÏˆRel</a> <a id="5711" href="UALib.Birkhoff.FreeAlgebra.html#5664" class="Bound">ğ’¦</a><a id="5712" class="Symbol">)</a>
 <a id="5715" href="UALib.Birkhoff.FreeAlgebra.html#5654" class="Function">ÏˆTrans</a> <a id="5722" href="UALib.Birkhoff.FreeAlgebra.html#5722" class="Bound">p</a> <a id="5724" href="UALib.Birkhoff.FreeAlgebra.html#5724" class="Bound">q</a> <a id="5726" href="UALib.Birkhoff.FreeAlgebra.html#5726" class="Bound">r</a> <a id="5728" href="UALib.Birkhoff.FreeAlgebra.html#5728" class="Bound">pÏˆq</a> <a id="5732" href="UALib.Birkhoff.FreeAlgebra.html#5732" class="Bound">qÏˆr</a> <a id="5736" href="UALib.Birkhoff.FreeAlgebra.html#5736" class="Bound">ğ‘ª</a> <a id="5738" href="UALib.Birkhoff.FreeAlgebra.html#5738" class="Bound">Ï•</a> <a id="5740" href="UALib.Birkhoff.FreeAlgebra.html#5740" class="Bound">h</a> <a id="5742" class="Symbol">=</a> <a id="5744" class="Symbol">(</a><a id="5745" href="UALib.Birkhoff.FreeAlgebra.html#5728" class="Bound">pÏˆq</a> <a id="5749" href="UALib.Birkhoff.FreeAlgebra.html#5736" class="Bound">ğ‘ª</a> <a id="5751" href="UALib.Birkhoff.FreeAlgebra.html#5738" class="Bound">Ï•</a> <a id="5753" href="UALib.Birkhoff.FreeAlgebra.html#5740" class="Bound">h</a><a id="5754" class="Symbol">)</a> <a id="5756" href="MGS-MLTT.html#5910" class="Function Operator">âˆ™</a> <a id="5758" class="Symbol">(</a><a id="5759" href="UALib.Birkhoff.FreeAlgebra.html#5732" class="Bound">qÏˆr</a> <a id="5763" href="UALib.Birkhoff.FreeAlgebra.html#5736" class="Bound">ğ‘ª</a> <a id="5765" href="UALib.Birkhoff.FreeAlgebra.html#5738" class="Bound">Ï•</a> <a id="5767" href="UALib.Birkhoff.FreeAlgebra.html#5740" class="Bound">h</a><a id="5768" class="Symbol">)</a>

 <a id="the-free-algebra.ÏˆIsEquivalence"></a><a id="5772" href="UALib.Birkhoff.FreeAlgebra.html#5772" class="Function">ÏˆIsEquivalence</a> <a id="5787" class="Symbol">:</a> <a id="5789" class="Symbol">{</a><a id="5790" href="UALib.Birkhoff.FreeAlgebra.html#5790" class="Bound">ğ’¦</a> <a id="5792" class="Symbol">:</a> <a id="5794" href="UALib.Relations.Unary.html#1082" class="Function">Pred</a> <a id="5799" class="Symbol">(</a><a id="5800" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a> <a id="5808" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a> <a id="5810" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a><a id="5811" class="Symbol">)</a> <a id="5813" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="5816" class="Symbol">}</a> <a id="5818" class="Symbol">â†’</a> <a id="5820" href="UALib.Relations.Equivalences.html#668" class="Record">IsEquivalence</a> <a id="5834" class="Symbol">(</a><a id="5835" href="UALib.Birkhoff.FreeAlgebra.html#4733" class="Function">ÏˆRel</a> <a id="5840" href="UALib.Birkhoff.FreeAlgebra.html#5790" class="Bound">ğ’¦</a><a id="5841" class="Symbol">)</a>
 <a id="5844" href="UALib.Birkhoff.FreeAlgebra.html#5772" class="Function">ÏˆIsEquivalence</a> <a id="5859" class="Symbol">=</a> <a id="5861" class="Keyword">record</a> <a id="5868" class="Symbol">{</a> <a id="5870" href="UALib.Relations.Equivalences.html#736" class="Field">rfl</a> <a id="5874" class="Symbol">=</a> <a id="5876" href="UALib.Birkhoff.FreeAlgebra.html#5465" class="Function">ÏˆRefl</a> <a id="5882" class="Symbol">;</a> <a id="5884" href="UALib.Relations.Equivalences.html#761" class="Field">sym</a> <a id="5888" class="Symbol">=</a> <a id="5890" href="UALib.Birkhoff.FreeAlgebra.html#5551" class="Function">ÏˆSymm</a> <a id="5896" class="Symbol">;</a> <a id="5898" href="UALib.Relations.Equivalences.html#786" class="Field">trans</a> <a id="5904" class="Symbol">=</a> <a id="5906" href="UALib.Birkhoff.FreeAlgebra.html#5654" class="Function">ÏˆTrans</a> <a id="5913" class="Symbol">}</a>

</pre>

We have collected all the pieces necessary to express the collection of identities satisfied by all subalgebras of algebras in the class as a congruence relation of the term algebra. We call this congruence `ÏˆCon` and define it using the Congruence constructor `mkcon`.

<pre class="Agda">

 <a id="the-free-algebra.ÏˆCon"></a><a id="6214" href="UALib.Birkhoff.FreeAlgebra.html#6214" class="Function">ÏˆCon</a> <a id="6219" class="Symbol">:</a> <a id="6221" class="Symbol">(</a><a id="6222" href="UALib.Birkhoff.FreeAlgebra.html#6222" class="Bound">ğ’¦</a> <a id="6224" class="Symbol">:</a> <a id="6226" href="UALib.Relations.Unary.html#1082" class="Function">Pred</a> <a id="6231" class="Symbol">(</a><a id="6232" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a> <a id="6240" href="UALib.Birkhoff.FreeAlgebra.html#2746" class="Bound">ğ“¤</a> <a id="6242" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a><a id="6243" class="Symbol">)</a> <a id="6245" href="UALib.Birkhoff.FreeAlgebra.html#2844" class="Function">ğ“¸ğ“¿ğ“¾</a><a id="6248" class="Symbol">)</a> <a id="6250" class="Symbol">â†’</a> <a id="6252" href="UALib.Relations.Congruences.html#1434" class="Record">Congruence</a> <a id="6263" class="Symbol">(</a><a id="6264" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="6266" href="UALib.Birkhoff.FreeAlgebra.html#2762" class="Bound">X</a><a id="6267" class="Symbol">)</a>
 <a id="6270" href="UALib.Birkhoff.FreeAlgebra.html#6214" class="Function">ÏˆCon</a> <a id="6275" href="UALib.Birkhoff.FreeAlgebra.html#6275" class="Bound">ğ’¦</a> <a id="6277" class="Symbol">=</a> <a id="6279" href="UALib.Relations.Congruences.html#1513" class="InductiveConstructor">mkcon</a> <a id="6285" class="Symbol">(</a><a id="6286" href="UALib.Birkhoff.FreeAlgebra.html#4733" class="Function">ÏˆRel</a> <a id="6291" href="UALib.Birkhoff.FreeAlgebra.html#6275" class="Bound">ğ’¦</a><a id="6292" class="Symbol">)</a> <a id="6294" class="Symbol">(</a><a id="6295" href="UALib.Birkhoff.FreeAlgebra.html#5067" class="Function">Ïˆcompatible</a> <a id="6307" href="UALib.Birkhoff.FreeAlgebra.html#6275" class="Bound">ğ’¦</a><a id="6308" class="Symbol">)</a> <a id="6310" href="UALib.Birkhoff.FreeAlgebra.html#5772" class="Function">ÏˆIsEquivalence</a>

</pre>

--------------------------------------

#### <a id="the-relatively-free-algebra">The relatively free algebra</a>

We will denote the relatively free algebra by ğ”‰ and construct it as the quotient `ğ‘» X â•± (ÏˆCon ğ’¦)`.

<pre class="Agda">

<a id="6566" class="Keyword">module</a> <a id="the-relatively-free-algebra"></a><a id="6573" href="UALib.Birkhoff.FreeAlgebra.html#6573" class="Module">the-relatively-free-algebra</a>
 <a id="6602" class="Symbol">{</a><a id="6603" href="UALib.Birkhoff.FreeAlgebra.html#6603" class="Bound">ğ“¤</a> <a id="6605" href="UALib.Birkhoff.FreeAlgebra.html#6605" class="Bound">ğ“§</a> <a id="6607" class="Symbol">:</a> <a id="6609" href="universes.html#551" class="Postulate">Universe</a><a id="6617" class="Symbol">}{</a><a id="6619" href="UALib.Birkhoff.FreeAlgebra.html#6619" class="Bound">X</a> <a id="6621" class="Symbol">:</a> <a id="6623" href="UALib.Birkhoff.FreeAlgebra.html#6605" class="Bound">ğ“§</a> <a id="6625" href="universes.html#758" class="Function Operator">Ì‡</a><a id="6626" class="Symbol">}</a> <a id="6628" class="Symbol">{</a><a id="6629" href="UALib.Birkhoff.FreeAlgebra.html#6629" class="Bound">ğ’¦</a> <a id="6631" class="Symbol">:</a> <a id="6633" href="UALib.Relations.Unary.html#1082" class="Function">Pred</a> <a id="6638" class="Symbol">(</a><a id="6639" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a> <a id="6647" href="UALib.Birkhoff.FreeAlgebra.html#6603" class="Bound">ğ“¤</a> <a id="6649" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a><a id="6650" class="Symbol">)</a> <a id="6652" class="Symbol">(</a><a id="6653" href="UALib.Relations.Congruences.html#933" class="Function">ov</a> <a id="6656" href="UALib.Birkhoff.FreeAlgebra.html#6603" class="Bound">ğ“¤</a><a id="6657" class="Symbol">)}</a> <a id="6660" class="Keyword">where</a>

 <a id="6668" class="Keyword">open</a> <a id="6673" href="UALib.Birkhoff.FreeAlgebra.html#2728" class="Module">the-free-algebra</a><a id="6689" class="Symbol">{</a><a id="6690" class="Argument">ğ“¤</a> <a id="6692" class="Symbol">=</a> <a id="6694" href="UALib.Birkhoff.FreeAlgebra.html#6603" class="Bound">ğ“¤</a><a id="6695" class="Symbol">}{</a><a id="6697" class="Argument">ğ“§</a> <a id="6699" class="Symbol">=</a> <a id="6701" href="UALib.Birkhoff.FreeAlgebra.html#6605" class="Bound">ğ“§</a><a id="6702" class="Symbol">}{</a><a id="6704" class="Argument">X</a> <a id="6706" class="Symbol">=</a> <a id="6708" href="UALib.Birkhoff.FreeAlgebra.html#6619" class="Bound">X</a><a id="6709" class="Symbol">}</a>

 <a id="the-relatively-free-algebra.ğ“•"></a><a id="6713" href="UALib.Birkhoff.FreeAlgebra.html#6713" class="Function">ğ“•</a> <a id="6715" class="Symbol">:</a> <a id="6717" href="universes.html#551" class="Postulate">Universe</a> <a id="6726" class="Comment">-- (universe level of the relatively free algebra)</a>
 <a id="6778" href="UALib.Birkhoff.FreeAlgebra.html#6713" class="Function">ğ“•</a> <a id="6780" class="Symbol">=</a> <a id="6782" class="Symbol">(</a><a id="6783" href="UALib.Birkhoff.FreeAlgebra.html#6605" class="Bound">ğ“§</a> <a id="6785" href="Agda.Primitive.html#636" class="Function Operator">âŠ”</a> <a id="6787" href="UALib.Relations.Congruences.html#933" class="Function">ov</a> <a id="6790" href="UALib.Birkhoff.FreeAlgebra.html#6603" class="Bound">ğ“¤</a><a id="6791" class="Symbol">)</a> <a id="6793" href="universes.html#527" class="Function Operator">âº</a>

 <a id="the-relatively-free-algebra.ğ”‰"></a><a id="6797" href="UALib.Birkhoff.FreeAlgebra.html#6797" class="Function">ğ”‰</a> <a id="6799" class="Symbol">:</a> <a id="6801" href="UALib.Algebras.Algebras.html#813" class="Function">Algebra</a> <a id="6809" href="UALib.Birkhoff.FreeAlgebra.html#6713" class="Function">ğ“•</a> <a id="6811" href="UALib.Birkhoff.FreeAlgebra.html#2391" class="Bound">ğ‘†</a>
 <a id="6814" href="UALib.Birkhoff.FreeAlgebra.html#6797" class="Function">ğ”‰</a> <a id="6816" class="Symbol">=</a>  <a id="6819" href="UALib.Terms.Free.html#1035" class="Function">ğ‘»</a> <a id="6821" href="UALib.Birkhoff.FreeAlgebra.html#6619" class="Bound">X</a> <a id="6823" href="UALib.Relations.Congruences.html#3638" class="Function Operator">â•±</a> <a id="6825" class="Symbol">(</a><a id="6826" href="UALib.Birkhoff.FreeAlgebra.html#6214" class="Function">ÏˆCon</a> <a id="6831" href="UALib.Birkhoff.FreeAlgebra.html#6629" class="Bound">ğ’¦</a><a id="6832" class="Symbol">)</a>

</pre>

The domain âˆ£ ğ”‰ âˆ£ is defined by `âˆ£ ğ‘» X âˆ£ / âŸ¨ ÏˆCon ğ’¦ âŸ© = Î£ C ê‰ _ ,  Î£ p ê‰ âˆ£ ğ‘» X âˆ£ ,  C â‰¡ ( [ p ] âŸ¨ ÏˆCon ğ’¦ âŸ© )` which is the collection `{ C : âˆƒ p âˆˆ âˆ£ ğ‘» X âˆ£, C â‰¡ [ p ]âŸ¨ ÏˆCon ğ’¦ âŸ© }` of `âŸ¨ ÏˆCon ğ’¦ âŸ©`-classs of `ğ‘» X`.


----------------------------

<span class="footnote"><sup>1</sup>Since `X` is not a subset of ğ”‰, technically it doesn't make sense to say "`X` generates ğ”‰." But as long as ğ’¦ contains a nontrivial algebra, we will have `Ïˆ(ğ’¦, ğ‘» ğ‘‹) âˆ© XÂ² â‰  âˆ…`, and we can identify `X` with `X / Ïˆ(ğ’¦, ğ‘» X)` which does belong to ğ”‰.</span>

[â†‘ UALib.Birkhoff](UALib.Birkhoff.html)
<span style="float:right;">[UALib.Birkhoff.HSPTheorem â†’](UALib.Birkhoff.HSPTheorem.html)</span>

{% include UALib.Links.md %}

<!--

Lemma 4.27. (Bergman) Let ğ’¦ be a class of algebras, and ÏˆCon defined as above.
                     Then ğ”½ := ğ‘» / ÏˆCon is isomorphic to an algebra in SP(ğ’¦).

Proof. ğ”½ â†ª â¨… ğ’œ, where ğ’œ = {ğ‘¨ / Î¸ : ğ‘¨ / Î¸ âˆˆ S ğ’¦}.
       Therefore, ğ”½ â‰… ğ‘©, where ğ‘© is a subalgebra of â¨… ğ’œ âˆˆ PS(ğ’¦).
       Thus ğ”½ is isomorphic to an algebra in SPS(ğ’¦).
       By SPSâŠ†SP, ğ”½ is isomorphic to an algebra in SP(ğ’¦).

-->



